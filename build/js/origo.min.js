!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).origo=t()}}(function(){var define,module,exports;return function t(e,i,n){function r(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var h=i[s]={exports:{}};e[s][0].call(h.exports,function(t){var i=e[s][1][t];return r(i||t)},h,h.exports,t,e,i,n)}return i[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(t,e,i){e.exports={crossDomain:!0,target:"#app-wrapper",svgSpritePath:"css/svg/",svgSprites:["fa-icons.svg","material-icons.svg","miscellaneous.svg","custom.svg"],breakPoints:{xs:[240,320],s:[320,320],m:[500,500],l:[768,500]},breakPointsPrefix:"o-media",defaultControls:[{name:"scaleline"},{name:"zoom"},{name:"rotate"},{name:"attribution"}]}},{}],2:[function(t,e,i){var n={};n.geoposition=t("../src/geoposition"),n.mapmenu=t("../src/mapmenu"),n.print=t("../src/print"),n.sharemap=t("../src/sharemap"),n.legend=t("../src/legend"),n.search=t("../src/search"),n.editor=t("../src/editor"),n.home=t("../src/home"),n.measure=t("../src/measure"),n.about=t("../src/about"),n.scale=t("../src/scale"),n.offline=t("../src/offline"),n.link=t("../src/link"),n.scaleline=t("../src/scaleline"),n.zoom=t("../src/zoom"),n.rotate=t("../src/rotate"),n.attribution=t("../src/attribution"),n.fullscreen=t("../src/fullscreen"),e.exports=n},{"../src/about":101,"../src/attribution":102,"../src/editor":106,"../src/fullscreen":123,"../src/geoposition":127,"../src/home":131,"../src/legend":146,"../src/link":147,"../src/mapmenu":149,"../src/measure":151,"../src/offline":153,"../src/print":169,"../src/rotate":170,"../src/scale":171,"../src/scaleline":172,"../src/search":173,"../src/sharemap":174,"../src/zoom":202}],3:[function(t,e,i){"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i){var n={init:function(e,i){this.$elem=t(i),this.options=t.extend({},t.fn.owlCarousel.options,this.$elem.data(),e),this.userOptions=e,this.loadContent()},loadContent:function(){var e,i=this;"function"==typeof i.options.beforeInit&&i.options.beforeInit.apply(this,[i.$elem]),"string"==typeof i.options.jsonPath?(e=i.options.jsonPath,t.getJSON(e,function(t){var e,n="";if("function"==typeof i.options.jsonSuccess)i.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(n+=t.owl[e].item);i.$elem.html(n)}i.logIn()})):i.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),this.onStartup()},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var t=this;e.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;if(!1!==t.$elem.is(":visible"))return!1;t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),t.checkVisible=e.setInterval(function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var t=this.$elem.hasClass(this.options.baseClass),e=this.$elem.hasClass(this.options.theme);t||this.$elem.addClass(this.options.baseClass),e||this.$elem.addClass(this.options.theme)},updateItems:function(){var e,i;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if((e=t(this.options.responsiveBaseWidth).width())>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),i=0;i<this.options.itemsCustom.length;i+=1)this.options.itemsCustom[i][0]<=e&&(this.options.items=this.options.itemsCustom[i][1]);else e<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),e<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),e<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),e<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),e<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var i,n,r=this;if(!0!==r.options.responsive)return!1;n=t(e).width(),r.resizer=function(){t(e).width()!==n&&(!1!==r.options.autoPlay&&e.clearInterval(r.autoPlayInterval),e.clearTimeout(i),i=e.setTimeout(function(){n=t(e).width(),r.updateVars()},r.options.responsiveRefreshRate))},t(e).resize(r.resizer)},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var e=this,i=0,n=e.itemsAmount-e.options.items;e.$owlItems.each(function(r){var o=t(this);o.css({width:e.itemWidth}).data("owl-item",Number(r)),0!=r%e.options.items&&r!==n||r>n||(i+=1),o.data("owl-roundPages",i)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var t=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=t=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=t),t},min:function(){return 0},loops:function(){var e,i,n=0,r=0;for(this.positionsInArray=[0],this.pagesInArray=[],e=0;e<this.itemsAmount;e+=1)r+=this.itemWidth,this.positionsInArray.push(-r),!0===this.options.scrollPerPage&&(i=t(this.$owlItems[e]),(i=i.data("owl-roundPages"))!==n&&(this.pagesInArray[n]=this.positionsInArray[e],n=i))},buildControls:function(){!0!==this.options.navigation&&!0!==this.options.pagination||(this.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var e=this,i=t('<div class="owl-buttons"/>');e.owlControls.append(i),e.buttonPrev=t("<div/>",{class:"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{class:"owl-next",html:e.options.navigationText[1]||""}),i.append(e.buttonPrev).append(e.buttonNext),i.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(t){t.preventDefault()}),i.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(i){i.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(i){i.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)})},updatePagination:function(){var e,i,n,r,o,s;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),e=0,i=this.itemsAmount-this.itemsAmount%this.options.items,r=0;r<this.itemsAmount;r+=1)0==r%this.options.items&&(e+=1,i===r&&(n=this.itemsAmount-this.options.items),o=t("<div/>",{class:"owl-page"}),s=t("<span></span>",{text:!0===this.options.paginationNumbers?e:"",class:!0===this.options.paginationNumbers?"owl-numbers":""}),o.append(s),o.data("owl-page",i===r?n:r),o.data("owl-roundPages",e),this.paginationWrapper.append(o));this.checkPagination()},checkPagination:function(){var e=this;if(!1===e.options.pagination)return!1;e.paginationWrapper.find(".owl-page").each(function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(t){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,t="rewind"}this.goTo(this.currentItem,t)},prev:function(t){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,t="rewind"}this.goTo(this.currentItem,t)},goTo:function(t,i,n){var r=this;return!r.isTransition&&("function"==typeof r.options.beforeMove&&r.options.beforeMove.apply(this,[r.$elem]),t>=r.maximumItem?t=r.maximumItem:0>=t&&(t=0),r.currentItem=r.owl.currentItem=t,!1!==r.options.transitionStyle&&"drag"!==n&&1===r.options.items&&!0===r.browser.support3d?(r.swapSpeed(0),!0===r.browser.support3d?r.transition3d(r.positionsInArray[t]):r.css2slide(r.positionsInArray[t],1),r.afterGo(),r.singleItemTransition(),!1):(t=r.positionsInArray[t],!0===r.browser.support3d?(r.isCss3Finish=!1,!0===i?(r.swapSpeed("paginationSpeed"),e.setTimeout(function(){r.isCss3Finish=!0},r.options.paginationSpeed)):"rewind"===i?(r.swapSpeed(r.options.rewindSpeed),e.setTimeout(function(){r.isCss3Finish=!0},r.options.rewindSpeed)):(r.swapSpeed("slideSpeed"),e.setTimeout(function(){r.isCss3Finish=!0},r.options.slideSpeed)),r.transition3d(t)):!0===i?r.css2slide(t,r.options.paginationSpeed):"rewind"===i?r.css2slide(t,r.options.rewindSpeed):r.css2slide(t,r.options.slideSpeed),void r.afterGo()))},jumpTo:function(t){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),t>=this.maximumItem||-1===t?t=this.maximumItem:0>=t&&(t=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[t]):this.css2slide(this.positionsInArray[t],1),this.currentItem=this.owl.currentItem=t,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",e.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var t=this;if(t.apStatus="play",!1===t.options.autoPlay)return!1;e.clearInterval(t.autoPlayInterval),t.autoPlayInterval=e.setInterval(function(){t.next(!0)},t.options.autoPlay)},swapSpeed:function(t){"slideSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof t&&this.$owlWrapper.css(this.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){this.$owlWrapper.css(this.doTranslate(t))},css2move:function(t){this.$owlWrapper.css({left:t})},css2slide:function(t,e){var i=this;i.isCssFinish=!1,i.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||i.options.slideSpeed,complete:function(){i.isCssFinish=!0}})},checkBrowser:function(){var t=i.createElement("div");t.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",t=t.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==t&&1===t.length,isTouch:"ontouchstart"in e||e.navigator.msMaxTouchPoints}},moveEvents:function(){!1===this.options.mouseDrag&&!1===this.options.touchDrag||(this.gestures(),this.disabledEvents())},eventTypes:function(){var t=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=t[0],this.ev_types.move=t[1],this.ev_types.end=t[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(t){t.preventDefault()}),this.$elem.on("mousedown.disableTextSelect",function(e){return t(e.target).is("input, textarea, select, option")})},gestures:function(){function n(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function r(e){"on"===e?(t(i).on(a.ev_types.move,o),t(i).on(a.ev_types.end,s)):"off"===e&&(t(i).off(a.ev_types.move),t(i).off(a.ev_types.end))}function o(r){r=r.originalEvent||r||e.event,a.newPosX=n(r).x-l.offsetX,a.newPosY=n(r).y-l.offsetY,a.newRelativeX=a.newPosX-l.relativePos,"function"==typeof a.options.startDragging&&!0!==l.dragging&&0!==a.newRelativeX&&(l.dragging=!0,a.options.startDragging.apply(a,[a.$elem])),(8<a.newRelativeX||-8>a.newRelativeX)&&!0===a.browser.isTouch&&(void 0!==r.preventDefault?r.preventDefault():r.returnValue=!1,l.sliding=!0),(10<a.newPosY||-10>a.newPosY)&&!1===l.sliding&&t(i).off("touchmove.owl"),a.newPosX=Math.max(Math.min(a.newPosX,a.newRelativeX/5),a.maximumPixels+a.newRelativeX/5),!0===a.browser.support3d?a.transition3d(a.newPosX):a.css2move(a.newPosX)}function s(i){var n;(i=i.originalEvent||i||e.event).target=i.target||i.srcElement,l.dragging=!1,!0!==a.browser.isTouch&&a.$owlWrapper.removeClass("grabbing"),a.dragDirection=0>a.newRelativeX?a.owl.dragDirection="left":a.owl.dragDirection="right",0!==a.newRelativeX&&(n=a.getNewPosition(),a.goTo(n,!1,"drag"),l.targetElement===i.target&&!0!==a.browser.isTouch&&(t(i.target).on("click.disable",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")}),i=t._data(i.target,"events").click,n=i.pop(),i.splice(0,0,n))),r("off")}var a=this,l={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};a.isCssFinish=!0,a.$elem.on(a.ev_types.start,".owl-wrapper",function(i){var o;if(3===(i=i.originalEvent||i||e.event).which)return!1;if(!(a.itemsAmount<=a.options.items)){if(!1===a.isCssFinish&&!a.options.dragBeforeAnimFinish||!1===a.isCss3Finish&&!a.options.dragBeforeAnimFinish)return!1;!1!==a.options.autoPlay&&e.clearInterval(a.autoPlayInterval),!0===a.browser.isTouch||a.$owlWrapper.hasClass("grabbing")||a.$owlWrapper.addClass("grabbing"),a.newPosX=0,a.newRelativeX=0,t(this).css(a.removeTransition()),o=t(this).position(),l.relativePos=o.left,l.offsetX=n(i).x-o.left,l.offsetY=n(i).y-o.top,r("on"),l.sliding=!1,l.targetElement=i.target||i.srcElement}})},getNewPosition:function(){var t=this.closestItem();return t>this.maximumItem?t=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=t=0),t},closestItem:function(){var e=this,i=!0===e.options.scrollPerPage?e.pagesInArray:e.positionsInArray,n=e.newPosX,r=null;return t.each(i,function(o,s){n-e.itemWidth/20>i[o+1]&&n-e.itemWidth/20<s&&"left"===e.moveDirection()?(r=s,e.currentItem=!0===e.options.scrollPerPage?t.inArray(r,e.positionsInArray):o):n+e.itemWidth/20<s&&n+e.itemWidth/20>(i[o+1]||i[o]-e.itemWidth)&&"right"===e.moveDirection()&&(!0===e.options.scrollPerPage?(r=i[o+1]||i[i.length-1],e.currentItem=t.inArray(r,e.positionsInArray)):(r=i[o+1],e.currentItem=o+1))}),e.currentItem},moveDirection:function(){var t;return 0>this.newRelativeX?(t="right",this.playDirection="next"):(t="left",this.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",function(){t.next()}),t.$elem.on("owl.prev",function(){t.prev()}),t.$elem.on("owl.play",function(e,i){t.options.autoPlay=i,t.play(),t.hoverStatus="play"}),t.$elem.on("owl.stop",function(){t.stop(),t.hoverStatus="stop"}),t.$elem.on("owl.goTo",function(e,i){t.goTo(i)}),t.$elem.on("owl.jumpTo",function(e,i){t.jumpTo(i)})},stopOnHover:function(){var t=this;!0===t.options.stopOnHover&&!0!==t.browser.isTouch&&!1!==t.options.autoPlay&&(t.$elem.on("mouseover",function(){t.stop()}),t.$elem.on("mouseout",function(){"stop"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var e,i,n,r;if(!1===this.options.lazyLoad)return!1;for(e=0;e<this.itemsAmount;e+=1)"loaded"!==(i=t(this.$owlItems[e])).data("owl-loaded")&&(n=i.data("owl-item"),"string"!=typeof(r=i.find(".lazyOwl")).data("src")?i.data("owl-loaded","loaded"):(void 0===i.data("owl-loaded")&&(r.hide(),i.addClass("loading").data("owl-loaded","checked")),(!0!==this.options.lazyFollow||n>=this.currentItem)&&n<this.currentItem+this.options.items&&r.length&&this.lazyPreload(i,r)))},lazyPreload:function(t,i){function n(){t.data("owl-loaded","loaded").removeClass("loading"),i.removeAttr("data-src"),"fade"===s.options.lazyEffect?i.fadeIn(400):i.show(),"function"==typeof s.options.afterLazyLoad&&s.options.afterLazyLoad.apply(this,[s.$elem])}function r(){a+=1,s.completeImg(i.get(0))||!0===o?n():100>=a?e.setTimeout(r,100):n()}var o,s=this,a=0;"DIV"===i.prop("tagName")?(i.css("background-image","url("+i.data("src")+")"),o=!0):i[0].src=i.data("src"),r()},autoHeight:function(){function i(){var i=t(o.$owlItems[o.currentItem]).height();o.wrapperOuter.css("height",i+"px"),o.wrapperOuter.hasClass("autoHeight")||e.setTimeout(function(){o.wrapperOuter.addClass("autoHeight")},0)}function n(){r+=1,o.completeImg(s.get(0))?i():100>=r?e.setTimeout(n,100):o.wrapperOuter.css("height","")}var r,o=this,s=t(o.$owlItems[o.currentItem]).find("img");void 0!==s.get(0)?(r=0,n()):i()},completeImg:function(t){return!(!t.complete||void 0!==t.naturalWidth&&0===t.naturalWidth)},onVisibleItems:function(){var e;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],e=this.currentItem;e<this.currentItem+this.options.items;e+=1)this.visibleItems.push(e),!0===this.options.addClassActive&&t(this.$owlItems[e]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(t){this.outClass="owl-"+t+"-out",this.inClass="owl-"+t+"-in"},singleItemTransition:function(){var t=this,e=t.outClass,i=t.inClass,n=t.$owlItems.eq(t.currentItem),r=t.$owlItems.eq(t.prevItem),o=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],s=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2;t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":s+"px","-moz-perspective-origin":s+"px","perspective-origin":s+"px"}),r.css({position:"relative",left:o+"px"}).addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endPrev=!0,r.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(r,e)}),n.addClass(i).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endCurrent=!0,n.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(n,i)})},clearTransStyle:function(t,e){t.css({position:"",left:""}).removeClass(e),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),t(i).off(".owl owl"),t(e).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),e.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(e){e=t.extend({},this.userOptions,e),this.unWrap(),this.init(e,this.$elem)},addItem:function(t,e){var i;return!!t&&(0===this.$elem.children().length?(this.$elem.append(t),this.setVars(),!1):(this.unWrap(),(i=void 0===e||-1===e?-1:e)>=this.$userItems.length||-1===i?this.$userItems.eq(-1).after(t):this.$userItems.eq(i).before(t),void this.setVars()))},removeItem:function(t){if(0===this.$elem.children().length)return!1;t=void 0===t||-1===t?-1:t,this.unWrap(),this.$userItems.eq(t).remove(),this.setVars()}};t.fn.owlCarousel=function(e){return this.each(function(){if(!0===t(this).data("owl-init"))return!1;t(this).data("owl-init",!0);var i=Object.create(n);i.init(e,this),t.data(this,"owlCarousel",i)})},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document)},{}],4:[function(t,e,i){e.exports={loadjQueryPlugin:function(){t("./owl.carousel.min.js")}}},{"./owl.carousel.min.js":3}],5:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(){var t=new s.HandlebarsEnvironment;return u.extend(t,s),t.SafeString=a.default,t.Exception=l.default,t.Utils=u,t.escapeExpression=u.escapeExpression,t.VM=h,t.template=function(e){return h.template(e,t)},t}i.__esModule=!0;var s=r(t("./handlebars/base")),a=n(t("./handlebars/safe-string")),l=n(t("./handlebars/exception")),u=r(t("./handlebars/utils")),h=r(t("./handlebars/runtime")),c=n(t("./handlebars/no-conflict")),f=o();f.create=o,c.default(f),f.default=f,i.default=f,e.exports=i.default},{"./handlebars/base":6,"./handlebars/exception":9,"./handlebars/no-conflict":19,"./handlebars/runtime":20,"./handlebars/safe-string":21,"./handlebars/utils":22}],6:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}i.__esModule=!0,i.HandlebarsEnvironment=r;var o=t("./utils"),s=n(t("./exception")),a=t("./helpers"),l=t("./decorators"),u=n(t("./logger"));i.VERSION="4.0.5";i.COMPILER_REVISION=7;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};i.REVISION_CHANGES=h;r.prototype={constructor:r,logger:u.default,log:u.default.log,registerHelper:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple helpers");o.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===o.toString.call(t))o.extend(this.partials,t);else{if(void 0===e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===o.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple decorators");o.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var c=u.default.log;i.log=c,i.createFrame=o.createFrame,i.logger=u.default},{"./decorators":7,"./exception":9,"./helpers":10,"./logger":18,"./utils":22}],7:[function(t,e,i){"use strict";i.__esModule=!0,i.registerDefaultDecorators=function(t){n.default(t)};var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./decorators/inline"))},{"./decorators/inline":8}],8:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerDecorator("inline",function(t,e,i,r){var o=t;return e.partials||(e.partials={},o=function(r,o){var s=i.partials;i.partials=n.extend({},s,e.partials);var a=t(r,o);return i.partials=s,a}),e.partials[r.args[0]]=r.fn,o})},e.exports=i.default},{"../utils":22}],9:[function(t,e,i){"use strict";function n(t,e){var i=e&&e.loc,o=void 0,s=void 0;i&&(t+=" - "+(o=i.start.line)+":"+(s=i.start.column));for(var a=Error.prototype.constructor.call(this,t),l=0;l<r.length;l++)this[r[l]]=a[r[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=o,this.column=s)}i.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,i.default=n,e.exports=i.default},{}],10:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.registerDefaultHelpers=function(t){r.default(t),o.default(t),s.default(t),a.default(t),l.default(t),u.default(t),h.default(t)};var r=n(t("./helpers/block-helper-missing")),o=n(t("./helpers/each")),s=n(t("./helpers/helper-missing")),a=n(t("./helpers/if")),l=n(t("./helpers/log")),u=n(t("./helpers/lookup")),h=n(t("./helpers/with"))},{"./helpers/block-helper-missing":11,"./helpers/each":12,"./helpers/helper-missing":13,"./helpers/if":14,"./helpers/log":15,"./helpers/lookup":16,"./helpers/with":17}],11:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerHelper("blockHelperMissing",function(e,i){var r=i.inverse,o=i.fn;if(!0===e)return o(this);if(!1===e||null==e)return r(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):r(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return o(e,i)})},e.exports=i.default},{"../utils":22}],12:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils"),r=function(t){return t&&t.__esModule?t:{default:t}}(t("../exception"));i.default=function(t){t.registerHelper("each",function(t,e){function i(e,i,r){u&&(u.key=e,u.index=i,u.first=0===i,u.last=!!r,h&&(u.contextPath=h+e)),l+=o(t[e],{data:u,blockParams:n.blockParams([t[e],e],[h+e,null])})}if(!e)throw new r.default("Must pass iterator to #each");var o=e.fn,s=e.inverse,a=0,l="",u=void 0,h=void 0;if(e.data&&e.ids&&(h=n.appendContextPath(e.data.contextPath,e.ids[0])+"."),n.isFunction(t)&&(t=t.call(this)),e.data&&(u=n.createFrame(e.data)),t&&"object"==typeof t)if(n.isArray(t))for(var c=t.length;a<c;a++)a in t&&i(a,a,a===t.length-1);else{var f=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==f&&i(f,a-1),f=p,a++);void 0!==f&&i(f,a-1,!0)}return 0===a&&(l=s(this)),l})},e.exports=i.default},{"../exception":9,"../utils":22}],13:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("../exception"));i.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new n.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=i.default},{"../exception":9}],14:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers.if.call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},e.exports=i.default},{"../utils":22}],15:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var r=1;null!=i.hash.level?r=i.hash.level:i.data&&null!=i.data.level&&(r=i.data.level),e[0]=r,t.log.apply(t,e)})},e.exports=i.default},{}],16:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},e.exports=i.default},{}],17:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=n.createFrame(e.data)).contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:r,blockParams:n.blockParams([t],[r&&r.contextPath])})})},e.exports=i.default},{"../utils":22}],18:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("./utils"),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];console[e].apply(console,n)}}};i.default=r,e.exports=i.default},{"./utils":22}],19:[function(t,e,i){(function(t){"use strict";i.__esModule=!0,i.default=function(e){var i=void 0!==t?t:window,n=i.Handlebars;e.noConflict=function(){return i.Handlebars===e&&(i.Handlebars=n),e}},e.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,i){"use strict";function n(t,e,i,n,r,o,a){function l(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&e!==a[0]&&(s=[e].concat(a)),i(t,e,t.helpers,t.partials,r.data||n,o&&[r.blockParams].concat(o),s)}return l=s(i,l,t,a,n,o),l.program=e,l.depth=a?a.length:0,l.blockParams=r||0,l}function r(){return""}function o(t,e){return e&&"root"in e||((e=e?u.createFrame(e):{}).root=t),e}function s(t,e,i,n,r,o){if(t.decorator){var s={};e=t.decorator(e,s,i,n&&n[0],r,o,n),a.extend(e,s)}return e}i.__esModule=!0,i.checkRevision=function(t){var e=t&&t[0]||1,i=u.COMPILER_REVISION;if(e!==i){if(e<i){var n=u.REVISION_CHANGES[i],r=u.REVISION_CHANGES[e];throw new l.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new l.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},i.template=function(t,e){function i(e){function n(e){return""+t.main(r,e,r.helpers,r.partials,l,h,u)}var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=a.data;i._setup(a),!a.partial&&t.useData&&(l=o(e,l));var u=void 0,h=t.useBlockParams?[]:void 0;return t.useDepths&&(u=a.depths?e!==a.depths[0]?[e].concat(a.depths):a.depths:[e]),(n=s(t.main,n,r,a.depths||[],l,h))(e,a)}if(!e)throw new l.default("No environment passed to template");if(!t||!t.main)throw new l.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new l.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:a.escapeExpression,invokePartial:function(i,n,r){r.hash&&(n=a.extend({},n,r.hash),r.ids&&(r.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,r);var o=e.VM.invokePartial.call(this,i,n,r);if(null==o&&e.compile&&(r.partials[r.name]=e.compile(i,t.compilerOptions,e),o=r.partials[r.name](n,r)),null!=o){if(r.indent){for(var s=o.split("\n"),u=0,h=s.length;u<h&&(s[u]||u+1!==h);u++)s[u]=r.indent+s[u];o=s.join("\n")}return o}throw new l.default("The partial "+r.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,r,o){var s=this.programs[t],a=this.fn(t);return e||o||r||i?s=n(this,t,a,e,i,r,o):s||(s=this.programs[t]=n(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=a.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(i){i.partial?(r.helpers=i.helpers,r.partials=i.partials,r.decorators=i.decorators):(r.helpers=r.merge(i.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(i.decorators,e.decorators)))},i._child=function(e,i,o,s){if(t.useBlockParams&&!o)throw new l.default("must pass block params");if(t.useDepths&&!s)throw new l.default("must pass parent depths");return n(r,e,t[e],i,0,o,s)},i},i.wrapProgram=n,i.resolvePartial=function(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t},i.invokePartial=function(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==r&&(i.data=u.createFrame(i.data),(n=i.data["partial-block"]=i.fn).partials&&(i.partials=a.extend({},i.partials,n.partials))),void 0===t&&n&&(t=n),void 0===t)throw new l.default("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)},i.noop=r;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./utils")),l=function(t){return t&&t.__esModule?t:{default:t}}(t("./exception")),u=t("./base")},{"./base":6,"./exception":9,"./utils":22}],21:[function(t,e,i){"use strict";function n(t){this.string=t}i.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},i.default=n,e.exports=i.default},{}],22:[function(t,e,i){"use strict";function n(t){return o[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}i.__esModule=!0,i.extend=r,i.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},i.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return a.test(t)?t.replace(s,n):t},i.isEmpty=function(t){return!t&&0!==t||!(!h(t)||0!==t.length)},i.createFrame=function(t){var e=r({},t);return e._parent=t,e},i.blockParams=function(t,e){return t.path=e,t},i.appendContextPath=function(t,e){return(t?t+".":"")+e};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},s=/[&<>"'`=]/g,a=/[&<>"'`=]/,l=Object.prototype.toString;i.toString=l;var u=function(t){return"function"==typeof t};u(/x/)&&(i.isFunction=u=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),i.isFunction=u;var h=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};i.isArray=h},{}],23:[function(t,e,i){e.exports=t("./dist/cjs/handlebars.runtime").default},{"./dist/cjs/handlebars.runtime":5}],24:[function(t,e,i){e.exports=t("handlebars/runtime").default},{"handlebars/runtime":23}],25:[function(t,e,i){!function(t,i){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e="length"in t&&t.length,i=Z.type(t);return"function"!==i&&!Z.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}function n(t,e,i){if(Z.isFunction(e))return Z.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return Z.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(ot.test(e))return Z.filter(e,t,i);e=Z.filter(e,t)}return Z.grep(t,function(t){return V.call(e,t)>=0!==i})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=ct[t]={};return Z.each(t.match(ht)||[],function(t,i){e[i]=!0}),e}function s(){J.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),Z.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Z.expando+a.uid++}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(vt,"-$1").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:mt.test(i)?Z.parseJSON(i):i)}catch(t){}gt.set(t,e,i)}else i=void 0;return i}function u(){return!0}function h(){return!1}function c(){try{return J.activeElement}catch(t){}}function f(t,e){return Z.nodeName(t,"table")&&Z.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function d(t){var e=Et.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i=0,n=t.length;i<n;i++)dt.set(t[i],"globalEval",!e||dt.get(e[i],"globalEval"))}function m(t,e){var i,n,r,o,s,a,l,u;if(1===e.nodeType){if(dt.hasData(t)&&(o=dt.access(t),s=dt.set(e,o),u=o.events)){delete s.handle,s.events={};for(r in u)for(i=0,n=u[r].length;i<n;i++)Z.event.add(e,r,u[r][i])}gt.hasData(t)&&(a=gt.access(t),l=Z.extend({},a),gt.set(e,l))}}function v(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Z.nodeName(t,e)?Z.merge([t],i):i}function y(t,e){var i=e.nodeName.toLowerCase();"input"===i&&xt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function b(e,i){var n,r=Z(i.createElement(e)).appendTo(i.body),o=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(r[0]))?n.display:Z.css(r[0],"display");return r.detach(),o}function w(t){var e=J,i=Dt[t];return i||("none"!==(i=b(t,e))&&i||((e=(Ot=(Ot||Z("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),i=b(t,e),Ot.detach()),Dt[t]=i),i}function x(t,e,i){var n,r,o,s,a=t.style;return(i=i||Ft(t))&&(s=i.getPropertyValue(e)||i[e]),i&&(""!==s||Z.contains(t.ownerDocument,t)||(s=Z.style(t,e)),qt.test(s)&&Rt.test(e)&&(n=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function M(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function S(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,r=Vt.length;r--;)if((e=Vt[r]+i)in t)return e;return n}function C(t,e,i){var n=Bt.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function k(t,e,i,n,r){for(var o=i===(n?"border":"content")?4:"width"===e?1:0,s=0;o<4;o+=2)"margin"===i&&(s+=Z.css(t,i+bt[o],!0,r)),n?("content"===i&&(s-=Z.css(t,"padding"+bt[o],!0,r)),"margin"!==i&&(s-=Z.css(t,"border"+bt[o]+"Width",!0,r))):(s+=Z.css(t,"padding"+bt[o],!0,r),"padding"!==i&&(s+=Z.css(t,"border"+bt[o]+"Width",!0,r)));return s}function j(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=Ft(t),s="border-box"===Z.css(t,"boxSizing",!1,o);if(r<=0||null==r){if(((r=x(t,e,o))<0||null==r)&&(r=t.style[e]),qt.test(r))return r;n=s&&(Y.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+k(t,e,i||(s?"border":"content"),n,o)+"px"}function P(t,e){for(var i,n,r,o=[],s=0,a=t.length;s<a;s++)(n=t[s]).style&&(o[s]=dt.get(n,"olddisplay"),i=n.style.display,e?(o[s]||"none"!==i||(n.style.display=""),""===n.style.display&&wt(n)&&(o[s]=dt.access(n,"olddisplay",w(n.nodeName)))):(r=wt(n),"none"===i&&r||dt.set(n,"olddisplay",r?i:Z.css(n,"display"))));for(s=0;s<a;s++)(n=t[s]).style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?o[s]||"":"none"));return t}function T(t,e,i,n,r){return new T.prototype.init(t,e,i,n,r)}function _(){return setTimeout(function(){Xt=void 0}),Xt=Z.now()}function A(t,e){var i,n=0,r={height:t};for(e=e?1:0;n<4;n+=2-e)r["margin"+(i=bt[n])]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function I(t,e,i){for(var n,r=(Kt[e]||[]).concat(Kt["*"]),o=0,s=r.length;o<s;o++)if(n=r[o].call(i,e,t))return n}function E(t,e){var i,n,r,o,s;for(i in t)if(n=Z.camelCase(i),r=e[n],o=t[i],Z.isArray(o)&&(r=o[1],o=t[i]=o[0]),i!==n&&(t[n]=o,delete t[i]),(s=Z.cssHooks[n])&&"expand"in s){o=s.expand(o),delete t[n];for(i in o)i in t||(t[i]=o[i],e[i]=r)}else e[n]=r}function N(t,e,i){var n,r,o=0,s=Zt.length,a=Z.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Xt||_(),i=Math.max(0,u.startTime+u.duration-e),n=1-(i/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(n);return a.notifyWith(t,[u,n,i]),n<1&&s?i:(a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:Z.extend({},e),opts:Z.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Xt||_(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Z.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(r)return this;for(r=!0;i<n;i++)u.tweens[i].run(1);return e?a.resolveWith(t,[u,e]):a.rejectWith(t,[u,e]),this}}),h=u.props;for(E(h,u.opts.specialEasing);o<s;o++)if(n=Zt[o].call(u,t,h,u.opts))return n;return Z.map(h,I,u),Z.isFunction(u.opts.start)&&u.opts.start.call(t,u),Z.fx.timer(Z.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,o=e.toLowerCase().match(ht)||[];if(Z.isFunction(i))for(;n=o[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function O(t,e,i,n){function r(a){var l;return o[a]=!0,Z.each(t[a]||[],function(t,a){var u=a(e,i,n);return"string"!=typeof u||s||o[u]?s?!(l=u):void 0:(e.dataTypes.unshift(u),r(u),!1)}),l}var o={},s=t===de;return r(e.dataTypes[0])||!o["*"]&&r("*")}function D(t,e){var i,n,r=Z.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&Z.extend(!0,t,n),t}function R(t,e,i){for(var n,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),i[o]}function q(t,e,i,n){var r,o,s,a,l,u={},h=t.dataTypes.slice();if(h[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=h.shift();o;)if(t.responseFields[o]&&(i[t.responseFields[o]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function F(t,e,i,n){var r;if(Z.isArray(e))Z.each(e,function(e,r){i||be.test(t)?n(t,r):F(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==Z.type(e))n(t,e);else for(r in e)F(t+"["+r+"]",e[r],i,n)}function z(t){return Z.isWindow(t)?t:9===t.nodeType&&t.defaultView}var B=[],G=B.slice,U=B.concat,W=B.push,V=B.indexOf,X={},H=X.toString,$=X.hasOwnProperty,Y={},J=t.document,Z=function(t,e){return new Z.fn.init(t,e)},K=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Q=/^-ms-/,tt=/-([\da-z])/gi,et=function(t,e){return e.toUpperCase()};Z.fn=Z.prototype={jquery:"2.1.4",constructor:Z,selector:"",length:0,toArray:function(){return G.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:G.call(this)},pushStack:function(t){var e=Z.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Z.each(this,t,e)},map:function(t){return this.pushStack(Z.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(G.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:B.sort,splice:B.splice},Z.extend=Z.fn.extend=function(){var t,e,i,n,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||Z.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],s!==(n=t[e])&&(u&&n&&(Z.isPlainObject(n)||(r=Z.isArray(n)))?(r?(r=!1,o=i&&Z.isArray(i)?i:[]):o=i&&Z.isPlainObject(i)?i:{},s[e]=Z.extend(u,o,n)):void 0!==n&&(s[e]=n));return s},Z.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Z.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Z.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===Z.type(t)&&!t.nodeType&&!Z.isWindow(t)&&!(t.constructor&&!$.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?X[H.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=Z.trim(t))&&(1===t.indexOf("use strict")?((e=J.createElement("script")).text=t,J.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(Q,"ms-").replace(tt,et)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r=0,o=t.length,s=i(t);if(n){if(s)for(;r<o&&!1!==e.apply(t[r],n);r++);else for(r in t)if(!1===e.apply(t[r],n))break}else if(s)for(;r<o&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},trim:function(t){return null==t?"":(t+"").replace(K,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Z.merge(n,"string"==typeof t?[t]:t):W.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:V.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;n<i;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n=[],r=0,o=t.length,s=!i;r<o;r++)!e(t[r],r)!==s&&n.push(t[r]);return n},map:function(t,e,n){var r,o=0,s=t.length,a=[];if(i(t))for(;o<s;o++)null!=(r=e(t[o],o,n))&&a.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&a.push(r);return U.apply([],a)},guid:1,proxy:function(t,e){var i,n,r;if("string"==typeof e&&(i=t[e],e=t,t=i),Z.isFunction(t))return n=G.call(arguments,2),r=function(){return t.apply(e||this,n.concat(G.call(arguments)))},r.guid=t.guid=t.guid||Z.guid++,r},now:Date.now,support:Y}),Z.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()});var it=function(t){function e(t,e,i,n){var r,o,s,a,u,c,f,p,d,g;if((e?e.ownerDocument||e:q)!==A&&_(e),e=e||A,i=i||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return i;if(!n&&E){if(11!==a&&(r=mt.exec(t)))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return i;if(o.id===s)return i.push(o),i}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&D(e,o)&&o.id===s)return i.push(o),i}else{if(r[2])return J.apply(i,e.getElementsByTagName(t)),i;if((s=r[3])&&b.getElementsByClassName)return J.apply(i,e.getElementsByClassName(s)),i}if(b.qsa&&(!N||!N.test(t))){if(p=f=R,d=e,g=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(f=e.getAttribute("id"))?p=f.replace(yt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",u=c.length;u--;)c[u]=p+h(c[u]);d=vt.test(t)&&l(e.parentNode)||e,g=c.join(",")}if(g)try{return J.apply(i,d.querySelectorAll(g)),i}catch(t){}finally{f||e.removeAttribute("id")}}}return k(t.replace(st,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[R]=!0,t}function r(t){var e=A.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var i=t.split("|"),n=t.length;n--;)w.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return n(function(e){return e=+e,n(function(i,n){for(var r,o=t([],i.length,e),s=o.length;s--;)i[r=o[s]]&&(i[r]=!(n[r]=i[r]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function u(){}function h(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function c(t,e,i){var n=e.dir,r=i&&"parentNode"===n,o=z++;return e.first?function(e,i,o){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,o)}:function(e,i,s){var a,l,u=[F,o];if(s){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(l=e[R]||(e[R]={}),(a=l[n])&&a[0]===F&&a[1]===o)return u[2]=a[2];if(l[n]=u,u[2]=t(e,i,s))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var r=0,o=i.length;r<o;r++)e(t,i[r],n);return n}function d(t,e,i,n,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(i&&!i(o,n,r)||(s.push(o),u&&e.push(a)));return s}function g(t,e,i,r,o,s){return r&&!r[R]&&(r=g(r)),o&&!o[R]&&(o=g(o,s)),n(function(n,s,a,l){var u,h,c,f=[],g=[],m=s.length,v=n||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:d(v,f,t,a,l),b=i?o||(n?t:m||r)?[]:s:y;if(i&&i(y,b,a,l),r)for(u=d(b,g),r(u,[],a,l),h=u.length;h--;)(c=u[h])&&(b[g[h]]=!(y[g[h]]=c));if(n){if(o||t){if(o){for(u=[],h=b.length;h--;)(c=b[h])&&u.push(y[h]=c);o(null,b=[],u,l)}for(h=b.length;h--;)(c=b[h])&&(u=o?K(n,c):f[h])>-1&&(n[u]=!(s[u]=c))}}else b=d(b===s?b.splice(m,b.length):b),o?o(null,s,b,l):J.apply(s,b)})}function m(t){for(var e,i,n,r=t.length,o=w.relative[t[0].type],s=o||w.relative[" "],a=o?1:0,l=c(function(t){return t===e},s,!0),u=c(function(t){return K(e,t)>-1},s,!0),p=[function(t,i,n){var r=!o&&(n||i!==j)||((e=i).nodeType?l(t,i,n):u(t,i,n));return e=null,r}];a<r;a++)if(i=w.relative[t[a].type])p=[c(f(p),i)];else{if((i=w.filter[t[a].type].apply(null,t[a].matches))[R]){for(n=++a;n<r&&!w.relative[t[n].type];n++);return g(a>1&&f(p),a>1&&h(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),i,a<n&&m(t.slice(a,n)),n<r&&m(t=t.slice(n)),n<r&&h(t))}p.push(i)}return f(p)}function v(t,i){var r=i.length>0,o=t.length>0,s=function(n,s,a,l,u){var h,c,f,p=0,g="0",m=n&&[],v=[],y=j,b=n||o&&w.find.TAG("*",u),x=F+=null==y?1:Math.random()||.1,M=b.length;for(u&&(j=s!==A&&s);g!==M&&null!=(h=b[g]);g++){if(o&&h){for(c=0;f=t[c++];)if(f(h,s,a)){l.push(h);break}u&&(F=x)}r&&((h=!f&&h)&&p--,n&&m.push(h))}if(p+=g,r&&g!==p){for(c=0;f=i[c++];)f(m,v,s,a);if(n){if(p>0)for(;g--;)m[g]||v[g]||(v[g]=$.call(l));v=d(v)}J.apply(l,v),u&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(l)}return u&&(F=x,j=y),m};return r?n(s):s}var y,b,w,x,M,S,C,k,j,P,T,_,A,I,E,N,L,O,D,R="sizzle"+1*new Date,q=t.document,F=0,z=0,B=i(),G=i(),U=i(),W=function(t,e){return t===e&&(T=!0),0},V=1<<31,X={}.hasOwnProperty,H=[],$=H.pop,Y=H.push,J=H.push,Z=H.slice,K=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=et.replace("w","w#"),nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+tt+"*\\]",rt=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",ot=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),lt=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ut=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ht=new RegExp(rt),ct=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+rt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,mt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,vt=/[+~]/,yt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),wt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=function(){_()};try{J.apply(H=Z.call(q.childNodes),q.childNodes),H[q.childNodes.length].nodeType}catch(t){J={apply:H.length?function(t,e){Y.apply(t,Z.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}b=e.support={},M=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},_=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==A&&9===n.nodeType&&n.documentElement?(A=n,I=n.documentElement,(i=n.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),E=!M(n),b.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(n.getElementsByClassName),b.getById=r(function(t){return I.appendChild(t).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),b.getById?(w.find.ID=function(t,e){if(void 0!==e.getElementById&&E){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;i=o[r++];)1===i.nodeType&&n.push(i);return n}return o},w.find.CLASS=b.getElementsByClassName&&function(t,e){if(E)return e.getElementsByClassName(t)},L=[],N=[],(b.qsa=gt.test(n.querySelectorAll))&&(r(function(t){I.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&N.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||N.push("\\["+tt+"*(?:value|"+Q+")"),t.querySelectorAll("[id~="+R+"-]").length||N.push("~="),t.querySelectorAll(":checked").length||N.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||N.push(".#.+[+~]")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&N.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||N.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),N.push(",.*:")})),(b.matchesSelector=gt.test(O=I.matches||I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&r(function(t){b.disconnectedMatch=O.call(t,"div"),O.call(t,"[s!='']:x"),L.push("!=",rt)}),N=N.length&&new RegExp(N.join("|")),L=L.length&&new RegExp(L.join("|")),e=gt.test(I.compareDocumentPosition),D=e||gt.test(I.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return T=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!b.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===q&&D(q,t)?-1:e===n||e.ownerDocument===q&&D(q,e)?1:P?K(P,t)-K(P,e):0:4&i?-1:1)}:function(t,e){if(t===e)return T=!0,0;var i,r=0,o=t.parentNode,a=e.parentNode,l=[t],u=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:P?K(P,t)-K(P,e):0;if(o===a)return s(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===q?-1:u[r]===q?1:0},n):A},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==A&&_(t),i=i.replace(ut,"='$1']"),b.matchesSelector&&E&&(!L||!L.test(i))&&(!N||!N.test(i)))try{var n=O.call(t,i);if(n||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,A,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==A&&_(t),D(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==A&&_(t);var i=w.attrHandle[e.toLowerCase()],n=i&&X.call(w.attrHandle,e.toLowerCase())?i(t,e,!E):void 0;return void 0!==n?n:b.attributes||!E?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(T=!b.detectDuplicates,P=!b.sortStable&&t.slice(0),t.sort(W),T){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return P=null,t},x=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=x(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=x(e);return i},(w=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ht.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var o=e.attr(r,t);return null==o?"!="===i:!i||(o+="","="===i?o===n:"!="===i?o!==n:"^="===i?n&&0===o.indexOf(n):"*="===i?n&&o.indexOf(n)>-1:"$="===i?n&&o.slice(-n.length)===n:"~="===i?(" "+o.replace(ot," ")+" ").indexOf(n)>-1:"|="===i&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,l){var u,h,c,f,p,d,g=o!==s?"nextSibling":"previousSibling",m=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(m){if(o){for(;g;){for(c=e;c=c[g];)if(a?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?m.firstChild:m.lastChild],s&&y){for(p=(u=(h=m[R]||(m[R]={}))[t]||[])[0]===F&&u[1],f=u[0]===F&&u[2],c=p&&m.childNodes[p];c=++p&&c&&c[g]||(f=p=0)||d.pop();)if(1===c.nodeType&&++f&&c===e){h[t]=[F,p,f];break}}else if(y&&(u=(e[R]||(e[R]={}))[t])&&u[0]===F)f=u[1];else for(;(c=++p&&c&&c[g]||(f=p=0)||d.pop())&&((a?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++f||(y&&((c[R]||(c[R]={}))[t]=[F,f]),c!==e)););return(f-=r)===n||f%n==0&&f/n>=0}}},PSEUDO:function(t,i){var r,o=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[R]?o(i):o.length>1?(r=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=o(t,i),s=r.length;s--;)t[n=K(t,r[s])]=!(e[n]=r[s])}):function(t){return o(t,0,r)}):o}},pseudos:{not:n(function(t){var e=[],i=[],r=C(t.replace(st,"$1"));return r[R]?n(function(t,e,i,n){for(var o,s=r(t,null,n,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,n,o){return e[0]=t,r(e,null,o,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:n(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var i;do{if(i=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===I},focus:function(t){return t===A.activeElement&&(!A.hasFocus||A.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,i){return[i<0?i+e:i]}),even:a(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:a(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:a(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:a(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(y);return u.prototype=w.filters=w.pseudos,w.setFilters=new u,S=e.tokenize=function(t,i){var n,r,o,s,a,l,u,h=G[t+" "];if(h)return i?0:h.slice(0);for(a=t,l=[],u=w.preFilter;a;){n&&!(r=at.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=lt.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(st," ")}),a=a.slice(n.length));for(s in w.filter)!(r=ft[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):G(t,l).slice(0)},C=e.compile=function(t,e){var i,n=[],r=[],o=U[t+" "];if(!o){for(e||(e=S(t)),i=e.length;i--;)(o=m(e[i]))[R]?n.push(o):r.push(o);(o=U(t,v(r,n))).selector=t}return o},k=e.select=function(t,e,i,n){var r,o,s,a,u,c="function"==typeof t&&t,f=!n&&S(t=c.selector||t);if(i=i||[],1===f.length){if((o=f[0]=f[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&b.getById&&9===e.nodeType&&E&&w.relative[o[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(bt,wt),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ft.needsContext.test(t)?0:o.length;r--&&(s=o[r],!w.relative[a=s.type]);)if((u=w.find[a])&&(n=u(s.matches[0].replace(bt,wt),vt.test(o[0].type)&&l(e.parentNode)||e))){if(o.splice(r,1),!(t=n.length&&h(o)))return J.apply(i,n),i;break}}return(c||C(t,f))(n,e,!E,i,vt.test(t)&&l(e.parentNode)||e),i},b.sortStable=R.split("").sort(W).join("")===R,b.detectDuplicates=!!T,_(),b.sortDetached=r(function(t){return 1&t.compareDocumentPosition(A.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(Q,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);Z.find=it,Z.expr=it.selectors,Z.expr[":"]=Z.expr.pseudos,Z.unique=it.uniqueSort,Z.text=it.getText,Z.isXMLDoc=it.isXML,Z.contains=it.contains;var nt=Z.expr.match.needsContext,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^.[^:#\[\.,]*$/;Z.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Z.find.matchesSelector(n,t)?[n]:[]:Z.find.matches(t,Z.grep(e,function(t){return 1===t.nodeType}))},Z.fn.extend({find:function(t){var e,i=this.length,n=[],r=this;if("string"!=typeof t)return this.pushStack(Z(t).filter(function(){for(e=0;e<i;e++)if(Z.contains(r[e],this))return!0}));for(e=0;e<i;e++)Z.find(t,r[e],n);return n=this.pushStack(i>1?Z.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&nt.test(t)?Z(t):t||[],!1).length}});var st,at=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(Z.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:at.exec(t))||!i[1]&&e)return!e||e.jquery?(e||st).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Z?e[0]:e,Z.merge(this,Z.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),rt.test(i[1])&&Z.isPlainObject(e))for(i in e)Z.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=J.getElementById(i[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Z.isFunction(t)?void 0!==st.ready?st.ready(t):t(Z):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Z.makeArray(t,this))}).prototype=Z.fn,st=Z(J);var lt=/^(?:parents|prev(?:Until|All))/,ut={children:!0,contents:!0,next:!0,prev:!0};Z.extend({dir:function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Z(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),Z.fn.extend({has:function(t){var e=Z(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(Z.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,o=[],s=nt.test(t)||"string"!=typeof t?Z(t,e||this.context):0;n<r;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&Z.find.matchesSelector(i,t))){o.push(i);break}return this.pushStack(o.length>1?Z.unique(o):o)},index:function(t){return t?"string"==typeof t?V.call(Z(t),this[0]):V.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Z.unique(Z.merge(this.get(),Z(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Z.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Z.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Z.dir(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Z.dir(t,"nextSibling")},prevAll:function(t){return Z.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Z.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Z.dir(t,"previousSibling",i)},siblings:function(t){return Z.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Z.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Z.merge([],t.childNodes)}},function(t,e){Z.fn[t]=function(i,n){var r=Z.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Z.filter(n,r)),this.length>1&&(ut[t]||Z.unique(r),lt.test(t)&&r.reverse()),this.pushStack(r)}});var ht=/\S+/g,ct={};Z.Callbacks=function(t){var e,i,n,r,s,a,l=[],u=!(t="string"==typeof t?ct[t]||o(t):Z.extend({},t)).once&&[],h=function(o){for(e=t.memory&&o,i=!0,a=r||0,r=0,s=l.length,n=!0;l&&a<s;a++)if(!1===l[a].apply(o[0],o[1])&&t.stopOnFalse){e=!1;break}n=!1,l&&(u?u.length&&h(u.shift()):e?l=[]:c.disable())},c={add:function(){if(l){var i=l.length;!function e(i){Z.each(i,function(i,n){var r=Z.type(n);"function"===r?t.unique&&c.has(n)||l.push(n):n&&n.length&&"string"!==r&&e(n)})}(arguments),n?s=l.length:e&&(r=i,h(e))}return this},remove:function(){return l&&Z.each(arguments,function(t,e){for(var i;(i=Z.inArray(e,l,i))>-1;)l.splice(i,1),n&&(i<=s&&s--,i<=a&&a--)}),this},has:function(t){return t?Z.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||c.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||i&&!u||(e=[t,(e=e||[]).slice?e.slice():e],n?u.push(e):h(e)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},Z.extend({Deferred:function(t){var e=[["resolve","done",Z.Callbacks("once memory"),"resolved"],["reject","fail",Z.Callbacks("once memory"),"rejected"],["notify","progress",Z.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Z.Deferred(function(i){Z.each(e,function(e,o){var s=Z.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&Z.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[o[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Z.extend(t,n):n}},r={};return n.pipe=n.then,Z.each(e,function(t,o){var s=o[2],a=o[3];n[o[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?n:this,arguments),this},r[o[0]+"With"]=s.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,o=G.call(arguments),s=o.length,a=1!==s||t&&Z.isFunction(t.promise)?s:0,l=1===a?t:Z.Deferred(),u=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?G.call(arguments):r,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);r<s;r++)o[r]&&Z.isFunction(o[r].promise)?o[r].promise().done(u(r,n,o)).fail(l.reject).progress(u(r,i,e)):--a;return a||l.resolveWith(n,o),l.promise()}});var ft;Z.fn.ready=function(t){return Z.ready.promise().done(t),this},Z.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Z.readyWait++:Z.ready(!0)},ready:function(t){(!0===t?--Z.readyWait:Z.isReady)||(Z.isReady=!0,!0!==t&&--Z.readyWait>0||(ft.resolveWith(J,[Z]),Z.fn.triggerHandler&&(Z(J).triggerHandler("ready"),Z(J).off("ready"))))}}),Z.ready.promise=function(e){return ft||(ft=Z.Deferred(),"complete"===J.readyState?setTimeout(Z.ready):(J.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ft.promise(e)},Z.ready.promise();var pt=Z.access=function(t,e,i,n,r,o,s){var a=0,l=t.length,u=null==i;if("object"===Z.type(i)){r=!0;for(a in i)Z.access(t,e,a,i[a],!0,o,s)}else if(void 0!==n&&(r=!0,Z.isFunction(n)||(s=!0),u&&(s?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(Z(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return r?t:u?e.call(t):l?e(t[0],i):o};Z.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Z.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=a.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,Z.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,r=this.key(t),o=this.cache[r];if("string"==typeof e)o[e]=i;else if(Z.isEmptyObject(o))Z.extend(this.cache[r],e);else for(n in e)o[n]=e[n];return o},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?void 0!==(n=this.get(t,e))?n:this.get(t,Z.camelCase(e)):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,r,o=this.key(t),s=this.cache[o];if(void 0===e)this.cache[o]={};else{Z.isArray(e)?n=e.concat(e.map(Z.camelCase)):(r=Z.camelCase(e),n=e in s?[e,r]:(n=r)in s?[n]:n.match(ht)||[]),i=n.length;for(;i--;)delete s[n[i]]}},hasData:function(t){return!Z.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var dt=new a,gt=new a,mt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,vt=/([A-Z])/g;Z.extend({hasData:function(t){return gt.hasData(t)||dt.hasData(t)},data:function(t,e,i){return gt.access(t,e,i)},removeData:function(t,e){gt.remove(t,e)},_data:function(t,e,i){return dt.access(t,e,i)},_removeData:function(t,e){dt.remove(t,e)}}),Z.fn.extend({data:function(t,e){var i,n,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=gt.get(o),1===o.nodeType&&!dt.get(o,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=Z.camelCase(n.slice(5)),l(o,n,r[n]));dt.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){gt.set(this,t)}):pt(this,function(e){var i,n=Z.camelCase(t);if(o&&void 0===e){if(void 0!==(i=gt.get(o,t)))return i;if(void 0!==(i=gt.get(o,n)))return i;if(void 0!==(i=l(o,n,void 0)))return i}else this.each(function(){var i=gt.get(this,n);gt.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&gt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){gt.remove(this,t)})}}),Z.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=dt.get(t,e),i&&(!n||Z.isArray(i)?n=dt.access(t,e,Z.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=Z.queue(t,e),n=i.length,r=i.shift(),o=Z._queueHooks(t,e);"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete o.stop,r.call(t,function(){Z.dequeue(t,e)},o)),!n&&o&&o.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return dt.get(t,i)||dt.access(t,i,{empty:Z.Callbacks("once memory").add(function(){dt.remove(t,[e+"queue",i])})})}}),Z.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Z.queue(this[0],t):void 0===e?this:this.each(function(){var i=Z.queue(this,t,e);Z._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Z.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Z.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=Z.Deferred(),o=this,s=this.length,a=function(){--n||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=dt.get(o[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,bt=["Top","Right","Bottom","Left"],wt=function(t,e){return t=e||t,"none"===Z.css(t,"display")||!Z.contains(t.ownerDocument,t)},xt=/^(?:checkbox|radio)$/i;!function(){var t=J.createDocumentFragment().appendChild(J.createElement("div")),e=J.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),Y.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();Y.focusinBubbles="onfocusin"in t;var Mt=/^key/,St=/^(?:mouse|pointer|contextmenu)|click/,Ct=/^(?:focusinfocus|focusoutblur)$/,kt=/^([^.]*)(?:\.(.+)|)$/;Z.event={global:{},add:function(t,e,i,n,r){var o,s,a,l,u,h,c,f,p,d,g,m=dt.get(t);if(m)for(i.handler&&(i=(o=i).handler,r=o.selector),i.guid||(i.guid=Z.guid++),(l=m.events)||(l=m.events={}),(s=m.handle)||(s=m.handle=function(e){return void 0!==Z&&Z.event.triggered!==e.type?Z.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(ht)||[""]).length;u--;)p=g=(a=kt.exec(e[u])||[])[1],d=(a[2]||"").split(".").sort(),p&&(c=Z.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=Z.event.special[p]||{},h=Z.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Z.expr.match.needsContext.test(r),namespace:d.join(".")},o),(f=l[p])||((f=l[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,n,d,s)||t.addEventListener&&t.addEventListener(p,s,!1)),c.add&&(c.add.call(t,h),h.handler.guid||(h.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,h):f.push(h),Z.event.global[p]=!0)},remove:function(t,e,i,n,r){var o,s,a,l,u,h,c,f,p,d,g,m=dt.hasData(t)&&dt.get(t);if(m&&(l=m.events)){for(u=(e=(e||"").match(ht)||[""]).length;u--;)if(a=kt.exec(e[u])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p){for(c=Z.event.special[p]||{},f=l[p=(n?c.delegateType:c.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=f.length;o--;)h=f[o],!r&&g!==h.origType||i&&i.guid!==h.guid||a&&!a.test(h.namespace)||n&&n!==h.selector&&("**"!==n||!h.selector)||(f.splice(o,1),h.selector&&f.delegateCount--,c.remove&&c.remove.call(t,h));s&&!f.length&&(c.teardown&&!1!==c.teardown.call(t,d,m.handle)||Z.removeEvent(t,p,m.handle),delete l[p])}else for(p in l)Z.event.remove(t,p+e[u],i,n,!0);Z.isEmptyObject(l)&&(delete m.handle,dt.remove(t,"events"))}},trigger:function(e,i,n,r){var o,s,a,l,u,h,c,f=[n||J],p=$.call(e,"type")?e.type:e,d=$.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||J,3!==n.nodeType&&8!==n.nodeType&&!Ct.test(p+Z.event.triggered)&&(p.indexOf(".")>=0&&(p=(d=p.split(".")).shift(),d.sort()),u=p.indexOf(":")<0&&"on"+p,e=e[Z.expando]?e:new Z.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Z.makeArray(i,[e]),c=Z.event.special[p]||{},r||!c.trigger||!1!==c.trigger.apply(n,i))){if(!r&&!c.noBubble&&!Z.isWindow(n)){for(l=c.delegateType||p,Ct.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||J)&&f.push(a.defaultView||a.parentWindow||t)}for(o=0;(s=f[o++])&&!e.isPropagationStopped();)e.type=o>1?l:c.bindType||p,(h=(dt.get(s,"events")||{})[e.type]&&dt.get(s,"handle"))&&h.apply(s,i),(h=u&&s[u])&&h.apply&&Z.acceptData(s)&&(e.result=h.apply(s,i),!1===e.result&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(f.pop(),i)||!Z.acceptData(n)||u&&Z.isFunction(n[p])&&!Z.isWindow(n)&&((a=n[u])&&(n[u]=null),Z.event.triggered=p,n[p](),Z.event.triggered=void 0,a&&(n[u]=a)),e.result}},dispatch:function(t){t=Z.event.fix(t);var e,i,n,r,o,s=[],a=G.call(arguments),l=(dt.get(this,"events")||{})[t.type]||[],u=Z.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,t)){for(s=Z.event.handlers.call(this,t,l),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(o=r.handlers[i++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(o.namespace)||(t.handleObj=o,t.data=o.data,void 0!==(n=((Z.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,o,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(n=[],i=0;i<a;i++)void 0===n[r=(o=e[i]).selector+" "]&&(n[r]=o.needsContext?Z(r,this).index(l)>=0:Z.find(r,this,null,[l]).length),n[r]&&n.push(o);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=(i=t.target.ownerDocument||J).documentElement,r=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Z.expando])return t;var e,i,n,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=St.test(r)?this.mouseHooks:Mt.test(r)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new Z.Event(o),e=n.length;e--;)t[i=n[e]]=o[i];return t.target||(t.target=J),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===c()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&Z.nodeName(this,"input"))return this.click(),!1},_default:function(t){return Z.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=Z.extend(new Z.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Z.event.trigger(r,null,e):Z.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},Z.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},Z.Event=function(t,e){if(!(this instanceof Z.Event))return new Z.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?u:h):this.type=t,e&&Z.extend(this,e),this.timeStamp=t&&t.timeStamp||Z.now(),this[Z.expando]=!0},Z.Event.prototype={isDefaultPrevented:h,isPropagationStopped:h,isImmediatePropagationStopped:h,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Z.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Z.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===n||Z.contains(n,r))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),Y.focusinBubbles||Z.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Z.event.simulate(e,t.target,Z.event.fix(t),!0)};Z.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=dt.access(n,e);r||n.addEventListener(t,i,!0),dt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=dt.access(n,e)-1;r?dt.access(n,e,r):(n.removeEventListener(t,i,!0),dt.remove(n,e))}}}),Z.fn.extend({on:function(t,e,i,n,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(s in t)this.on(s,e,i,t[s],r);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),!1===n)n=h;else if(!n)return this;return 1===r&&(o=n,(n=function(t){return Z().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=Z.guid++)),this.each(function(){Z.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Z(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=h),this.each(function(){Z.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Z.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return Z.event.trigger(t,e,i,!0)}});var jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Pt=/<([\w:]+)/,Tt=/<|&#?\w+;/,_t=/<(?:script|style|link)/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Lt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Lt.optgroup=Lt.option,Lt.tbody=Lt.tfoot=Lt.colgroup=Lt.caption=Lt.thead,Lt.th=Lt.td,Z.extend({clone:function(t,e,i){var n,r,o,s,a=t.cloneNode(!0),l=Z.contains(t.ownerDocument,t);if(!(Y.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Z.isXMLDoc(t)))for(s=v(a),n=0,r=(o=v(t)).length;n<r;n++)y(o[n],s[n]);if(e)if(i)for(o=o||v(t),s=s||v(a),n=0,r=o.length;n<r;n++)m(o[n],s[n]);else m(t,a);return(s=v(a,"script")).length>0&&g(s,!l&&v(t,"script")),a},buildFragment:function(t,e,i,n){for(var r,o,s,a,l,u,h=e.createDocumentFragment(),c=[],f=0,p=t.length;f<p;f++)if((r=t[f])||0===r)if("object"===Z.type(r))Z.merge(c,r.nodeType?[r]:r);else if(Tt.test(r)){for(o=o||h.appendChild(e.createElement("div")),s=(Pt.exec(r)||["",""])[1].toLowerCase(),a=Lt[s]||Lt._default,o.innerHTML=a[1]+r.replace(jt,"<$1></$2>")+a[2],u=a[0];u--;)o=o.lastChild;Z.merge(c,o.childNodes),(o=h.firstChild).textContent=""}else c.push(e.createTextNode(r));for(h.textContent="",f=0;r=c[f++];)if((!n||-1===Z.inArray(r,n))&&(l=Z.contains(r.ownerDocument,r),o=v(h.appendChild(r),"script"),l&&g(o),i))for(u=0;r=o[u++];)It.test(r.type||"")&&i.push(r);return h},cleanData:function(t){for(var e,i,n,r,o=Z.event.special,s=0;void 0!==(i=t[s]);s++){if(Z.acceptData(i)&&(r=i[dt.expando])&&(e=dt.cache[r])){if(e.events)for(n in e.events)o[n]?Z.event.remove(i,n):Z.removeEvent(i,n,e.handle);dt.cache[r]&&delete dt.cache[r]}delete gt.cache[i[gt.expando]]}}}),Z.fn.extend({text:function(t){return pt(this,function(t){return void 0===t?Z.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||f(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?Z.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||Z.cleanData(v(i)),i.parentNode&&(e&&Z.contains(i.ownerDocument,i)&&g(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Z.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return Z.clone(this,t,e)})},html:function(t){return pt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!_t.test(t)&&!Lt[(Pt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(jt,"<$1></$2>");try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(Z.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Z.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=U.apply([],t);var i,n,r,o,s,a,l=0,u=this.length,h=this,c=u-1,f=t[0],g=Z.isFunction(f);if(g||u>1&&"string"==typeof f&&!Y.checkClone&&At.test(f))return this.each(function(i){var n=h.eq(i);g&&(t[0]=f.call(this,i,n.html())),n.domManip(t,e)});if(u&&(i=Z.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(o=(r=Z.map(v(i,"script"),p)).length;l<u;l++)s=i,l!==c&&(s=Z.clone(s,!0,!0),o&&Z.merge(r,v(s,"script"))),e.call(this[l],s,l);if(o)for(a=r[r.length-1].ownerDocument,Z.map(r,d),l=0;l<o;l++)s=r[l],It.test(s.type||"")&&!dt.access(s,"globalEval")&&Z.contains(a,s)&&(s.src?Z._evalUrl&&Z._evalUrl(s.src):Z.globalEval(s.textContent.replace(Nt,"")))}return this}}),Z.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Z.fn[t]=function(t){for(var i,n=[],r=Z(t),o=r.length-1,s=0;s<=o;s++)i=s===o?this:this.clone(!0),Z(r[s])[e](i),W.apply(n,i.get());return this.pushStack(n)}});var Ot,Dt={},Rt=/^margin/,qt=new RegExp("^("+yt+")(?!px)[a-z%]+$","i"),Ft=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",r.appendChild(o);var e=t.getComputedStyle(s,null);i="1%"!==e.top,n="4px"===e.width,r.removeChild(o)}var i,n,r=J.documentElement,o=J.createElement("div"),s=J.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),t.getComputedStyle&&Z.extend(Y,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=s.appendChild(J.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",r.appendChild(o),e=!parseFloat(t.getComputedStyle(i,null).marginRight),r.removeChild(o),s.removeChild(i),e}}))}(),Z.swap=function(t,e,i,n){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=i.apply(t,n||[]);for(o in e)t.style[o]=s[o];return r};var zt=/^(none|table(?!-c[ea]).+)/,Bt=new RegExp("^("+yt+")(.*)$","i"),Gt=new RegExp("^([+-])=("+yt+")","i"),Ut={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Vt=["Webkit","O","Moz","ms"];Z.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=x(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=Z.camelCase(e),l=t.style;if(e=Z.cssProps[a]||(Z.cssProps[a]=S(l,a)),s=Z.cssHooks[e]||Z.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(r=s.get(t,!1,n))?r:l[e];"string"==(o=typeof i)&&(r=Gt.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(Z.css(t,e)),o="number"),null!=i&&i===i&&("number"!==o||Z.cssNumber[a]||(i+="px"),Y.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var r,o,s,a=Z.camelCase(e);return e=Z.cssProps[a]||(Z.cssProps[a]=S(t.style,a)),(s=Z.cssHooks[e]||Z.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,i)),void 0===r&&(r=x(t,e,n)),"normal"===r&&e in Wt&&(r=Wt[e]),""===i||i?(o=parseFloat(r),!0===i||Z.isNumeric(o)?o||0:r):r}}),Z.each(["height","width"],function(t,e){Z.cssHooks[e]={get:function(t,i,n){if(i)return zt.test(Z.css(t,"display"))&&0===t.offsetWidth?Z.swap(t,Ut,function(){return j(t,e,n)}):j(t,e,n)},set:function(t,i,n){var r=n&&Ft(t);return C(0,i,n?k(t,e,n,"border-box"===Z.css(t,"boxSizing",!1,r),r):0)}}}),Z.cssHooks.marginRight=M(Y.reliableMarginRight,function(t,e){if(e)return Z.swap(t,{display:"inline-block"},x,[t,"marginRight"])}),Z.each({margin:"",padding:"",border:"Width"},function(t,e){Z.cssHooks[t+e]={expand:function(i){for(var n=0,r={},o="string"==typeof i?i.split(" "):[i];n<4;n++)r[t+bt[n]+e]=o[n]||o[n-2]||o[0];return r}},Rt.test(t)||(Z.cssHooks[t+e].set=C)}),Z.fn.extend({css:function(t,e){return pt(this,function(t,e,i){var n,r,o={},s=0;if(Z.isArray(e)){for(n=Ft(t),r=e.length;s<r;s++)o[e[s]]=Z.css(t,e[s],!1,n);return o}return void 0!==i?Z.style(t,e,i):Z.css(t,e)},t,e,arguments.length>1)},show:function(){return P(this,!0)},hide:function(){return P(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){wt(this)?Z(this).show():Z(this).hide()})}}),Z.Tween=T,T.prototype={constructor:T,init:function(t,e,i,n,r,o){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Z.cssNumber[i]?"":"px")},cur:function(){var t=T.propHooks[this.prop];return t&&t.get?t.get(this):T.propHooks._default.get(this)},run:function(t){var e,i=T.propHooks[this.prop];return this.options.duration?this.pos=e=Z.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Z.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){Z.fx.step[t.prop]?Z.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Z.cssProps[t.prop]]||Z.cssHooks[t.prop])?Z.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Z.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Z.fx=T.prototype.init,Z.fx.step={};var Xt,Ht,$t=/^(?:toggle|show|hide)$/,Yt=new RegExp("^(?:([+-])=|)("+yt+")([a-z%]*)$","i"),Jt=/queueHooks$/,Zt=[function(t,e,i){var n,r,o,s,a,l,u,h=this,c={},f=t.style,p=t.nodeType&&wt(t),d=dt.get(t,"fxshow");i.queue||(null==(a=Z._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,Z.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(u=Z.css(t,"display"))?dt.get(t,"olddisplay")||w(t.nodeName):u)&&"none"===Z.css(t,"float")&&(f.display="inline-block")),i.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],$t.exec(r)){if(delete e[n],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!d||void 0===d[n])continue;p=!0}c[n]=d&&d[n]||Z.style(t,n)}else u=void 0;if(Z.isEmptyObject(c))"inline"===("none"===u?w(t.nodeName):u)&&(f.display=u);else{d?"hidden"in d&&(p=d.hidden):d=dt.access(t,"fxshow",{}),o&&(d.hidden=!p),p?Z(t).show():h.done(function(){Z(t).hide()}),h.done(function(){var e;dt.remove(t,"fxshow");for(e in c)Z.style(t,e,c[e])});for(n in c)s=I(p?d[n]:0,n,h),n in d||(d[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}],Kt={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=Yt.exec(e),o=r&&r[3]||(Z.cssNumber[t]?"":"px"),s=(Z.cssNumber[t]||"px"!==o&&+n)&&Yt.exec(Z.css(i.elem,t)),a=1,l=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+n||1;do{s/=a=a||".5",Z.style(i.elem,t,s+o)}while(a!==(a=i.cur()/n)&&1!==a&&--l)}return r&&(s=i.start=+s||+n||0,i.unit=o,i.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),i}]};Z.Animation=Z.extend(N,{tweener:function(t,e){Z.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;n<r;n++)i=t[n],Kt[i]=Kt[i]||[],Kt[i].unshift(e)},prefilter:function(t,e){e?Zt.unshift(t):Zt.push(t)}}),Z.speed=function(t,e,i){var n=t&&"object"==typeof t?Z.extend({},t):{complete:i||!i&&e||Z.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Z.isFunction(e)&&e};return n.duration=Z.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Z.fx.speeds?Z.fx.speeds[n.duration]:Z.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){Z.isFunction(n.old)&&n.old.call(this),n.queue&&Z.dequeue(this,n.queue)},n},Z.fn.extend({fadeTo:function(t,e,i,n){return this.filter(wt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=Z.isEmptyObject(t),o=Z.speed(e,i,n),s=function(){var e=N(this,Z.extend({},t),o);(r||dt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=Z.timers,s=dt.get(this);if(r)s[r]&&s[r].stop&&n(s[r]);else for(r in s)s[r]&&s[r].stop&&Jt.test(r)&&n(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(i),e=!1,o.splice(r,1));!e&&i||Z.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=dt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],o=Z.timers,s=n?n.length:0;for(i.finish=!0,Z.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),Z.each(["toggle","show","hide"],function(t,e){var i=Z.fn[e];Z.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(A(e,!0),t,n,r)}}),Z.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Z.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Z.timers=[],Z.fx.tick=function(){var t,e=0,i=Z.timers;for(Xt=Z.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||Z.fx.stop(),Xt=void 0},Z.fx.timer=function(t){Z.timers.push(t),t()?Z.fx.start():Z.timers.pop()},Z.fx.interval=13,Z.fx.start=function(){Ht||(Ht=setInterval(Z.fx.tick,Z.fx.interval))},Z.fx.stop=function(){clearInterval(Ht),Ht=null},Z.fx.speeds={slow:600,fast:200,_default:400},Z.fn.delay=function(t,e){return t=Z.fx?Z.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),i=e.appendChild(J.createElement("option"));t.type="checkbox",Y.checkOn=""!==t.value,Y.optSelected=i.selected,e.disabled=!0,Y.optDisabled=!i.disabled,(t=J.createElement("input")).value="t",t.type="radio",Y.radioValue="t"===t.value}();var Qt,te=Z.expr.attrHandle;Z.fn.extend({attr:function(t,e){return pt(this,Z.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Z.removeAttr(this,t)})}}),Z.extend({attr:function(t,e,i){var n,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?Z.prop(t,e,i):(1===o&&Z.isXMLDoc(t)||(e=e.toLowerCase(),n=Z.attrHooks[e]||(Z.expr.match.bool.test(e)?Qt:void 0)),void 0===i?n&&"get"in n&&null!==(r=n.get(t,e))?r:null==(r=Z.find.attr(t,e))?void 0:r:null!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):void Z.removeAttr(t,e))},removeAttr:function(t,e){var i,n,r=0,o=e&&e.match(ht);if(o&&1===t.nodeType)for(;i=o[r++];)n=Z.propFix[i]||i,Z.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!Y.radioValue&&"radio"===e&&Z.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),Qt={set:function(t,e,i){return!1===e?Z.removeAttr(t,i):t.setAttribute(i,i),i}},Z.each(Z.expr.match.bool.source.match(/\w+/g),function(t,e){var i=te[e]||Z.find.attr;te[e]=function(t,e,n){var r,o;return n||(o=te[e],te[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,te[e]=o),r}});var ee=/^(?:input|select|textarea|button)$/i;Z.fn.extend({prop:function(t,e){return pt(this,Z.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Z.propFix[t]||t]})}}),Z.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,i){var n,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return(1!==o||!Z.isXMLDoc(t))&&(e=Z.propFix[e]||e,r=Z.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ee.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Y.optSelected||(Z.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Z.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Z.propFix[this.toLowerCase()]=this});var ie=/[\t\r\n\f]/g;Z.fn.extend({addClass:function(t){var e,i,n,r,o,s,a="string"==typeof t&&t,l=0,u=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(ht)||[];l<u;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ie," "):" ")){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s=Z.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(t){var e,i,n,r,o,s,a=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(Z.isFunction(t))return this.each(function(e){Z(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(ht)||[];l<u;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ie," "):"")){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");s=t?Z.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):Z.isFunction(t)?this.each(function(i){Z(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,r=Z(this),o=t.match(ht)||[];e=o[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else"undefined"!==i&&"boolean"!==i||(this.className&&dt.set(this,"__className__",this.className),this.className=this.className||!1===t?"":dt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ie," ").indexOf(e)>=0)return!0;return!1}});var ne=/\r/g;Z.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=Z.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(null==(r=n?t.call(this,i,Z(this).val()):t)?r="":"number"==typeof r?r+="":Z.isArray(r)&&(r=Z.map(r,function(t){return null==t?"":t+""})),(e=Z.valHooks[this.type]||Z.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return(e=Z.valHooks[r.type]||Z.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:"string"==typeof(i=r.value)?i.replace(ne,""):null==i?"":i}}}),Z.extend({valHooks:{option:{get:function(t){var e=Z.find.attr(t,"value");return null!=e?e:Z.trim(Z.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,o="select-one"===t.type||r<0,s=o?null:[],a=o?r+1:n.length,l=r<0?a:o?r:0;l<a;l++)if(((i=n[l]).selected||l===r)&&(Y.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!Z.nodeName(i.parentNode,"optgroup"))){if(e=Z(i).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var i,n,r=t.options,o=Z.makeArray(e),s=r.length;s--;)((n=r[s]).selected=Z.inArray(n.value,o)>=0)&&(i=!0);return i||(t.selectedIndex=-1),o}}}}),Z.each(["radio","checkbox"],function(){Z.valHooks[this]={set:function(t,e){if(Z.isArray(e))return t.checked=Z.inArray(Z(t).val(),e)>=0}},Y.checkOn||(Z.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Z.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Z.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),Z.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var re=Z.now(),oe=/\?/;Z.parseJSON=function(t){return JSON.parse(t+"")},Z.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||Z.error("Invalid XML: "+t),e};var se=/#.*$/,ae=/([?&])_=[^&]*/,le=/^(.*?):[ \t]*([^\r\n]*)$/gm,ue=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,he=/^(?:GET|HEAD)$/,ce=/^\/\//,fe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,pe={},de={},ge="*/".concat("*"),me=t.location.href,ve=fe.exec(me.toLowerCase())||[];Z.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:me,type:"GET",isLocal:ue.test(ve[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Z.parseJSON,"text xml":Z.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?D(D(t,Z.ajaxSettings),e):D(Z.ajaxSettings,t)},ajaxPrefilter:L(pe),ajaxTransport:L(de),ajax:function(t,e){function i(t,e,i,s){var l,h,v,y,w,M=e;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,o=s||"",x.readyState=t>0?4:0,l=t>=200&&t<300||304===t,i&&(y=R(c,x,i)),y=q(c,y,x,l),l?(c.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(Z.lastModified[r]=w),(w=x.getResponseHeader("etag"))&&(Z.etag[r]=w)),204===t||"HEAD"===c.type?M="nocontent":304===t?M="notmodified":(M=y.state,h=y.data,l=!(v=y.error))):(v=M,!t&&M||(M="error",t<0&&(t=0))),x.status=t,x.statusText=(e||M)+"",l?d.resolveWith(f,[h,M,x]):d.rejectWith(f,[x,M,v]),x.statusCode(m),m=void 0,u&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?h:v]),g.fireWith(f,[x,M]),u&&(p.trigger("ajaxComplete",[x,c]),--Z.active||Z.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,o,s,a,l,u,h,c=Z.ajaxSetup({},e),f=c.context||c,p=c.context&&(f.nodeType||f.jquery)?Z(f):Z.event,d=Z.Deferred(),g=Z.Callbacks("once memory"),m=c.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=le.exec(o);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?o:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return b||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return n&&n.abort(e),i(0,e),this}};if(d.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,c.url=((t||c.url||me)+"").replace(se,"").replace(ce,ve[1]+"//"),c.type=e.method||e.type||c.method||c.type,c.dataTypes=Z.trim(c.dataType||"*").toLowerCase().match(ht)||[""],null==c.crossDomain&&(l=fe.exec(c.url.toLowerCase()),c.crossDomain=!(!l||l[1]===ve[1]&&l[2]===ve[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(ve[3]||("http:"===ve[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=Z.param(c.data,c.traditional)),O(pe,c,e,x),2===b)return x;(u=Z.event&&c.global)&&0==Z.active++&&Z.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!he.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(oe.test(r)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=ae.test(r)?r.replace(ae,"$1_="+re++):r+(oe.test(r)?"&":"?")+"_="+re++)),c.ifModified&&(Z.lastModified[r]&&x.setRequestHeader("If-Modified-Since",Z.lastModified[r]),Z.etag[r]&&x.setRequestHeader("If-None-Match",Z.etag[r])),(c.data&&c.hasContent&&!1!==c.contentType||e.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+ge+"; q=0.01":""):c.accepts["*"]);for(h in c.headers)x.setRequestHeader(h,c.headers[h]);if(c.beforeSend&&(!1===c.beforeSend.call(f,x,c)||2===b))return x.abort();w="abort";for(h in{success:1,error:1,complete:1})x[h](c[h]);if(n=O(de,c,e,x)){x.readyState=1,u&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},c.timeout));try{b=1,n.send(v,i)}catch(t){if(!(b<2))throw t;i(-1,t)}}else i(-1,"No Transport");return x},getJSON:function(t,e,i){return Z.get(t,e,i,"json")},getScript:function(t,e){return Z.get(t,void 0,e,"script")}}),Z.each(["get","post"],function(t,e){Z[e]=function(t,i,n,r){return Z.isFunction(i)&&(r=r||n,n=i,i=void 0),Z.ajax({url:t,type:e,dataType:r,data:i,success:n})}}),Z._evalUrl=function(t){return Z.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},Z.fn.extend({wrapAll:function(t){var e;return Z.isFunction(t)?this.each(function(e){Z(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Z(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Z.isFunction(t)?this.each(function(e){Z(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Z(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Z.isFunction(t);return this.each(function(i){Z(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Z.nodeName(this,"body")||Z(this).replaceWith(this.childNodes)}).end()}}),Z.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Z.expr.filters.visible=function(t){return!Z.expr.filters.hidden(t)};var ye=/%20/g,be=/\[\]$/,we=/\r?\n/g,xe=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;Z.param=function(t,e){var i,n=[],r=function(t,e){e=Z.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Z.ajaxSettings&&Z.ajaxSettings.traditional),Z.isArray(t)||t.jquery&&!Z.isPlainObject(t))Z.each(t,function(){r(this.name,this.value)});else for(i in t)F(i,t[i],e,r);return n.join("&").replace(ye,"+")},Z.fn.extend({serialize:function(){return Z.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Z.prop(this,"elements");return t?Z.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Z(this).is(":disabled")&&Me.test(this.nodeName)&&!xe.test(t)&&(this.checked||!xt.test(t))}).map(function(t,e){var i=Z(this).val();return null==i?null:Z.isArray(i)?Z.map(i,function(t){return{name:e.name,value:t.replace(we,"\r\n")}}):{name:e.name,value:i.replace(we,"\r\n")}}).get()}}),Z.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Se=0,Ce={},ke={0:200,1223:204},je=Z.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ce)Ce[t]()}),Y.cors=!!je&&"withCredentials"in je,Y.ajax=je=!!je,Z.ajaxTransport(function(t){var e;if(Y.cors||je&&!t.crossDomain)return{send:function(i,n){var r,o=t.xhr(),s=++Se;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)o.setRequestHeader(r,i[r]);e=function(t){return function(){e&&(delete Ce[s],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?n(o.status,o.statusText):n(ke[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Ce[s]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),Z.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Z.globalEval(t),t}}}),Z.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Z.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=Z("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Pe=[],Te=/(=)\?(?=&|$)|\?\?/;Z.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Pe.pop()||Z.expando+"_"+re++;return this[t]=!0,t}}),Z.ajaxPrefilter("json jsonp",function(e,i,n){var r,o,s,a=!1!==e.jsonp&&(Te.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Te.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=Z.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Te,"$1"+r):!1!==e.jsonp&&(e.url+=(oe.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||Z.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},n.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=i.jsonpCallback,Pe.push(r)),s&&Z.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),Z.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||J;var n=rt.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=Z.buildFragment([t],e,r),r&&r.length&&Z(r).remove(),Z.merge([],n.childNodes))};var _e=Z.fn.load;Z.fn.load=function(t,e,i){if("string"!=typeof t&&_e)return _e.apply(this,arguments);var n,r,o,s=this,a=t.indexOf(" ");return a>=0&&(n=Z.trim(t.slice(a)),t=t.slice(0,a)),Z.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&Z.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){o=arguments,s.html(n?Z("<div>").append(Z.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){s.each(i,o||[t.responseText,e,t])}),this},Z.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Z.fn[e]=function(t){return this.on(e,t)}}),Z.expr.filters.animated=function(t){return Z.grep(Z.timers,function(e){return t===e.elem}).length};var Ae=t.document.documentElement;Z.offset={setOffset:function(t,e,i){var n,r,o,s,a,l,u=Z.css(t,"position"),h=Z(t),c={};"static"===u&&(t.style.position="relative"),a=h.offset(),o=Z.css(t,"top"),l=Z.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(n=h.position()).top,r=n.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),Z.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+r),"using"in e?e.using.call(t,c):h.css(c)}},Z.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Z.offset.setOffset(this,t,e)});var e,i,n=this[0],r={top:0,left:0},o=n&&n.ownerDocument;if(o)return e=o.documentElement,Z.contains(e,n)?(void 0!==n.getBoundingClientRect&&(r=n.getBoundingClientRect()),i=z(o),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===Z.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Z.nodeName(t[0],"html")||(n=t.offset()),n.top+=Z.css(t[0],"borderTopWidth",!0),n.left+=Z.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Z.css(i,"marginTop",!0),left:e.left-n.left-Z.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ae;t&&!Z.nodeName(t,"html")&&"static"===Z.css(t,"position");)t=t.offsetParent;return t||Ae})}}),Z.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;Z.fn[e]=function(r){return pt(this,function(e,r,o){var s=z(e);if(void 0===o)return s?s[i]:e[r];s?s.scrollTo(n?t.pageXOffset:o,n?o:t.pageYOffset):e[r]=o},e,r,arguments.length,null)}}),Z.each(["top","left"],function(t,e){Z.cssHooks[e]=M(Y.pixelPosition,function(t,i){if(i)return i=x(t,e),qt.test(i)?Z(t).position()[e]+"px":i})}),Z.each({Height:"height",Width:"width"},function(t,e){Z.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){Z.fn[n]=function(n,r){var o=arguments.length&&(i||"boolean"!=typeof n),s=i||(!0===n||!0===r?"margin":"border");return pt(this,function(e,i,n){var r;return Z.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?Z.css(e,i,s):Z.style(e,i,n,s)},e,o?n:void 0,o,null)}})}),Z.fn.size=function(){return this.length},Z.fn.andSelf=Z.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Z});var Ie=t.jQuery,Ee=t.$;return Z.noConflict=function(e){return t.$===Z&&(t.$=Ee),e&&t.jQuery===Z&&(t.jQuery=Ie),Z},void 0===e&&(t.jQuery=t.$=Z),Z})},{}],26:[function(t,e,i){(function(n){!function(t){if("object"==typeof i&&void 0!==e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).localforage=t()}}(function(){return function e(i,n,r){function o(a,l){if(!n[a]){if(!i[a]){var u="function"==typeof t&&t;if(!l&&u)return u(a,!0);if(s)return s(a,!0);var h=new Error("Cannot find module '"+a+"'");throw h.code="MODULE_NOT_FOUND",h}var c=n[a]={exports:{}};i[a][0].call(c.exports,function(t){var e=i[a][1][t];return o(e||t)},c,c.exports,e,i,n,r)}return n[a].exports}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,i){(function(t){"use strict";function i(){u=!0;for(var t,e,i=h.length;i;){for(e=h,h=[],t=-1;++t<i;)e[t]();i=h.length}u=!1}var n,r=t.MutationObserver||t.WebKitMutationObserver;if(r){var o=0,s=new r(i),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){i(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(i,0)};else{var l=new t.MessageChannel;l.port1.onmessage=i,n=function(){l.port2.postMessage(0)}}var u,h=[];e.exports=function(t){1!==h.push(t)||u||n()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,i){"use strict";function n(){}function r(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,t!==n&&l(this,t)}function o(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function s(t,e,i){h(function(){var n;try{n=e(i)}catch(e){return c.reject(t,e)}n===t?c.reject(t,new TypeError("Cannot resolve promise with itself")):c.resolve(t,n)})}function a(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){function i(e){r||(r=!0,c.reject(t,e))}function n(e){r||(r=!0,c.resolve(t,e))}var r=!1,o=u(function(){e(n,i)});"error"===o.status&&i(o.value)}function u(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}var h=t(1),c={},f=["REJECTED"],p=["FULFILLED"],d=["PENDING"];e.exports=i=r,r.prototype.catch=function(t){return this.then(null,t)},r.prototype.then=function(t,e){if("function"!=typeof t&&this.state===p||"function"!=typeof e&&this.state===f)return this;var i=new this.constructor(n);return this.state!==d?s(i,this.state===p?t:e,this.outcome):this.queue.push(new o(i,t,e)),i},o.prototype.callFulfilled=function(t){c.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){c.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},c.resolve=function(t,e){var i=u(a,e);if("error"===i.status)return c.reject(t,i.value);var n=i.value;if(n)l(t,n);else{t.state=p,t.outcome=e;for(var r=-1,o=t.queue.length;++r<o;)t.queue[r].callFulfilled(e)}return t},c.reject=function(t,e){t.state=f,t.outcome=e;for(var i=-1,n=t.queue.length;++i<n;)t.queue[i].callRejected(e);return t},i.resolve=function(t){return t instanceof this?t:c.resolve(new this(n),t)},i.reject=function(t){var e=new this(n);return c.reject(e,t)},i.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,r=!1;if(!i)return this.resolve([]);for(var o=new Array(i),s=0,a=-1,l=new this(n);++a<i;)!function(t,n){e.resolve(t).then(function(t){o[n]=t,++s!==i||r||(r=!0,c.resolve(l,o))},function(t){r||(r=!0,c.reject(l,t))})}(t[a],a);return l},i.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,r=!1;if(!i)return this.resolve([]);for(var o=-1,s=new this(n);++o<i;)!function(t){e.resolve(t).then(function(t){r||(r=!0,c.resolve(s,t))},function(t){r||(r=!0,c.reject(s,t))})}(t[o]);return s}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(r){if("TypeError"!==r.name)throw r;for(var i=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)i.append(t[n]);return i.getBlob(e.type)}}function o(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function s(t,e,i){"function"==typeof e&&t.then(e),"function"==typeof i&&t.catch(i)}function a(t){for(var e=t.length,i=new ArrayBuffer(e),n=new Uint8Array(i),r=0;r<e;r++)n[r]=t.charCodeAt(r);return i}function l(t){return new A(function(e){var i=t.transaction(I,"readwrite"),n=r([""]);i.objectStore(I).put(n,"key"),i.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},i.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);e(i||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}function u(t){return"boolean"==typeof T?A.resolve(T):l(t).then(function(t){return T=t})}function h(t){var e=_[t.name],i={};i.promise=new A(function(t){i.resolve=t}),e.deferredOperations.push(i),e.dbReady?e.dbReady=e.dbReady.then(function(){return i.promise}):e.dbReady=i.promise}function c(t){var e=_[t.name].deferredOperations.pop();e&&e.resolve()}function f(t,e){return new A(function(i,n){if(t.db){if(!e)return i(t.db);h(t),t.db.close()}var r=[t.name];e&&r.push(t.version);var o=P.open.apply(P,r);e&&(o.onupgradeneeded=function(e){var i=o.result;try{i.createObjectStore(t.storeName),e.oldVersion<=1&&i.createObjectStore(I)}catch(i){if("ConstraintError"!==i.name)throw i;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),o.onerror=function(t){t.preventDefault(),n(o.error)},o.onsuccess=function(){i(o.result),c(t)}})}function p(t){return f(t,!1)}function d(t){return f(t,!0)}function g(t,e){if(!t.db)return!0;var i=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,r=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),r||i){if(i){var o=t.db.version+1;o>t.version&&(t.version=o)}return!0}return!1}function m(t){return new A(function(e,i){var n=new FileReader;n.onerror=i,n.onloadend=function(i){var n=btoa(i.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:t.type})},n.readAsBinaryString(t)})}function v(t){return r([a(atob(t.data))],{type:t.type})}function y(t){return t&&t.__local_forage_encoded_blob}function b(t){var e=this,i=e._initReady().then(function(){var t=_[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return s(i,t,t),i}function w(t){var e,i,n,r,o,s=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),h=new Uint8Array(u);for(e=0;e<a;e+=4)i=L.indexOf(t[e]),n=L.indexOf(t[e+1]),r=L.indexOf(t[e+2]),o=L.indexOf(t[e+3]),h[l++]=i<<2|n>>4,h[l++]=(15&n)<<4|r>>2,h[l++]=(3&r)<<6|63&o;return u}function x(t){var e,i=new Uint8Array(t),n="";for(e=0;e<i.length;e+=3)n+=L[i[e]>>2],n+=L[(3&i[e])<<4|i[e+1]>>4],n+=L[(15&i[e+1])<<2|i[e+2]>>6],n+=L[63&i[e+2]];return i.length%3==2?n=n.substring(0,n.length-1)+"=":i.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function M(t,e,i,n){var r=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var s=new A(function(o,s){r.ready().then(function(){void 0===e&&(e=null);var a=e,l=r._dbInfo;l.serializer.serialize(e,function(e,u){u?s(u):l.db.transaction(function(i){i.executeSql("INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){o(a)},function(t,e){s(e)})},function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void o(M.apply(r,[t,a,i,n-1]));s(e)}})})}).catch(s)});return o(s,i),s}function S(t,e){t[e]=function(){var i=arguments;return t.ready().then(function(){return t[e].apply(t,i)})}}function C(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var i in e)e.hasOwnProperty(i)&&(st(e[i])?arguments[0][i]=e[i].slice():arguments[0][i]=e[i])}return arguments[0]}function k(t){for(var e in it)if(it.hasOwnProperty(e)&&it[e]===t)return!0;return!1}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},P=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){}}();"undefined"==typeof Promise&&t(3);var T,_,A=Promise,I="local-forage-detect-blob-support",E=Object.prototype.toString,N={_driver:"asyncStorage",_initStorage:function(t){var e=this,i={db:null};if(t)for(var n in t)i[n]=t[n];_||(_={});var r=_[i.name];r||(r={forages:[],db:null,dbReady:null,deferredOperations:[]},_[i.name]=r),r.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=b);for(var o=[],s=0;s<r.forages.length;s++){var a=r.forages[s];a!==e&&o.push(a._initReady().catch(function(){return A.resolve()}))}var l=r.forages.slice(0);return A.all(o).then(function(){return i.db=r.db,p(i)}).then(function(t){return i.db=t,g(i,e._defaultConfig.version)?d(i):t}).then(function(t){i.db=r.db=t,e._dbInfo=i;for(var n=0;n<l.length;n++){var o=l[n];o!==e&&(o._dbInfo.db=i.db,o._dbInfo.version=i.version)}})},iterate:function(t,e){var i=this,n=new A(function(e,n){i.ready().then(function(){var r=i._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName).openCursor(),s=1;o.onsuccess=function(){var i=o.result;if(i){var n=i.value;y(n)&&(n=v(n));var r=t(n,i.key,s++);void 0!==r?e(r):i.continue()}else e()},o.onerror=function(){n(o.error)}}).catch(n)});return o(n,e),n},getItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=new A(function(e,n){i.ready().then(function(){var r=i._dbInfo,o=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName).get(t);o.onsuccess=function(){var t=o.result;void 0===t&&(t=null),y(t)&&(t=v(t)),e(t)},o.onerror=function(){n(o.error)}}).catch(n)});return o(n,e),n},setItem:function(t,e,i){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=new A(function(i,r){var o;n.ready().then(function(){return o=n._dbInfo,"[object Blob]"===E.call(e)?u(o.db).then(function(t){return t?e:m(e)}):e}).then(function(e){var n=o.db.transaction(o.storeName,"readwrite"),s=n.objectStore(o.storeName).put(e,t);null===e&&(e=void 0),n.oncomplete=function(){void 0===e&&(e=null),i(e)},n.onabort=n.onerror=function(){var t=s.error?s.error:s.transaction.error;r(t)}}).catch(r)});return o(r,i),r},removeItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=new A(function(e,n){i.ready().then(function(){var r=i._dbInfo,o=r.db.transaction(r.storeName,"readwrite"),s=o.objectStore(r.storeName).delete(t);o.oncomplete=function(){e()},o.onerror=function(){n(s.error)},o.onabort=function(){var t=s.error?s.error:s.transaction.error;n(t)}}).catch(n)});return o(n,e),n},clear:function(t){var e=this,i=new A(function(t,i){e.ready().then(function(){var n=e._dbInfo,r=n.db.transaction(n.storeName,"readwrite"),o=r.objectStore(n.storeName).clear();r.oncomplete=function(){t()},r.onabort=r.onerror=function(){var t=o.error?o.error:o.transaction.error;i(t)}}).catch(i)});return o(i,t),i},length:function(t){var e=this,i=new A(function(t,i){e.ready().then(function(){var n=e._dbInfo,r=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName).count();r.onsuccess=function(){t(r.result)},r.onerror=function(){i(r.error)}}).catch(i)});return o(i,t),i},key:function(t,e){var i=this,n=new A(function(e,n){t<0?e(null):i.ready().then(function(){var r=i._dbInfo,o=!1,s=r.db.transaction(r.storeName,"readonly").objectStore(r.storeName).openCursor();s.onsuccess=function(){var i=s.result;i?0===t?e(i.key):o?e(i.key):(o=!0,i.advance(t)):e(null)},s.onerror=function(){n(s.error)}}).catch(n)});return o(n,e),n},keys:function(t){var e=this,i=new A(function(t,i){e.ready().then(function(){var n=e._dbInfo,r=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName).openCursor(),o=[];r.onsuccess=function(){var e=r.result;e?(o.push(e.key),e.continue()):t(o)},r.onerror=function(){i(r.error)}}).catch(i)});return o(i,t),i}},L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O="~~local_forage_type~",D=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",q=R.length,F="arbf",z="blob",B="si08",G="ui08",U="uic8",W="si16",V="si32",X="ur16",H="ui32",$="fl32",Y="fl64",J=q+F.length,Z=Object.prototype.toString,K={serialize:function(t,e){var i="";if(t&&(i=Z.call(t)),t&&("[object ArrayBuffer]"===i||t.buffer&&"[object ArrayBuffer]"===Z.call(t.buffer))){var n,r=R;t instanceof ArrayBuffer?(n=t,r+=F):(n=t.buffer,"[object Int8Array]"===i?r+=B:"[object Uint8Array]"===i?r+=G:"[object Uint8ClampedArray]"===i?r+=U:"[object Int16Array]"===i?r+=W:"[object Uint16Array]"===i?r+=X:"[object Int32Array]"===i?r+=V:"[object Uint32Array]"===i?r+=H:"[object Float32Array]"===i?r+=$:"[object Float64Array]"===i?r+=Y:e(new Error("Failed to get type for BinaryArray"))),e(r+x(n))}else if("[object Blob]"===i){var o=new FileReader;o.onload=function(){var i=O+t.type+"~"+x(this.result);e(R+z+i)},o.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(i){console.error("Couldn't convert value into a JSON string: ",t),e(null,i)}},deserialize:function(t){if(t.substring(0,q)!==R)return JSON.parse(t);var e,i=t.substring(J),n=t.substring(q,J);if(n===z&&D.test(i)){var o=i.match(D);e=o[1],i=i.substring(o[0].length)}var s=w(i);switch(n){case F:return s;case z:return r([s],{type:e});case B:return new Int8Array(s);case G:return new Uint8Array(s);case U:return new Uint8ClampedArray(s);case W:return new Int16Array(s);case X:return new Uint16Array(s);case V:return new Int32Array(s);case H:return new Uint32Array(s);case $:return new Float32Array(s);case Y:return new Float64Array(s);default:throw new Error("Unkown type: "+n)}},stringToBuffer:w,bufferToString:x},Q={_driver:"webSQLStorage",_initStorage:function(t){var e=this,i={db:null};if(t)for(var n in t)i[n]="string"!=typeof t[n]?t[n].toString():t[n];var r=new A(function(t,n){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(t){return n(t)}i.db.transaction(function(r){r.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){e._dbInfo=i,t()},function(t,e){n(e)})})});return i.serializer=K,r},iterate:function(t,e){var i=this,n=new A(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("SELECT * FROM "+r.storeName,[],function(i,n){for(var o=n.rows,s=o.length,a=0;a<s;a++){var l=o.item(a),u=l.value;if(u&&(u=r.serializer.deserialize(u)),void 0!==(u=t(u,l.key,a+1)))return void e(u)}e()},function(t,e){n(e)})})}).catch(n)});return o(n,e),n},getItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=new A(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("SELECT * FROM "+r.storeName+" WHERE key = ? LIMIT 1",[t],function(t,i){var n=i.rows.length?i.rows.item(0).value:null;n&&(n=r.serializer.deserialize(n)),e(n)},function(t,e){n(e)})})}).catch(n)});return o(n,e),n},setItem:function(t,e,i){return M.apply(this,[t,e,i,1])},removeItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=new A(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("DELETE FROM "+r.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){n(e)})})}).catch(n)});return o(n,e),n},clear:function(t){var e=this,i=new A(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){e.executeSql("DELETE FROM "+n.storeName,[],function(){t()},function(t,e){i(e)})})}).catch(i)});return o(i,t),i},length:function(t){var e=this,i=new A(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){e.executeSql("SELECT COUNT(key) as c FROM "+n.storeName,[],function(e,i){var n=i.rows.item(0).c;t(n)},function(t,e){i(e)})})}).catch(i)});return o(i,t),i},key:function(t,e){var i=this,n=new A(function(e,n){i.ready().then(function(){var r=i._dbInfo;r.db.transaction(function(i){i.executeSql("SELECT key FROM "+r.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,i){var n=i.rows.length?i.rows.item(0).key:null;e(n)},function(t,e){n(e)})})}).catch(n)});return o(n,e),n},keys:function(t){var e=this,i=new A(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){e.executeSql("SELECT key FROM "+n.storeName,[],function(e,i){for(var n=[],r=0;r<i.rows.length;r++)n.push(i.rows.item(r).key);t(n)},function(t,e){i(e)})})}).catch(i)});return o(i,t),i}},tt={_driver:"localStorageWrapper",_initStorage:function(t){var e=this,i={};if(t)for(var n in t)i[n]=t[n];return i.keyPrefix=i.name+"/",i.storeName!==e._defaultConfig.storeName&&(i.keyPrefix+=i.storeName+"/"),e._dbInfo=i,i.serializer=K,A.resolve()},iterate:function(t,e){var i=this,n=i.ready().then(function(){for(var e=i._dbInfo,n=e.keyPrefix,r=n.length,o=localStorage.length,s=1,a=0;a<o;a++){var l=localStorage.key(a);if(0===l.indexOf(n)){var u=localStorage.getItem(l);if(u&&(u=e.serializer.deserialize(u)),void 0!==(u=t(u,l.substring(r),s++)))return u}}});return o(n,e),n},getItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=i.ready().then(function(){var e=i._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n});return o(n,e),n},setItem:function(t,e,i){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var r=n.ready().then(function(){void 0===e&&(e=null);var i=e;return new A(function(r,o){var s=n._dbInfo;s.serializer.serialize(e,function(e,n){if(n)o(n);else try{localStorage.setItem(s.keyPrefix+t,e),r(i)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||o(t),o(t)}})})});return o(r,i),r},removeItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=i.ready().then(function(){var e=i._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return o(n,e),n},clear:function(t){var e=this,i=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){var n=localStorage.key(i);0===n.indexOf(t)&&localStorage.removeItem(n)}});return o(i,t),i},length:function(t){var e=this.keys().then(function(t){return t.length});return o(e,t),e},key:function(t,e){var i=this,n=i.ready().then(function(){var e,n=i._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e});return o(n,e),n},keys:function(t){var e=this,i=e.ready().then(function(){for(var t=e._dbInfo,i=localStorage.length,n=[],r=0;r<i;r++)0===localStorage.key(r).indexOf(t.keyPrefix)&&n.push(localStorage.key(r).substring(t.keyPrefix.length));return n});return o(i,t),i}},et={},it={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],rt={description:"",driver:[it.INDEXEDDB,it.WEBSQL,it.LOCALSTORAGE].slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},ot={};ot[it.INDEXEDDB]=function(){try{if(!P)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),ot[it.WEBSQL]="function"==typeof openDatabase,ot[it.LOCALSTORAGE]=function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(t){return!1}}();var st=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at=new(function(){function t(e){n(this,t),this.INDEXEDDB=it.INDEXEDDB,this.LOCALSTORAGE=it.LOCALSTORAGE,this.WEBSQL=it.WEBSQL,this._defaultConfig=C({},rt),this._config=C({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":j(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,i){var n=new A(function(e,i){try{var n=t._driver,r=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),o=new Error("Custom driver name already in use: "+t._driver);if(!t._driver)return void i(r);if(k(t._driver))return void i(o);for(var s=nt.concat("_initStorage"),a=0;a<s.length;a++){var l=s[a];if(!l||!t[l]||"function"!=typeof t[l])return void i(r)}var u=A.resolve(!0);"_support"in t&&(u=t._support&&"function"==typeof t._support?t._support():A.resolve(!!t._support)),u.then(function(i){ot[n]=i,et[n]=t,e()},i)}catch(t){i(t)}});return s(n,e,i),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,i){var n=this,r=A.resolve().then(function(){if(!k(t)){if(et[t])return et[t];throw new Error("Driver not found.")}switch(t){case n.INDEXEDDB:return N;case n.LOCALSTORAGE:return tt;case n.WEBSQL:return Q}});return s(r,e,i),r},t.prototype.getSerializer=function(t){var e=A.resolve(K);return s(e,t),e},t.prototype.ready=function(t){var e=this,i=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return s(i,t,t),i},t.prototype.setDriver=function(t,e,i){function n(){a._config.driver=a.driver()}function r(t){return a._extend(t),n(),a._ready=a._initStorage(a._config),a._ready}function o(t){return function(){function e(){for(;i<t.length;){var o=t[i];return i++,a._dbInfo=null,a._ready=null,a.getDriver(o).then(r).catch(e)}n();var s=new Error("No available storage method found.");return a._driverSet=A.reject(s),a._driverSet}var i=0;return e()}}var a=this;st(t)||(t=[t]);var l=this._getSupportedDrivers(t),u=null!==this._driverSet?this._driverSet.catch(function(){return A.resolve()}):A.resolve();return this._driverSet=u.then(function(){var t=l[0];return a._dbInfo=null,a._ready=null,a.getDriver(t).then(function(t){a._driver=t._driver,n(),a._wrapLibraryMethodsWithReady(),a._initDriver=o(l)})}).catch(function(){n();var t=new Error("No available storage method found.");return a._driverSet=A.reject(t),a._driverSet}),s(this._driverSet,e,i),this._driverSet},t.prototype.supports=function(t){return!!ot[t]},t.prototype._extend=function(t){C(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var r=t[i];this.supports(r)&&e.push(r)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0;t<nt.length;t++)S(this,nt[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=at},{3:3}]},{},[4])(4)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],27:[function(t,e,i){(function(n){!function(t,n){"object"==typeof i?e.exports=n():"function"==typeof define&&define.amd?define([],n):t.ol=n()}(this,function(){function e(t,e){var i=ah,n=t.split("."),i=i||mh;n[0]in i||!i.execScript||i.execScript("var "+n[0]);for(var r;n.length&&(r=n.shift());)n.length||void 0===e?i=i[r]&&Object.prototype.hasOwnProperty.call(i,r)?i[r]:i[r]={}:i[r]=e}function i(t,e){return t>e?1:t<e?-1:0}function r(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(0<i){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function o(t,e){var i,n=Array.isArray(e)?e:[e],r=n.length;for(i=0;i<r;i++)t[t.length]=n[i]}function s(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function a(t){var e,i=gr,n=t.length,r=Array(t.length);for(e=0;e<n;e++)r[e]={index:e,value:t[e]};for(r.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=r[e].value}function l(t,e){var n=e||i;return t.every(function(e,i){if(!i)return!0;var r=n(t[i-1],e);return!(0<r||0===r)})}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function h(){}function c(t){return t.Fh||(t.Fh=++vh)}function f(t){this.message="Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function p(t,e){if(!t)throw new f(e)}function d(t,e,i,n){this.M=t,this.O=e,this.P=i,this.S=n}function g(t,e,i){return t.M<=e&&e<=t.O&&t.P<=i&&i<=t.S}function m(t,e){return t.M<=e.O&&t.O>=e.M&&t.P<=e.S&&t.S>=e.P}function v(t,e,i){return Math.min(Math.max(t,e),i)}function y(t,e,i,n){return t=i-t,e=n-e,t*t+e*e}function b(t){return t*Math.PI/180}function w(t,e){var i=t%e;return 0>i*e?i+e:i}function x(t,e,i){return t+i*(e-t)}function M(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function S(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function C(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function k(t){for(var e=A(),i=0,n=t.length;i<n;++i)O(e,t[i]);return e}function j(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function P(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function T(t,e,i){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0,e*e+t*t}function _(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function A(){return[1/0,1/0,-1/0,-1/0]}function I(t,e,i,n,r){return r?(r[0]=t,r[1]=e,r[2]=i,r[3]=n,r):[t,e,i,n]}function E(t){return I(1/0,1/0,-1/0,-1/0,t)}function N(t,e){var i=t[0],n=t[1];return I(i,n,i,n,e)}function L(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function O(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function D(t,e,i,n,r){for(;i<n;i+=r){var o=t,s=e[i],a=e[i+1];o[0]=Math.min(o[0],s),o[1]=Math.min(o[1],a),o[2]=Math.max(o[2],s),o[3]=Math.max(o[3],a)}return t}function R(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function q(t,e,i,n,r){h=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var o=Math.sin(i);i=h*e,h*=o,e*=n;var s=n*o,a=t[0],l=t[1];t=a-i+s,n=a-i-s,o=a+i-s,i=a+i+s;var s=l-h-e,a=l-h+e,u=l+h+e,h=l+h-e;return I(Math.min(t,n,o,i),Math.min(s,a,u,h),Math.max(t,n,o,i),Math.max(s,a,u,h),r)}function F(t,e){var i=A();return G(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function z(t){return[t[0],t[3]]}function B(t){return t[2]-t[0]}function G(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function U(t){for(var e in t)delete t[e]}function W(t){var e,i=[];for(e in t)i.push(t[e]);return i}function V(t){for(var e in t)return!1;return!e}function X(t){this.radius=t}function H(t){this.Ia=t.code,this.a=t.units,this.j=void 0!==t.extent?t.extent:null,this.b=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.i=void 0!==t.global&&t.global,this.c=!(!this.i||!this.j),this.o=t.getPointResolution,this.g=null,this.u=t.metersPerUnit;var e=t.code,i=window.proj4;"function"==typeof i&&void 0!==(e=i.defs(e))&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.b=e.axis),void 0===t.metersPerUnit&&(this.u=e.to_meter),void 0===t.units&&(this.a=e.units))}function $(t){H.call(this,{code:t,units:"m",extent:Sh,global:!0,worldExtent:Ch,getPointResolution:function(t,e){return t/yh(e[1]/6378137)}})}function Y(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n));for(var r=0;r<n;r+=i){e[r]=Mh*t[r]/180;var o=6378137*Math.log(Math.tan(Math.PI*(t[r+1]+90)/360));o>Mh?o=Mh:o<-Mh&&(o=-Mh),e[r+1]=o}return e}function J(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n));for(var r=0;r<n;r+=i)e[r]=180*t[r]/Mh,e[r+1]=360*Math.atan(Math.exp(t[r+1]/6378137))/Math.PI-90;return e}function Z(t,e){H.call(this,{code:t,units:"degrees",extent:Ph,axisOrientation:e,global:!0,metersPerUnit:Th,worldExtent:Ph})}function K(t,e,i){t=t.Ia,e=e.Ia,t in Ih||(Ih[t]={}),Ih[t][e]=i}function Q(t,e){var i;return t in Ih&&e in Ih[t]&&(i=Ih[t][e]),i}function tt(t){it(t),t.forEach(function(e){t.forEach(function(t){e!==t&&K(e,t,ht)})})}function et(t){Ah[t.Ia]=t,K(t,t,ht)}function it(t){var e=[];t.forEach(function(t){e.push(et(t))})}function nt(t){return t?"string"==typeof t?ot(t):t:ot("EPSG:3857")}function rt(t){return function(e,i,n){var r=e.length;n=void 0!==n?n:2,i=void 0!==i?i:Array(r);var o,s;for(s=0;s<r;s+=n)for(o=t([e[s],e[s+1]]),i[s]=o[0],i[s+1]=o[1],o=n-1;2<=o;--o)i[s+o]=e[s+o];return i}}function ot(t){e=null;if(t instanceof H)e=t;else if("string"==typeof t){var e=Ah[t]||null,i=window.proj4;e||"function"!=typeof i||void 0===i.defs(t)||(e=new H({code:t}),et(e))}return e}function st(t,e){if(t===e)return!0;var i=t.a===e.a;return t.Ia===e.Ia?i:lt(t,e)===ht&&i}function at(t,e){return lt(ot(t),ot(e))}function lt(t,e){var i=t.Ia,n=e.Ia,r=Q(i,n);if(!r){var o=window.proj4;if("function"==typeof o){var s=o.defs(i),a=o.defs(n);void 0!==s&&void 0!==a&&(s===a?tt([e,t]):(o=o(n,i),r=o.forward,o=o.inverse,s=ot(e),a=ot(t),K(s,a,rt(r)),K(a,s,rt(o))),r=Q(i,n))}}return r||(r=ut),r}function ut(t,e){if(void 0!==e&&t!==e){for(var i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function ht(t,e){var i;if(void 0!==e){i=0;for(var n=t.length;i<n;++i)e[i]=t[i];i=e}else i=t.slice();return i}function ct(t,e,i){(e=at(e,i))(t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],t,2),i=[t[0],t[2],t[4],t[6]];var n=[t[1],t[3],t[5],t[7]];return t=Math.min.apply(null,i),e=Math.min.apply(null,n),i=Math.max.apply(null,i),n=Math.max.apply(null,n),I(t,e,i,n,void 0)}function ft(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.b=t.resolutions,p(l(this.b,function(t,e){return e-t}),17),this.maxZoom=this.b.length-1,this.f=void 0!==t.origin?t.origin:null,this.a=null,void 0!==t.origins&&(this.a=t.origins,p(this.a.length==this.b.length,20));var e=t.extent;void 0===e||this.f||this.a||(this.f=z(e)),p(!this.f&&this.a||this.f&&!this.a,18),this.g=null,void 0!==t.tileSizes&&(this.g=t.tileSizes,p(this.g.length==this.b.length,19)),this.i=void 0!==t.tileSize?t.tileSize:this.g?null:256,p(!this.i&&this.g||this.i&&!this.g,22),this.o=void 0!==e?e:null,this.c=null,this.u=[0,0],void 0!==t.sizes?this.c=t.sizes.map(function(t){return new d(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&wt(this,e)}function pt(t,e,i,n){vt(t,e[0],e[1],i,!1,Eh);var r=Eh[1],o=Eh[2];return vt(t,e[2],e[3],i,!0,Eh),t=Eh[1],e=Eh[2],void 0!==n?(n.M=r,n.O=t,n.P=o,n.S=e):n=new d(r,t,o,e),n}function dt(t,e,i,n){return pt(t,e,t.b[i],n)}function gt(t,e){var i=t.f?t.f:t.a[e[0]],n=t.b[e[0]],r=C(yt(t,e[0]),t.u);return[i[0]+(e[1]+.5)*r[0]*n,i[1]+(e[2]+.5)*r[1]*n]}function mt(t,e,i){var n=t.f?t.f:t.a[e[0]],r=t.b[e[0]];t=C(yt(t,e[0]),t.u);var o=n[0]+e[1]*t[0]*r;return e=n[1]+e[2]*t[1]*r,I(o,e,o+t[0]*r,e+t[1]*r,i)}function vt(t,e,i,n,r,o){var s=bt(t,n),a=n/t.b[s],l=t.f?t.f:t.a[s];return t=C(yt(t,s),t.u),e=a*Math.floor((e-l[0])/n+(r?.5:0))/t[0],i=a*Math.floor((i-l[1])/n+(r?0:.5))/t[1],r?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),r=e,void 0!==o?(o[0]=s,o[1]=r,o[2]=i):o=[s,r,i],o}function yt(t,e){return t.i?t.i:t.g[e]}function bt(t,e,i){return v(r(t.b,e,i||0),t.minZoom,t.maxZoom)}function wt(t,e){for(var i=t.b.length,n=Array(i),r=t.minZoom;r<i;++r)n[r]=dt(t,e,r);t.c=n}function xt(t){var e={};return bh(e,t||{}),void 0===e.extent&&(e.extent=ot("EPSG:3857").J()),e.resolutions=Mt(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new ft(e)}function Mt(t,e,i){e=void 0!==e?e:42;var n=t[3]-t[1];for(t=B(t),i=C(void 0!==i?i:256),i=Math.max(t/i[0],n/i[1]),e+=1,n=Array(e),t=0;t<e;++t)n[t]=i/Math.pow(2,t);return n}function St(t){var e=(t=ot(t)).J();return e||(t=180*xh.degrees/t.f(),e=I(-t,-t,t,t)),e}function Ct(t){this.f=t.html,this.b=t.tileRanges?t.tileRanges:null}function kt(t){return function(e){if(e)return[v(e[0],t[0],t[2]),v(e[1],t[1],t[3])]}}function jt(t){return t}function Pt(t){return t.Kd=function(e){var i=t.listener,n=t.Jd||t.target;return t.Md&&Lt(t),i.call(n,e)}}function Tt(t,e,i,n){for(var r,o=0,s=t.length;o<s;++o)if((r=t[o]).listener===e&&r.Jd===i)return n&&(r.deleteIndex=o),r}function _t(t,e){var i=t.La;return i?i[e]:void 0}function At(t){var e=t.La;return e||(e=t.La={}),e}function It(t,e){var i=_t(t,e);if(i){for(var n=0,r=i.length;n<r;++n)t.removeEventListener(e,i[n].Kd),U(i[n]);i.length=0,(i=t.La)&&(delete i[e],Object.keys(i).length||delete t.La)}}function Et(t,e,i,n,r){var o=At(t),s=o[e];return s||(s=o[e]=[]),(o=Tt(s,i,n,!1))?r||(o.Md=!1):(o={Jd:n,Md:!!r,listener:i,target:t,type:e},t.addEventListener(e,Pt(o)),s.push(o)),o}function Nt(t,e,i,n){(t=_t(t,e))&&(i=Tt(t,i,n,!0))&&Lt(i)}function Lt(t){if(t&&t.target){t.target.removeEventListener(t.type,t.Kd);var e=_t(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),e.length||It(t.target,t.type)}U(t)}}function Ot(){}function Dt(t){t.tb||(t.tb=!0,t.ka())}function Rt(t){this.type=t,this.target=null}function qt(t){t.stopPropagation()}function Ft(){this.Aa={},this.ga={},this.aa={}}function zt(t,e){var i="string"==typeof e?new Rt(e):e,n=i.type;i.target=t;var r,o=t.aa[n];if(o){n in t.ga||(t.ga[n]=0,t.Aa[n]=0),++t.ga[n];for(var s=0,a=o.length;s<a;++s)if(!1===o[s].call(t,i)||i.Th){r=!1;break}if(--t.ga[n],!t.ga[n]){for(i=t.Aa[n],delete t.Aa[n];i--;)t.removeEventListener(n,h);delete t.ga[n]}return r}}function Bt(t,e){return e?e in t.aa:0<Object.keys(t.aa).length}function Gt(){Ft.call(this),this.f=0}function Ut(t){Gt.call(this),c(this),this.K={},void 0!==t&&this.oa(t)}function Wt(t){return Nh.hasOwnProperty(t)?Nh[t]:Nh[t]="change:"+t}function Vt(t,e,i){zt(t,new Xt(Wt(e),e,i)),zt(t,new Xt("propertychange",e,i))}function Xt(t,e,i){Rt.call(this,t),this.key=e,this.oldValue=i}function Ht(t,e){if(Ut.call(this),this.c=!!(e||{}).unique,this.a=t||[],this.c)for(var i=0,n=this.a.length;i<n;++i)Zt(this,this.a[i],i);Jt(this)}function $t(t,e){var i,n;for(i=0,n=e.length;i<n;++i)t.push(e[i])}function Yt(t,e){var i=t.a[e];return t.a.splice(e,1),Jt(t),zt(t,new Kt("remove",i)),i}function Jt(t){t.set(Lh,t.a.length)}function Zt(t,e,i){for(var n=0,r=t.a.length;n<r;++n)if(t.a[n]===e&&n!==i)throw new f(58)}function Kt(t,e){Rt.call(this,t),this.element=e}function Qt(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function te(t){var e=[];return e[0]=v(t[0]+.5|0,0,255),e[1]=v(t[1]+.5|0,0,255),e[2]=v(t[2]+.5|0,0,255),e[3]=v(t[3],0,1),e}function ee(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Qt(t)}function ie(t,e,i){this.center=t,this.resolution=e,this.rotation=i}function ne(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function re(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function oe(t){Ut.call(this),this.element=t.element?t.element:null,this.v=this.I=null,this.s=[],this.render=t.render?t.render:h,t.target&&(t=t.target,this.I="string"==typeof t?document.getElementById(t):t)}function se(t){t=t||{},this.G=document.createElement("UL"),this.o=document.createElement("LI"),this.G.appendChild(this.o),this.o.style.display="none",this.c=void 0===t.collapsed||t.collapsed,this.i=void 0===t.collapsible||t.collapsible,this.i||(this.c=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof n?(this.j=document.createElement("span"),this.j.textContent=n):this.j=n,"string"==typeof(n=void 0!==t.label?t.label:"i")?(this.B=document.createElement("span"),this.B.textContent=n):this.B=n;var r=this.i&&!this.c?this.j:this.B;(n=document.createElement("button")).setAttribute("type","button"),n.title=i,n.appendChild(r),Et(n,"click",this.W,this),(i=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.c&&this.i?" ol-collapsed":"")+(this.i?"":" ol-uncollapsible"),i.appendChild(this.G),i.appendChild(n),oe.call(this,{element:i,render:t.render?t.render:ae,target:t.target}),this.C=!0,this.g={},this.a={},this.V={}}function ae(t){if(t=t.frameState){var e,i,n,r,o,s,a,l,u,h,f,p=t.layerStatesArray,g=bh({},t.attributions),v={},y={},b=t.viewState.projection;for(i=0,e=p.length;i<e;i++)if((s=p[i].layer.da())&&(h=c(s).toString(),u=s.V))for(n=0,r=u.length;n<r;n++)if(a=u[n],!((l=c(a).toString())in g)){if(o=t.usedTiles[h])t:{f=void 0;var x,M,S=a,C=P=s.Ma(b),k=b;if(S.b){for(f in o)if(f in S.b){var j,P=o[f];for(M=0,x=S.b[f].length;M<x;++M){if(j=S.b[f][M],m(j,P)){f=!0;break t}var T=dt(C,St(k),parseInt(f,10)),_=T.O-T.M+1;if((P.M<T.M||P.O>T.O)&&(m(j,new d(w(P.M,_),w(P.O,_),P.P,P.S))||P.O-P.M+1>_&&m(j,T))){f=!0;break t}}}f=!1}else f=!0}else f=!1;f?(l in v&&delete v[l],(f=a.f)in y||(y[f]=!0,g[l]=a)):v[l]=a}i=(e=[g,v])[0],e=e[1];for(var A in this.g)A in i?(this.a[A]||(this.g[A].style.display="",this.a[A]=!0),delete i[A]):A in e?(this.a[A]&&(this.g[A].style.display="none",delete this.a[A]),delete e[A]):(re(this.g[A]),delete this.g[A],delete this.a[A]);for(A in i)n=document.createElement("LI"),n.innerHTML=i[A].f,this.G.appendChild(n),this.g[A]=n,this.a[A]=!0;for(A in e)n=document.createElement("LI"),n.innerHTML=e[A].f,n.style.display="none",this.G.appendChild(n),this.g[A]=n;A=!V(this.a)||!V(t.logos),this.C!=A&&(this.element.style.display=A?"":"none",this.C=A),A&&V(this.a)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var I;t=t.logos,A=this.V;for(I in A)I in t||(re(A[I]),delete A[I]);for(var E in t)(e=t[E])instanceof HTMLElement&&(this.o.appendChild(e),A[E]=e),E in A||(I=new Image,I.src=E,""===e?i=I:(i=document.createElement("a"),i.href=e,i.appendChild(I)),this.o.appendChild(i),A[E]=i);this.o.style.display=V(t)?"none":""}else this.C&&(this.element.style.display="none",this.C=!1)}function le(t){if(t.element.classList.toggle("ol-collapsed"),t.c){var e=t.B,i=e.parentNode;i&&i.replaceChild(t.j,e)}else e=t.j,(i=e.parentNode)&&i.replaceChild(t.B,e);t.c=!t.c}function ue(t){return 1-Math.pow(1-t,3)}function he(t){return 3*t*t-2*t*t*t}function ce(t){return t}function fe(t){var e=void 0!==(t=t||{}).className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧";this.a=null,"string"==typeof i?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=i):(this.a=i,this.a.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation";(i=document.createElement("button")).className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.a),Et(i,"click",fe.prototype.o,this),(n=document.createElement("div")).className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:pe,this.g=t.resetNorth?t.resetNorth:void 0,oe.call(this,{element:n,render:e,target:t.target}),this.i=void 0!==t.duration?t.duration:250,this.c=void 0===t.autoHide||t.autoHide,this.j=void 0,this.c&&this.element.classList.add("ol-hidden")}function pe(t){if(t=t.frameState){if((t=t.viewState.rotation)!=this.j){var e="rotate("+t+"rad)";if(this.c){var i=this.element.classList.contains("ol-hidden");i||t?i&&t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=e,this.a.style.webkitTransform=e,this.a.style.transform=e}this.j=t}}function de(t){var e=void 0!==(t=t||{}).className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",r=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",o=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",s=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=o,a.appendChild("string"==typeof n?document.createTextNode(n):n),Et(a,"click",de.prototype.c.bind(this,i)),(n=document.createElement("button")).className=e+"-out",n.setAttribute("type","button"),n.title=s,n.appendChild("string"==typeof r?document.createTextNode(r):r),Et(n,"click",de.prototype.c.bind(this,-i)),(i=document.createElement("div")).className=e+" ol-unselectable ol-control",i.appendChild(a),i.appendChild(n),oe.call(this,{element:i,target:t.target}),this.a=void 0!==t.duration?t.duration:250}function ge(t){t=t||{};var e=new Ht;return(void 0!==t.zoom?t.zoom:1)&&e.push(new de(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new fe(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new se(t.attributionOptions)),e}function me(t,e,i){Rt.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function ve(t,e,i,n,r){me.call(this,t,e,r),this.originalEvent=i,t=e.a.getBoundingClientRect(),i=i.changedTouches?i.changedTouches[0]:i,this.pixel=[i.clientX-t.left,i.clientY-t.top],this.coordinate=e.Ea(this.pixel),this.dragging=void 0!==n&&n}function ye(t,e,i,n,r){ve.call(this,t,e,i.b,n,r),this.b=i}function be(t,e){this.b=t,this.g=e}function we(t){be.call(this,t,{mousedown:this.Eg,mousemove:this.Fg,mouseup:this.Ig,mouseover:this.Hg,mouseout:this.Gg}),this.f=t.f,this.a=[]}function xe(t,e){for(var i,n=t.a,r=e.clientX,o=e.clientY,s=0,a=n.length;s<a&&(i=n[s]);s++){var l=Math.abs(o-i[1]);if(25>=Math.abs(r-i[0])&&25>=l)return!0}return!1}function Me(t){var e=Re(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function Se(t){be.call(this,t,{MSPointerDown:this.Ng,MSPointerMove:this.Og,MSPointerUp:this.Rg,MSPointerOut:this.Pg,MSPointerOver:this.Qg,MSPointerCancel:this.Mg,MSGotPointerCapture:this.Kg,MSLostPointerCapture:this.Lg}),this.f=t.f,this.a=["","unavailable","touch","pen","mouse"]}function Ce(t,e){var i=e;return"number"==typeof e.pointerType&&(i=Re(e,e),i.pointerType=t.a[e.pointerType]),i}function ke(t){be.call(this,t,{pointerdown:this.Mh,pointermove:this.Nh,pointerup:this.Qh,pointerout:this.Oh,pointerover:this.Ph,pointercancel:this.Lh,gotpointercapture:this.eg,lostpointercapture:this.Cg})}function je(t,e,i){Rt.call(this,t),this.b=e,t=i||{},this.buttons=Pe(t),this.pressure=Te(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function Pe(t){if(t.buttons||Zh)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function Te(t,e){return t.pressure?t.pressure:e?.5:0}function _e(t,e){be.call(this,t,{touchstart:this.ui,touchmove:this.ti,touchend:this.si,touchcancel:this.ri}),this.f=t.f,this.u=e,this.a=void 0,this.i=0,this.c=void 0}function Ae(t,e,i){return e=Re(e,i),e.pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.i,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.a===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function Ie(t,e,i){var n,r,o=Array.prototype.slice.call(e.changedTouches),s=o.length;for(n=0;n<s;++n)r=Ae(t,e,o[n]),r.preventDefault=function(){e.preventDefault()},i.call(t,e,r)}function Ee(t,e){var i=t.u.a,n=e.changedTouches[0];if(t.a===n.identifier){var r=[n.clientX,n.clientY];i.push(r),setTimeout(function(){var t=i.indexOf(r);-1<t&&i.splice(t,1)},2500)}}function Ne(t){Ft.call(this),this.g=t,this.f={},this.c={},this.b=[],Yh?Le(this,new ke(this)):Jh?Le(this,new Se(this)):(t=new we(this),Le(this,t),$h&&Le(this,new _e(this,t))),t=this.b.length;for(var e,i=0;i<t;i++)e=this.b[i],Oe(this,Object.keys(e.g))}function Le(t,e){var i=Object.keys(e.g);i&&(i.forEach(function(t){var i=e.g[t];i&&(this.c[t]=i.bind(e))},t),t.b.push(e))}function Oe(t,e){e.forEach(function(t){Et(this.g,t,this.a,this)},t)}function De(t,e){e.forEach(function(t){Nt(this.g,t,this.a,this)},t)}function Re(t,e){for(var i,n={},r=0,o=Kh.length;r<o;r++)i=Kh[r][0],n[i]=t[i]||e[i]||Kh[r][1];return n}function qe(t,e,i){e.bubbles=!1,Be(t,"pointerleave",e,i)}function Fe(t,e,i){t.out(e,i);var n=e.target,r=e.relatedTarget;n&&r&&n.contains(r)||qe(t,e,i)}function ze(t,e,i){e.bubbles=!0,Be(t,"pointerover",e,i);var n=e.target,r=e.relatedTarget;n&&r&&n.contains(r)||(e.bubbles=!1,Be(t,"pointerenter",e,i))}function Be(t,e,i,n){zt(t,new je(e,n,i))}function Ge(t,e){zt(t,new je(e.type,e,e))}function Ue(t){Ft.call(this),this.a=t,this.i=0,this.u=!1,this.c=[],this.f=null,t=this.a.a,this.B=0,this.K={},this.g=new Ne(t),this.b=null,this.j=Et(this.g,"pointerdown",this.ng,this),this.o=Et(this.g,"pointermove",this.hi,this)}function We(t,e){var i=new ye("click",t.a,e);zt(t,i),t.i?(clearTimeout(t.i),t.i=0,i=new ye("dblclick",t.a,e),zt(t,i)):t.i=setTimeout(function(){this.i=0,zt(this,new ye("singleclick",this.a,e))}.bind(t),250)}function Ve(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.K[e.pointerId]:"pointerdown"==e.type&&(t.K[e.pointerId]=!0),t.B=Object.keys(t.K).length}function Xe(t,e){this.o=t,this.c=e,this.b=[],this.f=[],this.a={}}function He(t,e){for(var i=t.b,n=t.f,r=i.length,o=i[e],s=n[e],a=e;e<r>>1;){var l=2*e+1,u=2*e+2,l=u<r&&n[u]<n[l]?u:l;i[e]=i[l],n[e]=n[l],e=l}i[e]=o,n[e]=s,$e(t,a,e)}function $e(t,e,i){var n=t.b;t=t.f;for(var r=n[i],o=t[i];i>e;){var s=i-1>>1;if(!(t[s]>o))break;n[i]=n[s],t[i]=t[s],i=s}n[i]=r,t[i]=o}function Ye(t,e){Xe.call(this,function(e){return t.apply(null,e)},function(t){return t[0].Xa()}),this.K=e,this.i=0,this.g={}}function Je(t){return function(e,i,n){if(void 0!==e)return e=r(t,e,n),e=v(e+i,0,t.length-1),i=Math.floor(e),e!=i&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]}}function Ze(t,e,i){return function(n,r,o){if(void 0!==n)return n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-o/2+.5))+r,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)}}function Ke(t){if(void 0!==t)return 0}function Qe(t,e){if(void 0!==t)return t+e}function ti(t){var e=2*Math.PI/t;return function(t,i){if(void 0!==t)return t=Math.floor((t+i)/e+.5)*e}}function ei(){var t=b(5);return function(e,i){if(void 0!==e)return Math.abs(e+i)<=t?0:e+i}}function ii(t){var e=(t=""+t).indexOf(".");return 2<(e=-1===e?t.length:e)?t:Array(3-e).join("0")+t}function ni(t,e){t[0]+=e[0],t[1]+=e[1]}function ri(t,e){var i=t[0],n=t[1],r=e[0],o=e[1],s=r[0],r=r[1],a=o[0],l=a-s,u=(o=o[1])-r;return 0>=(i=l||u?(l*(i-s)+u*(n-r))/(l*l+u*u||0):0)||(1<=i?(s=a,r=o):(s+=i*l,r+=i*u)),[s,r]}function oi(t,e){for(var i=!0,n=t.length-1;0<=n;--n)if(t[n]!=e[n]){i=!1;break}return i}function si(t,e){var i=Math.cos(e),n=Math.sin(e),r=t[1]*i+t[0]*n;t[0]=t[0]*i-t[1]*n,t[1]=r}function ai(t,e){t[0]*=e,t[1]*=e}function li(t,e){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function ui(t,e){return Math.sqrt(li(t,e))}function hi(t,e){return li(t,ri(t,e))}function ci(){return!0}function fi(){return!1}function pi(){Ut.call(this),this.o=A(),this.B=-1,this.c={},this.j=this.g=0}function di(t,e,i,n,r,o){for(var s=o||[],a=0;e<i;e+=n){var l=t[e],u=t[e+1];s[a++]=r[0]*l+r[2]*u+r[4],s[a++]=r[1]*l+r[3]*u+r[5]}return o&&s.length!=a&&(s.length=a),s}function gi(){pi.call(this),this.X="XY",this.A=2,this.l=null}function mi(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function vi(t,e,i){t.A=mi(e),t.X=e,t.l=i}function yi(t,e,i,n){if(e)i=mi(e);else{for(e=0;e<n;++e){if(!i.length)return t.X="XY",void(t.A=2);i=i[0]}var r;2==(i=i.length)?r="XY":3==i?r="XYZ":4==i&&(r="XYZM"),e=r}t.X=e,t.A=i}function bi(t,e,i,n){var r,o,s=0;for(r=0,o=i.length;r<o;++r){for(var a=i[r],l=0,u=t[a-n],h=t[a-n+1];e<a;e+=n)var c=t[e],f=t[e+1],l=l+(h*c-u*f),u=c,h=f;s+=l/2,e=a}return s}function wi(t,e,i,n,r,o,s){var a=t[e],l=t[e+1],u=t[i]-a,h=t[i+1]-l;if(u||h)if(1<(o=((r-a)*u+(o-l)*h)/(u*u+h*h)))e=i;else if(0<o){for(r=0;r<n;++r)s[r]=x(t[e+r],t[i+r],o);return void(s.length=n)}for(r=0;r<n;++r)s[r]=t[e+r];s.length=n}function xi(t,e,i,n,r){var o=t[e],s=t[e+1];for(e+=n;e<i;e+=n){var a=t[e],l=t[e+1];(o=y(o,s,a,l))>r&&(r=o),o=a,s=l}return r}function Mi(t,e,i,n,r){var o,s;for(o=0,s=i.length;o<s;++o){var a=i[o];r=xi(t,e,a,n,r),e=a}return r}function Si(t,e,i,n,r,o,s,a,l,u,h){if(e==i)return u;var c;if(!r){if((c=y(s,a,t[e],t[e+1]))<u){for(h=0;h<n;++h)l[h]=t[e+h];return l.length=n,c}return u}for(var f=h||[NaN,NaN],p=e+n;p<i;)if(wi(t,p-n,p,n,s,a,f),(c=y(s,a,f[0],f[1]))<u){for(u=c,h=0;h<n;++h)l[h]=f[h];l.length=n,p+=n}else p+=n*Math.max((Math.sqrt(c)-Math.sqrt(u))/r|0,1);if(o&&(wi(t,i-n,e,n,s,a,f),(c=y(s,a,f[0],f[1]))<u)){for(u=c,h=0;h<n;++h)l[h]=f[h];l.length=n}return u}function Ci(t,e,i,n,r,o,s,a,l,u,h){h=h||[NaN,NaN];var c,f;for(c=0,f=i.length;c<f;++c){var p=i[c];u=Si(t,e,p,n,r,o,s,a,l,u,h),e=p}return u}function ki(t,e){var i,n,r=0;for(i=0,n=e.length;i<n;++i)t[r++]=e[i];return r}function ji(t,e,i,n){var r,o;for(r=0,o=i.length;r<o;++r){var s,a=i[r];for(s=0;s<n;++s)t[e++]=a[s]}return e}function Pi(t,e,i,n,r){r=r||[];var o,s,a=0;for(o=0,s=i.length;o<s;++o)e=ji(t,e,i[o],n),r[a++]=e;return r.length=a,r}function Ti(t,e,i,n,r){r=void 0!==r?r:[];for(var o=0;e<i;e+=n)r[o++]=t.slice(e,e+n);return r.length=o,r}function _i(t,e,i,n,r){r=void 0!==r?r:[];var o,s,a=0;for(o=0,s=i.length;o<s;++o){var l=i[o];r[a++]=Ti(t,e,l,n,r[a]),e=l}return r.length=a,r}function Ai(t,e,i,n,r,o,s){var a=(i-e)/n;if(3>a){for(;e<i;e+=n)o[s++]=t[e],o[s++]=t[e+1];return s}var l=Array(a);l[0]=1,l[a-1]=1,i=[e,i-n];for(var u,h=0;0<i.length;){var c=i.pop(),f=i.pop(),p=0,d=t[f],g=t[f+1],m=t[c],v=t[c+1];for(u=f+n;u<c;u+=n){var b;b=t[u];var w=t[u+1],x=d,M=g,S=m-x,C=v-M;if(S||C){var k=((b-x)*S+(w-M)*C)/(S*S+C*C);1<k?(x=m,M=v):0<k&&(x+=S*k,M+=C*k)}(b=y(b,w,x,M))>p&&(h=u,p=b)}p>r&&(l[(h-e)/n]=1,f+n<h&&i.push(f,h),h+n<c&&i.push(h,c))}for(u=0;u<a;++u)l[u]&&(o[s++]=t[e+u*n],o[s++]=t[e+u*n+1]);return s}function Ii(t,e,i,n,r,o,s,a){var l,u;for(l=0,u=i.length;l<u;++l){var h=i[l];t:{var c,f=t,p=h,d=n,g=r,m=o,v=s;if(e!=p){var y=g*Math.round(f[e]/g),b=g*Math.round(f[e+1]/g);e+=d,m[v++]=y,m[v++]=b;do{if(c=g*Math.round(f[e]/g),s=g*Math.round(f[e+1]/g),(e+=d)==p){m[v++]=c,m[v++]=s,s=v;break t}}while(c==y&&s==b);for(;e<p;){var w,x;if(w=g*Math.round(f[e]/g),x=g*Math.round(f[e+1]/g),e+=d,w!=c||x!=s){var M=c-y,S=s-b,C=w-y,k=x-b;M*k==S*C&&(0>M&&C<M||M==C||0<M&&C>M)&&(0>S&&k<S||S==k||0<S&&k>S)||(m[v++]=c,m[v++]=s,y=c,b=s),c=w,s=x}}m[v++]=c,m[v++]=s}s=v}a.push(s),e=h}return s}function Ei(t,e){gi.call(this),this.a=this.i=-1,this.Y(t,e)}function Ni(t,e,i){vi(t,e,i),t.b()}function Li(t,e){gi.call(this),this.Y(t,e)}function Oi(t,e,i,n,r,o){for(var s=0,a=t[i-n],l=t[i-n+1];e<i;e+=n){var u=t[e],h=t[e+1];l<=o?h>o&&0<(u-a)*(o-l)-(r-a)*(h-l)&&s++:h<=o&&0>(u-a)*(o-l)-(r-a)*(h-l)&&s--,a=u,l=h}return!!s}function Di(t,e,n,r,o,s,a){var l,u,h,c,f,p=o[s+1],d=[],g=n[0];for(h=t[g-r],f=t[g-r+1],l=e;l<g;l+=r)c=t[l],u=t[l+1],(p<=f&&u<=p||f<=p&&p<=u)&&(h=(p-f)/(u-f)*(c-h)+h,d.push(h)),h=c,f=u;for(g=NaN,f=-1/0,d.sort(i),h=d[0],l=1,u=d.length;l<u;++l){c=d[l];var m=Math.abs(c-h);if(m>f){h=(h+c)/2;var v;t:{var y;if(n.length&&Oi(t,e,n[0],r,h,p)){for(y=1,v=n.length;y<v;++y)if(Oi(t,n[y-1],n[y],r,h,p)){v=!1;break t}v=!0}else v=!1}v&&(g=h,f=m)}h=c}return isNaN(g)&&(g=o[s]),a?(a.push(g,p),a):[g,p]}function Ri(t,e,i,n){for(var r=0,o=t[i-n],s=t[i-n+1];e<i;e+=n)var a=t[e],l=t[e+1],r=r+(a-o)*(l+s),o=a,s=l;return 0<r}function qi(t,e,i,n){a=0;n=void 0!==n&&n;var r,o;for(r=0,o=e.length;r<o;++r){var s=e[r],a=Ri(t,a,s,i);if(r){if(n&&!a||!n&&a)return!1}else if(n&&a||!n&&!a)return!1;a=s}return!0}function Fi(t,e,i,n,r){r=void 0!==r&&r;var o,s;for(o=0,s=i.length;o<s;++o){var a=i[o],l=Ri(t,e,a,n);if(o?r&&!l||!r&&l:r&&l||!r&&!l)for(var l=t,u=a,h=n;e<u-h;){var c;for(c=0;c<h;++c){var f=l[e+c];l[e+c]=l[u-h+c],l[u-h+c]=f}e+=h,u-=h}e=a}return e}function zi(t,e,i,n){var r,o,s=0;for(r=0,o=e.length;r<o;++r)s=Fi(t,s,e[r],i,n);return s}function Bi(t,e){gi.call(this),this.a=[],this.v=-1,this.s=null,this.V=this.G=this.I=-1,this.i=null,this.Y(t,e)}function Gi(t){if(t.v!=t.f){var e=R(t.J());t.s=Di(Wi(t),0,t.a,t.A,e,0),t.v=t.f}return t.s}function Ui(t){var e,i,n=t.X,r=t.l,o=[],s=0;for(e=0,i=(t=t.a).length;e<i;++e){var a=t[e],l=new Ei(null);Ni(l,n,r.slice(s,a)),o.push(l),s=a}return o}function Wi(t){if(t.V!=t.f){var e=t.l;qi(e,t.a,t.A)?t.i=e:(t.i=e.slice(),t.i.length=Fi(t.i,0,t.a,t.A)),t.V=t.f}return t.i}function Vi(t,e,i,n){vi(t,e,i),t.a=n,t.b()}function Xi(t){var e=t[0],i=t[1],n=t[2];return t=t[3],e=[e,i,e,t,n,t,n,i,e,i],i=new Bi(null),Vi(i,"XY",e,[e.length]),i}function Hi(t){Ut.call(this),t=bh({},t),this.j=[0,0],this.a=[],this.qc=this.qc.bind(this),this.s=nt(t.projection);var e={};e.center=void 0!==t.center?t.center:null;var i,n,r,o=void 0!==t.minZoom?t.minZoom:0;i=void 0!==t.maxZoom?t.maxZoom:28;var s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions)i=t.resolutions,n=i[0],r=i[i.length-1],i=Je(i);else{var a=((r=(n=nt(t.projection)).J())?Math.max(B(r),r[3]-r[1]):360*xh.degrees/n.f())/256/Math.pow(2,0),l=a/Math.pow(2,28);void 0!==(n=t.maxResolution)?o=0:n=a/Math.pow(s,o),void 0===(r=t.minResolution)&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,i):a/Math.pow(s,i):l),i=o+Math.floor(Math.log(n/r)/Math.log(s)),r=n/Math.pow(s,i-o),i=Ze(s,n,i-o)}this.c=n,this.B=r,this.C=s,this.i=t.resolutions,this.o=o,(void 0!==t.enableRotation?t.enableRotation:1)?(o=t.constrainRotation,o=void 0===o||!0===o?ei():!1===o?Qe:"number"==typeof o?ti(o):Qe):o=Ke,this.g=new ie(void 0!==t.extent?kt(t.extent):jt,i,o),void 0!==t.resolution?e.resolution=t.resolution:void 0!==t.zoom&&(e.resolution=this.constrainResolution(this.c,t.zoom-this.o)),e.rotation=void 0!==t.rotation?t.rotation:0,this.oa(e)}function $i(t){nn(t,0,-Ki(t)[0]);for(var e=0,i=t.a.length;e<i;++e){var n=t.a[e];n[0].Qb&&n[0].Qb(!1)}t.a.length=0}function Yi(t,e,i){var n,r=t.ha();return void 0!==r&&(n=[r[0]-i[0],r[1]-i[1]],si(n,e-tn(t)),ni(n,i)),n}function Ji(t,e,i){var n,r=t.ha();return t=t.va(),void 0!==r&&void 0!==t&&(n=[i[0]-e*(i[0]-r[0])/t,i[1]-e*(i[1]-r[1])/t]),n}function Zi(t){var e=[100,100];return t='.ol-viewport[data-view="'+c(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function Ki(t,e){return void 0!==e?(e[0]=t.j[0],e[1]=t.j[1],e):t.j.slice()}function Qi(t,e){return Math.max(B(t)/e[0],(t[3]-t[1])/e[1])}function tn(t){return t.get("rotation")}function en(t){var e=t.ha(),i=t.s,n=t.va();return t=tn(t),{center:e.slice(),projection:void 0!==i?i:null,resolution:n,rotation:t}}function nn(t,e,i){t.j[e]+=i,t.b()}function rn(t,e){t.set("resolution",e),0<Ki(t)[0]&&$i(t)}function on(){this.b=[],this.f=this.a=0}function sn(t){t.b.length=0,t.a=0,t.f=0}function an(t){Ut.call(this),this.B=null,this.Ya(!0),this.handleEvent=t.handleEvent}function ln(t,e,i,n){if(void 0!==e){var r=tn(t),o=t.ha();void 0!==r&&o&&0<n?t.animate({rotation:e,anchor:i,duration:n,easing:ue}):t.rotate(e,i)}}function un(t,e,i,n){var r=t.va();if(e=t.constrainResolution(r,e,0),i&&void 0!==e&&e!==r){var o=t.ha();i=Ji(t,e,i),i=t.g.center(i),i=[(e*o[0]-r*i[0])/(e-r),(e*o[1]-r*i[1])/(e-r)]}hn(t,e,i,n)}function hn(t,e,i,n){if(e){var r=t.va(),o=t.ha();void 0!==r&&o&&e!==r&&n?t.animate({resolution:e,anchor:i,duration:n,easing:ue}):(i&&(i=Ji(t,e,i),t.Ka(i)),rn(t,e))}}function cn(t){t=t||{},this.a=t.delta?t.delta:1,an.call(this,{handleEvent:fn}),this.c=void 0!==t.duration?t.duration:250}function fn(t){var e=!1,i=t.originalEvent;if("dblclick"==t.type){var e=t.coordinate,i=i.shiftKey?-this.a:this.a;un(t.map.Z(),i,e,this.c),t.preventDefault(),e=!0}return!e}function pn(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function dn(t){return!((t=t.originalEvent).button||Gh&&Uh&&t.ctrlKey)}function gn(t){return"singleclick"==t.type}function mn(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function vn(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function yn(t){return"INPUT"!==(t=t.originalEvent.target.tagName)&&"SELECT"!==t&&"TEXTAREA"!==t}function bn(t){return p(t.b,56),"mouse"==t.b.pointerType}function wn(t){return(t=t.b).isPrimary&&0===t.button}function xn(t){t=t||{},an.call(this,{handleEvent:t.handleEvent?t.handleEvent:Sn}),this.rc=t.handleDownEvent?t.handleDownEvent:fi,this.yc=t.handleDragEvent?t.handleDragEvent:h,this.zc=t.handleMoveEvent?t.handleMoveEvent:h,this.Ac=t.handleUpEvent?t.handleUpEvent:fi,this.v=!1,this.V={},this.g=[]}function Mn(t){for(var e=t.length,i=0,n=0,r=0;r<e;r++)i+=t[r].clientX,n+=t[r].clientY;return[i/e,n/e]}function Sn(t){if(!(t instanceof ye))return!0;var e=!1,i=t.type;return"pointerdown"!==i&&"pointerdrag"!==i&&"pointerup"!==i||(i=t.b,"pointerup"==t.type?delete this.V[i.pointerId]:"pointerdown"==t.type?this.V[i.pointerId]=i:i.pointerId in this.V&&(this.V[i.pointerId]=i),this.g=W(this.V)),this.v?"pointerdrag"==t.type?this.yc(t):"pointerup"==t.type&&(this.v=this.Ac(t)&&0<this.g.length):"pointerdown"==t.type?(this.v=t=this.rc(t),e=this.ab(t)):"pointermove"==t.type&&this.zc(t),!e}function Cn(t){xn.call(this,{handleDownEvent:Pn,handleDragEvent:kn,handleUpEvent:jn}),t=t||{},this.a=t.kinetic,this.c=null,this.o=t.condition?t.condition:mn,this.i=!1}function kn(t){var e=this.g,i=Mn(e);if(e.length==this.j){if(this.a&&this.a.b.push(i[0],i[1],Date.now()),this.c){var n=this.c[0]-i[0],r=i[1]-this.c[1],o=en(t=t.map.Z());ai(n=[n,r],o.resolution),si(n,o.rotation),ni(n,o.center),n=t.g.center(n),t.Ka(n)}}else this.a&&sn(this.a);this.c=i,this.j=e.length}function jn(t){var e=t.map;if(t=e.Z(),this.g.length)return this.a&&sn(this.a),this.c=null,!0;var i;if(i=!this.i&&this.a)if(6>(i=this.a).b.length)i=!1;else{var n=Date.now()-100,r=i.b.length-3;if(i.b[r+2]<n)i=!1;else{for(var o=r-3;0<o&&i.b[o+2]>n;)o-=3;var n=i.b[r+2]-i.b[o+2],s=i.b[r]-i.b[o],r=i.b[r+1]-i.b[o+1];i.a=Math.atan2(r,s),i.f=Math.sqrt(s*s+r*r)/n,i=.05<i.f}}return i&&(i=(.05-this.a.f)/-.005,r=this.a.a,o=t.ha(),o=Fr(e,o),e=e.Ea([o[0]-i*Math.cos(r),o[1]-i*Math.sin(r)]),t.animate({center:t.g.center(e),duration:500,easing:ue})),nn(t,1,-1),!1}function Pn(t){if(0<this.g.length&&this.o(t)){var e=t.map.Z();return this.c=null,this.v||nn(e,1,1),Ki(e)[0]&&e.Ka(t.frameState.viewState.center),this.a&&sn(this.a),this.i=1<this.g.length,!0}return!1}function Tn(t){t=t||{},xn.call(this,{handleDownEvent:In,handleDragEvent:_n,handleUpEvent:An}),this.c=t.condition?t.condition:pn,this.a=void 0,this.i=void 0!==t.duration?t.duration:250}function _n(t){if(bn(t)){var e=t.map,i=e.mb();t=t.pixel,i=Math.atan2(i[1]/2-t[1],t[0]-i[0]/2),void 0!==this.a&&(t=i-this.a,ln(e=e.Z(),tn(e)-t)),this.a=i}}function An(t){if(!bn(t))return!0;nn(t=t.map.Z(),1,-1);var e=tn(t),i=this.i;return ln(t,e=t.constrainRotation(e,0),void 0,i),!1}function In(t){return!!(bn(t)&&dn(t)&&this.c(t))&&(nn(t.map.Z(),1,1),this.a=void 0,!0)}function En(t){this.Va=null,this.f=document.createElement("div"),this.f.style.position="absolute",this.f.className="ol-box "+t,this.a=this.c=this.b=null}function Nn(t){var e=t.c,i=t.a;(t=t.f.style).left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function Ln(t){var e=t.c,i=t.a;(e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.b.Ea,t.b))[4]=e[0].slice(),t.Va?t.Va.Y([e]):t.Va=new Bi([e])}function On(t){xn.call(this,{handleDownEvent:Fn,handleDragEvent:Rn,handleUpEvent:qn}),t=t||{},this.a=new En(t.className||"ol-dragbox"),this.o=void 0!==t.minArea?t.minArea:64,this.c=null,this.s=t.condition?t.condition:ci,this.j=t.boxEndCondition?t.boxEndCondition:Dn}function Dn(t,e,i){return t=i[0]-e[0],e=i[1]-e[1],t*t+e*e>=this.o}function Rn(t){if(bn(t)){var e=this.a,i=t.pixel;e.c=this.c,e.a=i,Ln(e),Nn(e),zt(this,new zn(tc,t.coordinate,t))}}function qn(t){return!bn(t)||(this.a.setMap(null),this.j(t,this.c,t.pixel)&&(this.i(t),zt(this,new zn(ec,t.coordinate,t))),!1)}function Fn(t){if(bn(t)&&dn(t)&&this.s(t)){this.c=t.pixel,this.a.setMap(t.map);var e=this.a,i=this.c;return e.c=this.c,e.a=i,Ln(e),Nn(e),zt(this,new zn(Qh,t.coordinate,t)),!0}return!1}function zn(t,e,i){Rt.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function Bn(t){var e=(t=t||{}).condition?t.condition:vn;this.C=void 0!==t.duration?t.duration:200,this.G=void 0!==t.out&&t.out,On.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Gn(t){an.call(this,{handleEvent:Un}),t=t||{},this.a=function(t){return mn(t)&&yn(t)},this.c=t.condition?t.condition:this.a,this.g=void 0!==t.duration?t.duration:100,this.i=void 0!==t.pixelDelta?t.pixelDelta:128}function Un(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.c(t)&&(40==i||37==i||39==i||38==i)){var n=(e=t.map.Z()).va()*this.i,r=0,o=0;40==i?o=-n:37==i?r=-n:39==i?r=n:o=n,si(n=[r,o],tn(e)),i=this.g,(r=e.ha())&&(n=e.g.center([r[0]+n[0],r[1]+n[1]]),i?e.animate({duration:i,easing:ce,center:n}):e.Ka(n)),t.preventDefault(),e=!0}}return!e}function Wn(t){an.call(this,{handleEvent:Vn}),t=t||{},this.c=t.condition?t.condition:yn,this.a=t.delta?t.delta:1,this.g=void 0!==t.duration?t.duration:100}function Vn(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.c(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,i=t.map.Z(),un(i,e,void 0,this.g),t.preventDefault(),e=!0)}return!e}function Xn(t){an.call(this,{handleEvent:Hn}),t=t||{},this.g=0,this.v=void 0!==t.duration?t.duration:250,this.I=void 0!==t.timeout?t.timeout:80,this.V=void 0===t.useAnchor||t.useAnchor,this.G=t.constrainResolution||!1,this.a=null,this.j=this.i=this.o=this.c=void 0}function Hn(t){if("wheel"!==(e=t.type)&&"mousewheel"!==e)return!0;t.preventDefault();var e=t.map,i=t.originalEvent;this.V&&(this.a=t.coordinate);var n;if("wheel"==t.type?(n=i.deltaY,zh&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Wh),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):"mousewheel"==t.type&&(n=-i.wheelDeltaY,Bh&&(n/=3)),0===n)return!1;if(t=Date.now(),void 0===this.c&&(this.c=t),(!this.i||400<t-this.c)&&(this.i=4>Math.abs(n)?ic:nc),this.i===ic){e=e.Z(),this.j?clearTimeout(this.j):nn(e,1,1),this.j=setTimeout(this.s.bind(this),400);var i=e.va()*Math.pow(2,n/300),r=e.B,o=e.c,s=0;if(i<r?(i=Math.max(i,r/1.5),s=1):i>o&&(i=Math.min(i,1.5*o),s=-1),this.a){var a=Ji(e,i,this.a);e.Ka(e.g.center(a))}return rn(e,i),!s&&this.G&&e.animate({resolution:e.constrainResolution(i,0<n?-1:1),easing:ue,anchor:this.a,duration:this.v}),0<s?e.animate({resolution:r,easing:ue,anchor:this.a,duration:500}):0>s&&e.animate({resolution:o,easing:ue,anchor:this.a,duration:500}),this.c=t,!1}return this.g+=n,n=Math.max(this.I-(t-this.c),0),clearTimeout(this.o),this.o=setTimeout(this.C.bind(this,e),n),!1}function $n(t){xn.call(this,{handleDownEvent:Zn,handleDragEvent:Yn,handleUpEvent:Jn}),t=t||{},this.c=null,this.i=void 0,this.a=!1,this.j=0,this.s=void 0!==t.threshold?t.threshold:.3,this.o=void 0!==t.duration?t.duration:250}function Yn(t){var e=0,i=this.g[0],n=this.g[1],i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);void 0!==this.i&&(e=i-this.i,this.j+=e,!this.a&&Math.abs(this.j)>this.s&&(this.a=!0)),this.i=i,i=(t=t.map).a.getBoundingClientRect(),(n=Mn(this.g))[0]-=i.left,n[1]-=i.top,this.c=t.Ea(n),this.a&&(i=t.Z(),n=tn(i),t.render(),ln(i,n+e,this.c))}function Jn(t){if(2>this.g.length){if(t=t.map.Z(),nn(t,1,-1),this.a){var e=tn(t),i=this.c,n=this.o;ln(t,e=t.constrainRotation(e,0),i,n)}return!1}return!0}function Zn(t){return 2<=this.g.length&&(t=t.map,this.c=null,this.i=void 0,this.a=!1,this.j=0,this.v||nn(t.Z(),1,1),!0)}function Kn(t){xn.call(this,{handleDownEvent:er,handleDragEvent:Qn,handleUpEvent:tr}),t=t||{},this.j=t.constrainResolution||!1,this.c=null,this.o=void 0!==t.duration?t.duration:400,this.a=void 0,this.i=1}function Qn(t){var e=1,i=this.g[0],n=this.g[1],r=i.clientX-n.clientX,i=i.clientY-n.clientY,r=Math.sqrt(r*r+i*i);void 0!==this.a&&(e=this.a/r),this.a=r;var n=(r=(t=t.map).Z()).va(),o=r.c,s=r.B;(i=n*e)>o?(e=o/n,i=o):i<s&&(e=s/n,i=s),1!=e&&(this.i=e),e=t.a.getBoundingClientRect(),(n=Mn(this.g))[0]-=e.left,n[1]-=e.top,this.c=t.Ea(n),t.render(),hn(r,i,this.c)}function tr(t){if(2>this.g.length){nn(t=t.map.Z(),1,-1);var e=t.va();if(this.j||e<t.B||e>t.c){var i=this.c,n=this.o;hn(t,e=t.constrainResolution(e,0,this.i-1),i,n)}return!1}return!0}function er(t){return 2<=this.g.length&&(t=t.map,this.c=null,this.a=void 0,this.i=1,this.v||nn(t.Z(),1,1),!0)}function ir(t){Ut.call(this);var e=bh({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.oa(e),this.a={layer:this,Xc:!0}}function nr(t){return t.a.opacity=v(t.get("opacity"),0,1),t.a.pi=t.Sc(),t.a.visible=t.g(),t.a.extent=t.J(),t.a.zIndex=t.ra(),t.a.maxResolution=t.get("maxResolution"),t.a.minResolution=Math.max(t.get("minResolution"),0),t.a}function rr(t){var e=t||{};delete(t=bh({},e)).layers,e=e.layers,ir.call(this,t),this.i=[],this.c={},Et(this,Wt(rc),this.jg,this),e?Array.isArray(e)?e=new Ht(e.slice(),{unique:!0}):p(e instanceof Ht,43):e=new Ht(void 0,{unique:!0}),this.set(rc,e)}function or(t){var e=bh({},t);delete e.source,ir.call(this,e),this.j=this.i=this.c=null,t.map&&this.setMap(t.map),Et(this,Wt("source"),this.ug,this),this.Se(t.source?t.source:null)}function sr(){this.b={},this.f=0}function ar(){return[1,0,0,1,0,0]}function lr(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ur(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function hr(t,e,i,n,r,o,s,a){var l=Math.sin(o);return o=Math.cos(o),t[0]=n*o,t[1]=r*l,t[2]=-n*l,t[3]=r*o,t[4]=s*n*o-a*n*l+e,t[5]=s*r*l+a*r*o+i,t}function cr(t,e){this.i=e,this.f={},this.c={}}function fr(){if(32<oc.f){var t,e,i=0;for(t in oc.b)e=oc.b[t],3&i++||Bt(e)||(delete oc.b[t],--oc.f)}}function pr(t,e,i,n,r,o){var s,a=(u=i.viewState).resolution,l=u.projection,u=e;if(l.c){var h=B(l=l.J());((p=e[0])<l[0]||p>l[2])&&(u=[p+h*Math.ceil((l[0]-p)/h),e[1]])}for(h=(l=i.layerStatesArray).length-1;0<=h;--h){var f=l[h],p=f.layer;if(f.visible&&a>=f.minResolution&&a<f.maxResolution&&o.call(null,p)&&(f=dr(t,p),p.da()&&(s=f.o(p.da().C?u:e,i,n,function(t,e){var n=c(t).toString(),o=i.layerStates[c(e)].Xc;if(!(n in i.skippedFeatureUids)||o)return r.call(null,t,o?e:null)},null)),s))return s}}function dr(t,e){var i=c(e).toString();if(i in t.f)return t.f[i];var n=e.Ec(t);return t.f[i]=n,t.c[i]=Et(n,"change",t.j,t),n}function gr(t,e){return t.zIndex-e.zIndex}function mr(t,e,i,n,r){Rt.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=r}function vr(t,e,i,n){e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function yr(){}function br(t,e,i,n,r){this.a=t,this.B=e,this.g=i,this.v=n,this.Da=r,this.N=this.b=this.f=this.I=this.Aa=this.G=null,this.W=this.V=this.o=this.aa=this.C=this.s=0,this.$=!1,this.c=this.La=0,this.ca=!1,this.fa=0,this.ea="",this.sa=this.tb=0,this.ya=!1,this.u=this.Ba=0,this.ga=this.j=this.i=null,this.K=[],this.Ca=ar()}function wr(t,e,i){if(t.N){e=di(e,0,i,2,t.v,t.K),i=t.a;var n=t.Ca,r=i.globalAlpha;1!=t.o&&(i.globalAlpha=r*t.o);var o=t.La;t.$&&(o+=t.Da);var s,a;for(s=0,a=e.length;s<a;s+=2){var l=e[s]-t.s,u=e[s+1]-t.C;if(t.ca&&(l=Math.round(l),u=Math.round(u)),o||1!=t.c){var h=l+t.s,c=u+t.C;hr(n,h,c,t.c,t.c,o,-h,-c),i.setTransform.apply(i,n)}i.drawImage(t.N,t.V,t.W,t.fa,t.aa,l,u,t.fa,t.aa)}(o||1!=t.c)&&i.setTransform(1,0,0,1,0,0),1!=t.o&&(i.globalAlpha=r)}}function xr(t,e,i,n){var r=0;if(t.ga&&""!==t.ea){t.i&&Cr(t,t.i),t.j&&kr(t,t.j);var o=t.ga,s=t.a;for((a=t.I)?(a.font!=o.font&&(a.font=s.font=o.font),a.textAlign!=o.textAlign&&(a.textAlign=s.textAlign=o.textAlign),a.textBaseline!=o.textBaseline&&(a.textBaseline=s.textBaseline=o.textBaseline)):(s.font=o.font,s.textAlign=o.textAlign,s.textBaseline=o.textBaseline,t.I={font:o.font,textAlign:o.textAlign,textBaseline:o.textBaseline}),e=di(e,r,i,n,t.v,t.K),o=t.a,s=t.Ba,t.ya&&(s+=t.Da);r<i;r+=n){var a=e[r]+t.tb,l=e[r+1]+t.sa;if(s||1!=t.u){var u=hr(t.Ca,a,l,t.u,t.u,s,-a,-l);o.setTransform.apply(o,u)}t.j&&o.strokeText(t.ea,a,l),t.i&&o.fillText(t.ea,a,l)}(s||1!=t.u)&&o.setTransform(1,0,0,1,0,0)}}function Mr(t,e,i,n,r,o){var s=t.a;for(t=di(e,i,n,r,t.v,t.K),s.moveTo(t[0],t[1]),e=t.length,o&&(e-=2),i=2;i<e;i+=2)s.lineTo(t[i],t[i+1]);return o&&s.closePath(),n}function Sr(t,e,i,n,r){var o,s;for(o=0,s=n.length;o<s;++o)i=Mr(t,e,i,n[o],r,!0);return i}function Cr(t,e){var i=t.a,n=t.G;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.G={fillStyle:e.fillStyle})}function kr(t,e){var i=t.a,n=t.Aa;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),Vh&&!s(n.lineDash,e.lineDash)&&i.setLineDash(n.lineDash=e.lineDash),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,Vh&&i.setLineDash(e.lineDash),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.Aa={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function jr(t,e){cr.call(this,0,e),this.g=ne(),this.b=this.g.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.style.display="block",this.b.className="ol-unselectable",t.insertBefore(this.b,t.childNodes[0]||null),this.a=!0,this.o=ar()}function Pr(t,e,i){var n=t.i,r=t.g;if(Bt(n,e)){var o=i.extent,s=i.pixelRatio,a=i.viewState.rotation,l=i.viewState,u=i.pixelRatio/l.resolution;zt(n,new mr(e,new br(r,s,o,t=hr(t.o,t.b.width/2,t.b.height/2,u,-u,-l.rotation,-l.center[0],-l.center[1]),a),i,r,null))}}function Tr(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.g=t.lineCap,this.f=void 0!==t.lineDash?t.lineDash:null,this.j=t.lineDashOffset,this.i=t.lineJoin,this.u=t.miterLimit,this.c=t.width,this.a=void 0}function _r(t){this.b=hc(t),this.f={}}function Ar(t,e,i){var n=t.f[c(i)];L([n.M,n.P,n.O,n.S],e)||(t.remove(i),t.ba(e,i))}function Ir(t){return t.b.all().map(function(t){return t.value})}function Er(t,e){return t.b.search({M:e[0],P:e[1],O:e[2],S:e[3]}).map(function(t){return t.value})}function Nr(t,e,i,n){return Lr(Er(t,e),i,n)}function Lr(t,e,i){for(var n,r=0,o=t.length;r<o&&!(n=e.call(i,t[r]));r++);return n}function Or(){this.c=0,this.a={},this.f=this.b=null}function Dr(t){Ut.call(this);var e=zr(t);this.uc=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.rc=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.zc=void 0!==t.pixelRatio?t.pixelRatio:Wh,this.yc=e.logos,this.bb=function(){this.o=void 0,this.ki.call(this,Date.now())}.bind(this),this.cb=ar(),this.Ac=ar(),this.tc=0,this.c=null,this.Ca=A(),this.G=this.V=this.W=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+($h?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.s=document.createElement("DIV"),this.s.className="ol-overlaycontainer",this.a.appendChild(this.s),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent";for(var i=0,n=(t="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" ")).length;i<n;++i)Et(this.v,t[i],qt);this.a.appendChild(this.v),this.ya=new Ue(this);for(var r in qh)Et(this.ya,qh[r],this.Xd,this);this.sa=e.keyboardEventTarget,this.B=null,Et(this.a,"wheel",this.jb,this),Et(this.a,"mousewheel",this.jb,this),this.C=e.controls,this.i=e.interactions,this.j=e.overlays,this.De={},this.I=new e.li(this.a,this),this.$=null,this.Ba=[],this.Da=new Ye(this.cg.bind(this),this.wg.bind(this)),this.ca={},Et(this,Wt("layergroup"),this.hg,this),Et(this,Wt("view"),this.yg,this),Et(this,Wt("size"),this.sg,this),Et(this,Wt("target"),this.vg,this),this.oa(e.values),this.C.forEach(function(t){t.setMap(this)},this),Et(this.C,"add",function(t){t.element.setMap(this)},this),Et(this.C,"remove",function(t){t.element.setMap(null)},this),this.i.forEach(function(t){t.setMap(this)},this),Et(this.i,"add",function(t){t.element.setMap(this)},this),Et(this.i,"remove",function(t){t.element.setMap(null)},this),this.j.forEach(this.Id,this),Et(this.j,"add",function(t){this.Id(t.element)},this),Et(this.j,"remove",function(t){var e=t.element.j;void 0!==e&&delete this.De[e.toString()],t.element.setMap(null)},this)}function Rr(t){return void 0!==(t=t.Tc())?"string"==typeof t?document.getElementById(t):t:null}function qr(t){return t.get("layergroup")}function Fr(t,e){var i=t.c;return i?ur(i.coordinateToPixelTransform,e.slice(0,2)):null}function zr(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},n={};void 0===t.logo||"boolean"==typeof t.logo&&t.logo?n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/":"string"==typeof(o=t.logo)?n[o]="":o instanceof HTMLElement?n[c(o).toString()]=o:o&&(p("string"==typeof o.href,44),p("string"==typeof o.src,45),n[o.src]=o.href),o=t.layers instanceof rr?t.layers:new rr({layers:t.layers}),i.layergroup=o,i.target=t.target,i.view=void 0!==t.view?t.view:new Hi;var r,o=cr;void 0!==t.renderer?(Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer?r=[t.renderer]:p(!1,46),0<=r.indexOf("dom")&&(r=r.concat(cc))):r=cc;var s,a;for(s=0,a=r.length;s<a;++s)if("canvas"==r[s]&&Xh){o=jr;break}if(void 0!==t.controls?Array.isArray(t.controls)?r=new Ht(t.controls.slice()):(p(t.controls instanceof Ht,47),r=t.controls):r=ge(),void 0!==t.interactions)Array.isArray(t.interactions)?s=new Ht(t.interactions.slice()):(p(t.interactions instanceof Ht,48),s=t.interactions);else{s={},a=new Ht;var l=new on;(void 0!==s.altShiftDragRotate?s.altShiftDragRotate:1)&&a.push(new Tn),(void 0!==s.doubleClickZoom?s.doubleClickZoom:1)&&a.push(new cn({delta:s.zoomDelta,duration:s.zoomDuration})),(void 0!==s.dragPan?s.dragPan:1)&&a.push(new Cn({kinetic:l})),(void 0!==s.pinchRotate?s.pinchRotate:1)&&a.push(new $n),(void 0!==s.pinchZoom?s.pinchZoom:1)&&a.push(new Kn({constrainResolution:s.constrainResolution,duration:s.zoomDuration})),(void 0!==s.keyboard?s.keyboard:1)&&(a.push(new Gn),a.push(new Wn({delta:s.zoomDelta,duration:s.zoomDuration}))),(void 0!==s.mouseWheelZoom?s.mouseWheelZoom:1)&&a.push(new Xn({constrainResolution:s.constrainResolution,duration:s.zoomDuration})),(void 0!==s.shiftDragZoom?s.shiftDragZoom:1)&&a.push(new Bn({duration:s.zoomDuration})),s=a}return void 0!==t.overlays?Array.isArray(t.overlays)?t=new Ht(t.overlays.slice()):(p(t.overlays instanceof Ht,49),t=t.overlays):t=new Ht,{controls:r,interactions:s,keyboardEventTarget:e,logos:n,overlays:t,li:o,values:i}}function Br(t){Ut.call(this),this.j=t.id,this.B=void 0===t.insertFirst||t.insertFirst,this.v=void 0===t.stopEvent||t.stopEvent,this.c=document.createElement("DIV"),this.c.className="ol-overlay-container ol-selectable",this.c.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.i=t.autoPanAnimation||{},this.o=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={Pb:"",Xb:"",kc:"",pc:"",visible:!0},this.g=null,Et(this,Wt(fc),this.fg,this),Et(this,Wt(pc),this.lg,this),Et(this,Wt(dc),this.mg,this),Et(this,Wt(gc),this.og,this),Et(this,Wt(mc),this.pg,this),void 0!==t.element&&this.set(fc,t.element),this.set(dc,void 0!==t.offset?t.offset:[0,0]),this.set(mc,void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.de(t.position)}function Gr(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset;return[n,i=i.top+window.pageYOffset,n+e[0],i+e[1]]}function Ur(t,e){t.a.visible!==e&&(t.c.style.display=e?"":"none",t.a.visible=e)}function Wr(t){var e=t.get(pc),i=t.get(gc);if(e&&e.c&&i){var i=Fr(e,i),n=e.mb(),e=t.c.style,r=t.get(dc),o=t.get(mc);Ur(t,!0);var s=r[0],r=r[1];"bottom-right"==o||"center-right"==o||"top-right"==o?(""!==t.a.Xb&&(t.a.Xb=e.left=""),s=Math.round(n[0]-i[0]-s)+"px",t.a.kc!=s&&(t.a.kc=e.right=s)):(""!==t.a.kc&&(t.a.kc=e.right=""),"bottom-center"!=o&&"center-center"!=o&&"top-center"!=o||(s-=t.c.offsetWidth/2),s=Math.round(i[0]+s)+"px",t.a.Xb!=s&&(t.a.Xb=e.left=s)),"bottom-left"==o||"bottom-center"==o||"bottom-right"==o?(""!==t.a.pc&&(t.a.pc=e.top=""),i=Math.round(n[1]-i[1]-r)+"px",t.a.Pb!=i&&(t.a.Pb=e.bottom=i)):(""!==t.a.Pb&&(t.a.Pb=e.bottom=""),"center-left"!=o&&"center-center"!=o&&"center-right"!=o||(r-=t.c.offsetHeight/2),i=Math.round(i[1]+r)+"px",t.a.pc!=i&&(t.a.pc=e.top=i))}else Ur(t,!1)}function Vr(t){var e=void 0!==(t=t||{}).className?t.className:"ol-scale-line";this.g=document.createElement("DIV"),this.g.className=e+"-inner",this.a=document.createElement("DIV"),this.a.className=e+" ol-unselectable",this.a.appendChild(this.g),this.j=null,this.i=void 0!==t.minWidth?t.minWidth:64,this.c=!1,this.B=void 0,this.o="",oe.call(this,{element:this.a,render:t.render?t.render:Xr,target:t.target}),Et(this,Wt(yc),this.C,this),this.set(yc,t.units||"metric")}function Xr(t){(t=t.frameState)?this.j=t.viewState:this.j=null,Hr(this)}function Hr(t){if(r=t.j){var e=r.projection,i=e.f(),n=r.resolution,r=r.center,o=e.o;for(o?n=o(n,r):"degrees"!=e.a&&(o=lt(e,ot("EPSG:4326")),n=[r[0]-n/2,r[1],r[0]+n/2,r[1],r[0],r[1]-n/2,r[0],r[1]+n/2],n=o(n,n,2),n=(wh.b(n.slice(0,2),n.slice(2,4))+wh.b(n.slice(4,6),n.slice(6,8)))/2,void 0!==(e=e.f())&&(n/=e)),i*=n,n=t.i*i,e="","degrees"==(r=t.get(yc))?(e=xh.degrees,i/=e,n<e/60?(e="″",i*=3600):n<e?(e="′",i*=60):e="°"):"imperial"==r?.9144>n?(e="in",i/=.0254):1609.344>n?(e="ft",i/=.3048):(e="mi",i/=1609.344):"nautical"==r?(i/=1852,e="nm"):"metric"==r?.001>n?(e="μm",i*=1e6):1>n?(e="mm",i*=1e3):1e3>n?e="m":(e="km",i/=1e3):"us"==r?.9144>n?(e="in",i*=39.37):1609.344>n?(e="ft",i/=.30480061):(e="mi",i/=1609.3472):p(!1,33),r=3*Math.floor(Math.log(t.i*i)/Math.log(10));;){if(o=vc[(r%3+3)%3]*Math.pow(10,Math.floor(r/3)),n=Math.round(o/i),isNaN(n))return t.a.style.display="none",void(t.c=!1);if(n>=t.i)break;++r}i=o+" "+e,t.o!=i&&(t.g.innerHTML=i,t.o=i),t.B!=n&&(t.g.style.width=n+"px",t.B=n),t.c||(t.a.style.display="",t.c=!0)}else t.c&&(t.a.style.display="none",t.c=!1)}function $r(t){this.i=t.opacity,this.s=t.rotateWithView,this.o=t.rotation,this.g=t.scale,this.K=t.snapToPixel}function Yr(t){this.v=this.j=this.c=null,this.la=void 0!==t.fill?t.fill:null,this.fa=[0,0],this.b=t.points,this.f=void 0!==t.radius?t.radius:t.radius1,this.a=void 0!==t.radius2?t.radius2:this.f,this.u=void 0!==t.angle?t.angle:0,this.pa=void 0!==t.stroke?t.stroke:null,this.C=this.ga=this.aa=null,this.B=t.atlasManager,Jr(this,this.B),$r.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function Jr(t,e){var i,n,r="",o="",s=0,a=null,l=0;t.pa&&(null===(n=t.pa.b)&&(n=lc),n=ee(n),void 0===(l=t.pa.c)&&(l=1),a=t.pa.f,Vh||(a=null),void 0===(o=t.pa.i)&&(o="round"),void 0===(r=t.pa.g)&&(r="round"),void 0===(s=t.pa.u)&&(s=10));var u=2*(t.f+l)+1,r={strokeStyle:n,We:l,size:u,lineCap:r,lineDash:a,lineJoin:o,miterLimit:s};void 0===e?(o=ne(u,u),t.j=o.canvas,i=u=t.j.width,t.Qd(r,o,0,0),t.la?t.v=t.j:(o=ne(r.size,r.size),t.v=o.canvas,t.Pd(r,o,0,0))):(u=Math.round(u),(o=!t.la)&&(i=t.Pd.bind(t,r)),t.pa?(void 0===(s=t.pa).a&&(s.a="s",s.a=s.b?"string"==typeof s.b?s.a+s.b:s.a+c(s.b).toString():s.a+"-",s.a+=","+(void 0!==s.g?s.g.toString():"-")+","+(s.f?s.f.toString():"-")+","+(void 0!==s.j?s.j:"-")+","+(void 0!==s.i?s.i:"-")+","+(void 0!==s.u?s.u.toString():"-")+","+(void 0!==s.c?s.c.toString():"-")),s=s.a):s="-",t.la?(void 0===(a=t.la).f&&(a.f=a.b instanceof CanvasPattern||a.b instanceof CanvasGradient?c(a.b).toString():"f"+(a.b?Qt(a.b):"-")),a=a.f):a="-",t.c&&s==t.c[1]&&a==t.c[2]&&t.f==t.c[3]&&t.a==t.c[4]&&t.u==t.c[5]&&t.b==t.c[6]||(t.c=["r"+s+a+(void 0!==t.f?t.f.toString():"-")+(void 0!==t.a?t.a.toString():"-")+(void 0!==t.u?t.u.toString():"-")+(void 0!==t.b?t.b.toString():"-"),s,a,t.f,t.a,t.u,t.b]),r=e.add(t.c[0],u,u,t.Qd.bind(t,r),i),t.j=r.image,t.fa=[r.offsetX,r.offsetY],i=r.image.width,t.v=o?r.b:t.j),t.aa=[u/2,u/2],t.ga=[u,u],t.C=[i,i]}function Zr(t){t=t||{},Yr.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function Kr(t){t=t||{},this.b=void 0!==t.color?t.color:null,this.f=void 0}function Qr(t){t=t||{},this.Va=null,this.ta=no,void 0!==t.geometry&&this.xa(t.geometry),this.la=void 0!==t.fill?t.fill:null,this.N=void 0!==t.image?t.image:null,this.pa=void 0!==t.stroke?t.stroke:null,this.ea=void 0!==t.text?t.text:null,this.zi=t.zIndex}function to(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(p(t instanceof Qr,41),e=[t]),t=function(){return e}}return t}function eo(){if(!bc){var t=new Kr({color:"rgba(255,255,255,0.4)"}),e=new Tr({color:"#3399CC",width:1.25});bc=[new Qr({image:new Zr({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return bc}function io(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new Qr({fill:new Kr({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Qr({stroke:new Tr({color:e,width:5})}),new Qr({stroke:new Tr({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Qr({image:new Zr({radius:6,fill:new Kr({color:i}),stroke:new Tr({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function no(t){return t.R()}function ro(t){Ut.call(this),this.a=void 0,this.c="geometry",this.j=null,this.i=void 0,this.g=null,Et(this,Wt(this.c),this.Vb,this),void 0!==t&&(t instanceof pi||!t?this.xa(t):this.oa(t))}function oo(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{var i;Array.isArray(t)?i=t:(p(t instanceof Qr,41),i=[t]),e=function(){return i}}return e}function so(t,e){return wc.createElementNS(t,e)}function ao(t){return lo(t,!1,[]).join("")}function lo(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)lo(t,e,i);return i}function uo(t){return(new DOMParser).parseFromString(t,"application/xml")}function ho(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);void 0!==r&&n[n.length-1].push(r)}}function co(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);void 0!==r&&(n[n.length-1]=r)}}function fo(t){return function(e,i){var n=t.call(this,e,i);if(void 0!==n){var r=i[i.length-1],o=e.localName;(o in r?r[o]:r[o]=[]).push(n)}}}function po(t,e){return function(i,n){var r=t.call(this,i,n);void 0!==r&&(n[n.length-1][void 0!==e?e:i.localName]=r)}}function go(t,e){return function(i,n,r){t.call(void 0!==e?e:this,i,n,r),r[r.length-1].node.appendChild(i)}}function mo(t){var e,i;return function(n,r,o){if(!e){e={};var s={};s[n.localName]=t,e[n.namespaceURI]=s,i=vo(n.localName)}Mo(e,i,r,o)}}function vo(t,e){return function(i,n,r){return i=n[n.length-1].node,void 0===(n=t)&&(n=r),r=e,void 0===e&&(r=i.namespaceURI),so(r,n)}}function yo(t,e){for(var i=e.length,n=Array(i),r=0;r<i;++r)n[r]=t[e[r]];return n}function bo(t,e,i){i=void 0!==i?i:{};var n,r;for(n=0,r=t.length;n<r;++n)i[t[n]]=e;return i}function wo(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var r=t[e.namespaceURI];void 0!==r&&(r=r[e.localName])&&r.call(n,e,i)}}function xo(t,e,i,n,r){return n.push(t),wo(e,i,n,r),n.pop()}function Mo(t,e,i,n,r,o){for(var s,a,l=(void 0!==r?r:i).length,u=0;u<l;++u)void 0!==(s=i[u])&&void 0!==(a=e.call(o,s,n,void 0!==r?r[u]:void 0))&&t[a.namespaceURI][a.localName].call(o,a,s,n)}function So(t,e,i,n,r,o,s){r.push(t),Mo(e,i,n,r,o,s),r.pop()}function Co(t,e,i){return function(n,r,o){var s=new XMLHttpRequest;s.open("GET","function"==typeof t?t(n,r,o):t,!0),"arraybuffer"==e.H()&&(s.responseType="arraybuffer"),s.onload=function(){if(!s.status||200<=s.status&&300>s.status){var t,n=e.H();"json"==n||"text"==n?t=s.responseText:"xml"==n?(t=s.responseXML)||(t=uo(s.responseText)):"arraybuffer"==n&&(t=s.response),t&&i.call(this,e.Ra(t,{featureProjection:o}),e.ic(t))}}.bind(this),s.onerror=function(){}.bind(this),s.send()}}function ko(t,e){return Co(t,e,function(t){this.ub(t)})}function jo(){this.a=this.defaultDataProjection=null}function Po(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.ic(e),featureProjection:i.featureProjection}),To(t,n)}function To(t,e){return bh({dataProjection:t.defaultDataProjection,featureProjection:t.a},e)}function _o(t,e,i){var n,r=i?ot(i.featureProjection):null,o=i?ot(i.dataProjection):null;if(n=r&&o&&!st(r,o)?t instanceof pi?(e?t.clone():t).C(e?r:o,e?o:r):ct(e?t.slice():t,e?r:o,e?o:r):t,e&&i&&i.decimals){var s=Math.pow(10,i.decimals);t=function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*s)/s;return t},Array.isArray(n)?t(n):n.vb(t)}return n}function Ao(){jo.call(this)}function Io(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Eo(t,e,n,r,o,s){var a=NaN,l=NaN;if(1===(h=(n-e)/r))a=t[e],l=t[e+1];else if(2==h)a=(1-o)*t[e]+o*t[e+r],l=(1-o)*t[e+1]+o*t[e+r+1];else if(h){var u,l=t[e],h=t[e+1],c=0,a=[0];for(u=e+r;u<n;u+=r){var f=t[u],p=t[u+1],c=c+Math.sqrt((f-l)*(f-l)+(p-h)*(p-h));a.push(c),l=f,h=p}for(n=o*c,h=0,c=a.length,u=!1;h<c;)o=h+(c-h>>1),0>(l=+i(a[o],n))?h=o+1:(c=o,u=!l);0>(o=u?h:~h)?(n=(n-a[-o-2])/(a[-o-1]-a[-o-2]),e+=(-o-2)*r,a=x(t[e],t[e+r],n),l=x(t[e+1],t[e+r+1],n)):(a=t[e+o*r],l=t[e+o*r+1])}return s?(s[0]=a,s[1]=l,s):[a,l]}function No(t,e,i,n,r){if(!e)return null;if(n<t[0+i-1])return r?(e=t.slice(0,0+i),e[i-1]=n,e):null;if(t[e-1]<n)return r?(e=t.slice(e-i,e),e[i-1]=n,e):null;if(n==t[0+i-1])return t.slice(0,0+i);for(r=0/i,e/=i;r<e;){var o=r+e>>1;n<t[(o+1)*i-1]?e=o:r=o+1}if(e=t[r*i-1],n==e)return t.slice((r-1)*i,(r-1)*i+i);o=(n-e)/(t[(r+1)*i-1]-e),e=[];var s;for(s=0;s<i-1;++s)e.push(x(t[(r-1)*i+s],t[r*i+s],o));return e.push(n),e}function Lo(t,e){gi.call(this),this.a=null,this.v=this.s=this.i=-1,this.Y(t,e)}function Oo(t){return t.i!=t.f&&(t.a=t.Rd(.5,t.a),t.i=t.f),t.a}function Do(t,e,i){vi(t,e,i),t.b()}function Ro(t,e){gi.call(this),this.a=[],this.i=this.v=-1,this.Y(t,e)}function qo(t){var e=[],i=t.l,n=0,r=t.a;t=t.A;var s,a;for(s=0,a=r.length;s<a;++s){var l=r[s];o(e,n=Eo(i,n,l,t,.5)),n=l}return e}function Fo(t,e,i,n){vi(t,e,i),t.a=n,t.b()}function zo(t,e){var i,n,r=t.X,s=[],a=[];for(i=0,n=e.length;i<n;++i){var l=e[i];i||(r=l.X),o(s,l.l),a.push(s.length)}Fo(t,r,s,a)}function Bo(t,e){gi.call(this),this.Y(t,e)}function Go(t){var e=t.l,i=t.X;t=t.A;var n,r,o=[];for(n=0,r=e.length;n<r;n+=t){var s=new Li(null),a=s;vi(a,i,e.slice(n,n+t)),a.b(),o.push(s)}return o}function Uo(t,e){gi.call(this),this.a=[],this.v=-1,this.s=null,this.V=this.G=this.I=-1,this.i=null,this.Y(t,e)}function Wo(t){if(t.v!=t.f){var e,i,n,r=t.l,o=t.a,s=t.A,a=0,l=[];for(e=0,i=o.length;e<i;++e){var u=o[e];n=r;var h=u[0],c=s;n=D(E(void 0),n,a,h,c),l.push((n[0]+n[2])/2,(n[1]+n[3])/2),a=u[u.length-1]}for(r=Vo(t),o=t.a,s=t.A,e=0,i=[],u=0,n=o.length;u<n;++u)a=o[u],i=Di(r,e,a,s,l,2*u,i),e=a[a.length-1];t.s=i,t.v=t.f}return t.s}function Vo(t){if(t.V!=t.f){var e,i=t.l;t:{var n,r;for(n=0,r=(e=t.a).length;n<r;++n)if(!qi(i,e[n],t.A,void 0)){e=!1;break t}e=!0}e?t.i=i:(t.i=i.slice(),t.i.length=zi(t.i,t.a,t.A)),t.V=t.f}return t.i}function Xo(t){var e,i,n,r,o=t.X,s=t.l,a=[],l=0;for(e=0,i=(t=t.a).length;e<i;++e){var u=t[e].slice(),h=u[u.length-1];if(l)for(n=0,r=u.length;n<r;++n)u[n]-=l;Vi(n=new Bi(null),o,s.slice(l,h),u),a.push(n),l=h}return a}function Ho(t,e,i,n){vi(t,e,i),t.a=n,t.b()}function $o(t,e){var i,n,r,s=t.X,a=[],l=[];for(i=0,n=e.length;i<n;++i){var u=e[i];i||(s=u.X);var h,c,f=a.length;for(h=0,c=(r=u.gb()).length;h<c;++h)r[h]+=f;o(a,u.l),l.push(r)}Ho(t,s,a,l)}function Yo(t){t=t||{},jo.call(this),this.b=t.geometryName}function Jo(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function Zo(t){return t=t.X,{hasZ:"XYZ"===t||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}function Ko(t){pi.call(this),this.a=t||null,es(this)}function Qo(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(t[e].clone());return n}function ts(t){var e,i;if(t.a)for(e=0,i=t.a.length;e<i;++e)Nt(t.a[e],"change",t.b,t)}function es(t){var e,i;if(t.a)for(e=0,i=t.a.length;e<i;++e)Et(t.a[e],"change",t.b,t)}function is(t){t=t||{},jo.call(this),this.defaultDataProjection=ot(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.a=ot(t.featureProjection)),this.b=t.geometryName}function ns(t,e){return t?_o((0,Cc[t.type])(t),!1,e):null}function rs(t,e){return(0,kc[t.H()])(_o(t,!0,e),e)}function os(){this.u=new XMLSerializer,jo.call(this)}function ss(t,e,i){return 0<(t=as(t,e,i)).length?t[0]:null}function as(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&o(n,t.fd(e,i));return n}function ls(t){t=t||{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:co(ls.prototype.Gb),featureMembers:co(ls.prototype.Gb)},os.call(this)}function us(t,e,i){var n=i[0];if(n.srsName=e.firstElementChild.getAttribute("srsName"),t=xo(null,t.yd,e,i,t))return _o(t,!1,n)}function hs(t){return t=ao(t),cs(t)}function cs(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function fs(t){return t=ao(t),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function ps(t){return t=ao(t),ds(t)}function ds(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function gs(t){return t=ao(t),ms(t)}function ms(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function vs(t){return ao(t).trim()}function ys(t,e){xs(t,e?"1":"0")}function bs(t,e){t.appendChild(wc.createTextNode(e.toPrecision()))}function ws(t,e){t.appendChild(wc.createTextNode(e.toString()))}function xs(t,e){t.appendChild(wc.createTextNode(e))}function Ms(t){t=t||{},ls.call(this,t),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function Ss(t,e,i){i=i[i.length-1].srsName;for(var n,r=(e=e.D()).length,o=Array(r),s=0;s<r;++s){n=e[s];var a=s,l="enu";i&&(l=ot(i).b),o[a]="en"===l.substr(0,2)?n[0]+" "+n[1]:n[1]+" "+n[0]}xs(t,o.join(" "))}function Cs(t){t=t||{},ls.call(this,t),this.b["http://www.opengis.net/gml"].featureMember=ho(ls.prototype.Gb),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function ks(t){return(t=so(t,"coordinates")).setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function js(t,e,i){i=i[i.length-1].srsName;for(var n,r=(e=e.D()).length,o=Array(r),s=0;s<r;++s)n=e[s],o[s]=Ps(n,i);xs(t,o.join(" "))}function Ps(t,e){var i="enu";return e&&(i=ot(e).b),"en"===i.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0]}function Ts(t,e,i,n){return t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function _s(t,e,i){var n="XY",r=2;if(t.hasZ&&t.hasM?(n="XYZM",r=4):t.hasZ?(n="XYZ",r=3):t.hasM&&(n="XYM",r=3),4!==r){var o,s;for(o=0,s=e.length/4;o<s;o++)e[o*r]=e[4*o],e[o*r+1]=e[4*o+1],t.hasZ&&(e[o*r+2]=e[4*o+2]),t.hasM&&(e[o*r+2]=e[4*o+3]);if(e.length=e.length/4*r,i)for(o=0,s=i.length;o<s;o++)i[o]=i[o]/4*r}return n}function As(t,e){var i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),wo(Gc,t,e)}function Is(t,e){e[e.length-1].extensionsNode_=t}function Es(t,e,i){t.setAttribute("href",e),e=i[i.length-1].properties,So({node:t},Jc,xc,[e.linkText,e.linkType],i,Yc)}function Ns(t,e,i){var n=i[i.length-1],r=n.node.namespaceURI,o=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":e[3]&&(o.time=e[3]);case"XYZ":e[2]&&(o.ele=e[2]);break;case"XYM":e[2]&&(o.time=e[2])}n=yo(o,e="rtept"==t.nodeName?Qc[r]:of[r]),So({node:t,properties:o},sf,xc,n,i,e)}function Ls(){jo.call(this)}function Os(t,e,i,n,r,o){Ft.call(this),this.i=null,this.N=t||new Image,null!==n&&(this.N.crossOrigin=n),this.a=o?document.createElement("CANVAS"):null,this.g=o,this.c=null,this.f=r,this.b=i,this.u=e,this.j=!1,2==this.f&&Ds(this)}function Ds(t){var e=ne(1,1);try{e.drawImage(t.N,0,0),e.getImageData(0,0,1,1)}catch(e){t.j=!0}}function Rs(t){t=t||{},this.c=void 0!==t.anchor?t.anchor:[.5,.5],this.j=null,this.f=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.C=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.aa=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.fa=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,n=t.src;p(!(void 0!==n&&e),4),p(!e||e&&i,5),void 0!==n&&n.length||!e||(n=e.src||c(e).toString()),p(void 0!==n&&0<n.length,6);var r,o=void 0!==t.src?0:2;void 0!==t.color?(r=t.color,r=Array.isArray(r)?r:Rh(r)):r=null,this.u=r,r=this.fa;var s=this.u,a=oc.get(n,r,s);a||(a=new Os(e,n,i,r,o,s),oc.set(n,r,s,a)),this.b=a,this.ga=void 0!==t.offset?t.offset:[0,0],this.a=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.B=null,this.v=void 0!==t.size?t.size:null,$r.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function qs(t){t=t||{},this.f=t.font,this.i=t.rotation,this.g=t.rotateWithView,this.b=t.scale,this.ea=t.text,this.u=t.textAlign,this.j=t.textBaseline,this.la=void 0!==t.fill?t.fill:new Kr({color:"#333"}),this.pa=void 0!==t.stroke?t.stroke:null,this.a=void 0!==t.offsetX?t.offsetX:0,this.c=void 0!==t.offsetY?t.offsetY:0}function Fs(t){if(t=ao(t),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function zs(t){t=ao(t);for(var e,i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return i}function Bs(t){var e=ao(t).trim();return t.baseURI?new URL(e,t.baseURI).href:e}function Gs(t){return ps(t)}function Us(t,e){return xo(null,mf,t,e)}function Ws(t,e){if(o=xo({l:[],cf:[]},yf,t,e)){var i,n,r=o.l,o=o.cf;for(i=0,n=Math.min(r.length,o.length);i<n;++i)r[4*i+3]=o[i];return o=new Lo(null),Do(o,"XYZM",r),o}}function Vs(t,e){var i=xo({},gf,t,e),n=xo(null,bf,t,e);if(n){var r=new Lo(null);return Do(r,"XYZ",n),r.oa(i),r}}function Xs(t,e){var i=xo({},gf,t,e),n=xo(null,bf,t,e);if(n){var r=new Bi(null);return Vi(r,"XYZ",n,[n.length]),r.oa(i),r}}function Hs(t,e){var i=xo([],kf,t,e);if(!i)return null;if(!i.length)return new Ko(i);var n,r,s,a,l=!0,u=i[0].H();for(s=1,a=i.length;s<a;++s)if((r=i[s]).H()!=u){l=!1;break}if(l)if("Point"==u){for(l=(n=i[0]).X,u=n.l,s=1,a=i.length;s<a;++s)r=i[s],o(u,r.l);vi(r=n=new Bo(null),l,u),r.b(),Zs(n,i)}else"LineString"==u?(n=new Ro(null),zo(n,i),Zs(n,i)):"Polygon"==u?(n=new Uo(null),$o(n,i),Zs(n,i)):"GeometryCollection"==u?n=new Ko(i):p(!1,37);else n=new Ko(i);return n}function $s(t,e){var i=xo({},gf,t,e),n=xo(null,bf,t,e);if(n){var r=new Li(null);return vi(r,"XYZ",n),r.b(),r.oa(i),r}}function Ys(t,e){var i=xo({},gf,t,e),n=xo([null],vf,t,e);if(n&&n[0]){var r,s,a=new Bi(null),l=n[0],u=[l.length];for(r=1,s=n.length;r<s;++r)o(l,n[r]),u.push(l.length);return Vi(a,"XYZ",l,u),a.oa(i),a}}function Js(t,e){var i=xo({},Ef,t,e);if(!i)return null;var n="fillStyle"in i?i.fillStyle:void 0,r=i.fill;void 0===r||r||(n=null),(r="imageStyle"in i?i.imageStyle:void 0)||(r=void 0);var o="textStyle"in i?i.textStyle:void 0,s="strokeStyle"in i?i.strokeStyle:void 0;return void 0===(i=i.outline)||i||(s=null),[new Qr({fill:n,image:r,stroke:s,text:o,zIndex:void 0})]}function Zs(t,e){var i,n,r,o,s=e.length,a=Array(e.length),l=Array(e.length);for(r=o=!1,n=0;n<s;++n)i=e[n],a[n]=i.get("extrude"),l[n]=i.get("altitudeMode"),r=r||void 0!==a[n],o=o||l[n];r&&t.set("extrude",a),o&&t.set("altitudeMode",l)}function Ks(t,e){wo(cf,t,e)}function Qs(t,e){wo(ff,t,e)}function ta(t,e){var i,n=[255*(4==(n=Array.isArray(e)?e:Rh(e)).length?n[3]:1),n[2],n[1],n[0]];for(i=0;4>i;++i){var r=parseInt(n[i],10).toString(16);n[i]=1==r.length?"0"+r:r}xs(t,n.join(""))}function ea(t,e,i){t={node:t};var n,r,o=e.H();"GeometryCollection"==o?(n=Qo(e.a),r=ua):"MultiPoint"==o?(n=Go(e),r=op):"MultiLineString"==o?(n=e.hb(),r=sp):"MultiPolygon"==o?(n=Xo(e),r=lp):p(!1,39),So(t,Xf,r,n,i)}function ia(t,e,i){So({node:t},Vf,ap,[e],i)}function na(t,e,i){var n={node:t};e.a&&t.setAttribute("id",e.a),t=e.Fa();var r={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};r[e.c]=1;var o=Object.keys(t||{}).sort().filter(function(t){return!r[t]});if(0<o.length){var s=yo(t,o);So(n,$f,np,[{names:o,values:s}],i)}(o=e.i)&&(o=o.call(e,0))&&(o=Array.isArray(o)?o[0]:o,this.b&&(t.Style=o),(o=o.na())&&(t.name=o.na())),t=yo(t,o=Hf[i[i.length-1].node.namespaceURI]),So(n,$f,xc,t,i,o),t=i[0],(e=e.R())&&(e=_o(e,!0,t)),So(n,$f,ua,[e],i)}function ra(t,e,i){var n=e.l;(t={node:t}).layout=e.X,t.stride=e.A,So(t,Yf,ep,[n],i)}function oa(t,e,i){var n=(e=Ui(e)).shift();So(t={node:t},Jf,rp,e,i),So(t,Jf,up,[n],i)}function sa(t,e){bs(t,Math.round(1e6*e)/1e6)}function aa(t,e,i){return so(af[0],"gx:"+i)}function la(t,e){return so(e[e.length-1].node.namespaceURI,"Placemark")}function ua(t,e){if(t)return so(e[e.length-1].node.namespaceURI,Df[t.H()])}function ha(t,e){e[e.length-1].Hb[t.getAttribute("k")]=t.getAttribute("v")}function ca(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function fa(t){t=t||{},jo.call(this),this.defaultDataProjection=ot(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function pa(t,e){var i,n,r,o,s=[];for(r=0,o=t.length;r<o;++r)i=t[r],0<r&&s.pop(),n=0<=i?e[i]:e[~i].slice().reverse(),s.push.apply(s,n);for(i=0,n=s.length;i<n;++i)s[i]=s[i].slice();return s}function da(t,e,i,n,r){var o,s,a=[];for(o=0,s=(t=t.geometries).length;o<s;++o)a[o]=ga(t[o],e,i,n,r);return a}function ga(t,e,i,n,r){var o=t.type,s=Pp[o];return e="Point"===o||"MultiPoint"===o?s(t,i,n):s(t,e),(i=new ro).xa(_o(e,!1,r)),void 0!==t.id&&i.$a(t.id),t.properties&&i.oa(t.properties),i}function ma(t,e,i){t[0]=t[0]*e[0]+i[0],t[1]=t[1]*e[1]+i[1]}function va(t){t=t||{},this.c=t.featureType,this.f=t.featureNS,this.b=t.gmlFormat?t.gmlFormat:new Ms,os.call(this)}function ya(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return xo({},Ep,t,[])}function ba(t,e){var i=so("http://www.opengis.net/ogc","Filter"),n=so("http://www.opengis.net/ogc","FeatureId");i.appendChild(n),n.setAttribute("fid",e),t.appendChild(i)}function wa(t){t=t||{},jo.call(this),this.b=void 0!==t.splitCollection&&t.splitCollection}function xa(t){return(t=t.D()).length?t.join(" "):""}function Ma(t){for(var e=[],i=0,n=(t=t.D()).length;i<n;++i)e.push(t[i].join(" "));return e.join(",")}function Sa(t){for(var e=[],i=0,n=(t=Ui(t)).length;i<n;++i)e.push("("+Ma(t[i])+")");return e.join(",")}function Ca(t){var e=t.H(),i=(0,Lp[e])(t),e=e.toUpperCase();if(t instanceof gi){var n="";"XYZ"!==(t=t.X)&&"XYZM"!==t||(n+="Z"),"XYM"!==t&&"XYZM"!==t||(n+="M"),0<(t=n).length&&(e+=" "+t)}return i.length?e+"("+i+")":e+" EMPTY"}function ka(t,e){var i;return i=new Ta(new ja(t)),_a(i),(i=Ia(i))?_o(i,!1,e):null}function ja(t){this.f=t,this.b=-1}function Pa(t){var e=t.f.charAt(++t.b),i={position:t.b,value:e};if("("==e)i.type=2;else if(","==e)i.type=5;else if(")"==e)i.type=3;else if("0"<=e&&"9">=e||"."==e||"-"==e){i.type=4;var n,e=t.b,r=!1,o=!1;do{"."==n?r=!0:"e"!=n&&"E"!=n||(o=!0),n=t.f.charAt(++t.b)}while("0"<=n&&"9">=n||"."==n&&(void 0===r||!r)||!o&&("e"==n||"E"==n)||o&&("-"==n||"+"==n));t=parseFloat(t.f.substring(e,t.b--)),i.value=t}else if("a"<=e&&"z">=e||"A"<=e&&"Z">=e){i.type=1,e=t.b;do{n=t.f.charAt(++t.b)}while("a"<=n&&"z">=n||"A"<=n&&"Z">=n);t=t.f.substring(e,t.b--).toUpperCase(),i.value=t}else{if(" "==e||"\t"==e||"\r"==e||"\n"==e)return Pa(t);if(""!==e)throw Error("Unexpected character: "+e);i.type=6}return i}function Ta(t){this.a=t,this.f="XY"}function _a(t){t.b=Pa(t.a)}function Aa(t,e){var i=t.b.type==e;return i&&_a(t),i}function Ia(t){e=t.b;if(Aa(t,1)){var e=e.value,i="XY",n=t.b;if(1==t.b.type&&("Z"===(n=n.value)?i="XYZ":"M"===n?i="XYM":"ZM"===n&&(i="XYZM"),"XY"!==i&&_a(t)),t.f=i,"GEOMETRYCOLLECTION"==e){t:{if(Aa(t,2)){e=[];do{e.push(Ia(t))}while(Aa(t,5));if(Aa(t,3)){t=e;break t}}else if(Oa(t)){t=[];break t}throw Error(Da(t))}return new Ko(t)}if(n=Dp[e],i=Op[e],!n||!i)throw Error("Invalid geometry type: "+e);return e=n.call(t),new i(e,t.f)}throw Error(Da(t))}function Ea(t){for(var e=[],i=t.f.length,n=0;n<i;++n){var r=t.b;if(!Aa(t,4))break;e.push(r.value)}if(e.length==i)return e;throw Error(Da(t))}function Na(t){for(var e=[Ea(t)];Aa(t,5);)e.push(Ea(t));return e}function La(t){for(var e=[t.cd()];Aa(t,5);)e.push(t.cd());return e}function Oa(t){var e=1==t.b.type&&"EMPTY"==t.b.value;return e&&_a(t),e}function Da(t){return"Unexpected `"+t.b.value+"` at position "+t.b.position+" in `"+t.a.f+"`"}function Ra(t,e){return xo({},Kp,t,e)}function qa(t,e){return xo({},$p,t,e)}function Fa(t,e){var i=Ra(t,e);if(i){var n=[ms(t.getAttribute("width")),ms(t.getAttribute("height"))];return i.size=n,i}}function za(t,e){return xo([],Qp,t,e)}function Ba(t){var e=vs(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}function Ga(t){if(Ut.call(this),t=t||{},this.a=null,this.g=ut,this.c=void 0,Et(this,Wt("projection"),this.rg,this),Et(this,Wt("tracking"),this.xg,this),void 0!==t.projection){var e=ot(t.projection);this.set("projection",e)}void 0!==t.trackingOptions&&this.set("trackingOptions",t.trackingOptions),this.mc(void 0!==t.tracking&&t.tracking)}function Ua(t,e,i){gi.call(this),Wa(this,t,e||0,i)}function Wa(t,e,i,n){if(e){yi(t,n,e,0),t.l||(t.l=[]),e=ki(n=t.l,e),n[e++]=n[0]+i;var r;for(i=1,r=t.A;i<r;++i)n[e++]=n[i];n.length=e}else vi(t,"XY",null);t.b()}function Va(t,e){Ft.call(this),this.Oa=t,this.state=e,this.b=null,this.key=""}function Xa(t){zt(t,"change")}function Ha(t,e,i,n,r){Va.call(this,t,e),this.a=i,this.N=new Image,null!==n&&(this.N.crossOrigin=n),this.f=null,this.c=r}function $a(t){t.f.forEach(Lt),t.f=null}function Ya(t,e,i,n){this.La=t,this.I=e,this.overlaps=n,this.c=0,this.resolution=i,this.ga=this.fa=null,this.f=[],this.coordinates=[],this.V=ar(),this.b=[],this.aa=null,this.$=ar(),this.W=ar()}function Ja(t,e,i,n,r,o,s){var a=t.coordinates.length,l=t.Oc();s&&(i+=r),s=[e[i],e[i+1]];var u,h,c,f=[NaN,NaN],p=!0;for(u=i+r;u<n;u+=r){f[0]=e[u],f[1]=e[u+1],c=l[1];var d=l[2],g=l[3],m=f[0],v=f[1],y=0;m<l[0]?y|=16:m>d&&(y|=4),v<c?y|=8:v>g&&(y|=2),y||(y=1),(c=y)!==h?(p&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),t.coordinates[a++]=f[0],t.coordinates[a++]=f[1],p=!1):1===c?(t.coordinates[a++]=f[0],t.coordinates[a++]=f[1],p=!1):p=!0,s[0]=f[0],s[1]=f[1],h=c}return(o&&p||u===i+r)&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),a}function Za(t,e){t.fa=[0,e,0],t.f.push(t.fa),t.ga=[0,e,0],t.b.push(t.ga)}function Ka(t,e,i,n,r,o,a,l,u){var h;t.aa&&s(n,t.V)?h=t.aa:(t.aa||(t.aa=[]),h=di(t.coordinates,0,t.coordinates.length,2,n,t.aa),lr(t.V,n)),n=!V(o);for(var f,p,d,g,m,v=0,y=a.length,b=0,w=t.$,x=t.W,M=0,S=0,C=t.f!=a||t.overlaps?0:200;v<y;){var k,j,P,T,_=a[v];switch(_[0]){case 0:b=_[1],n&&o[c(b).toString()]||!b.R()?v=_[2]:void 0===u||G(u,b.R().J())?++v:v=_[2]+1;break;case 1:M>C&&(t.la(e,r),M=0),S>C&&(e.stroke(),S=0),M||S||(e.beginPath(),p=d=NaN),++v;break;case 2:f=h[b=_[1]],_=h[b+1],g=h[b+2]-f,b=h[b+3]-_,b=Math.sqrt(g*g+b*b),e.moveTo(f+b,_),e.arc(f,_,b,0,2*Math.PI,!0),++v;break;case 3:e.closePath(),++v;break;case 4:b=_[1],f=_[2],k=_[3],j=_[4]*i,P=_[5]*i;var A=_[6],I=_[7],E=_[8],N=_[9];T=_[10],g=_[11],m=_[12];var L=_[13],O=_[14];for(T&&(g+=r);b<f;b+=2){if(_=h[b]-j,T=h[b+1]-P,L&&(_=Math.round(_),T=Math.round(T)),1!=m||g){var D=_+j;hr(w,D,R=T+P,m,m,g,-D,-R),e.setTransform.apply(e,w)}D=e.globalAlpha,1!=I&&(e.globalAlpha=D*I);var R=O+E>k.width?k.width-E:O,q=A+N>k.height?k.height-N:A;e.drawImage(k,E,N,R,q,_,T,R*i,q*i),1!=I&&(e.globalAlpha=D),(1!=m||g)&&e.setTransform.apply(e,x)}++v;break;case 5:for(b=_[1],f=_[2],P=_[3],A=_[4]*i,I=_[5]*i,g=_[6],m=_[7]*i,k=_[8],j=_[9],(T=_[10])&&(g+=r);b<f;b+=2){for(_=h[b]+A,T=h[b+1]+I,(1!=m||g)&&(hr(w,_,T,m,m,g,-_,-T),e.setTransform.apply(e,w)),1<(N=(E=P.split("\n")).length)?(L=Math.round(1.5*e.measureText("M").width),T-=(N-1)/2*L):L=0,O=0;O<N;O++)D=E[O],j&&e.strokeText(D,_,T),k&&e.fillText(D,_,T),T+=L;(1!=m||g)&&e.setTransform.apply(e,x)}++v;break;case 6:if(l&&(b=_[1],b=l(b)))return b;++v;break;case 7:C?M++:t.la(e,r),++v;break;case 8:for(b=_[1],f=_[2],_=h[b],m=(T=h[b+1])+.5|0,(g=_+.5|0)===p&&m===d||(e.moveTo(_,T),p=g,d=m),b+=2;b<f;b+=2)_=h[b],T=h[b+1],g=_+.5|0,m=T+.5|0,(b==f-2||g!==p||m!==d)&&(e.lineTo(_,T),p=g,d=m);++v;break;case 9:t.Aa=_[2],M&&(t.la(e,r),M=0,S&&(e.stroke(),S=0)),e.fillStyle=_[1],++v;break;case 10:var b=void 0===_[8]||_[8],F=_[9];f=_[2],S&&(e.stroke(),S=0),e.strokeStyle=_[1],e.lineWidth=b?f*i:f,e.lineCap=_[3],e.lineJoin=_[4],e.miterLimit=_[5],Vh&&(f=_[6],g=_[7],b&&i!==F&&(f=f.map(function(t){return t*i/F}),g*=i/F,_[6]=f,_[7]=g,_[9]=i),e.lineDashOffset=g,e.setLineDash(f)),++v;break;case 11:e.font=_[1],e.textAlign=_[2],e.textBaseline=_[3],++v;break;case 12:C?S++:e.stroke(),++v;break;default:++v}}M&&t.la(e,r),S&&e.stroke()}function Qa(t){var e=t.b;e.reverse();var i,n,r,o=e.length,s=-1;for(i=0;i<o;++i)if(n=e[i],6==(r=n[0]))s=i;else if(0==r){for(n[2]=i,n=t.b,r=i;s<r;){var a=n[s];n[s]=n[r],n[r]=a,++s,--r}s=-1}}function tl(t,e){t.fa[2]=t.f.length,t.fa=null,t.ga[2]=t.b.length,t.ga=null;var i=[6,e];t.f.push(i),t.b.push(i)}function el(t,e,i,n){Ya.call(this,t,e,i,n),this.N=this.G=null,this.v=this.B=this.K=this.o=this.j=this.C=this.s=this.u=this.i=this.g=this.a=void 0}function il(t,e,i,n){Ya.call(this,t,e,i,n),this.g=null,this.a={Cb:void 0,wb:void 0,xb:null,yb:void 0,zb:void 0,Ab:void 0,Bb:void 0,Vc:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function nl(t,e,i,n,r){var o=t.coordinates.length;return e=Ja(t,e,i,n,r,!1,!1),o=[8,o,e],t.f.push(o),t.b.push(o),n}function rl(t){var e=t.a,i=e.strokeStyle,n=e.lineCap,r=e.lineDash,o=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,u=e.miterLimit;e.Cb==i&&e.wb==n&&s(e.xb,r)&&e.yb==o&&e.zb==a&&e.Ab==l&&e.Bb==u||(e.Vc!=t.coordinates.length&&(t.f.push([12]),e.Vc=t.coordinates.length),t.f.push([10,i,l,n,a,u,r,o,!0,1],[1]),e.Cb=i,e.wb=n,e.xb=r,e.yb=o,e.zb=a,e.Ab=l,e.Bb=u)}function ol(t,e,i,n){Ya.call(this,t,e,i,n),this.g=null,this.a={Nd:void 0,Cb:void 0,wb:void 0,xb:null,yb:void 0,zb:void 0,Ab:void 0,Bb:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function sl(t,e,i,n,r){var o=void 0!==(s=t.a).fillStyle,s=void 0!=s.strokeStyle,a=n.length,l=[1];for(t.f.push(l),t.b.push(l),l=0;l<a;++l){var u=n[l];i=[8,t.coordinates.length,i=Ja(t,e,i,u,r,!0,!s)],t.f.push(i),t.b.push(i),s&&(i=[3],t.f.push(i),t.b.push(i)),i=u}return e=[7],t.b.push(e),o&&t.f.push(e),s&&(o=[12],t.f.push(o),t.b.push(o)),i}function al(t,e){var i=t.a,n=i.fillStyle,r=i.strokeStyle,o=i.lineCap,a=i.lineDash,l=i.lineDashOffset,u=i.lineJoin,h=i.lineWidth,c=i.miterLimit;if(void 0!==n&&("string"!=typeof n||i.Nd!=n)){var f=[9,n];"string"!=typeof n&&(n=e.J(),f.push([n[0],n[3]])),t.f.push(f),i.Nd=i.fillStyle}void 0===r||i.Cb==r&&i.wb==o&&s(i.xb,a)&&i.yb==l&&i.zb==u&&i.Ab==h&&i.Bb==c||(t.f.push([10,r,h,o,u,c,a,l,!0,1]),i.Cb=r,i.wb=o,i.xb=a,i.yb=l,i.zb=u,i.Ab=h,i.Bb=c)}function ll(t,e,i,n){Ya.call(this,t,e,i,n),this.C=this.s=this.v=null,this.ea="",this.j=this.u=0,this.o=void 0,this.B=this.K=0,this.i=this.g=this.a=null}function ul(t,e,i,n,r){this.j=t,this.f=e,this.i=n,this.u=i,this.a=r,this.b={},this.c=ne(1,1),this.g=ar()}function hl(t,e,i){var n,r=Math.floor(t.length/2);if(e>=r)for(n=r;n<e;n++)t[n][i]=!0;else if(e<r)for(n=e+1;n<r;n++)t[n][i]=!0}function cl(t){if(void 0!==fd[t])return fd[t];for(var e=2*t+1,i=Array(e),n=0;n<e;n++)i[n]=Array(e);for(var e=t,r=n=0;e>=n;)hl(i,t+e,t+n),hl(i,t+n,t+e),hl(i,t-n,t+e),hl(i,t-e,t+n),hl(i,t-e,t-n),hl(i,t-n,t-e),hl(i,t+n,t-e),hl(i,t+e,t-n),n++,0<2*((r+=1+2*n)-e)+1&&(--e,r+=1-2*e);return fd[t]=i}function fl(t){for(var e in t.b){var i,n=t.b[e];for(i in n)n[i].bc()}}function pl(t,e,i,n,r,o){var s=2*(r=Math.round(r))+1,a=hr(t.g,r+.5,r+.5,1/i,-1/i,-n,-e[0],-e[1]),l=t.c;l.canvas.width!==s||l.canvas.height!==s?(l.canvas.width=s,l.canvas.height=s):l.clearRect(0,0,s,s);var u;void 0!==t.a&&(u=A(),O(u,e),j(u,i*(t.a+r),u));var h=cl(r);return ml(t,l,a,n,function(t){for(var e=l.getImageData(0,0,s,s).data,i=0;i<s;i++)for(var n=0;n<s;n++)if(h[i][n]&&0<e[4*(n*s+i)+3])return(t=o(t))?t:void l.clearRect(0,0,s,s)},u)}function dl(t,e,i){var n=void 0!==e?e.toString():"0";return void 0===(e=t.b[n])&&(e={},t.b[n]=e),void 0===(n=e[i])&&(n=new pd[i](t.j,t.f,t.u,t.i),e[i]=n),n}function gl(t,e,n,r,o,s){var a=Object.keys(t.b).map(Number);a.sort(i);var l=t.f,u=l[0],h=l[1],c=l[2];di(u=[u,h,u,l=l[3],c,l,c,h],0,8,2,r,u),e.save(),e.beginPath(),e.moveTo(u[0],u[1]),e.lineTo(u[2],u[3]),e.lineTo(u[4],u[5]),e.lineTo(u[6],u[7]),e.clip();for(var f,p,u=0,h=a.length;u<h;++u)for(f=t.b[a[u].toString()],c=0,l=uc.length;c<l;++c)void 0!==(p=f[uc[c]])&&Ka(p,e,n,r,o,s,p.f,void 0,void 0);e.restore()}function ml(t,e,i,n,r,o){var s={},a=Object.keys(t.b).map(Number);a.sort(function(t,e){return e-t});var l,u,h,c,f;for(l=0,u=a.length;l<u;++l)for(c=t.b[a[l].toString()],h=uc.length-1;0<=h;--h)if(void 0!==(f=c[uc[h]])&&(f=Ka(f,e,1,i,n,s,f.b,r,o)))return f}function vl(t){Gt.call(this),this.a=t}function yl(t,e,i){return function(n,r){return Ru(t,e,n,r,function(t){i[n]||(i[n]={}),i[n][t.Oa.toString()]=t})}}function bl(t,e){e.ad()&&t.postRenderFunctions.push(function(t,e,i){e=c(t).toString(),t.Db(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function wl(t,e){if(e){var i,n,r;for(n=0,r=e.length;n<r;++n)i=e[n],t[c(i).toString()]=i}}function xl(t,e){var i=e.Ba;void 0!==i&&("string"==typeof i?t.logos[i]="":i&&(p("string"==typeof i.href,44),p("string"==typeof i.src,45),t.logos[i.src]=i.href))}function Ml(t){vl.call(this,t),this.V=ar()}function Sl(t,e,i){var n=e.pixelRatio,r=e.size[0]*n,o=e.size[1]*n,s=e.viewState.rotation,a=z(i),l=[i[2],i[3]],u=[i[2],i[1]];i=[i[0],i[1]],ur(e.coordinateToPixelTransform,a),ur(e.coordinateToPixelTransform,l),ur(e.coordinateToPixelTransform,u),ur(e.coordinateToPixelTransform,i),t.save(),vr(t,-s,r/2,o/2),t.beginPath(),t.moveTo(a[0]*n,a[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(u[0]*n,u[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),vr(t,s,r/2,o/2)}function Cl(t,e,i,n,r){var o=t.a;if(Bt(o,e)){var s=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,l=n.viewState.rotation;vr(i,-l,s/2,a/2),t=r||kl(t,n,0),zt(o,new mr(e,new br(i,n.pixelRatio,n.extent,t,n.viewState.rotation),n,i,null)),vr(i,l,s/2,a/2)}}function kl(t,e,i){var n=e.viewState,r=e.pixelRatio,o=r/n.resolution;return hr(t.V,r*e.size[0]/2,r*e.size[1]/2,o,-o,-n.rotation,-n.center[0]+i,-n.center[1])}function jl(t,e){return c(t)-c(e)}function Pl(t,e){var i=.5*t/e;return i*i}function Tl(t,e,i,n,r,o){var s,a,l=!1;return(s=i.ia())&&(2==(a=s.cc())||3==a?s.Ye(r,o):(0==a&&s.load(),s.ae(r,o),l=!0)),(r=(0,i.ta)(e))&&(n=r.Rc(n),(0,dd[n.H()])(t,n,i,e)),l}function _l(t){Ml.call(this,t),this.c=!1,this.G=-1,this.C=NaN,this.K=A(),this.g=this.s=null,this.i=ne()}function Al(t){var e=bh({},t=t||{});delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,or.call(this,e),this.o=void 0!==t.renderBuffer?t.renderBuffer:100,this.v=null,this.B=void 0,this.s(t.style),this.G=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.I=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}function Il(){return[[-1/0,-1/0,1/0,1/0]]}function El(t){Ut.call(this),this.$=ot(t.projection),this.V=Nl(t.attributions),this.Ba=t.logo,this.Ca=void 0!==t.state?t.state:"ready",this.C=void 0!==t.wrapX&&t.wrapX}function Nl(t){if("string"==typeof t)return[new Ct({html:t})];if(t instanceof Ct)return[t];if(Array.isArray(t)){for(var e=t.length,i=Array(e),n=0;n<e;n++){var r=t[n];i[n]="string"==typeof r?new Ct({html:r}):r}return i}return null}function Ll(t){t=t||{},El.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.G=h,this.I=t.format,this.Da=void 0==t.overlaps||t.overlaps,this.sa=t.url,t.loader?this.G=t.loader:void 0!==this.sa&&(p(this.I,7),this.G=ko(this.sa,this.I)),this.cb=t.strategy?t.strategy:Il;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;this.a=e?new _r:null,this.W=new _r,this.c={},this.i={},this.j={},this.o={},this.g=null;var i,n;t.features instanceof Ht?(i=t.features,n=i.a):Array.isArray(t.features)&&(n=t.features),e||i||(i=new Ht(n)),n&&Rl(this,n),i&&ql(this,i)}function Ol(t,e,i){t.o[e]=[Et(i,"change",t.Ae,t),Et(i,"propertychange",t.Ae,t)]}function Dl(t,e,i){var n=!0,r=i.a;return void 0!==r?r.toString()in t.i?n=!1:t.i[r.toString()]=i:(p(!(e in t.j),30),t.j[e]=i),n}function Rl(t,e){var i,n,r,o,s=[],a=[],l=[];for(n=0,r=e.length;n<r;n++)o=e[n],i=c(o).toString(),Dl(t,i,o)&&a.push(o);for(n=0,r=a.length;n<r;n++){Ol(t,i=c(o=a[n]).toString(),o);var u=o.R();u?(i=u.J(),s.push(i),l.push(o)):t.c[i]=o}for(t.a&&t.a.load(s,l),n=0,r=a.length;n<r;n++)zt(t,new Bl("addfeature",a[n]))}function ql(t,e){var i=!1;Et(t,"addfeature",function(t){i||(i=!0,e.push(t.feature),i=!1)}),Et(t,"removefeature",function(t){i||(i=!0,e.remove(t.feature),i=!1)}),Et(e,"add",function(t){i||(i=!0,this.Pa(t.element),i=!1)},t),Et(e,"remove",function(t){i||(i=!0,this.Ja(t.element),i=!1)},t),t.g=e}function Fl(t,e,i,n){t.a?Nr(t.a,e,i,n):t.g&&t.g.forEach(i,n)}function zl(t,e){for(var i in t.i)if(t.i[i]===e){delete t.i[i];break}}function Bl(t,e){Rt.call(this,t),this.feature=e}function Gl(t){xn.call(this,{handleDownEvent:Vl,handleEvent:Wl,handleUpEvent:Xl}),this.I=!1,this.$=null,this.i=!1,this.Da=t.source?t.source:null,this.Ba=t.features?t.features:null,this.Nf=t.snapTolerance?t.snapTolerance:12,this.W=t.type,this.c=tu(this.W),this.ya=t.minPoints?t.minPoints:this.c===yd?3:2,this.sa=t.maxPoints?t.maxPoints:1/0,this.tc=t.finishCondition?t.finishCondition:ci;var e=t.geometryFunction;if(!e)if("Circle"===this.W)e=function(t,e){var i=e||new Ua([NaN,NaN]);return Wa(i,t[0],Math.sqrt(li(t[0],t[1]))),i};else{var i,n=this.c;n===md?i=Li:n===vd?i=Lo:n===yd&&(i=Bi),e=function(t,e){var r=e;return r?n===yd?r.Y([t[0].concat([t[0][0]])]):r.Y(t):r=new i(t),r}}this.ta=e,this.G=this.s=this.a=this.C=this.j=this.o=null,this.bb=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.ca=new Al({source:new Ll({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:Ul()}),this.Ca=t.geometryName,this.Mf=t.condition?t.condition:mn,this.uc=t.freehand?ci:t.freehandCondition?t.freehandCondition:vn,Et(this,Wt("active"),this.cb,this)}function Ul(){var t=io();return function(e){return t[e.R().H()]}}function Wl(t){this.i=this.c!==md&&this.uc(t);var e=!this.i;return this.i&&"pointerdrag"===t.type&&null!==this.j?(Jl(this,t),e=!1):"pointermove"===t.type?e=Hl(this,t):"dblclick"===t.type&&(e=!1),Sn.call(this,t)&&e}function Vl(t){return this.I=!this.i,this.i?(this.$=t.pixel,this.o||Yl(this,t),!0):!!this.Mf(t)&&(this.$=t.pixel,!0)}function Xl(t){var e=!0;Hl(this,t);var i=this.c===bd;return this.I?(this.o?this.i||i?Zl(this):$l(this,t)?this.tc(t)&&Zl(this):Jl(this,t):(Yl(this,t),this.c===md&&Zl(this)),e=!1):this.i&&(this.o=null,Kl(this)),e}function Hl(t,e){if(t.$&&(!t.i&&t.I||t.i&&!t.I)){var i=t.$,n=e.pixel,r=(r=i[0]-n[0])*r+(i=i[1]-n[1])*i;t.I=t.i?r>t.bb:r<=t.bb}return t.o?(r=e.coordinate,i=t.j.R(),t.c===md?n=t.a:t.c===yd?(n=t.a[0],n=n[n.length-1],$l(t,e)&&(r=t.o.slice())):(n=t.a,n=n[n.length-1]),n[0]=r[0],n[1]=r[1],t.ta(t.a,i),t.C&&t.C.R().Y(r),i instanceof Bi&&t.c!==yd?(t.s||(t.s=new ro(new Lo(null))),i=i.Vd(0),r=t.s.R(),Do(r,i.X,i.l)):t.G&&(r=t.s.R()).Y(t.G),Ql(t)):(r=e.coordinate.slice(),t.C?t.C.R().Y(r):(t.C=new ro(new Li(r)),Ql(t))),!0}function $l(t,e){u=!1;if(t.j){var i=!1,n=[t.o];if(t.c===vd?i=t.a.length>t.ya:t.c===yd&&(i=t.a[0].length>t.ya,n=[t.a[0][0],t.a[0][t.a[0].length-2]]),i)for(var i=e.map,r=0,o=n.length;r<o;r++){var s=n[r],a=Fr(i,s),l=e.pixel,u=l[0]-a[0],a=l[1]-a[1];if(u=Math.sqrt(u*u+a*a)<=(t.i?1:t.Nf)){t.o=s;break}}}return u}function Yl(t,e){var i=e.coordinate;t.o=i,t.c===md?t.a=i.slice():t.c===yd?(t.a=[[i.slice(),i.slice()]],t.G=t.a[0]):(t.a=[i.slice(),i.slice()],t.c===bd&&(t.G=t.a)),t.G&&(t.s=new ro(new Lo(t.G))),i=t.ta(t.a),t.j=new ro,t.Ca&&t.j.pb(t.Ca),t.j.xa(i),Ql(t),zt(t,new eu("drawstart",t.j))}function Jl(t,e){var i,n,r=e.coordinate,o=t.j.R();t.c===vd?(t.o=r.slice(),(n=t.a).length>=t.sa&&(t.i?n.pop():i=!0),n.push(r.slice()),t.ta(n,o)):t.c===yd&&((n=t.a[0]).length>=t.sa&&(t.i?n.pop():i=!0),n.push(r.slice()),i&&(t.o=n[0]),t.ta(t.a,o)),Ql(t),i&&Zl(t)}function Zl(t){var e=Kl(t),i=t.a,n=e.R();t.c===vd?(i.pop(),t.ta(i,n)):t.c===yd&&(i[0].pop(),t.ta(i,n),i=n.D()),"MultiPoint"===t.W?e.xa(new Bo([i])):"MultiLineString"===t.W?e.xa(new Ro([i])):"MultiPolygon"===t.W&&e.xa(new Uo([i])),zt(t,new eu("drawend",e)),t.Ba&&t.Ba.push(e),t.Da&&t.Da.Pa(e)}function Kl(t){t.o=null;var e=t.j;return e&&(t.j=null,t.C=null,t.s=null,t.ca.da().clear(!0)),e}function Ql(t){var e=[];t.j&&e.push(t.j),t.s&&e.push(t.s),t.C&&e.push(t.C),(t=t.ca.da()).clear(!0),t.ub(e)}function tu(t){var e;return"Point"===t||"MultiPoint"===t?e=md:"LineString"===t||"MultiLineString"===t?e=vd:"Polygon"===t||"MultiPolygon"===t?e=yd:"Circle"===t&&(e=bd),e}function eu(t,e){Rt.call(this,t),this.feature=e}function iu(t){xn.call(this,{handleDownEvent:lu,handleDragEvent:uu,handleEvent:cu,handleUpEvent:hu}),this.Da=t.condition?t.condition:wn,this.Ba=function(t){return mn(t)&&gn(t)},this.Ca=t.deleteCondition?t.deleteCondition:this.Ba,this.ya=this.c=null,this.sa=[0,0],this.s=this.G=!1,this.a=new _r,this.$=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.j=this.ca=!1,this.i=[],this.C=new Al({source:new Ll({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:mu(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.W={Point:this.vh,LineString:this.we,LinearRing:this.we,Polygon:this.wh,MultiPoint:this.th,MultiLineString:this.sh,MultiPolygon:this.uh,Circle:this.yi,GeometryCollection:this.rh},this.o=t.features,this.o.forEach(this.$c,this),Et(this.o,"add",this.ph,this),Et(this.o,"remove",this.qh,this),this.I=null}function nu(t,e){t.s||(t.s=!0,zt(t,new vu("modifystart",t.o,e)))}function ru(t,e){ou(t,e),t.c&&!t.o.Wa()&&(t.C.da().Ja(t.c),t.c=null),Nt(e,"change",t.ve,t)}function ou(t,e){var i=t.a,n=[];i.forEach(function(t){e===t.feature&&n.push(t)});for(var r=n.length-1;0<=r;--r)i.remove(n[r])}function su(t,e){var i=t.c;i?i.R().Y(e):(i=new ro(new Li(e)),t.c=i,t.C.da().Pa(i))}function au(t,e){return t.index-e.index}function lu(t){if(!this.Da(t))return!1;fu(this,t.pixel,t.map);var e=t.map.Ea(t.pixel);this.i.length=0,this.s=!1;var i=this.c;if(i){var n=[],r=k([i=i.R().D()]),o={};(r=Er(this.a,r)).sort(au);for(var s=0,a=r.length;s<a;++s){var l=r[s],u=l.T,h=c(l.feature),f=l.depth;f&&(h+="-"+f.join("-")),o[h]||(o[h]=Array(2)),"Circle"===l.geometry.H()&&1===l.index?(u=du(e,l),oi(u,i)&&!o[h][0]&&(this.i.push([l,0]),o[h][0]=l)):oi(u[0],i)&&!o[h][0]?(this.i.push([l,0]),o[h][0]=l):oi(u[1],i)&&!o[h][1]?("LineString"!==l.geometry.H()&&"MultiLineString"!==l.geometry.H()||!o[h][0]||0!==o[h][0].index)&&(this.i.push([l,1]),o[h][1]=l):c(u)in this.ya&&!o[h][0]&&!o[h][1]&&n.push([l,i])}for(n.length&&nu(this,t),t=n.length-1;0<=t;--t)this.Ag.apply(this,n[t])}return!!this.c}function uu(t){this.G=!1,nu(this,t),t=t.coordinate;for(var e=0,i=this.i.length;e<i;++e){for(var n,r=(l=this.i[e])[0],o=r.depth,s=r.geometry,a=r.T,l=l[1];t.length<s.A;)t.push(a[l][t.length]);switch(s.H()){case"Point":n=t,a[0]=a[1]=t;break;case"MultiPoint":(n=s.D())[r.index]=t,a[0]=a[1]=t;break;case"LineString":(n=s.D())[r.index+l]=t,a[l]=t;break;case"MultiLineString":case"Polygon":(n=s.D())[o[0]][r.index+l]=t,a[l]=t;break;case"MultiPolygon":(n=s.D())[o[1]][o[0]][r.index+l]=t,a[l]=t;break;case"Circle":a[0]=a[1]=t,0===r.index?(this.j=!0,s.Ka(t)):(this.j=!0,s.Re(ui(s.ha(),t))),this.j=!1}n&&(r=s,o=n,this.j=!0,r.Y(o),this.j=!1)}su(this,t)}function hu(t){for(var e,i,n=this.i.length-1;0<=n;--n)if(e=this.i[n][0],"Circle"===(i=e.geometry).H()){var r=i.ha(),o=e.Mc[0];e=e.Mc[1],o.T[0]=o.T[1]=r,e.T[0]=e.T[1]=r,Ar(this.a,N(r),o),Ar(this.a,i.J(),e)}else Ar(this.a,k(e.T),e);return this.s&&(zt(this,new vu("modifyend",this.o,t)),this.s=!1),!1}function cu(t){if(!(t instanceof ye))return!0;this.I=t;var e;if(Ki(t.map.Z())[1]||"pointermove"!=t.type||this.v||(this.sa=t.pixel,fu(this,t.pixel,t.map)),this.c&&this.Ca(t)){var i;if("singleclick"==t.type&&this.G)i=!0;else if(this.I&&"pointerdrag"!=this.I.type){nu(this,e=this.I);var n,r,o,s,a,l,u,h,f,p=this.i,d={};for(a=p.length-1;0<=a;--a)s=p[a],f=s[0],i=c(f.feature),f.depth&&(i+="-"+f.depth.join("-")),i in d||(d[i]={}),0===s[1]?(d[i].right=f,d[i].index=f.index):1==s[1]&&(d[i].left=f,d[i].index=f.index+1);for(i in d){switch(h=d[i].right,l=d[i].left,a=d[i].index,u=a-1,f=void 0!==l?l:h,0>u&&(u=0),s=f.geometry,r=o=s.D(),n=!1,s.H()){case"MultiLineString":2<o[f.depth[0]].length&&(o[f.depth[0]].splice(a,1),n=!0);break;case"LineString":2<o.length&&(o.splice(a,1),n=!0);break;case"MultiPolygon":r=r[f.depth[1]];case"Polygon":4<(r=r[f.depth[0]]).length&&(a==r.length-1&&(a=0),r.splice(a,1),n=!0,0===a&&(r.pop(),r.push(r[0]),u=r.length-1))}n&&(n=s,this.j=!0,n.Y(o),this.j=!1,o=[],void 0!==l&&(this.a.remove(l),o.push(l.T[0])),void 0!==h&&(this.a.remove(h),o.push(h.T[1])),void 0!==l&&void 0!==h&&(l={depth:f.depth,feature:f.feature,geometry:f.geometry,index:u,T:o},this.a.ba(k(l.T),l)),gu(this,s,a,f.depth,-1),this.c&&(this.C.da().Ja(this.c),this.c=null),p.length=0)}zt(this,new vu("modifyend",this.o,e)),this.s=!1,i=!0}else i=!1;e=i}return"singleclick"==t.type&&(this.G=!1),Sn.call(this,t)&&!e}function fu(t,e,i){var n=i.Ea(e),r=j(N(n),i.Z().va()*t.$);if(0<(r=Er(t.a,r)).length){r.sort(function(t,e){return pu(n,t)-pu(n,e)});var o=r[0],s=o.T,a=du(n,o),l=Fr(i,a),u=ui(e,l);if(u<=t.$){if(e={},"Circle"===o.geometry.H()&&1===o.index)t.ca=!0,su(t,a);else for(u=Fr(i,s[0]),o=Fr(i,s[1]),i=li(l,u),l=li(l,o),u=Math.sqrt(Math.min(i,l)),t.ca=u<=t.$,t.ca&&(a=i>l?s[1]:s[0]),su(t,a),l=1,i=r.length;l<i&&(a=r[l].T,oi(s[0],a[0])&&oi(s[1],a[1])||oi(s[0],a[1])&&oi(s[1],a[0]));++l)e[c(a)]=!0;return e[c(s)]=!0,void(t.ya=e)}}t.c&&(t.C.da().Ja(t.c),t.c=null)}function pu(t,e){var i=e.geometry;if("Circle"===i.H()&&1===e.index){var n=li(i.ha(),t);return(i=Math.sqrt(n)-i.Zc())*i}return hi(t,e.T)}function du(t,e){var i=e.geometry;if("Circle"===i.H()&&1===e.index){var n=[NaN,NaN];i.Ha(t[0],t[1],n,1/0),i=n}else i=ri(t,e.T);return i}function gu(t,e,i,n,r){Nr(t.a,e.J(),function(t){t.geometry===e&&(void 0===n||void 0===t.depth||s(t.depth,n))&&t.index>i&&(t.index+=r)})}function mu(){var t=io();return function(){return t.Point}}function vu(t,e,i){Rt.call(this,t),this.features=e,this.mapBrowserEvent=i}function yu(t){if(an.call(this,{handleEvent:bu}),t=t||{},this.s=t.condition?t.condition:gn,this.v=t.addCondition?t.addCondition:fi,this.V=t.removeCondition?t.removeCondition:fi,this.W=t.toggleCondition?t.toggleCondition:vn,this.o=!!t.multi&&t.multi,this.g=t.filter?t.filter:ci,this.i=t.hitTolerance?t.hitTolerance:0,this.a=new Al({source:new Ll({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:wu(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return 0<=e.indexOf(t)}}else t=ci;this.j=t,this.c={},Et(t=this.a.da().g,"add",this.C,this),Et(t,"remove",this.I,this)}function bu(t){if(!this.s(t))return!0;var e=this.v(t),i=this.V(t),n=this.W(t),r=!e&&!i&&!n,o=t.map,s=this.a.da().g,a=[],l=[];if(r){for(U(this.c),o.Nc(t.pixel,function(t,e){if(this.g(t,e)){l.push(t);var i=c(t);return this.c[i]=e,!this.o}}.bind(this),{layerFilter:this.j,hitTolerance:this.i}),r=s.Wa()-1;0<=r;--r){var o=s.be(r),u=l.indexOf(o);-1<u?l.splice(u,1):(s.remove(o),a.push(o))}l.length&&$t(s,l)}else{for(o.Nc(t.pixel,function(t,r){if(this.g(t,r)){if(!e&&!n||0<=s.a.indexOf(t))(i||n)&&0<=s.a.indexOf(t)&&(a.push(t),o=c(t),delete this.c[o]);else{l.push(t);var o=c(t);this.c[o]=r}return!this.o}}.bind(this),{layerFilter:this.j,hitTolerance:this.i}),r=a.length-1;0<=r;--r)s.remove(a[r]);$t(s,l)}return(0<l.length||0<a.length)&&zt(this,new xu(wd,l,a,t)),"pointermove"==t.type}function wu(){var t=io();return o(t.Polygon,t.LineString),o(t.GeometryCollection,t.LineString),function(e){return e.R()?t[e.R().H()]:null}}function xu(t,e,i,n){Rt.call(this,t),this.selected=e,this.deselected=i,this.mapBrowserEvent=n}function Mu(t){xn.call(this,{handleEvent:Su,handleDownEvent:ci,handleUpEvent:Cu}),t=t||{},this.j=t.source?t.source:null,this.$=void 0===t.vertex||t.vertex,this.G=void 0===t.edge||t.edge,this.i=t.features?t.features:null,this.ca=[],this.s={},this.I={},this.o={},this.C=null,this.c=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.sa=ku.bind(this),this.a=new _r,this.W={Point:this.Ch,LineString:this.ze,LinearRing:this.ze,Polygon:this.Dh,MultiPoint:this.Ah,MultiLineString:this.zh,MultiPolygon:this.Bh,GeometryCollection:this.yh}}function Su(t){var e,i,n,r=t.pixel,o=t.coordinate,s=k([s=(e=t.map).Ea([r[0]-this.c,r[1]+this.c]),i=e.Ea([r[0]+this.c,r[1]-this.c])]),a=Er(this.a,s),s=!1,l=null;return i=null,0<a.length&&(this.C=o,a.sort(this.sa),a=a[0].T,this.$&&!this.G?(o=Fr(e,a[0]),n=Fr(e,a[1]),o=li(r,o),r=li(r,n),(n=(n=Math.sqrt(Math.min(o,r)))<=this.c)&&(s=!0,l=o>r?a[1]:a[0],i=Fr(e,l))):this.G&&(l=ri(o,a),i=Fr(e,l),ui(r,i)<=this.c&&(s=!0,this.$&&(o=Fr(e,a[0]),n=Fr(e,a[1]),o=li(i,o),r=li(i,n),n=Math.sqrt(Math.min(o,r)),n=n<=this.c)))&&(l=o>r?a[1]:a[0],i=Fr(e,l)),s&&(i=[Math.round(i[0]),Math.round(i[1])])),e=l,s&&(t.coordinate=e.slice(0,2),t.pixel=i),Sn.call(this,t)}function Cu(){var t=W(this.o);return t.length&&(t.forEach(this.$e,this),this.o={}),!1}function ku(t,e){return hi(this.C,t.T)-hi(this.C,e.T)}function ju(t){Ml.call(this,t),this.s=ar(),this.c=null}function Pu(t){ju.call(this,t),this.g=null===this.g?null:ne(),this.i=null,this.K=[],this.$=A(),this.ca=new d(0,0,0,0),this.C=ar()}function Tu(t,e){var i=e.state,n=t.a.get("useInterimTilesOnError");return 2==i||4==i||3==i&&!n}function _u(t){var e=bh({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,or.call(this,e),this.set("preload",void 0!==t.preload?t.preload:0),this.set("useInterimTilesOnError",void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}function Au(t,e){var i=/\{z\}/g,n=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s){if(s)return t.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(r,function(){return(-s[2]-1).toString()}).replace(o,function(){var t=e.c?e.c[s[0]]:null;return p(t,55),(t.S-t.P+1+s[2]).toString()})}}function Iu(t,e){for(var i=t.length,n=Array(i),r=0;r<i;++r)n[r]=Au(t[r],e);return Eu(n)}function Eu(t){return 1===t.length?t[0]:function(e,i,n){if(e)return t[w((e[1]<<e[0])+e[2],t.length)](e,i,n)}}function Nu(){}function Lu(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n,r=i[2].charCodeAt(0);for(n=i[1].charCodeAt(0);n<=r;++n)e.push(t.replace(i[0],String.fromCharCode(n)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(r=parseInt(i[2],10),n=parseInt(i[1],10);n<=r;n++)e.push(t.replace(i[0],n.toString()));return e}return e.push(t),e}function Ou(t){Or.call(this),this.highWaterMark=void 0!==t?t:2048}function Du(t){El.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.I=void 0!==t.opaque&&t.opaque,this.W=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.c=new Ou(t.cacheSize),this.a=[0,0],this.kb=""}function Ru(t,e,i,n,r){if(!(e=t.Tb(e)))return!1;for(var o,s,a=!0,l=n.M;l<=n.O;++l)for(var u=n.P;u<=n.S;++u)o=t.Fb(i,l,u),s=!1,e.a.hasOwnProperty(o)&&(o=e.get(o),(s=2===o.state)&&(s=!1!==r(o))),s||(a=!1);return a}function qu(t,e){t.kb!==e&&(t.kb=e,t.b())}function Fu(t,e,i,n){return n=t.Ma(n),i=t.Ub(i),e=C(yt(n,e),t.a),1==i?e:S(e,i,t.a)}function zu(t,e){Rt.call(this,t),this.tile=e}function Bu(t){if(Du.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.Ua?this.Ua.bind(this):Nu,this.urls=null,t.urls)this.qd(t.urls);else if(t.url){var e=t.url,i=this.urls=Lu(e);Gu(this,this.Ua?this.Ua.bind(this):Iu(i,this.tileGrid),e)}t.tileUrlFunction&&Gu(this,t.tileUrlFunction)}function Gu(t,e,i){t.tileUrlFunction=e,void 0!==i?qu(t,i):t.b()}function Uu(t){Bu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Xu,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=t.tileClass?t.tileClass:Ha}function Wu(t,e,i,n,r,o,s){n=e=[e,i,n];u=void 0!==o?o:t.$;if(i=t.Ma(u),t.C&&u.i){var a=n;n=a[0];var l=gt(i,a),u=St(u),h=l[0],c=l[1];u[0]<=h&&h<=u[2]&&u[1]<=c&&c<=u[3]?n=a:(a=B(u),l[0]+=a*Math.ceil((u[0]-l[0])/a),n=vt(i,l[0],l[1],i.b[n],!1,void 0))}return u=n[0],l=n[1],a=n[2],i=!(i.minZoom>u||u>i.maxZoom)&&(!(i=(h=i.J())?dt(i,h,u):i.c?i.c[u]:null)||g(i,l,a)),r=(i=i?n:null)?t.tileUrlFunction(i,r,o):void 0,r=new t.tileClass(e,void 0!==r?0:4,void 0!==r?r:"",t.crossOrigin,t.tileLoadFunction),r.key=s,Et(r,"change",t.G,t),r}function Vu(t,e,i,n,r,o){var s,a=t.Fb(e,i,n),l=t.kb;if(t.c.a.hasOwnProperty(a)){if((s=t.c.get(a)).key!=l){var u=s;if(s=Wu(t,e,i,n,r,o,l),0==u.state?s.b=u.b:s.b=u,s.b){e=s.b,i=s;do{if(2==e.state){e.b=null;break}1==e.state?i=e:0==e.state?i.b=e.b:i=e,e=i.b}while(e)}t.c.replace(a,s)}}else s=Wu(t,e,i,n,r,o,l),t.c.set(a,s);return s}function Xu(t,e){t.ia().src=e}function Hu(t){var e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:xt({extent:St(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});Uu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX})}function $u(t){Ll.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.v=void 0,this.ya=void 0!==t.distance?t.distance:20,this.B=[],this.ta=t.geometryFunction||function(t){return t=t.R(),p(t instanceof Li,10),t},this.s=t.source,this.s.u("change",$u.prototype.bb,this)}function Yu(t){if(void 0!==t.v){t.B.length=0;for(var e=A(),i=t.ya*t.v,n=t.s.bd(),r={},o=0,s=n.length;o<s;o++){var a=n[o];c(a).toString()in r||!(a=t.ta(a))||(a=a.D(),N(a,e),j(e,i,e),a=Er(t.s.a,e),a=a.filter(function(t){return!((t=c(t).toString())in r)&&(r[t]=!0)}),t.B.push(Ju(t,a)))}}}function Ju(t,e){for(var i=[0,0],n=e.length-1;0<=n;--n){var r=t.ta(e[n]);r?ni(i,r.D()):e.splice(n,1)}return ai(i,1/e.length),(i=new ro(new Li(i))).set("features",e),i}function Zu(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return t=t.replace(/[?&]$/,""),(t=-1===t.indexOf("?")?t+"?":t+"&")+n}function Ku(t){var e;e=void 0!==(t=t||{}).attributions?t.attributions:[xd],Hu.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function Qu(t){t=t||{},Uu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.g=t.params||{},this.i=A(),t=0;var e,i=[];for(e in this.g)i[t++]=e+"-"+this.g[e];qu(this,i.join("/"))}function th(t){e=(t=t||{}).params||{};Uu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX}),this.j=void 0!==t.gutter?t.gutter:0,this.g=e,this.i=!0,this.o=t.serverType,this.v=void 0===t.hidpi||t.hidpi,this.B="",ih(this),this.s=A();t:{t=(""+(this.g.VERSION||"1.3.0")).split(".");for(var e=["1","3"],i=0;i<Math.max(t.length,e.length);i++){var n=parseInt(t[i]||"0",10),r=parseInt(e[i]||"0",10);if(n>r){t=1;break t}if(r>n){t=-1;break t}}t=0}this.i=0<=t,t=0;var o,e=[];for(o in this.g)e[t++]=o+"-"+this.g[o];qu(this,e.join("/"))}function eh(t,e,i,n,r,o,s){var a=t.urls;if(a){if(s.WIDTH=i[0],s.HEIGHT=i[1],s[t.i?"CRS":"SRS"]=o.Ia,"STYLES"in t.g||(s.STYLES=""),1!=r)switch(t.o){case"geoserver":i=90*r+.5|0,s.FORMAT_OPTIONS="FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+";dpi:"+i:"dpi:"+i;break;case"mapserver":s.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":s.DPI=90*r;break;default:p(!1,52)}return o=o.b,t.i&&"ne"==o.substr(0,2)&&(t=n[0],n[0]=n[1],n[1]=t,t=n[2],n[2]=n[3],n[3]=t),s.BBOX=n.join(","),Zu(1==a.length?a[0]:a[w((e[1]<<e[0])+e[2],a.length)],s)}}function ih(t){var e=0,i=[];if(t.urls){var n,r;for(n=0,r=t.urls.length;n<r;++n)i[e++]=t.urls[n]}t.B=i.join("#")}function nh(t){this.j=t.matrixIds,ft.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function rh(t){this.s=void 0!==t.version?t.version:"1.0.0",this.j=void 0!==t.format?t.format:"image/jpeg",this.g=t.dimensions?t.dimensions:{},this.o=t.layer,this.i=t.matrixSet,this.B=t.style;var e=t.urls;void 0===e&&void 0!==t.url&&(e=Lu(t.url));var i=this.v=void 0!==t.requestEncoding?t.requestEncoding:"KVP",n=t.tileGrid,r={layer:this.o,style:this.B,tilematrixset:this.i};"KVP"==i&&bh(r,{Service:"WMTS",Request:"GetTile",Version:this.s,Format:this.j});var o=this.g,s=e&&0<e.length?Eu(e.map(function(t){return t="KVP"==i?Zu(t,r):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in r?r[e.toLowerCase()]:t}),function(e){if(e){var r={TileMatrix:n.j[e[0]],TileCol:e[1],TileRow:-e[2]-1};return bh(r,o),e=t,e="KVP"==i?Zu(e,r):e.replace(/\{(\w+?)\}/g,function(t,e){return r[e]})}}})):Nu;Uu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:e,wrapX:void 0!==t.wrapX&&t.wrapX}),qu(this,oh(this))}function oh(t){var e,i=0,n=[];for(e in t.g)n[i++]=e+"-"+t.g[e];return n.join("/")}for(var sh,ah={},lh="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){if(i.get||i.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},uh="undefined"!=typeof window&&window===this?this:void 0!==n&&null!=n?n:this,hh=["Math","cosh"],ch=0;ch<hh.length-1;ch++){var fh=hh[ch];fh in uh||(uh[fh]={}),uh=uh[fh]}var ph=hh[hh.length-1],dh=uh[ph],gh=function(){if(dh)return dh;var t=Math.exp;return function(e){return e=Number(e),(t(e)+t(-e))/2}}();gh!=dh&&null!=gh&&lh(uh,ph,{configurable:!0,writable:!0,value:gh});var mh=this,vh=0;u(f,Error);var yh="cosh"in Math?Math.cosh:function(t){return((t=Math.exp(t))+1/t)/2},bh="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,r=arguments.length;n<r;++n){var o=arguments[n];if(void 0!==o&&null!==o)for(var s in o)o.hasOwnProperty(s)&&(i[s]=o[s])}return i};X.prototype.f=function(t){for(var e=0,i=t.length,n=t[i-1][0],r=t[i-1][1],o=0;o<i;o++)var s=t[o][0],a=t[o][1],e=e+b(s-n)*(2+Math.sin(b(r))+Math.sin(b(a))),n=s,r=a;return e*this.radius*this.radius/2},X.prototype.b=function(t,e){var i=b(t[1]),n=b(e[1]),r=(n-i)/2,o=b(e[0]-t[0])/2,i=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(n);return 2*this.radius*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))},X.prototype.offset=function(t,e,i){var n=b(t[1]);e/=this.radius;var r=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(b(t[0])+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(r)))/Math.PI,180*r/Math.PI]};var wh=new X(6370997),xh={};xh.degrees=2*Math.PI*wh.radius/360,xh.ft=.3048,xh.m=1,xh["us-ft"]=1200/3937,H.prototype.J=function(){return this.j},H.prototype.f=function(){return this.u||xh[this.a]},u($,H);var Mh=6378137*Math.PI,Sh=[-Mh,-Mh,Mh,Mh],Ch=[-180,-85,180,85],kh="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new $(t)}),jh=new X(6378137);u(Z,H);var Ph=[-180,-90,180,90],Th=Math.PI*jh.radius/180,_h=[new Z("CRS:84"),new Z("EPSG:4326","neu"),new Z("urn:ogc:def:crs:EPSG::4326","neu"),new Z("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Z("urn:ogc:def:crs:OGC:1.3:CRS84"),new Z("urn:ogc:def:crs:OGC:2:84"),new Z("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Z("urn:x-ogc:def:crs:EPSG:4326","neu")],Ah={},Ih={};tt(kh),tt(_h),_h.forEach(function(t){kh.forEach(function(e){K(t,e,Y),K(e,t,J)})});var Eh=[0,0,0];ft.prototype.J=function(){return this.o},Ot.prototype.tb=!1,Ot.prototype.ka=h,Rt.prototype.preventDefault=Rt.prototype.stopPropagation=function(){this.Th=!0},u(Ft,Ot),Ft.prototype.addEventListener=function(t,e){var i=this.aa[t];i||(i=this.aa[t]=[]),-1===i.indexOf(e)&&i.push(e)},Ft.prototype.ka=function(){var t,e=At(this);for(t in e)It(this,t)},Ft.prototype.removeEventListener=function(t,e){var i=this.aa[t];if(i){var n=i.indexOf(e);t in this.Aa?(i[n]=h,++this.Aa[t]):(i.splice(n,1),i.length||delete this.aa[t])}},u(Gt,Ft),Gt.prototype.b=function(){++this.f,zt(this,"change")},Gt.prototype.u=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,r=Array(n),o=0;o<n;++o)r[o]=Et(this,t[o],e,i);return r}return Et(this,t,e,i)},Gt.prototype.once=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,r=Array(n),o=0;o<n;++o)r[o]=Et(this,t[o],e,i,!0);return r}return Et(this,t,e,i,!0)},Gt.prototype.fa=function(t,e,i){if(Array.isArray(t))for(var n=0,r=t.length;n<r;++n)Nt(this,t[n],e,i);else Nt(this,t,e,i)},u(Ut,Gt);var Nh={};(sh=Ut.prototype).get=function(t){var e;return this.K.hasOwnProperty(t)&&(e=this.K[t]),e},sh.Fa=function(){return bh({},this.K)},sh.set=function(t,e,i){i?this.K[t]=e:(i=this.K[t],this.K[t]=e,i!==e&&Vt(this,t,i))},sh.oa=function(t,e){for(var i in t)this.set(i,t[i],e)},sh.vi=function(t,e){if(t in this.K){var i=this.K[t];delete this.K[t],e||Vt(this,t,i)}},u(Xt,Rt),u(Ht,Ut),(sh=Ht.prototype).clear=function(){for(;0<this.Wa();)this.pop()},sh.forEach=function(t,e){this.a.forEach(t,e)},sh.Tf=function(){return this.a},sh.be=function(t){return this.a[t]},sh.Wa=function(){return this.get(Lh)},sh.pop=function(){return Yt(this,this.Wa()-1)},sh.push=function(t){this.c&&Zt(this,t);var e=this.Wa();return this.c&&Zt(this,t),this.a.splice(e,0,t),Jt(this),zt(this,new Kt("add",t)),this.Wa()},sh.remove=function(t){var e,i,n=this.a;for(e=0,i=n.length;e<i;++e)if(n[e]===t)return Yt(this,e)};var Lh="length";u(Kt,Rt);var Oh=/^#(?:[0-9a-f]{3}){1,2}$/i,Dh=/^([a-z]*)$/i,Rh=function(){var t={},e=0;return function(i){var n;if(t.hasOwnProperty(i))n=t[i];else{if(1024<=e){n=0;for(var r in t)3&n++||(delete t[r],--e)}n=i;var o;if(Dh.exec(n)&&(r=document.createElement("div"),r.style.color=n,document.body.appendChild(r),n=getComputedStyle(r).color,document.body.removeChild(r)),Oh.exec(n)){p(3==(o=n.length-1)||6==o,54);var s=3==o?1:2;o=parseInt(n.substr(1+0*s,s),16),r=parseInt(n.substr(1+1*s,s),16),n=parseInt(n.substr(1+2*s,s),16),1==s&&(o=(o<<4)+o,r=(r<<4)+r,n=(n<<4)+n),o=[o,r,n,1]}else n.indexOf("rgba(")?n.indexOf("rgb(")?p(!1,14):((n=n.slice(4,-1).split(",").map(Number)).push(1),o=te(n)):(n=n.slice(5,-1).split(",").map(Number),o=te(n));n=o,t[i]=n,++e}return n}}();u(oe,Ut),oe.prototype.ka=function(){re(this.element),Ut.prototype.ka.call(this)},oe.prototype.setMap=function(t){this.v&&re(this.element);for(var e=0,i=this.s.length;e<i;++e)Lt(this.s[e]);this.s.length=0,(this.v=t)&&((this.I?this.I:t.v).appendChild(this.element),this.render!==h&&this.s.push(Et(t,"postrender",this.render,this)),t.render())},u(se,oe),se.prototype.W=function(t){t.preventDefault(),le(this)},se.prototype.ca=function(t){this.i!==t&&(this.i=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.c&&le(this))},se.prototype.$=function(t){this.i&&this.c!==t&&le(this)},u(fe,oe),fe.prototype.o=function(t){t.preventDefault(),this.g?this.g():(t=this.v.Z())&&void 0!==tn(t)&&(0<this.i?t.animate({rotation:0,duration:this.i,easing:ue}):(t.set("rotation",0),0<Ki(t)[0]&&$i(t)))},u(de,oe),de.prototype.c=function(t,e){e.preventDefault();var i=this.v.Z();if(i){var n=i.va();n&&(n=i.constrainResolution(n,t),0<this.a?(0<Ki(i)[0]&&$i(i),i.animate({resolution:n,duration:this.a,easing:ue})):rn(i,n))}},u(me,Rt),u(ve,me),ve.prototype.preventDefault=function(){me.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},ve.prototype.stopPropagation=function(){me.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var qh={Mi:"singleclick",Ai:"click",Bi:"dblclick",Ei:"pointerdrag",Hi:"pointermove",Di:"pointerdown",Ki:"pointerup",Ji:"pointerover",Ii:"pointerout",Fi:"pointerenter",Gi:"pointerleave",Ci:"pointercancel"};u(ye,ve);var Fh="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",zh=-1!==Fh.indexOf("firefox"),Bh=-1!==Fh.indexOf("safari")&&-1==Fh.indexOf("chrom"),Gh=-1!==Fh.indexOf("webkit")&&-1==Fh.indexOf("edge"),Uh=-1!==Fh.indexOf("macintosh"),Wh=window.devicePixelRatio||1,Vh=!1,Xh=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Vh=!0),!0)}catch(t){return!1}}(),Hh="geolocation"in navigator,$h="ontouchstart"in window,Yh="PointerEvent"in window,Jh=!!navigator.msPointerEnabled;u(we,be),(sh=we.prototype).Eg=function(t){if(!xe(this,t)){1..toString()in this.f&&this.cancel(t);var e=Me(t);this.f[1..toString()]=t,Be(this.b,"pointerdown",e,t)}},sh.Fg=function(t){if(!xe(this,t)){var e=Me(t);Be(this.b,"pointermove",e,t)}},sh.Ig=function(t){if(!xe(this,t)){var e=this.f[1..toString()];e&&e.button===t.button&&(e=Me(t),Be(this.b,"pointerup",e,t),delete this.f[1..toString()])}},sh.Hg=function(t){if(!xe(this,t)){var e=Me(t);ze(this.b,e,t)}},sh.Gg=function(t){if(!xe(this,t)){var e=Me(t);Fe(this.b,e,t)}},sh.cancel=function(t){var e=Me(t);this.b.cancel(e,t),delete this.f[1..toString()]},u(Se,be),(sh=Se.prototype).Ng=function(t){this.f[t.pointerId.toString()]=t;var e=Ce(this,t);Be(this.b,"pointerdown",e,t)},sh.Og=function(t){var e=Ce(this,t);Be(this.b,"pointermove",e,t)},sh.Rg=function(t){var e=Ce(this,t);Be(this.b,"pointerup",e,t),delete this.f[t.pointerId.toString()]},sh.Pg=function(t){var e=Ce(this,t);Fe(this.b,e,t)},sh.Qg=function(t){var e=Ce(this,t);ze(this.b,e,t)},sh.Mg=function(t){var e=Ce(this,t);this.b.cancel(e,t),delete this.f[t.pointerId.toString()]},sh.Lg=function(t){zt(this.b,new je("lostpointercapture",t,t))},sh.Kg=function(t){zt(this.b,new je("gotpointercapture",t,t))},u(ke,be),(sh=ke.prototype).Mh=function(t){Ge(this.b,t)},sh.Nh=function(t){Ge(this.b,t)},sh.Qh=function(t){Ge(this.b,t)},sh.Oh=function(t){Ge(this.b,t)},sh.Ph=function(t){Ge(this.b,t)},sh.Lh=function(t){Ge(this.b,t)},sh.Cg=function(t){Ge(this.b,t)},sh.eg=function(t){Ge(this.b,t)},u(je,Rt);var Zh=!1;try{Zh=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}u(_e,be),(sh=_e.prototype).Pe=function(){this.i=0,this.c=void 0},sh.ui=function(t){var e=t.touches,i=Object.keys(this.f),n=i.length;if(n>=e.length){var r,o,s,a=[];for(r=0;r<n;++r){o=i[r],s=this.f[o];var l;if(!(l=1==o))t:{for(var u=e.length,h=0;h<u;h++)if((l=e[h]).identifier===o-2){l=!0;break t}l=!1}l||a.push(s.out)}for(r=0;r<a.length;++r)this.Bc(t,a[r])}e=t.changedTouches[0],(!(i=Object.keys(this.f).length)||1===i&&1..toString()in this.f)&&(this.a=e.identifier,void 0!==this.c&&clearTimeout(this.c)),Ee(this,t),this.i++,Ie(this,t,this.Hh)},sh.Hh=function(t,e){this.f[e.pointerId]={target:e.target,out:e,Ce:e.target};var i=this.b;e.bubbles=!0,Be(i,"pointerover",e,t),i=this.b,e.bubbles=!1,Be(i,"pointerenter",e,t),Be(this.b,"pointerdown",e,t)},sh.ti=function(t){t.preventDefault(),Ie(this,t,this.Jg)},sh.Jg=function(t,e){var i=this.f[e.pointerId];if(i){var n=i.out,r=i.Ce;Be(this.b,"pointermove",e,t),n&&r!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=r,n.target=r,e.target?(Fe(this.b,n,t),ze(this.b,e,t)):(e.target=r,e.relatedTarget=null,this.Bc(t,e))),i.out=e,i.Ce=e.target}},sh.si=function(t){Ee(this,t),Ie(this,t,this.wi)},sh.wi=function(t,e){Be(this.b,"pointerup",e,t),this.b.out(e,t),qe(this.b,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.a=void 0,this.c=setTimeout(this.Pe.bind(this),200))},sh.ri=function(t){Ie(this,t,this.Bc)},sh.Bc=function(t,e){this.b.cancel(e,t),this.b.out(e,t),qe(this.b,e,t),delete this.f[e.pointerId],e.isPrimary&&(this.a=void 0,this.c=setTimeout(this.Pe.bind(this),200))},u(Ne,Ft),Ne.prototype.a=function(t){var e=this.c[t.type];e&&e(t)},Ne.prototype.out=function(t,e){t.bubbles=!0,Be(this,"pointerout",t,e)},Ne.prototype.cancel=function(t,e){Be(this,"pointercancel",t,e)},Ne.prototype.ka=function(){for(var t,e=this.b.length,i=0;i<e;i++)t=this.b[i],De(this,Object.keys(t.g));Ft.prototype.ka.call(this)};var Kh=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];u(Ue,Ft),(sh=Ue.prototype).Yd=function(t){Ve(this,t),zt(this,new ye("pointerup",this.a,t)),this.u||t.button||We(this,this.f),this.B||(this.c.forEach(Lt),this.c.length=0,this.u=!1,this.f=null,Dt(this.b),this.b=null)},sh.ng=function(t){Ve(this,t),zt(this,new ye("pointerdown",this.a,t)),this.f=t,this.c.length||(this.b=new Ne(document),this.c.push(Et(this.b,"pointermove",this.Zg,this),Et(this.b,"pointerup",this.Yd,this),Et(this.g,"pointercancel",this.Yd,this)))},sh.Zg=function(t){t.clientX==this.f.clientX&&t.clientY==this.f.clientY||(this.u=!0,zt(this,new ye("pointerdrag",this.a,t,this.u))),t.preventDefault()},sh.hi=function(t){zt(this,new ye(t.type,this.a,t,!(!this.f||t.clientX==this.f.clientX&&t.clientY==this.f.clientY)))},sh.ka=function(){this.o&&(Lt(this.o),this.o=null),this.j&&(Lt(this.j),this.j=null),this.c.forEach(Lt),this.c.length=0,this.b&&(Dt(this.b),this.b=null),this.g&&(Dt(this.g),this.g=null),Ft.prototype.ka.call(this)},Xe.prototype.clear=function(){this.b.length=0,this.f.length=0,U(this.a)},Xe.prototype.u=function(t){p(!(this.c(t)in this.a),31);var e=this.o(t);return 1/0!=e&&(this.b.push(t),this.f.push(e),this.a[this.c(t)]=!0,$e(this,0,this.b.length-1),!0)},u(Ye,Xe),Ye.prototype.u=function(t){var e=Xe.prototype.u.call(this,t);return e&&Et(t[0],"change",this.j,this),e},Ye.prototype.j=function(t){var e=(t=t.target).state;2!==e&&3!==e&&4!==e&&5!==e||(Nt(t,"change",this.j,this),(t=t.Xa())in this.g&&(delete this.g[t],--this.i),this.K())},u(pi,Ut),pi.prototype.J=function(t){this.B!=this.f&&(this.o=this.Rb(this.o),this.B=this.f);var e=this.o;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},pi.prototype.C=function(t,e){return this.vb(at(t,e)),this},u(gi,pi),(sh=gi.prototype).Rb=function(t){var e=this.l,i=this.l.length,n=this.A;return t=E(t),D(t,e,0,i,n)},sh.Eb=function(){return this.l.slice(0,this.A)},sh.$f=function(){return this.l.slice(this.l.length-this.A)},sh.Rc=function(t){if(this.j!=this.f&&(U(this.c),this.g=0,this.j=this.f),0>t||this.g&&t<=this.g)return this;var e=t.toString();if(this.c.hasOwnProperty(e))return this.c[e];var i=this.ib(t);return i.l.length<this.l.length?this.c[e]=i:(this.g=t,this)},sh.ib=function(){return this},sh.vb=function(t){this.l&&(t(this.l,this.l,this.A),this.b())},sh.rotate=function(t,e){var i=this.l;if(i){for(var n=i.length,r=this.A,o=i||[],s=Math.cos(t),a=Math.sin(t),l=e[0],u=e[1],h=0,c=0;c<n;c+=r){var f=i[c]-l,p=i[c+1]-u;for(o[h++]=l+f*s-p*a,o[h++]=u+f*a+p*s,f=c+2;f<c+r;++f)o[h++]=i[f]}i&&o.length!=h&&(o.length=h),this.b()}},sh.scale=function(t,e,i){var n=e;if(void 0===n&&(n=t),(a=i)||(a=R(this.J())),i=this.l){e=i.length;for(var r=this.A,o=i||[],s=a[0],a=a[1],l=0,u=0;u<e;u+=r){var h=i[u]-s,c=i[u+1]-a;for(o[l++]=s+t*h,o[l++]=a+n*c,h=u+2;h<u+r;++h)o[l++]=i[h]}i&&o.length!=l&&(o.length=l),this.b()}},u(Ei,gi),(sh=Ei.prototype).clone=function(){var t=new Ei(null);return Ni(t,this.X,this.l.slice()),t},sh.Ha=function(t,e,i,n){return n<T(this.J(),t,e)?n:(this.a!=this.f&&(this.i=Math.sqrt(xi(this.l,0,this.l.length,this.A,0)),this.a=this.f),Si(this.l,0,this.l.length,this.A,this.i,!0,t,e,i,n))},sh.D=function(){return Ti(this.l,0,this.l.length,this.A)},sh.ib=function(t){var e=[];return e.length=Ai(this.l,0,this.l.length,this.A,t,e,0),t=new Ei(null),Ni(t,"XY",e),t},sh.H=function(){return"LinearRing"},sh.Y=function(t,e){t?(yi(this,e,t,1),this.l||(this.l=[]),this.l.length=ji(this.l,0,t,this.A),this.b()):Ni(this,"XY",null)},u(Li,gi),(sh=Li.prototype).clone=function(){var t=new Li(null);return vi(t,this.X,this.l.slice()),t.b(),t},sh.Ha=function(t,e,i,n){var r=this.l;if((t=y(t,e,r[0],r[1]))<n){for(n=this.A,e=0;e<n;++e)i[e]=r[e];return i.length=n,t}return n},sh.D=function(){return this.l?this.l.slice():[]},sh.Rb=function(t){return N(this.l,t)},sh.H=function(){return"Point"},sh.Y=function(t,e){t?(yi(this,e,t,0),this.l||(this.l=[]),this.l.length=ki(this.l,t)):vi(this,"XY",null),this.b()},u(Bi,gi),(sh=Bi.prototype).clone=function(){var t=new Bi(null);return Vi(t,this.X,this.l.slice(),this.a.slice()),t},sh.Ha=function(t,e,i,n){return n<T(this.J(),t,e)?n:(this.G!=this.f&&(this.I=Math.sqrt(Mi(this.l,0,this.a,this.A,0)),this.G=this.f),Ci(this.l,0,this.a,this.A,this.I,!0,t,e,i,n))},sh.oh=function(){return bi(Wi(this),0,this.a,this.A)},sh.D=function(t){var e;return void 0!==t?(e=Wi(this).slice(),Fi(e,0,this.a,this.A,t)):e=this.l,_i(e,0,this.a,this.A)},sh.gb=function(){return this.a},sh.Yf=function(){return new Li(Gi(this))},sh.Vd=function(t){if(0>t||this.a.length<=t)return null;var e=new Ei(null);return Ni(e,this.X,this.l.slice(t?this.a[t-1]:0,this.a[t])),e},sh.ib=function(t){var e=[],i=[];return e.length=Ii(this.l,0,this.a,this.A,Math.sqrt(t),e,0,i),t=new Bi(null),Vi(t,"XY",e,i),t},sh.H=function(){return"Polygon"},sh.Y=function(t,e){if(t){yi(this,e,t,2),this.l||(this.l=[]);var i=Pi(this.l,0,t,this.A,this.a);this.l.length=i.length?i[i.length-1]:0,this.b()}else Vi(this,"XY",null,this.a)},u(Hi,Ut),(sh=Hi.prototype).animate=function(t){var e,i=Date.now(),n=this.ha().slice(),r=this.va(),o=tn(this),s=arguments.length;1<s&&"function"==typeof arguments[s-1]&&(e=arguments[s-1],--s);for(var a=[],l=0;l<s;++l){var u=arguments[l],h={start:i,complete:!1,anchor:u.anchor,duration:void 0!==u.duration?u.duration:1e3,easing:u.easing||he};u.center&&(h.rd=n,h.td=u.center,n=h.td),void 0!==u.zoom?(h.nc=r,h.qb=this.constrainResolution(this.c,u.zoom-this.o,0),r=h.qb):u.resolution&&(h.nc=r,h.qb=u.resolution,r=h.qb),void 0!==u.rotation&&(h.sd=o,h.oc=u.rotation,o=h.oc),h.Qb=e,i+=h.duration,a.push(h)}this.a.push(a),nn(this,0,1),this.qc()},sh.qc=function(){if(void 0!==this.v&&(cancelAnimationFrame(this.v),this.v=void 0),0<Ki(this)[0]){for(var t=Date.now(),e=!1,i=this.a.length-1;0<=i;--i){for(var n=this.a[i],r=!0,o=0,s=n.length;o<s;++o){var a=n[o];if(!a.complete){if(e=t-a.start,1<=(e=0<a.duration?e/a.duration:1)?(a.complete=!0,e=1):r=!1,e=a.easing(e),a.rd){var l=a.rd[0],u=a.rd[1];this.set("center",[l+e*(a.td[0]-l),u+e*(a.td[1]-u)])}if(a.nc&&a.qb&&(l=1===e?a.qb:a.nc+e*(a.qb-a.nc),a.anchor&&this.set("center",Ji(this,l,a.anchor)),this.set("resolution",l)),void 0!==a.sd&&void 0!==a.oc&&(e=1===e?a.oc:a.sd+e*(a.oc-a.sd),a.anchor&&this.set("center",Yi(this,e,a.anchor)),this.set("rotation",e)),e=!0,!a.complete)break}}r&&(this.a[i]=null,nn(this,0,-1),(n=n[0].Qb)&&n(!0))}this.a=this.a.filter(Boolean),e&&void 0===this.v&&(this.v=requestAnimationFrame(this.qc))}},sh.constrainResolution=function(t,e,i){return this.g.resolution(t,e||0,i||0)},sh.constrainRotation=function(t,e){return this.g.rotation(t,e||0)},sh.ha=function(){return this.get("center")},sh.Ld=function(t){t=t||Zi(this);var e=this.ha();p(e,1);var i=this.va();p(void 0!==i,2);var n=tn(this);return p(void 0!==n,3),q(e,i,n,t)},sh.bh=function(){return this.s},sh.va=function(){return this.get("resolution")},sh.dh=function(){return this.i},sh.dg=function(){var t,e=this.va();if(void 0!==e)t:{var i;if(e>=this.B&&e<=this.c){t=this.o||0;var n;if(this.i){if(n=r(this.i,e,1),t+=n,n==this.i.length-1)break t;n=(i=this.i[n])/this.i[n+1]}else i=this.c,n=this.C;i=t+Math.log(i/e)/Math.log(n)}t=i}return t},sh.Pf=function(t,e){var i=e||{},n=i.size;n||(n=Zi(this));var r;t instanceof gi?"Circle"===t.H()?(t=t.J(),(r=Xi(t)).rotate(tn(this),R(t))):r=t:(p(Array.isArray(t),24),p(!(t[2]<t[0]||t[3]<t[1]),25),r=Xi(t));var o,s=i.padding?i.padding:[0,0,0,0],a=void 0===i.constrainResolution||i.constrainResolution,l=void 0!==i.nearest&&i.nearest;o=void 0!==i.minResolution?i.minResolution:void 0!==i.maxZoom?this.constrainResolution(this.c,i.maxZoom-this.o,0):0;var u=r.l,h=tn(this),c=Math.cos(-h),h=Math.sin(-h),f=1/0,d=1/0,g=-1/0,m=-1/0;r=r.A;for(var v=0,y=u.length;v<y;v+=r)var b=u[v]*c-u[v+1]*h,w=u[v]*h+u[v+1]*c,f=Math.min(f,b),d=Math.min(d,w),g=Math.max(g,b),m=Math.max(m,w);n=Qi([f,d,g,m],[n[0]-s[1]-s[3],n[1]-s[0]-s[2]]),n=isNaN(n)?o:Math.max(n,o),a&&(a=this.constrainResolution(n,0,0),!l&&a<n&&(a=this.constrainResolution(a,-1,0)),n=a),h=-h,c=[(l=(f+g)/2+(s[1]-s[3])/2*n)*c-(s=(d+m)/2+(s[0]-s[2])/2*n)*h,s*c+l*h],void 0!==i.duration?this.animate({resolution:n,center:c,duration:i.duration,easing:i.easing}):(rn(this,n),this.Ka(c))},sh.rotate=function(t,e){if(void 0!==e){var i=Yi(this,t,e);this.Ka(i)}this.set("rotation",t),0<Ki(this)[0]&&$i(this)},sh.Ka=function(t){this.set("center",t),0<Ki(this)[0]&&$i(this)},sh.ni=function(t){rn(this,t=this.constrainResolution(this.c,t-this.o,0))},u(an,Ut),an.prototype.Ya=function(t){this.set("active",t)},an.prototype.setMap=function(t){this.B=t},u(cn,an),u(xn,an),xn.prototype.ab=function(t){return t},u(Cn,xn),Cn.prototype.ab=fi,u(Tn,xn),Tn.prototype.ab=fi,u(En,Ot),En.prototype.ka=function(){this.setMap(null)},En.prototype.setMap=function(t){if(this.b){this.b.s.removeChild(this.f);var e=this.f.style;e.left=e.top=e.width=e.height="inherit"}(this.b=t)&&this.b.s.appendChild(this.f)},En.prototype.R=function(){return this.Va},u(On,xn),On.prototype.R=function(){return this.a.R()},On.prototype.i=h;var Qh="boxstart",tc="boxdrag",ec="boxend";u(zn,Rt),u(Bn,On),Bn.prototype.i=function(){var t=(s=this.B).Z(),e=s.mb(),i=this.R().J();if(this.G){var n,r,o=t.Ld(e),i=[Fr(s,[i[0],i[1]]),Fr(s,[i[2],i[3]])],s=E(void 0);for(n=0,r=i.length;n<r;++n)O(s,i[n]);s=1/Qi(s,e),i=(o[2]-o[0])/2*(s-1),s=(o[3]-o[1])/2*(s-1),o[0]-=i,o[2]+=i,o[1]-=s,o[3]+=s,i=o}e=t.constrainResolution(Qi(i,e)),o=R(i),o=t.g.center(o),t.animate({resolution:e,center:o,duration:this.C,easing:ue})},u(Gn,an),u(Wn,an),u(Xn,an),Xn.prototype.s=function(){this.j=void 0,nn(this.B.Z(),1,-1)},Xn.prototype.C=function(t){0<Ki(t=t.Z())[0]&&$i(t),un(t,-v(this.g,-1,1),this.a,this.v),this.i=void 0,this.g=0,this.a=null,this.o=this.c=void 0};var ic="trackpad",nc="wheel";u($n,xn),$n.prototype.ab=fi,u(Kn,xn),Kn.prototype.ab=fi,u(ir,Ut),ir.prototype.J=function(){return this.get("extent")},ir.prototype.g=function(){return this.get("visible")},ir.prototype.ra=function(){return this.get("zIndex")},ir.prototype.C=function(t){this.set("visible",t)},u(rr,ir),(sh=rr.prototype).Ec=function(){},sh.Wb=function(){this.g()&&this.b()},sh.jg=function(){this.i.forEach(Lt),this.i.length=0;var t=this.get(rc);this.i.push(Et(t,"add",this.ig,this),Et(t,"remove",this.kg,this));for(var e in this.c)this.c[e].forEach(Lt);U(this.c);var i,n;for(e=0,i=(t=t.a).length;e<i;e++)n=t[e],this.c[c(n).toString()]=[Et(n,"propertychange",this.Wb,this),Et(n,"change",this.Wb,this)];this.b()},sh.ig=function(t){var e=c(t=t.element).toString();this.c[e]=[Et(t,"propertychange",this.Wb,this),Et(t,"change",this.Wb,this)],this.b()},sh.kg=function(t){t=c(t.element).toString(),this.c[t].forEach(Lt),delete this.c[t],this.b()},sh.Pc=function(t){var e=void 0!==t?t:[],i=e.length;this.get(rc).forEach(function(t){t.Pc(e)}),t=nr(this);var n,r;for(n=e.length;i<n;i++)r=e[i],r.opacity*=t.opacity,r.visible=r.visible&&t.visible,r.maxResolution=Math.min(r.maxResolution,t.maxResolution),r.minResolution=Math.max(r.minResolution,t.minResolution),void 0!==t.extent&&(r.extent=void 0!==r.extent?F(r.extent,t.extent):t.extent);return e},sh.Sc=function(){return"ready"};var rc="layers";u(or,ir),(sh=or.prototype).Pc=function(t){return(t=t||[]).push(nr(this)),t},sh.da=function(){return this.get("source")||null},sh.Sc=function(){var t=this.da();return t?t.Ca:"undefined"},sh.tg=function(){this.b()},sh.ug=function(){this.j&&(Lt(this.j),this.j=null);var t=this.da();t&&(this.j=Et(t,"change",this.tg,this)),this.b()},sh.setMap=function(t){this.c&&(Lt(this.c),this.c=null),t||this.b(),this.i&&(Lt(this.i),this.i=null),t&&(this.c=Et(t,"precompose",function(t){var e=nr(this);e.Xc=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[c(this)]=e},this),this.i=Et(this,"change",t.render,t),this.b())},sh.Se=function(t){this.set("source",t)},sr.prototype.clear=function(){this.b={},this.f=0},sr.prototype.get=function(t,e,i){return(t=e+":"+t+":"+(i?Qt(i):"null"))in this.b?this.b[t]:null},sr.prototype.set=function(t,e,i,n){this.b[e+":"+t+":"+(i?Qt(i):"null")]=n,++this.f};var oc=new sr;u(cr,Ot),cr.prototype.ka=function(){for(var t in this.f)Dt(this.f[t])},cr.prototype.j=function(){this.i.render()},cr.prototype.u=h,cr.prototype.K=function(t,e){for(var i in this.f)if(!(e&&i in e.layerStates)){var n=i,r=this.f[n];delete this.f[n],Lt(this.c[n]),delete this.c[n],Dt(r)}},u(mr,Rt);var sc=[0,0,0,1],ac=[],lc=[0,0,0,1];(sh=yr.prototype).Fc=function(){},sh.Gc=function(){},sh.Hc=function(){},sh.Ic=function(){},sh.Jc=function(){},sh.Kc=function(){},sh.Lc=function(){},sh.Qa=function(){},sh.Sa=function(){},sh.lc=function(){},sh.Na=function(){},u(br,yr),(sh=br.prototype).Fc=function(t){if(G(this.g,t.J())){if(this.f||this.b){this.f&&Cr(this,this.f),this.b&&kr(this,this.b);var e,i=(e=(e=t.l)?di(e,0,e.length,t.A,this.v,this.K):null)[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n);(n=this.a).beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.f&&n.fill(),this.b&&n.stroke()}""!==this.ea&&xr(this,t.ha(),2,2)}},sh.Kc=function(t){var e=t.l;t=t.A,this.N&&wr(this,e,e.length),""!==this.ea&&xr(this,e,e.length,t)},sh.Ic=function(t){var e=t.l;t=t.A,this.N&&wr(this,e,e.length),""!==this.ea&&xr(this,e,e.length,t)},sh.Gc=function(t){if(G(this.g,t.J())){if(this.b){kr(this,this.b);var e=this.a,i=t.l;e.beginPath(),Mr(this,i,0,i.length,t.A,!1),e.stroke()}""!==this.ea&&(t=Oo(t),xr(this,t,2,2))}},sh.Hc=function(t){e=t.J();if(G(this.g,e)){if(this.b){kr(this,this.b);var e=this.a,i=t.l,n=0,r=t.gb(),o=t.A;e.beginPath();var s,a;for(s=0,a=r.length;s<a;++s)n=Mr(this,i,n,r[s],o,!1);e.stroke()}""!==this.ea&&(t=qo(t),xr(this,t,t.length,2))}},sh.Lc=function(t){if(G(this.g,t.J())){if(this.b||this.f){this.f&&Cr(this,this.f),this.b&&kr(this,this.b);var e=this.a;e.beginPath(),Sr(this,Wi(t),0,t.gb(),t.A),this.f&&e.fill(),this.b&&e.stroke()}""!==this.ea&&(t=Gi(t),xr(this,t,2,2))}},sh.Jc=function(t){if(G(this.g,t.J())){if(this.b||this.f){this.f&&Cr(this,this.f),this.b&&kr(this,this.b);var e,i,n=this.a,r=Vo(t),o=0,s=t.a,a=t.A;for(n.beginPath(),e=0,i=s.length;e<i;++e)o=Sr(this,r,o,s[e],a);this.f&&n.fill(),this.b&&n.stroke()}""!==this.ea&&(t=Wo(t),xr(this,t,t.length,2))}},sh.Sa=function(t,e){if(t){i=t.b;this.f={fillStyle:ee(i||sc)}}else this.f=null;if(e){var i=e.b,n=e.g,r=e.f,o=e.j,s=e.i,a=e.c,l=e.u;this.b={lineCap:void 0!==n?n:"round",lineDash:r||ac,lineDashOffset:o||0,lineJoin:void 0!==s?s:"round",lineWidth:this.B*(void 0!==a?a:1),miterLimit:void 0!==l?l:10,strokeStyle:ee(i||lc)}}else this.b=null},sh.lc=function(t){if(t){var e=t.Sb(),i=t.ia(1),n=t.dc(),r=t.nb();this.s=e[0],this.C=e[1],this.aa=r[1],this.N=i,this.o=t.i,this.V=n[0],this.W=n[1],this.$=t.s,this.La=t.o,this.c=t.g,this.ca=t.K,this.fa=r[0]}else this.N=null},sh.Na=function(t){if(t){if((e=t.qa())?(e=e.b,this.i={fillStyle:ee(e||sc)}):this.i=null,a=t.ma()){var e=a.b,i=a.g,n=a.f,r=a.j,o=a.i,s=a.c,a=a.u;this.j={lineCap:void 0!==i?i:"round",lineDash:n||ac,lineDashOffset:r||0,lineJoin:void 0!==o?o:"round",lineWidth:void 0!==s?s:1,miterLimit:void 0!==a?a:10,strokeStyle:ee(e||lc)}}else this.j=null;var e=t.f,i=t.a,n=t.c,r=t.g,o=t.i,s=t.b,a=t.na(),l=t.u;t=t.j,this.ga={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==t?t:"middle"},this.ea=void 0!==a?a:"",this.tb=void 0!==i?this.B*i:0,this.sa=void 0!==n?this.B*n:0,this.ya=void 0!==r&&r,this.Ba=void 0!==o?o:0,this.u=this.B*(void 0!==s?s:1)}else this.ea=""},u(jr,cr),jr.prototype.H=function(){return"canvas"},jr.prototype.u=function(t){if(t){var e=this.g,i=t.pixelRatio,n=Math.round(t.size[0]*i),r=Math.round(t.size[1]*i);this.b.width!=n||this.b.height!=r?(this.b.width=n,this.b.height=r):e.clearRect(0,0,n,r);var i=t.viewState.rotation,o=t.viewState,s=t.coordinateToPixelTransform,l=t.pixelToCoordinateTransform;hr(s,t.size[0]/2,t.size[1]/2,1/o.resolution,-1/o.resolution,-o.rotation,-o.center[0],-o.center[1]),p(!!(s=(o=lr(l,s))[0]*o[3]-o[1]*o[2]),32);var l=o[0],u=o[1],h=o[2],c=o[3],f=o[4],d=o[5];for(o[0]=c/s,o[1]=-u/s,o[2]=-h/s,o[3]=l/s,o[4]=(h*d-c*f)/s,o[5]=-(l*d-u*f)/s,Pr(this,"precompose",t),a(o=t.layerStatesArray),i&&(e.save(),vr(e,i,n/2,r/2)),n=t.viewState.resolution,r=0,s=o.length;r<s;++r)l=o[r],u=l.layer,u=dr(this,u),l.visible&&n>=l.minResolution&&n<l.maxResolution&&"ready"==l.pi&&u.I(t,l)&&u.v(t,l,e);i&&e.restore(),Pr(this,"postcompose",t),this.a||(this.b.style.display="",this.a=!0);for(var g in this.f)if(!(g in t.layerStates)){t.postRenderFunctions.push(this.K.bind(this));break}t.postRenderFunctions.push(fr)}else this.a&&(this.b.style.display="none",this.a=!1)};var uc=["Polygon","Circle","LineString","Image","Text"];Tr.prototype.clone=function(){var t=this.b;return new Tr({color:t&&t.slice?t.slice():t||void 0,lineCap:this.g,lineDash:this.f?this.f.slice():void 0,lineDashOffset:this.j,lineJoin:this.i,miterLimit:this.u,width:this.c})},Tr.prototype.setLineDash=function(t){this.f=t,this.a=void 0};var hc;!function(){var e={},i={U:e};!function(t){if("object"==typeof e&&void 0!==i)i.U=t();else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).Ui=t()}}(function(){return function e(i,n,r){function o(a,l){if(!n[a]){if(!i[a]){var u="function"==typeof t&&t;if(!l&&u)return u(a,!0);if(s)return s(a,!0);throw u=Error("Cannot find module '"+a+"'"),u.code="MODULE_NOT_FOUND",u}u=n[a]={U:{}},i[a][0].call(u.U,function(t){var e=i[a][1][t];return o(e||t)},u,u.U,e,i,n,r)}return n[a].U}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e){function i(t,e){if(!(this instanceof i))return new i(t,e);this.xc=Math.max(4,t||9),this.Ed=Math.max(2,Math.ceil(.4*this.xc)),e&&this.Cf(e),this.clear()}function n(t,e){r(t,0,t.children.length,e,t)}function r(t,e,i,n,r){r||(r=f(null)),r.M=1/0,r.P=1/0,r.O=-1/0,r.S=-1/0;for(var s;e<i;e++)s=t.children[e],o(r,t.ua?n(s):s);return r}function o(t,e){t.M=Math.min(t.M,e.M),t.P=Math.min(t.P,e.P),t.O=Math.max(t.O,e.O),t.S=Math.max(t.S,e.S)}function s(t,e){return t.M-e.M}function a(t,e){return t.P-e.P}function l(t){return(t.O-t.M)*(t.S-t.P)}function u(t){return t.O-t.M+(t.S-t.P)}function h(t,e){return t.M<=e.M&&t.P<=e.P&&e.O<=t.O&&e.S<=t.S}function c(t,e){return e.M<=t.O&&e.P<=t.S&&e.O>=t.M&&e.S>=t.P}function f(t){return{children:t,height:1,ua:!0,M:1/0,P:1/0,O:-1/0,S:-1/0}}function p(t,e,i,n,r){for(var o,s=[e,i];s.length;)i=s.pop(),e=s.pop(),i-e<=n||(o=e+Math.ceil((i-e)/n/2)*n,d(t,o,e,i,r),s.push(e,o,o,i))}e.U=i;var d=t("quickselect");i.prototype={all:function(){return this.zd(this.data,[])},search:function(t){var e=this.data,i=[],n=this.za;if(!c(t,e))return i;for(var r,o,s,a,l=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],a=e.ua?n(s):s,c(t,a)&&(e.ua?i.push(s):h(t,a)?this.zd(s,i):l.push(s));e=l.pop()}return i},load:function(t){if(!t||!t.length)return this;if(t.length<this.Ed){for(var e=0,i=t.length;e<i;e++)this.ba(t[e]);return this}return t=this.Bd(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.Hd(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.Dd(t,this.data.height-t.height-1,!0)):this.data=t,this},ba:function(t){return t&&this.Dd(t,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,o,s=this.data,a=this.za(t),l=[],u=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],i=u.pop(),o=!0),s.ua){t:{r=t;var c=s.children,f=e;if(f){for(var p=0;p<c.length;p++)if(f(r,c[p])){r=p;break t}r=-1}else r=c.indexOf(r)}if(-1!==r){s.children.splice(r,1),l.push(s),this.Af(l);break}}o||s.ua||!h(s,a)?n?(i++,s=n.children[i],o=!1):s=null:(l.push(s),u.push(i),i=0,n=s,s=s.children[0])}return this},za:function(t){return t},Cc:s,Dc:a,toJSON:function(){return this.data},zd:function(t,e){for(var i=[];t;)t.ua?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},Bd:function(t,e,i,r){var o,s=i-e+1,a=this.xc;if(s<=a)return o=f(t.slice(e,i+1)),n(o,this.za),o;r||(r=Math.ceil(Math.log(s)/Math.log(a)),a=Math.ceil(s/Math.pow(a,r-1))),(o=f([])).ua=!1,o.height=r;var l,u,h;for(p(t,e,i,a=(s=Math.ceil(s/a))*Math.ceil(Math.sqrt(a)),this.Cc);e<=i;e+=a)for(u=Math.min(e+a-1,i),p(t,e,u,s,this.Dc),l=e;l<=u;l+=s)h=Math.min(l+s-1,u),o.children.push(this.Bd(t,l,h,r-1));return n(o,this.za),o},zf:function(t,e,i,n){for(var r,o,s,a,u,h,c,f;n.push(e),!e.ua&&n.length-1!==i;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)s=e.children[r],u=l(s),(h=(Math.max(s.O,t.O)-Math.min(s.M,t.M))*(Math.max(s.S,t.S)-Math.min(s.P,t.P))-u)<f?(f=h,c=u<c?u:c,a=s):h===f&&u<c&&(c=u,a=s);e=a||e.children[0]}return e},Dd:function(t,e,i){n=this.za;i=i?t:n(t);var n=[],r=this.zf(i,this.data,e,n);for(r.children.push(t),o(r,i);0<=e&&n[e].children.length>this.xc;)this.Gf(n,e),e--;this.wf(i,n,e)},Gf:function(t,e){var i=t[e],r=i.children.length,o=this.Ed;this.xf(i,o,r),r=this.yf(i,o,r),(r=f(i.children.splice(r,i.children.length-r))).height=i.height,r.ua=i.ua,n(i,this.za),n(r,this.za),e?t[e-1].children.push(r):this.Hd(i,r)},Hd:function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.ua=!1,n(this.data,this.za)},yf:function(t,e,i){var n,o,s,a,u,h,c;for(u=h=1/0,n=e;n<=i-e;n++)o=r(t,0,n,this.za),s=r(t,n,i,this.za),a=Math.max(0,Math.min(o.O,s.O)-Math.max(o.M,s.M))*Math.max(0,Math.min(o.S,s.S)-Math.max(o.P,s.P)),o=l(o)+l(s),a<u?(u=a,c=n,h=o<h?o:h):a===u&&o<h&&(h=o,c=n);return c},xf:function(t,e,i){var n=t.ua?this.Cc:s,r=t.ua?this.Dc:a;this.Ad(t,e,i,n)<(e=this.Ad(t,e,i,r))&&t.children.sort(n)},Ad:function(t,e,i,n){t.children.sort(n);var s,a,l=r(t,0,e,n=this.za),h=r(t,i-e,i,n),c=u(l)+u(h);for(s=e;s<i-e;s++)a=t.children[s],o(l,t.ua?n(a):a),c+=u(l);for(s=i-e-1;s>=e;s--)a=t.children[s],o(h,t.ua?n(a):a),c+=u(h);return c},wf:function(t,e,i){for(;0<=i;i--)o(e[i],t)},Af:function(t){for(var e,i=t.length-1;0<=i;i--)0===t[i].children.length?0<i?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():n(t[i],this.za)},Cf:function(t){var e=["return a"," - b",";"];this.Cc=new Function("a","b",e.join(t[0])),this.Dc=new Function("a","b",e.join(t[1])),this.za=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:2}],2:[function(t,e){function i(t,e,o,s,a){for(o=o||0,s=s||t.length-1,a=a||r;s>o;){if(600<s-o){var l=s-o+1,u=e-o+1,h=Math.log(l),c=.5*Math.exp(2*h/3),h=.5*Math.sqrt(h*c*(l-c)/l)*(0>u-l/2?-1:1);i(t,e,Math.max(o,Math.floor(e-u*c/l+h)),Math.min(s,Math.floor(e+(l-u)*c/l+h)),a)}for(l=t[e],u=o,c=s,n(t,o,e),0<a(t[s],l)&&n(t,o,s);u<c;){for(n(t,u,c),u++,c--;0>a(t[u],l);)u++;for(;0<a(t[c],l);)c--}0===a(t[o],l)?n(t,o,c):(c++,n(t,c,s)),c<=e&&(o=c+1),e<=c&&(s=c-1)}}function n(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function r(t,e){return t<e?-1:t>e?1:0}e.U=i},{}]},{},[1])(1)}),hc=i.U}(),(sh=_r.prototype).ba=function(t,e){var i={M:t[0],P:t[1],O:t[2],S:t[3],value:e};this.b.ba(i),this.f[c(e)]=i},sh.load=function(t,e){for(var i=Array(e.length),n=0,r=e.length;n<r;n++){var o=t[n],s=e[n],o={M:o[0],P:o[1],O:o[2],S:o[3],value:s};i[n]=o,this.f[c(s)]=o}this.b.load(i)},sh.remove=function(t){t=c(t);var e=this.f[t];return delete this.f[t],null!==this.b.remove(e)},sh.forEach=function(t,e){return Lr(Ir(this),t,e)},sh.clear=function(){this.b.clear(),this.f={}},sh.J=function(t){var e=this.b.data;return I(e.M,e.P,e.O,e.S,t)},(sh=Or.prototype).clear=function(){this.c=0,this.a={},this.f=this.b=null},sh.forEach=function(t,e){for(var i=this.b;i;)t.call(e,i.rb,i.kb,this),i=i.Ga},sh.get=function(t){return t=this.a[t],p(!!t,15),t===this.f?t.rb:(t===this.b?(this.b=this.b.Ga,this.b.ob=null):(t.Ga.ob=t.ob,t.ob.Ga=t.Ga),t.Ga=null,t.ob=this.f,this.f=this.f.Ga=t,t.rb)},sh.pop=function(){var t=this.b;return delete this.a[t.kb],t.Ga&&(t.Ga.ob=null),this.b=t.Ga,this.b||(this.f=null),--this.c,t.rb},sh.replace=function(t,e){this.get(t),this.a[t].rb=e},sh.set=function(t,e){p(!(t in this.a),16);var i={kb:t,Ga:null,ob:this.f,rb:e};this.f?this.f.Ga=i:this.b=i,this.f=i,this.a[t]=i,++this.c};var cc=["canvas","webgl"];u(Dr,Ut),(sh=Dr.prototype).Hf=function(t){this.C.push(t)},sh.If=function(t){this.i.push(t)},sh.Jf=function(t){qr(this).get(rc).push(t)},sh.Kf=function(t){this.j.push(t)},sh.Id=function(t){var e=t.j;void 0!==e&&(this.De[e.toString()]=t),t.setMap(this)},sh.ka=function(){Dt(this.ya),Dt(this.I),Nt(this.a,"wheel",this.jb,this),Nt(this.a,"mousewheel",this.jb,this),this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0),this.o&&(cancelAnimationFrame(this.o),this.o=void 0),this.set("target",null),Ut.prototype.ka.call(this)},sh.Nc=function(t,e,i){if(this.c)return t=this.Ea(t),i=i||{},pr(this.I,t,this.c,void 0!==i.hitTolerance?i.hitTolerance*this.c.pixelRatio:0,e,i.layerFilter?i.layerFilter:ci)},sh.$g=function(t,e,i,n,r){if(this.c){t:{var o=this.I,s=this.c;i=void 0!==i?i:null,n=n||ci,r=void 0!==r?r:null;var a,l=s.viewState.resolution,u=s.layerStatesArray,h=u.length;for(t=ur(s.pixelToCoordinateTransform,t.slice()),--h;0<=h;--h){var c=(a=u[h]).layer;if(a.visible&&l>=a.minResolution&&l<a.maxResolution&&n.call(r,c)&&(a=dr(o,c).B(t,s,e,i))){e=a;break t}}e=void 0}return e}},sh.Tc=function(){return this.get("target")},sh.Ea=function(t){var e=this.c;return e?ur(e.pixelToCoordinateTransform,t.slice()):null},sh.ag=function(){return this.j},sh.ah=function(){return qr(this).get(rc)},sh.mb=function(){return this.get("size")},sh.Z=function(){return this.get("view")},sh.cg=function(t,e,i,n){var r=this.c;return r&&e in r.wantedTiles&&r.wantedTiles[e][t.Xa()]?(t=i[0]-r.focus[0],i=i[1]-r.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},sh.jb=function(t,e){var i=new ve(e||t.type,this,t);this.Xd(i)},sh.Xd=function(t){if(this.c){this.$=t.coordinate,t.frameState=this.c;var e,i=this.i.a;if(!1!==zt(this,t))for(e=i.length-1;0<=e;e--){var n=i[e];if(n.get("active")&&!n.handleEvent(t))break}}},sh.qg=function(){var t=this.c,e=this.Da;if(e.b.length){var i=16,n=i;if(t&&((a=t.viewHints)[0]&&(i=this.uc?8:0,n=2),a[1]&&(i=this.rc?8:0,n=2)),e.i<i){var r,o,s,a=e.o,l=e.b,u=e.f,h=0,c=l.length;for(o=0;o<c;++o)r=l[o],s=a(r),1/0==s?delete e.a[e.c(r)]:(u[h]=s,l[h++]=r);for(l.length=h,u.length=h,a=(e.b.length>>1)-1;0<=a;a--)He(e,a);for(a=0;e.i<i&&a<n&&0<e.b.length;)l=e,h=l.b,c=l.f,u=h[0],1==h.length?(h.length=0,c.length=0):(h[0]=h.pop(),c[0]=c.pop(),He(l,0)),h=l.c(u),delete l.a[h],l=u[0],u=l.Xa(),0!==l.state||u in e.g||(e.g[u]=!0,++e.i,++a,l.load())}}for(n=0,i=(e=this.Ba).length;n<i;++n)e[n](this,t);e.length=0},sh.sg=function(){this.render()},sh.vg=function(){var t;if(this.Tc()&&(t=Rr(this)),this.B){for(var e=0,i=this.B.length;e<i;++e)Lt(this.B[e]);this.B=null}t?(t.appendChild(this.a),t=this.sa?this.sa:t,this.B=[Et(t,"keydown",this.jb,this),Et(t,"keypress",this.jb,this)],this.g||(this.g=this.af.bind(this),window.addEventListener("resize",this.g,!1))):(re(this.a),this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0)),this.af()},sh.wg=function(){this.render()},sh.Zd=function(){this.render()},sh.yg=function(){this.W&&(Lt(this.W),this.W=null),this.V&&(Lt(this.V),this.V=null);var t=this.Z();t&&(this.a.setAttribute("data-view",c(t)),this.W=Et(t,"propertychange",this.Zd,this),this.V=Et(t,"change",this.Zd,this)),this.render()},sh.hg=function(){this.G&&(this.G.forEach(Lt),this.G=null);var t=qr(this);t&&(this.G=[Et(t,"propertychange",this.render,this),Et(t,"change",this.render,this)]),this.render()},sh.render=function(){void 0===this.o&&(this.o=requestAnimationFrame(this.bb))},sh.ii=function(t){return this.i.remove(t)},sh.ji=function(t){return this.j.remove(t)},sh.ki=function(t){var e,i,n,r=this.mb(),o=this.Z(),s=A(),a=null;if((n=void 0!==r&&0<r[0]&&0<r[1]&&o)&&(n=!!o.ha()&&void 0!==o.va()),n){a=Ki(o,this.c?this.c.viewHints:void 0);var l={};for(e=0,i=(n=qr(this).Pc()).length;e<i;++e)l[c(n[e].layer)]=n[e];e=en(o),a={animate:!1,attributions:{},coordinateToPixelTransform:this.cb,extent:s,focus:this.$?this.$:e.center,index:this.tc++,layerStates:l,layerStatesArray:n,logos:bh({},this.yc),pixelRatio:this.zc,pixelToCoordinateTransform:this.Ac,postRenderFunctions:[],size:r,skippedFeatureUids:this.ca,tileQueue:this.Da,time:t,usedTiles:{},viewState:e,viewHints:a,wantedTiles:{}}}a&&(a.extent=q(e.center,e.resolution,e.rotation,a.size,s)),this.c=a,this.I.u(a),a&&(a.animate&&this.render(),Array.prototype.push.apply(this.Ba,a.postRenderFunctions),a.viewHints[0]||a.viewHints[1]||L(a.extent,this.Ca)||(zt(this,new me("moveend",this,a)),P(a.extent,this.Ca))),zt(this,new me("postrender",this,a)),setTimeout(this.qg.bind(this),0)},sh.Ve=function(t){t=c(t).toString(),this.ca[t]=!0,this.render()},sh.af=function(){var t=Rr(this);if(t){var e=getComputedStyle(t);this.set("size",[t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.set("size",void 0)},sh.Ze=function(t){t=c(t).toString(),delete this.ca[t],this.render()},u(Br,Ut),(sh=Br.prototype).fg=function(){for(var t=this.c;t.lastChild;)t.removeChild(t.lastChild);(t=this.get(fc))&&this.c.appendChild(t)},sh.lg=function(){this.g&&(re(this.c),Lt(this.g),this.g=null);var t=this.get(pc);t&&(this.g=Et(t,"postrender",this.render,this),Wr(this),t=this.v?t.v:t.s,this.B?t.insertBefore(this.c,t.childNodes[0]||null):t.appendChild(this.c))},sh.render=function(){Wr(this)},sh.mg=function(){Wr(this)},sh.og=function(){if(Wr(this),this.get(gc)&&this.autoPan){var t=this.get(pc);if(t&&Rr(t)){var e=Gr(Rr(t),t.mb()),i=(s=this.get(fc)).offsetWidth,n=getComputedStyle(s),i=i+(parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)),n=s.offsetHeight,r=getComputedStyle(s),o=Gr(s,[i,n=n+(parseInt(r.marginTop,10)+parseInt(r.marginBottom,10))]),s=this.o;_(e,o)||(i=o[0]-e[0],n=e[2]-o[2],r=o[1]-e[1],o=e[3]-o[3],e=[0,0],0>i?e[0]=i-s:0>n&&(e[0]=Math.abs(n)+s),0>r?e[1]=r-s:0>o&&(e[1]=Math.abs(o)+s),0===e[0]&&0===e[1])||(s=t.Z().ha(),s=Fr(t,s),e=[s[0]+e[0],s[1]+e[1]],t.Z().animate({center:t.Ea(e),duration:this.i.duration,easing:this.i.easing}))}}},sh.pg=function(){Wr(this)},sh.setMap=function(t){this.set(pc,t)},sh.de=function(t){this.set(gc,t)};var fc="element",pc="map",dc="offset",gc="position",mc="positioning";u(Vr,oe);var vc=[1,2,5];Vr.prototype.C=function(){Hr(this)};var yc="units";u(Yr,$r),(sh=Yr.prototype).clone=function(){var t=new Yr({fill:this.qa()?this.qa().clone():void 0,points:this.a!==this.f?this.b/2:this.b,radius:this.f,radius2:this.a,angle:this.u,snapToPixel:this.K,stroke:this.ma()?this.ma().clone():void 0,rotation:this.o,rotateWithView:this.s,atlasManager:this.B});return t.i=this.i,t.g=this.g,t},sh.Sb=function(){return this.aa},sh.qa=function(){return this.la},sh.Be=function(){return this.v},sh.ia=function(){return this.j},sh.Ud=function(){return this.C},sh.cc=function(){return 2},sh.dc=function(){return this.fa},sh.nb=function(){return this.ga},sh.ma=function(){return this.pa},sh.ae=function(){},sh.load=function(){},sh.Ye=function(){},sh.Qd=function(t,e,i,n){var r;if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.f,0,2*Math.PI,!0);else for(this.a!==this.f&&(this.b*=2),i=0;i<=this.b;i++)n=2*i*Math.PI/this.b-Math.PI/2+this.u,r=i%2?this.a:this.f,e.lineTo(t.size/2+r*Math.cos(n),t.size/2+r*Math.sin(n));this.la&&(null===(i=this.la.b)&&(i=sc),e.fillStyle=ee(i),e.fill()),this.pa&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.We,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},sh.Pd=function(t,e,i,n){if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.b)e.arc(t.size/2,t.size/2,this.f,0,2*Math.PI,!0);else{this.a!==this.f&&(this.b*=2);var r;for(i=0;i<=this.b;i++)r=2*i*Math.PI/this.b-Math.PI/2+this.u,n=i%2?this.a:this.f,e.lineTo(t.size/2+n*Math.cos(r),t.size/2+n*Math.sin(r))}e.fillStyle=sc,e.fill(),this.pa&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.We,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},u(Zr,Yr),Zr.prototype.clone=function(){var t=new Zr({fill:this.qa()?this.qa().clone():void 0,stroke:this.ma()?this.ma().clone():void 0,radius:this.f,snapToPixel:this.K,atlasManager:this.B});return t.i=this.i,t.g=this.g,t},Zr.prototype.Re=function(t){this.f=t,Jr(this,this.B)},Kr.prototype.clone=function(){var t=this.b;return new Kr({color:t&&t.slice?t.slice():t||void 0})},(sh=Qr.prototype).clone=function(){var t=this.R();return t&&t.clone&&(t=t.clone()),new Qr({geometry:t,fill:this.qa()?this.qa().clone():void 0,image:this.ia()?this.ia().clone():void 0,stroke:this.ma()?this.ma().clone():void 0,text:this.na()?this.na().clone():void 0,zIndex:this.ra()})},sh.R=function(){return this.Va},sh.qa=function(){return this.la},sh.Qe=function(t){this.la=t},sh.ia=function(){return this.N},sh.ma=function(){return this.pa},sh.Te=function(t){this.pa=t},sh.na=function(){return this.ea},sh.Ue=function(t){this.ea=t},sh.ra=function(){return this.zi},sh.xa=function(t){"function"==typeof t?this.ta=t:"string"==typeof t?this.ta=function(e){return e.get(t)}:t?t&&(this.ta=function(){return t}):this.ta=no,this.Va=t};var bc=null;u(ro,Ut),(sh=ro.prototype).clone=function(){var t=new ro(this.Fa());t.pb(this.c);var e=this.R();return e&&t.xa(e.clone()),(e=this.j)&&t.ce(e),t},sh.R=function(){return this.get(this.c)},sh.Ug=function(){return this.a},sh.Vf=function(){return this.c},sh.Vg=function(){return this.j},sh.gg=function(){this.b()},sh.Vb=function(){this.g&&(Lt(this.g),this.g=null);var t=this.R();t&&(this.g=Et(t,"change",this.gg,this)),this.b()},sh.xa=function(t){this.set(this.c,t)},sh.ce=function(t){this.i=(this.j=t)?oo(t):void 0,this.b()},sh.$a=function(t){this.a=t,this.b()},sh.pb=function(t){Nt(this,Wt(this.c),this.Vb,this),this.c=t,Et(this,Wt(this.c),this.Vb,this),this.Vb()};var wc=document.implementation.createDocument("","",null),xc=vo();u(Ao,jo),(sh=Ao.prototype).H=function(){return"json"},sh.ec=function(t,e){return this.Za(Io(t),Po(this,t,e))},sh.Ra=function(t,e){return this.gd(Io(t),Po(this,t,e))},sh.ic=function(t){return this.ld(Io(t))},sh.ud=function(t,e){return JSON.stringify(this.sb(t,e))},u(Lo,gi),(sh=Lo.prototype).Lf=function(t){this.l?o(this.l,t):this.l=t.slice(),this.b()},sh.clone=function(){var t=new Lo(null);return Do(t,this.X,this.l.slice()),t},sh.Ha=function(t,e,i,n){return n<T(this.J(),t,e)?n:(this.v!=this.f&&(this.s=Math.sqrt(xi(this.l,0,this.l.length,this.A,0)),this.v=this.f),Si(this.l,0,this.l.length,this.A,this.s,!1,t,e,i,n))},sh.ue=function(t,e){return"XYM"!=this.X&&"XYZM"!=this.X?null:No(this.l,this.l.length,this.A,t,void 0!==e&&e)},sh.D=function(){return Ti(this.l,0,this.l.length,this.A)},sh.Rd=function(t,e){return Eo(this.l,0,this.l.length,this.A,t,e)},sh.mh=function(){var t,e=this.l,i=this.A,n=e[0],r=e[1],o=0;for(t=0+i;t<this.l.length;t+=i)var s=e[t],a=e[t+1],o=o+Math.sqrt((s-n)*(s-n)+(a-r)*(a-r)),n=s,r=a;return o},sh.ib=function(t){var e=[];return e.length=Ai(this.l,0,this.l.length,this.A,t,e,0),t=new Lo(null),Do(t,"XY",e),t},sh.H=function(){return"LineString"},sh.Y=function(t,e){t?(yi(this,e,t,1),this.l||(this.l=[]),this.l.length=ji(this.l,0,t,this.A),this.b()):Do(this,"XY",null)},u(Ro,gi),(sh=Ro.prototype).clone=function(){var t=new Ro(null);return Fo(t,this.X,this.l.slice(),this.a.slice()),t},sh.Ha=function(t,e,i,n){return n<T(this.J(),t,e)?n:(this.i!=this.f&&(this.v=Math.sqrt(Mi(this.l,0,this.a,this.A,0)),this.i=this.f),Ci(this.l,0,this.a,this.A,this.v,!1,t,e,i,n))},sh.D=function(){return _i(this.l,0,this.a,this.A)},sh.gb=function(){return this.a},sh.hb=function(){var t,e,i=this.l,n=this.a,r=this.X,o=[],s=0;for(t=0,e=n.length;t<e;++t){var a=n[t],l=new Lo(null);Do(l,r,i.slice(s,a)),o.push(l),s=a}return o},sh.ib=function(t){var e,i,n=[],r=[],o=this.l,s=this.a,a=this.A,l=0,u=0;for(e=0,i=s.length;e<i;++e){var h=s[e],u=Ai(o,l,h,a,t,n,u);r.push(u),l=h}return n.length=u,t=new Ro(null),Fo(t,"XY",n,r),t},sh.H=function(){return"MultiLineString"},sh.Y=function(t,e){if(t){yi(this,e,t,2),this.l||(this.l=[]);var i=Pi(this.l,0,t,this.A,this.a);this.l.length=i.length?i[i.length-1]:0,this.b()}else Fo(this,"XY",null,this.a)},u(Bo,gi),(sh=Bo.prototype).clone=function(){var t=new Bo(null);return vi(t,this.X,this.l.slice()),t.b(),t},sh.Ha=function(t,e,i,n){if(n<T(this.J(),t,e))return n;var r,o,s,a=this.l,l=this.A;for(r=0,o=a.length;r<o;r+=l)if((s=y(t,e,a[r],a[r+1]))<n){for(n=s,s=0;s<l;++s)i[s]=a[r+s];i.length=l}return n},sh.D=function(){return Ti(this.l,0,this.l.length,this.A)},sh.H=function(){return"MultiPoint"},sh.Y=function(t,e){t?(yi(this,e,t,1),this.l||(this.l=[]),this.l.length=ji(this.l,0,t,this.A)):vi(this,"XY",null),this.b()},u(Uo,gi),(sh=Uo.prototype).clone=function(){for(var t=new Uo(null),e=this.a.length,i=Array(e),n=0;n<e;++n)i[n]=this.a[n].slice();return Ho(t,this.X,this.l.slice(),i),t},sh.Ha=function(t,e,i,n){if(n<T(this.J(),t,e))return n;if(this.G!=this.f){var r,o,s=this.a,a=0,l=0;for(r=0,o=s.length;r<o;++r)var u=s[r],l=Mi(this.l,a,u,this.A,l),a=u[u.length-1];this.I=Math.sqrt(l),this.G=this.f}s=Vo(this),a=this.a,l=this.A,r=this.I,o=0;var h,c,u=[NaN,NaN];for(h=0,c=a.length;h<c;++h){var f=a[h];n=Ci(s,o,f,l,r,!0,t,e,i,n,u),o=f[f.length-1]}return n},sh.nh=function(){var t,e,i=Vo(this),n=this.a,r=0,o=0;for(t=0,e=n.length;t<e;++t)var s=n[t],o=o+bi(i,r,s,this.A),r=s[s.length-1];return o},sh.D=function(t){var e;void 0!==t?(e=Vo(this).slice(),zi(e,this.a,this.A,t)):e=this.l,t=e,e=this.a;var i,n,r=this.A,o=0,s=[],a=0;for(i=0,n=e.length;i<n;++i){var l=e[i];s[a++]=_i(t,o,l,r,s[a]),o=l[l.length-1]}return s.length=a,s},sh.Zf=function(){var t=new Bo(null);return vi(t,"XY",Wo(this).slice()),t.b(),t},sh.ib=function(t){var e=[],i=[],n=this.l,r=this.a,o=this.A;t=Math.sqrt(t);var s,a,l=0,u=0;for(s=0,a=r.length;s<a;++s){var h=r[s],c=[],u=Ii(n,l,h,o,t,e,u,c);i.push(c),l=h[h.length-1]}return e.length=u,n=new Uo(null),Ho(n,"XY",e,i),n},sh.H=function(){return"MultiPolygon"},sh.Y=function(t,e){if(t){yi(this,e,t,3),this.l||(this.l=[]);var i,n,r=this.l,o=this.A,s=0,a=(a=this.a)||[],l=0;for(i=0,n=t.length;i<n;++i)s=Pi(r,s,t[i],o,a[l]),a[l++]=s,s=s[s.length-1];a.length=l,a.length?(r=a[a.length-1],this.l.length=r.length?r[r.length-1]:0):this.l.length=0,this.b()}else Ho(this,"XY",null,this.a)},u(Yo,Ao);var Mc={Point:function(t){return void 0!==t.m&&void 0!==t.z?new Li([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new Li([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new Li([t.x,t.y,t.m],"XYM"):new Li([t.x,t.y])},LineString:function(t){return new Lo(t.paths[0],Jo(t))},Polygon:function(t){return new Bi(t.rings,Jo(t))},MultiPoint:function(t){return new Bo(t.points,Jo(t))},MultiLineString:function(t){return new Ro(t.paths,Jo(t))},MultiPolygon:function(t){return new Uo(t.rings,Jo(t))}},Sc={Point:function(t){var e,i=t.D();return"XYZ"===(t=t.X)?e={x:i[0],y:i[1],z:i[2]}:"XYM"===t?e={x:i[0],y:i[1],m:i[2]}:"XYZM"===t?e={x:i[0],y:i[1],z:i[2],m:i[3]}:"XY"===t?e={x:i[0],y:i[1]}:p(!1,34),e},LineString:function(t){var e=Zo(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.D()]}},Polygon:function(t){var e=Zo(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.D(!1)}},MultiPoint:function(t){var e=Zo(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.D()}},MultiLineString:function(t){var e=Zo(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.D()}},MultiPolygon:function(t){var e=Zo(t);t=t.D(!1);for(var i=[],n=0;n<t.length;n++)for(var r=t[n].length-1;0<=r;r--)i.push(t[n][r]);return{hasZ:e.hasZ,hasM:e.hasM,rings:i}}};(sh=Yo.prototype).Za=function(t,e){var i;if(i=t.geometry){var n;if("number"==typeof i.x&&"number"==typeof i.y)n="Point";else if(i.points)n="MultiPoint";else if(i.paths)n=1===i.paths.length?"LineString":"MultiLineString";else if(i.rings){var r=i.rings,o=Jo(i),s=[],a=[];n=[];var l,u;for(l=0,u=r.length;l<u;++l)s.length=0,ji(s,0,r[l],o.length),Ri(s,0,s.length,o.length)?a.push([r[l]]):n.push(r[l]);for(;n.length;){for(r=n.shift(),o=!1,l=a.length-1;0<=l;l--)if(_(new Ei(a[l][0]).J(),new Ei(r).J())){a[l].push(r),o=!0;break}o||a.push([r.reverse()])}i=bh({},i),1===a.length?(n="Polygon",i.rings=a[0]):(n="MultiPolygon",i.rings=a)}i=_o((0,Mc[n])(i),!1,e)}else i=null;return a=new ro,this.b&&a.pb(this.b),a.xa(i),e&&e.Uc&&t.attributes[e.Uc]&&a.$a(t.attributes[e.Uc]),t.attributes&&a.oa(t.attributes),a},sh.gd=function(t,e){var i=e||{};if(t.features){var n,r,o=[],s=t.features;for(i.Uc=t.objectIdFieldName,n=0,r=s.length;n<r;++n)o.push(this.Za(s[n],i));return o}return[this.Za(t,i)]},sh.ld=function(t){return t.spatialReference&&t.spatialReference.wkid?ot("EPSG:"+t.spatialReference.wkid):null},sh.sb=function(t,e){e=To(this,e);var i={};if(r=t.R()){var n=e,r=(0,Sc[r.H()])(_o(r,!0,n),n);i.geometry=r}return r=t.Fa(),delete r[t.c],i.attributes=V(r)?{}:r,e&&e.featureProjection&&(i.spatialReference={wkid:ot(e.featureProjection).Ia.split(":").pop()}),i},sh.vd=function(t,e){e=To(this,e);var i,n,r=[];for(i=0,n=t.length;i<n;++i)r.push(this.sb(t[i],e));return{features:r}},u(Ko,pi),(sh=Ko.prototype).clone=function(){var t=new Ko(null),e=Qo(this.a);return ts(t),t.a=e,es(t),t.b(),t},sh.Ha=function(t,e,i,n){if(n<T(this.J(),t,e))return n;var r,o,s=this.a;for(r=0,o=s.length;r<o;++r)n=s[r].Ha(t,e,i,n);return n},sh.Rb=function(t){E(t);for(var e=this.a,i=0,n=e.length;i<n;++i){var r=t,o=e[i].J();o[0]<r[0]&&(r[0]=o[0]),o[2]>r[2]&&(r[2]=o[2]),o[1]<r[1]&&(r[1]=o[1]),o[3]>r[3]&&(r[3]=o[3])}return t},sh.Rc=function(t){if(this.j!=this.f&&(U(this.c),this.g=0,this.j=this.f),0>t||this.g&&t<this.g)return this;var e=t.toString();if(this.c.hasOwnProperty(e))return this.c[e];var i,n,r=[],o=this.a,s=!1;for(i=0,n=o.length;i<n;++i){var a=o[i],l=a.Rc(t);r.push(l),l!==a&&(s=!0)}return s?(t=new Ko(null),ts(t),t.a=r,es(t),t.b(),this.c[e]=t):(this.g=t,this)},sh.H=function(){return"GeometryCollection"},sh.rotate=function(t,e){for(var i=this.a,n=0,r=i.length;n<r;++n)i[n].rotate(t,e);this.b()},sh.scale=function(t,e,i){i||(i=R(this.J()));for(var n=this.a,r=0,o=n.length;r<o;++r)n[r].scale(t,e,i);this.b()},sh.vb=function(t){var e,i,n=this.a;for(e=0,i=n.length;e<i;++e)n[e].vb(t);this.b()},sh.ka=function(){ts(this),pi.prototype.ka.call(this)},u(is,Ao);var Cc={Point:function(t){return new Li(t.coordinates)},LineString:function(t){return new Lo(t.coordinates)},Polygon:function(t){return new Bi(t.coordinates)},MultiPoint:function(t){return new Bo(t.coordinates)},MultiLineString:function(t){return new Ro(t.coordinates)},MultiPolygon:function(t){return new Uo(t.coordinates)},GeometryCollection:function(t,e){return new Ko(t.geometries.map(function(t){return ns(t,e)}))}},kc={Point:function(t){return{type:"Point",coordinates:t.D()}},LineString:function(t){return{type:"LineString",coordinates:t.D()}},Polygon:function(t,e){var i;return e&&(i=e.rightHanded),{type:"Polygon",coordinates:t.D(i)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.D()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.D()}},MultiPolygon:function(t,e){var i;return e&&(i=e.rightHanded),{type:"MultiPolygon",coordinates:t.D(i)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var i=bh({},e);return delete i.featureProjection,rs(t,i)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};(sh=is.prototype).Za=function(t,e){var i,n=ns((i="Feature"===t.type?t:{type:"Feature",geometry:t}).geometry,e),r=new ro;return this.b&&r.pb(this.b),r.xa(n),void 0!==i.id&&r.$a(i.id),i.properties&&r.oa(i.properties),r},sh.gd=function(t,e){var i;if("FeatureCollection"===t.type){i=[];var n,r,o=t.features;for(n=0,r=o.length;n<r;++n)i.push(this.Za(o[n],e))}else i=[this.Za(t,e)];return i},sh.ld=function(t){var e;return(t=t.crs)?"name"==t.type?e=ot(t.properties.name):"EPSG"==t.type?e=ot("EPSG:"+t.properties.code):p(!1,36):e=this.defaultDataProjection,e},sh.sb=function(t,e){e=To(this,e);var i={type:"Feature"},n=t.a;return void 0!==n&&(i.id=n),(n=t.R())?i.geometry=rs(n,e):i.geometry=null,n=t.Fa(),delete n[t.c],V(n)?i.properties=null:i.properties=n,i},sh.vd=function(t,e){e=To(this,e);var i,n,r=[];for(i=0,n=t.length;i<n;++i)r.push(this.sb(t[i],e));return{type:"FeatureCollection",features:r}},u(os,jo),(sh=os.prototype).H=function(){return"xml"},sh.ec=function(t,e){return t instanceof Document?ss(this,t,e):t instanceof Node?null:"string"==typeof t?ss(this,uo(t),e):null},sh.Ra=function(t,e){return t instanceof Document?as(this,t,e):t instanceof Node?this.fd(t,e):"string"==typeof t?as(this,uo(t),e):[]},sh.ic=function(t){return t instanceof Document?this.kd(t):t instanceof Node?this.jc(t):"string"==typeof t?(t=uo(t),this.kd(t)):null},sh.kd=function(){return this.defaultDataProjection},sh.jc=function(){return this.defaultDataProjection},sh.ud=function(){return this.u.serializeToString(null)},u(ls,os);var jc=/^[\s\xa0]*$/;(sh=ls.prototype).Gb=function(t,e){var i=t.localName,n=null;if("FeatureCollection"==i)n="http://www.opengis.net/wfs"===t.namespaceURI?xo([],this.b,t,e,this):xo(null,this.b,t,e,this);else if("featureMembers"==i||"featureMember"==i){var r,o,s=(d=e[0]).featureType,a=d.featureNS;if(!s&&t.childNodes){for(s=[],a={},r=0,o=t.childNodes.length;r<o;++r)if(1===(f=t.childNodes[r]).nodeType){var l=f.nodeName.split(":").pop();if(-1===s.indexOf(l)){var u,h="",c=0,f=f.namespaceURI;for(u in a){if(a[u]===f){h=u;break}++c}h||(h="p"+c,a[h]=f),s.push(h+":"+l)}}"featureMember"!=i&&(d.featureType=s,d.featureNS=a)}"string"==typeof a&&(r=a,a={},a.p0=r);var p,d={},s=Array.isArray(s)?s:[s];for(p in a){for(l={},r=0,o=s.length;r<o;++r)(-1===s[r].indexOf(":")?"p0":s[r].split(":")[0])===p&&(l[s[r].split(":").pop()]="featureMembers"==i?ho(this.He,this):co(this.He,this));d[a[p]]=l}n="featureMember"==i?xo(void 0,d,t,e):xo([],d,t,e)}return null===n&&(n=[]),n},sh.He=function(t,e){var i,n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var r,o={};for(i=t.firstElementChild;i;i=i.nextElementSibling){var s=i.localName;if(0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)){var a=ao(i);jc.test(a)&&(a=void 0),o[s]=a}else"boundedBy"!==s&&(r=s),o[s]=us(this,i,e)}return i=new ro(o),r&&i.pb(r),n&&i.$a(n),i},sh.Ne=function(t,e){var i=this.fc(t,e);if(i){var n=new Li(null);return vi(n,"XYZ",i),n.b(),n}},sh.Le=function(t,e){var i=xo([],this.lf,t,e,this);if(i)return new Bo(i)},sh.Ke=function(t,e){var i=xo([],this.kf,t,e,this);if(i){var n=new Ro(null);return zo(n,i),n}},sh.Me=function(t,e){var i=xo([],this.mf,t,e,this);if(i){var n=new Uo(null);return $o(n,i),n}},sh.Ee=function(t,e){wo(this.qf,t,e,this)},sh.$d=function(t,e){wo(this.hf,t,e,this)},sh.Fe=function(t,e){wo(this.rf,t,e,this)},sh.gc=function(t,e){var i=this.fc(t,e);if(i){var n=new Lo(null);return Do(n,"XYZ",i),n}},sh.Yh=function(t,e){var i=xo(null,this.Ib,t,e,this);if(i)return i},sh.Je=function(t,e){var i=this.fc(t,e);if(i){var n=new Ei(null);return Ni(n,"XYZ",i),n}},sh.hc=function(t,e){var i=xo([null],this.sc,t,e,this);if(i&&i[0]){var n,r,s=new Bi(null),a=i[0],l=[a.length];for(n=1,r=i.length;n<r;++n)o(a,i[n]),l.push(a.length);return Vi(s,"XYZ",a,l),s}},sh.fc=function(t,e){return xo(null,this.Ib,t,e,this)},sh.lf={"http://www.opengis.net/gml":{pointMember:ho(ls.prototype.Ee),pointMembers:ho(ls.prototype.Ee)}},sh.kf={"http://www.opengis.net/gml":{lineStringMember:ho(ls.prototype.$d),lineStringMembers:ho(ls.prototype.$d)}},sh.mf={"http://www.opengis.net/gml":{polygonMember:ho(ls.prototype.Fe),polygonMembers:ho(ls.prototype.Fe)}},sh.qf={"http://www.opengis.net/gml":{Point:ho(ls.prototype.fc)}},sh.hf={"http://www.opengis.net/gml":{LineString:ho(ls.prototype.gc)}},sh.rf={"http://www.opengis.net/gml":{Polygon:ho(ls.prototype.hc)}},sh.Jb={"http://www.opengis.net/gml":{LinearRing:co(ls.prototype.Yh)}},sh.fd=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};return e&&bh(i,Po(this,t,e)),this.Gb(t,[i])||[]},sh.jc=function(t){return ot(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},u(Ms,ls),(sh=Ms.prototype).bi=function(t,e){var i=xo([],this.jf,t,e,this);if(i){var n=new Ro(null);return zo(n,i),n}},sh.ci=function(t,e){var i=xo([],this.nf,t,e,this);if(i){var n=new Uo(null);return $o(n,i),n}},sh.Od=function(t,e){wo(this.ef,t,e,this)},sh.Xe=function(t,e){wo(this.tf,t,e,this)},sh.di=function(t,e){return xo([null],this.pf,t,e,this)},sh.fi=function(t,e){return xo([null],this.sf,t,e,this)},sh.ei=function(t,e){return xo([null],this.sc,t,e,this)},sh.ai=function(t,e){return xo([null],this.Ib,t,e,this)},sh.Bg=function(t,e){var i=xo(void 0,this.Jb,t,e,this);i&&e[e.length-1].push(i)},sh.Of=function(t,e){var i=xo(void 0,this.Jb,t,e,this);i&&(e[e.length-1][0]=i)},sh.Oe=function(t,e){var i=xo([null],this.uf,t,e,this);if(i&&i[0]){var n,r,s=new Bi(null),a=i[0],l=[a.length];for(n=1,r=i.length;n<r;++n)o(a,i[n]),l.push(a.length);return Vi(s,"XYZ",a,l),s}},sh.Ge=function(t,e){var i=xo([null],this.ff,t,e,this);if(i){var n=new Lo(null);return Do(n,"XYZ",i),n}},sh.Xh=function(t,e){var i=xo([null],this.gf,t,e,this);return I(i[1][0],i[1][1],i[2][0],i[2][1])},sh.Zh=function(t,e){for(var i,n=ao(t),r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];i=r.exec(n);)o.push(parseFloat(i[1])),n=n.substr(i[0].length);if(""===n){if(n=e[0].srsName,r="enu",n&&(r=ot(n).b),"neu"===r)for(n=0,r=o.length;n<r;n+=3)i=o[n],o[n]=o[n+1],o[n+1]=i;if(2==(n=o.length)&&o.push(0),n)return o}},sh.jd=function(t,e){var i=ao(t).replace(/^\s*|\s*$/g,""),n=e[0].srsName,r=t.parentNode.getAttribute("srsDimension"),o="enu";n&&(o=ot(n).b),i=i.split(/\s+/),n=2,t.getAttribute("srsDimension")?n=ms(t.getAttribute("srsDimension")):t.getAttribute("dimension")?n=ms(t.getAttribute("dimension")):r&&(n=ms(r));for(var s,a,l=[],u=0,h=i.length;u<h;u+=n)r=parseFloat(i[u]),s=parseFloat(i[u+1]),a=3===n?parseFloat(i[u+2]):0,"en"===o.substr(0,2)?l.push(r,s,a):l.push(s,r,a);return l},sh.Ib={"http://www.opengis.net/gml":{pos:co(Ms.prototype.Zh),posList:co(Ms.prototype.jd)}},sh.sc={"http://www.opengis.net/gml":{interior:Ms.prototype.Bg,exterior:Ms.prototype.Of}},sh.yd={"http://www.opengis.net/gml":{Point:co(ls.prototype.Ne),MultiPoint:co(ls.prototype.Le),LineString:co(ls.prototype.gc),MultiLineString:co(ls.prototype.Ke),LinearRing:co(ls.prototype.Je),Polygon:co(ls.prototype.hc),MultiPolygon:co(ls.prototype.Me),Surface:co(Ms.prototype.Oe),MultiSurface:co(Ms.prototype.ci),Curve:co(Ms.prototype.Ge),MultiCurve:co(Ms.prototype.bi),Envelope:co(Ms.prototype.Xh)}},sh.jf={"http://www.opengis.net/gml":{curveMember:ho(Ms.prototype.Od),curveMembers:ho(Ms.prototype.Od)}},sh.nf={"http://www.opengis.net/gml":{surfaceMember:ho(Ms.prototype.Xe),surfaceMembers:ho(Ms.prototype.Xe)}},sh.ef={"http://www.opengis.net/gml":{LineString:ho(ls.prototype.gc),Curve:ho(Ms.prototype.Ge)}},sh.tf={"http://www.opengis.net/gml":{Polygon:ho(ls.prototype.hc),Surface:ho(Ms.prototype.Oe)}},sh.uf={"http://www.opengis.net/gml":{patches:co(Ms.prototype.di)}},sh.ff={"http://www.opengis.net/gml":{segments:co(Ms.prototype.fi)}},sh.gf={"http://www.opengis.net/gml":{lowerCorner:ho(Ms.prototype.jd),upperCorner:ho(Ms.prototype.jd)}},sh.pf={"http://www.opengis.net/gml":{PolygonPatch:co(Ms.prototype.ei)}},sh.sf={"http://www.opengis.net/gml":{LineStringSegment:co(Ms.prototype.ai)}},sh.re=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=so(t.namespaceURI,"pos"),t.appendChild(n),t="enu",(i=i[i.length-1].srsName)&&(t=ot(i).b),e=e.D(),xs(n,"en"===t.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0])};var Pc={"http://www.opengis.net/gml":{lowerCorner:go(xs),upperCorner:go(xs)}};(sh=Ms.prototype).jh=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),So({node:t},Pc,xc,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)},sh.oe=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=so(t.namespaceURI,"posList"),t.appendChild(n),Ss(n,e,i)},sh.ih=function(t,e){var i=e[e.length-1],n=i.node,r=i.exteriorWritten;return void 0===r&&(i.exteriorWritten=!0),so(n.namespaceURI,void 0!==r?"interior":"exterior")},sh.ac=function(t,e,i){var n=i[i.length-1].srsName;"PolygonPatch"!==t.nodeName&&n&&t.setAttribute("srsName",n),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=Ui(e),So({node:t,srsName:n},Ic,this.ih,e,i,void 0,this)):"Surface"===t.nodeName&&(n=so(t.namespaceURI,"patches"),t.appendChild(n),t=so(n.namespaceURI,"PolygonPatch"),n.appendChild(t),this.ac(t,e,i))},sh.$b=function(t,e,i){var n=i[i.length-1].srsName;"LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(n=so(t.namespaceURI,"posList"),t.appendChild(n),Ss(n,e,i)):"Curve"===t.nodeName&&(n=so(t.namespaceURI,"segments"),t.appendChild(n),t=so(n.namespaceURI,"LineStringSegment"),n.appendChild(t),this.$b(t,e,i))},sh.qe=function(t,e,i){var n=(r=i[i.length-1]).srsName,r=r.surface;n&&t.setAttribute("srsName",n),e=Xo(e),So({node:t,srsName:n,surface:r},Tc,this.c,e,i,void 0,this)},sh.kh=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),e=Go(e),So({node:t,srsName:n},_c,vo("pointMember"),e,i,void 0,this)},sh.pe=function(t,e,i){var n=(r=i[i.length-1]).srsName,r=r.curve;n&&t.setAttribute("srsName",n),e=e.hb(),So({node:t,srsName:n,curve:r},Ac,this.c,e,i,void 0,this)},sh.se=function(t,e,i){var n=so(t.namespaceURI,"LinearRing");t.appendChild(n),this.oe(n,e,i)},sh.te=function(t,e,i){var n=this.f(e,i);n&&(t.appendChild(n),this.ac(n,e,i))},sh.lh=function(t,e,i){var n=so(t.namespaceURI,"Point");t.appendChild(n),this.re(n,e,i)},sh.ne=function(t,e,i){var n=this.f(e,i);n&&(t.appendChild(n),this.$b(n,e,i))},sh.me=function(t,e,i){var n=i[i.length-1],r=bh({},n);r.node=t;var o;o=Array.isArray(e)?n.dataProjection?ct(e,n.featureProjection,n.dataProjection):e:_o(e,!0,n),So(r,Ec,this.f,[o],i,void 0,this)};var Tc={"http://www.opengis.net/gml":{surfaceMember:go(Ms.prototype.te),polygonMember:go(Ms.prototype.te)}},_c={"http://www.opengis.net/gml":{pointMember:go(Ms.prototype.lh)}},Ac={"http://www.opengis.net/gml":{lineStringMember:go(Ms.prototype.ne),curveMember:go(Ms.prototype.ne)}},Ic={"http://www.opengis.net/gml":{exterior:go(Ms.prototype.se),interior:go(Ms.prototype.se)}},Ec={"http://www.opengis.net/gml":{Curve:go(Ms.prototype.$b),MultiCurve:go(Ms.prototype.pe),Point:go(Ms.prototype.re),MultiPoint:go(Ms.prototype.kh),LineString:go(Ms.prototype.$b),MultiLineString:go(Ms.prototype.pe),LinearRing:go(Ms.prototype.oe),Polygon:go(Ms.prototype.ac),MultiPolygon:go(Ms.prototype.qe),Surface:go(Ms.prototype.ac),MultiSurface:go(Ms.prototype.qe),Envelope:go(Ms.prototype.jh)}},Nc={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};Ms.prototype.c=function(t,e){return so("http://www.opengis.net/gml",Nc[e[e.length-1].node.nodeName])},Ms.prototype.f=function(t,e){var i,n=(s=e[e.length-1]).multiSurface,r=s.surface,o=s.curve,s=s.multiCurve;return Array.isArray(t)?i="Envelope":"MultiPolygon"===(i=t.H())&&!0===n?i="MultiSurface":"Polygon"===i&&!0===r?i="Surface":"LineString"===i&&!0===o?i="Curve":"MultiLineString"===i&&!0===s&&(i="MultiCurve"),so("http://www.opengis.net/gml",i)},u(Cs,ls),(sh=Cs.prototype).Ie=function(t,e){var i=ao(t).replace(/^\s*|\s*$/g,""),n=e[0].srsName,r="enu";n&&(n=ot(n))&&(r=n.b);for(var o,s,a=[],l=0,u=(i=i.trim().split(/\s+/)).length;l<u;l++)s=i[l].split(/,+/),n=parseFloat(s[0]),o=parseFloat(s[1]),s=3===s.length?parseFloat(s[2]):0,"en"===r.substr(0,2)?a.push(n,o,s):a.push(o,n,s);return a},sh.Vh=function(t,e){var i=xo([null],this.df,t,e,this);return I(i[1][0],i[1][1],i[1][3],i[1][4])},sh.zg=function(t,e){var i=xo(void 0,this.Jb,t,e,this);i&&e[e.length-1].push(i)},sh.Gh=function(t,e){var i=xo(void 0,this.Jb,t,e,this);i&&(e[e.length-1][0]=i)},sh.Ib={"http://www.opengis.net/gml":{coordinates:co(Cs.prototype.Ie)}},sh.sc={"http://www.opengis.net/gml":{innerBoundaryIs:Cs.prototype.zg,outerBoundaryIs:Cs.prototype.Gh}},sh.df={"http://www.opengis.net/gml":{coordinates:ho(Cs.prototype.Ie)}},sh.yd={"http://www.opengis.net/gml":{Point:co(ls.prototype.Ne),MultiPoint:co(ls.prototype.Le),LineString:co(ls.prototype.gc),MultiLineString:co(ls.prototype.Ke),LinearRing:co(ls.prototype.Je),Polygon:co(ls.prototype.hc),MultiPolygon:co(ls.prototype.Me),Box:co(Cs.prototype.Vh)}},sh.Yc=function(t,e){var i,n=(o=e[e.length-1]).multiSurface,r=o.surface,o=o.multiCurve;return Array.isArray(t)?i="Envelope":"MultiPolygon"===(i=t.H())&&!0===n?i="MultiSurface":"Polygon"===i&&!0===r?i="Surface":"MultiLineString"===i&&!0===o&&(i="MultiCurve"),so("http://www.opengis.net/gml",i)},sh.ee=function(t,e,i){var n=i[i.length-1],r=bh({},n);r.node=t;var o;o=Array.isArray(e)?n.dataProjection?ct(e,n.featureProjection,n.dataProjection):e:_o(e,!0,n),So(r,Lc,this.Yc,[o],i,void 0,this)},sh.Yb=function(t,e,i){var n=i[i.length-1].srsName;"LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(n=ks(t.namespaceURI),t.appendChild(n),js(n,e,i)):"Curve"===t.nodeName&&(n=so(t.namespaceURI,"segments"),t.appendChild(n),t=so(n.namespaceURI,"LineStringSegment"),n.appendChild(t),this.Yb(t,e,i))},sh.Zb=function(t,e,i){var n=i[i.length-1].srsName;"PolygonPatch"!==t.nodeName&&n&&t.setAttribute("srsName",n),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=Ui(e),So({node:t,srsName:n},Oc,this.eh,e,i,void 0,this)):"Surface"===t.nodeName&&(n=so(t.namespaceURI,"patches"),t.appendChild(n),t=so(n.namespaceURI,"PolygonPatch"),n.appendChild(t),this.Zb(t,e,i))},sh.eh=function(t,e){var i=e[e.length-1],n=i.node,r=i.exteriorWritten;return void 0===r&&(i.exteriorWritten=!0),so(n.namespaceURI,void 0!==r?"innerBoundaryIs":"outerBoundaryIs")},sh.ke=function(t,e,i){var n=so(t.namespaceURI,"LinearRing");t.appendChild(n),this.ge(n,e,i)},sh.he=function(t,e,i){var n=(r=i[i.length-1]).srsName,r=r.curve;n&&t.setAttribute("srsName",n),e=e.hb(),So({node:t,srsName:n,curve:r},Rc,this.f,e,i,void 0,this)},sh.je=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),i=ks(t.namespaceURI),t.appendChild(i),xs(i,t=Ps(t=e.D(),n))},sh.gh=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),e=Go(e),So({node:t,srsName:n},Dc,vo("pointMember"),e,i,void 0,this)},sh.hh=function(t,e,i){var n=so(t.namespaceURI,"Point");t.appendChild(n),this.je(n,e,i)},sh.fe=function(t,e,i){var n=this.Yc(e,i);n&&(t.appendChild(n),this.Yb(n,e,i))},sh.ge=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=ks(t.namespaceURI),t.appendChild(n),js(n,e,i)},sh.ie=function(t,e,i){var n=(r=i[i.length-1]).srsName,r=r.surface;n&&t.setAttribute("srsName",n),e=Xo(e),So({node:t,srsName:n,surface:r},Fc,this.f,e,i,void 0,this)},sh.le=function(t,e,i){var n=this.Yc(e,i);n&&(t.appendChild(n),this.Zb(n,e,i))},sh.fh=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),So({node:t},zc,xc,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)};var Lc={"http://www.opengis.net/gml":{Curve:go(Cs.prototype.Yb),MultiCurve:go(Cs.prototype.he),Point:go(Cs.prototype.je),MultiPoint:go(Cs.prototype.gh),LineString:go(Cs.prototype.Yb),MultiLineString:go(Cs.prototype.he),LinearRing:go(Cs.prototype.ge),Polygon:go(Cs.prototype.Zb),MultiPolygon:go(Cs.prototype.ie),Surface:go(Cs.prototype.Zb),MultiSurface:go(Cs.prototype.ie),Envelope:go(Cs.prototype.fh)}},Oc={"http://www.opengis.net/gml":{outerBoundaryIs:go(Cs.prototype.ke),innerBoundaryIs:go(Cs.prototype.ke)}},Dc={"http://www.opengis.net/gml":{pointMember:go(Cs.prototype.hh)}},Rc={"http://www.opengis.net/gml":{lineStringMember:go(Cs.prototype.fe),curveMember:go(Cs.prototype.fe)}};Cs.prototype.f=function(t,e){return so("http://www.opengis.net/gml",qc[e[e.length-1].node.nodeName])};var qc={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Fc={"http://www.opengis.net/gml":{surfaceMember:go(Cs.prototype.le),polygonMember:go(Cs.prototype.le)}},zc={"http://www.opengis.net/gml":{lowerCorner:go(xs),upperCorner:go(xs)}},Bc=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];bo(Bc,{rte:ho(function(t,e){var i=e[0],n=xo({flatCoordinates:[],layoutOptions:{}},Uc,t,e);if(n){var r=n.flatCoordinates;delete n.flatCoordinates;o=n.layoutOptions;delete n.layoutOptions;var o=_s(o,r),s=new Lo(null);return Do(s,o,r),_o(s,!1,i),(i=new ro(s)).oa(n),i}}),trk:ho(function(t,e){var i=e[0],n=xo({flatCoordinates:[],ends:[],layoutOptions:{}},Vc,t,e);if(n){var r=n.flatCoordinates;delete n.flatCoordinates;var o=n.ends;delete n.ends;s=n.layoutOptions;delete n.layoutOptions;var s=_s(s,r,o),a=new Ro(null);return Fo(a,s,r,o),_o(a,!1,i),(i=new ro(a)).oa(n),i}}),wpt:ho(function(t,e){var i=e[0],n=xo({},$c,t,e);if(n){var r={},o=Ts([],r,t,n);return _o(o=new Li(o,r=_s(r,o)),!1,i),(i=new ro(o)).oa(n),i}})});var Gc=bo(Bc,{text:po(vs,"linkText"),type:po(vs,"linkType")}),Uc=bo(Bc,{name:po(vs),cmt:po(vs),desc:po(vs),src:po(vs),link:As,number:po(gs),extensions:Is,type:po(vs),rtept:function(t,e){var i=xo({},Wc,t,e);if(i){var n=e[e.length-1];Ts(n.flatCoordinates,n.layoutOptions,t,i)}}}),Wc=bo(Bc,{ele:po(ps),time:po(fs)}),Vc=bo(Bc,{name:po(vs),cmt:po(vs),desc:po(vs),src:po(vs),link:As,number:po(gs),type:po(vs),extensions:Is,trkseg:function(t,e){var i=e[e.length-1];wo(Xc,t,e),i.ends.push(i.flatCoordinates.length)}}),Xc=bo(Bc,{trkpt:function(t,e){var i=xo({},Hc,t,e);if(i){var n=e[e.length-1];Ts(n.flatCoordinates,n.layoutOptions,t,i)}}}),Hc=bo(Bc,{ele:po(ps),time:po(fs)}),$c=bo(Bc,{ele:po(ps),time:po(fs),magvar:po(ps),geoidheight:po(ps),name:po(vs),cmt:po(vs),desc:po(vs),src:po(vs),link:As,sym:po(vs),type:po(vs),fix:po(vs),sat:po(gs),hdop:po(ps),vdop:po(ps),pdop:po(ps),ageofdgpsdata:po(ps),dgpsid:po(gs),extensions:Is}),Yc=["text","type"],Jc=bo(Bc,{text:go(xs),type:go(xs)}),Zc=bo(Bc,"name cmt desc src link number type rtept".split(" ")),Kc=bo(Bc,{name:go(xs),cmt:go(xs),desc:go(xs),src:go(xs),link:go(Es),number:go(ws),type:go(xs),rtept:mo(go(Ns))}),Qc=bo(Bc,["ele","time"]),tf=bo(Bc,"name cmt desc src link number type trkseg".split(" ")),ef=bo(Bc,{name:go(xs),cmt:go(xs),desc:go(xs),src:go(xs),link:go(Es),number:go(ws),type:go(xs),trkseg:mo(go(function(t,e,i){So({node:t,geometryLayout:e.X,properties:{}},rf,nf,e.D(),i)}))}),nf=vo("trkpt"),rf=bo(Bc,{trkpt:go(Ns)}),of=bo(Bc,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),sf=bo(Bc,{ele:go(bs),time:go(function(t,e){var i=new Date(1e3*e);t.appendChild(wc.createTextNode(i.getUTCFullYear()+"-"+ii(i.getUTCMonth()+1)+"-"+ii(i.getUTCDate())+"T"+ii(i.getUTCHours())+":"+ii(i.getUTCMinutes())+":"+ii(i.getUTCSeconds())+"Z"))}),magvar:go(bs),geoidheight:go(bs),name:go(xs),cmt:go(xs),desc:go(xs),src:go(xs),link:go(Es),sym:go(xs),type:go(xs),fix:go(xs),sat:go(ws),hdop:go(bs),vdop:go(bs),pdop:go(bs),ageofdgpsdata:go(bs),dgpsid:go(ws)});bo(Bc,{rte:go(function(t,e,i){var n=i[0],r=e.Fa();t={node:t,properties:r},(e=e.R())&&(e=_o(e,!0,n),t.geometryLayout=e.X,r.rtept=e.D()),r=yo(r,n=Zc[i[i.length-1].node.namespaceURI]),So(t,Kc,xc,r,i,n)}),trk:go(function(t,e,i){var n=i[0],r=e.Fa();t={node:t,properties:r},(e=e.R())&&(e=_o(e,!0,n),r.trkseg=e.hb()),r=yo(r,n=tf[i[i.length-1].node.namespaceURI]),So(t,ef,xc,r,i,n)}),wpt:go(function(t,e,i){var n=i[0],r=i[i.length-1];r.properties=e.Fa(),(e=e.R())&&(e=_o(e,!0,n),r.geometryLayout=e.X,Ns(t,e.D(),i))})}),u(Ls,jo),(sh=Ls.prototype).H=function(){return"text"},sh.ec=function(t,e){var i;if(i=To(this,e),i=ka("string"==typeof t?t:"",i)){var n=new ro;n.xa(i),i=n}else i=null;return i},sh.Ra=function(t,e){for(var i=To(this,e),n=[],i=ka("string"==typeof t?t:"",i),r=[],o=0,s=(n=this.b&&"GeometryCollection"==i.H()?i.a:[i]).length;o<s;++o)(i=new ro).xa(n[o]),r.push(i);return r},sh.ic=function(){return this.defaultDataProjection},sh.ud=function(t,e){var i=To(this,e),n=t.R();return n?Ca(_o(n,!0,i)):""},u(Os,Ft),Os.prototype.o=function(){this.f=3,this.c.forEach(Lt),this.c=null,zt(this,"change")},Os.prototype.K=function(){if(this.f=2,this.b&&(this.N.width=this.b[0],this.N.height=this.b[1]),this.b=[this.N.width,this.N.height],this.c.forEach(Lt),this.c=null,Ds(this),!this.j&&null!==this.g){this.a.width=this.N.width,this.a.height=this.N.height;var t=this.a.getContext("2d");t.drawImage(this.N,0,0);for(var e=t.getImageData(0,0,this.N.width,this.N.height),i=e.data,n=this.g[0]/255,r=this.g[1]/255,o=this.g[2]/255,s=0,a=i.length;s<a;s+=4)i[s]*=n,i[s+1]*=r,i[s+2]*=o;t.putImageData(e,0,0)}zt(this,"change")},Os.prototype.ia=function(){return this.a?this.a:this.N},Os.prototype.load=function(){if(0==this.f){this.f=1,this.c=[Et(this.N,"error",this.o,this,!0),Et(this.N,"load",this.K,this,!0)];try{this.N.src=this.u}catch(t){this.o()}}},u(Rs,$r),(sh=Rs.prototype).clone=function(){var t,e=this.ia(1);if(2===this.b.f)if("IMG"===e.tagName.toUpperCase())t=e.cloneNode(!0);else{var i=(t=document.createElement("canvas")).getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0)}return new Rs({anchor:this.c.slice(),anchorOrigin:this.f,anchorXUnits:this.C,anchorYUnits:this.aa,crossOrigin:this.fa,color:this.u&&this.u.slice?this.u.slice():this.u||void 0,img:t||void 0,imgSize:t?this.b.b.slice():void 0,src:t?void 0:this.b.u,offset:this.ga.slice(),offsetOrigin:this.a,size:null!==this.v?this.v.slice():void 0,opacity:this.i,scale:this.g,snapToPixel:this.K,rotation:this.o,rotateWithView:this.s})},sh.Sb=function(){if(this.j)return this.j;var t=this.c,e=this.nb();if("fraction"==this.C||"fraction"==this.aa){if(!e)return null;t=this.c.slice(),"fraction"==this.C&&(t[0]*=e[0]),"fraction"==this.aa&&(t[1]*=e[1])}if("top-left"!=this.f){if(!e)return null;t===this.c&&(t=this.c.slice()),"top-right"!=this.f&&"bottom-right"!=this.f||(t[0]=-t[0]+e[0]),"bottom-left"!=this.f&&"bottom-right"!=this.f||(t[1]=-t[1]+e[1])}return this.j=t},sh.ia=function(t){return this.b.ia(t)},sh.Ud=function(){return this.b.b},sh.cc=function(){return this.b.f},sh.Be=function(){var t=this.b;if(!t.i)if(t.j){var e=t.b[0],i=t.b[1],n=ne(e,i);n.fillRect(0,0,e,i),t.i=n.canvas}else t.i=t.N;return t.i},sh.dc=function(){if(this.B)return this.B;var t=this.ga;if("top-left"!=this.a){var e=this.nb(),i=this.b.b;if(!e||!i)return null;t=t.slice(),"top-right"!=this.a&&"bottom-right"!=this.a||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.a&&"bottom-right"!=this.a||(t[1]=i[1]-e[1]-t[1])}return this.B=t},sh.nb=function(){return this.v?this.v:this.b.b},sh.ae=function(t,e){return Et(this.b,"change",t,e)},sh.load=function(){this.b.load()},sh.Ye=function(t,e){Nt(this.b,"change",t,e)},(sh=qs.prototype).clone=function(){return new qs({font:this.f,rotation:this.i,rotateWithView:this.g,scale:this.b,text:this.na(),textAlign:this.u,textBaseline:this.j,fill:this.qa()?this.qa().clone():void 0,stroke:this.ma()?this.ma().clone():void 0,offsetX:this.a,offsetY:this.c})},sh.qa=function(){return this.la},sh.ma=function(){return this.pa},sh.na=function(){return this.ea},sh.Qe=function(t){this.la=t},sh.Te=function(t){this.pa=t},sh.Ue=function(t){this.ea=t};var af=["http://www.google.com/kml/ext/2.2"],lf=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],uf={fraction:"fraction",pixels:"pixels"},hf=bo(lf,{displayName:po(vs),value:po(vs)}),cf=bo(lf,{Data:function(t,e){var i=t.getAttribute("name");wo(hf,t,e);var n=e[e.length-1];null!==i?n[i]=n.value:null!==n.displayName&&(n[n.displayName]=n.value)},SchemaData:function(t,e){wo(If,t,e)}}),ff=bo(lf,{LatLonAltBox:function(t,e){var i=xo({},pf,t,e);if(i){var n=e[e.length-1];n.extent=[parseFloat(i.west),parseFloat(i.south),parseFloat(i.east),parseFloat(i.north)],n.altitudeMode=i.altitudeMode,n.minAltitude=parseFloat(i.minAltitude),n.maxAltitude=parseFloat(i.maxAltitude)}},Lod:function(t,e){var i=xo({},df,t,e);if(i){var n=e[e.length-1];n.minLodPixels=parseFloat(i.minLodPixels),n.maxLodPixels=parseFloat(i.maxLodPixels),n.minFadeExtent=parseFloat(i.minFadeExtent),n.maxFadeExtent=parseFloat(i.maxFadeExtent)}}}),pf=bo(lf,{altitudeMode:po(vs),minAltitude:po(ps),maxAltitude:po(ps),north:po(ps),south:po(ps),east:po(ps),west:po(ps)}),df=bo(lf,{minLodPixels:po(ps),maxLodPixels:po(ps),minFadeExtent:po(ps),maxFadeExtent:po(ps)}),gf=bo(lf,{extrude:po(hs),altitudeMode:po(vs)}),mf=bo(lf,{coordinates:co(zs)}),vf=bo(lf,{innerBoundaryIs:function(t,e){var i=xo(void 0,Mf,t,e);i&&e[e.length-1].push(i)},outerBoundaryIs:function(t,e){var i=xo(void 0,Tf,t,e);i&&(e[e.length-1][0]=i)}}),yf=bo(lf,{when:function(t,e){var i=e[e.length-1].cf,n=ao(t),n=Date.parse(n);i.push(isNaN(n)?0:n)}},bo(af,{coord:function(t,e){var i=e[e.length-1].l,n=ao(t);(n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n))?i.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),0):i.push(0,0,0,0)}})),bf=bo(lf,{coordinates:co(zs)}),wf=bo(lf,{href:po(Bs)},bo(af,{x:po(ps),y:po(ps),w:po(ps),h:po(ps)})),xf=bo(lf,{Icon:po(function(t,e){var i=xo({},wf,t,e);return i||null}),heading:po(ps),hotSpot:po(function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),wd:uf[e],y:parseFloat(t.getAttribute("y")),xd:uf[i]}}),scale:po(Gs)}),Mf=bo(lf,{LinearRing:co(Us)}),Sf=bo(lf,{color:po(Fs),scale:po(Gs)}),Cf=bo(lf,{color:po(Fs),width:po(ps)}),kf=bo(lf,{LineString:ho(Vs),LinearRing:ho(Xs),MultiGeometry:ho(Hs),Point:ho($s),Polygon:ho(Ys)}),jf=bo(af,{Track:ho(Ws)});bo(lf,{ExtendedData:Ks,Region:Qs,Link:function(t,e){wo(Pf,t,e)},address:po(vs),description:po(vs),name:po(vs),open:po(hs),phoneNumber:po(vs),visibility:po(hs)});var Pf=bo(lf,{href:po(Bs)}),Tf=bo(lf,{LinearRing:co(Us)}),_f=bo(lf,{Style:po(Js),key:po(vs),styleUrl:po(Bs)});bo(lf,{ExtendedData:Ks,Region:Qs,MultiGeometry:po(Hs,"geometry"),LineString:po(Vs,"geometry"),LinearRing:po(Xs,"geometry"),Point:po($s,"geometry"),Polygon:po(Ys,"geometry"),Style:po(Js),StyleMap:function(t,e){var i=xo(void 0,Nf,t,e);if(i){var n=e[e.length-1];Array.isArray(i)?n.Style=i:"string"==typeof i?n.styleUrl=i:p(!1,38)}},address:po(vs),description:po(vs),name:po(vs),open:po(hs),phoneNumber:po(vs),styleUrl:po(Bs),visibility:po(hs)},bo(af,{MultiTrack:po(function(t,e){var i=xo([],jf,t,e);if(i){var n=new Ro(null);return zo(n,i),n}},"geometry"),Track:po(Ws,"geometry")}));var Af=bo(lf,{color:po(Fs),fill:po(hs),outline:po(hs)}),If=bo(lf,{SimpleData:function(t,e){var i=t.getAttribute("name");if(null!==i){var n=vs(t);e[e.length-1][i]=n}}}),Ef=bo(lf,{IconStyle:function(t,e){var i=xo({},xf,t,e);if(i){var n,r=e[e.length-1],o="Icon"in i?i.Icon:{},s=!("Icon"in i)||0<Object.keys(o).length;(c=o.href)?n=c:s&&(n=void 0);var a,l,u;(c=i.hotSpot)?(a=[c.x,c.y],l=c.wd,u=c.xd):void 0===n?u=l=a=void 0:/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(a=[.5,0],u=l="fraction");var h,c=o.x,f=o.y;void 0!==c&&void 0!==f&&(h=[c,f]);var p,c=o.w,o=o.h;void 0!==c&&void 0!==o&&(p=[c,o]);var d;void 0!==(o=i.heading)&&(d=b(o)),i=i.scale,s?(void 0==n&&(p=void 0,void 0===i&&(i=void 0)),s=new Rs({anchor:a,anchorOrigin:"bottom-left",anchorXUnits:l,anchorYUnits:u,crossOrigin:"anonymous",offset:h,offsetOrigin:"bottom-left",rotation:d,scale:i,size:p,src:n}),r.imageStyle=s):r.imageStyle=void 0}},LabelStyle:function(t,e){var i=xo({},Sf,t,e);i&&(e[e.length-1].textStyle=new qs({fill:new Kr({color:"color"in i?i.color:void 0}),scale:i.scale}))},LineStyle:function(t,e){var i=xo({},Cf,t,e);i&&(e[e.length-1].strokeStyle=new Tr({color:"color"in i?i.color:void 0,width:"width"in i?i.width:1}))},PolyStyle:function(t,e){var i=xo({},Af,t,e);if(i){var n=e[e.length-1];n.fillStyle=new Kr({color:"color"in i?i.color:void 0});var r=i.fill;void 0!==r&&(n.fill=r),void 0!==(i=i.outline)&&(n.outline=i)}}}),Nf=bo(lf,{Pair:function(t,e){var i=xo({},_f,t,e);if(i){var n=i.key;n&&"normal"==n&&((n=i.styleUrl)&&(e[e.length-1]=n),(i=i.Style)&&(e[e.length-1]=i))}}});bo(lf,["Document","Placemark"]),bo(lf,{Document:go(function(t,e,i){So({node:t},Lf,la,e,i,void 0,this)}),Placemark:go(na)});var Lf=bo(lf,{Placemark:go(na)}),Of=bo(lf,{Data:go(function(t,e,i){t.setAttribute("name",e.name),t={node:t},"object"==typeof(e=e.value)?(null!==e&&e.displayName&&So(t,Of,xc,[e.displayName],i,["displayName"]),null!==e&&e.value&&So(t,Of,xc,[e.value],i,["value"])):So(t,Of,xc,[e],i,["value"])}),value:go(function(t,e){xs(t,e)}),displayName:go(function(t,e){t.appendChild(wc.createCDATASection(e))})}),Df={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Rf=bo(lf,["href"],bo(af,["x","y","w","h"])),qf=bo(lf,{href:go(xs)},bo(af,{x:go(bs),y:go(bs),w:go(bs),h:go(bs)})),Ff=bo(lf,["scale","heading","Icon","hotSpot"]),zf=bo(lf,{Icon:go(function(t,e,i){t={node:t};var n=Rf[i[i.length-1].node.namespaceURI],r=yo(e,n);So(t,qf,xc,r,i,n),r=yo(e,n=Rf[af[0]]),So(t,qf,aa,r,i,n)}),heading:go(bs),hotSpot:go(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.wd),t.setAttribute("yunits",e.xd)}),scale:go(sa)}),Bf=bo(lf,["color","scale"]),Gf=bo(lf,{color:go(ta),scale:go(sa)}),Uf=bo(lf,["color","width"]),Wf=bo(lf,{color:go(ta),width:go(bs)}),Vf=bo(lf,{LinearRing:go(ra)}),Xf=bo(lf,{LineString:go(ra),Point:go(ra),Polygon:go(oa),GeometryCollection:go(ea)}),Hf=bo(lf,"name open visibility address phoneNumber description styleUrl Style".split(" ")),$f=bo(lf,{ExtendedData:go(function(t,e,i){t={node:t};var n=e.names;e=e.values;for(var r=n.length,o=0;o<r;o++)So(t,Of,ip,[{name:n[o],value:e[o]}],i)}),MultiGeometry:go(ea),LineString:go(ra),LinearRing:go(ra),Point:go(ra),Polygon:go(oa),Style:go(function(t,e,i){t={node:t};var n={},r=e.qa(),o=e.ma(),s=e.ia();e=e.na(),s instanceof Rs&&(n.IconStyle=s),e&&(n.LabelStyle=e),o&&(n.LineStyle=o),r&&(n.PolyStyle=r),n=yo(n,e=Kf[i[i.length-1].node.namespaceURI]),So(t,Qf,xc,n,i,e)}),address:go(xs),description:go(xs),name:go(xs),open:go(ys),phoneNumber:go(xs),styleUrl:go(xs),visibility:go(ys)}),Yf=bo(lf,{coordinates:go(function(t,e,i){var n=(i=i[i.length-1]).layout;i=i.stride;var r;"XY"==n||"XYM"==n?r=2:"XYZ"==n||"XYZM"==n?r=3:p(!1,34);var o,s=e.length,a="";if(0<s){for(a+=e[0],n=1;n<r;++n)a+=","+e[n];for(o=i;o<s;o+=i)for(a+=" "+e[o],n=1;n<r;++n)a+=","+e[o+n]}xs(t,a)})}),Jf=bo(lf,{outerBoundaryIs:go(ia),innerBoundaryIs:go(ia)}),Zf=bo(lf,{color:go(ta)}),Kf=bo(lf,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),Qf=bo(lf,{IconStyle:go(function(t,e,i){t={node:t};var n={},r=e.nb(),o=e.Ud(),s={href:e.b.u};if(r){s.w=r[0],s.h=r[1];var a=e.Sb(),l=e.dc();l&&o&&l[0]&&l[1]!==r[1]&&(s.x=l[0],s.y=o[1]-(l[1]+r[1])),a&&a[0]&&a[1]!==r[1]&&(n.hotSpot={x:a[0],wd:"pixels",y:r[1]-a[1],xd:"pixels"})}n.Icon=s,1!==(r=e.g)&&(n.scale=r),(e=e.o)&&(n.heading=e),n=yo(n,e=Ff[i[i.length-1].node.namespaceURI]),So(t,zf,xc,n,i,e)}),LabelStyle:go(function(t,e,i){t={node:t};var n={},r=e.qa();r&&(n.color=r.b),(e=e.b)&&1!==e&&(n.scale=e),n=yo(n,e=Bf[i[i.length-1].node.namespaceURI]),So(t,Gf,xc,n,i,e)}),LineStyle:go(function(t,e,i){t={node:t};var n=Uf[i[i.length-1].node.namespaceURI];e=yo({color:e.b,width:e.c},n),So(t,Wf,xc,e,i,n)}),PolyStyle:go(function(t,e,i){So({node:t},Zf,tp,[e.b],i)})}),tp=vo("color"),ep=vo("coordinates"),ip=vo("Data"),np=vo("ExtendedData"),rp=vo("innerBoundaryIs"),op=vo("Point"),sp=vo("LineString"),ap=vo("LinearRing"),lp=vo("Polygon"),up=vo("outerBoundaryIs");!function(){var e={},i={U:e};!function(t){if("object"==typeof e&&void 0!==i)i.U=t();else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).Si=t()}}(function(){return function e(i,n,r){function o(a,l){if(!n[a]){if(!i[a]){var u="function"==typeof t&&t;if(!l&&u)return u(a,!0);if(s)return s(a,!0);throw u=Error("Cannot find module '"+a+"'"),u.code="MODULE_NOT_FOUND",u}u=n[a]={U:{}},i[a][0].call(u.U,function(t){var e=i[a][1][t];return o(e||t)},u,u.U,e,i,n,r)}return n[a].U}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e){function i(t){this.Ta=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.L=0,this.length=this.Ta.length}function n(t,e,i){var n,o,s=i.Ta;if(o=s[i.L++],n=(112&o)>>4,128>o)return r(t,n,e);if(o=s[i.L++],n|=(127&o)<<3,128>o)return r(t,n,e);if(o=s[i.L++],n|=(127&o)<<10,128>o)return r(t,n,e);if(o=s[i.L++],n|=(127&o)<<17,128>o)return r(t,n,e);if(o=s[i.L++],n|=(127&o)<<24,128>o)return r(t,n,e);if(128>(o=s[i.L++]))return r(t,n|(1&o)<<31,e);throw Error("Expected varint not more than 10 bytes")}function r(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}e.U=i;var o=t("ieee754");i.c=0,i.a=1,i.b=2,i.f=5,i.prototype={hd:function(t,e,i){for(i=i||this.length;this.L<i;){var n=this.ja(),r=n>>3,o=this.L;this.type=7&n,t(r,e,this),this.L===o&&this.oi(n)}return e},$h:function(){var t=o.read(this.Ta,this.L,!0,23,4);return this.L+=4,t},Wh:function(){var t=o.read(this.Ta,this.L,!0,52,8);return this.L+=8,t},ja:function(t){var e,i,r=this.Ta;return i=r[this.L++],e=127&i,128>i?e:(i=r[this.L++],e|=(127&i)<<7,128>i?e:(i=r[this.L++],e|=(127&i)<<14,128>i?e:(i=r[this.L++],e|=(127&i)<<21,128>i?e:(i=r[this.L],n(e|(15&i)<<28,t,this)))))},gi:function(){return this.ja(!0)},md:function(){var t=this.ja();return 1==t%2?(t+1)/-2:t/2},Uh:function(){return!!this.ja()},od:function(){for(var t=this.ja()+this.L,e=this.Ta,i="",n=this.L;n<t;){var r=e[n],o=null,s=239<r?4:223<r?3:191<r?2:1;if(n+s>t)break;var a,l,u;1===s?128>r&&(o=r):2===s?128==(192&(a=e[n+1]))&&127>=(o=(31&r)<<6|63&a)&&(o=null):3===s?(a=e[n+1],l=e[n+2],128==(192&a)&&128==(192&l)&&(2047>=(o=(15&r)<<12|(63&a)<<6|63&l)||55296<=o&&57343>=o)&&(o=null)):4===s&&(a=e[n+1],l=e[n+2],u=e[n+3],128==(192&a)&&128==(192&l)&&128==(192&u)&&(65535>=(o=(15&r)<<18|(63&a)<<12|(63&l)<<6|63&u)||1114112<=o))&&(o=null),null===o?(o=65533,s=1):65535<o&&(o-=65536,i+=String.fromCharCode(o>>>10&1023|55296),o=56320|1023&o),i+=String.fromCharCode(o),n+=s}return this.L=t,i},oi:function(t){if((t&=7)===i.c)for(;127<this.Ta[this.L++];);else if(t===i.b)this.L=this.ja()+this.L;else if(t===i.f)this.L+=4;else{if(t!==i.a)throw Error("Unimplemented type: "+t);this.L+=8}}}},{ieee754:2}],2:[function(t,e,i){i.read=function(t,e,i,n,r){var o,s=(1<<(o=8*r-n-1))-1,a=s>>1,l=-7;r=i?r-1:0;var u=i?-1:1,h=t[e+r];for(r+=u,i=h&(1<<-l)-1,h>>=-l,l+=o;0<l;i=256*i+t[e+r],r+=u,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=n;0<l;o=256*o+t[e+r],r+=u,l-=8);if(0===i)i=1-a;else{if(i===s)return o?NaN:1/0*(h?-1:1);o+=Math.pow(2,n),i-=a}return(h?-1:1)*o*Math.pow(2,i-n)},i.write=function(t,e,i,n,r,o){var s,a=8*o-r-1,l=(1<<a)-1,u=l>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var c=n?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=l):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+u?e+h/s:e+h*Math.pow(2,1-u))*s&&(n++,s/=2),n+u>=l?(e=0,n=l):1<=n+u?(e=(e*s-1)*Math.pow(2,r),n+=u):(e=e*Math.pow(2,u-1)*Math.pow(2,r),n=0));8<=r;t[i+o]=255&e,o+=c,e/=256,r-=8);for(n=n<<r|e,a+=r;0<a;t[i+o]=255&n,o+=c,n/=256,a-=8);t[i+o-c]|=128*f}},{}]},{},[1])(1)})}(),function(){var e={},i={U:e};!function(t){if("object"==typeof e&&void 0!==i)i.U=t();else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).Vi=t()}}(function(){return function e(i,n,r){function o(a,l){if(!n[a]){if(!i[a]){var u="function"==typeof t&&t;if(!l&&u)return u(a,!0);if(s)return s(a,!0);throw u=Error("Cannot find module '"+a+"'"),u.code="MODULE_NOT_FOUND",u}u=n[a]={U:{}},i[a][0].call(u.U,function(t){var e=i[a][1][t];return o(e||t)},u,u.U,e,i,n,r)}return n[a].U}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e){e.U.Ni=t("./lib/vectortile.js"),e.U.Oi=t("./lib/vectortilefeature.js"),e.U.Pi=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":2,"./lib/vectortilefeature.js":3,"./lib/vectortilelayer.js":4}],2:[function(t,e){function i(t,e,i){3===t&&(t=new n(i,i.ja()+i.L)).length&&(e[t.name]=t)}var n=t("./vectortilelayer");e.U=function(t,e){this.layers=t.hd(i,{},e)}},{"./vectortilelayer":4}],3:[function(t,e){function i(t,e,i,r,o){this.properties={},this.extent=i,this.type=0,this.fb=t,this.Cd=-1,this.Lb=r,this.Nb=o,t.hd(n,this,e)}function n(t,e,i){if(1==t)e.id=i.ja();else if(2==t)for(t=i.ja()+i.L;i.L<t;){var n=e.Lb[i.ja()],r=e.Nb[i.ja()];e.properties[n]=r}else 3==t?e.type=i.ja():4==t&&(e.Cd=i.L)}t("point-geometry"),e.U=i,i.b=["Unknown","Point","LineString","Polygon"],i.prototype.bbox=function(){var t=this.fb;t.L=this.Cd;for(var e=t.ja()+t.L,i=1,n=0,r=0,o=0,s=1/0,a=-1/0,l=1/0,u=-1/0;t.L<e;)if(n||(n=t.ja(),i=7&n,n>>=3),n--,1===i||2===i)r+=t.md(),o+=t.md(),r<s&&(s=r),r>a&&(a=r),o<l&&(l=o),o>u&&(u=o);else if(7!==i)throw Error("unknown command "+i);return[s,l,a,u]}},{"point-geometry":5}],4:[function(t,e){function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.fb=t,this.Lb=[],this.Nb=[],this.Kb=[],t.hd(n,this,e),this.length=this.Kb.length}function n(t,e,i){15===t?e.version=i.ja():1===t?e.name=i.od():5===t?e.extent=i.ja():2===t?e.Kb.push(i.L):3===t?e.Lb.push(i.od()):4===t&&e.Nb.push(r(i))}function r(t){for(var e=null,i=t.ja()+t.L;t.L<i;)e=t.ja()>>3,e=1===e?t.od():2===e?t.$h():3===e?t.Wh():4===e?t.gi():5===e?t.ja():6===e?t.md():7===e?t.Uh():null;return e}var o=t("./vectortilefeature.js");e.U=i,i.prototype.feature=function(t){if(0>t||t>=this.Kb.length)throw Error("feature index out of bounds");return this.fb.L=this.Kb[t],t=this.fb.ja()+this.fb.L,new o(this.fb,t,this.extent,this.Lb,this.Nb)}},{"./vectortilefeature.js":3}],5:[function(t,e){function i(t,e){this.x=t,this.y=e}e.U=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone().vf(t)},rotate:function(t){return this.clone().Ef(t)},round:function(){return this.clone().Ff()},angle:function(){return Math.atan2(this.y,this.x)},vf:function(t){return this.x+=t.x,this.y+=t.y,this},Ef:function(t){var e=Math.cos(t),i=(t=Math.sin(t))*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=i,this},Ff:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.b=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{}]},{},[1])(1)})}();var hp=[null],cp=bo(hp,{nd:function(t,e){e[e.length-1].lb.push(t.getAttribute("ref"))},tag:ha});bo(hp,{node:function(t,e){var i=e[0],n=e[e.length-1],r=t.getAttribute("id"),o=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.Tg[r]=o;var s=xo({Hb:{}},fp,t,e);V(s.Hb)||(o=new Li(o),_o(o,!1,i),(i=new ro(o)).$a(r),i.oa(s.Hb),n.features.push(i))},way:function(t,e){for(var i=e[0],n=t.getAttribute("id"),r=xo({lb:[],Hb:{}},cp,t,e),s=e[e.length-1],a=[],l=0,u=r.lb.length;l<u;l++)o(a,s.Tg[r.lb[l]]);r.lb[0]==r.lb[r.lb.length-1]?(l=new Bi(null),Vi(l,"XY",a,[a.length])):(l=new Lo(null),Do(l,"XY",a)),_o(l,!1,i),(i=new ro(l)).$a(n),i.oa(r.Hb),s.features.push(i)}});var fp=bo(hp,{tag:ha}),pp=[null,"http://www.opengis.net/ows/1.1"];bo(pp,{ServiceIdentification:po(function(t,e){return xo({},kp,t,e)}),ServiceProvider:po(function(t,e){return xo({},jp,t,e)}),OperationsMetadata:po(function(t,e){return xo({},xp,t,e)})});var dp=bo(pp,{DeliveryPoint:po(vs),City:po(vs),AdministrativeArea:po(vs),PostalCode:po(vs),Country:po(vs),ElectronicMailAddress:po(vs)}),gp=bo(pp,{Value:fo(function(t){return vs(t)})}),mp=bo(pp,{AllowedValues:po(function(t,e){return xo({},gp,t,e)})}),vp=bo(pp,{Phone:po(function(t,e){return xo({},Mp,t,e)}),Address:po(function(t,e){return xo({},dp,t,e)})}),yp=bo(pp,{HTTP:po(function(t,e){return xo({},bp,t,e)})}),bp=bo(pp,{Get:fo(function(t,e){var i=ca(t);if(i)return xo({href:i},Sp,t,e)}),Post:void 0}),wp=bo(pp,{DCP:po(function(t,e){return xo({},yp,t,e)})}),xp=bo(pp,{Operation:function(t,e){var i=t.getAttribute("name"),n=xo({},wp,t,e);n&&(e[e.length-1][i]=n)}}),Mp=bo(pp,{Voice:po(vs),Facsimile:po(vs)}),Sp=bo(pp,{Constraint:fo(function(t,e){var i=t.getAttribute("name");if(i)return xo({name:i},mp,t,e)})}),Cp=bo(pp,{IndividualName:po(vs),PositionName:po(vs),ContactInfo:po(function(t,e){return xo({},vp,t,e)})}),kp=bo(pp,{Title:po(vs),ServiceTypeVersion:po(vs),ServiceType:po(vs)}),jp=bo(pp,{ProviderName:po(vs),ProviderSite:po(ca),ServiceContact:po(function(t,e){return xo({},Cp,t,e)})});u(fa,Ao),fa.prototype.gd=function(t,e){if("Topology"==t.type){var i,n=null,r=null;t.transform&&(i=t.transform,n=i.scale,r=i.translate);var o=t.arcs;if(i){i=n;var s,a,l=r;for(s=0,a=o.length;s<a;++s){var u,h,c,f=o[s],p=i,d=l,g=0,m=0;for(h=0,u=f.length;h<u;++h)c=f[h],g+=c[0],m+=c[1],c[0]=g,c[1]=m,ma(c,p,d)}}for(i=[],s=0,a=(l=W(t.objects)).length;s<a;++s)"GeometryCollection"===l[s].type?(u=l[s],i.push.apply(i,da(u,o,n,r,e))):(u=l[s],i.push(ga(u,o,n,r,e)));return i}return[]},fa.prototype.ld=function(){return this.defaultDataProjection};var Pp={Point:function(t,e,i){return t=t.coordinates,e&&i&&ma(t,e,i),new Li(t)},LineString:function(t,e){return new Lo(pa(t.arcs,e))},Polygon:function(t,e){var i,n,r=[];for(i=0,n=t.arcs.length;i<n;++i)r[i]=pa(t.arcs[i],e);return new Bi(r)},MultiPoint:function(t,e,i){t=t.coordinates;var n,r;if(e&&i)for(n=0,r=t.length;n<r;++n)ma(t[n],e,i);return new Bo(t)},MultiLineString:function(t,e){var i,n,r=[];for(i=0,n=t.arcs.length;i<n;++i)r[i]=pa(t.arcs[i],e);return new Ro(r)},MultiPolygon:function(t,e){var i,n,r,o,s,a,l=[];for(s=0,a=t.arcs.length;s<a;++s){for(n=[],r=0,o=(i=t.arcs[s]).length;r<o;++r)n[r]=pa(i[r],e);l[s]=n}return new Uo(l)}};fa.prototype.sb=function(){},fa.prototype.vd=function(){},fa.prototype.Za=function(){},u(va,os);var Tp={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};va.prototype.fd=function(t,e){var i={featureType:this.c,featureNS:this.f};return bh(i,Po(this,t,e||{})),i=[i],this.b.b["http://www.opengis.net/gml"].featureMember=ho(ls.prototype.Gb),(i=xo([],this.b.b,t,i,this.b))||(i=[]),i},va.prototype.g=function(t){return t instanceof Document?ya(t):t instanceof Node?xo({},Ep,t,[]):"string"==typeof t?(t=uo(t),ya(t)):void 0};var _p={"http://www.opengis.net/wfs":{totalInserted:po(gs),totalUpdated:po(gs),totalDeleted:po(gs)}},Ap={"http://www.opengis.net/ogc":{FeatureId:ho(function(t){return t.getAttribute("fid")})}},Ip={"http://www.opengis.net/wfs":{Feature:function(t,e){wo(Ap,t,e)}}},Ep={"http://www.opengis.net/wfs":{TransactionSummary:po(function(t,e){return xo({},_p,t,e)},"transactionSummary"),InsertResults:po(function(t,e){return xo([],Ip,t,e)},"insertIds")}},Np={"http://www.opengis.net/wfs":{Insert:go(function(t,e,i){var n=(r=i[i.length-1]).gmlVersion,r=so(r.featureNS,r.featureType);if(t.appendChild(r),2===n){var o=Cs.prototype;(t=e.a)&&r.setAttribute("fid",t);var n=(t=i[i.length-1]).featureNS,s=e.c;t.wa||(t.wa={},t.wa[n]={});var a=e.Fa();e=[];var l,u=[];for(l in a){var h=a[l];null!==h&&(e.push(l),u.push(h),l==s||h instanceof pi?l in t.wa[n]||(t.wa[n][l]=go(o.ee,o)):l in t.wa[n]||(t.wa[n][l]=go(xs)))}l=bh({},t)}else{l=Ms.prototype,(t=e.a)&&r.setAttribute("fid",t),n=(t=i[i.length-1]).featureNS,s=e.c,t.wa||(t.wa={},t.wa[n]={}),a=e.Fa(),e=[],u=[];for(o in a)null!==(h=a[o])&&(e.push(o),u.push(h),o==s||h instanceof pi?o in t.wa[n]||(t.wa[n][o]=go(l.me,l)):o in t.wa[n]||(t.wa[n][o]=go(xs)));l=bh({},t)}l.node=r,So(l,t.wa,vo(void 0,n),u,i,e)}),Update:go(function(t,e,i){var n=i[i.length-1];p(void 0!==e.a,27);var r=n.featureType,o=(o=n.featurePrefix)||"feature",s=n.featureNS;if(t.setAttribute("typeName",o+":"+r),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,s),void 0!==(r=e.a)){for(var s=[],a=0,l=(o=Object.keys(e.K)).length;a<l;a++){var u=e.get(o[a]);void 0!==u&&s.push({name:o[a],value:u})}So({gmlVersion:n.gmlVersion,node:t,srsName:n.srsName},Np,vo("Property"),s,i),ba(t,r)}}),Delete:go(function(t,e,i){r=i[i.length-1];p(void 0!==e.a,26),i=r.featureType;var n=(n=r.featurePrefix)||"feature",r=r.featureNS;t.setAttribute("typeName",n+":"+i),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+n,r),void 0!==(e=e.a)&&ba(t,e)}),Property:go(function(t,e,i){var n=so("http://www.opengis.net/wfs","Name"),r=i[i.length-1].gmlVersion;t.appendChild(n),xs(n,e.name),void 0!==e.value&&null!==e.value&&(n=so("http://www.opengis.net/wfs","Value"),t.appendChild(n),e.value instanceof pi?2===r?Cs.prototype.ee(n,e.value,i):Ms.prototype.me(n,e.value,i):xs(n,e.value))}),Native:go(function(t,e){e.xi&&t.setAttribute("vendorId",e.xi),void 0!==e.mi&&t.setAttribute("safeToIgnore",e.mi),void 0!==e.value&&xs(t,e.value)})}};va.prototype.i=function(t,e,i,n){var r=[],o=so("http://www.opengis.net/wfs","Transaction"),s=n.version?n.version:"1.1.0",a="1.0.0"===s?2:3;o.setAttribute("service","WFS"),o.setAttribute("version",s);var l;return n&&(l=n.gmlOptions?n.gmlOptions:{},n.handle&&o.setAttribute("handle",n.handle)),o.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",Tp[s]),t&&(s={node:o,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,gmlVersion:a,srsName:n.srsName},bh(s,l),So(s,Np,vo("Insert"),t,r)),e&&(s={node:o,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,gmlVersion:a,srsName:n.srsName},bh(s,l),So(s,Np,vo("Update"),e,r)),i&&So({node:o,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,gmlVersion:a,srsName:n.srsName},Np,vo("Delete"),i,r),n.nativeElements&&So({node:o,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,gmlVersion:a,srsName:n.srsName},Np,vo("Native"),n.nativeElements,r),o},va.prototype.kd=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.jc(t);return null},va.prototype.jc=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=t.firstElementChild.firstElementChild,t=t.firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return us(this.b,t,e),ot(e.pop().srsName)}return null},u(wa,Ls);var Lp={Point:xa,LineString:Ma,Polygon:Sa,MultiPoint:function(t){for(var e=[],i=0,n=(t=Go(t)).length;i<n;++i)e.push("("+xa(t[i])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],i=0,n=(t=t.hb()).length;i<n;++i)e.push("("+Ma(t[i])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],i=0,n=(t=Xo(t)).length;i<n;++i)e.push("("+Sa(t[i])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],i=0,n=(t=Qo(t.a)).length;i<n;++i)e.push(Ca(t[i]));return e.join(",")}};(sh=Ta.prototype).dd=function(){if(Aa(this,2)){var t=Ea(this);if(Aa(this,3))return t}else if(Oa(this))return null;throw Error(Da(this))},sh.cd=function(){if(Aa(this,2)){var t=Na(this);if(Aa(this,3))return t}else if(Oa(this))return[];throw Error(Da(this))},sh.ed=function(){if(Aa(this,2)){var t=La(this);if(Aa(this,3))return t}else if(Oa(this))return[];throw Error(Da(this))},sh.Jh=function(){if(Aa(this,2)){var t;if(2==this.b.type)for(t=[this.dd()];Aa(this,5);)t.push(this.dd());else t=Na(this);if(Aa(this,3))return t}else if(Oa(this))return[];throw Error(Da(this))},sh.Ih=function(){if(Aa(this,2)){var t=La(this);if(Aa(this,3))return t}else if(Oa(this))return[];throw Error(Da(this))},sh.Kh=function(){if(Aa(this,2)){for(var t=[this.ed()];Aa(this,5);)t.push(this.ed());if(Aa(this,3))return t}else if(Oa(this))return[];throw Error(Da(this))};var Op={POINT:Li,LINESTRING:Lo,POLYGON:Bi,MULTIPOINT:Bo,MULTILINESTRING:Ro,MULTIPOLYGON:Uo},Dp={POINT:Ta.prototype.dd,LINESTRING:Ta.prototype.cd,POLYGON:Ta.prototype.ed,MULTIPOINT:Ta.prototype.Jh,MULTILINESTRING:Ta.prototype.Ih,MULTIPOLYGON:Ta.prototype.Kh},Rp=[null,"http://www.opengis.net/wms"];bo(Rp,{Service:po(function(t,e){return xo({},Fp,t,e)}),Capability:po(function(t,e){return xo({},qp,t,e)})});var qp=bo(Rp,{Request:po(function(t,e){return xo({},Hp,t,e)}),Exception:po(function(t,e){return xo([],Up,t,e)}),Layer:po(function(t,e){return xo({},Wp,t,e)})}),Fp=bo(Rp,{Name:po(vs),Title:po(vs),Abstract:po(vs),KeywordList:po(za),OnlineResource:po(ca),ContactInformation:po(function(t,e){return xo({},zp,t,e)}),Fees:po(vs),AccessConstraints:po(vs),LayerLimit:po(gs),MaxWidth:po(gs),MaxHeight:po(gs)}),zp=bo(Rp,{ContactPersonPrimary:po(function(t,e){return xo({},Bp,t,e)}),ContactPosition:po(vs),ContactAddress:po(function(t,e){return xo({},Gp,t,e)}),ContactVoiceTelephone:po(vs),ContactFacsimileTelephone:po(vs),ContactElectronicMailAddress:po(vs)}),Bp=bo(Rp,{ContactPerson:po(vs),ContactOrganization:po(vs)}),Gp=bo(Rp,{AddressType:po(vs),Address:po(vs),City:po(vs),StateOrProvince:po(vs),PostCode:po(vs),Country:po(vs)}),Up=bo(Rp,{Format:ho(vs)}),Wp=bo(Rp,{Name:po(vs),Title:po(vs),Abstract:po(vs),KeywordList:po(za),CRS:fo(vs),EX_GeographicBoundingBox:po(function(t,e){if(o=xo({},Xp,t,e)){var i=o.westBoundLongitude,n=o.southBoundLatitude,r=o.eastBoundLongitude,o=o.northBoundLatitude;if(void 0!==i&&void 0!==n&&void 0!==r&&void 0!==o)return[i,n,r,o]}}),BoundingBox:fo(function(t){var e=[ds(t.getAttribute("minx")),ds(t.getAttribute("miny")),ds(t.getAttribute("maxx")),ds(t.getAttribute("maxy"))],i=[ds(t.getAttribute("resx")),ds(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}}),Dimension:fo(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:cs(t.getAttribute("multipleValues")),nearestValue:cs(t.getAttribute("nearestValue")),current:cs(t.getAttribute("current")),values:vs(t)}}),Attribution:po(function(t,e){return xo({},Vp,t,e)}),AuthorityURL:fo(function(t,e){var i=Ra(t,e);if(i)return i.name=t.getAttribute("name"),i}),Identifier:fo(vs),MetadataURL:fo(function(t,e){var i=Ra(t,e);if(i)return i.type=t.getAttribute("type"),i}),DataURL:fo(Ra),FeatureListURL:fo(Ra),Style:fo(function(t,e){return xo({},Zp,t,e)}),MinScaleDenominator:po(ps),MaxScaleDenominator:po(ps),Layer:fo(function(t,e){var i=e[e.length-1],n=xo({},Wp,t,e);if(n){var r=cs(t.getAttribute("queryable"));return void 0===r&&(r=i.queryable),n.queryable=void 0!==r&&r,void 0===(r=ms(t.getAttribute("cascaded")))&&(r=i.cascaded),n.cascaded=r,void 0===(r=cs(t.getAttribute("opaque")))&&(r=i.opaque),n.opaque=void 0!==r&&r,void 0===(r=cs(t.getAttribute("noSubsets")))&&(r=i.noSubsets),n.noSubsets=void 0!==r&&r,(r=ds(t.getAttribute("fixedWidth")))||(r=i.fixedWidth),n.fixedWidth=r,(r=ds(t.getAttribute("fixedHeight")))||(r=i.fixedHeight),n.fixedHeight=r,["Style","CRS","AuthorityURL"].forEach(function(t){t in i&&(n[t]=(n[t]||[]).concat(i[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in n||(n[t]=i[t])}),n}})}),Vp=bo(Rp,{Title:po(vs),OnlineResource:po(ca),LogoURL:po(Fa)}),Xp=bo(Rp,{westBoundLongitude:po(ps),eastBoundLongitude:po(ps),southBoundLatitude:po(ps),northBoundLatitude:po(ps)}),Hp=bo(Rp,{GetCapabilities:po(qa),GetMap:po(qa),GetFeatureInfo:po(qa)}),$p=bo(Rp,{Format:fo(vs),DCPType:fo(function(t,e){return xo({},Yp,t,e)})}),Yp=bo(Rp,{HTTP:po(function(t,e){return xo({},Jp,t,e)})}),Jp=bo(Rp,{Get:po(Ra),Post:po(Ra)}),Zp=bo(Rp,{Name:po(vs),Title:po(vs),Abstract:po(vs),LegendURL:fo(Fa),StyleSheetURL:po(Ra),StyleURL:po(Ra)}),Kp=bo(Rp,{Format:po(vs),OnlineResource:po(ca)}),Qp=bo(Rp,{Keyword:ho(vs)}),td=[null,"http://www.opengis.net/wmts/1.0"],ed=[null,"http://www.opengis.net/ows/1.1"];bo(td,{Contents:po(function(t,e){return xo({},id,t,e)})});var id=bo(td,{Layer:fo(function(t,e){return xo({},nd,t,e)}),TileMatrixSet:fo(function(t,e){return xo({},hd,t,e)})}),nd=bo(td,{Style:fo(function(t,e){var i=xo({},rd,t,e);if(i){var n="true"===t.getAttribute("isDefault");return i.isDefault=n,i}}),Format:fo(vs),TileMatrixSetLink:fo(function(t,e){return xo({},od,t,e)}),Dimension:fo(function(t,e){return xo({},ld,t,e)}),ResourceURL:fo(function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),i&&(n.template=i),t&&(n.resourceType=t),n})},bo(ed,{Title:po(vs),Abstract:po(vs),WGS84BoundingBox:po(function(t,e){var i=xo([],ud,t,e);if(2==i.length)return k(i)}),Identifier:po(vs)})),rd=bo(td,{LegendURL:fo(function(t){var e={};return e.format=t.getAttribute("format"),e.href=ca(t),e})},bo(ed,{Title:po(vs),Identifier:po(vs)})),od=bo(td,{TileMatrixSet:po(vs),TileMatrixSetLimits:po(function(t,e){return xo([],sd,t,e)})}),sd=bo(td,{TileMatrixLimits:ho(function(t,e){return xo({},ad,t,e)})}),ad=bo(td,{TileMatrix:po(vs),MinTileRow:po(gs),MaxTileRow:po(gs),MinTileCol:po(gs),MaxTileCol:po(gs)}),ld=bo(td,{Default:po(vs),Value:fo(vs)},bo(ed,{Identifier:po(vs)})),ud=bo(ed,{LowerCorner:ho(Ba),UpperCorner:ho(Ba)}),hd=bo(td,{WellKnownScaleSet:po(vs),TileMatrix:fo(function(t,e){return xo({},cd,t,e)})},bo(ed,{SupportedCRS:po(vs),Identifier:po(vs)})),cd=bo(td,{TopLeftCorner:po(Ba),ScaleDenominator:po(ps),TileWidth:po(gs),TileHeight:po(gs),MatrixWidth:po(gs),MatrixHeight:po(gs)},bo(ed,{Identifier:po(vs)}));u(Ga,Ut),(sh=Ga.prototype).ka=function(){this.mc(!1),Ut.prototype.ka.call(this)},sh.rg=function(){var t=this.get("projection");t&&(this.g=lt(ot("EPSG:4326"),t),this.a&&this.set("position",this.g(this.a)))},sh.xg=function(){if(Hh){var t=this.Wd();t&&void 0===this.c?this.c=navigator.geolocation.watchPosition(this.Rh.bind(this),this.Sh.bind(this),this.get("trackingOptions")):t||void 0===this.c||(navigator.geolocation.clearWatch(this.c),this.c=void 0)}},sh.Rh=function(t){n=t.coords;this.set("accuracy",n.accuracy),this.set("altitude",null===n.altitude?void 0:n.altitude),this.set("altitudeAccuracy",null===n.altitudeAccuracy?void 0:n.altitudeAccuracy),this.set("heading",null===n.heading?void 0:b(n.heading)),this.a?(this.a[0]=n.longitude,this.a[1]=n.latitude):this.a=[n.longitude,n.latitude],t=this.g(this.a),this.set("position",t),this.set("speed",null===n.speed?void 0:n.speed),t=this.a;var e,i=n.accuracy,n=[];for(e=0;32>e;++e)o(n,jh.offset(t,i,2*Math.PI*e/32));n.push(n[0],n[1]),Vi(t=new Bi(null),"XY",n,[n.length]),t.vb(this.g),this.set("accuracyGeometry",t),this.b()},sh.Sh=function(t){t.type="error",this.mc(!1),zt(this,t)},sh.Sf=function(){return this.get("accuracy")},sh.Xf=function(){return this.get("heading")},sh.Wg=function(){return this.get("position")},sh.bg=function(){return this.get("speed")},sh.Wd=function(){return this.get("tracking")},sh.mc=function(t){this.set("tracking",t)},u(Ua,gi),(sh=Ua.prototype).clone=function(){var t=new Ua(null);return vi(t,this.X,this.l.slice()),t.b(),t},sh.Ha=function(t,e,i,n){var r=this.l;t-=r[0];var o=e-r[1];if((e=t*t+o*o)<n){if(e)for(n=this.Zc()/Math.sqrt(e),i[0]=r[0]+n*t,i[1]=r[1]+n*o,n=2;n<this.A;++n)i[n]=r[n];else for(n=0;n<this.A;++n)i[n]=r[n];return i.length=this.A,e}return n},sh.ha=function(){return this.l.slice(0,this.A)},sh.Rb=function(t){var e=this.l,i=e[this.A]-e[0];return I(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},sh.Zc=function(){var t=this.l[this.A]-this.l[0],e=this.l[this.A+1]-this.l[1];return Math.sqrt(t*t+e*e)},sh.H=function(){return"Circle"},sh.Ka=function(t){var e=this.A,i=t.slice();i[e]=i[0]+(this.l[e]-this.l[0]);var n;for(n=1;n<e;++n)i[e+n]=t[n];vi(this,this.X,i),this.b()},sh.D=function(){},sh.Y=function(){},sh.Re=function(t){this.l[this.A]=this.l[0]+t,this.b()},u(Va,Ft),Va.prototype.Xa=function(){return this.key+"/"+this.Oa},u(Ha,Va),(sh=Ha.prototype).ka=function(){1==this.state&&$a(this),this.b&&Dt(this.b),this.state=5,Xa(this),Va.prototype.ka.call(this)},sh.ia=function(){return this.N},sh.Xa=function(){return this.a},sh.Xg=function(){this.state=3,$a(this),Xa(this)},sh.Yg=function(){this.state=this.N.naturalWidth&&this.N.naturalHeight?2:4,$a(this),Xa(this)},sh.load=function(){0!=this.state&&3!=this.state||(this.state=1,Xa(this),this.f=[Et(this.N,"error",this.Xg,this,!0),Et(this.N,"load",this.Yg,this,!0)],this.c(this,this.a))},u(Ya,yr),Ya.prototype.la=function(t,e){if(this.Aa){var i=ur(this.V,this.Aa.slice());t.translate(i[0],i[1]),t.rotate(e)}t.fill(),this.Aa&&t.setTransform.apply(t,this.W)},Ya.prototype.bc=h,Ya.prototype.Oc=function(){return this.I},u(el,Ya),el.prototype.Kc=function(t,e){if(this.N){Za(this,e);var i=t.l,n=this.coordinates.length,i=Ja(this,i,0,i.length,t.A,!1,!1);this.f.push([4,n,i,this.N,this.a,this.g,this.i,this.u,this.s,this.C,this.j,this.o,this.K,this.B,this.v]),this.b.push([4,n,i,this.G,this.a,this.g,this.i,this.u,this.s,this.C,this.j,this.o,this.K,this.B,this.v]),tl(this,e)}},el.prototype.Ic=function(t,e){if(this.N){Za(this,e);var i=t.l,n=this.coordinates.length,i=Ja(this,i,0,i.length,t.A,!1,!1);this.f.push([4,n,i,this.N,this.a,this.g,this.i,this.u,this.s,this.C,this.j,this.o,this.K,this.B,this.v]),this.b.push([4,n,i,this.G,this.a,this.g,this.i,this.u,this.s,this.C,this.j,this.o,this.K,this.B,this.v]),tl(this,e)}},el.prototype.bc=function(){Qa(this),this.g=this.a=void 0,this.N=this.G=null,this.v=this.B=this.o=this.j=this.C=this.s=this.u=this.K=this.i=void 0},el.prototype.lc=function(t){var e=t.Sb(),i=t.nb(),n=t.Be(1),r=t.ia(1),o=t.dc();this.a=e[0],this.g=e[1],this.G=n,this.N=r,this.i=i[1],this.u=t.i,this.s=o[0],this.C=o[1],this.j=t.s,this.o=t.o,this.K=t.g,this.B=t.K,this.v=i[0]},u(il,Ya),(sh=il.prototype).Oc=function(){return this.g||(this.g=P(this.I),0<this.c&&j(this.g,this.resolution*(this.c+1)/2,this.g)),this.g},sh.Gc=function(t,e){var i=this.a,n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(rl(this),Za(this,e),this.b.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset,!0,1],[1]),i=t.l,nl(this,i,0,i.length,t.A),this.b.push([12]),tl(this,e))},sh.Hc=function(t,e){o=(r=this.a).lineWidth;if(void 0!==r.strokeStyle&&void 0!==o){rl(this),Za(this,e),this.b.push([10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset,!0,1],[1]);var i,n,r=t.gb(),o=t.l,s=t.A,a=0;for(i=0,n=r.length;i<n;++i)a=nl(this,o,a,r[i],s);this.b.push([12]),tl(this,e)}},sh.bc=function(){this.a.Vc!=this.coordinates.length&&this.f.push([12]),Qa(this),this.a=null},sh.Sa=function(t,e){var i=e.b;this.a.strokeStyle=ee(i||lc),i=e.g,this.a.lineCap=void 0!==i?i:"round",i=e.f,this.a.lineDash=i||ac,i=e.j,this.a.lineDashOffset=i||0,i=e.i,this.a.lineJoin=void 0!==i?i:"round",i=e.c,this.a.lineWidth=void 0!==i?i:1,i=e.u,this.a.miterLimit=void 0!==i?i:10,this.a.lineWidth>this.c&&(this.c=this.a.lineWidth,this.g=null)},u(ol,Ya),(sh=ol.prototype).Fc=function(t,e){var i=this.a,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){al(this,t),Za(this,e),this.b.push([9,Qt(sc)]),void 0!==i.strokeStyle&&this.b.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset,!0,1]);var r=t.l,n=this.coordinates.length;Ja(this,r,0,r.length,t.A,!1,!1),r=[1],n=[2,n],this.f.push(r,n),this.b.push(r,n),n=[7],this.b.push(n),void 0!==i.fillStyle&&this.f.push(n),void 0!==i.strokeStyle&&(i=[12],this.f.push(i),this.b.push(i)),tl(this,e)}},sh.Lc=function(t,e){i=this.a;al(this,t),Za(this,e),this.b.push([9,Qt(sc)]),void 0!==i.strokeStyle&&this.b.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset,!0,1]);var i=t.gb();sl(this,Wi(t),0,i,t.A),tl(this,e)},sh.Jc=function(t,e){o=(r=this.a).strokeStyle;if(void 0!==r.fillStyle||void 0!==o){al(this,t),Za(this,e),this.b.push([9,Qt(sc)]),void 0!==r.strokeStyle&&this.b.push([10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset,!0,1]);var i,n,r=t.a,o=Vo(t),s=t.A,a=0;for(i=0,n=r.length;i<n;++i)a=sl(this,o,a,r[i],s);tl(this,e)}},sh.bc=function(){Qa(this),this.a=null;var t=this.La;if(t){var e,i,n=this.coordinates;for(e=0,i=n.length;e<i;++e)n[e]=t*Math.round(n[e]/t)}},sh.Oc=function(){return this.g||(this.g=P(this.I),0<this.c&&j(this.g,this.resolution*(this.c+1)/2,this.g)),this.g},sh.Sa=function(t,e){var i=this.a;if(t){var n=t.b;i.fillStyle=ee(n||sc)}else i.fillStyle=void 0;e?(n=e.b,i.strokeStyle=ee(n||lc),n=e.g,i.lineCap=void 0!==n?n:"round",n=e.f,i.lineDash=n?n.slice():ac,n=e.j,i.lineDashOffset=n||0,n=e.i,i.lineJoin=void 0!==n?n:"round",n=e.c,i.lineWidth=void 0!==n?n:1,n=e.u,i.miterLimit=void 0!==n?n:10,i.lineWidth>this.c&&(this.c=i.lineWidth,this.g=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},u(ll,Ya),ll.prototype.Qa=function(t,e,i,n,r,o){if(""!==this.ea&&this.i&&(this.a||this.g)){if(this.a){r=this.a;var s=this.v;if(!s||s.fillStyle!=r.fillStyle){var a=[9,r.fillStyle];this.f.push(a),this.b.push(a),s?s.fillStyle=r.fillStyle:this.v={fillStyle:r.fillStyle}}}this.g&&(r=this.g,(s=this.s)&&s.lineCap==r.lineCap&&s.lineDash==r.lineDash&&s.lineDashOffset==r.lineDashOffset&&s.lineJoin==r.lineJoin&&s.lineWidth==r.lineWidth&&s.miterLimit==r.miterLimit&&s.strokeStyle==r.strokeStyle||(a=[10,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset,!1,1],this.f.push(a),this.b.push(a),s?(s.lineCap=r.lineCap,s.lineDash=r.lineDash,s.lineDashOffset=r.lineDashOffset,s.lineJoin=r.lineJoin,s.lineWidth=r.lineWidth,s.miterLimit=r.miterLimit,s.strokeStyle=r.strokeStyle):this.s={lineCap:r.lineCap,lineDash:r.lineDash,lineDashOffset:r.lineDashOffset,lineJoin:r.lineJoin,lineWidth:r.lineWidth,miterLimit:r.miterLimit,strokeStyle:r.strokeStyle})),r=this.i,(s=this.C)&&s.font==r.font&&s.textAlign==r.textAlign&&s.textBaseline==r.textBaseline||(a=[11,r.font,r.textAlign,r.textBaseline],this.f.push(a),this.b.push(a),s?(s.font=r.font,s.textAlign=r.textAlign,s.textBaseline=r.textBaseline):this.C={font:r.font,textAlign:r.textAlign,textBaseline:r.textBaseline}),Za(this,o),t=[5,r=this.coordinates.length,t=Ja(this,t,e,i,n,!1,!1),this.ea,this.u,this.j,this.K,this.B,!!this.a,!!this.g,this.o],this.f.push(t),this.b.push(t),tl(this,o)}},ll.prototype.Na=function(t){if(t){if((e=t.qa())?(e=e.b,e=ee(e||sc),this.a?this.a.fillStyle=e:this.a={fillStyle:e}):this.a=null,a=t.ma()){var e=a.b,i=a.g,n=a.f,r=a.j,o=a.i,s=a.c,a=a.u,i=void 0!==i?i:"round",n=n?n.slice():ac,r=void 0!==r?r:0,o=void 0!==o?o:"round",s=void 0!==s?s:1,a=void 0!==a?a:10,e=ee(e||lc);this.g?((u=this.g).lineCap=i,u.lineDash=n,u.lineDashOffset=r,u.lineJoin=o,u.lineWidth=s,u.miterLimit=a,u.strokeStyle=e):this.g={lineCap:i,lineDash:n,lineDashOffset:r,lineJoin:o,lineWidth:s,miterLimit:a,strokeStyle:e}}else this.g=null;var l=t.f,e=t.a,i=t.c,n=t.g,s=t.i,a=t.b,r=t.na(),o=t.u,u=t.j;t=void 0!==l?l:"10px sans-serif",o=void 0!==o?o:"center",u=void 0!==u?u:"middle",this.i?(l=this.i,l.font=t,l.textAlign=o,l.textBaseline=u):this.i={font:t,textAlign:o,textBaseline:u},this.ea=void 0!==r?r:"",this.u=void 0!==e?e:0,this.j=void 0!==i?i:0,this.o=void 0!==n&&n,this.K=void 0!==s?s:0,this.B=void 0!==a?a:1}else this.ea=""},u(ul,function(){});var fd={0:[[!0]]},pd={Circle:ol,Image:el,LineString:il,Polygon:ol,Text:ll};u(vl,Gt),vl.prototype.o=h,u(Ml,vl),Ml.prototype.B=function(t,e,i,n){if(this.o(t,e,0,ci,this))return i.call(n,this.a,null)};var dd={Point:function(t,e,i,n){var r=i.ia();if(r){if(2!=r.cc())return;var o=dl(t,i.ra(),"Image");o.lc(r),o.Kc(e,n)}(r=i.na())&&((t=dl(t,i.ra(),"Text")).Na(r),t.Qa(e.l,0,2,2,e,n))},LineString:function(t,e,i,n){var r=i.ma();if(r){var o=dl(t,i.ra(),"LineString");o.Sa(null,r),o.Gc(e,n)}(r=i.na())&&((t=dl(t,i.ra(),"Text")).Na(r),t.Qa(Oo(e),0,2,2,e,n))},Polygon:function(t,e,i,n){var r=i.qa(),o=i.ma();if(r||o){var s=dl(t,i.ra(),"Polygon");s.Sa(r,o),s.Lc(e,n)}(r=i.na())&&((t=dl(t,i.ra(),"Text")).Na(r),t.Qa(Gi(e),0,2,2,e,n))},MultiPoint:function(t,e,i,n){var r=i.ia();if(r){if(2!=r.cc())return;var o=dl(t,i.ra(),"Image");o.lc(r),o.Ic(e,n)}(r=i.na())&&((t=dl(t,i.ra(),"Text")).Na(r),i=e.l,t.Qa(i,0,i.length,e.A,e,n))},MultiLineString:function(t,e,i,n){var r=i.ma();if(r){var o=dl(t,i.ra(),"LineString");o.Sa(null,r),o.Hc(e,n)}(r=i.na())&&((t=dl(t,i.ra(),"Text")).Na(r),i=qo(e),t.Qa(i,0,i.length,2,e,n))},MultiPolygon:function(t,e,i,n){var r=i.qa(),o=i.ma();if(o||r){var s=dl(t,i.ra(),"Polygon");s.Sa(r,o),s.Jc(e,n)}(r=i.na())&&((t=dl(t,i.ra(),"Text")).Na(r),i=Wo(e),t.Qa(i,0,i.length,2,e,n))},GeometryCollection:function(t,e,i,n){var r,o;for(r=0,o=(e=e.a).length;r<o;++r)(0,dd[e[r].H()])(t,e[r],i,n)},Circle:function(t,e,i,n){var r=i.qa(),o=i.ma();if(r||o){var s=dl(t,i.ra(),"Circle");s.Sa(r,o),s.Fc(e,n)}(r=i.na())&&((t=dl(t,i.ra(),"Text")).Na(r),t.Qa(e.ha(),0,2,2,e,n))}};u(_l,Ml),_l.prototype.v=function(t,e,i){var n=t.extent,r=t.pixelRatio,o=e.Xc?t.skippedFeatureUids:{},s=(a=t.viewState).projection,a=a.rotation,l=s.J(),u=this.a.da(),h=kl(this,t,0);Cl(this,"precompose",i,t,h);var c=e.extent,f=void 0!==c;if(f&&Sl(i,t,c),(c=this.g)&&!V(c.b)){var p,d=0,g=0;if(Bt(this.a,"render")){p=i.canvas.width;var m=i.canvas.height;if(a){var v=Math.round(Math.sqrt(p*p+m*m)),d=(v-p)/2,g=(v-m)/2;p=m=v}this.i.canvas.width=p,this.i.canvas.height=m,p=this.i}else p=i;if(m=p.globalAlpha,p.globalAlpha=e.opacity,p!=i&&p.translate(d,g),e=t.size[0]*r,v=t.size[1]*r,vr(p,-a,e/2,v/2),gl(c,p,r,h,a,o),u.C&&s.c&&!_(l,n)){for(var s=n[0],u=B(l),y=0;s<l[0];)--y,h=u*y,h=kl(this,t,h),gl(c,p,r,h,a,o),s+=u;for(y=0,s=n[2];s>l[2];)++y,h=u*y,h=kl(this,t,h),gl(c,p,r,h,a,o),s-=u;h=kl(this,t,0)}vr(p,a,e/2,v/2),p!=i&&(Cl(this,"render",p,t,h),i.drawImage(p.canvas,-d,-g),p.translate(-d,-g)),p.globalAlpha=m}f&&i.restore(),Cl(this,"postcompose",i,t,h)},_l.prototype.o=function(t,e,i,n,r){if(this.g){var o=this.a,s={};return pl(this.g,t,e.viewState.resolution,e.viewState.rotation,i,function(t){var e=c(t).toString();if(!(e in s))return s[e]=!0,n.call(r,t,o)})}},_l.prototype.j=function(){var t=this.a;t.g()&&"ready"==t.Sc()&&this.b()},_l.prototype.I=function(t){function e(t){var e,n=t.i;if(n?e=n.call(t,u):(n=i.B)&&(e=n(t,u)),e){if(e){if(n=!1,Array.isArray(e))for(var r=0,o=e.length;r<o;++r)n=Tl(f,t,e[r],Pl(u,h),this.j,this)||n;else n=Tl(f,t,e,Pl(u,h),this.j,this)||n;t=n}else t=!1;this.c=this.c||t}}var i=this.a,n=i.da();wl(t.attributions,n.V),xl(t,n);var r=t.viewHints[0],o=t.viewHints[1],s=i.G,a=i.I;if(!this.c&&!s&&r||!a&&o)return!0;var l=t.extent,r=(a=t.viewState).projection,u=a.resolution,h=t.pixelRatio,o=i.f,c=i.o;if(void 0===(s=i.get(gd))&&(s=jl),l=j(l,c*u),c=a.projection.J(),n.C&&a.projection.c&&!_(c,t.extent)&&(t=Math.max(B(l)/2,B(c)),l[0]=c[0]-t,l[2]=c[2]+t),!this.c&&this.C==u&&this.G==o&&this.s==s&&_(this.K,l))return!0;this.g=null,this.c=!1;var f=new ul(.5*u/h,l,u,n.Da,i.o);if(n.Wc(l,u,r),s){var p=[];Fl(n,l,function(t){p.push(t)},this),p.sort(s),p.forEach(e,this)}else Fl(n,l,e,this);return fl(f),this.C=u,this.G=o,this.s=s,this.K=l,this.g=f,!0},u(Al,or),Al.prototype.Ec=function(t){var e=null;return"canvas"===t.H()&&(e=new _l(this)),e},Al.prototype.s=function(t){this.v=void 0!==t?t:eo,this.B=null===t?void 0:to(this.v),this.b()};var gd="renderOrder";u(El,Ut),El.prototype.ca=h,u(Ll,El),(sh=Ll.prototype).Pa=function(t){var e=c(t).toString();if(Dl(this,e,t)){Ol(this,e,t);var i=t.R();i?(e=i.J(),this.a&&this.a.ba(e,t)):this.c[e]=t,zt(this,new Bl("addfeature",t))}this.b()},sh.ub=function(t){Rl(this,t),this.b()},sh.clear=function(t){if(t){for(var e in this.o)this.o[e].forEach(Lt);this.g||(this.o={},this.i={},this.j={})}else if(this.a){this.a.forEach(this.pd,this);for(var i in this.c)this.pd(this.c[i])}this.g&&this.g.clear(),this.a&&this.a.clear(),this.W.clear(),this.c={},zt(this,new Bl("clear")),this.b()},sh.bd=function(){var t;return this.g?t=this.g.a:this.a&&(t=Ir(this.a),V(this.c)||o(t,W(this.c))),t},sh.J=function(t){return this.a.J(t)},sh.Uf=function(t){return void 0!==(t=this.i[t.toString()])?t:null},sh.Eh=function(){return this.I},sh.Ae=function(t){var e=c(t=t.target).toString(),i=t.R();i?(i=i.J(),e in this.c?(delete this.c[e],this.a&&this.a.ba(i,t)):this.a&&Ar(this.a,i,t)):e in this.c||(this.a&&this.a.remove(t),this.c[e]=t),void 0!==(i=t.a)?(i=i.toString(),e in this.j?(delete this.j[e],this.i[i]=t):this.i[i]!==t&&(zl(this,t),this.i[i]=t)):e in this.j||(zl(this,t),this.j[e]=t),this.b(),zt(this,new Bl("changefeature",t))},sh.Wc=function(t,e,i){var n,r,o=this.W;for(n=0,r=(t=this.cb(t,e)).length;n<r;++n){var s=t[n];Nr(o,s,function(t){return _(t.extent,s)})||(this.G.call(this,s,e,i),o.ba(s,{extent:s.slice()}))}},sh.Ja=function(t){var e=c(t).toString();e in this.c?delete this.c[e]:this.a&&this.a.remove(t),this.pd(t),this.b()},sh.pd=function(t){var e=c(t).toString();this.o[e].forEach(Lt),delete this.o[e];var i=t.a;void 0!==i?delete this.i[i.toString()]:delete this.j[e],zt(this,new Bl("removefeature",t))},u(Bl,Rt),u(Gl,xn),Gl.prototype.setMap=function(t){xn.prototype.setMap.call(this,t),this.cb()},Gl.prototype.ab=fi,Gl.prototype.cb=function(){var t=this.B,e=this.get("active");t&&e||Kl(this),this.ca.setMap(e?t:null)};var md="Point",vd="LineString",yd="Polygon",bd="Circle";u(eu,Rt),u(iu,xn),(sh=iu.prototype).$c=function(t){var e=t.R();e&&e.H()in this.W&&this.W[e.H()].call(this,t,e),(e=this.B)&&e.c&&this.get("active")&&fu(this,this.sa,e),Et(t,"change",this.ve,this)},sh.Ya=function(t){this.c&&!t&&(this.C.da().Ja(this.c),this.c=null),xn.prototype.Ya.call(this,t)},sh.setMap=function(t){this.C.setMap(t),xn.prototype.setMap.call(this,t)},sh.ph=function(t){this.$c(t.element)},sh.ve=function(t){this.j||(t=t.target,ru(this,t),this.$c(t))},sh.qh=function(t){ru(this,t.element)},sh.vh=function(t,e){var i={feature:t,geometry:e,T:[i=e.D(),i]};this.a.ba(e.J(),i)},sh.th=function(t,e){var i,n,r,o=e.D();for(n=0,r=o.length;n<r;++n)i=o[n],i={feature:t,geometry:e,depth:[n],index:n,T:[i,i]},this.a.ba(e.J(),i)},sh.we=function(t,e){var i,n,r,o,s=e.D();for(i=0,n=s.length-1;i<n;++i)r=s.slice(i,i+2),o={feature:t,geometry:e,index:i,T:r},this.a.ba(k(r),o)},sh.sh=function(t,e){var i,n,r,o,s,a,l,u=e.D();for(o=0,s=u.length;o<s;++o)for(i=u[o],n=0,r=i.length-1;n<r;++n)a=i.slice(n,n+2),l={feature:t,geometry:e,depth:[o],index:n,T:a},this.a.ba(k(a),l)},sh.wh=function(t,e){var i,n,r,o,s,a,l,u=e.D();for(o=0,s=u.length;o<s;++o)for(i=u[o],n=0,r=i.length-1;n<r;++n)a=i.slice(n,n+2),l={feature:t,geometry:e,depth:[o],index:n,T:a},this.a.ba(k(a),l)},sh.uh=function(t,e){var i,n,r,o,s,a,l,u,h,c,f=e.D();for(a=0,l=f.length;a<l;++a)for(u=f[a],o=0,s=u.length;o<s;++o)for(i=u[o],n=0,r=i.length-1;n<r;++n)h=i.slice(n,n+2),c={feature:t,geometry:e,depth:[o,a],index:n,T:h},this.a.ba(k(h),c)},sh.yi=function(t,e){var i=e.ha(),n={feature:t,geometry:e,index:0,T:[i,i]},r={feature:t,geometry:e,index:1,T:[i,i]};n.Mc=r.Mc=[n,r],this.a.ba(N(i),n),this.a.ba(e.J(),r)},sh.rh=function(t,e){var i,n=e.a;for(i=0;i<n.length;++i)this.W[n[i].H()].call(this,t,n[i])},sh.Ag=function(t,e){for(var i,n=t.T,r=t.feature,o=t.geometry,s=t.depth,a=t.index;e.length<o.A;)e.push(0);switch(o.H()){case"MultiLineString":case"Polygon":(i=o.D())[s[0]].splice(a+1,0,e);break;case"MultiPolygon":(i=o.D())[s[1]][s[0]].splice(a+1,0,e);break;case"LineString":(i=o.D()).splice(a+1,0,e);break;default:return}this.j=!0,o.Y(i),this.j=!1,(i=this.a).remove(t),gu(this,o,a,s,1);var l={T:[n[0],e],feature:r,geometry:o,depth:s,index:a};i.ba(k(l.T),l),this.i.push([l,1]),n={T:[e,n[1]],feature:r,geometry:o,depth:s,index:a+1},i.ba(k(n.T),n),this.i.push([n,0]),this.G=!0},u(vu,Rt),u(yu,an),yu.prototype.G=function(){return this.a.da().g},yu.prototype.setMap=function(t){var e=this.B,i=this.a.da().g;e&&i.forEach(e.Ze,e),an.prototype.setMap.call(this,t),this.a.setMap(t),t&&i.forEach(t.Ve,t)},yu.prototype.C=function(t){var e=this.B;e&&e.Ve(t.element)},yu.prototype.I=function(t){var e=this.B;e&&e.Ze(t.element)},u(xu,Rt);var wd="select";u(Mu,xn),(sh=Mu.prototype).Pa=function(t,e){var i=void 0===e||e,n=c(t),r=t.R();if(r){var o=this.W[r.H()];o&&(this.I[n]=r.J(A()),o.call(this,t,r))}i&&(this.s[n]=Et(t,"change",this.xh,this))},sh.Qf=function(t){this.Pa(t)},sh.Rf=function(t){this.Ja(t)},sh.xe=function(t){var e;t instanceof Bl?e=t.feature:t instanceof Kt&&(e=t.element),this.Pa(e)},sh.ye=function(t){var e;t instanceof Bl?e=t.feature:t instanceof Kt&&(e=t.element),this.Ja(e)},sh.xh=function(t){if(t=t.target,this.v){var e=c(t);e in this.o||(this.o[e]=t)}else this.$e(t)},sh.Ja=function(t,e){var i=void 0===e||e,n=c(t),r=this.I[n];if(r){var o=this.a,s=[];for(Nr(o,r,function(e){t===e.feature&&s.push(e)}),r=s.length-1;0<=r;--r)o.remove(s[r])}i&&(Lt(this.s[n]),delete this.s[n])},sh.setMap=function(t){var e,i=this.B,n=this.ca;this.i?e=this.i:this.j&&(e=this.j.bd()),i&&(n.forEach(Lt),n.length=0,e.forEach(this.Rf,this)),xn.prototype.setMap.call(this,t),t&&(this.i?n.push(Et(this.i,"add",this.xe,this),Et(this.i,"remove",this.ye,this)):this.j&&n.push(Et(this.j,"addfeature",this.xe,this),Et(this.j,"removefeature",this.ye,this)),e.forEach(this.Qf,this))},sh.ab=fi,sh.$e=function(t){this.Ja(t,!1),this.Pa(t,!1)},sh.yh=function(t,e){var i,n=e.a;for(i=0;i<n.length;++i)this.W[n[i].H()].call(this,t,n[i])},sh.ze=function(t,e){var i,n,r,o,s=e.D();for(i=0,n=s.length-1;i<n;++i)r=s.slice(i,i+2),o={feature:t,T:r},this.a.ba(k(r),o)},sh.zh=function(t,e){var i,n,r,o,s,a,l,u=e.D();for(o=0,s=u.length;o<s;++o)for(i=u[o],n=0,r=i.length-1;n<r;++n)a=i.slice(n,n+2),l={feature:t,T:a},this.a.ba(k(a),l)},sh.Ah=function(t,e){var i,n,r,o=e.D();for(n=0,r=o.length;n<r;++n)i=o[n],i={feature:t,T:[i,i]},this.a.ba(e.J(),i)},sh.Bh=function(t,e){var i,n,r,o,s,a,l,u,h,c,f=e.D();for(a=0,l=f.length;a<l;++a)for(u=f[a],o=0,s=u.length;o<s;++o)for(i=u[o],n=0,r=i.length-1;n<r;++n)h=i.slice(n,n+2),c={feature:t,T:h},this.a.ba(k(h),c)},sh.Ch=function(t,e){var i={feature:t,T:[i=e.D(),i]};this.a.ba(e.J(),i)},sh.Dh=function(t,e){var i,n,r,o,s,a,l,u=e.D();for(o=0,s=u.length;o<s;++o)for(i=u[o],n=0,r=i.length-1;n<r;++n)a=i.slice(n,n+2),l={feature:t,T:a},this.a.ba(k(a),l)},u(ju,Ml),ju.prototype.v=function(t,e,i){Cl(this,"precompose",i,t,void 0);var n=this.ia();if(n){var r=void 0!==(o=e.extent)&&!_(o,t.extent)&&G(o,t.extent);r&&Sl(i,t,o);var o=this.C,s=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(o[4]),Math.round(o[5]),Math.round(n.width*o[0]),Math.round(n.height*o[3])),i.globalAlpha=s,r&&i.restore()}Cl(this,"postcompose",i,t,void 0)},ju.prototype.o=function(t,e,i,n,r){var o=this.a;return o.da().ca(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(r,t,o)})},ju.prototype.B=function(t,e,i,n){if(this.ia()){if(this.a.da().ca!==h)return Ml.prototype.B.apply(this,arguments);var r=ur(this.s,t.slice());if(ai(r,e.viewState.resolution/this.j),this.c||(this.c=ne(1,1)),this.c.clearRect(0,0,1,1),this.c.drawImage(this.ia(),r[0],r[1],1,1,0,0,1,1),0<(r=this.c.getImageData(0,0,1,1).data)[3])return i.call(n,this.a,r)}},u(Pu,ju),Pu.prototype.I=function(t,e){var n=t.pixelRatio,r=t.size,o=t.viewState,s=o.projection,a=o.resolution,l=o.center,u=this.a,h=(o=u.da()).f,f=o.Ma(s),p=bt(f,a,0),d=f.b[p],g=Math.round(a/d)||1,m=t.extent;if(void 0!==e.extent&&(m=F(m,e.extent)),m[2]<m[0]||m[3]<m[1])return!1;var v,y=pt(f,m,d);v=f.f?f.f:f.a[p];var b=f.b[p],w=C(yt(f,p),f.u);v=I(v[0]+y.M*w[0]*b,v[1]+y.P*w[1]*b,v[0]+(y.O+1)*w[0]*b,v[1]+(y.S+1)*w[1]*b,void 0),b=o.Ub(n),(w={})[p]={};var x,M,S,k=yl(o,s,w),j=this.$,P=this.ca,T=!1;for(M=y.M;M<=y.O;++M)for(S=y.P;S<=y.S;++S){if(x=Vu(o,p,M,S,n,s),!Tu(this,x))t:if(x.b){R=x.b;do{if(2==R.state){x=R;break t}R=R.b}while(R)}if(Tu(this,x))2==x.state&&(w[p][x.Oa.toString()]=x,T||-1!=this.K.indexOf(x)||(T=!0));else{t:{for(var A=k,E=P,N=mt(R=f,L=x.Oa,j),L=L[0]-1;L>=R.minZoom;){if(A.call(null,L,dt(R,N,L,E))){R=!0;break t}--L}R=!1}R||(R=f,x=x.Oa,A=P,x[0]<R.maxZoom?(E=mt(R,x,j),x=dt(R,E,x[0]+1,A)):x=null,x&&k(p+1,x))}}if(x=t.viewHints,!(this.j&&16<Date.now()-t.time&&(x[0]||x[1])||!T&&this.i&&_(this.i,m)&&this.W==h)||g!=this.G){(x=this.g)&&(S=Fu(o,p,n,s),M=Math.round((y.O-y.M+1)*S[0]/g),S=Math.round((y.S-y.P+1)*S[1]/g),(T=x.canvas).width!=M||T.height!=S?(this.G=g,T.width=M,T.height=S):(x.clearRect(0,0,M,S),g=this.G)),this.K.length=0,(T=Object.keys(w).map(Number)).sort(i);for(var O,D,P=0,R=T.length;P<R;++P){k=Fu(o,x=T[P],n,s);var q,A=(M=f.b[x])/d,E=b*o.Sd(s),N=w[x];for(q in N){M=((S=mt(f,(x=N[q]).Oa,j))[0]-v[0])/d*b/g,S=(v[3]-S[3])/d*b/g,O=k[0]*A/g,D=k[1]*A/g;var L=x,z=t,B=E;this.a.da().Qc(z.viewState.projection)||this.g.clearRect(M,S,O,D),(L=L.ia())&&this.g.drawImage(L,B,B,L.width-2*B,L.height-2*B,M,S,O,D),this.K.push(x)}}this.W=h,this.j=d*n/b*g,this.i=v}q=this.j/a,q=hr(this.C,n*r[0]/2,n*r[1]/2,q,q,0,(this.i[0]-l[0])/this.j*n,(l[1]-this.i[3])/this.j*n),hr(this.s,n*r[0]/2-q[4],n*r[1]/2-q[5],n/a,-n/a,0,-l[0],-l[1]),r=t.usedTiles,a=c(o).toString(),l=p.toString(),a in r?l in r[a]?(r=r[a][l],y.M<r.M&&(r.M=y.M),y.O>r.O&&(r.O=y.O),y.P<r.P&&(r.P=y.P),y.S>r.S&&(r.S=y.S)):r[a][l]=y:(r[a]={},r[a][l]=y),u=u.get("preload"),(y=c(o).toString())in t.wantedTiles||(t.wantedTiles[y]={});var G,r=t.wantedTiles[y],a=t.tileQueue,l=f.minZoom;for(v=p;v>=l;--v)for(G=dt(f,m,v,G),h=f.b[v],d=G.M;d<=G.O;++d)for(g=G.P;g<=G.S;++g)p-v<=u?0==(q=Vu(o,v,d,g,n,s)).state&&(r[q.Xa()]=!0,q.Xa()in a.a||a.u([q,y,gt(f,q.Oa),h])):o.bf(v,d,g,s);return bl(t,o),xl(t,o),0<this.K.length},Pu.prototype.ia=function(){var t=this.g;return t?t.canvas:null},u(_u,or),_u.prototype.Ec=function(t){var e=null;return"canvas"===t.H()&&(e=new Pu(this)),e},u(Ou,Or),Ou.prototype.Db=function(t){for(var e,i;this.c>this.highWaterMark;){var n;if((n=(i=(e=this.b.rb).Oa[0].toString())in t)&&(e=e.Oa,n=g(t[i],e[1],e[2])),n)break;Dt(this.pop())}},u(Du,El),(sh=Du.prototype).ad=function(){var t=this.c;return t.c>t.highWaterMark},sh.Db=function(t,e){var i=this.Tb(t);i&&i.Db(e)},sh.Sd=function(){return 0},sh.Fb=function(t,e,i){return t+"/"+e+"/"+i},sh.Qc=function(){return this.I},sh.Ma=function(t){if(this.tileGrid)t=this.tileGrid;else{if(!(i=t.g)){var e=Mt(i=St(t),void 0,void 0),i=new ft({extent:i,origin:z(i),resolutions:e,tileSize:void 0});t.g=i}t=i}return t},sh.Tb=function(t){var e=this.$;return e&&!st(e,t)?null:this.c},sh.Ub=function(){return this.W},sh.bf=h,u(zu,Rt),u(Bu,Du),Bu.prototype.G=function(t){switch((t=t.target).state){case 1:zt(this,new zu("tileloadstart",t));break;case 2:zt(this,new zu("tileloadend",t));break;case 3:zt(this,new zu("tileloaderror",t))}},Bu.prototype.qd=function(t){this.urls=t;var e=t.join("\n");Gu(this,this.Ua?this.Ua.bind(this):Iu(t,this.tileGrid),e)},Bu.prototype.bf=function(t,e,i){t=this.Fb(t,e,i),this.c.a.hasOwnProperty(t)&&this.c.get(t)},u(Uu,Bu),(sh=Uu.prototype).ad=function(){return Bu.prototype.ad.call(this)},sh.Db=function(t,e){Bu.prototype.Db.call(this,t,e)},sh.Sd=function(){return this.Td()},sh.Td=function(){return 0},sh.Qc=function(t){return Bu.prototype.Qc.call(this,t)},sh.Ma=function(t){return Bu.prototype.Ma.call(this,t)},sh.Tb=function(t){return Bu.prototype.Tb.call(this,t)},u(Hu,Uu),u($u,Ll),$u.prototype.Wc=function(t,e,i){this.s.Wc(t,e,i),e!==this.v&&(this.clear(),this.v=e,Yu(this),this.ub(this.B))},$u.prototype.bb=function(){this.clear(),Yu(this),this.ub(this.B),this.b()},u(Ku,Hu);var xd=new Ct({html:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});return function(){var e={},i={U:e};!function(t){if("object"==typeof e&&void 0!==i)i.U=t();else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).Ti=t()}}(function(){return function e(i,n,r){function o(a,l){if(!n[a]){if(!i[a]){var u="function"==typeof t&&t;if(!l&&u)return u(a,!0);if(s)return s(a,!0);throw u=Error("Cannot find module '"+a+"'"),u.code="MODULE_NOT_FOUND",u}u=n[a]={U:{}},i[a][0].call(u.U,function(t){var e=i[a][1][t];return o(e||t)},u,u.U,e,i,n,r)}return n[a].U}for(var s="function"==typeof t&&t,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,i){t=t("./processor"),i.Li=t},{"./processor":2}],2:[function(t,e){function i(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(i){var n=i.buffers,r=i.meta,o=i.width,s=i.height,a=n.length,l=n[0].byteLength;if(i.imageOps){for(l=Array(a),i=0;i<a;++i){var u,h=l,c=i;u=new Uint8ClampedArray(n[i]);var f=o,p=s;u=e?new ImageData(u,f,p):{data:u,width:f,height:p},h[c]=u}o=t(l,r).data}else{for(o=new Uint8ClampedArray(l),s=Array(a),h=Array(a),i=0;i<a;++i)s[i]=new Uint8ClampedArray(n[i]),h[i]=[0,0,0,0];for(n=0;n<l;n+=4){for(i=0;i<a;++i)c=s[i],h[i][0]=c[n],h[i][1]=c[n+1],h[i][2]=c[n+2],h[i][3]=c[n+3];i=t(h,r),o[n]=i[0],o[n+1]=i[1],o[n+2]=i[2],o[n+3]=i[3]}}return o.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=URL.createObjectURL(new Blob(n,{type:"text/javascript"}));return(n=new Worker(n)).addEventListener("message",e),n}function r(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}function o(t){this.vc=!!t.Ri;var e,i=[];if(e=0===t.threads?0:this.vc?1:t.threads||1)for(var o=0;o<e;++o)i[o]=n(t,this.Fd.bind(this,o));else i[0]=r(t,this.Fd.bind(this,0));this.Ob=i,this.Gd=[],this.Mb=0,this.eb={},this.wc=null}var s=t("./util").Sg;o.prototype.Bf=function(){if(0===this.Mb&&0<this.Gd.length){var t=this.wc=this.Gd.shift(),e=t.inputs[0].width,i=t.inputs[0].height,n=t.inputs.map(function(t){return t.data.buffer}),r=this.Ob.length;if(this.Mb=r,1===r)this.Ob[0].postMessage({buffers:n,meta:t.Dg,imageOps:this.vc,width:e,height:i},n);else for(var o=4*Math.ceil(t.inputs[0].data.length/4/r),s=0;s<r;++s){for(var a=s*o,l=[],u=0,h=n.length;u<h;++u)l.push(n[s].slice(a,a+o));this.Ob[s].postMessage({buffers:l,meta:t.Dg,imageOps:this.vc,width:e,height:i},l)}}},o.prototype.Fd=function(t,e){this.Qi||(this.eb[t]=e.data,0===--this.Mb&&this.Df())},o.prototype.Df=function(){var t,e,i=this.wc,n=this.Ob.length;if(1===n)t=new Uint8ClampedArray(this.eb[0].buffer),e=this.eb[0].meta;else{r=i.inputs[0].data.length;t=new Uint8ClampedArray(r),e=Array(r);for(var r=4*Math.ceil(r/4/n),o=0;o<n;++o){var a=o*r;t.set(new Uint8ClampedArray(this.eb[o].buffer),a),e[o]=this.eb[o].meta}}this.wc=null,this.eb={},i.Qb(null,s(t,i.inputs[0].width,i.inputs[0].height),e),this.Bf()},e.U=o},{"./util":3}],3:[function(t,e,i){var n=!0;try{new ImageData(10,10)}catch(t){n=!1}var r=document.createElement("canvas").getContext("2d");i.Sg=function(t,e,i){return n?new ImageData(t,e,i):((e=r.createImageData(e,i)).data.set(t),e)}},{}]},{},[1])(1)})}(),u(Qu,Uu),Qu.prototype.Ub=function(t){return t},Qu.prototype.Ua=function(t,e,i){var n=this.tileGrid;if(n||(n=this.Ma(i)),!(n.b.length<=t[0])){var r=mt(n,t,this.i),o=C(yt(n,t[0]),this.a);1!=e&&(o=S(o,e,this.a)),bh(n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.g);var s=this.urls;return s?(i=i.Ia.split(":").pop(),n.SIZE=o[0]+","+o[1],n.BBOX=r.join(","),n.BBOXSR=i,n.IMAGESR=i,n.DPI=Math.round(n.DPI?n.DPI*e:90*e),t=(1==s.length?s[0]:s[w((t[1]<<t[0])+t[2],s.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),t=Zu(t,n)):t=void 0,t}},u(th,Uu),sh=th.prototype,sh.Wf=function(t,e,i,n){if(i=ot(i),(s=this.tileGrid)||(s=this.Ma(i)),e=vt(s,t[0],t[1],e,!1,void 0),!(s.b.length<=e[0])){var r=s.b[e[0]],o=mt(s,e,this.s),s=C(yt(s,e[0]),this.a),a=this.j;return a&&(s=M(s,a,this.a),o=j(o,r*a,o)),a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.g.LAYERS},bh(a,this.g,n),n=Math.floor((o[3]-t[1])/r),a[this.i?"I":"X"]=Math.floor((t[0]-o[0])/r),a[this.i?"J":"Y"]=n,eh(this,e,s,o,1,i,a)}},sh.Td=function(){return this.j},sh.Fb=function(t,e,i){return this.B+Uu.prototype.Fb.call(this,t,e,i)},sh.Ub=function(t){return this.v&&void 0!==this.o?t:1},sh.Ua=function(t,e,i){if((o=this.tileGrid)||(o=this.Ma(i)),!(o.b.length<=t[0])){1==e||this.v&&void 0!==this.o||(e=1);var n=o.b[t[0]],r=mt(o,t,this.s),o=C(yt(o,t[0]),this.a),s=this.j;return s&&(o=M(o,s,this.a),r=j(r,n*s,r)),1!=e&&(o=S(o,e,this.a)),n={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},bh(n,this.g),eh(this,t,o,r,e,i,n)}},sh.qd=function(t){Uu.prototype.qd.call(this,t),ih(this)},u(nh,ft),u(rh,Uu),e("ol.Map",Dr),Dr.prototype.addInteraction=Dr.prototype.If,Dr.prototype.addLayer=Dr.prototype.Jf,Dr.prototype.addControl=Dr.prototype.Hf,Dr.prototype.addOverlay=Dr.prototype.Kf,Dr.prototype.forEachFeatureAtPixel=Dr.prototype.Nc,Dr.prototype.forEachLayerAtPixel=Dr.prototype.$g,Dr.prototype.getLayers=Dr.prototype.ah,Dr.prototype.getSize=Dr.prototype.mb,Dr.prototype.getTarget=Dr.prototype.Tc,Dr.prototype.getOverlays=Dr.prototype.ag,Dr.prototype.getView=Dr.prototype.Z,Dr.prototype.removeInteraction=Dr.prototype.ii,Dr.prototype.removeOverlay=Dr.prototype.ji,Dr.prototype.on=Dr.prototype.u,Dr.prototype.un=Dr.prototype.fa,e("ol.proj.Projection",H),H.prototype.getExtent=H.prototype.J,H.prototype.getMetersPerUnit=H.prototype.f,e("ol.proj.transform",function(t,e,i){return at(e,i)(t,void 0,t.length)}),e("ol.View",Hi),Hi.prototype.calculateExtent=Hi.prototype.Ld,Hi.prototype.getCenter=Hi.prototype.ha,Hi.prototype.getProjection=Hi.prototype.bh,Hi.prototype.getResolution=Hi.prototype.va,Hi.prototype.getResolutions=Hi.prototype.dh,Hi.prototype.getZoom=Hi.prototype.dg,Hi.prototype.on=Hi.prototype.u,Hi.prototype.setCenter=Hi.prototype.Ka,Hi.prototype.setZoom=Hi.prototype.ni,Hi.prototype.fit=Hi.prototype.Pf,Hi.prototype.un=Hi.prototype.fa,e("ol.extent.getTopLeft",z),e("ol.tilegrid.TileGrid",ft),e("ol.tilegrid.WMTS",nh),e("ol.tilegrid.createXYZ",xt),e("ol.style.Style",Qr),Qr.prototype.getText=Qr.prototype.na,e("ol.style.Circle",Zr),e("ol.style.Fill",Kr),e("ol.style.Icon",Rs),e("ol.style.Image",$r),e("ol.style.Stroke",Tr),e("ol.style.Text",qs),qs.prototype.getText=qs.prototype.na,qs.prototype.setFill=qs.prototype.Qe,qs.prototype.setStroke=qs.prototype.Te,qs.prototype.setText=qs.prototype.Ue,e("ol.Attribution",Ct),e("ol.Geolocation",Ga),Ga.prototype.on=Ga.prototype.u,Ga.prototype.un=Ga.prototype.fa,Ga.prototype.getAccuracy=Ga.prototype.Sf,Ga.prototype.getHeading=Ga.prototype.Xf,Ga.prototype.getPosition=Ga.prototype.Wg,Ga.prototype.getSpeed=Ga.prototype.bg,Ga.prototype.getTracking=Ga.prototype.Wd,Ga.prototype.setTracking=Ga.prototype.mc,e("ol.Overlay",Br),Br.prototype.setPosition=Br.prototype.de,e("ol.control.Attribution",se),se.prototype.setCollapsed=se.prototype.$,se.prototype.setCollapsible=se.prototype.ca,e("ol.control.Zoom",de),e("ol.control.Rotate",fe),e("ol.control.ScaleLine",Vr),e("ol.control.defaults",ge),e("ol.interaction.Draw",Gl),e("ol.interaction.Draw.createBox",function(){return function(t,e){var i=k(t),n=e||new Bi(null);return n.Y([[[i[0],i[1]],[i[2],i[1]],[i[2],i[3]],z(i),[i[0],i[1]]]]),n}}),Gl.prototype.on=Gl.prototype.u,Gl.prototype.setActive=Gl.prototype.Ya,Gl.prototype.un=Gl.prototype.fa,e("ol.interaction.Modify",iu),iu.prototype.on=iu.prototype.u,iu.prototype.setActive=iu.prototype.Ya,iu.prototype.un=iu.prototype.fa,e("ol.interaction.Select",yu),yu.prototype.on=yu.prototype.u,yu.prototype.setActive=yu.prototype.Ya,yu.prototype.un=yu.prototype.fa,yu.prototype.getFeatures=yu.prototype.G,e("ol.interaction.Snap",Mu),Mu.prototype.setActive=Mu.prototype.Ya,e("ol.source.Source",El),El.prototype.on=El.prototype.u,yu.prototype.on=yu.prototype.u,El.prototype.once=El.prototype.once,e("ol.source.OSM",Ku),e("ol.source.Tile",Du),e("ol.source.TileArcGISRest",Qu),e("ol.source.TileWMS",th),th.prototype.getGetFeatureInfoUrl=th.prototype.Wf,e("ol.source.Vector",Ll),Ll.prototype.addFeature=Ll.prototype.Pa,Ll.prototype.addFeatures=Ll.prototype.ub,Ll.prototype.getFeatureById=Ll.prototype.Uf,Ll.prototype.getFeatures=Ll.prototype.bd,Ll.prototype.getFormat=Ll.prototype.Eh,Ll.prototype.removeFeature=Ll.prototype.Ja,e("ol.source.WMTS",rh),e("ol.source.XYZ",Hu),e("ol.source.Cluster",$u),or.prototype.getSource=or.prototype.da,or.prototype.getProperties=or.prototype.Fa,or.prototype.setSource=or.prototype.Se,or.prototype.un=or.prototype.fa,ir.prototype.getVisible=ir.prototype.g,ir.prototype.setVisible=ir.prototype.C,ir.prototype.on=ir.prototype.u,ir.prototype.once=ir.prototype.once,e("ol.layer.Tile",_u),e("ol.layer.Vector",Al),Al.prototype.set=Al.prototype.set,Al.prototype.setStyle=Al.prototype.s,e("ol.layer.Group",rr),e("ol.Feature",ro),ro.prototype.getGeometry=ro.prototype.R,ro.prototype.getGeometryName=ro.prototype.Vf,ro.prototype.getId=ro.prototype.Ug,ro.prototype.getProperties=ro.prototype.Fa,ro.prototype.getStyle=ro.prototype.Vg,ro.prototype.setId=ro.prototype.$a,ro.prototype.setProperties=ro.prototype.oa,ro.prototype.setStyle=ro.prototype.ce,ro.prototype.setGeometry=ro.prototype.xa,ro.prototype.setGeometryName=ro.prototype.pb,ro.prototype.on=ro.prototype.u,ro.prototype.unset=ro.prototype.vi,e("ol.Collection",Ht),Ht.prototype.getArray=Ht.prototype.Tf,Ht.prototype.getLength=Ht.prototype.Wa,Ht.prototype.item=Ht.prototype.be,Ht.prototype.on=Ht.prototype.u,e("ol.format.EsriJSON",Yo),Yo.prototype.readFeatures=Yo.prototype.Ra,Yo.prototype.writeFeature=Yo.prototype.ud,e("ol.format.GeoJSON",is),is.prototype.readFeature=is.prototype.ec,is.prototype.readFeatures=is.prototype.Ra,is.prototype.writeFeatureObject=is.prototype.sb,is.prototype.writeFeaturesObject=is.prototype.vd,e("ol.format.TopoJSON",fa),fa.prototype.readFeatures=fa.prototype.Ra,e("ol.format.WKT",wa),wa.prototype.readFeature=wa.prototype.ec,wa.prototype.readFeatures=wa.prototype.Ra,e("ol.format.WFS",va),va.prototype.readFeatures=va.prototype.Ra,va.prototype.readTransactionResponse=va.prototype.g,va.prototype.writeTransaction=va.prototype.i,e("ol.geom.Circle",Ua),Ua.prototype.clone=Ua.prototype.clone,Ua.prototype.getCenter=Ua.prototype.ha,Ua.prototype.getRadius=Ua.prototype.Zc,Ua.prototype.getType=Ua.prototype.H,e("ol.geom.Geometry",pi),pi.prototype.getExtent=pi.prototype.J,pi.prototype.on=pi.prototype.u,pi.prototype.transform=pi.prototype.C,e("ol.geom.GeometryCollection",Ko),Ko.prototype.getType=Ko.prototype.H,e("ol.geom.LineString",Lo),Lo.prototype.appendCoordinate=Lo.prototype.Lf,Lo.prototype.clone=Lo.prototype.clone,Lo.prototype.getCoordinateAt=Lo.prototype.Rd,Lo.prototype.getCoordinateAtM=Lo.prototype.ue,Lo.prototype.getCoordinates=Lo.prototype.D,Lo.prototype.getFirstCoordinate=Lo.prototype.Eb,Lo.prototype.getLastCoordinate=Lo.prototype.$f,Lo.prototype.getLength=Lo.prototype.mh,Lo.prototype.getType=Lo.prototype.H,Lo.prototype.setCoordinates=Lo.prototype.Y,Ei.prototype.getCoordinates=Ei.prototype.D,e("ol.geom.MultiLineString",Ro),Ro.prototype.clone=Ro.prototype.clone,Lo.prototype.getCoordinateAtM=Lo.prototype.ue,Ro.prototype.getCoordinates=Ro.prototype.D,Ro.prototype.getFirstCoordinate=Ro.prototype.Eb,Ro.prototype.getLineStrings=Ro.prototype.hb,Ro.prototype.getType=Ro.prototype.H,Ro.prototype.setCoordinates=Ro.prototype.Y,e("ol.geom.MultiPoint",Bo),Bo.prototype.clone=Bo.prototype.clone,Bo.prototype.getCoordinates=Bo.prototype.D,Bo.prototype.getFirstCoordinate=Bo.prototype.Eb,Bo.prototype.getType=Bo.prototype.H,Bo.prototype.setCoordinates=Bo.prototype.Y,e("ol.geom.MultiPolygon",Uo),Uo.prototype.clone=Uo.prototype.clone,Uo.prototype.getCoordinates=Uo.prototype.D,Uo.prototype.getArea=Uo.prototype.nh,Uo.prototype.getFirstCoordinate=Uo.prototype.Eb,Uo.prototype.getInteriorPoints=Uo.prototype.Zf,Uo.prototype.getType=Uo.prototype.H,Uo.prototype.setCoordinates=Uo.prototype.Y,e("ol.geom.Point",Li),Li.prototype.clone=Li.prototype.clone,Li.prototype.getCoordinates=Li.prototype.D,Li.prototype.getType=Li.prototype.H,Li.prototype.setCoordinates=Li.prototype.Y,e("ol.geom.Polygon",Bi),Bi.prototype.clone=Bi.prototype.clone,Bi.prototype.getArea=Bi.prototype.oh,Bi.prototype.getCoordinates=Bi.prototype.D,Bi.prototype.getFirstCoordinate=Bi.prototype.Eb,Bi.prototype.getInteriorPoint=Bi.prototype.Yf,Bi.prototype.getLinearRing=Bi.prototype.Vd,Bi.prototype.getType=Bi.prototype.H,Bi.prototype.setCoordinates=Bi.prototype.Y,e("ol.Sphere",X),X.prototype.geodesicArea=X.prototype.f,X.prototype.haversineDistance=X.prototype.b,e("ol.loadingstrategy.all",Il),e("ol.loadingstrategy.bbox",function(t){return[t]}),e("ol.loadingstrategy.tile",function(t){return function(e,i){var n=bt(t,i),r=dt(t,e,n),o=[];for((n=[n,0,0])[1]=r.M;n[1]<=r.O;++n[1])for(n[2]=r.P;n[2]<=r.S;++n[2])o.push(mt(t,n));return o}}),ah.ol})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,i){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var r=t("mgrs");n.fromMGRS=function(t){return new n(r.toPoint(t))},n.prototype.toMGRS=function(t){return r.forward([this.x,this.y],t)},e.exports=n},{mgrs:95}],29:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var i=r(t);if("object"==typeof i){var s=a(i),l=n.projections.get(s.projName);l?(o(this,s),o(this,l),this.init(),e(null,this)):e(t)}else e(t)}var r=t("./parseCode"),o=t("./extend"),s=t("./projections"),a=t("./deriveConstants");n.projections=s,n.projections.start(),e.exports=n},{"./deriveConstants":60,"./extend":61,"./parseCode":65,"./projections":67}],30:[function(t,e,i){e.exports=function(t,e,i){var n,r,o,s=i.x,a=i.y,l=i.z||0;for(o=0;o<3;o++)if(!e||2!==o||void 0!==i.z)switch(0===o?(n=s,r="x"):1===o?(n=a,r="y"):(n=l,r="z"),t.axis[o]){case"e":i[r]=n;break;case"w":i[r]=-n;break;case"n":i[r]=n;break;case"s":i[r]=-n;break;case"u":void 0!==i[r]&&(i.z=n);break;case"d":void 0!==i[r]&&(i.z=-n);break;default:return null}return i}},{}],31:[function(t,e,i){var n=Math.PI/2,r=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-r(t)*Math.PI}},{"./sign":48}],32:[function(t,e,i){var n=2*Math.PI,r=t("./sign");e.exports=function(t){return Math.abs(t)<=3.14159265359?t:t-r(t)*n}},{"./sign":48}],33:[function(t,e,i){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],34:[function(t,e,i){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],35:[function(t,e,i){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],36:[function(t,e,i){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],37:[function(t,e,i){e.exports=function(t){return t*t*t*(35/3072)}},{}],38:[function(t,e,i){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],39:[function(t,e,i){e.exports=function(t,e,i,n,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(s=(t-(e*o-i*Math.sin(2*o)+n*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*i*Math.cos(2*o)+4*n*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}},{}],40:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*n:n;for(var r,o,s,a,l=Math.asin(.5*e),u=0;u<30;u++)if(o=Math.sin(l),s=Math.cos(l),a=t*o,r=Math.pow(1-a*a,2)/(2*s)*(e/(1-t*t)-o/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),l+=r,Math.abs(r)<=1e-10)return l;return NaN}},{}],41:[function(t,e,i){e.exports=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)}},{}],42:[function(t,e,i){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],43:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){for(var i,r,o=.5*t,s=n-2*Math.atan(e),a=0;a<=15;a++)if(i=t*Math.sin(s),r=n-2*Math.atan(e*Math.pow((1-i)/(1+i),o))-s,s+=r,Math.abs(r)<=1e-10)return s;return-9999}},{}],44:[function(t,e,i){var n=.01068115234375;e.exports=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*n))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*n)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e}},{}],45:[function(t,e,i){var n=t("./pj_mlfn");e.exports=function(t,e,i){for(var r=1/(1-e),o=t,s=20;s;--s){var a=Math.sin(o),l=1-e*a*a;if(l=(n(o,a,Math.cos(o),i)-t)*(l*Math.sqrt(l))*r,o-=l,Math.abs(l)<1e-10)return o}return o}},{"./pj_mlfn":46}],46:[function(t,e,i){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],47:[function(t,e,i){e.exports=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}},{}],48:[function(t,e,i){e.exports=function(t){return t<0?-1:1}},{}],49:[function(t,e,i){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],50:[function(t,e,i){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],51:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e,i){var r=t*i,o=.5*t;return r=Math.pow((1-r)/(1+r),o),Math.tan(.5*(n-e))/r}},{}],52:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],53:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],54:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],55:[function(t,e,i){i.ft={to_meter:.3048},i["us-ft"]={to_meter:1200/3937}},{}],56:[function(t,e,i){function n(t,e,i){var n;return Array.isArray(i)?(n=s(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):s(t,e,i)}function r(t){return t instanceof o?t:t.oProj?t.oProj:o(t)}var o=t("./Proj"),s=t("./transform"),a=o("WGS84");e.exports=function(t,e,i){t=r(t);var o,s=!1;return void 0===e?(e=t,t=a,s=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=a,s=!0),e=r(e),i?n(t,e,i):(o={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},s&&(o.oProj=e),o)}},{"./Proj":29,"./transform":93}],57:[function(t,e,i){var n=Math.PI/2,r=function(t){if(!(this instanceof r))return new r(t);if(this.datum_type=4,t){if(t.datumCode&&"none"===t.datumCode&&(this.datum_type=5),t.datum_params){for(var e=0;e<t.datum_params.length;e++)t.datum_params[e]=parseFloat(t.datum_params[e]);0===t.datum_params[0]&&0===t.datum_params[1]&&0===t.datum_params[2]||(this.datum_type=1),t.datum_params.length>3&&(0===t.datum_params[3]&&0===t.datum_params[4]&&0===t.datum_params[5]&&0===t.datum_params[6]||(this.datum_type=2,t.datum_params[3]*=484813681109536e-20,t.datum_params[4]*=484813681109536e-20,t.datum_params[5]*=484813681109536e-20,t.datum_params[6]=t.datum_params[6]/1e6+1))}this.datum_type=t.grids?3:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_params=t.datum_params,3===this.datum_type&&(this.grids=t.grids)}};r.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||Math.abs(this.es-t.es)>5e-11)&&(1===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:2===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:3!==this.datum_type&&3!==t.datum_type||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var e,i,r,o,s,a,l,u=t.x,h=t.y,c=t.z?t.z:0;if(h<-n&&h>-1.001*n)h=-n;else if(h>n&&h<1.001*n)h=n;else if(h<-n||h>n)return null;return u>Math.PI&&(u-=2*Math.PI),s=Math.sin(h),l=Math.cos(h),a=s*s,o=this.a/Math.sqrt(1-this.es*a),e=(o+c)*l*Math.cos(u),i=(o+c)*l*Math.sin(u),r=(o*(1-this.es)+c)*s,t.x=e,t.y=i,t.z=r,0},geocentric_to_geodetic:function(t){var e,i,r,o,s,a,l,u,h,c,f,p,d,g,m,v,y=t.x,b=t.y,w=t.z?t.z:0;if(!1,e=Math.sqrt(y*y+b*b),i=Math.sqrt(y*y+b*b+w*w),e/this.a<1e-12){if(!0,g=0,i/this.a<1e-12)return m=n,void(v=-this.b)}else g=Math.atan2(b,y);r=w/i,o=e/i,s=1/Math.sqrt(1-this.es*(2-this.es)*o*o),u=o*(1-this.es)*s,h=r*s,d=0;do{d++,v=e*u+w*h-(l=this.a/Math.sqrt(1-this.es*h*h))*(1-this.es*h*h),a=this.es*l/(l+v),p=(f=r*(s=1/Math.sqrt(1-a*(2-a)*o*o)))*u-(c=o*(1-a)*s)*h,u=c,h=f}while(p*p>1e-24&&d<30);return m=Math.atan(f/Math.abs(c)),t.x=g,t.y=m,t.z=v,t},geocentric_to_geodetic_noniter:function(t){var e,i,r,o,s,a,l,u,h,c,f,p,d,g,m,v,y,b=t.x,w=t.y,x=t.z?t.z:0;if(b=parseFloat(b),w=parseFloat(w),x=parseFloat(x),y=!1,0!==b)e=Math.atan2(w,b);else if(w>0)e=n;else if(w<0)e=-n;else if(y=!0,e=0,x>0)i=n;else{if(!(x<0))return i=n,void(r=-this.b);i=-n}return s=b*b+w*w,o=Math.sqrt(s),a=1.0026*x,u=Math.sqrt(a*a+s),c=a/u,p=o/u,f=c*c*c,l=x+this.b*this.ep2*f,v=o-this.a*this.es*p*p*p,h=Math.sqrt(l*l+v*v),d=l/h,g=v/h,m=this.a/Math.sqrt(1-this.es*d*d),r=g>=.3826834323650898?o/g-m:g<=-.3826834323650898?o/-g-m:x/d+m*(this.es-1),!1===y&&(i=Math.atan(d/g)),t.x=e,t.y=i,t.z=r,t},geocentric_to_wgs84:function(t){if(1===this.datum_type)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],r=this.datum_params[3],o=this.datum_params[4],s=this.datum_params[5],a=this.datum_params[6],l=a*(t.x-s*t.y+o*t.z)+e,u=a*(s*t.x+t.y-r*t.z)+i,h=a*(-o*t.x+r*t.y+t.z)+n;t.x=l,t.y=u,t.z=h}},geocentric_from_wgs84:function(t){if(1===this.datum_type)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],r=this.datum_params[3],o=this.datum_params[4],s=this.datum_params[5],a=this.datum_params[6],l=(t.x-e)/a,u=(t.y-i)/a,h=(t.z-n)/a;t.x=l+s*u-o*h,t.y=-s*l+u+r*h,t.z=o*l-r*u+h}}},e.exports=r},{}],58:[function(t,e,i){var n=1,r=2;e.exports=function(t,e,i){function o(t){return t===n||t===r}var s,a,l;if(t.compare_datums(e))return i;if(5===t.datum_type||5===e.datum_type)return i;var u=t.a,h=t.es,c=e.a,f=e.es,p=t.datum_type;if(3===p)if(0===this.apply_gridshift(t,0,i))t.a=6378137,t.es=.006694379990141316;else{if(!t.datum_params)return t.a=u,t.es=t.es,i;for(s=1,a=0,l=t.datum_params.length;a<l;a++)s*=t.datum_params[a];if(0===s)return t.a=u,t.es=t.es,i;p=t.datum_params.length>3?r:n}return 3===e.datum_type&&(e.a=6378137,e.es=.006694379990141316),(t.es!==e.es||t.a!==e.a||o(p)||o(e.datum_type))&&(t.geodetic_to_geocentric(i),o(t.datum_type)&&t.geocentric_to_wgs84(i),o(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),3===e.datum_type&&this.apply_gridshift(e,1,i),t.a=u,t.es=h,e.a=c,e.es=f,i}},{}],59:[function(t,e,i){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?n[t]=o(arguments[1]):n[t]=s(arguments[1]):n[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var r=t("./global"),o=t("./projString"),s=t("./wkt");r(n),e.exports=n},{"./global":62,"./projString":66,"./wkt":94}],60:[function(t,e,i){var n=t("./constants/Datum"),r=t("./constants/Ellipsoid"),o=t("./extend"),s=t("./datum");e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=r[t.ellps]?r[t.ellps]:r.WGS84;o(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<1e-10)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(.16666666666666666+t.es*(.04722222222222222+.022156084656084655*t.es)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=s(t)),t}},{"./constants/Datum":52,"./constants/Ellipsoid":53,"./datum":57,"./extend":61}],61:[function(t,e,i){e.exports=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t}},{}],62:[function(t,e,i){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],63:[function(t,e,i){var n=[t("./projections/tmerc"),t("./projections/utm"),t("./projections/sterea"),t("./projections/stere"),t("./projections/somerc"),t("./projections/omerc"),t("./projections/lcc"),t("./projections/krovak"),t("./projections/cass"),t("./projections/laea"),t("./projections/aea"),t("./projections/gnom"),t("./projections/cea"),t("./projections/eqc"),t("./projections/poly"),t("./projections/nzmg"),t("./projections/mill"),t("./projections/sinu"),t("./projections/moll"),t("./projections/eqdc"),t("./projections/vandg"),t("./projections/aeqd")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./projections/aea":68,"./projections/aeqd":69,"./projections/cass":70,"./projections/cea":71,"./projections/eqc":72,"./projections/eqdc":73,"./projections/gnom":75,"./projections/krovak":76,"./projections/laea":77,"./projections/lcc":78,"./projections/mill":81,"./projections/moll":82,"./projections/nzmg":83,"./projections/omerc":84,"./projections/poly":85,"./projections/sinu":86,"./projections/somerc":87,"./projections/stere":88,"./projections/sterea":89,"./projections/tmerc":90,"./projections/utm":91,"./projections/vandg":92}],64:[function(t,e,i){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":96,"./Point":28,"./Proj":29,"./common/toPoint":50,"./core":56,"./defs":59,"./includedProjections":63,"./transform":93,mgrs:95}],65:[function(t,e,i){function n(t){return"string"==typeof t}function r(t){return t in a}function o(t){return["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"].reduce(function(e,i){return e+1+t.indexOf(i)},0)}function s(t){return"+"===t[0]}var a=t("./defs"),l=t("./wkt"),u=t("./projString");e.exports=function(t){return n(t)?r(t)?a[t]:o(t)?l(t):s(t)?u(t):void 0:t}},{"./defs":59,"./projString":66,"./wkt":94}],66:[function(t,e,i){var n=.017453292519943295,r=t("./constants/PrimeMeridian"),o=t("./constants/units");e.exports=function(t){var e={},i={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),i[e[0].toLowerCase()]=e[1]});var s,a,l,u={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,o[t]&&(e.to_meter=o[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(r[t]?r[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(e.axis=t)}};for(s in i)a=i[s],s in u?"function"==typeof(l=u[s])?l(a):e[l]=a:e[s]=a;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":54,"./constants/units":55}],67:[function(t,e,i){function n(t,e){var i=s.length;return t.names?(s[i]=t,t.names.forEach(function(t){o[t.toLowerCase()]=i}),this):(console.log(e),!0)}var r=[t("./projections/merc"),t("./projections/longlat")],o={},s=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==o[e]&&s[o[e]]?s[o[e]]:void 0},i.start=function(){r.forEach(n)}},{"./projections/longlat":79,"./projections/merc":80}],68:[function(t,e,i){var n=t("../common/msfnz"),r=t("../common/qsfnz"),o=t("../common/adjust_lon"),s=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=n(this.e3,this.sin_po,this.cos_po),this.qs1=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=n(this.e3,this.sin_po,this.cos_po),this.qs2=r(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=r(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=r(this.e3,this.sin_phi,this.cos_phi),s=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*o(e-this.long0),l=s*Math.sin(a)+this.x0,u=this.rh-s*Math.cos(a)+this.y0;return t.x=l,t.y=u,t},i.inverse=function(t){var e,i,n,r,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,i)),s=o(r/this.ns0+this.long0),t.x=s,t.y=a,t},i.phi1z=function(t,e){var i,n,r,o,a,l=s(.5*e);if(t<1e-10)return l;for(var u=t*t,h=1;h<=25;h++)if(i=Math.sin(l),n=Math.cos(l),r=t*i,o=1-r*r,a=.5*o*o/n*(e/(1-u)-i/o+.5/t*Math.log((1-r)/(1+r))),l+=a,Math.abs(a)<=1e-7)return l;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":32,"../common/asinz":33,"../common/msfnz":42,"../common/qsfnz":47}],69:[function(t,e,i){var n=t("../common/adjust_lon"),r=Math.PI/2,o=t("../common/mlfn"),s=t("../common/e0fn"),a=t("../common/e1fn"),l=t("../common/e2fn"),u=t("../common/e3fn"),h=t("../common/gN"),c=t("../common/asinz"),f=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,c,f,p,d,g,m,v,y,b,w,x,M,S,C,k,j,P,T,_,A,I,E=t.x,N=t.y,L=Math.sin(t.y),O=Math.cos(t.y),D=n(E-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(t.x=this.x0+this.a*(r-N)*Math.sin(D),t.y=this.y0-this.a*(r-N)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=1e-10?(t.x=this.x0+this.a*(r+N)*Math.sin(D),t.y=this.y0+this.a*(r+N)*Math.cos(D),t):(j=this.sin_p12*L+this.cos_p12*O*Math.cos(D),C=Math.acos(j),k=C/Math.sin(C),t.x=this.x0+this.a*k*O*Math.sin(D),t.y=this.y0+this.a*k*(this.cos_p12*L-this.sin_p12*O*Math.cos(D)),t):(e=s(this.es),i=a(this.es),c=l(this.es),f=u(this.es),Math.abs(this.sin_p12-1)<=1e-10?(p=this.a*o(e,i,c,f,r),d=this.a*o(e,i,c,f,N),t.x=this.x0+(p-d)*Math.sin(D),t.y=this.y0-(p-d)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=1e-10?(p=this.a*o(e,i,c,f,r),d=this.a*o(e,i,c,f,N),t.x=this.x0+(p+d)*Math.sin(D),t.y=this.y0+(p+d)*Math.cos(D),t):(g=L/O,m=h(this.a,this.e,this.sin_p12),v=h(this.a,this.e,L),y=Math.atan((1-this.es)*g+this.es*m*this.sin_p12/(v*O)),b=Math.atan2(Math.sin(D),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(D)),P=0===b?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(b)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(D)*Math.cos(y)/Math.sin(b)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),x=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),M=w*x,S=x*x,T=P*P,_=T*P,A=_*P,I=A*P,C=m*P*(1-T*S*(1-S)/6+_/8*M*(1-2*S)+A/120*(S*(4-7*S)-3*w*w*(1-7*S))-I/48*M),t.x=this.x0+C*Math.sin(b),t.y=this.y0+C*Math.cos(b),t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,p,d,g,m,v,y,b,w,x,M,S,C,k,j,P,T,_,A,I,E,N;if(this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*r*this.a)return;return i=e/this.a,p=Math.sin(i),d=Math.cos(i),g=this.long0,Math.abs(e)<=1e-10?m=this.lat0:(m=c(d*this.sin_p12+t.y*p*this.cos_p12/e),v=Math.abs(this.lat0)-r,g=n(Math.abs(v)<=1e-10?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*p,e*this.cos_p12*d-t.y*this.sin_p12*p))),t.x=g,t.y=m,t}return y=s(this.es),b=a(this.es),w=l(this.es),x=u(this.es),Math.abs(this.sin_p12-1)<=1e-10?(M=this.a*o(y,b,w,x,r),e=Math.sqrt(t.x*t.x+t.y*t.y),S=M-e,m=f(S/this.a,y,b,w,x),g=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=m,t):Math.abs(this.sin_p12+1)<=1e-10?(M=this.a*o(y,b,w,x,r),e=Math.sqrt(t.x*t.x+t.y*t.y),S=e-M,m=f(S/this.a,y,b,w,x),g=n(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=m,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),j=Math.atan2(t.x,t.y),C=h(this.a,this.e,this.sin_p12),P=Math.cos(j),T=this.e*this.cos_p12*P,_=-T*T/(1-this.es),A=3*this.es*(1-_)*this.sin_p12*this.cos_p12*P/(1-this.es),I=e/C,E=I-_*(1+_)*Math.pow(I,3)/6-A*(1+3*_)*Math.pow(I,4)/24,N=1-_*E*E/2-I*E*E*E/6,k=Math.asin(this.sin_p12*Math.cos(E)+this.cos_p12*Math.sin(E)*P),g=n(this.long0+Math.asin(Math.sin(j)*Math.sin(E)/Math.cos(k))),m=Math.atan((1-this.es*N*this.sin_p12/Math.sin(k))*Math.tan(k)/(1-this.es)),t.x=g,t.y=m,t)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":32,"../common/asinz":33,"../common/e0fn":34,"../common/e1fn":35,"../common/e2fn":36,"../common/e3fn":37,"../common/gN":38,"../common/imlfn":39,"../common/mlfn":41}],70:[function(t,e,i){var n=t("../common/mlfn"),r=t("../common/e0fn"),o=t("../common/e1fn"),s=t("../common/e2fn"),a=t("../common/e3fn"),l=t("../common/gN"),u=t("../common/adjust_lon"),h=t("../common/adjust_lat"),c=t("../common/imlfn"),f=Math.PI/2;i.init=function(){this.sphere||(this.e0=r(this.es),this.e1=o(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,r=t.x,o=t.y;if(r=u(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(o)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(o),Math.cos(r))-this.lat0);else{var s=Math.sin(o),a=Math.cos(o),h=l(this.a,this.e,s),c=Math.tan(o)*Math.tan(o),f=r*Math.cos(o),p=f*f,d=this.es*a*a/(1-this.es);e=h*f*(1-p*c*(1/6-(8-c+8*d)*p/120)),i=this.a*n(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+h*s/a*p*(.5+(5-c+6*d)*p/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(o))}else{var s=this.ml0/this.a+r,a=c(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-f)<=1e-10)return t.x=this.long0,t.y=f,r<0&&(t.y*=-1),t;var p=l(this.a,this.e,Math.sin(a)),d=p*p*p/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(a),2),m=n*this.a/p,v=m*m;e=a-p*Math.tan(a)/d*m*m*(.5-(1+3*g)*m*m/24),i=m*(1-v*(g/3+(1+3*g)*g*v/15))/Math.cos(a)}return t.x=u(i+this.long0),t.y=h(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":31,"../common/adjust_lon":32,"../common/e0fn":34,"../common/e1fn":35,"../common/e2fn":36,"../common/e3fn":37,"../common/gN":38,"../common/imlfn":39,"../common/mlfn":41}],71:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/qsfnz"),o=t("../common/msfnz"),s=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,o=t.x,s=t.y,a=n(o-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(s)/Math.cos(this.lat_ts);else{var l=r(this.e,Math.sin(s));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=s(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},i.names=["cea"]},{"../common/adjust_lon":32,"../common/iqsfnz":40,"../common/msfnz":42,"../common/qsfnz":47}],72:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,o=n(e-this.long0),s=r(i-this.lat0);return t.x=this.x0+this.a*o*this.rc,t.y=this.y0+this.a*s,t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=r(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":31,"../common/adjust_lon":32}],73:[function(t,e,i){var n=t("../common/e0fn"),r=t("../common/e1fn"),o=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/msfnz"),l=t("../common/mlfn"),u=t("../common/adjust_lon"),h=t("../common/adjust_lat"),c=t("../common/imlfn");i.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=s(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=a(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=a(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=l(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var o=this.ns*u(i-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t},i.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,r;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;if(0!==i&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=u(this.long0+o/this.ns),n=h(this.g-i/this.a),t.x=r,t.y=n,t;var s=this.g-i/this.a;return n=c(s,this.e0,this.e1,this.e2,this.e3),r=u(this.long0+o/this.ns),t.x=r,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":31,"../common/adjust_lon":32,"../common/e0fn":34,"../common/e1fn":35,"../common/e2fn":36,"../common/e3fn":37,"../common/imlfn":39,"../common/mlfn":41,"../common/msfnz":42}],74:[function(t,e,i){var n=Math.PI/4,r=t("../common/srat"),o=Math.PI/2;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*r(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*r(this.e*Math.sin(i),this.ratexp))-o,t.x=this.C*e,t},i.inverse=function(t){for(var e=t.x/this.C,i=t.y,s=Math.pow(Math.tan(.5*i+n)/this.K,1/this.C),a=20;a>0&&(i=2*Math.atan(s*r(this.e*Math.sin(t.y),-.5*this.e))-o,!(Math.abs(i-t.y)<1e-14));--a)t.y=i;return a?(t.x=e,t.y=i,t):null},i.names=["gauss"]},{"../common/srat":49}],75:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,r,o,s,a,l,u=t.x,h=t.y;return r=n(u-this.long0),e=Math.sin(h),i=Math.cos(h),o=Math.cos(r),s=this.sin_p14*e+this.cos_p14*i*o,1,s>0||Math.abs(s)<=1e-10?(a=this.x0+1*this.a*i*Math.sin(r)/s,l=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*o)/s):(a=this.x0+this.infinity_dist*i*Math.sin(r),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*o)),t.x=a,t.y=l,t},i.inverse=function(t){var e,i,o,s,a,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),i=Math.sin(s),o=Math.cos(s),l=r(o*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.atan2(t.x*i,e*this.cos_p14*o-t.y*this.sin_p14*i),a=n(this.long0+a)):(l=this.phic0,a=0),t.x=a,t.y=l,t},i.names=["gnom"]},{"../common/adjust_lon":32,"../common/asinz":33}],76:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,r,o,s,a,l,u=t.x,h=t.y,c=n(u-this.long0);return e=Math.pow((1+this.e*Math.sin(h))/(1-this.e*Math.sin(h)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(h/2+this.s45),this.alfa)/e)-this.s45),r=-c*this.alfa,o=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),s=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(o)),a=this.n*s,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(o/2+this.s45),this.n),t.y=l*Math.cos(a)/1,t.x=l*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,r,o,s,a,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),r=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e,a=0;var u=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,u+=1}while(0===a&&u<15);return u>=15?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":32}],77:[function(t,e,i){var n=Math.PI/2,r=Math.PI/4,o=t("../common/qsfnz"),s=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-n)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=o(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=o(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,a,l,u,h,c,f,p,d,g=t.x,m=t.y;if(g=s(g-this.long0),this.sphere){if(u=Math.sin(m),d=Math.cos(m),a=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+d*a:1+this.sinph0*u+this.cosph0*d*a)<=1e-10)return null;e=(i=Math.sqrt(2/i))*d*Math.sin(g),i*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*d*a}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),Math.abs(m+this.phi0)<1e-10)return null;i=r-.5*m,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(g),i*=a}}else{switch(c=0,f=0,p=0,a=Math.cos(g),l=Math.sin(g),u=Math.sin(m),h=o(this.e,u),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=h/this.qp,f=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:p=1+this.sinb1*c+this.cosb1*f*a;break;case this.EQUIT:p=1+f*a;break;case this.N_POLE:p=n+m,h=this.qp-h;break;case this.S_POLE:p=m-n,h=this.qp+h}if(Math.abs(p)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),i=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*c-this.sinb1*f*a):(p=Math.sqrt(2/(1+f*a)))*c*this.ymf,e=this.xmf*p*f*l;break;case this.N_POLE:case this.S_POLE:h>=0?(e=(p=Math.sqrt(h))*l,i=a*(this.mode===this.S_POLE?p:-p)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,r,o,a,l,u,h=t.x/this.a,c=t.y/this.a;if(this.sphere){var f,p=0,d=0;if(f=Math.sqrt(h*h+c*c),(i=.5*f)>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(f)<=1e-10?0:Math.asin(c*d/f),h*=d,c=p*f;break;case this.OBLIQ:i=Math.abs(f)<=1e-10?this.phi0:Math.asin(p*this.sinph0+c*d*this.cosph0/f),h*=d*this.cosph0,c=(p-Math.sin(i)*this.sinph0)*f;break;case this.N_POLE:c=-c,i=n-i;break;case this.S_POLE:i-=n}e=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(h,c):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(h/=this.dd,c*=this.dd,(l=Math.sqrt(h*h+c*c))<1e-10)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*l/this.rq),r=Math.cos(o),h*=o=Math.sin(o),this.mode===this.OBLIQ?(u=r*this.sinb1+c*o*this.cosb1/l,a=this.qp*u,c=l*this.cosb1*r-c*this.sinb1*o):(u=c*o/l,a=this.qp*u,c=l*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),!(a=h*h+c*c))return t.x=0,t.y=this.phi0,t;u=1-a/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(h,c),i=this.authlat(Math.asin(u),this.apa)}return t.x=s(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":32,"../common/qsfnz":47}],78:[function(t,e,i){var n=t("../common/msfnz"),r=t("../common/tsfnz"),o=Math.PI/2,s=t("../common/sign"),a=t("../common/adjust_lon"),l=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),o=n(this.e,e,i),s=r(this.e,this.lat1,e),a=Math.sin(this.lat2),l=Math.cos(this.lat2),u=n(this.e,a,l),h=r(this.e,this.lat2,a),c=r(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(o/u)/Math.log(s/h):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=1e-10&&(i=s(i)*(o-2e-10));var n,l,u=Math.abs(Math.abs(i)-o);if(u>1e-10)n=r(this.e,i,Math.sin(i)),l=this.a*this.f0*Math.pow(n,this.ns);else{if((u=i*this.ns)<=0)return null;l=0}var h=this.ns*a(e-this.long0);return t.x=this.k0*(l*Math.sin(h))+this.x0,t.y=this.k0*(this.rh-l*Math.cos(h))+this.y0,t},i.inverse=function(t){var e,i,n,r,s,u=(t.x-this.x0)/this.k0,h=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(u*u+h*h),i=1):(e=-Math.sqrt(u*u+h*h),i=-1);var c=0;if(0!==e&&(c=Math.atan2(i*u,i*h)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(r=l(this.e,n)))return null}else r=-o;return s=a(c/this.ns+this.long0),t.x=s,t.y=r,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":32,"../common/msfnz":42,"../common/phi2z":43,"../common/sign":48,"../common/tsfnz":51}],79:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],80:[function(t,e,i){var n=t("../common/msfnz"),r=Math.PI/2,o=57.29577951308232,s=t("../common/adjust_lon"),a=Math.PI/4,l=t("../common/tsfnz"),u=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},i.forward=function(t){var e=t.x,i=t.y;if(i*o>90&&i*o<-90&&e*o>180&&e*o<-180)return null;var n,u;if(Math.abs(Math.abs(i)-r)<=1e-10)return null;if(this.sphere)n=this.x0+this.a*this.k0*s(e-this.long0),u=this.y0+this.a*this.k0*Math.log(Math.tan(a+.5*i));else{var h=Math.sin(i),c=l(this.e,i,h);n=this.x0+this.a*this.k0*s(e-this.long0),u=this.y0-this.a*this.k0*Math.log(c)}return t.x=n,t.y=u,t},i.inverse=function(t){var e,i,n=t.x-this.x0,o=t.y-this.y0;if(this.sphere)i=r-2*Math.atan(Math.exp(-o/(this.a*this.k0)));else{var a=Math.exp(-o/(this.a*this.k0));if(-9999===(i=u(this.e,a)))return null}return e=s(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":32,"../common/msfnz":42,"../common/phi2z":43,"../common/tsfnz":51}],81:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,r=n(e-this.long0),o=this.x0+this.a*r,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=o,t.y=s,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":32}],82:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,r=n(e-this.long0),o=i,s=Math.PI*Math.sin(i),a=0;!0;a++){var l=-(o+Math.sin(o)-s)/(1+Math.cos(o));if(o+=l,Math.abs(l)<1e-10)break}o/=2,Math.PI/2-Math.abs(i)<1e-10&&(r=0);var u=.900316316158*this.a*r*Math.cos(o)+this.x0,h=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=u,t.y=h,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var r=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var o=Math.asin(i);return t.x=r,t.y=o,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":32}],83:[function(t,e,i){i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,n=(t.y-this.lat0)/484813681109536e-20*1e-5,r=i-this.long0,o=1,s=0;for(e=1;e<=10;e++)o*=n,s+=this.A[e]*o;var a,l=s,u=r,h=1,c=0,f=0,p=0;for(e=1;e<=6;e++)a=c*l+h*u,h=h*l-c*u,c=a,f=f+this.B_re[e]*h-this.B_im[e]*c,p=p+this.B_im[e]*h+this.B_re[e]*c;return t.x=p*this.a+this.x0,t.y=f*this.a+this.y0,t},i.inverse=function(t){var e,i,n=t.x,r=t.y,o=n-this.x0,s=(r-this.y0)/this.a,a=o/this.a,l=1,u=0,h=0,c=0;for(e=1;e<=6;e++)i=u*s+l*a,l=l*s-u*a,u=i,h=h+this.C_re[e]*l-this.C_im[e]*u,c=c+this.C_im[e]*l+this.C_re[e]*u;for(var f=0;f<this.iterations;f++){var p,d=h,g=c,m=s,v=a;for(e=2;e<=6;e++)p=g*h+d*c,d=d*h-g*c,g=p,m+=(e-1)*(this.B_re[e]*d-this.B_im[e]*g),v+=(e-1)*(this.B_im[e]*d+this.B_re[e]*g);d=1,g=0;var y=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)p=g*h+d*c,d=d*h-g*c,g=p,y+=e*(this.B_re[e]*d-this.B_im[e]*g),b+=e*(this.B_im[e]*d+this.B_re[e]*g);var w=y*y+b*b;h=(m*y+v*b)/w,c=(v*y-m*b)/w}var x=h,M=c,S=1,C=0;for(e=1;e<=9;e++)S*=x,C+=this.D[e]*S;var k=this.lat0+484813681109536e-20*C*1e5,j=this.long0+M;return t.x=j,t.y=k,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],84:[function(t,e,i){var n=t("../common/tsfnz"),r=t("../common/adjust_lon"),o=t("../common/phi2z"),s=Math.PI/2,a=Math.PI/4;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var o=n(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));s*s<1&&(s=1);var a,l;if(isNaN(this.longc)){var u=n(this.e,this.lat1,Math.sin(this.lat1)),h=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(o,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(o,this.bl);var c=Math.pow(u,this.bl),f=Math.pow(h,this.bl);l=.5*((a=this.el/c)-1/a);var p=(this.el*this.el-f*c)/(this.el*this.el+f*c),d=(f-c)/(f+c),g=r(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*g)/d)/this.bl,this.long0=r(this.long0);var m=r(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*m)/l),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else a=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=a*Math.pow(o,this.bl),l=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(l*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,o,l=t.x,u=t.y,h=r(l-this.long0);if(Math.abs(Math.abs(u)-s)<=1e-10)o=u>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(a+o*this.gamma0*.5)),e=-1*o*s*this.al/this.bl;else{var c=n(this.e,u,Math.sin(u)),f=this.el/Math.pow(c,this.bl),p=.5*(f-1/f),d=.5*(f+1/f),g=Math.sin(this.bl*h),m=(p*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/d;i=Math.abs(Math.abs(m)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-m)/(1+m))/this.bl,e=Math.abs(Math.cos(this.bl*h))<=1e-10?this.al*this.bl*h:this.al*Math.atan2(p*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*h))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),a=.5*(n-1/n),l=.5*(n+1/n),u=Math.sin(this.bl*e/this.al),h=(u*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/l,c=Math.pow(this.el/Math.sqrt((1+h)/(1-h)),1/this.bl);return Math.abs(h-1)<1e-10?(t.x=this.long0,t.y=s):Math.abs(h+1)<1e-10?(t.x=this.long0,t.y=-1*s):(t.y=o(this.e,c),t.x=r(this.long0-Math.atan2(a*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":32,"../common/phi2z":43,"../common/tsfnz":51}],85:[function(t,e,i){var n=t("../common/e0fn"),r=t("../common/e1fn"),o=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/adjust_lon"),l=t("../common/adjust_lat"),u=t("../common/mlfn"),h=t("../common/gN");i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=s(this.es),this.ml0=this.a*u(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,r=t.x,o=t.y,s=a(r-this.long0);if(n=s*Math.sin(o),this.sphere)Math.abs(o)<=1e-10?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(o),i=this.a*(l(o-this.lat0)+(1-Math.cos(n))/Math.tan(o)));else if(Math.abs(o)<=1e-10)e=this.a*s,i=-1*this.ml0;else{var c=h(this.a,this.e,Math.sin(o))/Math.tan(o);e=c*Math.sin(n),i=this.a*u(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+c*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,r,o,s,l,h,c;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=1e-10)e=a(n/this.a+this.long0),i=0;else{s=this.lat0+r/this.a,l=n*n/this.a/this.a+s*s,h=s;var f;for(o=20;o;--o)if(f=Math.tan(h),c=-1*(s*(h*f+1)-h-.5*(h*h+l)*f)/((h-s)/f-1),h+=c,Math.abs(c)<=1e-10){i=h;break}e=a(this.long0+Math.asin(n*Math.tan(h)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=1e-10)i=0,e=a(this.long0+n/this.a);else{s=(this.ml0+r)/this.a,l=n*n/this.a/this.a+s*s,h=s;var p,d,g,m,v;for(o=20;o;--o)if(v=this.e*Math.sin(h),p=Math.sqrt(1-v*v)*Math.tan(h),d=this.a*u(this.e0,this.e1,this.e2,this.e3,h),g=this.e0-2*this.e1*Math.cos(2*h)+4*this.e2*Math.cos(4*h)-6*this.e3*Math.cos(6*h),m=d/this.a,c=(s*(p*m+1)-m-.5*p*(m*m+l))/(this.es*Math.sin(2*h)*(m*m+l-2*s*m)/(4*p)+(s-m)*(p*g-2/Math.sin(2*h))-g),h-=c,Math.abs(c)<=1e-10){i=h;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=a(this.long0+Math.asin(n*p/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":31,"../common/adjust_lon":32,"../common/e0fn":34,"../common/e1fn":35,"../common/e2fn":36,"../common/e3fn":37,"../common/gN":38,"../common/mlfn":41}],86:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/adjust_lat"),o=t("../common/pj_enfn"),s=t("../common/pj_mlfn"),a=t("../common/pj_inv_mlfn"),l=Math.PI/2,u=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=o(this.es)},i.forward=function(t){var e,i,r=t.x,o=t.y;if(r=n(r-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(o),l=20;l;--l){var u=(this.m*o+Math.sin(o)-a)/(this.m+Math.cos(o));if(o-=u,Math.abs(u)<1e-10)break}else o=1!==this.n?Math.asin(this.n*Math.sin(o)):o;e=this.a*this.C_x*r*(this.m+Math.cos(o)),i=this.a*this.C_y*o}else{var h=Math.sin(o),c=Math.cos(o);i=this.a*s(o,h,c,this.en),e=this.a*r*c/Math.sqrt(1-this.es*h*h)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,o,s;return t.x-=this.x0,o=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,o/=this.C_x*(this.m+Math.cos(e)),this.m?e=u((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=u(Math.sin(e)/this.n)),o=n(o+this.long0),e=r(e)):(e=a(t.y/this.a,this.es,this.en),(s=Math.abs(e))<l?(s=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),o=n(i)):s-1e-10<l&&(o=this.long0)),t.x=o,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":31,"../common/adjust_lon":32,"../common/asinz":33,"../common/pj_enfn":44,"../common/pj_inv_mlfn":45,"../common/pj_mlfn":46}],87:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,r=2*n-Math.pow(n,2),o=this.e=Math.sqrt(r);this.R=this.k0*i*Math.sqrt(1-r)/(1-r*Math.pow(e,2)),this.alpha=Math.sqrt(1+r/(1-r)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=s-this.alpha*a+this.alpha*o/2*l},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,l=0,u=o,h=-1e3,c=0;Math.abs(u-h)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(u))/2)),h=u,u=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=u,t},i.names=["somerc"]},{}],88:[function(t,e,i){var n=Math.PI/2,r=t("../common/sign"),o=t("../common/msfnz"),s=t("../common/tsfnz"),a=t("../common/phi2z"),l=t("../common/adjust_lon");i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+r(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/s(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,r,o,a,u,h=t.x,c=t.y,f=Math.sin(c),p=Math.cos(c),d=l(h-this.long0);return Math.abs(Math.abs(h-this.long0)-Math.PI)<=1e-10&&Math.abs(c+this.lat0)<=1e-10?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*f+this.coslat0*p*Math.cos(d)),t.x=this.a*e*p*Math.sin(d)+this.x0,t.y=this.a*e*(this.coslat0*f-this.sinlat0*p*Math.cos(d))+this.y0,t):(i=2*Math.atan(this.ssfn_(c,f,this.e))-n,o=Math.cos(i),r=Math.sin(i),Math.abs(this.coslat0)<=1e-10?(a=s(this.e,c*this.con,this.con*f),u=2*this.a*this.k0*a/this.cons,t.x=this.x0+u*Math.sin(h-this.long0),t.y=this.y0-this.con*u*Math.cos(h-this.long0),t):(Math.abs(this.sinlat0)<1e-10?(e=2*this.a*this.k0/(1+o*Math.cos(d)),t.y=e*r):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*r+this.cosX0*o*Math.cos(d))),t.y=e*(this.cosX0*r-this.sinX0*o*Math.cos(d))+this.y0),t.x=e*o*Math.sin(d)+this.x0,t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,r,o,s,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var h=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,u<=1e-10?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(h)*this.sinlat0+t.y*Math.sin(h)*this.coslat0/u),e=l(Math.abs(this.coslat0)<1e-10?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(h),u*this.coslat0*Math.cos(h)-t.y*this.sinlat0*Math.sin(h))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=1e-10){if(u<=1e-10)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,r=u*this.cons/(2*this.a*this.k0),i=this.con*a(this.e,r),e=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,u<=1e-10?s=this.X0:(s=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/u),e=l(this.long0+Math.atan2(t.x*Math.sin(o),u*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),i=-1*a(this.e,Math.tan(.5*(n+s)));return t.x=e,t.y=i,t},i.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":32,"../common/msfnz":42,"../common/phi2z":43,"../common/sign":48,"../common/tsfnz":51}],89:[function(t,e,i){var n=t("./gauss"),r=t("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,o,s;return t.x=r(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),o=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*o),t.x=s*i*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*i*o),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,o,s,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(a,this.R2);e=Math.sin(l),i=Math.cos(l),s=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a),o=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else s=this.phic0,o=0;return t.x=o,t.y=s,n.inverse.apply(this,[t]),t.x=r(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":32,"./gauss":74}],90:[function(t,e,i){var n=t("../common/e0fn"),r=t("../common/e1fn"),o=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/mlfn"),l=t("../common/adjust_lon"),u=Math.PI/2,h=t("../common/sign"),c=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=r(this.es),this.e2=o(this.es),this.e3=s(this.es),this.ml0=this.a*a(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,r=t.x,o=t.y,s=l(r-this.long0),u=Math.sin(o),h=Math.cos(o);if(this.sphere){var c=h*Math.sin(s);if(Math.abs(Math.abs(c)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+c)/(1-c)),e=Math.acos(h*Math.cos(s)/Math.sqrt(1-c*c)),o<0&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var f=h*s,p=Math.pow(f,2),d=this.ep2*Math.pow(h,2),g=Math.tan(o),m=Math.pow(g,2);e=1-this.es*Math.pow(u,2);var v=this.a/Math.sqrt(e),y=this.a*a(this.e0,this.e1,this.e2,this.e3,o);i=this.k0*v*f*(1+p/6*(1-m+d+p/20*(5-18*m+Math.pow(m,2)+72*d-58*this.ep2)))+this.x0,n=this.k0*(y-this.ml0+v*g*(p*(.5+p/24*(5-m+9*d+4*Math.pow(d,2)+p/30*(61-58*m+Math.pow(m,2)+600*d-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,r,o,s;if(this.sphere){var a=Math.exp(t.x/(this.a*this.k0)),f=.5*(a-1/a),p=this.lat0+t.y/(this.a*this.k0),d=Math.cos(p);e=Math.sqrt((1-d*d)/(1+f*f)),o=c(e),p<0&&(o=-o),s=0===f&&0===d?this.long0:l(Math.atan2(f,d)+this.long0)}else{var g=t.x-this.x0,m=t.y-this.y0;for(i=e=(this.ml0+m/this.k0)/this.a,r=0;!0&&(n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=1e-10));r++)if(r>=6)return 95;if(Math.abs(i)<u){var v=Math.sin(i),y=Math.cos(i),b=Math.tan(i),w=this.ep2*Math.pow(y,2),x=Math.pow(w,2),M=Math.pow(b,2),S=Math.pow(M,2);e=1-this.es*Math.pow(v,2);var C=this.a/Math.sqrt(e),k=C*(1-this.es)/e,j=g/(C*this.k0),P=Math.pow(j,2);o=i-C*b*P/k*(.5-P/24*(5+3*M+10*w-4*x-9*this.ep2-P/30*(61+90*M+298*w+45*S-252*this.ep2-3*x))),s=l(this.long0+j*(1-P/6*(1+2*M+w-P/20*(5-2*w+28*M-3*x+8*this.ep2+24*S)))/y)}else o=u*h(m),s=this.long0}return t.x=s,t.y=o,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":32,"../common/asinz":33,"../common/e0fn":34,"../common/e1fn":35,"../common/e2fn":36,"../common/e3fn":37,"../common/mlfn":41,"../common/sign":48}],91:[function(t,e,i){var n=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=.017453292519943295*(6*Math.abs(this.zone)-183),this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,n.init.apply(this),this.forward=n.forward,this.inverse=n.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":90}],92:[function(t,e,i){var n=t("../common/adjust_lon"),r=Math.PI/2,o=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,s=t.x,a=t.y,l=n(s-this.long0);Math.abs(a)<=1e-10&&(e=this.x0+this.R*l,i=this.y0);var u=o(2*Math.abs(a/Math.PI));(Math.abs(l)<=1e-10||Math.abs(Math.abs(a)-r)<=1e-10)&&(e=this.x0,i=a>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var h=.5*Math.abs(Math.PI/l-l/Math.PI),c=h*h,f=Math.sin(u),p=Math.cos(u),d=p/(f+p-1),g=d*d,m=d*(2/f-1),v=m*m,y=Math.PI*this.R*(h*(d-v)+Math.sqrt(c*(d-v)*(d-v)-(v+c)*(g-v)))/(v+c);l<0&&(y=-y),e=this.x0+y;var b=c+d;return y=Math.PI*this.R*(m*b-h*Math.sqrt((v+c)*(c+1)-b*b))/(v+c),i=a>=0?this.y0+y:this.y0-y,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,r,o,s,a,l,u,h,c,f,p,d;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,r=t.x/f,o=t.y/f,s=r*r+o*o,a=-Math.abs(o)*(1+s),l=a-2*o*o+r*r,u=-2*a+1+2*o*o+s*s,d=o*o/u+(2*l*l*l/u/u/u-9*a*l/u/u)/27,h=(a-l*l/3/u)/u,c=2*Math.sqrt(-h/3),f=3*d/h/c,Math.abs(f)>1&&(f=f>=0?1:-1),p=Math.acos(f)/3,i=t.y>=0?(-c*Math.cos(p+Math.PI/3)-l/3/u)*Math.PI:-(-c*Math.cos(p+Math.PI/3)-l/3/u)*Math.PI,e=Math.abs(r)<1e-10?this.long0:n(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(r*r-o*o)+s*s))/2/r),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":32,"../common/asinz":33}],93:[function(t,e,i){var n=.017453292519943295,r=57.29577951308232,o=1,s=2,a=t("./datum_transform"),l=t("./adjust_axis"),u=t("./Proj"),h=t("./common/toPoint");e.exports=function t(e,i,c){function f(t,e){return(t.datum.datum_type===o||t.datum.datum_type===s)&&"WGS84"!==e.datumCode}var p;return Array.isArray(c)&&(c=h(c)),e.datum&&i.datum&&(f(e,i)||f(i,e))&&(t(e,p=new u("WGS84"),c),e=p),"enu"!==e.axis&&l(e,!1,c),"longlat"===e.projName?(c.x*=n,c.y*=n):(e.to_meter&&(c.x*=e.to_meter,c.y*=e.to_meter),e.inverse(c)),e.from_greenwich&&(c.x+=e.from_greenwich),c=a(e.datum,i.datum,c),i.from_greenwich&&(c.x-=i.from_greenwich),"longlat"===i.projName?(c.x*=r,c.y*=r):(i.forward(c),i.to_meter&&(c.x/=i.to_meter,c.y/=i.to_meter)),"enu"!==i.axis&&l(i,!0,c),c}},{"./Proj":29,"./adjust_axis":30,"./common/toPoint":50,"./datum_transform":58}],94:[function(t,e,i){function n(t,e,i){t[e]=i.map(function(t){var e={};return r(t,e),e}).reduce(function(t,e){return u(t,e)},{})}function r(t,e){var i;Array.isArray(t)?("PARAMETER"===(i=t.shift())&&(i=t.shift()),1===t.length?Array.isArray(t[0])?(e[i]={},r(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):r(t,e[i])):e[i]=!0):e[t]=!0}function o(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function s(t){return t*l}function a(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&(t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",s],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["alpha","azimuth",s],["srsCode","name"]].forEach(function(e){return o(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=s(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var l=.017453292519943295,u=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),o=i.shift();i.unshift(["name",o]),i.unshift(["type",n]),i.unshift("output");var s={};return r(i,s),a(s.output),u(e,s.output)}},{"./extend":61}],95:[function(t,e,i){function n(t){return t*(Math.PI/180)}function r(t){return t/Math.PI*180}function o(t){var e,i,r,o,s,l,u,h=t.lat,c=t.lon,f=6378137,p=n(h),d=n(c);u=Math.floor((c+180)/6)+1,180===c&&(u=60),h>=56&&h<64&&c>=3&&c<12&&(u=32),h>=72&&h<84&&(c>=0&&c<9?u=31:c>=9&&c<21?u=33:c>=21&&c<33?u=35:c>=33&&c<42&&(u=37)),l=n(6*(u-1)-180+3),e=f/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),i=Math.tan(p)*Math.tan(p),r=.006739496752268451*Math.cos(p)*Math.cos(p);var g=.9996*e*((o=Math.cos(p)*(d-l))+(1-i+r)*o*o*o/6+(5-18*i+i*i+72*r-.39089081163157013)*o*o*o*o*o/120)+5e5,m=.9996*((s=f*(.9983242984503243*p-.002514607064228144*Math.sin(2*p)+2639046602129982e-21*Math.sin(4*p)-3.418046101696858e-9*Math.sin(6*p)))+e*Math.tan(p)*(o*o/2+(5-i+9*r+4*r*r)*o*o*o*o/24+(61-58*i+i*i+600*r-2.2240339282485886)*o*o*o*o*o*o/720));return h<0&&(m+=1e7),{northing:Math.round(m),easting:Math.round(g),zoneNumber:u,zoneLetter:a(h)}}function s(t){var e=t.northing,i=t.easting,n=t.zoneLetter,o=t.zoneNumber;if(o<0||o>60)return null;var a,l,u,h,c,f,p,d,g=6378137,m=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),v=i-5e5,y=e;n<"N"&&(y-=1e7),f=6*(o-1)-180+3,d=(p=y/.9996/6367449.145945056)+(3*m/2-27*m*m*m/32)*Math.sin(2*p)+(21*m*m/16-55*m*m*m*m/32)*Math.sin(4*p)+151*m*m*m/96*Math.sin(6*p),a=g/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),l=Math.tan(d)*Math.tan(d),u=.006739496752268451*Math.cos(d)*Math.cos(d),h=.99330562*g/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),c=v/(.9996*a);var b=d-a*Math.tan(d)/h*(c*c/2-(5+3*l+10*u-4*u*u-.06065547077041606)*c*c*c*c/24+(61+90*l+298*u+45*l*l-1.6983531815716497-3*u*u)*c*c*c*c*c*c/720);b=r(b);var w=(c-(1+2*l+u)*c*c*c/6+(5-2*u+28*l-3*u*u+.05391597401814761+24*l*l)*c*c*c*c*c/120)/Math.cos(d);w=f+r(w);var x;if(t.accuracy){var M=s({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});x={top:M.lat,right:M.lon,bottom:b,left:w}}else x={lat:b,lon:w};return x}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function l(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+u(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function u(t,e,i){var n=h(i);return c(Math.floor(t/1e5),Math.floor(e/1e5)%20,n)}function h(t){var e=t%m;return 0===e&&(e=m),e}function c(t,e,i){var n=i-1,r=v.charCodeAt(n),o=y.charCodeAt(n),s=r+t-1,a=o+e,l=!1;return s>S&&(s=s-S+b-1,l=!0),(s===w||r<w&&s>w||(s>w||r<w)&&l)&&s++,(s===x||r<x&&s>x||(s>x||r<x)&&l)&&++s===w&&s++,s>S&&(s=s-S+b-1),a>M?(a=a-M+b-1,l=!0):l=!1,(a===w||o<w&&a>w||(a>w||o<w)&&l)&&a++,(a===x||o<x&&a>x||(a>x||o<x)&&l)&&++a===w&&a++,a>M&&(a=a-M+b-1),String.fromCharCode(s)+String.fromCharCode(a)}function f(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(o,o+=2);for(var l=h(s),u=p(n.charAt(0),l),c=d(n.charAt(1),l);c<g(a);)c+=2e6;var f=i-o;if(f%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var m,v,y,b,w,x=f/2,M=0,S=0;return x>0&&(m=1e5/Math.pow(10,x),v=t.substring(o,o+x),M=parseFloat(v)*m,y=t.substring(o+x),S=parseFloat(y)*m),b=M+u,w=S+c,{easting:b,northing:w,zoneLetter:a,zoneNumber:s,accuracy:m}}function p(t,e){for(var i=v.charCodeAt(e-1),n=1e5,r=!1;i!==t.charCodeAt(0);){if(++i===w&&i++,i===x&&i++,i>S){if(r)throw"Bad character: "+t;i=b,r=!0}n+=1e5}return n}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=y.charCodeAt(e-1),n=0,r=!1;i!==t.charCodeAt(0);){if(++i===w&&i++,i===x&&i++,i>M){if(r)throw"Bad character: "+t;i=b,r=!0}n+=1e5}return n}function g(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var m=6,v="AJSAJS",y="AFAFAF",b=65,w=73,x=79,M=86,S=90;i.forward=function(t,e){return e=e||5,l(o({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=s(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=s(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],96:[function(t,e,i){e.exports={name:"proj4",version:"2.3.10",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],gitHead:"ac03d1439491dc313da80985193f702ca471b3d0",bugs:{url:"https://github.com/proj4js/proj4js/issues"},homepage:"https://github.com/proj4js/proj4js#readme",_id:"proj4@2.3.10",_shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",_from:"proj4@2.3.10",_npmVersion:"2.11.2",_nodeVersion:"0.12.5",_npmUser:{name:"ahocevar",email:"andreas.hocevar@gmail.com"},maintainers:[{name:"cwmma",email:"calvin.metcalf@gmail.com"},{name:"ahocevar",email:"andreas.hocevar@gmail.com"}],dist:{shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz"},_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz"}},{}],97:[function(t,e,i){e.exports={Bloodhound:t("typeahead.js/dist/bloodhound.js"),loadjQueryPlugin:function(){t("typeahead.js")}}},{"typeahead.js":99,"typeahead.js/dist/bloodhound.js":98}],98:[function(t,e,i){!function(n,r){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return n.Bloodhound=r(t)}):"object"==typeof i?e.exports=r(t("jquery")):n.Bloodhound=r(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){t.each(e,function(t,e){return i(e,t)})},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){if(!(n=i.call(null,r,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){if(n=i.call(null,r,t,e))return!1}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var o,s,a=this,l=arguments;return o=function(){n=null,i||(r=t.apply(a,l))},s=i&&!n,clearTimeout(n),n=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var i,n,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(i,n)},function(){var l=new Date,u=e-(l-s);return i=this,n=arguments,u<=0?(clearTimeout(r),r=null,s=l,o=t.apply(i,n)):r||(r=setTimeout(a,u)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function i(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var r=[];return e.each(i,function(i){r=r.concat(t(e.toStr(n[i])))}),r}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),r=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new r(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),o=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,i,n=[],r=a.length;for(e=0;e<r;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,i,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(n()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}),i}(),s=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new r(0):a}var n=0,o={},s=6,a=new r(10);return i.setMaxPendingRequests=function(t){s=t},i.resetCache=function(){a.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),u._cache.set(a,t)}function r(){e(!0)}var a,l,u=this;a=this._fingerprint(t),this.cancelled||a!==this.lastReq||((l=o[a])?l.done(i).fail(r):n<s?(n++,o[a]=this._send(t).done(i).fail(r).always(function(){n--,delete o[a],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var r,o;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},o=this._fingerprint(i),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?n(null,r):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){(i=i||{}).datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[l]=[],t[a]={},t}function o(t){for(var e={},i=[],n=0,r=t.length;n<r;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function s(t,e){var i=0,n=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,s=e.length;i<o&&n<s;)t[i]<e[n]?i++:t[i]>e[n]?n++:(r.push(t[i]),i++,n++);return r}var a="c",l="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;i.datums[o=i.identify(t)]=t,s=n(i.datumTokenizer(t)),e.each(s,function(t){var e,n,s;for(e=i.trie,n=t.split("");s=n.shift();)(e=e[a][s]||(e[a][s]=r()))[l].push(o)})})},get:function(t){var i=this;return e.map(t,function(t){return i.datums[t]})},search:function(t){var i,r,u=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,o;if(r&&0===r.length)return!1;for(e=u.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];if(!e||0!==i.length)return r=[],!1;o=e[l].slice(0),r=r?s(r,o):o}),r?e.map(o(r),function(t){return u.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){var e,i=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail(function(){t(!0)}).done(function(e){t(null,i.transform(e))}))},clear:function(){return this.storage.clear(),this}}),t}(),u=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){var i,n=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,function(t,i){e(t?[]:n.transform(i))})},cancelLastRequest:function(){this.transport.cancel()}}),t}(),h=function(){"use strict";function n(n){var r;return n?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(r,n)).url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function r(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,!(i=e.mixin(n,i)).url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=o(i),i.limiter=s(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function o(t){var e,i,n;return e=t.prepare,i=t.replace,n=t.wildcard,e||(e=i?function(t,e){return e.url=i(e.url,t),e}:t.wildcard?function(t,e){return e.url=e.url.replace(n,encodeURIComponent(t)),e}:function(t,e){return e})}function s(t){var i,n,r;return i=t.limiter,n=t.rateLimitBy,r=t.rateLimitWait,i||(i=/^throttle$/i.test(n)?function(t){return function(i){return e.throttle(i,t)}}(r):function(t){return function(i){return e.debounce(i,t)}}(r)),i}function a(i){return function(n){var r=t.Deferred();return i(n,function(t){e.defer(function(){r.resolve(t)})},function(t){e.defer(function(){r.reject(t)})}),r}}return function(i){var o,s;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(i=e.mixin(o,i||{})).datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),s=i.sorter,i.sorter=s?function(t){return t.sort(s)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=r(i.remote),i}}();return function(){"use strict";function i(t){t=h(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new u(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var r;return r=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=r),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){var t=this;return this.remote?function(e,i,n){return t.search(e,i,n)}:function(e,i){return t.search(e,i)}},_loadPrefetch:function(){var e,i,n=this;return e=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),e.resolve()):this.prefetch.fromNetwork(function(t,i){if(t)return e.reject();n.add(i),n.prefetch.store(n.index.serialize()),e.resolve()}):e.resolve(),e.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){t.add(t.local)}),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){var r,o=this;return r=this.sorter(this.index.search(t)),i(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,function(t){var i=[];e.each(t,function(t){!e.some(r,function(e){return o.identify(t)===o.identify(e)})&&i.push(t)}),n&&n(i)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}()})},{jquery:25}],99:[function(t,e,i){!function(n,r){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return n.Bloodhound=r(t)}):"object"==typeof i?e.exports=r(t("jquery")):n.Bloodhound=r(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){t.each(e,function(t,e){return i(e,t)})},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){if(!(n=i.call(null,r,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){if(n=i.call(null,r,t,e))return!1}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var o,s,a=this,l=arguments;return o=function(){n=null,i||(r=t.apply(a,l))},s=i&&!n,clearTimeout(n),n=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var i,n,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(i,n)},function(){var l=new Date,u=e-(l-s);return i=this,n=arguments,u<=0?(clearTimeout(r),r=null,s=l,o=t.apply(i,n)):r||(r=setTimeout(a,u)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return(t=e.toStr(t))?t.split(/\s+/):[]}function i(t){return(t=e.toStr(t))?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var r=[];return e.each(i,function(i){r=r.concat(t(e.toStr(n[i])))}),r}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),r=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new r(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];if(e)return this.list.moveToFront(e),e.val},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),o=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function o(e){return t.parseJSON(e)}function s(t){var e,i,n=[],r=a.length;for(e=0;e<r;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(t){"QuotaExceededError"===t.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),o(this.ls.getItem(this._prefix(t)))},set:function(t,i,o){return e.isNumber(o)?this._safeSet(this._ttlKey(t),r(n()+o)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=s(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=o(this.ls.getItem(this._ttlKey(t)));return!!(e.isNumber(i)&&n()>i)}}),i}(),s=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=!1===t.cache?new r(0):a}var n=0,o={},s=6,a=new r(10);return i.setMaxPendingRequests=function(t){s=t},i.resetCache=function(){a.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return(e=e||{}).url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),u._cache.set(a,t)}function r(){e(!0)}var a,l,u=this;a=this._fingerprint(t),this.cancelled||a!==this.lastReq||((l=o[a])?l.done(i).fail(r):n<s?(n++,o[a]=this._send(t).done(i).fail(r).always(function(){n--,delete o[a],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var r,o;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},o=this._fingerprint(i),this.cancelled=!1,this.lastReq=o,(r=this._cache.get(o))?n(null,r):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){(i=i||{}).datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[l]=[],t[a]={},t}function o(t){for(var e={},i=[],n=0,r=t.length;n<r;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function s(t,e){var i=0,n=0,r=[];t=t.sort(),e=e.sort();for(var o=t.length,s=e.length;i<o&&n<s;)t[i]<e[n]?i++:t[i]>e[n]?n++:(r.push(t[i]),i++,n++);return r}var a="c",l="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var o,s;i.datums[o=i.identify(t)]=t,s=n(i.datumTokenizer(t)),e.each(s,function(t){var e,n,s;for(e=i.trie,n=t.split("");s=n.shift();)(e=e[a][s]||(e[a][s]=r()))[l].push(o)})})},get:function(t){var i=this;return e.map(t,function(t){return i.datums[t]})},search:function(t){var i,r,u=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,o;if(r&&0===r.length)return!1;for(e=u.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];if(!e||0!==i.length)return r=[],!1;o=e[l].slice(0),r=r?s(r,o):o}),r?e.map(o(r),function(t){return u.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),l=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new o(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){var e,i=this;t&&(e=this.prepare(this._settings()),this.transport(e).fail(function(){t(!0)}).done(function(e){t(null,i.transform(e))}))},clear:function(){return this.storage.clear(),this}}),t}(),u=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new s({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){var i,n=this;if(e)return t=t||"",i=this.prepare(t,this._settings()),this.transport.get(i,function(t,i){e(t?[]:n.transform(i))})},cancelLastRequest:function(){this.transport.cancel()}}),t}(),h=function(){"use strict";function n(n){var r;return n?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,!(n=e.mixin(r,n)).url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function r(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,!(i=e.mixin(n,i)).url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=o(i),i.limiter=s(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function o(t){var e,i,n;return e=t.prepare,i=t.replace,n=t.wildcard,e||(e=i?function(t,e){return e.url=i(e.url,t),e}:t.wildcard?function(t,e){return e.url=e.url.replace(n,encodeURIComponent(t)),e}:function(t,e){return e})}function s(t){var i,n,r;return i=t.limiter,n=t.rateLimitBy,r=t.rateLimitWait,i||(i=/^throttle$/i.test(n)?function(t){return function(i){return e.throttle(i,t)}}(r):function(t){return function(i){return e.debounce(i,t)}}(r)),i}function a(i){return function(n){var r=t.Deferred();return i(n,function(t){e.defer(function(){r.resolve(t)})},function(t){e.defer(function(){r.reject(t)})}),r}}return function(i){var o,s;return o={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},!(i=e.mixin(o,i||{})).datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),s=i.sorter,i.sorter=s?function(t){return t.sort(s)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=r(i.remote),i}}();return function(){"use strict";function i(t){t=h(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new u(t.remote):null,this.prefetch=t.prefetch?new l(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),!1!==t.initialize&&this.initialize()}var r;return r=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=r),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){var t=this;return this.remote?function(e,i,n){return t.search(e,i,n)}:function(e,i){return t.search(e,i)}},_loadPrefetch:function(){var e,i,n=this;return e=t.Deferred(),this.prefetch?(i=this.prefetch.fromCache())?(this.index.bootstrap(i),e.resolve()):this.prefetch.fromNetwork(function(t,i){if(t)return e.reject();n.add(i),n.prefetch.store(n.index.serialize()),e.resolve()}):e.resolve(),e.promise()},_initialize:function(){var t=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(function(){t.add(t.local)}),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){var r,o=this;return r=this.sorter(this.index.search(t)),i(this.remote?r.slice():r),this.remote&&r.length<this.sufficient?this.remote.get(t,function(t){var i=[];e.each(t,function(t){!e.some(r,function(e){return o.identify(t)===o.identify(e)})&&i.push(t)}),n&&n(i)}):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return s.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}()}),function(n,r){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return r(t)}):"object"==typeof i?e.exports=r(t("jquery")):r(jQuery)}(0,function(t){var e=function(){"use strict";return{isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return void 0===t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){t.each(e,function(t,e){return i(e,t)})},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){if(!(n=i.call(null,r,t,e)))return!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){if(n=i.call(null,r,t,e))return!1}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){return t.isFunction(e)?e:function(){return String(e)}},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var o,s,a=this,l=arguments;return o=function(){n=null,i||(r=t.apply(a,l))},s=i&&!n,clearTimeout(n),n=setTimeout(o,e),s&&(r=t.apply(a,l)),r}},throttle:function(t,e){var i,n,r,o,s,a;return s=0,a=function(){s=new Date,r=null,o=t.apply(i,n)},function(){var l=new Date,u=e-(l-s);return i=this,n=arguments,u<=0?(clearTimeout(r),r=null,s=l,o=t.apply(i,n)):r||(r=setTimeout(a,u)),o}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";function t(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function i(t){var i={};return e.each(t,function(t,e){i[e]="."+t}),i}function n(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var r={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return function(o){var s,a;return a=e.mixin({},r,o),s={css:n(),classes:a,html:t(a),selectors:i(a)},{css:s.css,html:s.html,classes:s.classes,selectors:s.selectors,mixin:function(t){e.mixin(t,s)}}}}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n;return"typeahead:",n={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var n;return n=t.Event("typeahead:"+e),(i=i||[]).unshift(n),this.$el.trigger.apply(this.$el,i),n},before:function(t){var e;return e=[].slice.call(arguments,1),this._trigger("before"+t,e).isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=n[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),r=function(){"use strict";function t(t,e,r,o){var s;if(!r)return this;for(e=e.split(n),r=o?i(r,o):r,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(r);return this}function e(t,e,i){return function(){for(var n,r=0,o=t.length;!n&&r<o;r+=1)n=!1===t[r].apply(e,i);return!n}}function i(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var n=/\s+/,r=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)};return{onSync:function(e,i,n){return t.call(this,"sync",e,i,n)},onAsync:function(e,i,n){return t.call(this,"async",e,i,n)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(n);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var i,o,s,a,l;if(!this._callbacks)return this;for(t=t.split(n),s=[].slice.call(arguments,1);(i=t.shift())&&(o=this._callbacks[i]);)a=e(o.sync,this,[i].concat(s)),l=e(o.async,this,[i].concat(s)),a()&&r(l);return this}}}(),o=function(t){"use strict";function i(t,i,n){for(var r,o=[],s=0,a=t.length;s<a;s++)o.push(e.escapeRegExChars(t[s]));return r=n?"\\b("+o.join("|")+")\\b":"("+o.join("|")+")",i?new RegExp(r):new RegExp(r,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function o(t,e){for(var i,n=0;n<t.childNodes.length;n++)3===(i=t.childNodes[n]).nodeType?n+=e(i)?1:0:o(i,e)}var s;(r=e.mixin({},n,r)).node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],s=i(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,function(e){var i,n,o;return(i=s.exec(e.data))&&(o=t.createElement(r.tagName),r.className&&(o.className=r.className),(n=e.splitText(i.index)).splitText(i[0].length),o.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(o,n)),!!i}))}}(window.document),s=function(){"use strict";function i(i,r){(i=i||{}).input||t.error("input is missing"),r.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function o(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function s(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!s(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!s(e);break;default:i=!0}return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;n=!!(i=o(t,this.query))&&this.query.length!==t.length,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,n,r,o=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(o._onInput,o,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i;i=(t=this.getInputValue())!==(e=this.getHint())&&0===e.indexOf(t),!(""!==t&&i&&!this.hasOverflow())&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:!document.selection||((n=document.selection.createRange()).moveStart("character",-t),t===n.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),a=function(){"use strict";function i(i,r){(i=i||{}).templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!a(i.name)&&t.error("invalid dataset name: "+i.name),r.mixin(this),this.highlight=!!i.highlight,this.name=i.name||u(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=s(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){return t=t||e.stringify,e.isFunction(t)?t:function(e){return e[t]}}function s(i,n){return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||function(e){return t("<div>").text(n(e))}}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var l,u;return l={val:"tt-selectable-display",obj:"tt-selectable-object"},u=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(l.obj)?{val:i.data(l.val)||"",obj:i.data(l.obj)||null}:null},e.mixin(i.prototype,r,{_overwrite:function(t,e){(e=e||[]).length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){(e=e||[]).length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;n=(i=this._getSuggestionsFragment(t,e)).children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var r,s=this;return r=document.createDocumentFragment(),e.each(n,function(e){var n,o;o=s._injectQuery(i,e),n=t(s.templates.suggestion(o)).data(l.obj,e).data(l.val,s.displayFn(e)).addClass(s.classes.suggestion+" "+s.classes.selectable),r.appendChild(n[0])}),this.highlight&&o({className:this.classes.highlight,node:r,pattern:i}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){o||(o=!0,t=(t||[]).slice(0,n.limit),s=t.length,n._overwrite(e,t),s<n.limit&&n.async&&n.trigger("asyncRequested",e))}var n=this,r=!1,o=!1,s=0;this.cancel(),this.cancel=function(){r=!0,n.cancel=t.noop,n.async&&n.trigger("asyncCanceled",e)},this.source(e,i,function(i){i=i||[],!r&&s<n.limit&&(n.cancel=t.noop,s+=i.length,n._append(e,i.slice(0,n.limit-s)),n.async&&n.trigger("asyncReceived",e))}),!o&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),l=function(){"use strict";function i(i,n){var r=this;(i=i||{}).node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,function(e){var i=r.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(r.$node),new a(e,n)})}return e.mixin(i.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){return e.every(this.datasets,function(t){return t.isEmpty()})},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,r;i=(e=t.position().top)+t.outerHeight(!0),n=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),e<0?this.$node.scrollTop(n+e):r<i&&this.$node.scrollTop(n+(i-r))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n,r;return i=this.getActiveSelectable(),e=this._getSelectables(),n=i?e.index(i):-1,r=n+t,r=(r+1)%(e.length+1)-1,-1===(r=r<-1?e.length-1:r)?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){var i=t!==this.query;return i&&(this.query=t,e.each(this.datasets,function(e){e.update(t)})),i},empty:function(){e.each(this.datasets,function(t){t.clear()}),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,function(t){t.destroy()})}}),i}(),u=function(){"use strict";function t(){l.apply(this,[].slice.call(arguments,0))}var i=l.prototype;return e.mixin(t.prototype,l.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),h=function(){"use strict";function i(i,r){var o,s,a,l,u,h,c,f,p,d,g;(i=i||{}).input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),o=n(this,"activate","open","_onFocused"),s=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),l=n(this,"isActive","isOpen","_onTabKeyed"),u=n(this,"isActive","_onEscKeyed"),h=n(this,"isActive","open","_onUpKeyed"),c=n(this,"isActive","open","_onDownKeyed"),f=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),d=n(this,"_openIfActive","_onQueryChanged"),g=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",o,this).onSync("blurred",s,this).onSync("enterKeyed",a,this).onSync("tabKeyed",l,this).onSync("escKeyed",u,this).onSync("upKeyed",h,this).onSync("downKeyed",c,this).onSync("leftKeyed",f,this).onSync("rightKeyed",p,this).onSync("queryChanged",d,this).onSync("whitespaceChanged",g,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,function(e){return t[e].apply(t,n)})}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",function(t){var r,o,s;r=document.activeElement,o=n.is(r),s=n.has(r).length>0,e.isMsie()&&(o||s)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return(t=e.isString(t)?t:this.input.getQuery()||"").length>=this.minLength},_updateHint:function(){var t,i,n,r,o,a;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(r=s.normalizeQuery(n),o=e.escapeRegExChars(r),(a=new RegExp("^(?:"+o+")(.+$)","i").exec(i.val))&&this.input.setHint(n+a[1]))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return!!this.isActive()||!(!this.isEnabled()||this.eventBus.before("active"))&&(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return!this.isActive()||!this.eventBus.before("idle")&&(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0)},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return!(!e||this.eventBus.before("select",e.obj))&&(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0)},autocomplete:function(t){var e,i;return e=this.input.getQuery(),i=this.menu.getSelectableData(t),!(!(i&&e!==i.val)||this.eventBus.before("autocomplete",i.obj))&&(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0)},moveCursor:function(t){var e,i,n,r;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),n=this.menu.getSelectableData(i),r=n?n.obj:null,!(this._minLengthMet()&&this.menu.update(e))&&!this.eventBus.before("cursorchange",r)&&(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function r(e,i){e.each(function(){var e,n=t(this);(e=n.data(g.typeahead))&&i(e,n)})}function o(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(c(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(g.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(t){}return t}function c(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function f(t){var i,n;i=t.data(g.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(g.attrs),function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)}),t.removeData(g.typeahead).removeData(g.www).removeData(g.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function p(i){var n,r;return n=e.isJQuery(i)||e.isElement(i),(r=n?t(i).first():[]).length?r:null}var d,g,m;d=t.fn.typeahead,g={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},m={initialize:function(r,c){var f;return c=e.isArray(c)?c:[].slice.call(arguments,1),r=r||{},f=i(r.classNames),this.each(function(){var i,d,m,v,y,b,w,x,M,S,C;e.each(c,function(t){t.highlight=!!r.highlight}),i=t(this),d=t(f.html.wrapper),m=p(r.hint),v=p(r.menu),y=!1!==r.hint&&!m,b=!1!==r.menu&&!v,y&&(m=o(i,f)),b&&(v=t(f.html.menu).css(f.css.menu)),m&&m.val(""),i=a(i,f),(y||b)&&(d.css(f.css.wrapper),i.css(y?f.css.input:f.css.inputWithNoHint),i.wrap(d).parent().prepend(y?m:null).append(b?v:null)),C=b?u:l,w=new n({el:i}),x=new s({hint:m,input:i},f),M=new C({node:v,datasets:c},f),S=new h({input:x,menu:M,eventBus:w,minLength:r.minLength},f),i.data(g.www,f),i.data(g.typeahead,S)})},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var i=!1,n=t(e);return r(this.first(),function(t){i=t.select(n)}),i},autocomplete:function(e){var i=!1,n=t(e);return r(this.first(),function(t){i=t.autocomplete(n)}),i},moveCursor:function(t){var e=!1;return r(this.first(),function(i){e=i.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){f(e),t.destroy()}),this}},t.fn.typeahead=function(t){return m[t]?m[t].apply(this,[].slice.call(arguments,1)):m.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=d,this}}()})},{jquery:25}],100:[function(t,e,i){(function(i){"use strict";function n(t){o.init(t.el,t.options),a(t.options.controls)}window.proj4=t("proj4"),i.jQuery=t("jquery");var r=t("jquery"),o=t("./src/viewer"),s=t("./src/maploader"),a=t("./src/controlinitialiser"),l={};l.map={},l.config=t("./conf/origoConfig"),l.controls=t("./conf/origoControls"),l.map.init=function(t,e){var i=e?r.extend(l.config,e):l.config,a=s(t,i);return a?(a.then(function(t){n(t)}),o):void 0},e.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./conf/origoConfig":1,"./conf/origoControls":2,"./src/controlinitialiser":104,"./src/maploader":148,"./src/viewer":201,jquery:25,proj4:64}],101:[function(t,e,i){"use strict";function n(){var t=h.createListButton({id:"o-about",iconCls:"o-icon-fa-info-circle",src:"css/svg/fa-icons.svg#fa-info-circle",text:s});u("#o-menutools").append(t),o=u("#o-about-button")}function r(){o.on("click",function(t){c.createModal("#o-map",{title:a,content:l}),c.showModal(),t.preventDefault()})}var o,s,a,l,u=t("jquery"),h=t("./utils"),c=t("./modal");e.exports.init=function(t){var e=t||{};s=e.buttontext||"Om kartan",a=e.title||"Om kartan",l=e.content||"<p></p>",n(),r()}},{"./modal":152,"./utils":185,jquery:25}],102:[function(t,e,i){"use strict";var n,r=t("openlayers"),o=t("jquery"),s=t("./viewer");e.exports.init=function(t){function e(){var t=n.getSize(),e=t[0]<=a[0]||t[1]<=a[1];i.setCollapsible(e),i.setCollapsed(e)}var i,a=(t||{}).breakPoint||[768,500];n=s.getMap(),i=new r.control.Attribution({collapsible:!1}),n.addControl(i),o(window).on("resize",e),e()}},{"./viewer":201,jquery:25,openlayers:27}],103:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){return'<svg width=\'32px\' height=\'32px\' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ripple">\r\n  <rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect>\r\n  <g>\r\n    <animate attributeName="opacity" dur="2s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="1;1;0"></animate>\r\n      <circle cx="50" cy="50" r="40" stroke="#000000" fill="none" stroke-width="6" stroke-linecap="round">\r\n        <animate attributeName="r" dur="2s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="0;22;44"></animate>\r\n      </circle>\r\n  </g>\r\n      <g>\r\n        <animate attributeName="opacity" dur="2s" repeatCount="indefinite" begin="1s" keyTimes="0;0.33;1" values="1;1;0"></animate>\r\n        <circle cx="50" cy="50" r="40" stroke="#000" fill="none" stroke-width="6" stroke-linecap="round">\r\n          <animate attributeName="r" dur="2s" repeatCount="indefinite" begin="1s" keyTimes="0;0.33;1" values="0;22;44"></animate>\r\n        </circle>\r\n      </g>\r\n</svg>\r\n'},useData:!0})},{"hbsfy/runtime":24}],104:[function(t,e,i){"use strict";e.exports=function(t){var e,i;t.forEach(function(t){e=t.name,i=t.options||void 0,origo.controls.hasOwnProperty(e)&&(i?origo.controls[e].init(i):origo.controls[e].init())})}},{}],105:[function(t,e,i){"use strict";var n=t("jquery"),r=t("./utils");e.exports=function(t,e,i){function o(t){l.find("li").removeClass(h),t.addClass(h)}var s,a="data-"+i.dataAttribute||"default",l=n("#"+t),u=i.active||void 0,h="o-active",c=[],f="o-dropdown-li",p=r.createSvg({href:"#ic_check_24px",cls:"o-icon-24"});e.forEach(function(t,e){var i={cls:f},n=r.createElement("span",p,{cls:"o-icon"});i[a]=t.value,t.value===u&&(i.cls=h),c[e]=r.createElement("li",t.name+n,i)}),s=r.createElement("ul",c.join(""),{cls:"o-dropdown"}),l.append(s),l.on("click","ul",function(t){var e=n(t.target);l.trigger({type:"changeDropdown",dataAttribute:n(t.target).data(i.dataAttribute)}),o(e)})}},{"./utils":185,jquery:25}],106:[function(t,e,i){"use strict";function n(t){var e=t||{};e.autoSave=!e.hasOwnProperty("autoSave")||e.autoSave,e.autoForm=!!e.hasOwnProperty("autoForm")&&e.autoForm,e.currentLayer=e.defaultLayer||e.editableLayers[0],u.init(e),o(),s=a("#o-editor-button"),r()}function r(){s.on("click",function(t){a(".o-map").first().trigger({type:"enableInteraction",interaction:"editor"}),this.blur(),t.stopPropagation(),t.preventDefault()})}function o(){var t=l.createListButton({id:"o-editor",iconCls:"o-icon-fa-pencil",src:"#fa-pencil",text:"Redigera"});a("#o-menutools").append(t)}var s,a=t("jquery"),l=t("./utils"),u=t("./editor/editortoolbar");e.exports={init:n}},{"./editor/editortoolbar":114,"./utils":185,jquery:25}],107:[function(t,e,i){"use strict";function n(t,e){var i={};if("delete"===e.type){var n=t.map(function(t){return t.getId()});i.objectIds=n.join(",")}else{var r=t.map(function(t){return u.writeFeature(t,{featureProjection:e.projection})});i.features="["+r+"]"}return i.f="json",i}function r(t,e){function i(t){var e=t?t.status+" "+t.statusText:"";alert("Det inträffade ett fel när ändringarna skulle sparas till servern...<br><br>"+e)}function r(t){alert(t.description+" ("+t.code+")")}var o=a.getProjection(),u=a.getLayer(e),c=u.get("id"),f=a.getMapSource()[u.get("sourceName")],p={update:function(n){var o=t.update,s=JSON.parse(n);s?s.updateResults.length>0&&s.updateResults.forEach(function(t,i){!0!==t.success?r(t.error):l.emitChangeFeature({feature:[o[i]],layerName:e,status:"finished",action:"update"})}):i()},insert:function(n){var o=t.insert,s=JSON.parse(n);s?s.addResults.length>0&&s.addResults.forEach(function(t,i){!0!==t.success?r(t.error):(l.emitChangeFeature({feature:[o[i]],layerName:e,status:"finished",action:"insert"}),o[i].set("objectId",t.objectId),o[i].setId(t.objectId))}):i()},delete:function(n){var o=t.delete,s=JSON.parse(n);s?s.deleteResults.length>0&&s.deleteResults.forEach(function(t,i){!0!==t.success?r(t.error):l.emitChangeFeature({feature:[o[i]],layerName:e,status:"finished",action:"delete"})}):i()}};Object.getOwnPropertyNames(t).forEach(function(e){if(t[e]){var r=f.url+"/"+c+"/"+h[e],a=n(t[e],{projection:o,type:e});s.ajax({type:"POST",url:r,data:a,success:p[e],error:i,context:this})}})}var o=t("openlayers"),s=t("jquery"),a=t("../viewer"),l=(t("./editsstore")(),t("./editDispatcher")),u=new o.format.EsriJSON,h={update:"updateFeatures",insert:"addFeatures",delete:"deleteFeatures"};e.exports=function(t,e){r(t,e)}},{"../viewer":201,"./editDispatcher":109,"./editsstore":115,jquery:25,openlayers:27}],108:[function(t,e,i){"use strict";var n=t("jquery"),r=t("../viewer"),o=t("../dropdown"),s=t("./editdispatcher"),a=t("../utils").createElement;e.exports=function(t,e){function i(t){o(t.target,t.selectOptions,{dataAttribute:"shape",active:t.activeTool}),n("#"+M).on("changeDropdown",function(t){t.stopImmediatePropagation(t),s.emitChangeEditorShapes(t.dataAttribute),u()})}function l(t){t?v.length>1&&(w=!0,n("#"+M+" ul").remove(),i(p()),n("#"+M).addClass(x),b.once("click",u)):(w=!1,n("#"+M).removeClass(x),b.un("click",u))}function u(){w&&l(!1)}function h(t){"draw"===t.tool&&!0===t.active?(f(y),l(!0)):"draw"===t.tool&&!1===t.active&&l(!1),t.stopPropagation()}function c(t){"edit"===t.tool&&t.currentLayer&&(y=t.currentLayer),t.stopPropagation()}function f(t){var e,i=r.getLayer(t);v=i.get("drawTools")||[],i.get("drawTools")?v=i.get("drawTools"):(e=i.get("geometryType"),v=m[e]?m[e].slice(0):[],v.unshift(e))}function p(){return{target:M,selectOptions:d(v),activeTool:v[0]}}function d(t){return t.map(function(t){var e={};return e.name=g[t],e.value=t,e})}var g={Polygon:"Polygon",Point:"Punkt",Line:"Linje",box:"Rektangel"},m=t||{},v=void 0,y=e,b=r.getMap(),w=!1,x="o-active",M="editor-toolbar-draw-dropdown";!function(){var t=a("div","",{id:M,cls:"o-popover"});n("#o-editor-draw").after(t),l(!1)}(),n(document).on("changeEdit",h),n(document).on("toggleEdit",c)}},{"../dropdown":105,"../utils":185,"../viewer":201,"./editdispatcher":110,jquery:25}],109:[function(t,e,i){"use strict";var n=t("jquery");e.exports={emitChangeEdit:function(t,e){n.event.trigger({type:"changeEdit",tool:t,active:e})},emitChangeFeature:function(t){n.event.trigger({type:"changeFeature",feature:t.feature,layerName:t.layerName,action:t.action,status:t.status||"pending"})},emitToggleEdit:function(t,e){var i=e||{},r={type:"toggleEdit",tool:t};n.extend(r,i),n.event.trigger(r)},emitEnableInteraction:function(){n.event.trigger({type:"enableInteraction",interaction:"editor"})},emitEditsChange:function(t){n.event.trigger({type:"editsChange",edits:t})},emitChangeEditorShapes:function(t){n.event.trigger({type:"editorShapes",shape:t})},emitChangeOfflineEdits:function(t,e){n.event.trigger({type:"changeOfflineEdits",edits:t,layerName:e})}}},{jquery:25}],110:[function(t,e,i){arguments[4][109][0].apply(i,arguments)},{dup:109,jquery:25}],111:[function(t,e,i){"use strict";e.exports=function(t){var e=t.elId.slice(1),i=t.cls||"";i+=e,i+=t.isVisible?"":" o-hidden";var n,r=t.title,o=t.isVisible?t.val:"",s=t.type,a=t.maxLength?' maxlength="'+t.maxLength+'" ':"",l=t.options||[];switch(s){case"text":n="<div><label>"+r+'</label><br><input type="text" id="'+e+'" value="'+o+'"'+a+"></div>";break;case"textarea":n="<div><label>"+r+'</label><br><textarea id="'+e+'"'+a+'rows="3">'+o+"</textarea></div>";break;case"checkbox":n='<div class="o-form-checkbox"><label>'+r+'</label><input type="checkbox" id="'+e+'" value="'+o+'"'+(o?" checked":"")+"></div>";break;case"dropdown":n='<div class="'+i+'"><label>'+r+"</label><br><select id="+e+">"+(o?'<option value="'+o+'" selected>'+o+"</option>":'<option value="" selected>Välj</option>');for(var u=0;u<l.length;u++)n+='<option value="'+l[u]+'">'+l[u]+"</option>";n+="</select></div>";break;case"image":var h=o?"":"o-hidden";n='<div class="'+i+'"><label>'+r+"</label><br>",n+='<img src="'+o+'" id="image-upload" class="'+h+'"/>',n+='<input type="file" id="'+e+'" value="'+o+'" accept="image/*">',n+='<input id="o-delete-image-button" class="'+h+'" type="button" value="Ta bort bild">',n+="</div>"}return n}},{}],112:[function(t,e,i){"use strict";function n(t){J=t,r()}function r(t){var e,i=V[J];if($=i.getSource(),K=i.get("attributes"),Q=i.get("title")||"Information",e={source:$,type:i.get("geometryType"),geometryName:i.get("geometryName")},t&&N.extend(e,W(t)),y(),tt=new E.interaction.Draw(e),et=!1,it=!1,rt=new E.interaction.Select({layers:[i]}),ot=new E.interaction.Modify({features:rt.getFeatures()}),Y.addInteraction(rt),Y.addInteraction(ot),Y.addInteraction(tt),ot.on("modifyend",c,this),tt.on("drawend",f,this),j(),nt=i.get("snap")){var n=D.getSelectionLayer().getSource(),r=i.get("snapLayers")?C(i.get("snapLayers")):[i.get("source")];r.push(n),st=k(r)}}function o(t){V[t].get("geometryType")||a(t)}function s(t){var e=t.get("name");V[e].set("geometryType",t.getSource().getFeatures()[0].getGeometry().getType()),e===J&&n(e)}function a(t){var e=L.getLayer(t);e.getSource().once("addfeature",function(t){s(e)})}function l(t){var e={};return Z.reduce(function(e,i){var n=L.getLayer(i),r=!t.hasOwnProperty("snap")||t.snap,o=t.snapLayers||Z;return n.set("snap",r),n.set("snapLayers",o),e[i]=n,e},e)}function u(){return void 0!==ot&&void 0!==rt}function h(){var t=rt.getFeatures();if($=V[J].getSource(),1===t.getLength()){var e=t.item(0);!0===confirm("Är du säker på att du vill ta bort det här objektet?")&&(T({feature:e,layerName:J,action:"delete"}),rt.getFeatures().clear(),$.removeFeature($.getFeatureById(e.getId())))}}function c(t){T({feature:t.features.item(0),layerName:J,action:"update"})}function f(t){var e=t.feature,i=I(L.getLayer(J).get("attributes"));e.setProperties(i),e.setId(q()),$.addFeature(e),j(),et=!1,T({feature:e,layerName:J,action:"insert"}),z.emitChangeEdit("draw",!1),H&&P(e)}function p(){j(),et=!1,z.emitChangeEdit("draw",!1)}function d(t){r(t.shape),b()}function g(){O.closeModal(),z.emitChangeEdit("attribute",!1)}function m(t,e){N("#o-save-button").on("click",function(i){var n,r,o,s={};e.forEach(function(t){var i="."+t.elId.slice(1);!1===N(i).hasClass("o-hidden")&&("checkbox"===N(t.elId).attr("type")?s[t.name]=N(t.elId).is(":checked")?1:0:s[t.name]=N(t.elId).val()),"file"===N(t.elId).attr("type")&&(r=N(t.elId)[0],(o=r.files[0])?((n=new FileReader).onload=function(){U(o,function(e){G(n.result,t,e,function(e){s[t.name]=e,N(document).trigger("imageresized")})})},n.readAsDataURL(o)):s[t.name]=N(e[0].elId).attr("value"))}),n&&1==n.readyState?N(document).on("imageresized",function(){v(t,s)}):v(t,s),O.closeModal(),N("#o-save-button").blur(),i.preventDefault()})}function v(t,e){K.forEach(function(i){e.hasOwnProperty(i.name)&&t.set(i.name,e[i.name])}),T({feature:t,layerName:J,action:"update"})}function y(){u()&&(Y.removeInteraction(ot),Y.removeInteraction(rt),Y.removeInteraction(tt),st&&st.forEach(function(t){Y.removeInteraction(t)}),ot=void 0,rt=void 0,tt=void 0,st=void 0)}function b(){!0!==et&&u()&&(j("draw"),et=!0,z.emitChangeEdit("draw",!0))}function w(){return function(t){N(t.elDependencyId).on(t.eventType,function(e){var i="."+t.elId.slice(1);N(t.elDependencyId+" option:selected").text()===t.requiredVal?N(i).removeClass("o-hidden"):N(i).addClass("o-hidden")})}}function x(){return function(t){var e=new FileReader,i="."+t.elId.slice(1);N(t.elId).on("change",function(t){N(i+" img").removeClass("o-hidden"),N(i+" input[type=button]").removeClass("o-hidden"),this.files&&this.files[0]&&(e.onload=function(t){N(i+" img").attr("src",t.target.result)},e.readAsDataURL(this.files[0]))}),N(i+" input[type=button]").on("click",function(e){N(t.elId).attr("value",""),N(i+" img").addClass("o-hidden"),N(this).addClass("o-hidden")})}}function M(t){t.stopPropagation(),"draw"===t.tool?!1===et?(r(),b()):p():"attribute"===t.tool?!1===it?P():g():"delete"===t.tool?h():"edit"===t.tool?n(t.currentLayer):"cancel"===t.tool?y():"save"===t.tool&&_()}function S(t){"draw"!==t.tool&&t.active&&p()}function C(t){return t.map(function(t){return L.getLayer(t).getSource()})}function k(t){var e=[];return t.forEach(function(t){var i=new E.interaction.Snap({source:t});e.push(i),Y.addInteraction(i)}),e}function j(t){switch(t){case"modify":tt.setActive(!1),ot.setActive(!0),rt.setActive(!0);break;case"draw":tt.setActive(!0),ot.setActive(!0),rt.setActive(!1);break;default:tt.setActive(!1),et=!1,ot.setActive(!0),rt.setActive(!0)}}function P(t){var e,i;if(t?(i=new E.Collection).push(t):i=rt.getFeatures(),1===i.getLength()){z.emitChangeEdit("attribute",!0);var t=i.item(0);K.length>0&&(e=K.map(function(e){var i={};if(N.extend(i,e),i.val=t.get(i.name)||"",i.hasOwnProperty("constraint")){var n=i.constraint.split(":");3===n.length?(i.eventType=n[0],i.dependencyVal=t.get(n[1]),i.requiredVal=n[2],i.dependencyVal===i.requiredVal?i.isVisible=!0:i.isVisible=!1,i.addListener=w(),i.elId="#input-"+i.name+"-"+i.requiredVal,i.elDependencyId="#input-"+n[1]):alert("Villkor verkar inte vara rätt formulerat. Villkor formuleras enligt principen change:attribute:value")}else"image"===i.type?(i.isVisible=!0,i.elId="#input-"+i.name,i.addListener=x()):(i.isVisible=!0,i.elId="#input-"+i.name);return i.formElement=B(i),i}));var n="<form>"+e.reduce(function(t,e){return t+e.formElement},"")+'<br><div class="o-form-save"><input id="o-save-button" type="button" value="Ok"></input></div></form>';O.createModal("#o-map",{title:Q,content:n,static:!0}),O.showModal(),e.forEach(function(t){t.hasOwnProperty("addListener")&&t.addListener(t)}),m(t,e)}}function T(t){z.emitChangeFeature(t),X&&_()}function _(){var t=R.getEdits();Object.getOwnPropertyNames(t).forEach(function(e){var i={insert:null,delete:null,update:null};Object.getOwnPropertyNames(t[e]).forEach(function(n){var r;(r=A(n,L.getLayer(e),t[e][n])).length&&(i[n]=r)}),F(i,e)})}function A(t,e,i){var n=e.getSource(),r=[];return"delete"===t?i.forEach(function(t){var e=new E.Feature;e.setId(t),r.push(e)}):i.forEach(function(t){if(n.getFeatureById(t)){var e=n.getFeatureById(t);e.unset("bbox"),r.push(e)}}),r}function I(t){return t.filter(function(t){if(t.name&&t.defaultValue)return t}).reduce(function(t,e){return t[e.name]=e.defaultValue,t},{})}var E=t("openlayers"),N=t("jquery"),L=t("../viewer"),O=t("../modal"),D=t("../featureinfo"),R=t("./editsstore")(),q=t("../utils/generateuuid"),F=t("./transactionhandler"),z=t("./editdispatcher"),B=t("./editform"),G=t("../utils/imageresizer"),U=t("../utils/getimageorientation"),W=t("./shapes"),V={},X=void 0,H=void 0,$=void 0,Y=void 0,J=void 0,Z=void 0,K=void 0,Q=void 0,tt=void 0,et=void 0,it=void 0,nt=void 0,rt=void 0,ot=void 0,st=void 0,at=void 0;e.exports=function(t){Y=L.getMap(),J=t.currentLayer,Z=t.editableLayers,at=t.drawTools||[],V=l(t),Z.forEach(function(e){L.getLayer(e);o(e),e===J&&t.isActive&&(z.emitEnableInteraction(),n(e))}),X=t.autoSave,H=t.autoForm,N(document).on("toggleEdit",M),N(document).on("changeEdit",S),N(document).on("editorShapes",d)}},{"../featureinfo":120,"../modal":152,"../utils/generateuuid":187,"../utils/getimageorientation":188,"../utils/imageresizer":190,"../viewer":201,"./editdispatcher":110,"./editform":111,"./editsstore":115,"./shapes":117,"./transactionhandler":118,jquery:25,openlayers:27}],113:[function(t,e,i){"use strict";var n=t("jquery"),r=t("../viewer"),o=t("../dropdown"),s=t("./editdispatcher"),a=t("../utils").createElement;e.exports=function(t,e){function i(t){"layers"===t.tool&&u(h?!1:!0),t.stopPropagation()}function l(t){"layers"!==t.tool&&!0===t.active&&u(!1),t.stopPropagation()}function u(t){t?(h=!0,n("#"+f).addClass(c)):(h=!1,n("#"+f).removeClass(c)),s.emitChangeEdit("layers",h)}var h=!1,c="o-active",f="editor-toolbar-layers-dropdown",p={target:f,selectOptions:function(t){return t.map(function(t){var e={};return e.name=r.getLayer(t).get("title"),e.value=t,e})}(t),activeLayer:t[0]};!function(t){var e=a("div","",{id:t.target,cls:"o-popover"});n("#o-editor-layers").after(e),o(t.target,t.selectOptions,{dataAttribute:"layer",active:t.activeLayer})}(n.extend(p,e)),n("#"+f).on("changeDropdown",function(t){t.stopImmediatePropagation(t),u(!1),s.emitToggleEdit("edit",{currentLayer:t.dataAttribute})}),n(document).on("toggleEdit",i),n(document).on("changeEdit",l)}},{"../dropdown":105,"../utils":185,"../viewer":201,"./editdispatcher":110,jquery:25}],114:[function(t,e,i){"use strict";function n(t){y=t.currentLayer,b=t.editableLayers,p(t),r(),d(b,{activeLayer:y}),g(t.drawTools,y),h(document).on("enableInteraction",s),h(document).on("changeEdit",l),h(document).on("editsChange",u),o(),t.isActive&&a(!0)}function r(){h("#o-tools-bottom").append(c()),w=h("#o-editor-attribute"),x=h("#o-editor-draw"),M=h("#o-editor-delete"),S=h("#o-editor-layers"),C=h("#o-editor-save"),k=h("#o-editor-close")}function o(){x.on("click",function(t){return f.emitToggleEdit("draw"),x.blur(),t.preventDefault(),!1}),w.on("click",function(t){f.emitToggleEdit("attribute"),w.blur(),t.preventDefault()}),M.on("click",function(t){f.emitToggleEdit("delete"),M.blur(),t.preventDefault()}),S.on("click",function(t){f.emitToggleEdit("layers"),S.blur(),t.preventDefault()}),C.on("click",function(t){f.emitToggleEdit("save"),C.blur(),t.preventDefault()}),k.on("click",function(t){h(".o-map").first().trigger({type:"enableInteraction",interaction:"featureInfo"}),k.blur(),t.stopPropagation(),t.preventDefault()})}function s(t){t.stopPropagation(),"editor"===t.interaction?(a(!0),f.emitToggleEdit("edit",{currentLayer:y})):(a(!1),f.emitToggleEdit("cancel"))}function a(t){!0===t?h("#o-editor-toolbar").removeClass("o-hidden"):h("#o-editor-toolbar").addClass("o-hidden")}function l(t){"draw"===t.tool&&(!1===t.active?x.removeClass(m):x.addClass(m)),"layers"===t.tool?!1===t.active?S.removeClass(m):S.addClass(m):t.active&&S.removeClass(m)}function u(t){t.edits?C.hasClass(v)&&C.removeClass(v):C.addClass(v)}t("openlayers");var h=t("jquery"),c=(t("../viewer"),t("../templates/editortoolbar.template.handlebars")),f=t("./editdispatcher"),p=t("./edithandler"),d=t("./editorlayers"),g=t("./drawtools"),m="o-control-active",v="o-disabled",y=void 0,b=void 0,w=void 0,x=void 0,M=void 0,S=void 0,C=void 0,k=void 0;e.exports={init:n}},{"../templates/editortoolbar.template.handlebars":180,"../viewer":201,"./drawtools":108,"./editdispatcher":110,"./edithandler":112,"./editorlayers":113,jquery:25,openlayers:27}],115:[function(t,e,i){var n=t("jquery"),r=(t("openlayers"),t("../viewer"),t("./editdispatcher"));e.exports=function(){function t(t){"insert"===t.action?o("insert",t.feature,t.layerName):"update"===t.action?!1===i("insert",t.feature,t.layerName)&&o("update",t.feature,t.layerName):"delete"===t.action&&!1===s("insert",t.feature,t.layerName)&&(s("update",t.feature,t.layerName),o("delete",t.feature,t.layerName)),!0===l()?r.emitEditsChange(1):r.emitEditsChange(0)}function e(t){t.feature.length&&t.feature.forEach(function(e){s(t.action,e,t.layerName)}),!1===l()&&r.emitEditsChange(0)}function i(t,e,i){return!!(u.hasOwnProperty(i)&&u[i][t].indexOf(e.getId())>-1)}function o(t,e,n){!1===u.hasOwnProperty(n)&&(u[n]={update:[],insert:[],delete:[]}),!1===i(t,e,n)&&u[n][t].push(e.getId())}function s(t,e,i){var n=0;return!!(u.hasOwnProperty(i)&&(n=u[i][t].indexOf(e.getId()))>-1)&&(u[i][t].splice(n,1),a(i),!0)}function a(t){var e=!0;return u.hasOwnProperty(t)?(Object.getOwnPropertyNames(u[t]).forEach(function(i){if(u[t][i].length)return e=!1}),e?(delete u[t],e):void 0):e}function l(){return!!Object.getOwnPropertyNames(u).length}var u={};return n(document).on("changeFeature",function(i){"pending"===i.status?t(i):"finished"===i.status&&e(i)}),{getEdits:function(){return u},hasFeature:i}}},{"../viewer":201,"./editdispatcher":110,jquery:25,openlayers:27}],116:[function(t,e,i){var n=t("./editdispatcher");e.exports=function(t,e){n.emitChangeOfflineEdits(t,e)}},{"./editdispatcher":110}],117:[function(t,e,i){"use strict";var n=t("openlayers");e.exports=function(t){var e={box:{type:"Circle",geometryFunction:n.interaction.Draw.createBox()}};return e.hasOwnProperty(t)?e[t]:{}}},{openlayers:27}],118:[function(t,e,i){"use strict";var n=t("../viewer"),r={WFS:t("./wfstransaction"),AGS_FEATURE:t("./agstransaction"),OFFLINE:t("./indexeddb")};e.exports=function(t,e){var i=n.getLayer(e).get("type");r.hasOwnProperty(i)&&r[i](t,e)}},{"../viewer":201,"./agstransaction":107,"./indexeddb":116,"./wfstransaction":119}],119:[function(t,e,i){"use strict";function n(t,e){return h.writeTransaction(t.insert,t.update,t.delete,e)}function r(t,e){function i(t){var e=t?t.status+" "+t.statusText:"";alert("Det inträffade ett fel när ändringarna skulle sparas till servern...\n"+e)}var r=l.getProjectionCode(),s=l.getLayer(e),h=s.get("featureType"),f=l.getMapSource()[s.get("sourceName")],p={gmlOptions:{srsName:r},featureNS:f.workspace,featurePrefix:f.prefix||f.workspace,featureType:h},d=n(t,p);return a.ajax({type:"POST",url:f.url,data:c.serializeToString(d),contentType:"text/xml",success:function(n){var r,s=o(n);s?(s.transactionSummary.totalUpdated>0&&u.emitChangeFeature({feature:t.update,layerName:e,status:"finished",action:"update"}),s.transactionSummary.totalDeleted>0&&u.emitChangeFeature({feature:t.delete,layerName:e,status:"finished",action:"delete"}),s.transactionSummary.totalInserted>0&&(r=t.insert,u.emitChangeFeature({feature:t.insert,layerName:e,status:"finished",action:"insert"}),s.insertIds.forEach(function(t,e){r[e].setId(t)}))):i()},error:i,context:this}).then(function(t){var e=o(t),i=0;return e&&(i+=e.transactionSummary.totalUpdated,i+=e.transactionSummary.totalDeleted,i+=e.transactionSummary.totalInserted),i})}function o(t){var e;return window.Document&&t instanceof Document&&t.documentElement&&"ExceptionReport"===t.documentElement.localName?alert(t.getElementsByTagNameNS("http://www.opengis.net/ows","ExceptionText").item(0).textContent):e=h.readTransactionResponse(t),e}var s=t("openlayers"),a=t("jquery"),l=t("../viewer"),u=(t("./editsstore")(),t("./editdispatcher")),h=new s.format.WFS,c=new XMLSerializer;e.exports=function(t,e){return r(t,e)}},{"../viewer":201,"./editdispatcher":110,"./editsstore":115,jquery:25,openlayers:27}],120:[function(t,e,i){"use strict";function n(t,e,i){s();var n=t.map(function(t){return t.content}).join("");switch(n='<div id="o-identify"><div id="o-identify-carousel" class="owl-carousel owl-theme">'+n+"</div></div>",e){case"overlay":var r=f("#o-map");P=new u.Overlay({element:r.getEl()}),w.addOverlay(P);var o,a=t[0].feature.getGeometry();o="Point"==a.getType()?a.getCoordinates():i,P.setPosition(o),r.setContent({content:n,title:t[0].title}),r.setVisibility(!0);l("#o-identify-carousel",void 0,function(){var e=this.owl.currentItem;_.clearAndAdd(t[e].feature.clone(),S[t[e].feature.getGeometry().getType()]),r.setTitle(t[e].title)});c.autoPan();break;case"sidebar":p.setContent({content:n,title:t[0].title}),p.setVisibility(!0);l("#o-identify-carousel",void 0,function(){var e=this.owl.currentItem;_.clearAndAdd(t[e].feature.clone(),S[t[e].feature.getGeometry().getType()]),p.setTitle(t[e].title)})}}function r(t){A=void 0;var e=y.getFeaturesAtPixel(t,j);!1!==e&&y.getFeaturesFromRemote(t).done(function(i){var r=(i||[]).concat(e);if(r.length>0)_.clear(),n(r,k,t.coordinate);else if(_.getFeatures().length>0)s();else if(x){p.setVisibility(!1);var o=w.getView().getResolution();setTimeout(function(){d.checkZoomChange(o,w.getView().getResolution())||(A=d.createPointFeature(t.coordinate,M),_.addFeature(A))},250)}else console.log("No features identified")})}function o(t){!0===t?w.on("click",r):(s(),w.un("click",r))}function s(){_.clear(),p.setVisibility(!1),P&&c.removeOverlays(P),console.log("Clearing selection")}function a(t){o("featureInfo"===t.interaction?!0:!1)}function l(t,e,i){var n=e||{navigation:!0,slideSpeed:300,paginationSpeed:400,singleItem:!0,rewindSpeed:200,navigationText:['<svg class="o-icon-fa-chevron-left"><use xlink:href="#fa-chevron-left"></use></svg>','<svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-chevron-right"></use></svg>'],afterAction:i};return h(t).owlCarousel(n)}var u=t("openlayers"),h=t("jquery"),c=t("./viewer"),f=t("./popup"),p=t("./sidebar"),d=t("./maputils"),g=t("./featurelayer"),m=t("./style")(),v=t("./style/styletypes"),y=t("./getfeatureinfo");t("../externs/owlcarousel-browserify").loadjQueryPlugin();var b,w,x,M,S,C,k,j,P,T,_=void 0,A=void 0;e.exports.init=function(t){w=c.getMap(),x=!(b=t||{}).hasOwnProperty("pinning")||b.pinning;var e=b.hasOwnProperty("pinStyle")?b.pinStyle:v.getStyle("pin");M=m.createStyleRule(e)[0],A=b.savedPin?d.createPointFeature(t.savedPin,M):void 0,S=m.createEditStyle();var i=b.savedSelection||void 0;_=g(A||i||void 0,w),(C=!b.hasOwnProperty("overlay")||b.overlay)?k="overlay":(p.init(),k="sidebar"),j=b.hasOwnProperty("clusterFeatureinfoLevel")?b.clusterFeatureinfoLevel:1,T=b.hasOwnProperty("hitTolerance")?b.hitTolerance:0,w.on("click",r),h(document).on("enableInteraction",a)},e.exports.clear=s,e.exports.getSelectionLayer=function(){return _.getFeatureLayer()},e.exports.getSelection=function(){var t={};return t.geometryType=_.getFeatures()[0].getGeometry().getType(),t.coordinates=_.getFeatures()[0].getGeometry().getCoordinates(),t},e.exports.getPin=function(){return A},e.exports.getHitTolerance=function(){return T},e.exports.identify=n},{"../externs/owlcarousel-browserify":4,"./featurelayer":122,"./getfeatureinfo":130,"./maputils":150,"./popup":168,"./sidebar":175,"./style":176,"./style/styletypes":179,"./viewer":201,jquery:25,openlayers:27}],121:[function(t,e,i){"use strict";var n={};n.default=t("./templates/featureinfotemplates/default"),e.exports=function(t,e){return n[t](e)}},{"./templates/featureinfotemplates/default":182}],122:[function(t,e,i){"use strict";var n=t("openlayers");e.exports=function(t,e){var i=t?[t]:[],r=new n.source.Vector({features:i}),o=new n.layer.Vector({source:r,map:e});return{addFeature:function(t){r.addFeature(t)},getFeatures:function(){return r.getFeatures()},getFeatureLayer:function(){return o},getFeatureStore:function(){return r},clear:function(){r.clear()},clearAndAdd:function(t,e){r.clear(),o.setStyle(e),r.addFeature(t)}}}},{openlayers:27}],123:[function(t,e,i){"use strict";function n(t){var e=u.createButton({id:"o-fullscreen-button",cls:"o-fullscreen-button",iconCls:"o-icon-fa-expand",src:"#fa-expand",tooltipText:s,tooltipPlacement:"east"});c(a)&&l(t).append(e)}function r(){l("#o-fullscreen-button button").click(function(t){o(),l("#o-fullscreen-button button").blur(),t.preventDefault()})}function o(){var t=h.getPermalink();window.open(t)}var s,a,l=t("jquery"),u=t("./utils"),h=t("./permalink/permalink"),c=t("./utils/isembedded"),f=t("./viewer");e.exports.init=function(t){var e=t||{},i=e.target||"#o-toolbar-navigation";a=f.getTarget(),s=e.tooltipText||"Visa stor karta",n(i),r()}},{"./permalink/permalink":165,"./utils":185,"./utils/isembedded":191,"./viewer":201,jquery:25}],124:[function(t,e,i){var n=t("./geometry/getcenter"),r=t("./geometry/getarea"),o={};o.center=n,o.area=r,e.exports=o},{"./geometry/getarea":125,"./geometry/getcenter":126}],125:[function(t,e,i){"use strict";var n=t("../utils/round");e.exports=function(t,e){var i=t.getArea?t.getArea():0;return i=e?n(i,e):n(i,"2")}},{"../utils/round":196}],126:[function(t,e,i){"use strict";t("openlayers");var n=t("../viewer");e.exports=function(t,e,i){var r=t.clone();e&&r.transform(n.getMap().getView().getProjection(),e);var o;switch(r.getType()){case"Polygon":o=r.getInteriorPoint().getCoordinates();break;case"MultiPolygon":o=r.getInteriorPoints().getCoordinates()[0];break;case"Point":o=r.getCoordinates();break;case"MultiPoint":o=r[0].getCoordinates();break;case"LineString":o=r.getCoordinateAt(.5);break;case"MultiLineString":o=r.getLineStrings()[0].getCoordinateAt(.5);break;case"Circle":o=r.getCenter()}return i&&"reverse"===i&&o.reverse(),o}},{"../viewer":201,openlayers:27}],127:[function(t,e,i){"use strict";function n(t){var e='<img id="o-geolocation_marker" src="'+(x+"img/geolocation_marker.png")+'"/>',i=p.createButton({id:"o-geolocation-button",cls:"o-geolocation-button",iconCls:"o-icon-fa-location-arrow",src:"#fa-location-arrow",tooltipText:"Visa nuvarande position i kartan",tooltipPlacement:"east"});c(t).append(i),c("#o-map").prepend(e)}function r(){d.on("click",function(t){m=!1,o(),g.blur(),t.preventDefault()})}function o(){g.hasClass("o-geolocation-button-true")?(g.removeClass("o-geolocation-button-true"),y.setTracking(!1),y.un("change",s),v.removeOverlay(b)):(g.addClass("o-geolocation-button-true"),v.addOverlay(b),y.on("change",s),y.setTracking(!0))}function s(){l(a())}function a(){var t={};return t.position=y.getPosition(),t.accuracy=y.getAccuracy(),t.heading=y.getHeading()||0,t.speed=y.getSpeed()||0,t.m=Date.now(),t}function l(t){var e=t.position;!1===m&&y.getTracking()?(b.setPosition(e),v.getView().animate({center:e,zoom:u}),m=!0):y.getTracking()&&b.setPosition(e)}var u,h=t("openlayers"),c=t("jquery"),f=t("./viewer"),p=t("./utils"),d=void 0,g=void 0,m=!1,v=void 0,y=void 0,b=void 0,w=void 0,x=void 0;e.exports.init=function(t){var e=t||{},i=e.target||"#o-toolbar-navigation";v=f.getMap(),x=f.getBaseUrl(),u=e.zoomLevel||f.getResolutions().length-3||0,n(i),d=c("#o-geolocation-button"),g=c("#o-geolocation-button button"),w=c("#o-geolocation_marker").get(0),b=new h.Overlay({positioning:"center-center",element:w,stopEvent:!1}),y=new h.Geolocation({projection:v.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),r()}},{"./utils":185,"./viewer":201,jquery:25,openlayers:27}],128:[function(t,e,i){"use strict";function n(t,e){var i,n={};for(i in t)-1===e.indexOf(i)&&(n[i]=t[i]);return n}function r(t,e,i){return(t||"")+i+(e||"")}var o=t("./featureinfotemplates"),s=t("../src/utils/replacer"),a=t("./geom");e.exports=function(t,e){var i,l,u,h="<div><ul>",c="";if(e.get("attributes"))if("string"==typeof e.get("attributes"))c=o(e.get("attributes"),t.getProperties());else for(var f=0;f<e.get("attributes").length;f++){if(i=e.get("attributes")[f],l="",u="",i.name)t.get(i.name)&&(u=t.get(i.name),i.title&&(l="<b>"+i.title+"</b>"),i.url&&t.get(i.url)&&(u='<a href="'+(d=r(i.urlPrefix,i.urlSuffix,s.replace(t.get(i.url),t.getProperties())))+'" target="_blank">'+t.get(i.name)+"</a>"));else if(i.url){if(t.get(i.url)){var p=i.html||i.url;u='<a href="'+(d=r(i.urlPrefix,i.urlSuffix,s.replace(t.get(i.url),t.getProperties())))+'" target="_blank">'+p+"</a>"}}else if(i.img){if(t.get(i.img)){var d=r(i.urlPrefix,i.urlSuffix,s.replace(t.get(i.img),t.getProperties()));u='<div class="o-image-container"><img src="'+d+'">'+(i.attribution?'<div class="o-image-attribution">'+i.attribution+"</div>":"")+"</div>"}}else i.html&&(u=s.replace(i.html,t.getProperties(),{helper:a,helperArg:t.getGeometry()}));c+="<li"+(' class="'+i.cls+'" '||"")+">"+l+u+"</li>"}else{var g=n(t.getProperties(),["FID_","geometry"]);c=o("default",g)}return h+=c+"</ul></div>"}},{"../src/utils/replacer":195,"./featureinfotemplates":121,"./geom":124}],129:[function(t,e,i){function n(t){t.error&&console.log(t.error.message+"\n"+t.error.details.join("\n"))}var r,o,s=t("openlayers"),a=t("jquery"),l=t("./viewer"),u={};e.exports=function(t,e){r=l.getProjectionCode();var i=(o=l.getMapSource())[e.get("sourceName")].url,n=e.get("type");return u[n](t,e,i)},u.AGS_FEATURE=function(t,e,i){var o=r.split(":").pop(),u=e.get("id"),h=new s.format.EsriJSON,c=i+"/"+u+"/query?f=json&returnGeometry=true&objectIds="+t+"&geometryType=esriGeometryEnvelope&inSR="+o+"&outFields=*&returnIdsOnly=false&returnCountOnly=false&geometryPrecision=2&outSR="+o;return a.ajax({url:c,dataType:"jsonp"}).then(function(t){return t.error?(n(t),[]):h.readFeatures(t,{featureProjection:l.getProjection()})},n)},u.WFS=function(t,e,i){var n=e.get("geometryName"),r=new s.format.GeoJSON({geometryName:n}),o=i+"?",l="service=WFS&version=1.0.0&request=GetFeature&typeName="+e.get("name")+"&outputFormat=json&featureId="+t;return a.ajax({url:o,data:l,type:"POST",dataType:"json"}).then(function(t){return r.readFeatures(t)})}},{"./viewer":201,jquery:25,openlayers:27}],130:[function(t,e,i){"use strict";function n(t){var e=[];return"crossOrigin"in new Image?u.forEachLayerAtPixel(t.pixel,function(i){if(i.get("queryable")){var n=r(i,t.coordinate);n&&e.push(n)}}):o(t.pixel)?f.getQueryableLayers().forEach(function(i){if(i.get("queryable"))if(o(t.pixel,i))(n=r(i,t.coordinate))&&e.push(n);else if(s(t.pixel,i)){var n=r(i,t.coordinate);n&&e.push(n)}}):u.forEachLayerAtPixel(t.pixel,function(i){if(!0===i.get("queryable")){var n=r(i,t.coordinate);n&&e.push(n)}}),e}function r(t,e){var i=t.get("type"),n={};switch(n.layer=t.get("name"),i){case"WMTS":if(t.get("featureinfoLayer")){o=t.get("featureinfoLayer");return r(s=f.getLayer(o),e)}return;case"WMS":if(t.get("featureinfoLayer")){o=t.get("featureinfoLayer");return r(s=f.getLayer(o),e)}return n.cb="GEOJSON",n.fn=a(t,e),n;case"AGS_TILE":if(t.get("featureinfoLayer")){var o=t.get("featureinfoLayer"),s=f.getLayer(o);return r(s,e)}return n.fn=l(t,e),n;default:return}}function o(t,e){try{return e?u.forEachLayerAtPixel(t,function(t){return e===t}):u.forEachLayerAtPixel(t,function(t){}),!1}catch(t){return console.log(t),!0}}function s(t,e){u.forEachLayerAtPixel(t,function(t){return e===t})}function a(t,e){var i=t.getSource().getGetFeatureInfoUrl(e,u.getView().getResolution(),f.getProjection(),{INFO_FORMAT:"application/json"});return c.ajax(i,{type:"post"}).then(function(t){return t.error?[]:p.geojsonToFeature(t)})}function l(t,e){var i=f.getProjectionCode().split(":").pop(),n=t.get("id"),r=f.getMapSource()[t.get("sourceName")],o=r.url,s=new h.format.EsriJSON,a=u.getSize(),l=o+"/identify?f=json&returnGeometry=true&geometryType=esriGeometryPoint&sr="+i+"&geometry="+e+"&outFields=*&geometryPrecision=2&tolerance="+(r.hasOwnProperty("tolerance")?r.tolerance.toString():5)+"&layers=all:"+n+"&mapExtent="+u.getView().calculateExtent(a)+"&imageDisplay="+a+",96";return c.ajax({url:l,dataType:"jsonp"}).then(function(t){if(t.error)return[];var e={};return e.features=t.results,s.readFeatures(e,{featureProjection:f.getProjection()})[0]})}var u,h=t("openlayers"),c=t("jquery"),f=t("./viewer"),p=t("./maputils"),d=t("./getattributes"),g=t("./featureinfo");e.exports.getFeaturesFromRemote=function(t){u=f.getMap();var e=[],i=n(t).map(function(t){return t.fn.then(function(i){var n=f.getLayer(t.layer);if(i)return e.push({title:n.get("title"),feature:i,content:d(i,n)}),e})});return c.when.apply(c,i).then(function(t){return e})},e.exports.getFeaturesAtPixel=function(t,e){var i=[],n=!1;return(u=f.getMap()).forEachFeatureAtPixel(t.pixel,function(r,o){var s=o,a=!1;if(o&&(a=o.get("queryable")),r.get("features")){var l=r.get("features");if(l.length>1){var h=u.getView().getZoom();if((-1===e?f.getResolutions().length:h+e)<f.getResolutions().length)return u.getView().setCenter(t.coordinate),u.getView().setZoom(h+1),n=!0,!0;l.forEach(function(t){var e={};e.title=s.get("title"),e.feature=t,e.content=d(t,s),i.push(e)})}else 1==l.length&&a&&((c={}).title=s.get("title"),c.feature=l[0],c.content=d(l[0],s),i.push(c))}else if(a){var c={};c.title=s.get("title"),c.feature=r,c.content=d(r,s),i.push(c)}},{hitTolerance:g.getHitTolerance()}),!n&&i}},{"./featureinfo":120,"./getattributes":128,"./maputils":150,"./viewer":201,jquery:25,openlayers:27}],131:[function(t,e,i){"use strict";function n(t){var e=h.createButton({id:"o-home-button",iconCls:"o-icon-fa-home",src:"#fa-home",tooltipText:s});l(t).append(e)}function r(){l("#o-home-button").on("click",function(t){o.getView().fit(a),l("#o-home-button button").blur(),t.preventDefault()})}t("openlayers");var o,s,a,l=t("jquery"),u=t("./viewer"),h=t("./utils");e.exports.init=function(t){var e=t||{},i=e.target||"#o-toolbar-navigation";o=u.getMap(),s=e.tooltipText||"Zooma till hela kartan",a=e.extent||o.getView().calculateExtent(o.getSize()),n(i),r()}},{"./utils":185,"./viewer":201,jquery:25,openlayers:27}],132:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("./vector");e.exports=function(t){var e={layerType:"vector"},i={},a=r.extend(e,t),l=r.extend(i,o.getMapSource()[t.sourceName]);l.geometryName=a.geometryName,l.filter=a.filter,l.attribution=a.attribution,l.projectionCode=o.getProjectionCode(),l.id=a.id;var u=function(t){var e=t.projectionCode.split(":").pop(),i=t.filter?"&where="+t.filter:"",o=new n.format.EsriJSON;return new n.source.Vector({attributions:t.attribution,loader:function(n,s,a){var l=this,u=t.url+t.id+encodeURI('/query?f=json&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry={"xmin":'+n[0]+',"ymin":'+n[1]+',"xmax":'+n[2]+',"ymax":'+n[3]+',"spatialReference":{"wkid":'+e+"}}&geometryType=esriGeometryEnvelope&inSR="+e+"&outFields=*&returnIdsOnly=false&returnCountOnly=false&geometryPrecision=2&outSR="+e+i);r.ajax({url:u,dataType:"jsonp",success:function(t){if(t.error)alert(t.error.message+"\n"+t.error.details.join("\n"));else{var e=o.readFeatures(t,{featureProjection:a});e.length>0&&l.addFeatures(e)}}})},strategy:n.loadingstrategy.bbox})}(l);return s(a,u)}},{"../viewer":201,"./vector":140,jquery:25,openlayers:27}],133:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("./tile");e.exports=function(t){var e={layerType:"tile",featureinfoLayer:void 0},i={},a=r.extend(e,t);a.sourceName=a.name;var l=r.extend(i,o.getMapSource()[t.source]);l.attribution=a.attribution,l.projectionCode=o.getProjectionCode(),l.params=a.params||{},l.params.layers="show:"+a.id;var u=function(t){return new n.source.TileArcGISRest({attributions:t.attribution,projection:t.projectionCode,crossOrigin:"anonymous",params:t.params,url:t.url})}(l);return s(a,u)}},{"../viewer":201,"./tile":138,jquery:25,openlayers:27}],134:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("./vector");e.exports=function(t){var e,i=t,o={};return o.attribution=t.attribution,o.features=t.features,e=function(t){return new n.source.Vector({attributions:t.attribution,features:t.features})}(o),r(i,e)}},{"./vector":140,openlayers:27}],135:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("./vector"),a=t("../utils/isurl");e.exports=function(t){var e,i=o.getBaseUrl(),l={layerType:"vector"},u=r.extend(l,t),h={};return h.attribution=u.attribution,h.projectionCode=o.getProjectionCode(),h.sourceName=t.source,a(u.source)?h.url=u.source:(u.sourceName=i+u.source,h.url=u.source),e=function(t){return new n.source.Vector({attributions:t.attribution,url:t.url,format:new n.format.GeoJSON})}(h),s(u,e)}},{"../utils/isurl":192,"../viewer":201,"./vector":140,jquery:25,openlayers:27}],136:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery");e.exports=function(t){var e={layerType:"group",styleName:"default"},i=r.extend(e,t);return new n.layer.Group(i)}},{jquery:25,openlayers:27}],137:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("./tile");e.exports=function(t){var e={},i=r.extend(e,t),s=new n.source.OSM;return o(i,s)}},{"./tile":138,jquery:25,openlayers:27}],138:[function(t,e,i){"use strict";var n=t("openlayers");e.exports=function(t,e){return t.source=e,new n.layer.Tile(t)}},{openlayers:27}],139:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("./vector"),a=t("../utils/isurl");e.exports=function(t){var e,i=o.getBaseUrl(),l={layerType:"vector"},u=r.extend(l,t),h={};return h.attribution=u.attribution,h.projectionCode=o.getProjectionCode(),h.sourceName=t.source,a(u.source)?h.url=u.source:(u.sourceName=i+u.source,h.url=u.source),e=function(t){return new n.source.Vector({attributions:t.attribution,url:t.url,format:new n.format.TopoJSON({defaultDataProjection:t.projectionCode})})}(h),s(u,e)}},{"../utils/isurl":192,"../viewer":201,"./vector":140,jquery:25,openlayers:27}],140:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("../style")();e.exports=function(t,e){var i;switch(t.layerType){case"vector":t.source=e,t.style=r.createStyle(t.style),i=new n.layer.Vector(t);break;case"cluster":t.source=new n.source.Cluster({attributions:t.attribution,source:e,distance:60}),t.style=r.createStyle(t.style,t.clusterStyle),i=new n.layer.Vector(t);break;case"image":t.source=new n.source.ImageVector({source:e,style:r.createStyle(t.style)}),i=new n.layer.Image(t)}return i}},{"../style":176,openlayers:27}],141:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("./vector");e.exports=function(t){var e={layerType:"vector"},i={},a=r.extend(e,t),l=r.extend(i,o.getMapSource()[t.sourceName]);a.featureType=l.featureType=a.id,l.geometryName=a.geometryName,l.filter=a.filter,l.attribution=a.attribution,l.resolutions=o.getResolutions(),l.projectionCode=o.getProjectionCode();var u=function(t){var e=null,i=t.url,o=t.filter?"&CQL_FILTER="+t.filter+" AND BBOX("+t.geometryName+",":"&BBOX=",s=t.filter?"'"+t.projectionCode+"')":t.projectionCode;return e=new n.source.Vector({attributions:t.attribution,format:new n.format.GeoJSON({geometryName:t.geometryName}),loader:function(n,a,l){var u=i+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t.featureType+"&outputFormat=application/json&srsname="+t.projectionCode+o+n.join(",")+","+s;r.ajax({url:u,cache:!1}).done(function(t){e.addFeatures(e.getFormat().readFeatures(t))})},strategy:n.loadingstrategy.tile(n.tilegrid.createXYZ({maxZoom:t.resolutions.length}))})}(l);return s(a,u)}},{"../viewer":201,"./vector":140,jquery:25,openlayers:27}],142:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("./tile");e.exports=function(t){var e={layerType:"tile",featureinfoLayer:void 0},i={version:"1.1.1",gutter:0},a=r.extend(e,t);a.name.split(":").pop(),a.sourceName=a.name;var l=r.extend(i,o.getMapSource()[t.source]);l.attribution=a.attribution,l.projectionCode=o.getProjectionCode(),l.id=a.id;var u=function(t){return new n.source.TileWMS({attributions:t.attribution,url:t.url,gutter:t.gutter,crossOrigin:"anonymous",projection:t.projectionCode,params:{LAYERS:t.id,TILED:!0,VERSION:t.version}})}(l);return s(a,u)}},{"../viewer":201,"./tile":138,jquery:25,openlayers:27}],143:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("./tile");e.exports=function(t){var e={layerType:"tile",featureinfoLayer:void 0},i={matrixSet:o.getProjectionCode(),matrixIdsPrefix:o.getProjectionCode()+":",format:"image/png",resolutions:o.getResolutions(),tileSize:[256,256]},a=r.extend(e,t);a.name.split(":").pop(),a.sourceName=a.name;var l=r.extend(i,o.getMapSource()[t.source]);a.hasOwnProperty("format")&&(l.format=a.format),l.attribution=a.attribution,l.projectionCode=o.getProjectionCode(),l.matrixIds=[],l.resolutions.forEach(function(t,e){l.matrixIds[e]=l.matrixIdsPrefix+e}),l.projectionExtent=o.getProjection().getExtent(),l.id=a.id;var u=function(t){return new n.source.WMTS({crossOrigin:"anonymous",attributions:t.attribution,url:t.url,projection:t.projectionCode,layer:t.id,matrixSet:t.matrixSet,format:t.format,tileGrid:new n.tilegrid.WMTS({origin:t.origin||n.extent.getTopLeft(t.projectionExtent),resolutions:t.resolutions,matrixIds:t.matrixIds,tileSize:t.tileSize}),style:"default"})}(l);return s(a,u)}},{"../viewer":201,"./tile":138,jquery:25,openlayers:27}],144:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("./tile");e.exports=function(t){var e={layerType:"tile",featureinfoLayer:void 0},i={},a=r.extend(e,t);a.sourceName=a.id;var l=r.extend(i,o.getMapSource()[t.source]);l.attributions=a.attribution,l.projection=o.getProjectionCode()||"EPSG:3857",l.tileGrid=o.getTileGrid();var u=function(t){var e=t.sourceName.split(".")[1];return t.sourceName.split(".")[0],t.url=e,new n.source.XYZ(t)}(l);return s(a,u)}},{"../viewer":201,"./tile":138,jquery:25,openlayers:27}],145:[function(t,e,i){"use strict";var n,r=t("jquery"),o=t("./viewer"),s=t("./maputils"),a=t("./layer/group"),l={};l.WFS=t("./layer/wfs"),l.AGS_FEATURE=t("./layer/agsfeature"),l.TOPOJSON=t("./layer/topojson"),l.GEOJSON=t("./layer/geojson"),l.WMS=t("./layer/wms"),l.WMTS=t("./layer/wmts"),l.AGS_TILE=t("./layer/agstile"),l.XYZ=t("./layer/xyz"),l.OSM=t("./layer/osm"),l.FEATURE=t("./layer/featurelayer"),l.GROUP=function(t){var e,i;if(t.hasOwnProperty("layers"))return e=t.layers.map(function(t){return n(t)}),i={},i.layers=e,a(r.extend(t,i));console.log("Group layer has no layers")},n=function t(e){var i={name:void 0,id:void 0,title:void 0,group:"none",opacity:1,geometryName:"geom",geometryType:void 0,filter:void 0,layerType:void 0,legend:!1,sourceName:void 0,attribution:void 0,style:"default",styleName:void 0,queryable:!0,minResolution:void 0,maxResolution:void 0,visible:!1,type:void 0,extent:void 0,attributes:void 0},n=o.getProjection(),a=e||{},u=r.extend(i,a),h=u.name;if(u.minResolution=u.hasOwnProperty("minScale")?s.scaleToResolution(u.minScale,n):void 0,u.maxResolution=u.hasOwnProperty("maxScale")?s.scaleToResolution(u.maxScale,n):void 0,u.extent=u.extent||o.getExtent(),u.sourceName=u.source,u.styleName=u.style,void 0===u.id&&(u.id=h.split("__").shift()),u.name=h.split(":").pop(),l.hasOwnProperty(u.type))return l[u.type](u,t);console.log("Layer type is missing or layer type is not correct. Check your layer definition: "),console.log(u)},e.exports=n},{"./layer/agsfeature":132,"./layer/agstile":133,"./layer/featurelayer":134,"./layer/geojson":135,"./layer/group":136,"./layer/osm":137,"./layer/topojson":139,"./layer/wfs":141,"./layer/wms":142,"./layer/wmts":143,"./layer/xyz":144,"./maputils":150,"./viewer":201,jquery:25}],146:[function(t,e,i){"use strict";function n(){S("#o-menutools").append('<li class="o-menu-item"><div class="o-menu-item-divider"></div><li>')}function r(t){var e="",i=t[0];if(i[0].hasOwnProperty("icon")){var n=j(i[0].icon.src,x),r=i[0].format||"png";if("png"==r)e='<div class="o-legend-item-img"><img style="width: auto; height: 20px;" src="'+n+'"></div>';else if("svg"==r){e='<div class="o-legend-item-img">'+('<object type="image/svg+xml" data="'+n+'" style="width: 20px;"></object>')+"</div>"}}else if(i[0].hasOwnProperty("fill")){for(var l="",u=0;u<i.length;u++)l+=o(i[u]);e+='<div class="o-legend-item-img"><svg height="'+P+'" width="'+P+'">',e+=l,e+="</svg></div>"}else if(i[0].hasOwnProperty("stroke")){for(var h="",u=0;u<i.length;u++)h+=a(i[u]);e+='<div class="o-legend-item-img"><svg height="'+P+'" width="'+P+'">',e+=h,e+="</svg></div>"}else if(i[0].hasOwnProperty("circle")){for(var c="",u=0;u<i.length;u++)c+=s(i[u]);e+='<div class="o-legend-item-img"><svg height="'+P+'" width="'+P+'">',e+=c,e+="</svg></div>"}else i[0].hasOwnProperty("image")&&(e='<div class="o-legend-item-img" style="'+("background: url("+(n=j(i[0].image.src,x))+") no-repeat;width: 30px; height: 30px;background-size: 30px;")+'"></div>');return e}function o(t){var e=t,i=0;if(e.hasOwnProperty("stroke")){i=e.stroke.width>=3?3:e.stroke.width;var n="stroke:"+e.stroke.color+";"||"stroke:none;";n+="stroke-width:"+i+";"||"",n+="stroke-dasharray:"+e.stroke.lineDash+";"||""}var r=P-4,o='<rect x="2" y="2" rx="2" ry="2" width="'+r+'" height="'+r+'" ';return o+=e.hasOwnProperty("fill")?'style="fill:'+e.fill.color+";":'style="fill:none;',o+=n,o+='"></rect>'}function s(t){var e=t.circle,i=0;if(e.hasOwnProperty("stroke")){i=e.stroke.width>=3?3:e.stroke.width;var n="stroke:"+e.stroke.color+";"||"stroke:none;";n+="stroke-width:"+i+";"||""}var r=P/2,o='<circle cx="'+r+'" cy="'+r+'" r="'+e.radius+'" ';return o+=e.hasOwnProperty("fill")?'style="fill:'+e.fill.color+";":'style="fill:none;',o+=n,o+='"></circle>'}function a(t){var e=t,i=e.stroke.width>4?4:e.stroke.width;i=e.stroke.width<2?2:i;var n='<line x1 = "2" y1= "'+(P-4).toString()+'" x2="'+(P-4).toString()+'" y2="2" ';return n+='style="',n+="stroke:"+e.stroke.color+";"||"stroke:none;",n+="stroke-width:"+i+";"||"",n+="stroke-dasharray:"+e.stroke.lineDash+";"||"",n+='"/>'}function l(t){return'<div class="o-legend-item-info o-abstract" id="o-legend-item-info-'+t+'"><svg class="o-icon-fa-info-circle"><use xlink:href="#fa-info-circle"></use></svg></div>'}function u(t,e,i){var n=t.split("o-legend-").pop(),o=C.getLayer(n),s=i?" o-legend-subitem":"",a="";return e&&e[0][0].hasOwnProperty("filter")?(e[0][0].hasOwnProperty("legend")?(a+='<li class="o-legend '+n+'">',a+='<ul id="o-group-'+n+'" class="o-legend-group o-ul-expand-false"><li class="'+n+'" id="'+t+'">'):a+='<li class="o-legend '+n+'" id="'+t+'">',a+='<div class ="o-legend-item'+s+'"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg></div>',a+='<div class="o-legend-item-title o-truncate">'+o.get("title")+"</div>",o.get("abstract")&&(a+=l(n)),e[0][0].hasOwnProperty("legend")&&(a+='<div class="o-icon-expand o-icon-expand-false"><svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-angle-double-right"></use></svg><svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-angle-double-down"></use></svg></div>',a+="</div></li>",e.forEach(function(t){a+='<li class="o-legend '+n+'" id="'+n+'"><div class ="o-legend-subitem">',a+='<div class="o-checkbox o-checkbox-false"></div>',a+=o.get("styleName")?r([t]):"",a+='<div class="o-legend-subitem-title">'+t[0].legend+"</div></div></li>"}),a+="</ul></li>")):(a+='<li class="o-legend '+n+'" id="'+t+'"><div class ="o-legend-item'+s+'"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg></div>',a+=o.get("styleName")?r(w[o.get("styleName")]):"",a+='<div class="o-legend-item-title o-truncate">'+o.get("title")+"</div>",o.get("abstract")&&(a+=l(n)),a+="</div></li>"),a}function h(t,e){var i,n="";if(t.hasOwnProperty("overlayGroup")&&t.name,t.abstract&&(n+=l(t.name)),e){var r=S(e).parent().closest("ul").hasClass("o-legend-group")?"o-legend-indent":"";i='<li class="o-legend '+t.name+' o-top-item" id="'+t.name+'"><ul id="o-group-'+t.name+'" class="o-legend-group o-legend-subgroup '+r+'"><li class="o-legend-header o-legend-subheader '+t.name+'" id="'+t.name+'"><div class="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg></div><div class="o-legend-subgroup-title o-truncate">'+t.title+'</div><div class="o-icon-expand"><svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-angle-double-right"></use></svg><svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-angle-double-down"></use></svg></div>'+n+"</div></li></ul></li>",e.append(i)}else i='<li><ul id="o-group-'+t.name+'" class="o-legend-group"><li class="o-legend-header"><div class="o-legend-item">'+t.title+'<div class="o-icon-expand"><svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-chevron-right"></use></svg><svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-chevron-down"></use></svg></div>'+n+"</div></li></ul></li>",S("#o-legendlist .o-legendlist").append(i);1==t.expanded?(S("#o-group-"+t.name+" .o-icon-expand").addClass("o-icon-expand-true"),S("#o-group-"+t.name+" .o-checkbox").addClass("o-checkbox-false")):(S("#o-group-"+t.name+" .o-icon-expand").addClass("o-icon-expand-false"),S("#o-group-"+t.name+" .o-checkbox").addClass("o-checkbox-false"),S("#o-group-"+t.name).addClass("o-ul-expand-false")),S("#o-group-"+t.name+" .o-legend-header").on("click",function(t){S(t.target).closest("div").hasClass("o-checkbox")?g(S(this).parent(),!0):S(t.target).closest("div").hasClass("o-abstract")||d(S(this)),t.preventDefault()}),t.hasOwnProperty("groups")&&t.groups.forEach(function(e){h(e,S("#o-group-"+t.name))})}function c(t){var e=C.getMap().getLayers().getArray(),i="";if(S("#o-mapmenu").append('<div id="o-legendlist"><ul class="o-legendlist"></ul></div>'),t.forEach(function(t){h(t)}),M){S("#o-map").append('<div id="o-map-legend"><ul id="o-legend-overlay"><li class="o-legend o-hidden"><div class ="o-toggle-button o-toggle-button-max"><svg class="o-icon-fa-angle-double-down"><use xlink:href="#fa-angle-double-down"></use></svg><svg class="o-icon-fa-angle-double-up"><use xlink:href="#fa-angle-double-up"></use></svg></div></li><li><ul id="o-overlay-list"></li></ul></ul><ul id="o-map-legend-background"></ul></div>')}e.forEach(function(t){var e=t.get("name"),n=w[t.get("styleName")],o=S("#o-group-"+t.get("group")).closest("ul").parent().closest("ul").hasClass("o-legend-group"),s='<div class="o-legend-item-title o-truncate">'+t.get("title")+"</div>";if(t.get("abstract")&&(s+=l(e)),s+="</div></li>","background"==t.get("group")?(i='<li class="o-legend '+e+'" id="'+e+'"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-check"><use xlink:href="#fa-check"></use></svg></div>',i+=s,S("#o-group-background .o-legend-header").after(i),i='<li class="o-legend '+e+'" id="o-legend-'+e+'"><div class ="o-legend-item">',i+=t.get("styleName")?r(w[t.get("styleName")]):"",i+="</div>",S("#o-map-legend-background").prepend(i)):t.get("group")&&"none"!=t.get("group")&&(i=u(e,n,o),S("#o-group-"+t.get("group")).find("li.o-top-item:last").length?S("#o-group-"+t.get("group")).find("li.o-top-item:last").after(i):S("#o-group-"+t.get("group")+" .o-legend-header").after(i),(1==t.get("legend")||t.getVisible(!0))&&(i='<li class="o-legend '+e+'" id="o-legend-'+e+'"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg></div>',i+=t.get("styleName")?r(w[t.get("styleName")]):"",i+=s,S("#o-overlay-list").append(i))),v(),"background"==t.get("group"))1==t.getVisible()?(S("#"+e+" .o-checkbox").addClass("o-check-true"),S("#o-legend-"+e).addClass("o-check-true-img")):(S("#"+e+" .o-checkbox").addClass("o-check-false"),S("#o-legend-"+e).addClass("o-check-false-img"));else if(1==t.getVisible())if(S("."+e+" .o-checkbox").addClass("o-checkbox-true"),o){var a=S("#"+e).parents("ul [id^=o-group-]");[].forEach.call(a,function(t){d(S(t).find("li:first"))}),g(S("#"+e).parents("ul").has(".o-legend-header").first(),!1)}else S("#o-group-"+t.get("group")+" .o-icon-expand").removeClass("o-icon-expand-false"),S("#o-group-"+t.get("group")+" .o-icon-expand").addClass("o-icon-expand-true"),S("#o-group-"+t.get("group")).removeClass("o-ul-expand-false");else S("."+e+" .o-checkbox").addClass("o-checkbox-false");S("#"+e).on("click",function(t){S(t.target).closest("div").hasClass("o-icon-expand")?d(S(this)):(S(this).each(function(){m(S(this).attr("id"))}),t.preventDefault())}),S("#o-legend-"+e).on("click",function(t){S(this).each(function(){m(S(this).attr("id"))}),t.preventDefault()})}),S(".o-abstract").on("click",function(t){S(this).each(function(){b(S(this))}),t.preventDefault()}),S("#o-legend-overlay .o-toggle-button").on("click",function(t){y(),t.preventDefault()})}function f(t){S("#"+t).on("click",function(t){S(this).each(function(){m(S(this).attr("id"))}),t.preventDefault()})}function p(t){S("#"+t).off("click",function(t){S(this).each(function(){m(S(this).attr("id"))}),t.preventDefault()})}function d(t){var e=t.parent(".o-legend-group"),i=S("#"+e.attr("id")+" .o-icon-expand:first");i.hasClass("o-icon-expand-false")?(i.removeClass("o-icon-expand-false"),i.addClass("o-icon-expand-true"),e.removeClass("o-ul-expand-false")):(i.removeClass("o-icon-expand-true"),i.addClass("o-icon-expand-false"),e.addClass("o-ul-expand-false"))}function g(t,e){var i=S(t),n=i.find(".o-legend-item.o-legend-subitem"),r=S(".o-legend-group");e&&n.each(function(){var t=S(this).parent().attr("id"),e=C.getLayer(t),n=S(this).parent().attr("class").split("o-legend-").length>1;i.children().first().find(".o-checkbox").hasClass("o-checkbox-true")?(S("."+t+" .o-checkbox").removeClass("o-checkbox-true"),S("."+t+" .o-checkbox").addClass("o-checkbox-false"),0==n&&(p("o-legend-"+t),S("#o-legend-"+t).remove(),e.set("legend",!1),v()),e.setVisible(!1)):(0==n&&0==S("#o-legend-"+t).length&&(S("#o-overlay-list").append(u("o-legend-"+t)),f("o-legend-"+t),v()),S("."+t+" .o-checkbox").removeClass("o-checkbox-false"),S("."+t+" .o-checkbox").addClass("o-checkbox-true"),e.setVisible(!0),e.set("legend",!0))}),r.each(function(){var t=S(this).find(".o-legend-item.o-legend-subitem").has(".o-checkbox"),e=S(this).find(".o-legend-item.o-legend-subitem").has(".o-checkbox.o-checkbox-true");e.length?(S(this).children().first().find(".o-checkbox").removeClass("o-checkbox-false"),S(this).children().first().find(".o-checkbox").addClass("o-checkbox-true"),t.length!=e.length?S(this).children().first().find(".o-checkbox").addClass("o-checkbox-semi"):S(this).children().first().find(".o-checkbox").removeClass("o-checkbox-semi")):(S(this).children().first().find(".o-checkbox").removeClass("o-checkbox-true"),S(this).children().first().find(".o-checkbox").removeClass("o-checkbox-semi"),S(this).children().first().find(".o-checkbox").addClass("o-checkbox-false"))})}function m(t){var e=t.split("o-legend-").pop(),i=t.split("o-legend-").length>1,n=C.getLayer(e);"background"==n.get("group")?(C.getGroup("background").forEach(function(t){t.setVisible(!1),S("#"+t.get("name")+" .o-checkbox").removeClass("o-check-true"),S("#"+t.get("name")+" .o-checkbox").addClass("o-check-false"),S("#o-legend-"+t.get("name")).removeClass("o-check-true-img"),S("#o-legend-"+t.get("name")).addClass("o-check-false-img")}),n.setVisible(!0),S("#"+e+" .o-checkbox").removeClass("o-check-false"),S("#"+e+" .o-checkbox").addClass("o-check-true"),S("#o-legend-"+e).removeClass("o-check-false-img"),S("#o-legend-"+e).addClass("o-check-true-img")):(S("."+e+" .o-checkbox").hasClass("o-checkbox-true")?(S("."+e+" .o-checkbox").removeClass("o-checkbox-true"),S("."+e+" .o-checkbox").addClass("o-checkbox-false"),0==i&&(p("o-legend-"+e),S("#o-legend-"+e).remove(),n.set("legend",!1),v()),n.setVisible(!1)):(0==i&&0==S("#o-legend-"+e).length&&(S("#o-overlay-list").append(u("o-legend-"+e)),f("o-legend-"+e),v()),S("."+e+" .o-checkbox").removeClass("o-checkbox-false"),S("."+e+" .o-checkbox").addClass("o-checkbox-true"),n.setVisible(!0),n.set("legend",!0)),S("#"+e).find(".o-legend-subitem").length>0&&g(S("#"+e).parents("ul").has(".o-legend-header").first(),!1))}function v(){S("#o-overlay-list li").length>1&&S("#o-legend-overlay >li:first-child").hasClass("o-hidden")?S("#o-legend-overlay > li:first-child").removeClass("o-hidden"):S("#o-overlay-list li").length<2&&(S("#o-legend-overlay > li:first-child").addClass("o-hidden"),1==S("#o-overlay-list").length&&S("#o-overlay-list").hasClass("o-hidden")&&(S("#o-overlay-list").removeClass("o-hidden"),y()))}function y(){S("#o-legend-overlay .o-toggle-button").hasClass("o-toggle-button-max")?(S("#o-legend-overlay .o-toggle-button").removeClass("o-toggle-button-max"),S("#o-legend-overlay .o-toggle-button").addClass("o-toggle-button-min"),S("#o-overlay-list").addClass("o-hidden")):(S("#o-legend-overlay .o-toggle-button").removeClass("o-toggle-button-min"),S("#o-legend-overlay .o-toggle-button").addClass("o-toggle-button-max"),S("#o-overlay-list").removeClass("o-hidden"))}function b(t){var e,i=t.closest("li"),n=t.attr("id").split("o-legend-item-info-").pop(),r={title:"",content:""};if(i.hasClass("o-legend-header")){var o=C.getGroups(),s=S.grep(o,function(t){return t.name==n});r.title=s[0].title,r.content=s[0].abstract}else e=C.getLayer(n),r.title=e.get("title"),r.content=e.get("abstract");k.createModal("#o-map",{title:r.title,content:r.content}),k.showModal()}var w,x,M,S=t("jquery"),C=t("./viewer"),k=(t("./utils"),t("./modal")),j=t("./utils/validateurl"),P=20;e.exports.init=function(t){var e=t||{};x=C.getBaseUrl(),M=!e.hasOwnProperty("hasMapLegend")||e.hasMapLegend,w=C.getStyleSettings(),n(),c(C.getGroups("top"))}},{"./modal":152,"./utils":185,"./utils/validateurl":200,"./viewer":201,jquery:25}],147:[function(t,e,i){"use strict";function n(){var t=u.createListButton({id:"o-link",iconCls:"o-icon-fa-external-link",src:"#fa-external-link",text:s});l("#o-menutools").append(t),a=l("#o-link-button")}function r(){a.on("click",function(){window.open(o)})}var o,s,a,l=t("jquery"),u=t("./utils");e.exports.init=function(t){var e=t||{};o=e.url,s=e.title,n(),r()}},{"./utils":185,jquery:25}],148:[function(t,e,i){"use strict";function n(t,e){var i=e.svgSprites,n=e.svgSpritePath,o=[];i.forEach(function(e){var i=r.get(t+n+e,function(t){var e=document.createElement("div");e.innerHTML=(new XMLSerializer).serializeToString(t.documentElement),document.body.insertBefore(e,document.body.childNodes[0])});return o.push(i),o})}var r=t("jquery"),o=t("./utils/supports"),s=t("./permalink/permalink"),a=t("./utils/geturl"),l=t("./utils/isurl"),u=t("./utils/trimurl");e.exports=function(t,e){function i(){if("object"==typeof t)return window.location.hash&&(p=s.parsePermalink(window.location.href)),i=e.baseUrl||"",h.options=r.extend(e,t),t.controls?h.options.controls=e.defaultControls.concat(t.controls):h.options.controls=e.defaultControls,h.options.url=a(),h.options.map=void 0,h.options.params=p,h.options.baseUrl=i,r.when.apply(r,n(i,e)).then(function(t){return h});if("string"==typeof t){if(l(t)){p=s.parsePermalink(t),d=t.split("#")[0],d=u(d);var i=e.baseUrl||d,o=p.map+".json",c=d;d+=o}else{window.location.hash&&(p=s.parsePermalink(window.location.href));var d=(i=e.baseUrl||"")+(o=t),c=a()}return r.when.apply(r,n(i,e)).then(function(t){return r.ajax({url:d,dataType:f}).then(function(t){return h.options=r.extend(e,t),t.controls?h.options.controls=e.defaultControls.concat(t.controls):h.options.controls=e.defaultControls,h.options.url=c,h.options.map=o,h.options.params=p,h.options.baseUrl=i,h})})}}var h={},c=e.target,f="json",p=void e.crossOrigin;if("#"!==c.substring(0,1)&&(c="#"+c),h.el=c,!1!==o("browser",c))return e.authorizationUrl?r.ajax({url:e.authorizationUrl}).then(function(t){return i()}):i()}},{"./permalink/permalink":165,"./utils/geturl":189,"./utils/isurl":192,"./utils/supports":197,"./utils/trimurl":198,jquery:25}],149:[function(t,e,i){"use strict";function n(){o.on("click",function(t){r(),o.blur(),t.preventDefault()}),s.on("click",function(t){r(),s.blur(),t.preventDefault()})}function r(){a.hasClass("o-mapmenu-show")?a.removeClass("o-mapmenu-show"):a.addClass("o-mapmenu-show")}var o,s,a,l,u=t("jquery"),h=t("./viewer"),c=t("./utils");e.exports.init=function(){l=h.getStyleSettings();var t=c.createButton({text:"Meny",id:"o-mapmenu-button",cls:"o-mapmenu-button-true",iconCls:"o-icon-fa-bars",src:"#fa-bars",tooltipText:"Meny",tooltipPlacement:"west"});u("#o-map").append(t),o=u("#o-mapmenu-button button");u("#o-map").append('<div id="o-mapmenu" class="o-mapmenu"><div class="o-block"><ul id="o-menutools"><li></li></ul>'),a=u("#o-mapmenu");var e=c.createButton({id:"o-mapmenu-button-close",cls:"o-no-boxshadow",iconCls:"o-icon-menu-fa-times",src:"#fa-times",tooltipText:"Stäng meny",tooltipPlacement:"west"});u("#o-menutools").append(e),s=u("#o-mapmenu-button-close"),n()},e.exports.toggleMenu=r,e.exports.getTarget=function(){return a}},{"./utils":185,"./viewer":201,jquery:25}],150:[function(t,e,i){"use strict";var n=t("openlayers"),r=(t("jquery"),t("./viewer"));e.exports={customProjection:function(t,e){return new n.proj.Projection({code:t,extent:e})},tileGrid:function(t,e){var i=n.extent.getTopLeft(t);return new n.tilegrid.TileGrid({extent:t,origin:i,resolutions:e})},checkZoomChange:function(t,e){return t!==e},createPointFeature:function(t,e){var i=new n.Feature({geometry:new n.geom.Point(t)});return i.setStyle(e),i},geojsonToFeature:function(t){return new n.source.Vector({features:(new n.format.GeoJSON).readFeatures(t)}).getFeatures()[0]},wktToFeature:function(t,e){return(new n.format.WKT).readFeature(t,{dataProjection:e,featureProjection:e})},zoomToExent:function(t,e){var i=r.getMap().getView(),n=e,o=t.getExtent();return o?(i.fit(o,{maxZoom:n}),o):void 0},getCenter:function(t){var e;switch(t.getType()){case"Polygon":e=t.getInteriorPoint().getCoordinates();break;case"MultiPolygon":e=t.getInteriorPoints()[0].getCoordinates();break;case"Point":e=t.getCoordinates();break;case"MultiPoint":e=t[0].getCoordinates();break;case"LineString":e=t.getCoordinateAt(.5);break;case"MultiLineString":e=t.getLineStrings()[0].getCoordinateAt(.5);break;case"Circle":e=t.getCenter()}return e},scaleToResolution:function(t,e){return t/(39.37*e.getMetersPerUnit()*(25.4/.28))}}},{"./viewer":201,jquery:25,openlayers:27}],151:[function(t,e,i){"use strict";function n(t){"measure"===t.interaction?(E("#o-measure-button button").addClass("o-measure-button-true"),E("#o-measure-line-button").removeClass("o-hidden"),E("#o-measure-polygon-button").removeClass("o-hidden"),E("#o-measure-button").removeClass("tooltip"),r(!0),b.trigger("click")):(y&&y.removeClass("o-measure-button-true"),E("#o-measure-button button").removeClass("o-measure-button-true"),E("#o-measure-line-button").addClass("o-hidden"),E("#o-measure-polygon-button").addClass("o-hidden"),E("#o-measure-button").addClass("tooltip"),v.un("pointermove",l),v.un("click",l),v.removeInteraction(w),T.setVisible(!1),N.removeOverlays(R),T.getSource().clear(),r(!1))}function r(t){F=!0===t}function o(t){var e=L.createElement("div","",{id:"o-measure-toolbar",cls:"o-toolbar-horizontal"});E(t).append(e);var i=L.createButton({id:"o-measure-button",cls:"o-measure-button",iconCls:"o-icon-steady-measure",src:"#steady-measure",tooltipText:"Mät i kartan"});E("#o-measure-toolbar").append(i);var n=L.createButton({id:"o-measure-line-button",cls:"o-measure-type-button",iconCls:"o-icon-minicons-line-vector",src:"#minicons-line-vector",tooltipText:"Linje",tooltipPlacement:"north"});E("#o-measure-toolbar").append(n),E("#o-measure-line-button").addClass("o-hidden");var r=L.createButton({id:"o-measure-polygon-button",cls:"o-measure-type-button",iconCls:"o-icon-minicons-square-vector",src:"#minicons-square-vector",tooltipText:"Yta",tooltipPlacement:"north"});E("#o-measure-toolbar").append(r),E("#o-measure-polygon-button").addClass("o-hidden")}function s(){E("#o-measure-button").on("click",function(t){g(),E("#o-measure-button button").blur(),t.preventDefault()}),E("#o-measure-line-button").on("click",function(t){x="LineString",m(E("#o-measure-line-button button")),E("#o-measure-line-button button").blur(),t.preventDefault()}),E("#o-measure-polygon-button").on("click",function(t){x="Polygon",m(E("#o-measure-polygon-button button")),E("#o-measure-polygon-button button").blur(),t.preventDefault()})}function a(t,e){return"LineString"==t.getGeometry().getType()?O.createStyleRule(k.linestring):O.createStyleRule(k.polygon)}function l(t){if(!t.dragging){var e=t.coordinate;if(M){var i,n=M.getGeometry();n instanceof I.geom.Polygon?(i=d(n),e=n.getInteriorPoint().getCoordinates()):n instanceof I.geom.LineString&&(i=f(n),e=n.getLastCoordinate()),C.innerHTML=i,A=i,S.setPosition(e)}"pointermove"==t.type&&(P.innerHTML="Klicka för att börja mäta",j.setPosition(t.coordinate))}}function u(){T.setVisible(!0),w=new I.interaction.Draw({source:_,type:x,style:O.createStyleRule(k.interaction)}),v.addInteraction(w),c(),h(),v.on("pointermove",l),v.on("click",l),w.on("drawstart",function(t){q=!0,M=t.feature,E(P).addClass("o-hidden")},this),w.on("drawend",function(t){var e=t.feature;e.setStyle(a(e)),e.getStyle()[0].getText().setText(A),E(C).remove(),M=null,C=null,c(),E(P).removeClass("o-hidden")},this)}function h(){P&&P.parentNode.removeChild(P),(P=document.createElement("div")).className="o-tooltip o-tooltip-measure",j=new I.Overlay({element:P,offset:[15,0],positioning:"center-left"}),R.push(j),v.addOverlay(j)}function c(){C&&C.parentNode.removeChild(C),(C=document.createElement("div")).className="o-tooltip o-tooltip-measure",S=new I.Overlay({element:C,offset:[0,-15],positioning:"bottom-center",stopEvent:!1}),R.push(S),v.addOverlay(S)}function f(t){var e;return e=t.getCoordinates().reduce(p,0),e>100?Math.round(e/1e3*100)/100+" km":Math.round(100*e)/100+" m"}function p(t,e,i,n){if(i<n.length-1){var r=v.getView().getProjection(),o=I.proj.transform(n[i],r,"EPSG:4326"),s=I.proj.transform(n[i+1],r,"EPSG:4326");t+=z.haversineDistance(o,s)}return t}function d(t){var e,i,n=v.getView().getProjection(),r=t.clone().transform(n,"EPSG:4326").getLinearRing(0).getCoordinates();i=(e=Math.abs(z.geodesicArea(r)))>1e7?Math.round(e/1e6*100)/100+" km<sup>2</sup>":e>1e4?Math.round(e/1e4*100)/100+" ha":Math.round(100*e)/100+" m<sup>2</sup>";var o=document.createElement("span");return o.innerHTML=i,[].forEach.call(o.children,function(t){"SUP"===t.tagName&&(t.textContent=String.fromCharCode(t.textContent.charCodeAt(0)+128))}),o.textContent}function g(){F?E(".o-map").trigger({type:"enableInteraction",interaction:"featureInfo"}):E(".o-map").trigger({type:"enableInteraction",interaction:"measure"})}function m(t){y&&y.removeClass("o-measure-button-true"),t.addClass("o-measure-button-true"),y=t,v.removeInteraction(w),u()}var v,y,b,w,x,M,S,C,k,j,P,T,_,A,I=t("openlayers"),E=t("jquery"),N=t("./viewer"),L=t("./utils"),O=t("./style")(),D=t("./style/styletypes"),R=[],q=!1,F=!1,z=new I.Sphere(6378137);e.exports.init=function(t){var e=(t||{}).target||"#o-toolbar-maptools";v=N.getMap(),_=new I.source.Vector,k=D.getStyle("measure"),T=new I.layer.Vector({source:_,name:"measure",visible:!1,zIndex:6}),v.addLayer(T),E(".o-map").on("enableInteraction",n),o(e),s(),b=E("#o-measure-line-button button")}},{"./style":176,"./style/styletypes":179,"./utils":185,"./viewer":201,jquery:25,openlayers:27}],152:[function(t,e,i){"use strict";var n=t("jquery");e.exports=function(){function t(t,e){s='<div id="o-modal"><div class="o-modal-screen"></div><div class="o-modal"><div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div><div class="o-modal-title">'+t+'</div><div class="o-modal-content">'+e+"</div></div></div>"}function e(){!1===r?n(".o-modal-screen, .o-close-button").click(function(){i()}):n(".o-close-button").click(function(){i()})}function i(){n("#o-modal").remove()}var r=void 0,o=void 0,s=void 0;return{createModal:function(e,i){var s=i.title||"",a=i.content||"";r=!!i.hasOwnProperty("static")&&i.static,t(s,a),o=n(e)},showModal:function(){o.prepend(s),e()},closeModal:i}}()},{jquery:25}],153:[function(t,e,i){"use strict";function n(){var t=a.createListButton({id:"o-offline",iconCls:"o-icon-fa-download",src:"#fa-download",text:"Nedladdningar"});o("#o-menutools").append(t),p=o("#o-offline-button")}function r(){p.on("click",function(t){l(h.getOfflineLayers()),t.preventDefault()})}var o=t("jquery"),s=t("./viewer"),a=t("./utils"),l=t("./offline/downloader"),u=t("./offline/downloadhandler"),h=t("./offline/offlinestore")(),c=void 0,f=void 0,p=void 0;e.exports.init=function(t){c=s.getMap(),f=s.getBaseUrl(),u(),n(),r()}},{"./offline/downloader":154,"./offline/downloadhandler":156,"./offline/offlinestore":161,"./utils":185,"./viewer":201,jquery:25}],154:[function(t,e,i){"use strict";var n=t("jquery"),r=t("../viewer"),o=t("./downloader.template.handlebars"),s=t("../components/spinner.handlebars"),a=t("../utils"),l=t("./offlinedispatcher"),u="o-downloader-td-toolbar-";e.exports=function(t){function e(t){p("#"+u+t.layerName,"pending",t.layerName)}function i(t){p("#"+u+t.layerName,t.state,t.layerName)}function h(){n(".o-downloader .o-close-button").on("click",function(t){b(),t.preventDefault()})}function c(t){Object.getOwnPropertyNames(t).forEach(function(e){f(e,t)})}function f(t,e){var i=r.getLayer(t),o=a.createElement("td",i.get("title"),{}),s=u+t,l=a.createElement("div","",{cls:"o-toolbar-horizontal",style:"text-align: right; float: right;",id:s}),h=o+a.createElement("td",l,{}),c="o-downloader-tr-"+t,f=a.createElement("tr",h,{cls:c});n(".o-downloader .o-table").append(f),p("#"+s,!0===e[t].downloaded?"offline":"download",t)}function p(t,e,i){n(t).empty(),"offline"===e?(d(t,i),g(t,i)):"download"===e?m(t,i):"pending"===e&&v(t)}function d(t,e){var i="o-downloader-refresh-"+e,r=y({href:"#fa-refresh",cls:"o-icon-fa-refresh",id:i});n(t).append(r),w("#"+i,e,"sync")}function g(t,e){var i="o-downloader-trash-"+e,r=y({href:"#fa-trash",cls:"o-icon-fa-trash",id:i});n(t).append(r),w("#"+i,e,"remove")}function m(t,e){var i="o-downloader-download-"+e,r=y({href:"#fa-download",cls:"o-icon-fa-download",id:i});n(t).append(r),w("#"+i,e,"download")}function v(t){var e=a.createElement("button","",{cls:"o-spinner"});n(t).append(e),n(".o-spinner").append(s)}function y(t){var e=a.createSvg({href:t.href,cls:t.cls});return a.createElement("button",e,{id:t.id})}function b(){n(".o-downloader").remove()}function w(t,e,i){n(t).on("click",function(t){l.emitChangeDownload(e,i),t.preventDefault(),t.stopPropagation()})}!function(t){n("#o-map").prepend(o),c(t),h()}(t),n(document).on("changeOfflineStart",e),n(document).on("changeOfflineEnd",i)}},{"../components/spinner.handlebars":103,"../utils":185,"../viewer":201,"./downloader.template.handlebars":155,"./offlinedispatcher":159,jquery:25}],155:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){return'<div class="o-container-fluid o-downloader">\r\n  <div class="o-card">\r\n    <div class="o-card-header o-text-center">\r\n      <h6 class="o-card-heading">Nedladdningar</h6>\r\n      <div class="o-close-button">\r\n        <svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg>\r\n      </div>\r\n    </div>\r\n    <div class="o-card-content">\r\n      <table class ="o-table">\r\n\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":24}],156:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("../layercreator"),a=t("./offlinelayer")(),l=t("./downloadsources"),u=t("./offlinedispatcher"),h=t("./offlinestore")(),c="Det inträffade ett fel när lagret skulle hämtas. Är du ansluten till internet?",f="Det inträffade ett fel när förändringarna skulle sparas. Försök igen senare.",p="Invalid format: ";e.exports=function(){function t(t){var e,i=o.getLayer(t),n=i.getProperties();u.emitChangeOfflineStart(t),n.style=n.styleName,n.source=n.sourceName,n.type=n.onlineType,e=s(n).getSource(),i.setSource(e),u.emitChangeOffline(i.get("name"),"remove")}function e(t){var e=h.getOfflineEdits(t);u.emitChangeOfflineStart(t),e?e.then(function(e){i(e,t).then(function(){d(t)}).fail(function(e){g(t,f,"alert")})}):d(t)}function i(t,e){var i=o.getLayer(e),r={delete:[],insert:[],update:[]},s=[];return t.forEach(function(t){var e,o=Object.getOwnPropertyNames(t)[0],a=i.getSource().getFeatureById(o);a?(r[t[o]].push(a),s.push(o)):"delete"===t[o]&&((e=new n.Feature).setId(o),r[t[o]].push(e),s.push(o))}),l[i.get("onlineType")].transaction(r,e).then(function(t){t>0&&u.emitChangeOffline(i.get("name"),"edits",s)})}function d(t){var e=o.getLayer(t),i=e.get("onlineType");u.emitChangeOfflineStart(t),l.hasOwnProperty(i)?l[i].request(e).then(function(i){a.setOfflineSource(t,i),u.emitChangeOffline(e.get("name"),"download")}).fail(function(e){g(t,c,"alert")}):(error="Sorry, "+i+" is not available as on offline format",g(t,p+i))}function g(t,e,i){var n;n=h.getOfflineLayer(t).downloaded?"offline":"download",i?alert(e):console.log(e),u.emitChangeOfflineEnd(t,n)}r(document).on("changeDownload",function(i){i.stopImmediatePropagation(),"download"===i.action?d(i.layerName):"sync"===i.action?e(i.layerName):"remove"===i.action&&t(i.layerName)}),h.init()}},{"../layercreator":145,"../viewer":201,"./downloadsources":157,"./offlinedispatcher":159,"./offlinelayer":160,"./offlinestore":161,jquery:25,openlayers:27}],157:[function(t,e,i){"use strict";var n={};n.WFS=t("./wfs"),n.GEOJSON=t("./geojson"),n.TOPOJSON=t("./topojson"),e.exports=n},{"./geojson":158,"./topojson":162,"./wfs":164}],158:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("./verifyfeatureids"),s={};s.request=function(t){var e=function(t){var e=new n.format.GeoJSON,i=t;return r.ajax({url:i,cache:!1}).then(function(t){var i=e.readFeatures(t);return i=o(i)})}(t.get("sourceName"));return e},e.exports=s},{"./verifyfeatureids":163,jquery:25,openlayers:27}],159:[function(t,e,i){"use strict";var n=t("jquery");e.exports={emitChangeOffline:function(t,e,i){n.event.trigger({type:"changeOffline",layerName:t,action:e,ids:i||void 0})},emitChangeDownload:function(t,e){n.event.trigger({type:"changeDownload",layerName:t,action:e})},emitChangeOfflineStart:function(t){n.event.trigger({type:"changeOfflineStart",layerName:t})},emitChangeOfflineEnd:function(t,e){n.event.trigger({type:"changeOfflineEnd",layerName:t,state:e})}}},{jquery:25}],160:[function(t,e,i){"use strict";t("jquery");var n=t("../viewer"),r=t("../layercreator");e.exports=function(){return{setOfflineSource:function(t,e){var i,o,s=n.getLayer(t);return s.set("type","OFFLINE"),o=s.getProperties(),o.type="FEATURE",o.features=e,o.style=o.styleName,i=r(o).getSource(),s.setSource(i),s},setOnlineSource:function(t){var e,i,o=n.getLayer(t);return o.set("type",o.get("onlineType")),i=o.getProperties(),i.source=i.sourceName,i.style=i.styleName,e=r(i).getSource(),o.setSource(e),o}}}},{"../layercreator":145,"../viewer":201,jquery:25}],161:[function(t,e,i){var n,r,o,s=t("jquery"),a=t("openlayers"),l=t("../viewer"),u=t("localforage"),h=t("./offlinelayer")(),c=t("./offlinedispatcher"),f=t("../editor/editdispatcher"),p=new a.format.GeoJSON,d={},g={},m={};e.exports=function(){function t(t,e){var i={};return t.forEach(function(t){i[t]=u.createInstance({name:e,storeName:t})}),i}function e(t){t.forEach(function(t){var e=l.getLayer(t);e.set("onlineType",e.get("type")),m[t]={downloaded:!1,edits:!1},h.setOfflineSource(t,[])})}function i(t){t.stopImmediatePropagation(),"download"===t.action?v(t.layerName):"edits"===t.action?y(t.layerName,t.ids):"remove"===t.action&&b(t.layerName)}function a(t){t.stopImmediatePropagation(),g[t.layerName]||(g[t.layerName]=u.createInstance({name:r,storeName:t.layerName})),t.edits.update&&A(t.edits.update,t.layerName),t.edits.insert&&I(t.edits.insert,t.layerName),t.edits.delete&&E(t.edits.delete,t.layerName)}function v(t){m[t].downloaded?d[t].clear().then(function(){S(t)}):S(t)}function y(t,e){var i=e.map(function(e){return L(e,t)});return Promise.all(i).then(function(){return!0})}function b(t){m[t].edits?confirm("Du har fortfarande offline-ändringar som inte är sparade. Om du fortsätter kommer dessa att försvinna.")&&w(t):w(t)}function w(t){if(m[t])return d[t].clear().then(function(){_(t),c.emitChangeOfflineEnd(t,"download")})}function x(t,e){m[t].downloaded=!!e}function M(t,e){m[t].edits=!!e}function S(t){d[t]?C(t,l.getLayer(t).getSource().getFeatures()):console.log(t+" is missing in storage")}function C(t,e){var i=e.map(function(e){var i=e.getId(),n=p.writeFeatureObject(e);return d[t].setItem(i,n)});Promise.all(i).then(function(i){T(t,e),c.emitChangeOfflineEnd(t,"offline")})}function k(t){var e=l.getLayer(t).get("geometryName"),i=[];return d[t].iterate(function(t,n,r){var o=R(p.readFeature(t),e);i.push(o)}).then(function(){return i})}function j(t){l.getLayer(t);var e=[];return g[t].iterate(function(t,i,n){var r={};r[i]=t,e.push(r)}).then(function(){return e})}function P(){Object.getOwnPropertyNames(d).forEach(function(t){k(t).then(function(e){e.length?T(t,e):_(t)}),j(t).then(function(e){e.length?M(t,!0):M(t,!1)})})}function T(t,e){h.setOfflineSource(t,e),x(t,!0)}function _(t){h.setOnlineSource(t),x(t,!1)}function A(t,e){t.forEach(function(t){var i=t.getId();g[e].getItem(i).then(function(i){null===i?N(t,e,"update"):O(t,e,"update")})})}function I(t,e){t.forEach(function(t){N(t,e,"insert")})}function E(t,e){t.forEach(function(t){var i=t.getId();g[e].getItem(i).then(function(i){null===i?N(t,e,"delete"):"insert"===i?L(t.getId(),e).then(function(){D(t,e,"delete")}):O(t,e,"delete")})})}function N(t,e,i){var n=t.getId();g[e].setItem(n,i).then(function(){M(e,!0),O(t,e,i)})}function L(t,e){return g[e].removeItem(t).then(function(){g[e].length().then(function(t){t>0?M(e,!0):M(e,!1)})})}function O(t,e,i){var n=t.getId();d[e].setItem(n,p.writeFeatureObject(t)).then(function(){D(t,e,i)})}function D(t,e,i){f.emitChangeFeature({feature:[t],layerName:e,status:"finished",action:i})}function R(t,e){var i=t.getGeometry();return t.unset(t.getGeometryName()),t.setGeometryName(e),t.setGeometry(i),t}return{getOfflineLayers:function(){return m},getOfflineLayer:function(t){return m[t]},getOfflineEdits:function(t){return m[t].edits?j(t):void 0},getEditsItems:j,init:function(u){var h,c=u||{};o=l.getMap(),n=c.name||"origo-layers",r=c.editsName||"origo-layers-edits",e(h=l.getLayersByProperty("offline",!0,!0)),d=t(h,n),g=t(h,r),P(),s(document).on("changeOffline",i),s(document).on("changeOfflineEdits",a)}}}},{"../editor/editdispatcher":110,"../viewer":201,"./offlinedispatcher":159,"./offlinelayer":160,jquery:25,localforage:26,openlayers:27}],162:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("./verifyfeatureids"),s={};s.request=function(t){var e=function(t){var e=new n.format.TopoJSON,i=t;return r.ajax({url:i,cache:!1}).then(function(t){var i=e.readFeatures(t);return i=o(i)})}(t.get("sourceName"));return e},e.exports=s},{"./verifyfeatureids":163,jquery:25,openlayers:27}],163:[function(t,e,i){"use strict";var n=t("../utils/generateuuid");e.exports=function(t){return t[0]&&void 0===t[0].getId()&&t.forEach(function(t){t.setId(n())}),t}},{"../utils/generateuuid":187}],164:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),o=t("../viewer"),s=t("../editor/wfstransaction"),a={};a.request=function(t){var e=o.getMapSource()[t.get("sourceName")];e.featureType=t.get("name").split("__").shift(),e.geometryName=t.get("geometryName"),e.filter=t.get("filter"),e.projectionCode=o.getProjectionCode(),e.extent=t.get("extent"),e.projectionCode=o.getProjectionCode();var i=function(t){var e,i,o=new n.format.GeoJSON({geometryName:t.geometryName}),s=t.url;return e=t.filter?"&CQL_FILTER="+t.filter+" AND BBOX("+t.geometryName+","+t.extent.join(",")+",'"+t.projectionCode+"')":"&BBOX="+t.extent.join(",")+","+t.projectionCode,i=s+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t.featureType+"&outputFormat=application/json&srsname="+t.projectionCode+e,r.ajax({url:i,cache:!1}).then(function(t){return o.readFeatures(t)})}(e);return i},a.transaction=function(t,e){return s(t,e)},e.exports=a},{"../editor/wfstransaction":119,"../viewer":201,jquery:25,openlayers:27}],165:[function(t,e,i){"use strict";var n=t("./permalinkparser"),r=t("./permalinkstore"),o=t("../utils/urlparser");e.exports={getPermalink:function(t){var e=o.formatUrl(r.getState());return r.getUrl()+"#"+e},parsePermalink:function(t){if(t.indexOf("#")>-1){var e={};return t.split("#")[1].split("&").forEach(function(t){var i=t.split("=")[0],r=t.split("=")[1];n.hasOwnProperty(i)&&(e[i]=n[i](r))}),e}return!1}}},{"../utils/urlparser":199,"./permalinkparser":166,"./permalinkstore":167}],166:[function(t,e,i){"use strict";var n=t("../utils/urlparser"),r={v:{name:"visible",dataType:"boolean"},s:{name:"legend",dataType:"boolean"}};e.exports={layers:function(t){var e={};return t.split(",").forEach(function(t){var i={},o=n.objectify(t,{topmost:"name"});Object.getOwnPropertyNames(o).forEach(function(t){var e=o[t];if(r.hasOwnProperty(t)){var s=r[t];i[s.name]=n.strBoolean(e)}else i[t]=e}),e[i.name]=i}),e},zoom:function(t){return parseInt(t)},center:function(t){return t.split(",").map(function(t){return parseInt(t)})},selection:function(t){return n.strArrayify(t,{topmostName:"geometryType",arrName:"coordinates"})},pin:function(t){return n.strIntify(t)},map:function(t){return t}}},{"../utils/urlparser":199}],167:[function(t,e,i){"use strict";function n(t){var e=[];return t.forEach(function(t){var i={};i.v=!0===t.getVisible()?1:0,i.s=!0===t.get("legend")?1:0,(i.s||i.v)&&(i.name=t.get("name"),e.push(l.stringify(i,{topmost:"name"})))}),e}var r,o,s=t("../viewer"),a=(t("../featureinfo").getSelection,t("../featureinfo").getPin),l=t("../utils/urlparser"),u={};u.getState=function(){r={};var t=s.getMap().getView(),e=s.getLayers();return r.layers=n(e),r.center=t.getCenter().map(function(t){return Math.round(t)}).join(),r.zoom=t.getZoom().toString(),a()&&(r.pin=a().getGeometry().getCoordinates().map(function(t){return Math.round(t)}).join()),s.getMapName()&&(r.map=s.getMapName().split(".")[0]),r},u.getUrl=function(){return o=s.getUrl()},e.exports=u},{"../featureinfo":120,"../utils/urlparser":199,"../viewer":201}],168:[function(t,e,i){"use strict";function n(t){h(t).append('<div id="o-popup"><div class="o-popup o-card"><div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div><div class="o-card-title"></div><div class="o-card-content"></div></div></div>')}function r(){h("#o-popup .o-popup .o-close-button").on("click",function(t){u(),t.preventDefault()})}function o(){return h("#o-popup").get(0)}function s(t){1==t?h("#o-popup .o-popup").css("display","block"):h("#o-popup .o-popup").css("display","none")}function a(t){h("#o-popup .o-card-title").html(t)}function l(t){t.title?h("#o-popup .o-popup .o-card-title").html(t.title):h("#o-popup .o-popup .o-card-title").html(""),t.content?h("#o-popup .o-popup .o-card-content").html(t.content):h("#o-popup .o-popup .o-card-content").html("")}function u(){s(!1)}var h=t("jquery");e.exports=function(t){return n(t),r(),{getEl:o,setVisibility:s,setTitle:a,setContent:l,closePopup:u}}},{jquery:25}],169:[function(t,e,i){"use strict";function n(){var t=p.createListButton({id:"o-print",iconCls:"o-icon-fa-print",src:"#fa-print",text:"Skriv ut"});c("#o-menutools").append(t),a=c("#o-print-button")}function r(){a.on("click",function(t){c("#app-wrapper").append('<canvas id="o-print" style="display: none"></canvas>'),s(),t.preventDefault()})}function o(t){var e=new Image;try{e.src=t.get(0).toDataURL("image/png")}catch(t){console.log(t)}finally{var i={};i.src=e.src,i.attribution=l,i.logoSrc=h+"css/png/logo_print.png";var n=d(i),r=window.open("","","width=800,height=820");r.document.write(n),r.document.close(),setTimeout(function(){r.print(),setTimeout(function(){r.close(),c("#o-print").remove()},10)},200)}}function s(){var t=c("canvas"),e=new Image;try{var i=t.get(0).toDataURL("image/png")}catch(t){console.log(t)}finally{var n=c("#o-print");e.onload=function(){var i=n[0].getContext("2d"),r=t[0].width,s=t[0].height;r<g?n[0].width=r:r>=g&&(n[0].width=g),s<g?n[0].height=s:r>=g&&(n[0].height=g),i.drawImage(e,r/2-n[0].width/2,0,n[0].width,n[0].height,0,0,n[0].width,n[0].height),o(n)},e.src=i}}var a,l,u,h,c=t("jquery"),f=t("./viewer"),p=t("./utils"),d=t("./templates/print.handlebars"),g=800;e.exports.init=function(t){l=(t||{}).attribution||"© Lantmäteriet Geodatasamverkan",u=f.getMap(),h=f.getBaseUrl(),n(),r()}},{"./templates/print.handlebars":183,"./utils":185,"./viewer":201,jquery:25}],170:[function(t,e,i){"use strict";var n,r=t("openlayers"),o=t("jquery"),s=t("./viewer"),a=t("./utils");e.exports.init=function(t){var e,i=a.createSvg({href:"#origo-compass",cls:"o-icon-compass"});n=s.getMap(),e=new r.control.Rotate({label:o.parseHTML("<span>"+i+"</span>")[0],tipLabel:" ",target:"o-toolbar-misc"}),n.addControl(e)}},{"./utils":185,"./viewer":201,jquery:25,openlayers:27}],171:[function(t,e,i){"use strict";function n(t){!0===t?(o.getView().on("change:resolution",r),r(),a=!0):!1===t&&(o.getView().un("change:resolution",r),a=!1)}function r(t){var e=t?t.target.get(t.key):o.getView().getResolution(),i=h.getScale(e);s.text(l+c(i))}var o,s,a,l,u=t("jquery"),h=t("./viewer"),c=t("./utils/numberformatter");e.exports.init=function(t){var e=t||{};return o=h.getMap(),s=u("#"+h.getConsoleId()),l=e.scaleText||"1:",n(!e.hasOwnProperty("isActive")||e.isActive),{setActive:n}}},{"./utils/numberformatter":193,"./viewer":201,jquery:25}],172:[function(t,e,i){"use strict";var n,r=t("openlayers"),o=t("./viewer");e.exports.init=function(t){var e=(t||{}).target||"o-tools-bottom";n=o.getMap();var i=new r.control.ScaleLine({target:e});n.addControl(i)}},{"./viewer":201,openlayers:27}],173:[function(t,e,i){"use strict";function n(){T(".typeahead").on("typeahead:selected",l),T("#o-search .o-search-field").on("input",function(){T("#o-search .o-search-field.tt-input").val()&&T("#o-search").hasClass("o-search-false")?(T("#o-search").removeClass("o-search-false"),T("#o-search").addClass("o-search-true"),r()):!T("#o-search .o-search-field.tt-input").val()&&T("#o-search").hasClass("o-search-true")&&(T("#o-search").removeClass("o-search-true"),T("#o-search").addClass("o-search-false"))})}function r(){T("#o-search-button-close").on("click",function(t){T(".typeahead").typeahead("val",""),O.clear(),T("#o-search").removeClass("o-search-true"),T("#o-search").addClass("o-search-false"),T("#o-search .o-search-field.tt-input").val(""),T("#o-search-button").blur(),t.preventDefault()})}function o(t,e){var i,n;O.clear(),a(),i=I("#o-map"),j=new P.Overlay({element:i.getEl()}),u.addOverlay(j),j.setPosition(e),n=t[h],i.setContent({content:n,title:x}),i.setVisibility(!0),D.zoomToExent(new P.geom.Point(e),b)}function s(t,e,i){var n={};n.feature=t[0],n.title=e,n.content=i,O.identify([n],"overlay",R(t[0].getGeometry())),D.zoomToExent(t[0].getGeometry(),b)}function a(){_.removeOverlays(j)}function l(t,e){var i,n,r,a,l;g&&d?(i=_.getLayer(e[g]),n=e[d],N(n,i).done(function(t){var n;t.length>0?s(t,i.get("title"),L(t[0],i)):p&&(n=A(e[p],k).getGeometry().getCoordinates(),o(e,n))})):p&&m?s([r=A(e[p],k)],(i=_.getLayer(e[m])).get("title"),L(r,i)):v&&y&&p?(r=A(e[p],k),a=q.createElement("div",e[y]),s([r],e[v],a)):p&&x?(r=A(e[p],k),a=q.createElement("div",e[h]),s([r],x,a)):f&&c&&x?(l=[e[f],e[c]],o(e,l)):console.log("Search options are missing")}var u,h,c,f,p,d,g,m,v,y,b,w,x,M,S,C,k,j,P=t("openlayers"),T=t("jquery"),_=t("./viewer"),A=t("./maputils").wktToFeature,I=t("./popup"),E=t("typeahead.js-browserify"),N=t("./getfeature"),L=t("./getattributes"),O=t("./featureinfo"),D=t("./maputils"),R=t("./geometry/getcenter"),q=t("./utils");E.loadjQueryPlugin(),e.exports.init=function(t){var e;h=t.searchAttribute,c=t.northing||void 0,f=t.easting||void 0,p=t.geometryAttribute,d=t.idAttribute,g=t.layerNameAttribute||void 0,m=t.layerName||void 0,w=t.url,x=t.title||"",v=t.titleAttribute||void 0,y=t.contentAttribute||void 0,t.maxZoomLevel,M=t.hintText||"Sök...",S=!t.hasOwnProperty("hint")||t.hint,C=!t.hasOwnProperty("highlight")||t.highlight,k=_.getProjectionCode(),u=_.getMap(),e='<div id="o-search-wrapper"><div id="o-search" class="o-search o-search-false"><input class="o-search-field typeahead form-control" type="text" placeholder="'+M+'"><button id="o-search-button"><svg class="o-icon-fa-search"><use xlink:href="#fa-search"></use></svg></button><button id="o-search-button-close"><svg class="o-icon-search-fa-times"><use xlink:href="#fa-times"></use></svg></button></div></div>',T("#o-map").append(e),T.support.cors=!0,T(".typeahead").typeahead({autoSelect:!0,hint:S,highlight:C,minLength:4},{name:"adress",limit:9,displayKey:h,source:function(t,e,i){T.get(w+"?q="+encodeURI(t),function(t){i(t)})}}),n()}},{"./featureinfo":120,"./geometry/getcenter":126,"./getattributes":128,"./getfeature":129,"./maputils":150,"./popup":168,"./utils":185,"./viewer":201,jquery:25,openlayers:27,"typeahead.js-browserify":97}],174:[function(t,e,i){"use strict";function n(){o.on("click",function(t){a.createModal("#o-map",{title:"Länk till karta",content:'<div class="o-share-link"><input type="text"></div><i>Kopiera och klistra in länken för att dela kartan.</i>'}),a.showModal(),r(),l.toggleMenu(),t.preventDefault()})}function r(){var t=h.getPermalink();s(".o-share-link input").val(t).select()}var o,s=t("jquery"),a=(t("./viewer"),t("./modal")),l=t("./mapmenu"),u=t("./utils"),h=t("./permalink/permalink");e.exports.init=function(){var t=u.createListButton({id:"o-share",iconCls:"o-icon-fa-share-square-o",src:"#fa-share-square-o",text:"Dela karta"});s("#o-menutools").append(t),o=s("#o-share-button"),n()}},{"./mapmenu":149,"./modal":152,"./permalink/permalink":165,"./utils":185,"./viewer":201,jquery:25}],175:[function(t,e,i){"use strict";function n(){a("#o-sidebar .o-sidebar .o-close-button").on("click",function(t){o(),t.preventDefault()})}function r(t){1==t?a("#o-sidebar").addClass("o-sidebar-show"):a("#o-sidebar").removeClass("o-sidebar-show")}function o(){r(!1)}var s,a=t("jquery");t("./viewer"),t("./utils");e.exports.init=function(){a("#o-map").append('<div id="o-sidebar"><div class="o-sidebar o-card"><div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div><div class="o-card-title"></div><div class="o-card-content"></div></div></div>'),s=a("#o-sidebar"),n()},e.exports.setVisibility=r,e.exports.setTitle=function(t){a("#o-sidebar .o-card-title").html(t)},e.exports.setContent=function(t){t.title?a("#o-sidebar .o-sidebar .o-card-title").html(t.title):a("#o-sidebar .o-sidebar .o-card-title").html(""),t.content?a("#o-sidebar .o-sidebar .o-card-content").html(t.content):a("#o-sidebar .o-sidebar .o-card-content").html("")},e.exports.closeSidebar=o},{"./utils":185,"./viewer":201,jquery:25}],176:[function(require,module,exports){"use strict";function Init(){baseUrl=Viewer.getBaseUrl()}function createStyleOptions(t){var e={};if(t.hasOwnProperty("geometry"))switch(t.geometry){case"centerPoint":e.geometry=function(t){var e=t.getGeometry().getInteriorPoints().getFirstCoordinate();return new ol.geom.Point(e)};case"endPoint":e.geometry=function(t){var e=t.getGeometry().getLastCoordinate();return new ol.geom.Point(e)}}return t.hasOwnProperty("zIndex")&&(e.zIndex=t.zIndex),t.hasOwnProperty("fill")&&(e.fill=new ol.style.Fill(t.fill)),t.hasOwnProperty("stroke")&&(e.stroke=new ol.style.Stroke(t.stroke)),t.hasOwnProperty("text")&&(e.text=new ol.style.Text(t.text),t.text.hasOwnProperty("fill")&&e.text.setFill(new ol.style.Fill(t.text.fill)),t.text.hasOwnProperty("stroke")&&e.text.setStroke(new ol.style.Stroke(t.text.stroke))),t.hasOwnProperty("icon")&&(t.icon.hasOwnProperty("src")&&(t.icon.src=validateUrl(t.icon.src,baseUrl)),e.image=new ol.style.Icon(t.icon)),t.hasOwnProperty("circle")&&(e.image=new ol.style.Circle({radius:t.circle.radius,fill:new ol.style.Fill(t.circle.fill)||void 0,stroke:new ol.style.Stroke(t.circle.stroke)||void 0})),e}function createStyleList(t){for(var e=[],i=0;i<t.length;i++){var n,r=[];if(t[i].constructor===Array)for(var o=0;o<t[i].length;o++)n=createStyleOptions(t[i][o]),r.push(new ol.style.Style(n));else n=createStyleOptions(t[i]),r=[new ol.style.Style(n)];e.push(r)}return e}function createStyle(t,e){var i=Viewer.getStyleSettings()[t];$.isEmptyObject(i)&&alert("Style "+t+" is not defined");var n=Viewer.getStyleSettings()[e];return function(){var t=createStyleList(i);if(n){var e=createStyleList(n);return styleFunction(i,t,n,e)}return styleFunction(i,t)}()}function createStyleRule(t){var e=[];if(t.constructor===Array)for(var i=0;i<t.length;i++){var n=createStyleOptions(t[i]);e.push(new ol.style.Style(n))}else n=createStyleOptions(t),e=[new ol.style.Style(n)];return e}function styleFunction(t,e,i,n){var r=Viewer.getResolutions();return function(o,s){var a=Viewer.getScale(s),l=n?o.get("features").length:1;return l>1&&s!=r[r.length+1]?checkOptions(o,a,i,n,l.toString()):checkOptions(o,a,t,e)}}function createEditStyle(){return{Point:createStyleRule(editStyleOptions.Point),MultiPoint:createStyleRule(editStyleOptions.Point),LineString:createStyleRule(editStyleOptions.LineString),MultiLineString:createStyleRule(editStyleOptions.LineString),Polygon:createStyleRule(editStyleOptions.Polygon),MultiPolygon:createStyleRule(editStyleOptions.Polygon)}}function checkOptions(feature,scale,styleSettings,styleList,size){for(var s=styleSettings,j=0;j<s.length;j++){var styleL;if(Viewer.checkScale(scale,s[j][0].maxScale,s[j][0].minScale)){if(s[j].some(function(t,e,i){t.hasOwnProperty("text")&&size&&styleList[j][e].getText().setText(size)}),!s[j][0].hasOwnProperty("filter"))return styleL=styleList[j];var featAttr,expr,featMatch,matches=s[j][0].filter.match(/\[(.*?)\]/);if(matches&&(featAttr=matches[1],expr=s[j][0].filter.split("]")[1],featMatch=feature.get(featAttr),expr="number"==typeof featMatch?featMatch+expr:'"'+featMatch+'"'+expr),eval(expr))return styleL=styleList[j]}}}var ol=require("openlayers"),$=require("jquery"),Viewer=require("./viewer"),validateUrl=require("./utils/validateurl"),baseUrl,white=[255,255,255,1],blue=[0,153,255,1],width=3,editStyleOptions={Point:[{circle:{radius:1,stroke:{color:blue,width:0},fill:{color:blue}}}],LineString:[{stroke:{color:white,width:width+2}},{stroke:{color:blue,width:width}}],Polygon:[{stroke:{color:white,width:width+2}},{stroke:{color:blue,width:width}}]};module.exports=function(){return{init:Init,createStyleOptions:createStyleOptions,createStyleList:createStyleList,createStyleRule:createStyleRule,createStyle:createStyle,styleFunction:styleFunction,createEditStyle:createEditStyle}}},{"./utils/validateurl":200,"./viewer":201,jquery:25,openlayers:27}],177:[function(t,e,i){"use strict";var n={linestring:[{geometry:"endPoint",circle:{fill:{color:[0,153,255,1]},stroke:{color:[0,153,255,1],width:1},radius:3},text:{font:'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',textBaseline:"bottom",textAlign:"center",offsetY:-4,fill:{color:[0,153,255,1]},stroke:{color:[255,255,255,.8],width:4}}},{stroke:{color:[0,153,255,1],width:2}}],polygon:[{fill:{color:[255,255,255,.4]},stroke:{color:[0,153,255,1],width:2},text:{font:'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',textBaseline:"middle",textAlign:"center",fill:{color:[0,153,255,1]},stroke:{color:[255,255,255,.8],width:4}}}],interaction:[{fill:{color:[255,255,255,.2]},stroke:{color:[0,0,0,.5],lineDash:[10,10],width:2},circle:{radius:5,stroke:{color:[0,0,0,.7]},fill:{color:[255,255,255,.2]}}}]};e.exports=n},{}],178:[function(t,e,i){"use strict";var n=[{icon:{anchor:[.5,32],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"img/png/drop_blue.png"}}];e.exports=n},{}],179:[function(t,e,i){"use strict";var n=t("./pin"),r=t("./measure");e.exports=function(){var t={};return t.pin=n,t.measure=r,{getStyle:function(e){if(e)return t[e];console.log(e+" is not a default style")}}}()},{"./measure":177,"./pin":178}],180:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){return'<div id="o-editor-toolbar" class="o-editor-toolbar o-toolbar o-toolbar-horizontal o-padding-horizontal-8 o-rounded-top o-hidden">\r\n    <div id="o-editor-toolbar-drawtools" class="o-toolbar-horizontal">\r\n      <div class="o-popover-container">\r\n        <button id="o-editor-draw" class="o-button-lg" type="button" name="button">\r\n          <svg class="o-icon-24">\r\n              <use xlink:href="#ic_mode_edit_24px"></use>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <button id="o-editor-attribute" class="o-button-lg" type="button" name="button">\r\n      <svg class="o-icon-24">\r\n          <use xlink:href="#ic_title_24px"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-delete" class="o-button-lg" type="button" name="button">\r\n      <svg class="o-icon-24">\r\n          <use xlink:href="#ic_delete_24px"></use>\r\n      </svg>\r\n    </button>\r\n    <div class="o-popover-container">\r\n      <button id="o-editor-layers" class="o-button-lg" type="button" name="button">\r\n        <svg class="o-icon-24">\r\n            <use xlink:href="#ic_layers_24px"></use>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    <button id="o-editor-save" class="o-button-lg o-disabled" type="button" name="button">\r\n      <svg class="o-icon-24">\r\n          <use xlink:href="#ic_save_24px"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-close" class="o-button-lg" type="button" name="button">\r\n        <svg class="o-icon-24">\r\n            <use xlink:href="#ic_close_24px"></use>\r\n        </svg>\r\n    </button>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":24}],181:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({1:function(t,e,i,n,r){var o,s=t.escapeExpression;return"      <li><b>"+s("function"==typeof(o=null!=(o=i.key||r&&r.key)?o:i.helperMissing)?o.call(null!=e?e:{},{name:"key",hash:{},data:r}):o)+"</b> : "+s(t.lambda(e,e))+"</li>\r\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){var o;return null!=(o=i.each.call(null!=e?e:{},e,{name:"each",hash:{},fn:t.program(1,r,0),inverse:t.noop,data:r}))?o:""},useData:!0})},{"hbsfy/runtime":24}],182:[function(t,e,i){"use strict";var n=t("./default.handlebars");e.exports=function(t){return n(t)}},{"./default.handlebars":181}],183:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){var o=t.lambda,s=t.escapeExpression;return'<html>\r\n  <head>\r\n    <link href="css/print.css" rel="stylesheet">\r\n  </head>\r\n  <body>\r\n    <div class="o-print-logo"><img src="'+s(o(null!=e?e.logoSrc:e,e))+'"></div>\r\n    <div class="o-map-canvas"><img src="'+s(o(null!=e?e.src:e,e))+'"/></div>\r\n    <div class="o-print-attribution">'+s(o(null!=e?e.attribution:e,e))+"</div>\r\n  </body>\r\n</html>\r\n"},useData:!0})},{"hbsfy/runtime":24}],184:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({1:function(t,e,i,n,r){return'        <img src="'+t.escapeExpression(t.lambda(null!=e?e.img:e,e))+'">\r\n'},3:function(t,e,i,n,r){var o=t.lambda,s=t.escapeExpression;return'        <a href="'+s(o(null!=e?e.url:e,e))+'">'+s(o(null!=e?e.urlText:e,e))+"</a>\r\n"},5:function(t,e,i,n,r){return"        <p>"+t.escapeExpression(t.lambda(null!=e?e.text:e,e))+"</p>\r\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){var o,s=null!=e?e:{};return'<div id="o-map" class="o-map o-map-grid">\r\n  <div id="o-tools-left" class="o-container-absolute o-tools-left">\r\n    <div id="o-toolbar-navigation" class="o-toolbar-vertical o-toolbar-navigation"></div>\r\n    <div id="o-toolbar-maptools" class="o-toolbar-vertical o-toolbar-maptools"></div>\r\n    <div id="o-toolbar-misc" class="o-toolbar-vertical o-toolbar-misc"></div>\r\n  </div>\r\n  <div id="o-tools-bottom" class="o-tools-bottom"></div>\r\n  <div id="o-footer" class="o-footer">\r\n    <div id="o-console" class="o-footer-left">&nbsp;</div>\r\n    <div class="o-footer-middle">\r\n      <div class="o-footer-middle-content">\r\n'+(null!=(o=i.if.call(s,null!=e?e.img:e,{name:"if",hash:{},fn:t.program(1,r,0),inverse:t.noop,data:r}))?o:"")+(null!=(o=i.if.call(s,null!=e?e.url:e,{name:"if",hash:{},fn:t.program(3,r,0),inverse:t.noop,data:r}))?o:"")+(null!=(o=i.if.call(s,null!=e?e.text:e,{name:"if",hash:{},fn:t.program(5,r,0),inverse:t.noop,data:r}))?o:"")+'      </div>\r\n    </div>\r\n    <div class="o-footer-right">\r\n    </div>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":24}],185:[function(t,e,i){"use strict";t("jquery");e.exports={createButton:function(t){var e="",i="",n=t.cls||"",r=t.iconCls||"",o=t.tooltipPlacement||"east";return t.text&&(i='<span class="o-button-text">'+t.text+"</span>"),t.tooltipText&&(e='<span data-tooltip="'+t.tooltipText+'" data-placement="'+o+'"></span>'),'<div id="'+t.id+'" class="o-button-container o-tooltip"><button class="o-button '+n+'">'+i+'<svg class="'+r+'"><use xlink:href="'+t.src+'"></use></svg></button>'+e+"</div>"},createListButton:function(t){return'<li><div id="'+t.id+'-button" class="o-menu-button"><div class="o-button-icon"><svg class="'+t.iconCls+'"><use xlink:href="'+t.src+'"></use></svg></div>'+t.text+"</div></li>"},createElement:function(t,e,i){var n="<"+t,r="</"+t+">",o=(i?Object.getOwnPropertyNames(i):[]).map(function(t){return"cls"===t?" "+"class".concat("=",'"',i[t],'"'):" "+t.concat("=",'"',i[t],'"')});return n.concat(o.join(" "),">",e,r)},createSvg:function(t){var e=this.createElement("use","",{"xlink:href":t.href});return this.createElement("svg",e,{cls:t.cls})}}},{jquery:25}],186:[function(t,e,i){"use strict";var n=t("jquery");e.exports=function(t,e){function i(){var e=t.getSize(),i=a.reduce(function(t,i){var n=s[i][1],r=s[i][0];return e[0]<=r||e[1]<=n?t||i:t},void 0);n(r).removeClass(u.join(" ")),i&&n(r).addClass(l[i])}var r=".o-map",o=e.breakPointsPrefix,s=e.breakPoints,a=Object.getOwnPropertyNames(s),l=function(t,e){var i={},n=e;return t.slice().reverse().forEach(function(t){n+="-"+t,i[t]=n}),i}(a,o),u=a.map(function(t){return l[t]});n(window).on("resize",i),i()}},{jquery:25}],187:[function(t,e,i){"use strict";e.exports=function(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)})}},{}],188:[function(t,e,i){"use strict";e.exports=function(t,e){var i=new FileReader;i.onload=function(t){var i,n,r,o,s,a=new DataView(t.target.result);if(65496!=a.getUint16(0,!1))return e(-2);for(i=a.byteLength,n=2;n<i;)if(r=a.getUint16(n,!1),n+=2,65505==r){if(1165519206!=a.getUint32(n+=2,!1))return e(-1);o=18761==a.getUint16(n+=6,!1),n+=a.getUint32(n+4,o),s=a.getUint16(n,o),n+=2;for(var l=0;l<s;l++)if(274==a.getUint16(n+12*l,o))return e(a.getUint16(n+12*l+8,o))}else{if(65280!=(65280&r))break;n+=a.getUint16(n,!1)}return e(-1)},i.readAsArrayBuffer(t)}},{}],189:[function(t,e,i){"use strict";e.exports=function(){return location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+location.pathname}},{}],190:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){var r=t.split(";")[0].split("/")[1],o=e,s=new Image;s.onload=function(t){var e,a,l,u,h=document.createElement("canvas"),c=h.getContext("2d"),f=o.maxSize||600,p=s.width,d=s.height;switch(p>d?p>f&&(d*=f/p,p=f):d>f&&(p*=f/d,d=f),h.width=p,h.height=d,i%2==0&&(h.width=d,h.height=p),i){case 1:e=0,a=0,l=0;break;case 3:e=h.width,a=h.height,l=180;break;case 6:e=h.width,a=0,l=90;break;case 8:e=0,a=h.height,l=270;break;default:e=0,a=0,l=0}c.translate(e,a),c.rotate(l*Math.PI/180),c.drawImage(s,0,0,p,d),u=h.toDataURL("image/"+r),n(u)},s.src=t}},{}],191:[function(t,e,i){"use strict";var n=t("jquery");e.exports=function(t){return window.top!==window.self||!1===n(t).parent().is("BODY")}},{jquery:25}],192:[function(t,e,i){"use strict";e.exports=function(t){return new RegExp("^(?:[a-z]+:)?//","i").test(t)}},{}],193:[function(t,e,i){"use strict";e.exports=function(t){var e=t,i=e.toString().length;if(i>3){if(e>=1e3){var n=Math.pow(10,i)/1e4;e=Math.round(e/n)*n}for(var r=e.toString(),o=[];r.length>3;){var s=r.substr(r.length-3);o.unshift(s),r=r.substr(0,r.length-3)}return r.length>0&&o.unshift(r),r=o.join(" ")}return e.toString()}},{}],194:[function(t,e,i){"use strict";var n=t("jquery"),r=t("../utils");e.exports=function(t,e){"browser"===t&&function(t){var e=r.createElement("div","Det ser ut som att du använder en föråldrad webbläsare. Prova att uppgradera din webbläsare för att visa kartan.",{cls:"o-no-map-message"}),i=r.createElement("div",e,{cls:"o-no-map"});n(function(){n(t).append(i)})}(e)}},{"../utils":185,jquery:25}],195:[function(t,e,i){"use strict";e.exports=function(){function t(t,i,l){return n=l.start||"{{",r=l.end||"}}",o=l.helper||{},s=l.helperNS||"@",a=[l.helperArg]||[],e(t,i)}function e(t,l){var u=new RegExp(n+"(.*?)"+r,"g").exec(t);if(u){var h=l.hasOwnProperty(u[1])?l[u[1]]:"";if(!h){var c=u[0].indexOf(s);if(c){var f=i(u[1]),p=f[1].substring(c-1),d=a.concat(f[0]);h=o.hasOwnProperty(p)?o[p].apply(null,d).toString():""}}return e(t.replace(u[0],h),l)}return t}function i(t){var e=t.match(/\((.*?)\)/);return e?[e[1].split(","),t.substring(0,e.index)]:["",t]}var n=void 0,r=void 0,o=void 0,s=void 0,a=void 0;return{replace:function(e,i,n){return t(e,i,n||{})}}}()},{}],196:[function(t,e,i){"use strict";e.exports=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)}},{}],197:[function(t,e,i){"use strict";var n=t("./rendererror");e.exports=function(t,e){var i=document.createElement("canvas").getContext,r=window.requestAnimationFrame;return!(!i||!r)||(n("browser",e),!1)}},{"./rendererror":194}],198:[function(t,e,i){"use strict";e.exports=function(t){return-1!==t.substring(t.lastIndexOf("/")).indexOf(".htm")?t.substring(0,t.lastIndexOf("/")+1):"/"!==t.substr(t.length-1)?t+"/":t}},{}],199:[function(t,e,i){"use strict";var n={};n.objectify=function(t,e){var i=e||{},n=i.delimeter||"/",r=i.topmost||"name",o=t.split(n),s={};if(i.topmost&&(""===o[0]?console.log("Topmost value is missing"):s[r]=o[0]),o.length>1)for(var a=1,l=o.length;a<l;a+=2)s[o[a]]=o[a+1];return s},n.stringify=function(t,e){var i=e||{},n=i.delimeter||"/",r=i.topmost||void 0,o=r?t[r]:"";for(var s in t)s!==r&&(o+=n+s+n+t[s]);return o},n.arrStringify=function(t,e){var i=e||{},n=i.delimeter||"/",r=i.topmost||"",o=r?r+n:"";return void 0===t[0][0]?o+=t.join(","):o+=t.map(function(t){return t.map(function(t){return t.join("!")}).join(",")}).join(i.delimeter),o},n.strArrayify=function(t,e){var i=(e||{}).delimeter||"/",n=e.topmostName||"topmost",r=e.arrName||"arr",o=t.substring(0,t.indexOf(i)),s=t.substring(t.indexOf(i)+1).split(i).map(function(t){return t.split("!")}),a={};return a[n]=o,a[r]=s,a},n.strIntify=function(t,e){var i=(e||{}).delimiter||",";return t.split(i).map(function(t){return parseInt(t)})},n.strBoolean=function(t){return"1"===t||"0"!==t&&(console.log("String is not 1 or 0"),!1)},n.formatUrl=function(t){return Object.getOwnPropertyNames(t).reduce(function(e,i){return i=e?"&"+i+"="+t[i]:i+"="+t[i],e+i},"")},e.exports=n},{}],200:[function(t,e,i){"use strict";var n=t("./isurl");e.exports=function(t,e){return n(t)?t:e+t}},{"./isurl":192}],201:[function(t,e,i){"use strict";function n(t,e){for(var i=[],n=t.length-1;n>=0;n--){var r={};e&&((r=e[t[n].name.split(":").pop()]||{visible:!1,legend:!1}).name=t[n].name);var o=f.extend(t[n],r);i.push(y(o))}return i}function r(){u=new c.Map({target:"o-map",layers:b.layers,controls:[],view:new c.View({extent:b.extent||void 0,projection:b.projection||void 0,center:b.center,resolutions:b.resolutions||void 0,zoom:b.zoom})})}function o(){for(var t=window.location.search.substring(1).split("&"),e=0;e<t.length;e++)if(0==e){var i=t[e].split(",");b.center[0]=parseInt(i[0]),b.center[1]=parseInt(i[1])}else if(1==e)b.zoom=parseInt(t[e]);else if(2==e)for(var n,r,o=t[e].split(";"),s=b.layers,a=0;a<s.length;a++)r=0,f.each(o,function(t,e){n=e.split(","),s[a].get("group")&&("background"==s[a].get("group")&&n[0]==s[a].get("name")?(s[a].setVisible(!0),r=1):"background"==s[a].get("group")&&0==r?s[a].setVisible(!1):n[0]==s[a].get("name")&&(1==n[1]?(s[a].set("legend",!0),s[a].setVisible(!1)):(s[a].set("legend",!0),s[a].setVisible(!0))))})}function s(){function t(i,n){n>=i.length||(i[n].groups&&(i[n].groups.forEach(function(t){e.push(t)}),t(i[n].groups,0)),t(i,n+1))}var e=[];return t(b.groups,0),e}function a(t){var e;switch(t){case"EPSG:3857":e="m";break;case"EPSG:4326":e="degrees";break;default:e=proj4.defs(t)?proj4.defs(t).units:void 0}return e}function l(t,e){e.hasOwnProperty("footer")&&(e.footer[0].hasOwnProperty("img")&&(w.img=e.footer[0].img),e.footer[0].hasOwnProperty("text")&&(w.text=e.footer[0].text),e.footer[0].hasOwnProperty("url")&&(w.url=e.footer[0].url),e.footer[0].hasOwnProperty("urlText")&&(w.urlText=e.footer[0].urlText)),f(t).html(p(w))}var u,h,c=t("openlayers"),f=t("jquery"),p=t("./templates/viewer.handlebars"),d=(t("./modal"),t("./utils"),t("./utils/isurl"),t("./utils/elquery")),g=t("./featureinfo"),m=t("./maputils"),v=t("./style")(),y=t("./layercreator"),b={projection:"",projectionCode:"",projectionExtent:"",extent:[],center:[0,0],zoom:0,resolutions:null,source:{},group:[],layers:[],styles:{},controls:[],featureInfoOverlay:void 0,editLayer:null},w={};e.exports.init=function(t,e){if(l(t,e),e.hasOwnProperty("proj4Defs")&&window.proj4)for(var i=e.proj4Defs,s=0;s<i.length;s++)proj4.defs(i[s].code,i[s].projection),i[s].hasOwnProperty("alias")&&proj4.defs(i[s].alias,proj4.defs(i[s].code));b.params=h=e.params||{},b.map=e.map,b.url=e.url,b.target=e.target,b.baseUrl=e.baseUrl,(e.hasOwnProperty("proj4Defs")||"EPSG:3857"==e.projectionCode||"EPSG:4326"==e.projectionCode)&&(b.projectionCode=e.projectionCode||void 0,b.projectionExtent=e.projectionExtent,b.projection=new c.proj.Projection({code:b.projectionCode,extent:b.projectionExtent,units:a(b.projectionCode)}),b.resolutions=e.resolutions||void 0,b.tileGrid=m.tileGrid(b.projectionExtent,b.resolutions)),b.extent=e.extent||void 0,b.center=h.center||e.center,b.zoom=h.zoom||e.zoom,b.source=e.source,b.groups=e.groups,b.editLayer=e.editLayer,b.styles=e.styles,v.init(),b.layers=n(e.layers,h.layers),b.controls=e.controls,b.consoleId=e.consoleId||"o-console",b.featureinfoOptions=e.featureinfoOptions||{},window.location.search&&o(),r(),d(u,{breakPoints:e.breakPoints,breakPointsPrefix:e.breakPointsPrefix}),h.pin?b.featureinfoOptions.savedPin=h.pin:h.selection&&(b.featureinfoOptions.savedSelection=new c.Feature({geometry:new c.geom[h.selection.geometryType](h.selection.coordinates)})),g.init(b.featureinfoOptions)},e.exports.createLayers=n,e.exports.getBaseUrl=function(){return b.baseUrl},e.exports.getExtent=function(){return b.extent},e.exports.getSettings=function(){return b},e.exports.getStyleSettings=function(){return b.styles},e.exports.getMapUrl=function(){var t,e="";t=window.location.search?window.location.href.replace(window.location.search,"?"):window.location.href+"?";for(var i=u.getView(),n=i.getCenter(),r=0;r<2;r++)n[r]=parseInt(n[r]);var o=i.getZoom();return u.getLayers().forEach(function(t){1==t.getVisible()?e+=t.get("name")+";":1==t.get("legend")&&(e+=t.get("name")+",1;")}),t+n+"&"+o+"&"+e.slice(0,e.lastIndexOf(";"))},e.exports.getMap=function(){return u},e.exports.getLayers=function(){return b.layers},e.exports.getLayersByProperty=function(t,e,i){var n=u.getLayers().getArray().filter(function(i){if(i.get(t)&&i.get(t)===e)return i});return i?n.map(function(t){return t.get("name")}):n},e.exports.getLayer=function(t){return f.grep(b.layers,function(e){return e.get("name")==t})[0]},e.exports.getControlNames=function(){return b.controls.map(function(t){return t.name})},e.exports.getQueryableLayers=function(){return b.layers.filter(function(t){if(t.get("queryable")&&t.getVisible())return t})},e.exports.getGroup=function(t){return t=f.grep(b.layers,function(e){return e.get("group")==t})},e.exports.getGroups=function(t){return"top"==t?b.groups:"sub"==t?s():b.groups.concat(s())},e.exports.getProjectionCode=function(){return b.projectionCode},e.exports.getProjection=function(){return b.projection},e.exports.getMapSource=function(){return b.source},e.exports.getResolutions=function(){return b.resolutions},e.exports.getScale=function(t){var e=t*b.projection.getMetersPerUnit()*39.37*(25.4/.28);return e=Math.round(e)},e.exports.getTarget=function(){return b.target},e.exports.getTileGrid=function(){return b.tileGrid},e.exports.autoPan=function(){var t=f(".o-popup"),e=u.getView().getCenter(),i=f(t).offset(),n=f("#"+u.getTarget()).offset(),r=i.top-n.top,o=u.getSize(),s=n.left+o[0]-(i.left+f(t).outerWidth(!0)),a=0;if(b.controls.hasOwnProperty("mapmenu")&&(a=b.controls.mapmenu.getTarget().offset().left>0?o[0]-b.controls.mapmenu.getTarget().offset().left:a=0),r<0||s<0+a||s>o[0]-f(t).outerWidth(!0)){var l=0,h=0;s<0+a&&(l=(-s+a)*u.getView().getResolution()),s>o[0]-f(t).outerWidth(!0)&&(l=-(f(t).outerWidth(!0)-(o[0]-s))*u.getView().getResolution()),r<0&&(h=-r*u.getView().getResolution()),u.getView().animate({center:[e[0]+l,e[1]+h],duration:300})}},e.exports.removeOverlays=function(t){t?t.constructor===Array||t instanceof c.Collection?t.forEach(function(t){u.removeOverlay(t)}):u.removeOverlay(t):u.getOverlays().clear()},e.exports.checkScale=function(t,e,i){if(!e&&!i)return!0;if(e&&i){if(t>e&&t<i)return!0}else if(e){if(t>e)return!0}else if(i&&t<i)return!0},e.exports.getMapName=function(){return b.map},e.exports.getConsoleId=function(){return b.consoleId},e.exports.getUrl=function(){return b.url}},{"./featureinfo":120,"./layercreator":145,"./maputils":150,"./modal":152,"./style":176,"./templates/viewer.handlebars":184,"./utils":185,"./utils/elquery":186,"./utils/isurl":192,jquery:25,openlayers:27}],202:[function(t,e,i){"use strict";var n,r=t("openlayers"),o=t("jquery"),s=t("./viewer");e.exports.init=function(t){var e,i=(t||{}).target||"o-toolbar-navigation";n=s.getMap(),e=new r.control.Zoom({zoomInTipLabel:" ",zoomOutTipLabel:" ",zoomInLabel:o.parseHTML('<svg class="o-icon-fa-plus"><use xlink:href="#fa-plus"></use></svg>')[0],zoomOutLabel:o.parseHTML('<svg class="o-icon-fa-minus"><use xlink:href="#fa-minus"></use></svg>')[0],target:i}),n.addControl(e)}},{"./viewer":201,jquery:25,openlayers:27}]},{},[100])(100)});