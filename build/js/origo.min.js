!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).origo=t()}}(function(){var define,module,exports;return function t(e,i,n){function o(s,a){if(!i[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var h=new Error("Cannot find module '"+s+"'");throw h.code="MODULE_NOT_FOUND",h}var u=i[s]={exports:{}};e[s][0].call(u.exports,function(t){var i=e[s][1][t];return o(i||t)},u,u.exports,t,e,i,n)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,i){e.exports={crossDomain:!0,target:"#app-wrapper",svgSpritePath:"css/svg/",svgSprites:["fa-icons.svg","material-icons.svg","miscellaneous.svg","origo-icons.svg","custom.svg"],breakPoints:{xs:[240,320],s:[320,320],m:[500,500],l:[768,500]},breakPointsPrefix:"o-media",defaultControls:[{name:"scaleline"},{name:"zoom"},{name:"rotate"},{name:"attribution"},{name:"fullscreen"}]}},{}],2:[function(t,e,i){var n={};n.geoposition=t("../src/geoposition"),n.mapmenu=t("../src/mapmenu"),n.print=t("../src/print"),n.sharemap=t("../src/sharemap"),n.legend=t("../src/legend"),n.search=t("../src/search"),n.editor=t("../src/editor"),n.home=t("../src/home"),n.measure=t("../src/measure"),n.about=t("../src/about"),n.scale=t("../src/scale"),n.offline=t("../src/offline"),n.link=t("../src/link"),n.scaleline=t("../src/scaleline"),n.zoom=t("../src/zoom"),n.rotate=t("../src/rotate"),n.attribution=t("../src/attribution"),n.position=t("../src/position"),n.fullscreen=t("../src/fullscreen"),n.splash=t("../src/splash"),e.exports=n},{"../src/about":99,"../src/attribution":100,"../src/editor":104,"../src/fullscreen":121,"../src/geoposition":125,"../src/home":129,"../src/legend":145,"../src/link":146,"../src/mapmenu":148,"../src/measure":150,"../src/offline":152,"../src/position":168,"../src/print":169,"../src/rotate":170,"../src/scale":171,"../src/scaleline":172,"../src/search":173,"../src/sharemap":174,"../src/splash":176,"../src/zoom":206}],3:[function(t,e,i){"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i){var n={init:function(e,i){this.$elem=t(i),this.options=t.extend({},t.fn.owlCarousel.options,this.$elem.data(),e),this.userOptions=e,this.loadContent()},loadContent:function(){var e,i=this;"function"==typeof i.options.beforeInit&&i.options.beforeInit.apply(this,[i.$elem]),"string"==typeof i.options.jsonPath?(e=i.options.jsonPath,t.getJSON(e,function(t){var e,n="";if("function"==typeof i.options.jsonSuccess)i.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(n+=t.owl[e].item);i.$elem.html(n)}i.logIn()})):i.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),this.onStartup()},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var t=this;e.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;if(!1!==t.$elem.is(":visible"))return!1;t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),t.checkVisible=e.setInterval(function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var t=this.$elem.hasClass(this.options.baseClass),e=this.$elem.hasClass(this.options.theme);t||this.$elem.addClass(this.options.baseClass),e||this.$elem.addClass(this.options.theme)},updateItems:function(){var e,i;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if((e=t(this.options.responsiveBaseWidth).width())>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),i=0;i<this.options.itemsCustom.length;i+=1)this.options.itemsCustom[i][0]<=e&&(this.options.items=this.options.itemsCustom[i][1]);else e<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),e<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),e<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),e<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),e<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var i,n,o=this;if(!0!==o.options.responsive)return!1;n=t(e).width(),o.resizer=function(){t(e).width()!==n&&(!1!==o.options.autoPlay&&e.clearInterval(o.autoPlayInterval),e.clearTimeout(i),i=e.setTimeout(function(){n=t(e).width(),o.updateVars()},o.options.responsiveRefreshRate))},t(e).resize(o.resizer)},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var e=this,i=0,n=e.itemsAmount-e.options.items;e.$owlItems.each(function(o){var r=t(this);r.css({width:e.itemWidth}).data("owl-item",Number(o)),0!=o%e.options.items&&o!==n||o>n||(i+=1),r.data("owl-roundPages",i)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var t=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=t=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=t),t},min:function(){return 0},loops:function(){var e,i,n=0,o=0;for(this.positionsInArray=[0],this.pagesInArray=[],e=0;e<this.itemsAmount;e+=1)o+=this.itemWidth,this.positionsInArray.push(-o),!0===this.options.scrollPerPage&&(i=t(this.$owlItems[e]),(i=i.data("owl-roundPages"))!==n&&(this.pagesInArray[n]=this.positionsInArray[e],n=i))},buildControls:function(){!0!==this.options.navigation&&!0!==this.options.pagination||(this.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var e=this,i=t('<div class="owl-buttons"/>');e.owlControls.append(i),e.buttonPrev=t("<div/>",{class:"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{class:"owl-next",html:e.options.navigationText[1]||""}),i.append(e.buttonPrev).append(e.buttonNext),i.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(t){t.preventDefault()}),i.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(i){i.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(i){i.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)})},updatePagination:function(){var e,i,n,o,r,s;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),e=0,i=this.itemsAmount-this.itemsAmount%this.options.items,o=0;o<this.itemsAmount;o+=1)0==o%this.options.items&&(e+=1,i===o&&(n=this.itemsAmount-this.options.items),r=t("<div/>",{class:"owl-page"}),s=t("<span></span>",{text:!0===this.options.paginationNumbers?e:"",class:!0===this.options.paginationNumbers?"owl-numbers":""}),r.append(s),r.data("owl-page",i===o?n:o),r.data("owl-roundPages",e),this.paginationWrapper.append(r));this.checkPagination()},checkPagination:function(){var e=this;if(!1===e.options.pagination)return!1;e.paginationWrapper.find(".owl-page").each(function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(t){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,t="rewind"}this.goTo(this.currentItem,t)},prev:function(t){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,t="rewind"}this.goTo(this.currentItem,t)},goTo:function(t,i,n){var o=this;return!o.isTransition&&("function"==typeof o.options.beforeMove&&o.options.beforeMove.apply(this,[o.$elem]),t>=o.maximumItem?t=o.maximumItem:0>=t&&(t=0),o.currentItem=o.owl.currentItem=t,!1!==o.options.transitionStyle&&"drag"!==n&&1===o.options.items&&!0===o.browser.support3d?(o.swapSpeed(0),!0===o.browser.support3d?o.transition3d(o.positionsInArray[t]):o.css2slide(o.positionsInArray[t],1),o.afterGo(),o.singleItemTransition(),!1):(t=o.positionsInArray[t],!0===o.browser.support3d?(o.isCss3Finish=!1,!0===i?(o.swapSpeed("paginationSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.paginationSpeed)):"rewind"===i?(o.swapSpeed(o.options.rewindSpeed),e.setTimeout(function(){o.isCss3Finish=!0},o.options.rewindSpeed)):(o.swapSpeed("slideSpeed"),e.setTimeout(function(){o.isCss3Finish=!0},o.options.slideSpeed)),o.transition3d(t)):!0===i?o.css2slide(t,o.options.paginationSpeed):"rewind"===i?o.css2slide(t,o.options.rewindSpeed):o.css2slide(t,o.options.slideSpeed),void o.afterGo()))},jumpTo:function(t){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),t>=this.maximumItem||-1===t?t=this.maximumItem:0>=t&&(t=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[t]):this.css2slide(this.positionsInArray[t],1),this.currentItem=this.owl.currentItem=t,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",e.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var t=this;if(t.apStatus="play",!1===t.options.autoPlay)return!1;e.clearInterval(t.autoPlayInterval),t.autoPlayInterval=e.setInterval(function(){t.next(!0)},t.options.autoPlay)},swapSpeed:function(t){"slideSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof t&&this.$owlWrapper.css(this.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){this.$owlWrapper.css(this.doTranslate(t))},css2move:function(t){this.$owlWrapper.css({left:t})},css2slide:function(t,e){var i=this;i.isCssFinish=!1,i.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||i.options.slideSpeed,complete:function(){i.isCssFinish=!0}})},checkBrowser:function(){var t=i.createElement("div");t.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",t=t.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==t&&1===t.length,isTouch:"ontouchstart"in e||e.navigator.msMaxTouchPoints}},moveEvents:function(){!1===this.options.mouseDrag&&!1===this.options.touchDrag||(this.gestures(),this.disabledEvents())},eventTypes:function(){var t=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=t[0],this.ev_types.move=t[1],this.ev_types.end=t[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(t){t.preventDefault()}),this.$elem.on("mousedown.disableTextSelect",function(e){return t(e.target).is("input, textarea, select, option")})},gestures:function(){function n(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function o(e){"on"===e?(t(i).on(a.ev_types.move,r),t(i).on(a.ev_types.end,s)):"off"===e&&(t(i).off(a.ev_types.move),t(i).off(a.ev_types.end))}function r(o){o=o.originalEvent||o||e.event,a.newPosX=n(o).x-l.offsetX,a.newPosY=n(o).y-l.offsetY,a.newRelativeX=a.newPosX-l.relativePos,"function"==typeof a.options.startDragging&&!0!==l.dragging&&0!==a.newRelativeX&&(l.dragging=!0,a.options.startDragging.apply(a,[a.$elem])),(8<a.newRelativeX||-8>a.newRelativeX)&&!0===a.browser.isTouch&&(void 0!==o.preventDefault?o.preventDefault():o.returnValue=!1,l.sliding=!0),(10<a.newPosY||-10>a.newPosY)&&!1===l.sliding&&t(i).off("touchmove.owl"),a.newPosX=Math.max(Math.min(a.newPosX,a.newRelativeX/5),a.maximumPixels+a.newRelativeX/5),!0===a.browser.support3d?a.transition3d(a.newPosX):a.css2move(a.newPosX)}function s(i){var n;(i=i.originalEvent||i||e.event).target=i.target||i.srcElement,l.dragging=!1,!0!==a.browser.isTouch&&a.$owlWrapper.removeClass("grabbing"),a.dragDirection=0>a.newRelativeX?a.owl.dragDirection="left":a.owl.dragDirection="right",0!==a.newRelativeX&&(n=a.getNewPosition(),a.goTo(n,!1,"drag"),l.targetElement===i.target&&!0!==a.browser.isTouch&&(t(i.target).on("click.disable",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")}),i=t._data(i.target,"events").click,n=i.pop(),i.splice(0,0,n))),o("off")}var a=this,l={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};a.isCssFinish=!0,a.$elem.on(a.ev_types.start,".owl-wrapper",function(i){var r;if(3===(i=i.originalEvent||i||e.event).which)return!1;if(!(a.itemsAmount<=a.options.items)){if(!1===a.isCssFinish&&!a.options.dragBeforeAnimFinish||!1===a.isCss3Finish&&!a.options.dragBeforeAnimFinish)return!1;!1!==a.options.autoPlay&&e.clearInterval(a.autoPlayInterval),!0===a.browser.isTouch||a.$owlWrapper.hasClass("grabbing")||a.$owlWrapper.addClass("grabbing"),a.newPosX=0,a.newRelativeX=0,t(this).css(a.removeTransition()),r=t(this).position(),l.relativePos=r.left,l.offsetX=n(i).x-r.left,l.offsetY=n(i).y-r.top,o("on"),l.sliding=!1,l.targetElement=i.target||i.srcElement}})},getNewPosition:function(){var t=this.closestItem();return t>this.maximumItem?t=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=t=0),t},closestItem:function(){var e=this,i=!0===e.options.scrollPerPage?e.pagesInArray:e.positionsInArray,n=e.newPosX,o=null;return t.each(i,function(r,s){n-e.itemWidth/20>i[r+1]&&n-e.itemWidth/20<s&&"left"===e.moveDirection()?(o=s,e.currentItem=!0===e.options.scrollPerPage?t.inArray(o,e.positionsInArray):r):n+e.itemWidth/20<s&&n+e.itemWidth/20>(i[r+1]||i[r]-e.itemWidth)&&"right"===e.moveDirection()&&(!0===e.options.scrollPerPage?(o=i[r+1]||i[i.length-1],e.currentItem=t.inArray(o,e.positionsInArray)):(o=i[r+1],e.currentItem=r+1))}),e.currentItem},moveDirection:function(){var t;return 0>this.newRelativeX?(t="right",this.playDirection="next"):(t="left",this.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",function(){t.next()}),t.$elem.on("owl.prev",function(){t.prev()}),t.$elem.on("owl.play",function(e,i){t.options.autoPlay=i,t.play(),t.hoverStatus="play"}),t.$elem.on("owl.stop",function(){t.stop(),t.hoverStatus="stop"}),t.$elem.on("owl.goTo",function(e,i){t.goTo(i)}),t.$elem.on("owl.jumpTo",function(e,i){t.jumpTo(i)})},stopOnHover:function(){var t=this;!0===t.options.stopOnHover&&!0!==t.browser.isTouch&&!1!==t.options.autoPlay&&(t.$elem.on("mouseover",function(){t.stop()}),t.$elem.on("mouseout",function(){"stop"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var e,i,n,o;if(!1===this.options.lazyLoad)return!1;for(e=0;e<this.itemsAmount;e+=1)"loaded"!==(i=t(this.$owlItems[e])).data("owl-loaded")&&(n=i.data("owl-item"),"string"!=typeof(o=i.find(".lazyOwl")).data("src")?i.data("owl-loaded","loaded"):(void 0===i.data("owl-loaded")&&(o.hide(),i.addClass("loading").data("owl-loaded","checked")),(!0!==this.options.lazyFollow||n>=this.currentItem)&&n<this.currentItem+this.options.items&&o.length&&this.lazyPreload(i,o)))},lazyPreload:function(t,i){function n(){t.data("owl-loaded","loaded").removeClass("loading"),i.removeAttr("data-src"),"fade"===s.options.lazyEffect?i.fadeIn(400):i.show(),"function"==typeof s.options.afterLazyLoad&&s.options.afterLazyLoad.apply(this,[s.$elem])}function o(){a+=1,s.completeImg(i.get(0))||!0===r?n():100>=a?e.setTimeout(o,100):n()}var r,s=this,a=0;"DIV"===i.prop("tagName")?(i.css("background-image","url("+i.data("src")+")"),r=!0):i[0].src=i.data("src"),o()},autoHeight:function(){function i(){var i=t(r.$owlItems[r.currentItem]).height();r.wrapperOuter.css("height",i+"px"),r.wrapperOuter.hasClass("autoHeight")||e.setTimeout(function(){r.wrapperOuter.addClass("autoHeight")},0)}function n(){o+=1,r.completeImg(s.get(0))?i():100>=o?e.setTimeout(n,100):r.wrapperOuter.css("height","")}var o,r=this,s=t(r.$owlItems[r.currentItem]).find("img");void 0!==s.get(0)?(o=0,n()):i()},completeImg:function(t){return!(!t.complete||void 0!==t.naturalWidth&&0===t.naturalWidth)},onVisibleItems:function(){var e;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],e=this.currentItem;e<this.currentItem+this.options.items;e+=1)this.visibleItems.push(e),!0===this.options.addClassActive&&t(this.$owlItems[e]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(t){this.outClass="owl-"+t+"-out",this.inClass="owl-"+t+"-in"},singleItemTransition:function(){var t=this,e=t.outClass,i=t.inClass,n=t.$owlItems.eq(t.currentItem),o=t.$owlItems.eq(t.prevItem),r=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],s=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2;t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":s+"px","-moz-perspective-origin":s+"px","perspective-origin":s+"px"}),o.css({position:"relative",left:r+"px"}).addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endPrev=!0,o.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(o,e)}),n.addClass(i).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endCurrent=!0,n.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(n,i)})},clearTransStyle:function(t,e){t.css({position:"",left:""}).removeClass(e),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),t(i).off(".owl owl"),t(e).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),e.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(e){e=t.extend({},this.userOptions,e),this.unWrap(),this.init(e,this.$elem)},addItem:function(t,e){var i;return!!t&&(0===this.$elem.children().length?(this.$elem.append(t),this.setVars(),!1):(this.unWrap(),(i=void 0===e||-1===e?-1:e)>=this.$userItems.length||-1===i?this.$userItems.eq(-1).after(t):this.$userItems.eq(i).before(t),void this.setVars()))},removeItem:function(t){if(0===this.$elem.children().length)return!1;t=void 0===t||-1===t?-1:t,this.unWrap(),this.$userItems.eq(t).remove(),this.setVars()}};t.fn.owlCarousel=function(e){return this.each(function(){if(!0===t(this).data("owl-init"))return!1;t(this).data("owl-init",!0);var i=Object.create(n);i.init(e,this),t.data(this,"owlCarousel",i)})},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document)},{}],4:[function(t,e,i){e.exports={loadjQueryPlugin:function(){t("./owl.carousel.min.js")}}},{"./owl.carousel.min.js":3}],5:[function(t,e,i){!function(){function t(t){var e=Array.isArray(t)?{label:t[0],value:t[1]}:"object"==typeof t&&"label"in t&&"value"in t?t:{label:t,value:t};this.label=e.label||e.value,this.value=e.value}function i(t,e,i){for(var n in e){var o=e[n],r=t.input.getAttribute("data-"+n.toLowerCase());"number"==typeof o?t[n]=parseInt(r):!1===o?t[n]=null!==r:o instanceof Function?t[n]=null:t[n]=r,t[n]||0===t[n]||(t[n]=n in i?i[n]:o)}}function n(t,e){return"string"==typeof t?(e||document).querySelector(t):t||null}function o(t,e){return a.call((e||document).querySelectorAll(t))}function r(){o("input.awesomplete").forEach(function(t){new s(t)})}var s=function(t,e){var o=this;this.isOpened=!1,this.input=n(t),this.input.setAttribute("autocomplete","off"),this.input.setAttribute("aria-autocomplete","list"),e=e||{},i(this,{minChars:2,maxItems:10,autoFirst:!1,data:s.DATA,filter:s.FILTER_CONTAINS,sort:!1!==e.sort&&s.SORT_BYLENGTH,item:s.ITEM,replace:s.REPLACE},e),this.index=-1,this.container=n.create("div",{className:"awesomplete",around:t}),this.ul=n.create("ul",{hidden:"hidden",inside:this.container}),this.status=n.create("span",{className:"visually-hidden",role:"status","aria-live":"assertive","aria-relevant":"additions",inside:this.container}),this._events={input:{input:this.evaluate.bind(this),blur:this.close.bind(this,{reason:"blur"}),keydown:function(t){var e=t.keyCode;o.opened&&(13===e&&o.selected?(t.preventDefault(),o.select()):27===e?o.close({reason:"esc"}):38!==e&&40!==e||(t.preventDefault(),o[38===e?"previous":"next"]()))}},form:{submit:this.close.bind(this,{reason:"submit"})},ul:{mousedown:function(t){var e=t.target;if(e!==this){for(;e&&!/li/i.test(e.nodeName);)e=e.parentNode;e&&0===t.button&&(t.preventDefault(),o.select(e,t.target))}}}},n.bind(this.input,this._events.input),n.bind(this.input.form,this._events.form),n.bind(this.ul,this._events.ul),this.input.hasAttribute("list")?(this.list="#"+this.input.getAttribute("list"),this.input.removeAttribute("list")):this.list=this.input.getAttribute("data-list")||e.list||[],s.all.push(this)};s.prototype={set list(t){if(Array.isArray(t))this._list=t;else if("string"==typeof t&&t.indexOf(",")>-1)this._list=t.split(/\s*,\s*/);else if((t=n(t))&&t.children){var e=[];a.apply(t.children).forEach(function(t){if(!t.disabled){var i=t.textContent.trim(),n=t.value||i,o=t.label||i;""!==n&&e.push({label:o,value:n})}}),this._list=e}document.activeElement===this.input&&this.evaluate()},get selected(){return this.index>-1},get opened(){return this.isOpened},close:function(t){this.opened&&(this.ul.setAttribute("hidden",""),this.isOpened=!1,this.index=-1,n.fire(this.input,"awesomplete-close",t||{}))},open:function(){this.ul.removeAttribute("hidden"),this.isOpened=!0,this.autoFirst&&-1===this.index&&this.goto(0),n.fire(this.input,"awesomplete-open")},destroy:function(){n.unbind(this.input,this._events.input),n.unbind(this.input.form,this._events.form);var t=this.container.parentNode;t.insertBefore(this.input,this.container),t.removeChild(this.container),this.input.removeAttribute("autocomplete"),this.input.removeAttribute("aria-autocomplete");var e=s.all.indexOf(this);-1!==e&&s.all.splice(e,1)},next:function(){var t=this.ul.children.length;this.goto(this.index<t-1?this.index+1:t?0:-1)},previous:function(){var t=this.ul.children.length,e=this.index-1;this.goto(this.selected&&-1!==e?e:t-1)},goto:function(t){var e=this.ul.children;this.selected&&e[this.index].setAttribute("aria-selected","false"),this.index=t,t>-1&&e.length>0&&(e[t].setAttribute("aria-selected","true"),this.status.textContent=e[t].textContent,this.ul.scrollTop=e[t].offsetTop-this.ul.clientHeight+e[t].clientHeight,n.fire(this.input,"awesomplete-highlight",{text:this.suggestions[this.index]}))},select:function(t,e){if(t?this.index=n.siblingIndex(t):t=this.ul.children[this.index],t){var i=this.suggestions[this.index];n.fire(this.input,"awesomplete-select",{text:i,origin:e||t})&&(this.replace(i),this.close({reason:"select"}),n.fire(this.input,"awesomplete-selectcomplete",{text:i}))}},evaluate:function(){var e=this,i=this.input.value;i.length>=this.minChars&&this._list.length>0?(this.index=-1,this.ul.innerHTML="",this.suggestions=this._list.map(function(n){return new t(e.data(n,i))}).filter(function(t){return e.filter(t,i)}),!1!==this.sort&&(this.suggestions=this.suggestions.sort(this.sort)),this.suggestions=this.suggestions.slice(0,this.maxItems),this.suggestions.forEach(function(t){e.ul.appendChild(e.item(t,i))}),0===this.ul.children.length?this.close({reason:"nomatches"}):this.open()):this.close({reason:"nomatches"})}},s.all=[],s.FILTER_CONTAINS=function(t,e){return RegExp(n.regExpEscape(e.trim()),"i").test(t)},s.FILTER_STARTSWITH=function(t,e){return RegExp("^"+n.regExpEscape(e.trim()),"i").test(t)},s.SORT_BYLENGTH=function(t,e){return t.length!==e.length?t.length-e.length:t<e?-1:1},s.ITEM=function(t,e){var i=""===e.trim()?t:t.replace(RegExp(n.regExpEscape(e.trim()),"gi"),"<mark>$&</mark>");return n.create("li",{innerHTML:i,"aria-selected":"false"})},s.REPLACE=function(t){this.input.value=t.value},s.DATA=function(t){return t},Object.defineProperty(t.prototype=Object.create(String.prototype),"length",{get:function(){return this.label.length}}),t.prototype.toString=t.prototype.valueOf=function(){return""+this.label};var a=Array.prototype.slice;n.create=function(t,e){var i=document.createElement(t);for(var o in e){var r=e[o];if("inside"===o)n(r).appendChild(i);else if("around"===o){var s=n(r);s.parentNode.insertBefore(i,s),i.appendChild(s)}else o in i?i[o]=r:i.setAttribute(o,r)}return i},n.bind=function(t,e){if(t)for(var i in e){var n=e[i];i.split(/\s+/).forEach(function(e){t.addEventListener(e,n)})}},n.unbind=function(t,e){if(t)for(var i in e){var n=e[i];i.split(/\s+/).forEach(function(e){t.removeEventListener(e,n)})}},n.fire=function(t,e,i){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0);for(var o in i)n[o]=i[o];return t.dispatchEvent(n)},n.regExpEscape=function(t){return t.replace(/[-\\^$*+?.()|[\]{}]/g,"\\$&")},n.siblingIndex=function(t){for(var e=0;t=t.previousElementSibling;e++);return e},"undefined"!=typeof Document&&("loading"!==document.readyState?r():document.addEventListener("DOMContentLoaded",r)),s.$=n,s.$$=o,"undefined"!=typeof self&&(self.Awesomplete=s),"object"==typeof e&&e.exports&&(e.exports=s)}()},{}],6:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(){var t=new s.HandlebarsEnvironment;return h.extend(t,s),t.SafeString=a.default,t.Exception=l.default,t.Utils=h,t.escapeExpression=h.escapeExpression,t.VM=u,t.template=function(e){return u.template(e,t)},t}i.__esModule=!0;var s=o(t("./handlebars/base")),a=n(t("./handlebars/safe-string")),l=n(t("./handlebars/exception")),h=o(t("./handlebars/utils")),u=o(t("./handlebars/runtime")),c=n(t("./handlebars/no-conflict")),f=r();f.create=r,c.default(f),f.default=f,i.default=f,e.exports=i.default},{"./handlebars/base":7,"./handlebars/exception":10,"./handlebars/no-conflict":20,"./handlebars/runtime":21,"./handlebars/safe-string":22,"./handlebars/utils":23}],7:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},a.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}i.__esModule=!0,i.HandlebarsEnvironment=o;var r=t("./utils"),s=n(t("./exception")),a=t("./helpers"),l=t("./decorators"),h=n(t("./logger"));i.VERSION="4.0.5";i.COMPILER_REVISION=7;var u={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};i.REVISION_CHANGES=u;o.prototype={constructor:o,logger:h.default,log:h.default.log,registerHelper:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple helpers");r.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if("[object Object]"===r.toString.call(t))r.extend(this.partials,t);else{if(void 0===e)throw new s.default('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if("[object Object]"===r.toString.call(t)){if(e)throw new s.default("Arg not supported with multiple decorators");r.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var c=h.default.log;i.log=c,i.createFrame=r.createFrame,i.logger=h.default},{"./decorators":8,"./exception":10,"./helpers":11,"./logger":19,"./utils":23}],8:[function(t,e,i){"use strict";i.__esModule=!0,i.registerDefaultDecorators=function(t){n.default(t)};var n=function(t){return t&&t.__esModule?t:{default:t}}(t("./decorators/inline"))},{"./decorators/inline":9}],9:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerDecorator("inline",function(t,e,i,o){var r=t;return e.partials||(e.partials={},r=function(o,r){var s=i.partials;i.partials=n.extend({},s,e.partials);var a=t(o,r);return i.partials=s,a}),e.partials[o.args[0]]=o.fn,r})},e.exports=i.default},{"../utils":23}],10:[function(t,e,i){"use strict";function n(t,e){var i=e&&e.loc,r=void 0,s=void 0;i&&(t+=" - "+(r=i.start.line)+":"+(s=i.start.column));for(var a=Error.prototype.constructor.call(this,t),l=0;l<o.length;l++)this[o[l]]=a[o[l]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=r,this.column=s)}i.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,i.default=n,e.exports=i.default},{}],11:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}i.__esModule=!0,i.registerDefaultHelpers=function(t){o.default(t),r.default(t),s.default(t),a.default(t),l.default(t),h.default(t),u.default(t)};var o=n(t("./helpers/block-helper-missing")),r=n(t("./helpers/each")),s=n(t("./helpers/helper-missing")),a=n(t("./helpers/if")),l=n(t("./helpers/log")),h=n(t("./helpers/lookup")),u=n(t("./helpers/with"))},{"./helpers/block-helper-missing":12,"./helpers/each":13,"./helpers/helper-missing":14,"./helpers/if":15,"./helpers/log":16,"./helpers/lookup":17,"./helpers/with":18}],12:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerHelper("blockHelperMissing",function(e,i){var o=i.inverse,r=i.fn;if(!0===e)return r(this);if(!1===e||null==e)return o(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):o(this);if(i.data&&i.ids){var s=n.createFrame(i.data);s.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:s}}return r(e,i)})},e.exports=i.default},{"../utils":23}],13:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils"),o=function(t){return t&&t.__esModule?t:{default:t}}(t("../exception"));i.default=function(t){t.registerHelper("each",function(t,e){function i(e,i,o){h&&(h.key=e,h.index=i,h.first=0===i,h.last=!!o,u&&(h.contextPath=u+e)),l+=r(t[e],{data:h,blockParams:n.blockParams([t[e],e],[u+e,null])})}if(!e)throw new o.default("Must pass iterator to #each");var r=e.fn,s=e.inverse,a=0,l="",h=void 0,u=void 0;if(e.data&&e.ids&&(u=n.appendContextPath(e.data.contextPath,e.ids[0])+"."),n.isFunction(t)&&(t=t.call(this)),e.data&&(h=n.createFrame(e.data)),t&&"object"==typeof t)if(n.isArray(t))for(var c=t.length;a<c;a++)a in t&&i(a,a,a===t.length-1);else{var f=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==f&&i(f,a-1),f=p,a++);void 0!==f&&i(f,a-1,!0)}return 0===a&&(l=s(this)),l})},e.exports=i.default},{"../exception":10,"../utils":23}],14:[function(t,e,i){"use strict";i.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(t("../exception"));i.default=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new n.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=i.default},{"../exception":10}],15:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers.if.call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},e.exports=i.default},{"../utils":23}],16:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var o=1;null!=i.hash.level?o=i.hash.level:i.data&&null!=i.data.level&&(o=i.data.level),e[0]=o,t.log.apply(t,e)})},e.exports=i.default},{}],17:[function(t,e,i){"use strict";i.__esModule=!0,i.default=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},e.exports=i.default},{}],18:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i.default=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var o=e.data;return e.data&&e.ids&&((o=n.createFrame(e.data)).contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:o,blockParams:n.blockParams([t],[o&&o.contextPath])})})},e.exports=i.default},{"../utils":23}],19:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("./utils"),o={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(o.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=o.lookupLevel(t),"undefined"!=typeof console&&o.lookupLevel(o.level)<=t){var e=o.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];console[e].apply(console,n)}}};i.default=o,e.exports=i.default},{"./utils":23}],20:[function(t,e,i){(function(t){"use strict";i.__esModule=!0,i.default=function(e){var i=void 0!==t?t:window,n=i.Handlebars;e.noConflict=function(){return i.Handlebars===e&&(i.Handlebars=n),e}},e.exports=i.default}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],21:[function(t,e,i){"use strict";function n(t,e,i,n,o,r,a){function l(e){var o=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=a;return a&&e!==a[0]&&(s=[e].concat(a)),i(t,e,t.helpers,t.partials,o.data||n,r&&[o.blockParams].concat(r),s)}return l=s(i,l,t,a,n,r),l.program=e,l.depth=a?a.length:0,l.blockParams=o||0,l}function o(){return""}function r(t,e){return e&&"root"in e||((e=e?h.createFrame(e):{}).root=t),e}function s(t,e,i,n,o,r){if(t.decorator){var s={};e=t.decorator(e,s,i,n&&n[0],o,r,n),a.extend(e,s)}return e}i.__esModule=!0,i.checkRevision=function(t){var e=t&&t[0]||1,i=h.COMPILER_REVISION;if(e!==i){if(e<i){var n=h.REVISION_CHANGES[i],o=h.REVISION_CHANGES[e];throw new l.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new l.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},i.template=function(t,e){function i(e){function n(e){return""+t.main(o,e,o.helpers,o.partials,l,u,h)}var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],l=a.data;i._setup(a),!a.partial&&t.useData&&(l=r(e,l));var h=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(h=a.depths?e!==a.depths[0]?[e].concat(a.depths):a.depths:[e]),(n=s(t.main,n,o,a.depths||[],l,u))(e,a)}if(!e)throw new l.default("No environment passed to template");if(!t||!t.main)throw new l.default("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var o={strict:function(t,e){if(!(e in t))throw new l.default('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:a.escapeExpression,invokePartial:function(i,n,o){o.hash&&(n=a.extend({},n,o.hash),o.ids&&(o.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,o);var r=e.VM.invokePartial.call(this,i,n,o);if(null==r&&e.compile&&(o.partials[o.name]=e.compile(i,t.compilerOptions,e),r=o.partials[o.name](n,o)),null!=r){if(o.indent){for(var s=r.split("\n"),h=0,u=s.length;h<u&&(s[h]||h+1!==u);h++)s[h]=o.indent+s[h];r=s.join("\n")}return r}throw new l.default("The partial "+o.name+" could not be compiled when running in runtime-only mode")},fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,o,r){var s=this.programs[t],a=this.fn(t);return e||r||o||i?s=n(this,t,a,e,i,o,r):s||(s=this.programs[t]=n(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=a.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return i.isTop=!0,i._setup=function(i){i.partial?(o.helpers=i.helpers,o.partials=i.partials,o.decorators=i.decorators):(o.helpers=o.merge(i.helpers,e.helpers),t.usePartial&&(o.partials=o.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(o.decorators=o.merge(i.decorators,e.decorators)))},i._child=function(e,i,r,s){if(t.useBlockParams&&!r)throw new l.default("must pass block params");if(t.useDepths&&!s)throw new l.default("must pass parent depths");return n(o,e,t[e],i,0,r,s)},i},i.wrapProgram=n,i.resolvePartial=function(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t},i.invokePartial=function(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==o&&(i.data=h.createFrame(i.data),(n=i.data["partial-block"]=i.fn).partials&&(i.partials=a.extend({},i.partials,n.partials))),void 0===t&&n&&(t=n),void 0===t)throw new l.default("The partial "+i.name+" could not be found");if(t instanceof Function)return t(e,i)},i.noop=o;var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(t("./utils")),l=function(t){return t&&t.__esModule?t:{default:t}}(t("./exception")),h=t("./base")},{"./base":7,"./exception":10,"./utils":23}],22:[function(t,e,i){"use strict";function n(t){this.string=t}i.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},i.default=n,e.exports=i.default},{}],23:[function(t,e,i){"use strict";function n(t){return r[t]}function o(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}i.__esModule=!0,i.extend=o,i.indexOf=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},i.escapeExpression=function(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return a.test(t)?t.replace(s,n):t},i.isEmpty=function(t){return!t&&0!==t||!(!u(t)||0!==t.length)},i.createFrame=function(t){var e=o({},t);return e._parent=t,e},i.blockParams=function(t,e){return t.path=e,t},i.appendContextPath=function(t,e){return(t?t+".":"")+e};var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},s=/[&<>"'`=]/g,a=/[&<>"'`=]/,l=Object.prototype.toString;i.toString=l;var h=function(t){return"function"==typeof t};h(/x/)&&(i.isFunction=h=function(t){return"function"==typeof t&&"[object Function]"===l.call(t)}),i.isFunction=h;var u=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===l.call(t)};i.isArray=u},{}],24:[function(t,e,i){e.exports=t("./dist/cjs/handlebars.runtime").default},{"./dist/cjs/handlebars.runtime":6}],25:[function(t,e,i){e.exports=t("handlebars/runtime").default},{"handlebars/runtime":24}],26:[function(t,e,i){!function(t,i){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e="length"in t&&t.length,i=J.type(t);return"function"!==i&&!J.isWindow(t)&&(!(1!==t.nodeType||!e)||("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t))}function n(t,e,i){if(J.isFunction(e))return J.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return J.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(rt.test(e))return J.filter(e,t,i);e=J.filter(e,t)}return J.grep(t,function(t){return X.call(e,t)>=0!==i})}function o(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function r(t){var e=ct[t]={};return J.each(t.match(ut)||[],function(t,i){e[i]=!0}),e}function s(){$.removeEventListener("DOMContentLoaded",s,!1),t.removeEventListener("load",s,!1),J.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=J.expando+a.uid++}function l(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(mt,"-$1").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:vt.test(i)?J.parseJSON(i):i)}catch(t){}gt.set(t,e,i)}else i=void 0;return i}function h(){return!0}function u(){return!1}function c(){try{return $.activeElement}catch(t){}}function f(t,e){return J.nodeName(t,"table")&&J.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function d(t){var e=Nt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var i=0,n=t.length;i<n;i++)dt.set(t[i],"globalEval",!e||dt.get(e[i],"globalEval"))}function v(t,e){var i,n,o,r,s,a,l,h;if(1===e.nodeType){if(dt.hasData(t)&&(r=dt.access(t),s=dt.set(e,r),h=r.events)){delete s.handle,s.events={};for(o in h)for(i=0,n=h[o].length;i<n;i++)J.event.add(e,o,h[o][i])}gt.hasData(t)&&(a=gt.access(t),l=J.extend({},a),gt.set(e,l))}}function m(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&J.nodeName(t,e)?J.merge([t],i):i}function y(t,e){var i=e.nodeName.toLowerCase();"input"===i&&xt.test(t.type)?e.checked=t.checked:"input"!==i&&"textarea"!==i||(e.defaultValue=t.defaultValue)}function b(e,i){var n,o=J(i.createElement(e)).appendTo(i.body),r=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(o[0]))?n.display:J.css(o[0],"display");return o.detach(),r}function w(t){var e=$,i=Dt[t];return i||("none"!==(i=b(t,e))&&i||((e=(_t=(_t||J("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),i=b(t,e),_t.detach()),Dt[t]=i),i}function x(t,e,i){var n,o,r,s,a=t.style;return(i=i||Ft(t))&&(s=i.getPropertyValue(e)||i[e]),i&&(""!==s||J.contains(t.ownerDocument,t)||(s=J.style(t,e)),qt.test(s)&&Rt.test(e)&&(n=a.width,o=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=i.width,a.width=n,a.minWidth=o,a.maxWidth=r)),void 0!==s?s+"":s}function M(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function S(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,o=Xt.length;o--;)if((e=Xt[o]+i)in t)return e;return n}function C(t,e,i){var n=Gt.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function P(t,e,i,n,o){for(var r=i===(n?"border":"content")?4:"width"===e?1:0,s=0;r<4;r+=2)"margin"===i&&(s+=J.css(t,i+bt[r],!0,o)),n?("content"===i&&(s-=J.css(t,"padding"+bt[r],!0,o)),"margin"!==i&&(s-=J.css(t,"border"+bt[r]+"Width",!0,o))):(s+=J.css(t,"padding"+bt[r],!0,o),"padding"!==i&&(s+=J.css(t,"border"+bt[r]+"Width",!0,o)));return s}function j(t,e,i){var n=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=Ft(t),s="border-box"===J.css(t,"boxSizing",!1,r);if(o<=0||null==o){if(((o=x(t,e,r))<0||null==o)&&(o=t.style[e]),qt.test(o))return o;n=s&&(Z.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+P(t,e,i||(s?"border":"content"),n,r)+"px"}function k(t,e){for(var i,n,o,r=[],s=0,a=t.length;s<a;s++)(n=t[s]).style&&(r[s]=dt.get(n,"olddisplay"),i=n.style.display,e?(r[s]||"none"!==i||(n.style.display=""),""===n.style.display&&wt(n)&&(r[s]=dt.access(n,"olddisplay",w(n.nodeName)))):(o=wt(n),"none"===i&&o||dt.set(n,"olddisplay",o?i:J.css(n,"display"))));for(s=0;s<a;s++)(n=t[s]).style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?r[s]||"":"none"));return t}function E(t,e,i,n,o){return new E.prototype.init(t,e,i,n,o)}function T(){return setTimeout(function(){Vt=void 0}),Vt=J.now()}function I(t,e){var i,n=0,o={height:t};for(e=e?1:0;n<4;n+=2-e)o["margin"+(i=bt[n])]=o["padding"+i]=t;return e&&(o.opacity=o.width=t),o}function A(t,e,i){for(var n,o=(Kt[e]||[]).concat(Kt["*"]),r=0,s=o.length;r<s;r++)if(n=o[r].call(i,e,t))return n}function N(t,e){var i,n,o,r,s;for(i in t)if(n=J.camelCase(i),o=e[n],r=t[i],J.isArray(r)&&(o=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(s=J.cssHooks[n])&&"expand"in s){r=s.expand(r),delete t[n];for(i in r)i in t||(t[i]=r[i],e[i]=o)}else e[n]=o}function L(t,e,i){var n,o,r=0,s=Jt.length,a=J.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Vt||T(),i=Math.max(0,h.startTime+h.duration-e),n=1-(i/h.duration||0),r=0,s=h.tweens.length;r<s;r++)h.tweens[r].run(n);return a.notifyWith(t,[h,n,i]),n<1&&s?i:(a.resolveWith(t,[h]),!1)},h=a.promise({elem:t,props:J.extend({},e),opts:J.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Vt||T(),duration:i.duration,tweens:[],createTween:function(e,i){var n=J.Tween(t,h.opts,e,i,h.opts.specialEasing[e]||h.opts.easing);return h.tweens.push(n),n},stop:function(e){var i=0,n=e?h.tweens.length:0;if(o)return this;for(o=!0;i<n;i++)h.tweens[i].run(1);return e?a.resolveWith(t,[h,e]):a.rejectWith(t,[h,e]),this}}),u=h.props;for(N(u,h.opts.specialEasing);r<s;r++)if(n=Jt[r].call(h,t,u,h.opts))return n;return J.map(u,A,h),J.isFunction(h.opts.start)&&h.opts.start.call(t,h),J.fx.timer(J.extend(l,{elem:t,anim:h,queue:h.opts.queue})),h.progress(h.opts.progress).done(h.opts.done,h.opts.complete).fail(h.opts.fail).always(h.opts.always)}function O(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,o=0,r=e.toLowerCase().match(ut)||[];if(J.isFunction(i))for(;n=r[o++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function _(t,e,i,n){function o(a){var l;return r[a]=!0,J.each(t[a]||[],function(t,a){var h=a(e,i,n);return"string"!=typeof h||s||r[h]?s?!(l=h):void 0:(e.dataTypes.unshift(h),o(h),!1)}),l}var r={},s=t===de;return o(e.dataTypes[0])||!r["*"]&&o("*")}function D(t,e){var i,n,o=J.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((o[i]?t:n||(n={}))[i]=e[i]);return n&&J.extend(!0,t,n),t}function R(t,e,i){for(var n,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)r=l[0];else{for(o in i){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s||(s=o)}r=r||s}if(r)return r!==l[0]&&l.unshift(r),i[r]}function q(t,e,i,n){var o,r,s,a,l,h={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)h[s.toLowerCase()]=t.converters[s];for(r=u.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=u.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=h[l+" "+r]||h["* "+r]))for(o in h)if((a=o.split(" "))[1]===r&&(s=h[l+" "+a[0]]||h["* "+a[0]])){!0===s?s=h[o]:!0!==h[o]&&(r=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}function F(t,e,i,n){var o;if(J.isArray(e))J.each(e,function(e,o){i||be.test(t)?n(t,o):F(t+"["+("object"==typeof o?e:"")+"]",o,i,n)});else if(i||"object"!==J.type(e))n(t,e);else for(o in e)F(t+"["+o+"]",e[o],i,n)}function z(t){return J.isWindow(t)?t:9===t.nodeType&&t.defaultView}var G=[],B=G.slice,U=G.concat,W=G.push,X=G.indexOf,V={},H=V.toString,Y=V.hasOwnProperty,Z={},$=t.document,J=function(t,e){return new J.fn.init(t,e)},K=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Q=/^-ms-/,tt=/-([\da-z])/gi,et=function(t,e){return e.toUpperCase()};J.fn=J.prototype={jquery:"2.1.4",constructor:J,selector:"",length:0,toArray:function(){return B.call(this)},get:function(t){return null!=t?t<0?this[t+this.length]:this[t]:B.call(this)},pushStack:function(t){var e=J.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return J.each(this,t,e)},map:function(t){return this.pushStack(J.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:G.sort,splice:G.splice},J.extend=J.fn.extend=function(){var t,e,i,n,o,r,s=arguments[0]||{},a=1,l=arguments.length,h=!1;for("boolean"==typeof s&&(h=s,s=arguments[a]||{},a++),"object"==typeof s||J.isFunction(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=s[e],s!==(n=t[e])&&(h&&n&&(J.isPlainObject(n)||(o=J.isArray(n)))?(o?(o=!1,r=i&&J.isArray(i)?i:[]):r=i&&J.isPlainObject(i)?i:{},s[e]=J.extend(h,r,n)):void 0!==n&&(s[e]=n));return s},J.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===J.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!J.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"===J.type(t)&&!t.nodeType&&!J.isWindow(t)&&!(t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?V[H.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;(t=J.trim(t))&&(1===t.indexOf("use strict")?((e=$.createElement("script")).text=t,$.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(Q,"ms-").replace(tt,et)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var o=0,r=t.length,s=i(t);if(n){if(s)for(;o<r&&!1!==e.apply(t[o],n);o++);else for(o in t)if(!1===e.apply(t[o],n))break}else if(s)for(;o<r&&!1!==e.call(t[o],o,t[o]);o++);else for(o in t)if(!1===e.call(t[o],o,t[o]))break;return t},trim:function(t){return null==t?"":(t+"").replace(K,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?J.merge(n,"string"==typeof t?[t]:t):W.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:X.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,o=t.length;n<i;n++)t[o++]=e[n];return t.length=o,t},grep:function(t,e,i){for(var n=[],o=0,r=t.length,s=!i;o<r;o++)!e(t[o],o)!==s&&n.push(t[o]);return n},map:function(t,e,n){var o,r=0,s=t.length,a=[];if(i(t))for(;r<s;r++)null!=(o=e(t[r],r,n))&&a.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&a.push(o);return U.apply([],a)},guid:1,proxy:function(t,e){var i,n,o;if("string"==typeof e&&(i=t[e],e=t,t=i),J.isFunction(t))return n=B.call(arguments,2),o=function(){return t.apply(e||this,n.concat(B.call(arguments)))},o.guid=t.guid=t.guid||J.guid++,o},now:Date.now,support:Z}),J.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){V["[object "+e+"]"]=e.toLowerCase()});var it=function(t){function e(t,e,i,n){var o,r,s,a,h,c,f,p,d,g;if((e?e.ownerDocument||e:q)!==I&&T(e),e=e||I,i=i||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return i;if(!n&&N){if(11!==a&&(o=vt.exec(t)))if(s=o[1]){if(9===a){if(!(r=e.getElementById(s))||!r.parentNode)return i;if(r.id===s)return i.push(r),i}else if(e.ownerDocument&&(r=e.ownerDocument.getElementById(s))&&D(e,r)&&r.id===s)return i.push(r),i}else{if(o[2])return $.apply(i,e.getElementsByTagName(t)),i;if((s=o[3])&&b.getElementsByClassName)return $.apply(i,e.getElementsByClassName(s)),i}if(b.qsa&&(!L||!L.test(t))){if(p=f=R,d=e,g=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(c=S(t),(f=e.getAttribute("id"))?p=f.replace(yt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",h=c.length;h--;)c[h]=p+u(c[h]);d=mt.test(t)&&l(e.parentNode)||e,g=c.join(",")}if(g)try{return $.apply(i,d.querySelectorAll(g)),i}catch(t){}finally{f||e.removeAttribute("id")}}}return P(t.replace(st,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>w.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[R]=!0,t}function o(t){var e=I.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function r(t,e){for(var i=t.split("|"),n=t.length;n--;)w.attrHandle[i[n]]=e}function s(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return n(function(e){return e=+e,n(function(i,n){for(var o,r=t([],i.length,e),s=r.length;s--;)i[o=r[s]]&&(i[o]=!(n[o]=i[o]))})})}function l(t){return t&&void 0!==t.getElementsByTagName&&t}function h(){}function u(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function c(t,e,i){var n=e.dir,o=i&&"parentNode"===n,r=z++;return e.first?function(e,i,r){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,r)}:function(e,i,s){var a,l,h=[F,r];if(s){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,s))return!0}else for(;e=e[n];)if(1===e.nodeType||o){if(l=e[R]||(e[R]={}),(a=l[n])&&a[0]===F&&a[1]===r)return h[2]=a[2];if(l[n]=h,h[2]=t(e,i,s))return!0}}}function f(t){return t.length>1?function(e,i,n){for(var o=t.length;o--;)if(!t[o](e,i,n))return!1;return!0}:t[0]}function p(t,i,n){for(var o=0,r=i.length;o<r;o++)e(t,i[o],n);return n}function d(t,e,i,n,o){for(var r,s=[],a=0,l=t.length,h=null!=e;a<l;a++)(r=t[a])&&(i&&!i(r,n,o)||(s.push(r),h&&e.push(a)));return s}function g(t,e,i,o,r,s){return o&&!o[R]&&(o=g(o)),r&&!r[R]&&(r=g(r,s)),n(function(n,s,a,l){var h,u,c,f=[],g=[],v=s.length,m=n||p(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?m:d(m,f,t,a,l),b=i?r||(n?t:v||o)?[]:s:y;if(i&&i(y,b,a,l),o)for(h=d(b,g),o(h,[],a,l),u=h.length;u--;)(c=h[u])&&(b[g[u]]=!(y[g[u]]=c));if(n){if(r||t){if(r){for(h=[],u=b.length;u--;)(c=b[u])&&h.push(y[u]=c);r(null,b=[],h,l)}for(u=b.length;u--;)(c=b[u])&&(h=r?K(n,c):f[u])>-1&&(n[h]=!(s[h]=c))}}else b=d(b===s?b.splice(v,b.length):b),r?r(null,s,b,l):$.apply(s,b)})}function v(t){for(var e,i,n,o=t.length,r=w.relative[t[0].type],s=r||w.relative[" "],a=r?1:0,l=c(function(t){return t===e},s,!0),h=c(function(t){return K(e,t)>-1},s,!0),p=[function(t,i,n){var o=!r&&(n||i!==j)||((e=i).nodeType?l(t,i,n):h(t,i,n));return e=null,o}];a<o;a++)if(i=w.relative[t[a].type])p=[c(f(p),i)];else{if((i=w.filter[t[a].type].apply(null,t[a].matches))[R]){for(n=++a;n<o&&!w.relative[t[n].type];n++);return g(a>1&&f(p),a>1&&u(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(st,"$1"),i,a<n&&v(t.slice(a,n)),n<o&&v(t=t.slice(n)),n<o&&u(t))}p.push(i)}return f(p)}function m(t,i){var o=i.length>0,r=t.length>0,s=function(n,s,a,l,h){var u,c,f,p=0,g="0",v=n&&[],m=[],y=j,b=n||r&&w.find.TAG("*",h),x=F+=null==y?1:Math.random()||.1,M=b.length;for(h&&(j=s!==I&&s);g!==M&&null!=(u=b[g]);g++){if(r&&u){for(c=0;f=t[c++];)if(f(u,s,a)){l.push(u);break}h&&(F=x)}o&&((u=!f&&u)&&p--,n&&v.push(u))}if(p+=g,o&&g!==p){for(c=0;f=i[c++];)f(v,m,s,a);if(n){if(p>0)for(;g--;)v[g]||m[g]||(m[g]=Y.call(l));m=d(m)}$.apply(l,m),h&&!n&&m.length>0&&p+i.length>1&&e.uniqueSort(l)}return h&&(F=x,j=y),v};return o?n(s):s}var y,b,w,x,M,S,C,P,j,k,E,T,I,A,N,L,O,_,D,R="sizzle"+1*new Date,q=t.document,F=0,z=0,G=i(),B=i(),U=i(),W=function(t,e){return t===e&&(E=!0),0},X=1<<31,V={}.hasOwnProperty,H=[],Y=H.pop,Z=H.push,$=H.push,J=H.slice,K=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},Q="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",tt="[\\x20\\t\\r\\n\\f]",et="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=et.replace("w","w#"),nt="\\["+tt+"*("+et+")(?:"+tt+"*([*^$|!~]?=)"+tt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+tt+"*\\]",ot=":("+et+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+nt+")*)|.*)\\)|)",rt=new RegExp(tt+"+","g"),st=new RegExp("^"+tt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+tt+"+$","g"),at=new RegExp("^"+tt+"*,"+tt+"*"),lt=new RegExp("^"+tt+"*([>+~]|"+tt+")"+tt+"*"),ht=new RegExp("="+tt+"*([^\\]'\"]*?)"+tt+"*\\]","g"),ut=new RegExp(ot),ct=new RegExp("^"+it+"$"),ft={ID:new RegExp("^#("+et+")"),CLASS:new RegExp("^\\.("+et+")"),TAG:new RegExp("^("+et.replace("w","w*")+")"),ATTR:new RegExp("^"+nt),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+tt+"*(even|odd|(([+-]|)(\\d*)n|)"+tt+"*(?:([+-]|)"+tt+"*(\\d+)|))"+tt+"*\\)|)","i"),bool:new RegExp("^(?:"+Q+")$","i"),needsContext:new RegExp("^"+tt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+tt+"*((?:-\\d)?\\d*)"+tt+"*\\)|)(?=[^-]|$)","i")},pt=/^(?:input|select|textarea|button)$/i,dt=/^h\d$/i,gt=/^[^{]+\{\s*\[native \w/,vt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,mt=/[+~]/,yt=/'|\\/g,bt=new RegExp("\\\\([\\da-f]{1,6}"+tt+"?|("+tt+")|.)","ig"),wt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},xt=function(){T()};try{$.apply(H=J.call(q.childNodes),q.childNodes),H[q.childNodes.length].nodeType}catch(t){$={apply:H.length?function(t,e){Z.apply(t,J.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}b=e.support={},M=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},T=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:q;return n!==I&&9===n.nodeType&&n.documentElement?(I=n,A=n.documentElement,(i=n.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",xt,!1):i.attachEvent&&i.attachEvent("onunload",xt)),N=!M(n),b.attributes=o(function(t){return t.className="i",!t.getAttribute("className")}),b.getElementsByTagName=o(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),b.getElementsByClassName=gt.test(n.getElementsByClassName),b.getById=o(function(t){return A.appendChild(t).id=R,!n.getElementsByName||!n.getElementsByName(R).length}),b.getById?(w.find.ID=function(t,e){if(void 0!==e.getElementById&&N){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){return t.getAttribute("id")===e}}):(delete w.find.ID,w.filter.ID=function(t){var e=t.replace(bt,wt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),w.find.TAG=b.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):b.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[o++];)1===i.nodeType&&n.push(i);return n}return r},w.find.CLASS=b.getElementsByClassName&&function(t,e){if(N)return e.getElementsByClassName(t)},O=[],L=[],(b.qsa=gt.test(n.querySelectorAll))&&(o(function(t){A.appendChild(t).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+tt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+tt+"*(?:value|"+Q+")"),t.querySelectorAll("[id~="+R+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+R+"+*").length||L.push(".#.+[+~]")}),o(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+tt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(b.matchesSelector=gt.test(_=A.matches||A.webkitMatchesSelector||A.mozMatchesSelector||A.oMatchesSelector||A.msMatchesSelector))&&o(function(t){b.disconnectedMatch=_.call(t,"div"),_.call(t,"[s!='']:x"),O.push("!=",ot)}),L=L.length&&new RegExp(L.join("|")),O=O.length&&new RegExp(O.join("|")),e=gt.test(A.compareDocumentPosition),D=e||gt.test(A.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},W=e?function(t,e){if(t===e)return E=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!b.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===q&&D(q,t)?-1:e===n||e.ownerDocument===q&&D(q,e)?1:k?K(k,t)-K(k,e):0:4&i?-1:1)}:function(t,e){if(t===e)return E=!0,0;var i,o=0,r=t.parentNode,a=e.parentNode,l=[t],h=[e];if(!r||!a)return t===n?-1:e===n?1:r?-1:a?1:k?K(k,t)-K(k,e):0;if(r===a)return s(t,e);for(i=t;i=i.parentNode;)l.unshift(i);for(i=e;i=i.parentNode;)h.unshift(i);for(;l[o]===h[o];)o++;return o?s(l[o],h[o]):l[o]===q?-1:h[o]===q?1:0},n):I},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==I&&T(t),i=i.replace(ht,"='$1']"),b.matchesSelector&&N&&(!O||!O.test(i))&&(!L||!L.test(i)))try{var n=_.call(t,i);if(n||b.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return e(i,I,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==I&&T(t),D(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==I&&T(t);var i=w.attrHandle[e.toLowerCase()],n=i&&V.call(w.attrHandle,e.toLowerCase())?i(t,e,!N):void 0;return void 0!==n?n:b.attributes||!N?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,o=0;if(E=!b.detectDuplicates,k=!b.sortStable&&t.slice(0),t.sort(W),E){for(;e=t[o++];)e===t[o]&&(n=i.push(o));for(;n--;)t.splice(i[n],1)}return k=null,t},x=e.getText=function(t){var e,i="",n=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=x(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[n++];)i+=x(e);return i},(w=e.selectors={cacheLength:50,createPseudo:n,match:ft,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(bt,wt),t[3]=(t[3]||t[4]||t[5]||"").replace(bt,wt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return ft.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ut.test(i)&&(e=S(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(bt,wt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=G[t+" "];return e||(e=new RegExp("(^|"+tt+")"+t+"("+tt+"|$)"))&&G(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(o){var r=e.attr(o,t);return null==r?"!="===i:!i||(r+="","="===i?r===n:"!="===i?r!==n:"^="===i?n&&0===r.indexOf(n):"*="===i?n&&r.indexOf(n)>-1:"$="===i?n&&r.slice(-n.length)===n:"~="===i?(" "+r.replace(rt," ")+" ").indexOf(n)>-1:"|="===i&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,i,n,o){var r="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===o?function(t){return!!t.parentNode}:function(e,i,l){var h,u,c,f,p,d,g=r!==s?"nextSibling":"previousSibling",v=e.parentNode,m=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(v){if(r){for(;g;){for(c=e;c=c[g];)if(a?c.nodeName.toLowerCase()===m:1===c.nodeType)return!1;d=g="only"===t&&!d&&"nextSibling"}return!0}if(d=[s?v.firstChild:v.lastChild],s&&y){for(p=(h=(u=v[R]||(v[R]={}))[t]||[])[0]===F&&h[1],f=h[0]===F&&h[2],c=p&&v.childNodes[p];c=++p&&c&&c[g]||(f=p=0)||d.pop();)if(1===c.nodeType&&++f&&c===e){u[t]=[F,p,f];break}}else if(y&&(h=(e[R]||(e[R]={}))[t])&&h[0]===F)f=h[1];else for(;(c=++p&&c&&c[g]||(f=p=0)||d.pop())&&((a?c.nodeName.toLowerCase()!==m:1!==c.nodeType)||!++f||(y&&((c[R]||(c[R]={}))[t]=[F,f]),c!==e)););return(f-=o)===n||f%n==0&&f/n>=0}}},PSEUDO:function(t,i){var o,r=w.pseudos[t]||w.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return r[R]?r(i):r.length>1?(o=[t,t,"",i],w.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,o=r(t,i),s=o.length;s--;)t[n=K(t,o[s])]=!(e[n]=o[s])}):function(t){return r(t,0,o)}):r}},pseudos:{not:n(function(t){var e=[],i=[],o=C(t.replace(st,"$1"));return o[R]?n(function(t,e,i,n){for(var r,s=o(t,null,n,[]),a=t.length;a--;)(r=s[a])&&(t[a]=!(e[a]=r))}):function(t,n,r){return e[0]=t,o(e,null,r,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(bt,wt),function(e){return(e.textContent||e.innerText||x(e)).indexOf(t)>-1}}),lang:n(function(t){return ct.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(bt,wt).toLowerCase(),function(e){var i;do{if(i=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===A},focus:function(t){return t===I.activeElement&&(!I.hasFocus||I.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!w.pseudos.empty(t)},header:function(t){return dt.test(t.nodeName)},input:function(t){return pt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:a(function(){return[0]}),last:a(function(t,e){return[e-1]}),eq:a(function(t,e,i){return[i<0?i+e:i]}),even:a(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:a(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:a(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:a(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=w.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[y]=function(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}(y);for(y in{submit:!0,reset:!0})w.pseudos[y]=function(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}(y);return h.prototype=w.filters=w.pseudos,w.setFilters=new h,S=e.tokenize=function(t,i){var n,o,r,s,a,l,h,u=B[t+" "];if(u)return i?0:u.slice(0);for(a=t,l=[],h=w.preFilter;a;){n&&!(o=at.exec(a))||(o&&(a=a.slice(o[0].length)||a),l.push(r=[])),n=!1,(o=lt.exec(a))&&(n=o.shift(),r.push({value:n,type:o[0].replace(st," ")}),a=a.slice(n.length));for(s in w.filter)!(o=ft[s].exec(a))||h[s]&&!(o=h[s](o))||(n=o.shift(),r.push({value:n,type:s,matches:o}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):B(t,l).slice(0)},C=e.compile=function(t,e){var i,n=[],o=[],r=U[t+" "];if(!r){for(e||(e=S(t)),i=e.length;i--;)(r=v(e[i]))[R]?n.push(r):o.push(r);(r=U(t,m(o,n))).selector=t}return r},P=e.select=function(t,e,i,n){var o,r,s,a,h,c="function"==typeof t&&t,f=!n&&S(t=c.selector||t);if(i=i||[],1===f.length){if((r=f[0]=f[0].slice(0)).length>2&&"ID"===(s=r[0]).type&&b.getById&&9===e.nodeType&&N&&w.relative[r[1].type]){if(!(e=(w.find.ID(s.matches[0].replace(bt,wt),e)||[])[0]))return i;c&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=ft.needsContext.test(t)?0:r.length;o--&&(s=r[o],!w.relative[a=s.type]);)if((h=w.find[a])&&(n=h(s.matches[0].replace(bt,wt),mt.test(r[0].type)&&l(e.parentNode)||e))){if(r.splice(o,1),!(t=n.length&&u(r)))return $.apply(i,n),i;break}}return(c||C(t,f))(n,e,!N,i,mt.test(t)&&l(e.parentNode)||e),i},b.sortStable=R.split("").sort(W).join("")===R,b.detectDuplicates=!!E,T(),b.sortDetached=o(function(t){return 1&t.compareDocumentPosition(I.createElement("div"))}),o(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||r("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),b.attributes&&o(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||r("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),o(function(t){return null==t.getAttribute("disabled")})||r(Q,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);J.find=it,J.expr=it.selectors,J.expr[":"]=J.expr.pseudos,J.unique=it.uniqueSort,J.text=it.getText,J.isXMLDoc=it.isXML,J.contains=it.contains;var nt=J.expr.match.needsContext,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,rt=/^.[^:#\[\.,]*$/;J.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?J.find.matchesSelector(n,t)?[n]:[]:J.find.matches(t,J.grep(e,function(t){return 1===t.nodeType}))},J.fn.extend({find:function(t){var e,i=this.length,n=[],o=this;if("string"!=typeof t)return this.pushStack(J(t).filter(function(){for(e=0;e<i;e++)if(J.contains(o[e],this))return!0}));for(e=0;e<i;e++)J.find(t,o[e],n);return n=this.pushStack(i>1?J.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&nt.test(t)?J(t):t||[],!1).length}});var st,at=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(J.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:at.exec(t))||!i[1]&&e)return!e||e.jquery?(e||st).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof J?e[0]:e,J.merge(this,J.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:$,!0)),ot.test(i[1])&&J.isPlainObject(e))for(i in e)J.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(n=$.getElementById(i[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=$,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):J.isFunction(t)?void 0!==st.ready?st.ready(t):t(J):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),J.makeArray(t,this))}).prototype=J.fn,st=J($);var lt=/^(?:parents|prev(?:Until|All))/,ht={children:!0,contents:!0,next:!0,prev:!0};J.extend({dir:function(t,e,i){for(var n=[],o=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&J(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),J.fn.extend({has:function(t){var e=J(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(J.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,o=this.length,r=[],s=nt.test(t)||"string"!=typeof t?J(t,e||this.context):0;n<o;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(s?s.index(i)>-1:1===i.nodeType&&J.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?J.unique(r):r)},index:function(t){return t?"string"==typeof t?X.call(J(t),this[0]):X.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(J.unique(J.merge(this.get(),J(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),J.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return J.dir(t,"parentNode")},parentsUntil:function(t,e,i){return J.dir(t,"parentNode",i)},next:function(t){return o(t,"nextSibling")},prev:function(t){return o(t,"previousSibling")},nextAll:function(t){return J.dir(t,"nextSibling")},prevAll:function(t){return J.dir(t,"previousSibling")},nextUntil:function(t,e,i){return J.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return J.dir(t,"previousSibling",i)},siblings:function(t){return J.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return J.sibling(t.firstChild)},contents:function(t){return t.contentDocument||J.merge([],t.childNodes)}},function(t,e){J.fn[t]=function(i,n){var o=J.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=J.filter(n,o)),this.length>1&&(ht[t]||J.unique(o),lt.test(t)&&o.reverse()),this.pushStack(o)}});var ut=/\S+/g,ct={};J.Callbacks=function(t){var e,i,n,o,s,a,l=[],h=!(t="string"==typeof t?ct[t]||r(t):J.extend({},t)).once&&[],u=function(r){for(e=t.memory&&r,i=!0,a=o||0,o=0,s=l.length,n=!0;l&&a<s;a++)if(!1===l[a].apply(r[0],r[1])&&t.stopOnFalse){e=!1;break}n=!1,l&&(h?h.length&&u(h.shift()):e?l=[]:c.disable())},c={add:function(){if(l){var i=l.length;!function e(i){J.each(i,function(i,n){var o=J.type(n);"function"===o?t.unique&&c.has(n)||l.push(n):n&&n.length&&"string"!==o&&e(n)})}(arguments),n?s=l.length:e&&(o=i,u(e))}return this},remove:function(){return l&&J.each(arguments,function(t,e){for(var i;(i=J.inArray(e,l,i))>-1;)l.splice(i,1),n&&(i<=s&&s--,i<=a&&a--)}),this},has:function(t){return t?J.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],s=0,this},disable:function(){return l=h=e=void 0,this},disabled:function(){return!l},lock:function(){return h=void 0,e||c.disable(),this},locked:function(){return!h},fireWith:function(t,e){return!l||i&&!h||(e=[t,(e=e||[]).slice?e.slice():e],n?h.push(e):u(e)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},J.extend({Deferred:function(t){var e=[["resolve","done",J.Callbacks("once memory"),"resolved"],["reject","fail",J.Callbacks("once memory"),"rejected"],["notify","progress",J.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return J.Deferred(function(i){J.each(e,function(e,r){var s=J.isFunction(t[e])&&t[e];o[r[1]](function(){var t=s&&s.apply(this,arguments);t&&J.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r[0]+"With"](this===n?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?J.extend(t,n):n}},o={};return n.pipe=n.then,J.each(e,function(t,r){var s=r[2],a=r[3];n[r[1]]=s.add,a&&s.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?n:this,arguments),this},o[r[0]+"With"]=s.fireWith}),n.promise(o),t&&t.call(o,o),o},when:function(t){var e,i,n,o=0,r=B.call(arguments),s=r.length,a=1!==s||t&&J.isFunction(t.promise)?s:0,l=1===a?t:J.Deferred(),h=function(t,i,n){return function(o){i[t]=this,n[t]=arguments.length>1?B.call(arguments):o,n===e?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(s>1)for(e=new Array(s),i=new Array(s),n=new Array(s);o<s;o++)r[o]&&J.isFunction(r[o].promise)?r[o].promise().done(h(o,n,r)).fail(l.reject).progress(h(o,i,e)):--a;return a||l.resolveWith(n,r),l.promise()}});var ft;J.fn.ready=function(t){return J.ready.promise().done(t),this},J.extend({isReady:!1,readyWait:1,holdReady:function(t){t?J.readyWait++:J.ready(!0)},ready:function(t){(!0===t?--J.readyWait:J.isReady)||(J.isReady=!0,!0!==t&&--J.readyWait>0||(ft.resolveWith($,[J]),J.fn.triggerHandler&&(J($).triggerHandler("ready"),J($).off("ready"))))}}),J.ready.promise=function(e){return ft||(ft=J.Deferred(),"complete"===$.readyState?setTimeout(J.ready):($.addEventListener("DOMContentLoaded",s,!1),t.addEventListener("load",s,!1))),ft.promise(e)},J.ready.promise();var pt=J.access=function(t,e,i,n,o,r,s){var a=0,l=t.length,h=null==i;if("object"===J.type(i)){o=!0;for(a in i)J.access(t,e,a,i[a],!0,r,s)}else if(void 0!==n&&(o=!0,J.isFunction(n)||(s=!0),h&&(s?(e.call(t,n),e=null):(h=e,e=function(t,e,i){return h.call(J(t),i)})),e))for(;a<l;a++)e(t[a],i,s?n:n.call(t[a],a,e(t[a],i)));return o?t:h?e.call(t):l?e(t[0],i):r};J.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=J.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=a.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,J.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,o=this.key(t),r=this.cache[o];if("string"==typeof e)r[e]=i;else if(J.isEmptyObject(r))J.extend(this.cache[o],e);else for(n in e)r[n]=e[n];return r},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?void 0!==(n=this.get(t,e))?n:this.get(t,J.camelCase(e)):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,o,r=this.key(t),s=this.cache[r];if(void 0===e)this.cache[r]={};else{J.isArray(e)?n=e.concat(e.map(J.camelCase)):(o=J.camelCase(e),n=e in s?[e,o]:(n=o)in s?[n]:n.match(ut)||[]),i=n.length;for(;i--;)delete s[n[i]]}},hasData:function(t){return!J.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var dt=new a,gt=new a,vt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,mt=/([A-Z])/g;J.extend({hasData:function(t){return gt.hasData(t)||dt.hasData(t)},data:function(t,e,i){return gt.access(t,e,i)},removeData:function(t,e){gt.remove(t,e)},_data:function(t,e,i){return dt.access(t,e,i)},_removeData:function(t,e){dt.remove(t,e)}}),J.fn.extend({data:function(t,e){var i,n,o,r=this[0],s=r&&r.attributes;if(void 0===t){if(this.length&&(o=gt.get(r),1===r.nodeType&&!dt.get(r,"hasDataAttrs"))){for(i=s.length;i--;)s[i]&&0===(n=s[i].name).indexOf("data-")&&(n=J.camelCase(n.slice(5)),l(r,n,o[n]));dt.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){gt.set(this,t)}):pt(this,function(e){var i,n=J.camelCase(t);if(r&&void 0===e){if(void 0!==(i=gt.get(r,t)))return i;if(void 0!==(i=gt.get(r,n)))return i;if(void 0!==(i=l(r,n,void 0)))return i}else this.each(function(){var i=gt.get(this,n);gt.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&gt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){gt.remove(this,t)})}}),J.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=dt.get(t,e),i&&(!n||J.isArray(i)?n=dt.access(t,e,J.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=J.queue(t,e),n=i.length,o=i.shift(),r=J._queueHooks(t,e);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===e&&i.unshift("inprogress"),delete r.stop,o.call(t,function(){J.dequeue(t,e)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return dt.get(t,i)||dt.access(t,i,{empty:J.Callbacks("once memory").add(function(){dt.remove(t,[e+"queue",i])})})}}),J.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?J.queue(this[0],t):void 0===e?this:this.each(function(){var i=J.queue(this,t,e);J._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&J.dequeue(this,t)})},dequeue:function(t){return this.each(function(){J.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,o=J.Deferred(),r=this,s=this.length,a=function(){--n||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(i=dt.get(r[s],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(e)}});var yt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,bt=["Top","Right","Bottom","Left"],wt=function(t,e){return t=e||t,"none"===J.css(t,"display")||!J.contains(t.ownerDocument,t)},xt=/^(?:checkbox|radio)$/i;!function(){var t=$.createDocumentFragment().appendChild($.createElement("div")),e=$.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),Z.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",Z.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();Z.focusinBubbles="onfocusin"in t;var Mt=/^key/,St=/^(?:mouse|pointer|contextmenu)|click/,Ct=/^(?:focusinfocus|focusoutblur)$/,Pt=/^([^.]*)(?:\.(.+)|)$/;J.event={global:{},add:function(t,e,i,n,o){var r,s,a,l,h,u,c,f,p,d,g,v=dt.get(t);if(v)for(i.handler&&(i=(r=i).handler,o=r.selector),i.guid||(i.guid=J.guid++),(l=v.events)||(l=v.events={}),(s=v.handle)||(s=v.handle=function(e){return void 0!==J&&J.event.triggered!==e.type?J.event.dispatch.apply(t,arguments):void 0}),h=(e=(e||"").match(ut)||[""]).length;h--;)p=g=(a=Pt.exec(e[h])||[])[1],d=(a[2]||"").split(".").sort(),p&&(c=J.event.special[p]||{},p=(o?c.delegateType:c.bindType)||p,c=J.event.special[p]||{},u=J.extend({type:p,origType:g,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&J.expr.match.needsContext.test(o),namespace:d.join(".")},r),(f=l[p])||((f=l[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(t,n,d,s)||t.addEventListener&&t.addEventListener(p,s,!1)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),o?f.splice(f.delegateCount++,0,u):f.push(u),J.event.global[p]=!0)},remove:function(t,e,i,n,o){var r,s,a,l,h,u,c,f,p,d,g,v=dt.hasData(t)&&dt.get(t);if(v&&(l=v.events)){for(h=(e=(e||"").match(ut)||[""]).length;h--;)if(a=Pt.exec(e[h])||[],p=g=a[1],d=(a[2]||"").split(".").sort(),p){for(c=J.event.special[p]||{},f=l[p=(n?c.delegateType:c.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=f.length;r--;)u=f[r],!o&&g!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(f.splice(r,1),u.selector&&f.delegateCount--,c.remove&&c.remove.call(t,u));s&&!f.length&&(c.teardown&&!1!==c.teardown.call(t,d,v.handle)||J.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)J.event.remove(t,p+e[h],i,n,!0);J.isEmptyObject(l)&&(delete v.handle,dt.remove(t,"events"))}},trigger:function(e,i,n,o){var r,s,a,l,h,u,c,f=[n||$],p=Y.call(e,"type")?e.type:e,d=Y.call(e,"namespace")?e.namespace.split("."):[];if(s=a=n=n||$,3!==n.nodeType&&8!==n.nodeType&&!Ct.test(p+J.event.triggered)&&(p.indexOf(".")>=0&&(p=(d=p.split(".")).shift(),d.sort()),h=p.indexOf(":")<0&&"on"+p,e=e[J.expando]?e:new J.Event(p,"object"==typeof e&&e),e.isTrigger=o?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:J.makeArray(i,[e]),c=J.event.special[p]||{},o||!c.trigger||!1!==c.trigger.apply(n,i))){if(!o&&!c.noBubble&&!J.isWindow(n)){for(l=c.delegateType||p,Ct.test(l+p)||(s=s.parentNode);s;s=s.parentNode)f.push(s),a=s;a===(n.ownerDocument||$)&&f.push(a.defaultView||a.parentWindow||t)}for(r=0;(s=f[r++])&&!e.isPropagationStopped();)e.type=r>1?l:c.bindType||p,(u=(dt.get(s,"events")||{})[e.type]&&dt.get(s,"handle"))&&u.apply(s,i),(u=h&&s[h])&&u.apply&&J.acceptData(s)&&(e.result=u.apply(s,i),!1===e.result&&e.preventDefault());return e.type=p,o||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(f.pop(),i)||!J.acceptData(n)||h&&J.isFunction(n[p])&&!J.isWindow(n)&&((a=n[h])&&(n[h]=null),J.event.triggered=p,n[p](),J.event.triggered=void 0,a&&(n[h]=a)),e.result}},dispatch:function(t){t=J.event.fix(t);var e,i,n,o,r,s=[],a=B.call(arguments),l=(dt.get(this,"events")||{})[t.type]||[],h=J.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,t)){for(s=J.event.handlers.call(this,t,l),e=0;(o=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=o.elem,i=0;(r=o.handlers[i++])&&!t.isImmediatePropagationStopped();)t.namespace_re&&!t.namespace_re.test(r.namespace)||(t.handleObj=r,t.data=r.data,void 0!==(n=((J.event.special[r.origType]||{}).handle||r.handler).apply(o.elem,a))&&!1===(t.result=n)&&(t.preventDefault(),t.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,o,r,s=[],a=e.delegateCount,l=t.target;if(a&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==t.type){for(n=[],i=0;i<a;i++)void 0===n[o=(r=e[i]).selector+" "]&&(n[o]=r.needsContext?J(o,this).index(l)>=0:J.find(o,this,null,[l]).length),n[o]&&n.push(r);n.length&&s.push({elem:l,handlers:n})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,o,r=e.button;return null==t.pageX&&null!=e.clientX&&(n=(i=t.target.ownerDocument||$).documentElement,o=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),t.which||void 0===r||(t.which=1&r?1:2&r?3:4&r?2:0),t}},fix:function(t){if(t[J.expando])return t;var e,i,n,o=t.type,r=t,s=this.fixHooks[o];for(s||(this.fixHooks[o]=s=St.test(o)?this.mouseHooks:Mt.test(o)?this.keyHooks:{}),n=s.props?this.props.concat(s.props):this.props,t=new J.Event(r),e=n.length;e--;)t[i=n[e]]=r[i];return t.target||(t.target=$),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,r):t},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==c()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===c()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&J.nodeName(this,"input"))return this.click(),!1},_default:function(t){return J.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var o=J.extend(new J.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?J.event.trigger(o,null,e):J.event.dispatch.call(e,o),o.isDefaultPrevented()&&i.preventDefault()}},J.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},J.Event=function(t,e){if(!(this instanceof J.Event))return new J.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?h:u):this.type=t,e&&J.extend(this,e),this.timeStamp=t&&t.timeStamp||J.now(),this[J.expando]=!0},J.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=h,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=h,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=h,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},J.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){J.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,o=t.relatedTarget,r=t.handleObj;return o&&(o===n||J.contains(n,o))||(t.type=r.origType,i=r.handler.apply(this,arguments),t.type=e),i}}}),Z.focusinBubbles||J.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){J.event.simulate(e,t.target,J.event.fix(t),!0)};J.event.special[e]={setup:function(){var n=this.ownerDocument||this,o=dt.access(n,e);o||n.addEventListener(t,i,!0),dt.access(n,e,(o||0)+1)},teardown:function(){var n=this.ownerDocument||this,o=dt.access(n,e)-1;o?dt.access(n,e,o):(n.removeEventListener(t,i,!0),dt.remove(n,e))}}}),J.fn.extend({on:function(t,e,i,n,o){var r,s;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(s in t)this.on(s,e,i,t[s],o);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),!1===n)n=u;else if(!n)return this;return 1===o&&(r=n,(n=function(t){return J().off(t),r.apply(this,arguments)}).guid=r.guid||(r.guid=J.guid++)),this.each(function(){J.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,o;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,J(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=u),this.each(function(){J.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){J.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return J.event.trigger(t,e,i,!0)}});var jt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,kt=/<([\w:]+)/,Et=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,It=/checked\s*(?:[^=]|=\s*.checked.)/i,At=/^$|\/(?:java|ecma)script/i,Nt=/^true\/(.*)/,Lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ot={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ot.optgroup=Ot.option,Ot.tbody=Ot.tfoot=Ot.colgroup=Ot.caption=Ot.thead,Ot.th=Ot.td,J.extend({clone:function(t,e,i){var n,o,r,s,a=t.cloneNode(!0),l=J.contains(t.ownerDocument,t);if(!(Z.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||J.isXMLDoc(t)))for(s=m(a),n=0,o=(r=m(t)).length;n<o;n++)y(r[n],s[n]);if(e)if(i)for(r=r||m(t),s=s||m(a),n=0,o=r.length;n<o;n++)v(r[n],s[n]);else v(t,a);return(s=m(a,"script")).length>0&&g(s,!l&&m(t,"script")),a},buildFragment:function(t,e,i,n){for(var o,r,s,a,l,h,u=e.createDocumentFragment(),c=[],f=0,p=t.length;f<p;f++)if((o=t[f])||0===o)if("object"===J.type(o))J.merge(c,o.nodeType?[o]:o);else if(Et.test(o)){for(r=r||u.appendChild(e.createElement("div")),s=(kt.exec(o)||["",""])[1].toLowerCase(),a=Ot[s]||Ot._default,r.innerHTML=a[1]+o.replace(jt,"<$1></$2>")+a[2],h=a[0];h--;)r=r.lastChild;J.merge(c,r.childNodes),(r=u.firstChild).textContent=""}else c.push(e.createTextNode(o));for(u.textContent="",f=0;o=c[f++];)if((!n||-1===J.inArray(o,n))&&(l=J.contains(o.ownerDocument,o),r=m(u.appendChild(o),"script"),l&&g(r),i))for(h=0;o=r[h++];)At.test(o.type||"")&&i.push(o);return u},cleanData:function(t){for(var e,i,n,o,r=J.event.special,s=0;void 0!==(i=t[s]);s++){if(J.acceptData(i)&&(o=i[dt.expando])&&(e=dt.cache[o])){if(e.events)for(n in e.events)r[n]?J.event.remove(i,n):J.removeEvent(i,n,e.handle);dt.cache[o]&&delete dt.cache[o]}delete gt.cache[i[gt.expando]]}}}),J.fn.extend({text:function(t){return pt(this,function(t){return void 0===t?J.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||f(this,t).appendChild(t)})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?J.filter(t,this):this,o=0;null!=(i=n[o]);o++)e||1!==i.nodeType||J.cleanData(m(i)),i.parentNode&&(e&&J.contains(i.ownerDocument,i)&&g(m(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(J.cleanData(m(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return J.clone(this,t,e)})},html:function(t){return pt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Tt.test(t)&&!Ot[(kt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(jt,"<$1></$2>");try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(J.cleanData(m(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,J.cleanData(m(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=U.apply([],t);var i,n,o,r,s,a,l=0,h=this.length,u=this,c=h-1,f=t[0],g=J.isFunction(f);if(g||h>1&&"string"==typeof f&&!Z.checkClone&&It.test(f))return this.each(function(i){var n=u.eq(i);g&&(t[0]=f.call(this,i,n.html())),n.domManip(t,e)});if(h&&(i=J.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=(o=J.map(m(i,"script"),p)).length;l<h;l++)s=i,l!==c&&(s=J.clone(s,!0,!0),r&&J.merge(o,m(s,"script"))),e.call(this[l],s,l);if(r)for(a=o[o.length-1].ownerDocument,J.map(o,d),l=0;l<r;l++)s=o[l],At.test(s.type||"")&&!dt.access(s,"globalEval")&&J.contains(a,s)&&(s.src?J._evalUrl&&J._evalUrl(s.src):J.globalEval(s.textContent.replace(Lt,"")))}return this}}),J.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){J.fn[t]=function(t){for(var i,n=[],o=J(t),r=o.length-1,s=0;s<=r;s++)i=s===r?this:this.clone(!0),J(o[s])[e](i),W.apply(n,i.get());return this.pushStack(n)}});var _t,Dt={},Rt=/^margin/,qt=new RegExp("^("+yt+")(?!px)[a-z%]+$","i"),Ft=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",o.appendChild(r);var e=t.getComputedStyle(s,null);i="1%"!==e.top,n="4px"===e.width,o.removeChild(r)}var i,n,o=$.documentElement,r=$.createElement("div"),s=$.createElement("div");s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",Z.clearCloneStyle="content-box"===s.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(s),t.getComputedStyle&&J.extend(Z,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=s.appendChild($.createElement("div"));return i.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",s.style.width="1px",o.appendChild(r),e=!parseFloat(t.getComputedStyle(i,null).marginRight),o.removeChild(r),s.removeChild(i),e}}))}(),J.swap=function(t,e,i,n){var o,r,s={};for(r in e)s[r]=t.style[r],t.style[r]=e[r];o=i.apply(t,n||[]);for(r in e)t.style[r]=s[r];return o};var zt=/^(none|table(?!-c[ea]).+)/,Gt=new RegExp("^("+yt+")(.*)$","i"),Bt=new RegExp("^([+-])=("+yt+")","i"),Ut={position:"absolute",visibility:"hidden",display:"block"},Wt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];J.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=x(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=J.camelCase(e),l=t.style;if(e=J.cssProps[a]||(J.cssProps[a]=S(l,a)),s=J.cssHooks[e]||J.cssHooks[a],void 0===i)return s&&"get"in s&&void 0!==(o=s.get(t,!1,n))?o:l[e];"string"==(r=typeof i)&&(o=Bt.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(J.css(t,e)),r="number"),null!=i&&i===i&&("number"!==r||J.cssNumber[a]||(i+="px"),Z.clearCloneStyle||""!==i||0!==e.indexOf("background")||(l[e]="inherit"),s&&"set"in s&&void 0===(i=s.set(t,i,n))||(l[e]=i))}},css:function(t,e,i,n){var o,r,s,a=J.camelCase(e);return e=J.cssProps[a]||(J.cssProps[a]=S(t.style,a)),(s=J.cssHooks[e]||J.cssHooks[a])&&"get"in s&&(o=s.get(t,!0,i)),void 0===o&&(o=x(t,e,n)),"normal"===o&&e in Wt&&(o=Wt[e]),""===i||i?(r=parseFloat(o),!0===i||J.isNumeric(r)?r||0:o):o}}),J.each(["height","width"],function(t,e){J.cssHooks[e]={get:function(t,i,n){if(i)return zt.test(J.css(t,"display"))&&0===t.offsetWidth?J.swap(t,Ut,function(){return j(t,e,n)}):j(t,e,n)},set:function(t,i,n){var o=n&&Ft(t);return C(0,i,n?P(t,e,n,"border-box"===J.css(t,"boxSizing",!1,o),o):0)}}}),J.cssHooks.marginRight=M(Z.reliableMarginRight,function(t,e){if(e)return J.swap(t,{display:"inline-block"},x,[t,"marginRight"])}),J.each({margin:"",padding:"",border:"Width"},function(t,e){J.cssHooks[t+e]={expand:function(i){for(var n=0,o={},r="string"==typeof i?i.split(" "):[i];n<4;n++)o[t+bt[n]+e]=r[n]||r[n-2]||r[0];return o}},Rt.test(t)||(J.cssHooks[t+e].set=C)}),J.fn.extend({css:function(t,e){return pt(this,function(t,e,i){var n,o,r={},s=0;if(J.isArray(e)){for(n=Ft(t),o=e.length;s<o;s++)r[e[s]]=J.css(t,e[s],!1,n);return r}return void 0!==i?J.style(t,e,i):J.css(t,e)},t,e,arguments.length>1)},show:function(){return k(this,!0)},hide:function(){return k(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){wt(this)?J(this).show():J(this).hide()})}}),J.Tween=E,E.prototype={constructor:E,init:function(t,e,i,n,o,r){this.elem=t,this.prop=i,this.easing=o||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(J.cssNumber[i]?"":"px")},cur:function(){var t=E.propHooks[this.prop];return t&&t.get?t.get(this):E.propHooks._default.get(this)},run:function(t){var e,i=E.propHooks[this.prop];return this.options.duration?this.pos=e=J.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):E.propHooks._default.set(this),this}},E.prototype.init.prototype=E.prototype,E.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=J.css(t.elem,t.prop,""))&&"auto"!==e?e:0:t.elem[t.prop]},set:function(t){J.fx.step[t.prop]?J.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[J.cssProps[t.prop]]||J.cssHooks[t.prop])?J.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},E.propHooks.scrollTop=E.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},J.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},J.fx=E.prototype.init,J.fx.step={};var Vt,Ht,Yt=/^(?:toggle|show|hide)$/,Zt=new RegExp("^(?:([+-])=|)("+yt+")([a-z%]*)$","i"),$t=/queueHooks$/,Jt=[function(t,e,i){var n,o,r,s,a,l,h,u=this,c={},f=t.style,p=t.nodeType&&wt(t),d=dt.get(t,"fxshow");i.queue||(null==(a=J._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,J.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],"inline"===("none"===(h=J.css(t,"display"))?dt.get(t,"olddisplay")||w(t.nodeName):h)&&"none"===J.css(t,"float")&&(f.display="inline-block")),i.overflow&&(f.overflow="hidden",u.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],Yt.exec(o)){if(delete e[n],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!d||void 0===d[n])continue;p=!0}c[n]=d&&d[n]||J.style(t,n)}else h=void 0;if(J.isEmptyObject(c))"inline"===("none"===h?w(t.nodeName):h)&&(f.display=h);else{d?"hidden"in d&&(p=d.hidden):d=dt.access(t,"fxshow",{}),r&&(d.hidden=!p),p?J(t).show():u.done(function(){J(t).hide()}),u.done(function(){var e;dt.remove(t,"fxshow");for(e in c)J.style(t,e,c[e])});for(n in c)s=A(p?d[n]:0,n,u),n in d||(d[n]=s.start,p&&(s.end=s.start,s.start="width"===n||"height"===n?1:0))}}],Kt={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),o=Zt.exec(e),r=o&&o[3]||(J.cssNumber[t]?"":"px"),s=(J.cssNumber[t]||"px"!==r&&+n)&&Zt.exec(J.css(i.elem,t)),a=1,l=20;if(s&&s[3]!==r){r=r||s[3],o=o||[],s=+n||1;do{s/=a=a||".5",J.style(i.elem,t,s+r)}while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(s=i.start=+s||+n||0,i.unit=r,i.end=o[1]?s+(o[1]+1)*o[2]:+o[2]),i}]};J.Animation=J.extend(L,{tweener:function(t,e){J.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,o=t.length;n<o;n++)i=t[n],Kt[i]=Kt[i]||[],Kt[i].unshift(e)},prefilter:function(t,e){e?Jt.unshift(t):Jt.push(t)}}),J.speed=function(t,e,i){var n=t&&"object"==typeof t?J.extend({},t):{complete:i||!i&&e||J.isFunction(t)&&t,duration:t,easing:i&&e||e&&!J.isFunction(e)&&e};return n.duration=J.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in J.fx.speeds?J.fx.speeds[n.duration]:J.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){J.isFunction(n.old)&&n.old.call(this),n.queue&&J.dequeue(this,n.queue)},n},J.fn.extend({fadeTo:function(t,e,i,n){return this.filter(wt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var o=J.isEmptyObject(t),r=J.speed(e,i,n),s=function(){var e=L(this,J.extend({},t),r);(o||dt.get(this,"finish"))&&e.stop(!0)};return s.finish=s,o||!1===r.queue?this.each(s):this.queue(r.queue,s)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=J.timers,s=dt.get(this);if(o)s[o]&&s[o].stop&&n(s[o]);else for(o in s)s[o]&&s[o].stop&&$t.test(o)&&n(s[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(i),e=!1,r.splice(o,1));!e&&i||J.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=dt.get(this),n=i[t+"queue"],o=i[t+"queueHooks"],r=J.timers,s=n?n.length:0;for(i.finish=!0,J.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<s;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),J.each(["toggle","show","hide"],function(t,e){var i=J.fn[e];J.fn[e]=function(t,n,o){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(I(e,!0),t,n,o)}}),J.each({slideDown:I("show"),slideUp:I("hide"),slideToggle:I("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){J.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),J.timers=[],J.fx.tick=function(){var t,e=0,i=J.timers;for(Vt=J.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||J.fx.stop(),Vt=void 0},J.fx.timer=function(t){J.timers.push(t),t()?J.fx.start():J.timers.pop()},J.fx.interval=13,J.fx.start=function(){Ht||(Ht=setInterval(J.fx.tick,J.fx.interval))},J.fx.stop=function(){clearInterval(Ht),Ht=null},J.fx.speeds={slow:600,fast:200,_default:400},J.fn.delay=function(t,e){return t=J.fx?J.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=$.createElement("input"),e=$.createElement("select"),i=e.appendChild($.createElement("option"));t.type="checkbox",Z.checkOn=""!==t.value,Z.optSelected=i.selected,e.disabled=!0,Z.optDisabled=!i.disabled,(t=$.createElement("input")).value="t",t.type="radio",Z.radioValue="t"===t.value}();var Qt,te=J.expr.attrHandle;J.fn.extend({attr:function(t,e){return pt(this,J.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){J.removeAttr(this,t)})}}),J.extend({attr:function(t,e,i){var n,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?J.prop(t,e,i):(1===r&&J.isXMLDoc(t)||(e=e.toLowerCase(),n=J.attrHooks[e]||(J.expr.match.bool.test(e)?Qt:void 0)),void 0===i?n&&"get"in n&&null!==(o=n.get(t,e))?o:null==(o=J.find.attr(t,e))?void 0:o:null!==i?n&&"set"in n&&void 0!==(o=n.set(t,i,e))?o:(t.setAttribute(e,i+""),i):void J.removeAttr(t,e))},removeAttr:function(t,e){var i,n,o=0,r=e&&e.match(ut);if(r&&1===t.nodeType)for(;i=r[o++];)n=J.propFix[i]||i,J.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!Z.radioValue&&"radio"===e&&J.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),Qt={set:function(t,e,i){return!1===e?J.removeAttr(t,i):t.setAttribute(i,i),i}},J.each(J.expr.match.bool.source.match(/\w+/g),function(t,e){var i=te[e]||J.find.attr;te[e]=function(t,e,n){var o,r;return n||(r=te[e],te[e]=o,o=null!=i(t,e,n)?e.toLowerCase():null,te[e]=r),o}});var ee=/^(?:input|select|textarea|button)$/i;J.fn.extend({prop:function(t,e){return pt(this,J.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[J.propFix[t]||t]})}}),J.extend({propFix:{for:"htmlFor",class:"className"},prop:function(t,e,i){var n,o,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return(1!==r||!J.isXMLDoc(t))&&(e=J.propFix[e]||e,o=J.propHooks[e]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(t,i,e))?n:t[e]=i:o&&"get"in o&&null!==(n=o.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ee.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),Z.optSelected||(J.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),J.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){J.propFix[this.toLowerCase()]=this});var ie=/[\t\r\n\f]/g;J.fn.extend({addClass:function(t){var e,i,n,o,r,s,a="string"==typeof t&&t,l=0,h=this.length;if(J.isFunction(t))return this.each(function(e){J(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(ut)||[];l<h;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ie," "):" ")){for(r=0;o=e[r++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");s=J.trim(n),i.className!==s&&(i.className=s)}return this},removeClass:function(t){var e,i,n,o,r,s,a=0===arguments.length||"string"==typeof t&&t,l=0,h=this.length;if(J.isFunction(t))return this.each(function(e){J(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(ut)||[];l<h;l++)if(i=this[l],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ie," "):"")){for(r=0;o=e[r++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");s=t?J.trim(n):"",i.className!==s&&(i.className=s)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):J.isFunction(t)?this.each(function(i){J(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,o=J(this),r=t.match(ut)||[];e=r[n++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else"undefined"!==i&&"boolean"!==i||(this.className&&dt.set(this,"__className__",this.className),this.className=this.className||!1===t?"":dt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ie," ").indexOf(e)>=0)return!0;return!1}});var ne=/\r/g;J.fn.extend({val:function(t){var e,i,n,o=this[0];{if(arguments.length)return n=J.isFunction(t),this.each(function(i){var o;1===this.nodeType&&(null==(o=n?t.call(this,i,J(this).val()):t)?o="":"number"==typeof o?o+="":J.isArray(o)&&(o=J.map(o,function(t){return null==t?"":t+""})),(e=J.valHooks[this.type]||J.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))});if(o)return(e=J.valHooks[o.type]||J.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(o,"value"))?i:"string"==typeof(i=o.value)?i.replace(ne,""):null==i?"":i}}}),J.extend({valHooks:{option:{get:function(t){var e=J.find.attr(t,"value");return null!=e?e:J.trim(J.text(t))}},select:{get:function(t){for(var e,i,n=t.options,o=t.selectedIndex,r="select-one"===t.type||o<0,s=r?null:[],a=r?o+1:n.length,l=o<0?a:r?o:0;l<a;l++)if(((i=n[l]).selected||l===o)&&(Z.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!J.nodeName(i.parentNode,"optgroup"))){if(e=J(i).val(),r)return e;s.push(e)}return s},set:function(t,e){for(var i,n,o=t.options,r=J.makeArray(e),s=o.length;s--;)((n=o[s]).selected=J.inArray(n.value,r)>=0)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),J.each(["radio","checkbox"],function(){J.valHooks[this]={set:function(t,e){if(J.isArray(e))return t.checked=J.inArray(J(t).val(),e)>=0}},Z.checkOn||(J.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),J.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){J.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),J.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var oe=J.now(),re=/\?/;J.parseJSON=function(t){return JSON.parse(t+"")},J.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||J.error("Invalid XML: "+t),e};var se=/#.*$/,ae=/([?&])_=[^&]*/,le=/^(.*?):[ \t]*([^\r\n]*)$/gm,he=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ue=/^(?:GET|HEAD)$/,ce=/^\/\//,fe=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,pe={},de={},ge="*/".concat("*"),ve=t.location.href,me=fe.exec(ve.toLowerCase())||[];J.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ve,type:"GET",isLocal:he.test(me[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":J.parseJSON,"text xml":J.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?D(D(t,J.ajaxSettings),e):D(J.ajaxSettings,t)},ajaxPrefilter:O(pe),ajaxTransport:O(de),ajax:function(t,e){function i(t,e,i,s){var l,u,m,y,w,M=e;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,r=s||"",x.readyState=t>0?4:0,l=t>=200&&t<300||304===t,i&&(y=R(c,x,i)),y=q(c,y,x,l),l?(c.ifModified&&((w=x.getResponseHeader("Last-Modified"))&&(J.lastModified[o]=w),(w=x.getResponseHeader("etag"))&&(J.etag[o]=w)),204===t||"HEAD"===c.type?M="nocontent":304===t?M="notmodified":(M=y.state,u=y.data,l=!(m=y.error))):(m=M,!t&&M||(M="error",t<0&&(t=0))),x.status=t,x.statusText=(e||M)+"",l?d.resolveWith(f,[u,M,x]):d.rejectWith(f,[x,M,m]),x.statusCode(v),v=void 0,h&&p.trigger(l?"ajaxSuccess":"ajaxError",[x,c,l?u:m]),g.fireWith(f,[x,M]),h&&(p.trigger("ajaxComplete",[x,c]),--J.active||J.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,o,r,s,a,l,h,u,c=J.ajaxSetup({},e),f=c.context||c,p=c.context&&(f.nodeType||f.jquery)?J(f):J.event,d=J.Deferred(),g=J.Callbacks("once memory"),v=c.statusCode||{},m={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!s)for(s={};e=le.exec(r);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?r:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=y[i]=y[i]||t,m[t]=e),this},overrideMimeType:function(t){return b||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(b<2)for(e in t)v[e]=[v[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return n&&n.abort(e),i(0,e),this}};if(d.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,c.url=((t||c.url||ve)+"").replace(se,"").replace(ce,me[1]+"//"),c.type=e.method||e.type||c.method||c.type,c.dataTypes=J.trim(c.dataType||"*").toLowerCase().match(ut)||[""],null==c.crossDomain&&(l=fe.exec(c.url.toLowerCase()),c.crossDomain=!(!l||l[1]===me[1]&&l[2]===me[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(me[3]||("http:"===me[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=J.param(c.data,c.traditional)),_(pe,c,e,x),2===b)return x;(h=J.event&&c.global)&&0==J.active++&&J.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!ue.test(c.type),o=c.url,c.hasContent||(c.data&&(o=c.url+=(re.test(o)?"&":"?")+c.data,delete c.data),!1===c.cache&&(c.url=ae.test(o)?o.replace(ae,"$1_="+oe++):o+(re.test(o)?"&":"?")+"_="+oe++)),c.ifModified&&(J.lastModified[o]&&x.setRequestHeader("If-Modified-Since",J.lastModified[o]),J.etag[o]&&x.setRequestHeader("If-None-Match",J.etag[o])),(c.data&&c.hasContent&&!1!==c.contentType||e.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+ge+"; q=0.01":""):c.accepts["*"]);for(u in c.headers)x.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(!1===c.beforeSend.call(f,x,c)||2===b))return x.abort();w="abort";for(u in{success:1,error:1,complete:1})x[u](c[u]);if(n=_(de,c,e,x)){x.readyState=1,h&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},c.timeout));try{b=1,n.send(m,i)}catch(t){if(!(b<2))throw t;i(-1,t)}}else i(-1,"No Transport");return x},getJSON:function(t,e,i){return J.get(t,e,i,"json")},getScript:function(t,e){return J.get(t,void 0,e,"script")}}),J.each(["get","post"],function(t,e){J[e]=function(t,i,n,o){return J.isFunction(i)&&(o=o||n,n=i,i=void 0),J.ajax({url:t,type:e,dataType:o,data:i,success:n})}}),J._evalUrl=function(t){return J.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},J.fn.extend({wrapAll:function(t){var e;return J.isFunction(t)?this.each(function(e){J(this).wrapAll(t.call(this,e))}):(this[0]&&(e=J(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return J.isFunction(t)?this.each(function(e){J(this).wrapInner(t.call(this,e))}):this.each(function(){var e=J(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=J.isFunction(t);return this.each(function(i){J(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){J.nodeName(this,"body")||J(this).replaceWith(this.childNodes)}).end()}}),J.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},J.expr.filters.visible=function(t){return!J.expr.filters.hidden(t)};var ye=/%20/g,be=/\[\]$/,we=/\r?\n/g,xe=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;J.param=function(t,e){var i,n=[],o=function(t,e){e=J.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=J.ajaxSettings&&J.ajaxSettings.traditional),J.isArray(t)||t.jquery&&!J.isPlainObject(t))J.each(t,function(){o(this.name,this.value)});else for(i in t)F(i,t[i],e,o);return n.join("&").replace(ye,"+")},J.fn.extend({serialize:function(){return J.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=J.prop(this,"elements");return t?J.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!J(this).is(":disabled")&&Me.test(this.nodeName)&&!xe.test(t)&&(this.checked||!xt.test(t))}).map(function(t,e){var i=J(this).val();return null==i?null:J.isArray(i)?J.map(i,function(t){return{name:e.name,value:t.replace(we,"\r\n")}}):{name:e.name,value:i.replace(we,"\r\n")}}).get()}}),J.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var Se=0,Ce={},Pe={0:200,1223:204},je=J.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ce)Ce[t]()}),Z.cors=!!je&&"withCredentials"in je,Z.ajax=je=!!je,J.ajaxTransport(function(t){var e;if(Z.cors||je&&!t.crossDomain)return{send:function(i,n){var o,r=t.xhr(),s=++Se;if(r.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)r[o]=t.xhrFields[o];t.mimeType&&r.overrideMimeType&&r.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)r.setRequestHeader(o,i[o]);e=function(t){return function(){e&&(delete Ce[s],e=r.onload=r.onerror=null,"abort"===t?r.abort():"error"===t?n(r.status,r.statusText):n(Pe[r.status]||r.status,r.statusText,"string"==typeof r.responseText?{text:r.responseText}:void 0,r.getAllResponseHeaders()))}},r.onload=e(),r.onerror=e("error"),e=Ce[s]=e("abort");try{r.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}}),J.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return J.globalEval(t),t}}}),J.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),J.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,o){e=J("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&o("error"===t.type?404:200,t.type)}),$.head.appendChild(e[0])},abort:function(){i&&i()}}}});var ke=[],Ee=/(=)\?(?=&|$)|\?\?/;J.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ke.pop()||J.expando+"_"+oe++;return this[t]=!0,t}}),J.ajaxPrefilter("json jsonp",function(e,i,n){var o,r,s,a=!1!==e.jsonp&&(Ee.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ee.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return o=e.jsonpCallback=J.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ee,"$1"+o):!1!==e.jsonp&&(e.url+=(re.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return s||J.error(o+" was not called"),s[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){s=arguments},n.always(function(){t[o]=r,e[o]&&(e.jsonpCallback=i.jsonpCallback,ke.push(o)),s&&J.isFunction(r)&&r(s[0]),s=r=void 0}),"script"}),J.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||$;var n=ot.exec(t),o=!i&&[];return n?[e.createElement(n[1])]:(n=J.buildFragment([t],e,o),o&&o.length&&J(o).remove(),J.merge([],n.childNodes))};var Te=J.fn.load;J.fn.load=function(t,e,i){if("string"!=typeof t&&Te)return Te.apply(this,arguments);var n,o,r,s=this,a=t.indexOf(" ");return a>=0&&(n=J.trim(t.slice(a)),t=t.slice(0,a)),J.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&J.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(n?J("<div>").append(J.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){s.each(i,r||[t.responseText,e,t])}),this},J.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){J.fn[e]=function(t){return this.on(e,t)}}),J.expr.filters.animated=function(t){return J.grep(J.timers,function(e){return t===e.elem}).length};var Ie=t.document.documentElement;J.offset={setOffset:function(t,e,i){var n,o,r,s,a,l,h=J.css(t,"position"),u=J(t),c={};"static"===h&&(t.style.position="relative"),a=u.offset(),r=J.css(t,"top"),l=J.css(t,"left"),("absolute"===h||"fixed"===h)&&(r+l).indexOf("auto")>-1?(s=(n=u.position()).top,o=n.left):(s=parseFloat(r)||0,o=parseFloat(l)||0),J.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(c.top=e.top-a.top+s),null!=e.left&&(c.left=e.left-a.left+o),"using"in e?e.using.call(t,c):u.css(c)}},J.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){J.offset.setOffset(this,t,e)});var e,i,n=this[0],o={top:0,left:0},r=n&&n.ownerDocument;if(r)return e=r.documentElement,J.contains(e,n)?(void 0!==n.getBoundingClientRect&&(o=n.getBoundingClientRect()),i=z(r),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===J.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),J.nodeName(t[0],"html")||(n=t.offset()),n.top+=J.css(t[0],"borderTopWidth",!0),n.left+=J.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-J.css(i,"marginTop",!0),left:e.left-n.left-J.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Ie;t&&!J.nodeName(t,"html")&&"static"===J.css(t,"position");)t=t.offsetParent;return t||Ie})}}),J.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;J.fn[e]=function(o){return pt(this,function(e,o,r){var s=z(e);if(void 0===r)return s?s[i]:e[o];s?s.scrollTo(n?t.pageXOffset:r,n?r:t.pageYOffset):e[o]=r},e,o,arguments.length,null)}}),J.each(["top","left"],function(t,e){J.cssHooks[e]=M(Z.pixelPosition,function(t,i){if(i)return i=x(t,e),qt.test(i)?J(t).position()[e]+"px":i})}),J.each({Height:"height",Width:"width"},function(t,e){J.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){J.fn[n]=function(n,o){var r=arguments.length&&(i||"boolean"!=typeof n),s=i||(!0===n||!0===o?"margin":"border");return pt(this,function(e,i,n){var o;return J.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===n?J.css(e,i,s):J.style(e,i,n,s)},e,r?n:void 0,r,null)}})}),J.fn.size=function(){return this.length},J.fn.andSelf=J.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return J});var Ae=t.jQuery,Ne=t.$;return J.noConflict=function(e){return t.$===J&&(t.$=Ne),e&&t.jQuery===J&&(t.jQuery=Ae),J},void 0===e&&(t.jQuery=t.$=J),J})},{}],27:[function(t,e,i){(function(n){!function(t){if("object"==typeof i&&void 0!==e)e.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).localforage=t()}}(function(){return function e(i,n,o){function r(a,l){if(!n[a]){if(!i[a]){var h="function"==typeof t&&t;if(!l&&h)return h(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};i[a][0].call(c.exports,function(t){var e=i[a][1][t];return r(e||t)},c,c.exports,e,i,n,o)}return n[a].exports}for(var s="function"==typeof t&&t,a=0;a<o.length;a++)r(o[a]);return r}({1:[function(t,e,i){(function(t){"use strict";function i(){h=!0;for(var t,e,i=u.length;i;){for(e=u,u=[],t=-1;++t<i;)e[t]();i=u.length}h=!1}var n,o=t.MutationObserver||t.WebKitMutationObserver;if(o){var r=0,s=new o(i),a=t.document.createTextNode("");s.observe(a,{characterData:!0}),n=function(){a.data=r=++r%2}}else if(t.setImmediate||void 0===t.MessageChannel)n="document"in t&&"onreadystatechange"in t.document.createElement("script")?function(){var e=t.document.createElement("script");e.onreadystatechange=function(){i(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},t.document.documentElement.appendChild(e)}:function(){setTimeout(i,0)};else{var l=new t.MessageChannel;l.port1.onmessage=i,n=function(){l.port2.postMessage(0)}}var h,u=[];e.exports=function(t){1!==u.push(t)||h||n()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(t,e,i){"use strict";function n(){}function o(t){if("function"!=typeof t)throw new TypeError("resolver must be a function");this.state=d,this.queue=[],this.outcome=void 0,t!==n&&l(this,t)}function r(t,e,i){this.promise=t,"function"==typeof e&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function s(t,e,i){u(function(){var n;try{n=e(i)}catch(e){return c.reject(t,e)}n===t?c.reject(t,new TypeError("Cannot resolve promise with itself")):c.resolve(t,n)})}function a(t){var e=t&&t.then;if(t&&"object"==typeof t&&"function"==typeof e)return function(){e.apply(t,arguments)}}function l(t,e){function i(e){o||(o=!0,c.reject(t,e))}function n(e){o||(o=!0,c.resolve(t,e))}var o=!1,r=h(function(){e(n,i)});"error"===r.status&&i(r.value)}function h(t,e){var i={};try{i.value=t(e),i.status="success"}catch(t){i.status="error",i.value=t}return i}var u=t(1),c={},f=["REJECTED"],p=["FULFILLED"],d=["PENDING"];e.exports=i=o,o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){if("function"!=typeof t&&this.state===p||"function"!=typeof e&&this.state===f)return this;var i=new this.constructor(n);return this.state!==d?s(i,this.state===p?t:e,this.outcome):this.queue.push(new r(i,t,e)),i},r.prototype.callFulfilled=function(t){c.resolve(this.promise,t)},r.prototype.otherCallFulfilled=function(t){s(this.promise,this.onFulfilled,t)},r.prototype.callRejected=function(t){c.reject(this.promise,t)},r.prototype.otherCallRejected=function(t){s(this.promise,this.onRejected,t)},c.resolve=function(t,e){var i=h(a,e);if("error"===i.status)return c.reject(t,i.value);var n=i.value;if(n)l(t,n);else{t.state=p,t.outcome=e;for(var o=-1,r=t.queue.length;++o<r;)t.queue[o].callFulfilled(e)}return t},c.reject=function(t,e){t.state=f,t.outcome=e;for(var i=-1,n=t.queue.length;++i<n;)t.queue[i].callRejected(e);return t},i.resolve=function(t){return t instanceof this?t:c.resolve(new this(n),t)},i.reject=function(t){var e=new this(n);return c.reject(e,t)},i.all=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var r=new Array(i),s=0,a=-1,l=new this(n);++a<i;)!function(t,n){e.resolve(t).then(function(t){r[n]=t,++s!==i||o||(o=!0,c.resolve(l,r))},function(t){o||(o=!0,c.reject(l,t))})}(t[a],a);return l},i.race=function(t){var e=this;if("[object Array]"!==Object.prototype.toString.call(t))return this.reject(new TypeError("must be an array"));var i=t.length,o=!1;if(!i)return this.resolve([]);for(var r=-1,s=new this(n);++r<i;)!function(t){e.resolve(t).then(function(t){o||(o=!0,c.resolve(s,t))},function(t){o||(o=!0,c.reject(s,t))})}(t[r]);return s}},{1:1}],3:[function(t,e,i){(function(e){"use strict";"function"!=typeof e.Promise&&(e.Promise=t(2))}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{2:2}],4:[function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if("TypeError"!==o.name)throw o;for(var i=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),n=0;n<t.length;n+=1)i.append(t[n]);return i.getBlob(e.type)}}function r(t,e){e&&t.then(function(t){e(null,t)},function(t){e(t)})}function s(t,e,i){"function"==typeof e&&t.then(e),"function"==typeof i&&t.catch(i)}function a(t){for(var e=t.length,i=new ArrayBuffer(e),n=new Uint8Array(i),o=0;o<e;o++)n[o]=t.charCodeAt(o);return i}function l(t){return new I(function(e){var i=t.transaction(A,"readwrite"),n=o([""]);i.objectStore(A).put(n,"key"),i.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)},i.oncomplete=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),i=navigator.userAgent.match(/Edge\//);e(i||!t||parseInt(t[1],10)>=43)}}).catch(function(){return!1})}function h(t){return"boolean"==typeof E?I.resolve(E):l(t).then(function(t){return E=t})}function u(t){var e=T[t.name],i={};i.promise=new I(function(t){i.resolve=t}),e.deferredOperations.push(i),e.dbReady?e.dbReady=e.dbReady.then(function(){return i.promise}):e.dbReady=i.promise}function c(t){var e=T[t.name].deferredOperations.pop();e&&e.resolve()}function f(t,e){return new I(function(i,n){if(t.db){if(!e)return i(t.db);u(t),t.db.close()}var o=[t.name];e&&o.push(t.version);var r=k.open.apply(k,o);e&&(r.onupgradeneeded=function(e){var i=r.result;try{i.createObjectStore(t.storeName),e.oldVersion<=1&&i.createObjectStore(A)}catch(i){if("ConstraintError"!==i.name)throw i;console.warn('The database "'+t.name+'" has been upgraded from version '+e.oldVersion+" to version "+e.newVersion+', but the storage "'+t.storeName+'" already exists.')}}),r.onerror=function(t){t.preventDefault(),n(r.error)},r.onsuccess=function(){i(r.result),c(t)}})}function p(t){return f(t,!1)}function d(t){return f(t,!0)}function g(t,e){if(!t.db)return!0;var i=!t.db.objectStoreNames.contains(t.storeName),n=t.version<t.db.version,o=t.version>t.db.version;if(n&&(t.version!==e&&console.warn('The database "'+t.name+"\" can't be downgraded from version "+t.db.version+" to version "+t.version+"."),t.version=t.db.version),o||i){if(i){var r=t.db.version+1;r>t.version&&(t.version=r)}return!0}return!1}function v(t){return new I(function(e,i){var n=new FileReader;n.onerror=i,n.onloadend=function(i){var n=btoa(i.target.result||"");e({__local_forage_encoded_blob:!0,data:n,type:t.type})},n.readAsBinaryString(t)})}function m(t){return o([a(atob(t.data))],{type:t.type})}function y(t){return t&&t.__local_forage_encoded_blob}function b(t){var e=this,i=e._initReady().then(function(){var t=T[e._dbInfo.name];if(t&&t.dbReady)return t.dbReady});return s(i,t,t),i}function w(t){var e,i,n,o,r,s=.75*t.length,a=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var h=new ArrayBuffer(s),u=new Uint8Array(h);for(e=0;e<a;e+=4)i=O.indexOf(t[e]),n=O.indexOf(t[e+1]),o=O.indexOf(t[e+2]),r=O.indexOf(t[e+3]),u[l++]=i<<2|n>>4,u[l++]=(15&n)<<4|o>>2,u[l++]=(3&o)<<6|63&r;return h}function x(t){var e,i=new Uint8Array(t),n="";for(e=0;e<i.length;e+=3)n+=O[i[e]>>2],n+=O[(3&i[e])<<4|i[e+1]>>4],n+=O[(15&i[e+1])<<2|i[e+2]>>6],n+=O[63&i[e+2]];return i.length%3==2?n=n.substring(0,n.length-1)+"=":i.length%3==1&&(n=n.substring(0,n.length-2)+"=="),n}function M(t,e,i,n){var o=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var s=new I(function(r,s){o.ready().then(function(){void 0===e&&(e=null);var a=e,l=o._dbInfo;l.serializer.serialize(e,function(e,h){h?s(h):l.db.transaction(function(i){i.executeSql("INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[t,e],function(){r(a)},function(t,e){s(e)})},function(e){if(e.code===e.QUOTA_ERR){if(n>0)return void r(M.apply(o,[t,a,i,n-1]));s(e)}})})}).catch(s)});return r(s,i),s}function S(t,e){t[e]=function(){var i=arguments;return t.ready().then(function(){return t[e].apply(t,i)})}}function C(){for(var t=1;t<arguments.length;t++){var e=arguments[t];if(e)for(var i in e)e.hasOwnProperty(i)&&(st(e[i])?arguments[0][i]=e[i].slice():arguments[0][i]=e[i])}return arguments[0]}function P(t){for(var e in it)if(it.hasOwnProperty(e)&&it[e]===t)return!0;return!1}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k=function(){try{if("undefined"!=typeof indexedDB)return indexedDB;if("undefined"!=typeof webkitIndexedDB)return webkitIndexedDB;if("undefined"!=typeof mozIndexedDB)return mozIndexedDB;if("undefined"!=typeof OIndexedDB)return OIndexedDB;if("undefined"!=typeof msIndexedDB)return msIndexedDB}catch(t){}}();"undefined"==typeof Promise&&t(3);var E,T,I=Promise,A="local-forage-detect-blob-support",N=Object.prototype.toString,L={_driver:"asyncStorage",_initStorage:function(t){var e=this,i={db:null};if(t)for(var n in t)i[n]=t[n];T||(T={});var o=T[i.name];o||(o={forages:[],db:null,dbReady:null,deferredOperations:[]},T[i.name]=o),o.forages.push(e),e._initReady||(e._initReady=e.ready,e.ready=b);for(var r=[],s=0;s<o.forages.length;s++){var a=o.forages[s];a!==e&&r.push(a._initReady().catch(function(){return I.resolve()}))}var l=o.forages.slice(0);return I.all(r).then(function(){return i.db=o.db,p(i)}).then(function(t){return i.db=t,g(i,e._defaultConfig.version)?d(i):t}).then(function(t){i.db=o.db=t,e._dbInfo=i;for(var n=0;n<l.length;n++){var r=l[n];r!==e&&(r._dbInfo.db=i.db,r._dbInfo.version=i.version)}})},iterate:function(t,e){var i=this,n=new I(function(e,n){i.ready().then(function(){var o=i._dbInfo,r=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName).openCursor(),s=1;r.onsuccess=function(){var i=r.result;if(i){var n=i.value;y(n)&&(n=m(n));var o=t(n,i.key,s++);void 0!==o?e(o):i.continue()}else e()},r.onerror=function(){n(r.error)}}).catch(n)});return r(n,e),n},getItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=new I(function(e,n){i.ready().then(function(){var o=i._dbInfo,r=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName).get(t);r.onsuccess=function(){var t=r.result;void 0===t&&(t=null),y(t)&&(t=m(t)),e(t)},r.onerror=function(){n(r.error)}}).catch(n)});return r(n,e),n},setItem:function(t,e,i){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=new I(function(i,o){var r;n.ready().then(function(){return r=n._dbInfo,"[object Blob]"===N.call(e)?h(r.db).then(function(t){return t?e:v(e)}):e}).then(function(e){var n=r.db.transaction(r.storeName,"readwrite"),s=n.objectStore(r.storeName).put(e,t);null===e&&(e=void 0),n.oncomplete=function(){void 0===e&&(e=null),i(e)},n.onabort=n.onerror=function(){var t=s.error?s.error:s.transaction.error;o(t)}}).catch(o)});return r(o,i),o},removeItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=new I(function(e,n){i.ready().then(function(){var o=i._dbInfo,r=o.db.transaction(o.storeName,"readwrite"),s=r.objectStore(o.storeName).delete(t);r.oncomplete=function(){e()},r.onerror=function(){n(s.error)},r.onabort=function(){var t=s.error?s.error:s.transaction.error;n(t)}}).catch(n)});return r(n,e),n},clear:function(t){var e=this,i=new I(function(t,i){e.ready().then(function(){var n=e._dbInfo,o=n.db.transaction(n.storeName,"readwrite"),r=o.objectStore(n.storeName).clear();o.oncomplete=function(){t()},o.onabort=o.onerror=function(){var t=r.error?r.error:r.transaction.error;i(t)}}).catch(i)});return r(i,t),i},length:function(t){var e=this,i=new I(function(t,i){e.ready().then(function(){var n=e._dbInfo,o=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName).count();o.onsuccess=function(){t(o.result)},o.onerror=function(){i(o.error)}}).catch(i)});return r(i,t),i},key:function(t,e){var i=this,n=new I(function(e,n){t<0?e(null):i.ready().then(function(){var o=i._dbInfo,r=!1,s=o.db.transaction(o.storeName,"readonly").objectStore(o.storeName).openCursor();s.onsuccess=function(){var i=s.result;i?0===t?e(i.key):r?e(i.key):(r=!0,i.advance(t)):e(null)},s.onerror=function(){n(s.error)}}).catch(n)});return r(n,e),n},keys:function(t){var e=this,i=new I(function(t,i){e.ready().then(function(){var n=e._dbInfo,o=n.db.transaction(n.storeName,"readonly").objectStore(n.storeName).openCursor(),r=[];o.onsuccess=function(){var e=o.result;e?(r.push(e.key),e.continue()):t(r)},o.onerror=function(){i(o.error)}}).catch(i)});return r(i,t),i}},O="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_="~~local_forage_type~",D=/^~~local_forage_type~([^~]+)~/,R="__lfsc__:",q=R.length,F="arbf",z="blob",G="si08",B="ui08",U="uic8",W="si16",X="si32",V="ur16",H="ui32",Y="fl32",Z="fl64",$=q+F.length,J=Object.prototype.toString,K={serialize:function(t,e){var i="";if(t&&(i=J.call(t)),t&&("[object ArrayBuffer]"===i||t.buffer&&"[object ArrayBuffer]"===J.call(t.buffer))){var n,o=R;t instanceof ArrayBuffer?(n=t,o+=F):(n=t.buffer,"[object Int8Array]"===i?o+=G:"[object Uint8Array]"===i?o+=B:"[object Uint8ClampedArray]"===i?o+=U:"[object Int16Array]"===i?o+=W:"[object Uint16Array]"===i?o+=V:"[object Int32Array]"===i?o+=X:"[object Uint32Array]"===i?o+=H:"[object Float32Array]"===i?o+=Y:"[object Float64Array]"===i?o+=Z:e(new Error("Failed to get type for BinaryArray"))),e(o+x(n))}else if("[object Blob]"===i){var r=new FileReader;r.onload=function(){var i=_+t.type+"~"+x(this.result);e(R+z+i)},r.readAsArrayBuffer(t)}else try{e(JSON.stringify(t))}catch(i){console.error("Couldn't convert value into a JSON string: ",t),e(null,i)}},deserialize:function(t){if(t.substring(0,q)!==R)return JSON.parse(t);var e,i=t.substring($),n=t.substring(q,$);if(n===z&&D.test(i)){var r=i.match(D);e=r[1],i=i.substring(r[0].length)}var s=w(i);switch(n){case F:return s;case z:return o([s],{type:e});case G:return new Int8Array(s);case B:return new Uint8Array(s);case U:return new Uint8ClampedArray(s);case W:return new Int16Array(s);case V:return new Uint16Array(s);case X:return new Int32Array(s);case H:return new Uint32Array(s);case Y:return new Float32Array(s);case Z:return new Float64Array(s);default:throw new Error("Unkown type: "+n)}},stringToBuffer:w,bufferToString:x},Q={_driver:"webSQLStorage",_initStorage:function(t){var e=this,i={db:null};if(t)for(var n in t)i[n]="string"!=typeof t[n]?t[n].toString():t[n];var o=new I(function(t,n){try{i.db=openDatabase(i.name,String(i.version),i.description,i.size)}catch(t){return n(t)}i.db.transaction(function(o){o.executeSql("CREATE TABLE IF NOT EXISTS "+i.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],function(){e._dbInfo=i,t()},function(t,e){n(e)})})});return i.serializer=K,o},iterate:function(t,e){var i=this,n=new I(function(e,n){i.ready().then(function(){var o=i._dbInfo;o.db.transaction(function(i){i.executeSql("SELECT * FROM "+o.storeName,[],function(i,n){for(var r=n.rows,s=r.length,a=0;a<s;a++){var l=r.item(a),h=l.value;if(h&&(h=o.serializer.deserialize(h)),void 0!==(h=t(h,l.key,a+1)))return void e(h)}e()},function(t,e){n(e)})})}).catch(n)});return r(n,e),n},getItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=new I(function(e,n){i.ready().then(function(){var o=i._dbInfo;o.db.transaction(function(i){i.executeSql("SELECT * FROM "+o.storeName+" WHERE key = ? LIMIT 1",[t],function(t,i){var n=i.rows.length?i.rows.item(0).value:null;n&&(n=o.serializer.deserialize(n)),e(n)},function(t,e){n(e)})})}).catch(n)});return r(n,e),n},setItem:function(t,e,i){return M.apply(this,[t,e,i,1])},removeItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=new I(function(e,n){i.ready().then(function(){var o=i._dbInfo;o.db.transaction(function(i){i.executeSql("DELETE FROM "+o.storeName+" WHERE key = ?",[t],function(){e()},function(t,e){n(e)})})}).catch(n)});return r(n,e),n},clear:function(t){var e=this,i=new I(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){e.executeSql("DELETE FROM "+n.storeName,[],function(){t()},function(t,e){i(e)})})}).catch(i)});return r(i,t),i},length:function(t){var e=this,i=new I(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){e.executeSql("SELECT COUNT(key) as c FROM "+n.storeName,[],function(e,i){var n=i.rows.item(0).c;t(n)},function(t,e){i(e)})})}).catch(i)});return r(i,t),i},key:function(t,e){var i=this,n=new I(function(e,n){i.ready().then(function(){var o=i._dbInfo;o.db.transaction(function(i){i.executeSql("SELECT key FROM "+o.storeName+" WHERE id = ? LIMIT 1",[t+1],function(t,i){var n=i.rows.length?i.rows.item(0).key:null;e(n)},function(t,e){n(e)})})}).catch(n)});return r(n,e),n},keys:function(t){var e=this,i=new I(function(t,i){e.ready().then(function(){var n=e._dbInfo;n.db.transaction(function(e){e.executeSql("SELECT key FROM "+n.storeName,[],function(e,i){for(var n=[],o=0;o<i.rows.length;o++)n.push(i.rows.item(o).key);t(n)},function(t,e){i(e)})})}).catch(i)});return r(i,t),i}},tt={_driver:"localStorageWrapper",_initStorage:function(t){var e=this,i={};if(t)for(var n in t)i[n]=t[n];return i.keyPrefix=i.name+"/",i.storeName!==e._defaultConfig.storeName&&(i.keyPrefix+=i.storeName+"/"),e._dbInfo=i,i.serializer=K,I.resolve()},iterate:function(t,e){var i=this,n=i.ready().then(function(){for(var e=i._dbInfo,n=e.keyPrefix,o=n.length,r=localStorage.length,s=1,a=0;a<r;a++){var l=localStorage.key(a);if(0===l.indexOf(n)){var h=localStorage.getItem(l);if(h&&(h=e.serializer.deserialize(h)),void 0!==(h=t(h,l.substring(o),s++)))return h}}});return r(n,e),n},getItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=i.ready().then(function(){var e=i._dbInfo,n=localStorage.getItem(e.keyPrefix+t);return n&&(n=e.serializer.deserialize(n)),n});return r(n,e),n},setItem:function(t,e,i){var n=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var o=n.ready().then(function(){void 0===e&&(e=null);var i=e;return new I(function(o,r){var s=n._dbInfo;s.serializer.serialize(e,function(e,n){if(n)r(n);else try{localStorage.setItem(s.keyPrefix+t,e),o(i)}catch(t){"QuotaExceededError"!==t.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==t.name||r(t),r(t)}})})});return r(o,i),o},removeItem:function(t,e){var i=this;"string"!=typeof t&&(console.warn(t+" used as a key, but it is not a string."),t=String(t));var n=i.ready().then(function(){var e=i._dbInfo;localStorage.removeItem(e.keyPrefix+t)});return r(n,e),n},clear:function(t){var e=this,i=e.ready().then(function(){for(var t=e._dbInfo.keyPrefix,i=localStorage.length-1;i>=0;i--){var n=localStorage.key(i);0===n.indexOf(t)&&localStorage.removeItem(n)}});return r(i,t),i},length:function(t){var e=this.keys().then(function(t){return t.length});return r(e,t),e},key:function(t,e){var i=this,n=i.ready().then(function(){var e,n=i._dbInfo;try{e=localStorage.key(t)}catch(t){e=null}return e&&(e=e.substring(n.keyPrefix.length)),e});return r(n,e),n},keys:function(t){var e=this,i=e.ready().then(function(){for(var t=e._dbInfo,i=localStorage.length,n=[],o=0;o<i;o++)0===localStorage.key(o).indexOf(t.keyPrefix)&&n.push(localStorage.key(o).substring(t.keyPrefix.length));return n});return r(i,t),i}},et={},it={INDEXEDDB:"asyncStorage",LOCALSTORAGE:"localStorageWrapper",WEBSQL:"webSQLStorage"},nt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"],ot={description:"",driver:[it.INDEXEDDB,it.WEBSQL,it.LOCALSTORAGE].slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1},rt={};rt[it.INDEXEDDB]=function(){try{if(!k)return!1;var t="undefined"!=typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),e="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!t||e)&&"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(t){return!1}}(),rt[it.WEBSQL]="function"==typeof openDatabase,rt[it.LOCALSTORAGE]=function(){try{return"undefined"!=typeof localStorage&&"setItem"in localStorage&&localStorage.setItem}catch(t){return!1}}();var st=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},at=new(function(){function t(e){n(this,t),this.INDEXEDDB=it.INDEXEDDB,this.LOCALSTORAGE=it.LOCALSTORAGE,this.WEBSQL=it.WEBSQL,this._defaultConfig=C({},ot),this._config=C({},this._defaultConfig,e),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return t.prototype.config=function(t){if("object"===(void 0===t?"undefined":j(t))){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var e in t){if("storeName"===e&&(t[e]=t[e].replace(/\W/g,"_")),"version"===e&&"number"!=typeof t[e])return new Error("Database version must be a number.");this._config[e]=t[e]}return!("driver"in t&&t.driver)||this.setDriver(this._config.driver)}return"string"==typeof t?this._config[t]:this._config},t.prototype.defineDriver=function(t,e,i){var n=new I(function(e,i){try{var n=t._driver,o=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver"),r=new Error("Custom driver name already in use: "+t._driver);if(!t._driver)return void i(o);if(P(t._driver))return void i(r);for(var s=nt.concat("_initStorage"),a=0;a<s.length;a++){var l=s[a];if(!l||!t[l]||"function"!=typeof t[l])return void i(o)}var h=I.resolve(!0);"_support"in t&&(h=t._support&&"function"==typeof t._support?t._support():I.resolve(!!t._support)),h.then(function(i){rt[n]=i,et[n]=t,e()},i)}catch(t){i(t)}});return s(n,e,i),n},t.prototype.driver=function(){return this._driver||null},t.prototype.getDriver=function(t,e,i){var n=this,o=I.resolve().then(function(){if(!P(t)){if(et[t])return et[t];throw new Error("Driver not found.")}switch(t){case n.INDEXEDDB:return L;case n.LOCALSTORAGE:return tt;case n.WEBSQL:return Q}});return s(o,e,i),o},t.prototype.getSerializer=function(t){var e=I.resolve(K);return s(e,t),e},t.prototype.ready=function(t){var e=this,i=e._driverSet.then(function(){return null===e._ready&&(e._ready=e._initDriver()),e._ready});return s(i,t,t),i},t.prototype.setDriver=function(t,e,i){function n(){a._config.driver=a.driver()}function o(t){return a._extend(t),n(),a._ready=a._initStorage(a._config),a._ready}function r(t){return function(){function e(){for(;i<t.length;){var r=t[i];return i++,a._dbInfo=null,a._ready=null,a.getDriver(r).then(o).catch(e)}n();var s=new Error("No available storage method found.");return a._driverSet=I.reject(s),a._driverSet}var i=0;return e()}}var a=this;st(t)||(t=[t]);var l=this._getSupportedDrivers(t),h=null!==this._driverSet?this._driverSet.catch(function(){return I.resolve()}):I.resolve();return this._driverSet=h.then(function(){var t=l[0];return a._dbInfo=null,a._ready=null,a.getDriver(t).then(function(t){a._driver=t._driver,n(),a._wrapLibraryMethodsWithReady(),a._initDriver=r(l)})}).catch(function(){n();var t=new Error("No available storage method found.");return a._driverSet=I.reject(t),a._driverSet}),s(this._driverSet,e,i),this._driverSet},t.prototype.supports=function(t){return!!rt[t]},t.prototype._extend=function(t){C(this,t)},t.prototype._getSupportedDrivers=function(t){for(var e=[],i=0,n=t.length;i<n;i++){var o=t[i];this.supports(o)&&e.push(o)}return e},t.prototype._wrapLibraryMethodsWithReady=function(){for(var t=0;t<nt.length;t++)S(this,nt[t])},t.prototype.createInstance=function(e){return new t(e)},t}());e.exports=at},{3:3}]},{},[4])(4)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(t,e,i){function n(t){return t*(Math.PI/180)}function o(t){return t/Math.PI*180}function r(t){var e,i,o,r,s,l,h,u=t.lat,c=t.lon,f=6378137,p=n(u),d=n(c);h=Math.floor((c+180)/6)+1,180===c&&(h=60),u>=56&&u<64&&c>=3&&c<12&&(h=32),u>=72&&u<84&&(c>=0&&c<9?h=31:c>=9&&c<21?h=33:c>=21&&c<33?h=35:c>=33&&c<42&&(h=37)),l=n(6*(h-1)-180+3),e=f/Math.sqrt(1-.00669438*Math.sin(p)*Math.sin(p)),i=Math.tan(p)*Math.tan(p),o=.006739496752268451*Math.cos(p)*Math.cos(p);var g=.9996*e*((r=Math.cos(p)*(d-l))+(1-i+o)*r*r*r/6+(5-18*i+i*i+72*o-.39089081163157013)*r*r*r*r*r/120)+5e5,v=.9996*((s=f*(.9983242984503243*p-.002514607064228144*Math.sin(2*p)+2639046602129982e-21*Math.sin(4*p)-3.418046101696858e-9*Math.sin(6*p)))+e*Math.tan(p)*(r*r/2+(5-i+9*o+4*o*o)*r*r*r*r/24+(61-58*i+i*i+600*o-2.2240339282485886)*r*r*r*r*r*r/720));return u<0&&(v+=1e7),{northing:Math.round(v),easting:Math.round(g),zoneNumber:h,zoneLetter:a(u)}}function s(t){var e=t.northing,i=t.easting,n=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var a,l,h,u,c,f,p,d,g=6378137,v=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),m=i-5e5,y=e;n<"N"&&(y-=1e7),f=6*(r-1)-180+3,d=(p=y/.9996/6367449.145945056)+(3*v/2-27*v*v*v/32)*Math.sin(2*p)+(21*v*v/16-55*v*v*v*v/32)*Math.sin(4*p)+151*v*v*v/96*Math.sin(6*p),a=g/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),l=Math.tan(d)*Math.tan(d),h=.006739496752268451*Math.cos(d)*Math.cos(d),u=.99330562*g/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),c=m/(.9996*a);var b=d-a*Math.tan(d)/u*(c*c/2-(5+3*l+10*h-4*h*h-.06065547077041606)*c*c*c*c/24+(61+90*l+298*h+45*l*l-1.6983531815716497-3*h*h)*c*c*c*c*c*c/720);b=o(b);var w=(c-(1+2*l+h)*c*c*c/6+(5-2*h+28*l-3*h*h+.05391597401814761+24*l*l)*c*c*c*c*c/120)/Math.cos(d);w=f+o(w);var x;if(t.accuracy){var M=s({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});x={top:M.lat,right:M.lon,bottom:b,left:w}}else x={lat:b,lon:w};return x}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function l(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+h(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function h(t,e,i){var n=u(i);return c(Math.floor(t/1e5),Math.floor(e/1e5)%20,n)}function u(t){var e=t%v;return 0===e&&(e=v),e}function c(t,e,i){var n=i-1,o=m.charCodeAt(n),r=y.charCodeAt(n),s=o+t-1,a=r+e,l=!1;return s>S&&(s=s-S+b-1,l=!0),(s===w||o<w&&s>w||(s>w||o<w)&&l)&&s++,(s===x||o<x&&s>x||(s>x||o<x)&&l)&&++s===w&&s++,s>S&&(s=s-S+b-1),a>M?(a=a-M+b-1,l=!0):l=!1,(a===w||r<w&&a>w||(a>w||r<w)&&l)&&a++,(a===x||r<x&&a>x||(a>x||r<x)&&l)&&++a===w&&a++,a>M&&(a=a-M+b-1),String.fromCharCode(s)+String.fromCharCode(a)}function f(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,o="",r=0;!/[A-Z]/.test(e=t.charAt(r));){if(r>=2)throw"MGRSPoint bad conversion from: "+t;o+=e,r++}var s=parseInt(o,10);if(0===r||r+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(r++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(r,r+=2);for(var l=u(s),h=p(n.charAt(0),l),c=d(n.charAt(1),l);c<g(a);)c+=2e6;var f=i-r;if(f%2!=0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var v,m,y,b,w,x=f/2,M=0,S=0;return x>0&&(v=1e5/Math.pow(10,x),m=t.substring(r,r+x),M=parseFloat(m)*v,y=t.substring(r+x),S=parseFloat(y)*v),b=M+h,w=S+c,{easting:b,northing:w,zoneLetter:a,zoneNumber:s,accuracy:v}}function p(t,e){for(var i=m.charCodeAt(e-1),n=1e5,o=!1;i!==t.charCodeAt(0);){if(++i===w&&i++,i===x&&i++,i>S){if(o)throw"Bad character: "+t;i=b,o=!0}n+=1e5}return n}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=y.charCodeAt(e-1),n=0,o=!1;i!==t.charCodeAt(0);){if(++i===w&&i++,i===x&&i++,i>M){if(o)throw"Bad character: "+t;i=b,o=!0}n+=1e5}return n}function g(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var v=6,m="AJSAJS",y="AFAFAF",b=65,w=73,x=79,M=86,S=90;i.forward=function(t,e){return e=e||5,l(r({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=s(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=s(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],29:[function(t,e,i){(function(t){!function(t,n){"object"==typeof i?e.exports=n():"function"==typeof define&&define.amd?define([],n):t.ol=n()}(this,function(){function e(t,e){if(e){var i=dc;t=t.split(".");for(var n=0;n<t.length-1;n++){var o=t[n];o in i||(i[o]={}),i=i[o]}(e=e(n=i[t=t[t.length-1]]))!=n&&null!=e&&pc(i,t,{configurable:!0,writable:!0,value:e})}}function i(){i=function(){},dc.Symbol||(dc.Symbol=gc)}function n(){i();var t=dc.Symbol.iterator;t||(t=dc.Symbol.iterator=dc.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&pc(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return o(this)}}),n=function(){}}function o(t){var e=0;return r(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})}function r(t){return n(),t={next:t},t[dc.Symbol.iterator]=function(){return this},t}function s(t,e){n(),t instanceof String&&(t+="");var i=0,o={next:function(){if(i<t.length){var n=i++;return{value:e(n,t[n]),done:!1}}return o.next=function(){return{done:!0,value:void 0}},o.next()}};return o[Symbol.iterator]=function(){return o},o}function a(t,e){var i=fc;t=t.split("."),i=i||vc,t[0]in i||!i.execScript||i.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||void 0===e?i=i[n]&&i[n]!==Object.prototype[n]?i[n]:i[n]={}:i[n]=e}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function h(){}function u(t){return t.si||(t.si=++mc)}function c(t){this.message="Assertion failed. See https://openlayers.org/en/latest/doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function f(t,e,i,n){this.T=t,this.W=e,this.R=i,this.U=n}function p(t,e,i,n,o){return void 0!==o?(o.T=t,o.W=e,o.R=i,o.U=n,o):new f(t,e,i,n)}function d(t,e,i){return t.T<=e&&e<=t.W&&t.R<=i&&i<=t.U}function g(t,e){if(!t)throw new c(e)}function v(t,e,i){return Math.min(Math.max(t,e),i)}function m(t,e,i,n){return t=i-t,e=n-e,t*t+e*e}function y(t){return t*Math.PI/180}function b(t,e){return 0>(t%=e)*e?t+e:t}function w(t,e,i){return t+i*(e-t)}function x(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function M(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function S(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function C(t){for(var e=I(),i=0,n=t.length;i<n;++i)R(e,t[i]);return e}function P(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function j(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function k(t,e,i){return e=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,t=i<t[1]?t[1]-i:t[3]<i?i-t[3]:0,e*e+t*t}function E(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function T(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function I(){return[1/0,1/0,-1/0,-1/0]}function A(t,e,i,n,o){return o?(o[0]=t,o[1]=e,o[2]=i,o[3]=n,o):[t,e,i,n]}function N(t){return A(1/0,1/0,-1/0,-1/0,t)}function L(t,e){var i=t[0];return t=t[1],A(i,t,i,t,e)}function O(t,e,i,n,o){for(o=N(o);e<i;e+=n){var r=o,s=t[e],a=t[e+1];r[0]=Math.min(r[0],s),r[1]=Math.min(r[1],a),r[2]=Math.max(r[2],s),r[3]=Math.max(r[3],a)}return o}function _(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function D(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}function R(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function q(t){return[t[0],t[1]]}function F(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function z(t,e,i,n,o){var r=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var s=Math.sin(i);i=r*e,r*=s,e*=n;var a=n*s,l=t[0],h=t[1];t=l-i+a,n=l-i-a,s=l+i-a,i=l+i+a,a=h-r-e,l=h-r+e;var u=h+r+e;return r=h+r-e,A(Math.min(t,n,s,i),Math.min(a,l,u,r),Math.max(t,n,s,i),Math.max(a,l,u,r),o)}function G(t){return t[3]-t[1]}function B(t,e){var i=I();return X(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function U(t){return[t[0],t[3]]}function W(t){return t[2]-t[0]}function X(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function V(t){return t[2]<t[0]||t[3]<t[1]}function H(t){for(var e in t)delete t[e]}function Y(t){var e,i=[];for(e in t)i.push(t[e]);return i}function Z(t){for(var e in t)return!1;return!e}function $(t){this.radius=t}function J(t,e){var i=e||{},n=i.radius||6371008.8;i=i.projection||"EPSG:3857";var o=(t=t.clone().xb(i,"EPSG:4326")).D();i=0;var r;switch(o){case"Point":case"MultiPoint":break;case"LineString":case"LinearRing":i=K(e=t.G(),n);break;case"MultiLineString":case"Polygon":for(e=t.G(),t=0,o=e.length;t<o;++t)i+=K(e[t],n);break;case"MultiPolygon":for(e=t.G(),t=0,o=e.length;t<o;++t){var s=e[t],a=0;for(r=s.length;a<r;++a)i+=K(s[a],n)}break;case"GeometryCollection":for(n=fl(t.a),t=0,o=n.length;t<o;++t)i+=J(n[t],e);break;default:throw Error("Unsupported geometry type: "+o)}return i}function K(t,e){for(var i=0,n=0,o=t.length;n<o-1;++n)i+=Q(t[n],t[n+1],e);return i}function Q(t,e,i){var n=y(t[1]),o=y(e[1]),r=(o-n)/2;return t=y(e[0]-t[0])/2,n=Math.sin(r)*Math.sin(r)+Math.sin(t)*Math.sin(t)*Math.cos(n)*Math.cos(o),2*i*Math.atan2(Math.sqrt(n),Math.sqrt(1-n))}function tt(t,e){var i=e||{},n=i.radius||6371008.8;i=i.projection||"EPSG:3857";var o=(t=t.clone().xb(i,"EPSG:4326")).D();i=0;var r;switch(o){case"Point":case"MultiPoint":case"LineString":case"MultiLineString":case"LinearRing":break;case"Polygon":for(e=t.G(),i=Math.abs(et(e[0],n)),t=1,o=e.length;t<o;++t)i-=Math.abs(et(e[t],n));break;case"MultiPolygon":for(e=t.G(),t=0,o=e.length;t<o;++t){var s=e[t];i+=Math.abs(et(s[0],n));var a=1;for(r=s.length;a<r;++a)i-=Math.abs(et(s[a],n))}break;case"GeometryCollection":for(n=fl(t.a),t=0,o=n.length;t<o;++t)i+=tt(n[t],e);break;default:throw Error("Unsupported geometry type: "+o)}return i}function et(t,e){for(var i=0,n=t.length,o=t[n-1][0],r=t[n-1][1],s=0;s<n;s++){var a=t[s][0],l=t[s][1];i+=y(a-o)*(2+Math.sin(y(r))+Math.sin(y(l))),o=a,r=l}return i*e*e/2}function it(t){this.La=t.code,this.c=t.units,this.g=void 0!==t.extent?t.extent:null,this.Bd=void 0!==t.worldExtent?t.worldExtent:null,this.a=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.b=void 0!==t.global&&t.global,this.j=!(!this.b||!this.g),this.i=t.getPointResolution,this.f=null,this.v=t.metersPerUnit;var e=t.code,i=window.proj4;"function"==typeof i&&void 0!==(e=i.defs(e))&&(void 0!==e.axis&&void 0===t.axisOrientation&&(this.a=e.axis),void 0===t.metersPerUnit&&(this.v=e.to_meter),void 0===t.units&&(this.c=e.units))}function nt(t){it.call(this,{code:t,units:"m",extent:Mc,global:!0,worldExtent:Sc,getPointResolution:function(t,e){return t/yc(e[1]/6378137)}})}function ot(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n));for(var o=0;o<n;o+=i){e[o]=xc*t[o]/180;var r=6378137*Math.log(Math.tan(Math.PI*(t[o+1]+90)/360));r>xc?r=xc:r<-xc&&(r=-xc),e[o+1]=r}return e}function rt(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n));for(var o=0;o<n;o+=i)e[o]=180*t[o]/xc,e[o+1]=360*Math.atan(Math.exp(t[o+1]/6378137))/Math.PI-90;return e}function st(t,e){it.call(this,{code:t,units:"degrees",extent:Pc,axisOrientation:e,global:!0,metersPerUnit:jc,worldExtent:Pc})}function at(t,e,i){t=t.La,e=e.La,t in Tc||(Tc[t]={}),Tc[t][e]=i}function lt(t,e){var i;return t in Tc&&e in Tc[t]&&(i=Tc[t][e]),i}function ht(t,e,i,n){var o=(t=dt(t)).i;return o?e=o(e,i):"degrees"==t.c&&!n||"degrees"==n||(o=mt(t,dt("EPSG:4326")),e=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2],e=o(e,e,2),e=(Q(e.slice(0,2),e.slice(2,4),Ic.radius)+Q(e.slice(4,6),e.slice(6,8),Ic.radius))/2,void 0!==(t=n?wc[n]:t.l())&&(e/=t)),e}function ut(t){t.forEach(ct),t.forEach(function(e){t.forEach(function(t){e!==t&&at(e,t,bt)})})}function ct(t){Ec[t.La]=t,at(t,t,bt)}function ft(t){return t?"string"==typeof t?dt(t):t:dt("EPSG:3857")}function pt(t){return function(e,i,n){var o=e.length;n=void 0!==n?n:2,i=void 0!==i?i:Array(o);var r;for(r=0;r<o;r+=n){var s=t([e[r],e[r+1]]);for(i[r]=s[0],i[r+1]=s[1],s=n-1;2<=s;--s)i[r+s]=e[r+s]}return i}}function dt(t){var e=null;if(t instanceof it)e=t;else if("string"==typeof t&&!(e=Ec[t]||null)){var i=window.proj4;"function"==typeof i&&void 0!==i.defs(t)&&(e=new it({code:t}),ct(e))}return e}function gt(t,e){if(t===e)return!0;var i=t.c===e.c;return t.La===e.La?i:mt(t,e)===bt&&i}function vt(t,e){return t=dt(t),e=dt(e),mt(t,e)}function mt(t,e){var i=t.La,n=e.La,o=lt(i,n);if(!o){var r=window.proj4;if("function"==typeof r){var s=r.defs(i),a=r.defs(n);void 0!==s&&void 0!==a&&(s===a?ut([e,t]):(r=r(n,i),o=r.forward,r=r.inverse,e=dt(e),t=dt(t),at(e,t,pt(o)),at(t,e,pt(r))),o=lt(i,n))}}return o||(o=yt),o}function yt(t,e){if(void 0!==e&&t!==e){for(var i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function bt(t,e){if(void 0!==e){for(var i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}else t=t.slice();return t}function wt(t,e,i){return vt(e,i)(t,void 0,t.length)}function xt(t,e,i){(e=vt(e,i))(t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],t,2),i=[t[0],t[2],t[4],t[6]];var n=[t[1],t[3],t[5],t[7]];return t=Math.min.apply(null,i),e=Math.min.apply(null,n),i=Math.max.apply(null,i),n=Math.max.apply(null,n),A(t,e,i,n,void 0)}function Mt(t,e){return t>e?1:t<e?-1:0}function St(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(0<i){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function Ct(t,e){var i=Array.isArray(e)?e:[e],n=i.length;for(e=0;e<n;e++)t[t.length]=i[e]}function Pt(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function jt(t){var e,i=br,n=t.length,o=Array(t.length);for(e=0;e<n;e++)o[e]={index:e,value:t[e]};for(o.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=o[e].value}function kt(t,e){var i=e||Mt;return t.every(function(e,n){return 0===n||!(0<(e=i(t[n-1],e))||0===e)})}function Et(t,e,i,n){return void 0!==n?(n[0]=t,n[1]=e,n[2]=i,n):[t,e,i]}function Tt(t){if(this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.a=t.resolutions,g(kt(this.a,function(t,e){return e-t}),17),!t.origins)for(var e=0,i=this.a.length-1;e<i;++e)if(n){if(this.a[e]/this.a[e+1]!==n){n=void 0;break}}else var n=this.a[e]/this.a[e+1];this.v=n,this.maxZoom=this.a.length-1,this.l=void 0!==t.origin?t.origin:null,this.j=null,void 0!==t.origins&&(this.j=t.origins,g(this.j.length==this.a.length,20)),void 0===(n=t.extent)||this.l||this.j||(this.l=U(n)),g(!this.l&&this.j||this.l&&!this.j,18),this.b=null,void 0!==t.tileSizes&&(this.b=t.tileSizes,g(this.b.length==this.a.length,19)),this.f=void 0!==t.tileSize?t.tileSize:this.b?null:256,g(!this.f&&this.b||this.f&&!this.b,22),this.o=void 0!==n?n:null,this.c=null,this.g=[0,0],void 0!==t.sizes?this.c=t.sizes.map(function(t){return new f(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):n&&Gt(this,n)}function It(t,e,i,n){e=(t=_t(t,e,i)).T;for(var o=t.W;e<=o;++e)for(var r=t.R,s=t.U;r<=s;++r)n([i,e,r])}function At(t,e,i,n,o){var r=null,s=e[0]-1;if(2===t.v)var a=e[1],l=e[2];else r=Rt(t,e,o);for(;s>=t.minZoom&&(2===t.v?(a=Math.floor(a/2),l=Math.floor(l/2),e=p(a,a,l,l,n)):e=_t(t,r,s,n),!i.call(null,s,e));)--s}function Nt(t,e){return t.l?t.l:t.j[e]}function Lt(t,e,i,n){return e[0]<t.maxZoom?2===t.v?(t=2*e[1],e=2*e[2],p(t,t+1,e,e+1,i)):(n=Rt(t,e,n),_t(t,n,e[0]+1,i)):null}function Ot(t,e,i){var n=Nt(t,e),o=t.a[e];return t=S(Ft(t,e),t.g),A(n[0]+i.T*t[0]*o,n[1]+i.R*t[1]*o,n[0]+(i.W+1)*t[0]*o,n[1]+(i.U+1)*t[1]*o,void 0)}function _t(t,e,i,n){qt(t,e[0],e[1],i,!1,Ac);var o=Ac[1],r=Ac[2];return qt(t,e[2],e[3],i,!0,Ac),p(o,Ac[1],r,Ac[2],n)}function Dt(t,e){var i=Nt(t,e[0]),n=t.a[e[0]];return t=S(Ft(t,e[0]),t.g),[i[0]+(e[1]+.5)*t[0]*n,i[1]+(e[2]+.5)*t[1]*n]}function Rt(t,e,i){var n=Nt(t,e[0]),o=t.a[e[0]];t=S(Ft(t,e[0]),t.g);var r=n[0]+e[1]*t[0]*o;return e=n[1]+e[2]*t[1]*o,A(r,e,r+t[0]*o,e+t[1]*o,i)}function qt(t,e,i,n,o,r){var s=Nt(t,n),a=t.a[n];return t=S(Ft(t,n),t.g),e=Math.floor((e-s[0])/a+(o?.5:0))/t[0],i=Math.floor((i-s[1])/a+(o?0:.5))/t[1],o?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),Et(n,e,i,r)}function Ft(t,e){return t.f?t.f:t.b[e]}function zt(t,e,i){return v(St(t.a,e,i||0),t.minZoom,t.maxZoom)}function Gt(t,e){for(var i=t.a.length,n=Array(i),o=t.minZoom;o<i;++o)n[o]=_t(t,e,o);t.c=n}function Bt(t){var e={};return bc(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=dt("EPSG:3857").I()),e.resolutions=Ut(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new Tt(e)}function Ut(t,e,i){e=void 0!==e?e:42;var n=G(t);for(t=W(t),i=S(void 0!==i?i:256),i=Math.max(t/i[0],n/i[1]),e+=1,n=Array(e),t=0;t<e;++t)n[t]=i/Math.pow(2,t);return n}function Wt(t,e,i){return t=Xt(t),e=Ut(t,e,i),new Tt({extent:t,origin:U(t),resolutions:e,tileSize:i})}function Xt(t){var e=(t=dt(t)).I();return e||(t=180*wc.degrees/t.l(),e=A(-t,-t,t,t)),e}function Vt(t){this.le=t.html}function Ht(t){return t.Rd=function(e){var i=t.listener,n=t.Qd||t.target;return t.Td&&te(t),i.call(n,e)}}function Yt(t,e,i,n){for(var o,r=0,s=t.length;r<s;++r)if((o=t[r]).listener===e&&o.Qd===i)return n&&(o.deleteIndex=r),o}function Zt(t,e){return(t=t.Ra)?t[e]:void 0}function $t(t){var e=t.Ra;return e||(e=t.Ra={}),e}function Jt(t,e){var i=Zt(t,e);if(i){for(var n=0,o=i.length;n<o;++n)t.removeEventListener(e,i[n].Rd),H(i[n]);i.length=0,(i=t.Ra)&&(delete i[e],0===Object.keys(i).length&&delete t.Ra)}}function Kt(t,e,i,n,o){var r=$t(t),s=r[e];return s||(s=r[e]=[]),(r=Yt(s,i,n,!1))?o||(r.Td=!1):(r={Qd:n,Td:!!o,listener:i,target:t,type:e},t.addEventListener(e,Ht(r)),s.push(r)),r}function Qt(t,e,i,n){(t=Zt(t,e))&&(i=Yt(t,i,n,!0))&&te(i)}function te(t){if(t&&t.target){t.target.removeEventListener(t.type,t.Rd);var e=Zt(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&Jt(t.target,t.type)}H(t)}}function ee(){}function ie(t){t.$a||(t.$a=!0,t.ca())}function ne(t){this.type=t,this.target=null}function oe(t){t.stopPropagation()}function re(){this.Ga={},this.Ca={},this.ia={}}function se(t,e){return e?e in t.ia:0<Object.keys(t.ia).length}function ae(){re.call(this),this.j=0}function le(t){ae.call(this),u(this),this.H={},void 0!==t&&this.na(t)}function he(t){return Nc.hasOwnProperty(t)?Nc[t]:Nc[t]="change:"+t}function ue(t,e,i){var n=he(e);t.l(new ce(n,e,i)),t.l(new ce("propertychange",e,i))}function ce(t,e,i){ne.call(this,t),this.key=e,this.oldValue=i}function fe(t,e){if(le.call(this),this.b=!!(e||{}).unique,this.a=t||[],this.b)for(t=0,e=this.a.length;t<e;++t)ve(this,this.a[t],t);ge(this)}function pe(t,e){var i,n=0;for(i=e.length;n<i;++n)t.push(e[n])}function de(t,e){var i=t.a[e];return t.a.splice(e,1),ge(t),t.l(new me("remove",i)),i}function ge(t){t.set(Lc,t.a.length)}function ve(t,e,i){for(var n=0,o=t.a.length;n<o;++n)if(t.a[n]===e&&n!==i)throw new c(58)}function me(t,e){ne.call(this,t),this.element=e}function ye(t,e,i){ne.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function be(t,e,i,n,o){ye.call(this,t,e,o),this.originalEvent=i,this.pixel=kn(e,i),this.coordinate=e.Ja(this.pixel),this.dragging=void 0!==n&&n}function we(t,e,i,n,o){be.call(this,t,e,i.a,n,o),this.a=i}function xe(t,e){this.a=t,this.b=e}function Me(t){xe.call(this,t,{mousedown:this.mh,mousemove:this.nh,mouseup:this.qh,mouseover:this.ph,mouseout:this.oh}),this.c=t.c,this.l=[]}function Se(t,e){t=t.l;var i=e.clientX;e=e.clientY;for(var n,o=0,r=t.length;o<r&&(n=t[o]);o++){var s=Math.abs(e-n[1]);if(25>=Math.abs(i-n[0])&&25>=s)return!0}return!1}function Ce(t){var e=Fe(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function Pe(t){xe.call(this,t,{MSPointerDown:this.vh,MSPointerMove:this.wh,MSPointerUp:this.zh,MSPointerOut:this.xh,MSPointerOver:this.yh,MSPointerCancel:this.uh,MSGotPointerCapture:this.sh,MSLostPointerCapture:this.th}),this.c=t.c,this.l=["","unavailable","touch","pen","mouse"]}function je(t,e){var i=e;return"number"==typeof e.pointerType&&(i=Fe(e,e),i.pointerType=t.l[e.pointerType]),i}function ke(t){xe.call(this,t,{pointerdown:this.Bi,pointermove:this.Ci,pointerup:this.Fi,pointerout:this.Di,pointerover:this.Ei,pointercancel:this.Ai,gotpointercapture:this.Hg,lostpointercapture:this.jh})}function Ee(t,e,i){ne.call(this,t),this.a=e,t=i||{},this.buttons=Te(t),this.pressure=Ie(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.ctrlKey="ctrlKey"in t&&t.ctrlKey,this.altKey="altKey"in t&&t.altKey,this.shiftKey="shiftKey"in t&&t.shiftKey,this.metaKey="metaKey"in t&&t.metaKey,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.tiltX="tiltX"in t?t.tiltX:0,this.tiltY="tiltY"in t?t.tiltY:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function Te(t){if(t.buttons||Vc)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function Ie(t,e){return t.pressure?t.pressure:e?.5:0}function Ae(t,e){xe.call(this,t,{touchstart:this.mj,touchmove:this.lj,touchend:this.kj,touchcancel:this.jj}),this.c=t.c,this.f=e,this.l=void 0,this.g=0,this.j=void 0}function Ne(t,e,i){return e=Fe(e,i),e.pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.g,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.l===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function Le(t,e,i){var n,o=Array.prototype.slice.call(e.changedTouches),r=o.length;for(n=0;n<r;++n){var s=Ne(t,e,o[n]);s.preventDefault=function(){e.preventDefault()},i.call(t,e,s)}}function Oe(t,e){var i=t.f.l;if(e=e.changedTouches[0],t.l===e.identifier){var n=[e.clientX,e.clientY];i.push(n),setTimeout(function(){var t=i.indexOf(n);-1<t&&i.splice(t,1)},2500)}}function _e(t){re.call(this),this.g=t,this.c={},this.b={},this.a=[],Uc?De(this,new ke(this)):Wc?De(this,new Pe(this)):(t=new Me(this),De(this,t),Bc&&De(this,new Ae(this,t))),t=this.a.length;for(var e,i=0;i<t;i++)e=this.a[i],Re(this,Object.keys(e.b))}function De(t,e){var i=Object.keys(e.b);i&&(i.forEach(function(t){var i=e.b[t];i&&(this.b[t]=i.bind(e))},t),t.a.push(e))}function Re(t,e){e.forEach(function(t){Kt(this.g,t,this.j,this)},t)}function qe(t,e){e.forEach(function(t){Qt(this.g,t,this.j,this)},t)}function Fe(t,e){for(var i,n={},o=0,r=Hc.length;o<r;o++)i=Hc[o][0],n[i]=t[i]||e[i]||Hc[o][1];return n}function ze(t,e,i){e.bubbles=!1,Ue(t,"pointerleave",e,i)}function Ge(t,e,i){t.out(e,i);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||ze(t,e,i)}function Be(t,e,i){e.bubbles=!0,Ue(t,"pointerover",e,i);var n=e.target,o=e.relatedTarget;n&&o&&n.contains(o)||(e.bubbles=!1,Ue(t,"pointerenter",e,i))}function Ue(t,e,i,n){t.l(new Ee(e,n,i))}function We(t,e){t.l(new Ee(e.type,e,e))}function Xe(t,e){re.call(this),this.c=t,this.f=0,this.v=!1,this.b=[],this.B=e?e*Fc:Fc,this.j=null,t=this.c.a,this.C=0,this.H={},this.g=new _e(t),this.a=null,this.i=Kt(this.g,"pointerdown",this.Tg,this),this.o=Kt(this.g,"pointermove",this.Xi,this)}function Ve(t,e){var i=new we("click",t.c,e);t.l(i),0!==t.f?(clearTimeout(t.f),t.f=0,i=new we("dblclick",t.c,e),t.l(i)):t.f=setTimeout(function(){this.f=0;var t=new we("singleclick",this.c,e);this.l(t)}.bind(t),250)}function He(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.H[e.pointerId]:"pointerdown"==e.type&&(t.H[e.pointerId]=!0),t.C=Object.keys(t.H).length}function Ye(t,e){return Math.abs(e.clientX-t.j.clientX)>t.B||Math.abs(e.clientY-t.j.clientY)>t.B}function Ze(t,e){this.i=t,this.j=e,this.a=[],this.c=[],this.l={}}function $e(t,e){for(var i=t.a,n=t.c,o=i.length,r=i[e],s=n[e],a=e;e<o>>1;){var l=2*e+1,h=2*e+2;l=h<o&&n[h]<n[l]?h:l,i[e]=i[l],n[e]=n[l],e=l}i[e]=r,n[e]=s,Je(t,a,e)}function Je(t,e,i){var n=t.a;t=t.c;for(var o=n[i],r=t[i];i>e;){var s=i-1>>1;if(!(t[s]>r))break;n[i]=n[s],t[i]=t[s],i=s}n[i]=o,t[i]=r}function Ke(t,e){Ze.call(this,function(e){return t.apply(null,e)},function(t){return t[0].Sa()}),this.o=e,this.g=0,this.b={}}function Qe(t){return function(e){if(e)return[v(e[0],t[0],t[2]),v(e[1],t[1],t[3])]}}function ti(t){return t}function ei(t){return function(e,i,n){if(void 0!==e)return e=St(t,e,n),e=v(e+i,0,t.length-1),i=Math.floor(e),e!=i&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]}}function ii(t,e,i){return function(n,o,r){if(void 0!==n)return n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-r/2+.5))+o,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)}}function ni(t){if(void 0!==t)return 0}function oi(t,e){if(void 0!==t)return t+e}function ri(t){var e=2*Math.PI/t;return function(t,i){if(void 0!==t)return t=Math.floor((t+i)/e+.5)*e}}function si(){var t=y(5);return function(e,i){if(void 0!==e)return Math.abs(e+i)<=t?0:e+i}}function ai(t){var e=(t=""+t).indexOf(".");return 2<(e=-1===e?t.length:e)?t:Array(3-e).join("0")+t}function li(t,e){t[0]+=e[0],t[1]+=e[1]}function hi(t,e){var i=e.Jb(),n=e.ja();e=n[0],n=n[1];var o=t[0]-e;t=t[1]-n,0===o&&0===t&&(o=1);var r=Math.sqrt(o*o+t*t);return[e+i*o/r,n+i*t/r]}function ui(t,e){var i=t[0];t=t[1];var n=e[0],o=e[1];e=n[0],n=n[1];var r=o[0],s=r-e,a=(o=o[1])-n;return 0>=(i=0===s&&0===a?0:(s*(i-e)+a*(t-n))/(s*s+a*a||0))?(t=e,i=n):1<=i?(t=r,i=o):(t=e+i*s,i=n+i*a),[t,i]}function ci(t,e){for(var i=!0,n=t.length-1;0<=n;--n)if(t[n]!=e[n]){i=!1;break}return i}function fi(t,e){var i=Math.cos(e);e=Math.sin(e);var n=t[1]*i+t[0]*e;t[0]=t[0]*i-t[1]*e,t[1]=n}function pi(t,e){t[0]*=e,t[1]*=e}function di(t,e){var i=t[0]-e[0];return t=t[1]-e[1],i*i+t*t}function gi(t,e){return Math.sqrt(di(t,e))}function vi(t,e){return di(t,ui(t,e))}function mi(t){return 1-Math.pow(1-t,3)}function yi(t){return 3*t*t-2*t*t*t}function bi(t){return t}function wi(){return!0}function xi(){return!1}function Mi(t,e,i,n,o,r){for(var s=r||[],a=0;e<i;e+=n){var l=t[e],h=t[e+1];s[a++]=o[0]*l+o[2]*h+o[4],s[a++]=o[1]*l+o[3]*h+o[5]}return r&&s.length!=a&&(s.length=a),s}function Si(){return[1,0,0,1,0,0]}function Ci(t,e){var i=t[0],n=t[1],o=t[2],r=t[3],s=t[4],a=t[5],l=e[0],h=e[1],u=e[2],c=e[3],f=e[4];e=e[5],t[0]=i*l+o*h,t[1]=n*l+r*h,t[2]=i*u+o*c,t[3]=n*u+r*c,t[4]=i*f+o*e+s,t[5]=n*f+r*e+a}function Pi(t,e,i,n,o){return t[0]=e,t[1]=0,t[2]=0,t[3]=i,t[4]=n,t[5]=o,t}function ji(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ki(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function Ei(t,e,i,n,o,r,s,a){var l=Math.sin(r);return r=Math.cos(r),t[0]=n*r,t[1]=o*l,t[2]=-n*l,t[3]=o*r,t[4]=s*n*r-a*n*l+e,t[5]=s*o*l+a*o*r+i,t}function Ti(){le.call(this),this.C=I(),this.B=-1,this.g={},this.o=this.f=0,this.X=Si()}function Ii(){Ti.call(this),this.V="XY",this.a=2,this.s=null}function Ai(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Ni(t,e,i){t.a=Ai(e),t.V=e,t.s=i}function Li(t,e,i,n){if(e)i=Ai(e);else{for(e=0;e<n;++e){if(0===i.length)return t.V="XY",void(t.a=2);i=i[0]}var o;2==(i=i.length)?o="XY":3==i?o="XYZ":4==i&&(o="XYZM"),e=o}t.V=e,t.a=i}function Oi(t,e,i,n){var o,r=0,s=0;for(o=i.length;s<o;++s){for(var a=i[s],l=0,h=t[a-n],u=t[a-n+1];e<a;e+=n){var c=t[e],f=t[e+1];l+=u*c-h*f,h=c,u=f}r+=l/2,e=a}return r}function _i(t,e,i,n,o,r,s){var a=t[e],l=t[e+1],h=t[i]-a,u=t[i+1]-l;if(0!==h||0!==u)if(1<(r=((o-a)*h+(r-l)*u)/(h*h+u*u)))e=i;else if(0<r){for(o=0;o<n;++o)s[o]=w(t[e+o],t[i+o],r);return void(s.length=n)}for(o=0;o<n;++o)s[o]=t[e+o];s.length=n}function Di(t,e,i,n,o){var r=t[e],s=t[e+1];for(e+=n;e<i;e+=n){var a=t[e],l=t[e+1];(r=m(r,s,a,l))>o&&(o=r),r=a,s=l}return o}function Ri(t,e,i,n,o){var r,s=0;for(r=i.length;s<r;++s){var a=i[s];o=Di(t,e,a,n,o),e=a}return o}function qi(t,e,i,n,o,r,s,a,l,h,u){if(e==i)return h;if(0===o){var c=m(s,a,t[e],t[e+1]);if(c<h){for(u=0;u<n;++u)l[u]=t[e+u];return l.length=n,c}return h}for(var f=u||[NaN,NaN],p=e+n;p<i;)if(_i(t,p-n,p,n,s,a,f),(c=m(s,a,f[0],f[1]))<h){for(h=c,u=0;u<n;++u)l[u]=f[u];l.length=n,p+=n}else p+=n*Math.max((Math.sqrt(c)-Math.sqrt(h))/o|0,1);if(r&&(_i(t,i-n,e,n,s,a,f),(c=m(s,a,f[0],f[1]))<h)){for(h=c,u=0;u<n;++u)l[u]=f[u];l.length=n}return h}function Fi(t,e,i,n,o,r,s,a,l,h,u){u=u||[NaN,NaN];var c,f=0;for(c=i.length;f<c;++f){var p=i[f];h=qi(t,e,p,n,o,r,s,a,l,h,u),e=p}return h}function zi(t,e){var i,n=0,o=0;for(i=e.length;o<i;++o)t[n++]=e[o];return n}function Gi(t,e,i,n){var o,r=0;for(o=i.length;r<o;++r){var s,a=i[r];for(s=0;s<n;++s)t[e++]=a[s]}return e}function Bi(t,e,i,n,o){o=o||[];var r,s=0,a=0;for(r=i.length;a<r;++a)e=Gi(t,e,i[a],n),o[s++]=e;return o.length=s,o}function Ui(t,e,i,n,o){o=void 0!==o?o:[];for(var r=0;e<i;e+=n)o[r++]=t.slice(e,e+n);return o.length=r,o}function Wi(t,e,i,n,o){o=void 0!==o?o:[];var r,s=0,a=0;for(r=i.length;a<r;++a){var l=i[a];o[s++]=Ui(t,e,l,n,o[s]),e=l}return o.length=s,o}function Xi(t,e,i,n,o){o=void 0!==o?o:[];var r,s=0,a=0;for(r=i.length;a<r;++a){var l=i[a];o[s++]=Wi(t,e,l,n,o[s]),e=l[l.length-1]}return o.length=s,o}function Vi(t,e,i,n,o,r,s){var a=(i-e)/n;if(3>a){for(;e<i;e+=n)r[s++]=t[e],r[s++]=t[e+1];return s}var l=Array(a);l[0]=1,l[a-1]=1,i=[e,i-n];for(var h,u=0;0<i.length;){var c=i.pop(),f=i.pop(),p=0,d=t[f],g=t[f+1],v=t[c],y=t[c+1];for(h=f+n;h<c;h+=n){var b=t[h],w=t[h+1],x=d,M=g,S=v-x,C=y-M;if(0!==S||0!==C){var P=((b-x)*S+(w-M)*C)/(S*S+C*C);1<P?(x=v,M=y):0<P&&(x+=S*P,M+=C*P)}(b=m(b,w,x,M))>p&&(u=h,p=b)}p>o&&(l[(u-e)/n]=1,f+n<u&&i.push(f,u),u+n<c&&i.push(u,c))}for(h=0;h<a;++h)l[h]&&(r[s++]=t[e+h*n],r[s++]=t[e+h*n+1]);return s}function Hi(t,e,i,n,o,r,s,a){var l,h=0;for(l=i.length;h<l;++h){var u=i[h];t:{var c=t,f=u,p=n,d=o,g=r,v=s;if(e!=f){var m=d*Math.round(c[e]/d),y=d*Math.round(c[e+1]/d);e+=p,g[v++]=m,g[v++]=y;do{var b=d*Math.round(c[e]/d);if(s=d*Math.round(c[e+1]/d),(e+=p)==f){g[v++]=b,g[v++]=s,s=v;break t}}while(b==m&&s==y);for(;e<f;){var w=d*Math.round(c[e]/d),x=d*Math.round(c[e+1]/d);if(e+=p,w!=b||x!=s){var M=b-m,S=s-y,C=w-m,P=x-y;M*P==S*C&&(0>M&&C<M||M==C||0<M&&C>M)&&(0>S&&P<S||S==P||0<S&&P>S)||(g[v++]=b,g[v++]=s,m=b,y=s),b=w,s=x}}g[v++]=b,g[v++]=s}s=v}a.push(s),e=u}return s}function Yi(t,e){Ii.call(this),this.b=this.i=-1,this.Y(t,e)}function Zi(t,e,i){Ni(t,e,i),t.c()}function $i(t,e){Ii.call(this),this.Y(t,e)}function Ji(t,e,i,n,o,r){for(var s=0,a=t[i-n],l=t[i-n+1];e<i;e+=n){var h=t[e],u=t[e+1];l<=r?u>r&&0<(h-a)*(r-l)-(o-a)*(u-l)&&s++:u<=r&&0>(h-a)*(r-l)-(o-a)*(u-l)&&s--,a=h,l=u}return 0!==s}function Ki(t,e,i,n,o,r,s){var a,l=o[r+1],h=[],u=i[0],c=t[u-n],f=t[u-n+1];for(a=e;a<u;a+=n){var p=t[a],d=t[a+1];(l<=f&&d<=l||f<=l&&l<=d)&&(c=(l-f)/(d-f)*(p-c)+c,h.push(c)),c=p,f=d}for(u=NaN,f=-1/0,h.sort(Mt),c=h[0],a=1,d=h.length;a<d;++a){p=h[a];var g=Math.abs(p-c);if(g>f){c=(c+p)/2;var v;t:if(0!==i.length&&Ji(t,e,i[0],n,c,l)){var m=1;for(v=i.length;m<v;++m)if(Ji(t,i[m-1],i[m],n,c,l)){v=!1;break t}v=!0}else v=!1;v&&(u=c,f=g)}c=p}return isNaN(u)&&(u=o[r]),s?(s.push(u,l,f),s):[u,l,f]}function Qi(t,e,i,n){for(var o=0,r=t[i-n],s=t[i-n+1];e<i;e+=n){var a=t[e],l=t[e+1];o+=(a-r)*(l+s),r=a,s=l}return 0<o}function tn(t,e,i,n){var o=0;n=void 0!==n&&n;var r,s=0;for(r=e.length;s<r;++s){var a=e[s];if(o=Qi(t,o,a,i),0===s){if(n&&o||!n&&!o)return!1}else if(n&&!o||!n&&o)return!1;o=a}return!0}function en(t,e,i,n,o){o=void 0!==o&&o;var r,s=0;for(r=i.length;s<r;++s){var a=i[s],l=Qi(t,e,a,n);if(0===s?o&&l||!o&&!l:o&&!l||!o&&l){l=t;for(var h=a,u=n;e<h-u;){var c;for(c=0;c<u;++c){var f=l[e+c];l[e+c]=l[h-u+c],l[h-u+c]=f}e+=u,h-=u}}e=a}return e}function nn(t,e,i,n){var o,r=0,s=0;for(o=e.length;s<o;++s)r=en(t,r,e[s],i,n);return r}function on(t,e){Ii.call(this),this.b=[],this.u=-1,this.A=null,this.M=this.J=this.K=-1,this.i=null,this.Y(t,e)}function rn(t){var e,i=t.V,n=t.s,o=[],r=0,s=0;for(e=(t=t.b).length;s<e;++s){var a=t[s],l=new Yi(null);Zi(l,i,n.slice(r,a)),o.push(l),r=a}return o}function sn(t){var e=t[0],i=t[1],n=t[2];return t=t[3],e=[e,i,e,t,n,t,n,i,e,i],(i=new on(null)).N("XY",e,[e.length]),i}function an(t){le.call(this),t=bc({},t),this.a=[0,0],this.g=[],this.Bc=this.Bc.bind(this),this.u=ft(t.projection);var e={};e.center=void 0!==t.center?t.center:null;var i=void 0!==t.minZoom?t.minZoom:0,n=void 0!==t.maxZoom?t.maxZoom:28,o=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var r=(n=t.resolutions)[0],s=n[n.length-1];n=ei(n)}else{var a=((s=(r=ft(t.projection)).I())?Math.max(W(s),G(s)):360*wc.degrees/r.l())/256/Math.pow(2,0),l=a/Math.pow(2,28);void 0!==(r=t.maxResolution)?i=0:r=a/Math.pow(o,i),void 0===(s=t.minResolution)&&(s=void 0!==t.maxZoom?void 0!==t.maxResolution?r/Math.pow(o,n):a/Math.pow(o,n):l),n=i+Math.floor(Math.log(r/s)/Math.log(o)),s=r/Math.pow(o,n-i),n=ii(o,r,n-i)}this.f=r,this.B=s,this.A=o,this.i=t.resolutions,this.o=i,(void 0!==t.enableRotation?t.enableRotation:1)?(i=t.constrainRotation,i=void 0===i||!0===i?si():!1===i?oi:"number"==typeof i?ri(i):oi):i=ni,this.b={center:void 0!==t.extent?Qe(t.extent):ti,resolution:n,rotation:i},void 0!==t.resolution?e.resolution=t.resolution:void 0!==t.zoom&&(e.resolution=this.constrainResolution(this.f,t.zoom-this.o)),e.rotation=void 0!==t.rotation?t.rotation:0,this.na(e)}function ln(t){vn(t,0,-t.a[0]);for(var e=0,i=t.g.length;e<i;++e){var n=t.g[e];n[0].callback&&n[0].callback(!1)}t.g.length=0}function hn(t,e,i){var n=t.ja();if(void 0!==n){var o=[n[0]-i[0],n[1]-i[1]];fi(o,e-pn(t)),li(o,i)}return o}function un(t,e,i){var n,o=t.ja();return t=t.za(),void 0!==o&&void 0!==t&&(n=[i[0]-e*(i[0]-o[0])/t,i[1]-e*(i[1]-o[1])/t]),n}function cn(t){var e=[100,100];return t='.ol-viewport[data-view="'+u(t)+'"]',(t=document.querySelector(t))&&(t=getComputedStyle(t),e[0]=parseInt(t.width,10),e[1]=parseInt(t.height,10)),e}function fn(t,e,i){return t=i||cn(t),Math.max(W(e)/t[0],G(e)/t[1])}function pn(t){return t.get("rotation")}function dn(t){var e=t.ja(),i=t.u,n=t.za(),o=pn(t);return{center:e.slice(),projection:void 0!==i?i:null,resolution:n,rotation:o,zoom:t.ge()}}function gn(t){return!!t.ja()&&void 0!==t.za()}function vn(t,e,i){t.a[e]+=i,t.c()}function mn(t,e){t.set("resolution",e),0<t.a[0]&&ln(t)}function yn(t,e){t.set("rotation",e),0<t.a[0]&&ln(t)}function bn(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function wn(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function xn(t){le.call(this);var e=bc({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0===t.visible||t.visible,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,this.na(e),this.a={layer:this,fd:!0}}function Mn(t){return t.a.opacity=v(t.get("opacity"),0,1),t.a.ij=t.bd(),t.a.visible=t.Hb(),t.a.extent=t.I(),t.a.zIndex=t.sa(),t.a.maxResolution=t.get("maxResolution"),t.a.minResolution=Math.max(t.get("minResolution"),0),t.a}function Sn(t){var e=t||{};delete(t=bc({},e)).layers,e=e.layers,xn.call(this,t),this.g=[],this.b={},Kt(this,he(Zc),this.Ng,this),e?Array.isArray(e)?e=new fe(e.slice(),{unique:!0}):g(e instanceof fe,43):e=new fe(void 0,{unique:!0}),this.set(Zc,e)}function Cn(t,e){switch(t){case"MAP_RENDERER":(t=$c).push(e);break;case"LAYER_RENDERER":(t=Jc).push(e);break;default:throw Error("Unsupported plugin type: "+t)}}function Pn(){for(var t=[dr,Mr,os,rs],e=0,i=t.length;e<i;++e)Cn("LAYER_RENDERER",t[e])}function jn(t){le.call(this);var e=An(t);this.qb=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.rb=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.Dc=void 0!==t.pixelRatio?t.pixelRatio:Fc,this.Fc=e.logos,this.Ha=function(){this.o=void 0,this.bj.call(this,Date.now())}.bind(this),this.Ka=Si(),this.Jc=Si(),this.pb=0,this.A=this.J=this.K=this.f=this.b=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(Bc?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.u=document.createElement("DIV"),this.u.className="ol-overlaycontainer",this.a.appendChild(this.u),this.B=document.createElement("DIV"),this.B.className="ol-overlaycontainer-stopevent";for(var i="click dblclick mousedown touchstart MSPointerDown pointerdown mousewheel wheel".split(" "),n=0,o=i.length;n<o;++n)Kt(this.B,i[n],oe);this.a.appendChild(this.B),this.fa=new Xe(this,t.moveTolerance);for(var r in Xc)Kt(this.fa,Xc[r],this.ie,this);this.ea=e.keyboardEventTarget,this.C=null,Kt(this.a,"wheel",this.vb,this),Kt(this.a,"mousewheel",this.vb,this),this.controls=e.controls||new fe,this.interactions=e.interactions||new fe,this.i=e.overlays,this.Ue={},this.jb=e.kh.create(this.a,this),this.M=null,this.la=[],this.xa=new Ke(this.Gg.bind(this),this.dh.bind(this)),this.X={},Kt(this,he("layergroup"),this.Kg,this),Kt(this,he("view"),this.fh,this),Kt(this,he("size"),this.Xg,this),Kt(this,he("target"),this.bh,this),this.na(e.values),this.controls.forEach(function(t){t.setMap(this)},this),Kt(this.controls,"add",function(t){t.element.setMap(this)},this),Kt(this.controls,"remove",function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)},this),Kt(this.interactions,"add",function(t){t.element.setMap(this)},this),Kt(this.interactions,"remove",function(t){t.element.setMap(null)},this),this.i.forEach(this.Pd,this),Kt(this.i,"add",function(t){this.Pd(t.element)},this),Kt(this.i,"remove",function(t){var e=t.element.id;void 0!==e&&delete this.Ue[e.toString()],t.element.setMap(null)},this)}function kn(t,e){return t=t.a.getBoundingClientRect(),e=e.changedTouches?e.changedTouches[0]:e,[e.clientX-t.left,e.clientY-t.top]}function En(t){return void 0!==(t=t.cd())?"string"==typeof t?document.getElementById(t):t:null}function Tn(t){return t.get("layergroup")}function In(t,e){return(t=t.b)?ki(t.coordinateToPixelTransform,e.slice(0,2)):null}function An(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var o=t.logo;"string"==typeof o?n[o]="":o instanceof HTMLElement?n[u(o).toString()]=o:o&&(g("string"==typeof o.href,44),g("string"==typeof o.src,45),n[o.src]=o.href)}o=t.layers instanceof Sn?t.layers:new Sn({layers:t.layers}),i.layergroup=o,i.target=t.target,i.view=void 0!==t.view?t.view:new an;var r;void 0!==t.renderer?(Array.isArray(t.renderer)?r=t.renderer:"string"==typeof t.renderer?r=[t.renderer]:g(!1,46),0<=r.indexOf("dom")&&(r=r.concat(Kc))):r=Kc,o=0;var s=r.length;t:for(;o<s;++o)for(var a=r[o],l=0,h=$c.length;l<h;++l){var c=$c[l];if(c.handles(a)){var f=c;break t}}if(!f)throw Error("Unable to create a map renderer for types: "+r.join(", "));if(void 0!==t.controls)if(Array.isArray(t.controls))var p=new fe(t.controls.slice());else g(t.controls instanceof fe,47),p=t.controls;if(void 0!==t.interactions)if(Array.isArray(t.interactions))var d=new fe(t.interactions.slice());else g(t.interactions instanceof fe,48),d=t.interactions;return void 0!==t.overlays?Array.isArray(t.overlays)?t=new fe(t.overlays.slice()):(g(t.overlays instanceof fe,49),t=t.overlays):t=new fe,{controls:p,interactions:d,keyboardEventTarget:e,logos:n,overlays:t,kh:f,values:i}}function Nn(t){le.call(this),this.element=t.element?t.element:null,this.g=this.J=null,this.C=[],this.render=t.render?t.render:h,t.target&&(t=t.target,this.J="string"==typeof t?document.getElementById(t):t)}function Ln(t){var e=bc({},t);delete e.source,xn.call(this,e),this.C=this.f=this.g=null,t.map&&this.setMap(t.map),Kt(this,he("source"),this.$g,this),this.lf(t.source?t.source:null)}function On(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function _n(t){t=t||{},this.i=document.createElement("UL"),this.f=document.createElement("LI"),this.i.appendChild(this.f),this.f.style.display="none",this.a=void 0===t.collapsed||t.collapsed,this.b=void 0===t.collapsible||t.collapsible,this.b||(this.a=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"";"string"==typeof n?(this.o=document.createElement("span"),this.o.textContent=n):this.o=n,"string"==typeof(n=void 0!==t.label?t.label:"i")?(this.B=document.createElement("span"),this.B.textContent=n):this.B=n;var o=this.b&&!this.a?this.o:this.B;(n=document.createElement("button")).setAttribute("type","button"),n.title=i,n.appendChild(o),Kt(n,"click",this.M,this),(i=document.createElement("div")).className=e+" ol-unselectable ol-control"+(this.a&&this.b?" ol-collapsed":"")+(this.b?"":" ol-uncollapsible"),i.appendChild(this.i),i.appendChild(n),Nn.call(this,{element:i,render:t.render?t.render:Dn,target:t.target}),this.A=[],this.u=!0,this.K={}}function Dn(t){if(t=t.frameState){for(var e={},i=[],n=t.layerStatesArray,o=t.viewState.resolution,r=0,s=n.length;r<s;++r){var a=n[r];if(On(a,o)&&(a=a.layer.$())&&(a=a.ea)&&(a=a(t)))if(Array.isArray(a))for(var l=0,h=a.length;l<h;++l)a[l]in e||(i.push(a[l]),e[a[l]]=!0);else a in e||(i.push(a),e[a]=!0)}if(!Pt(i,this.A)){for(;this.i.lastChild!==this.f;)this.i.removeChild(this.i.lastChild);for(e=0,n=i.length;e<n;++e)o=document.createElement("LI"),o.innerHTML=i[e],this.i.appendChild(o);0===i.length&&0<this.A.length?this.element.classList.add("ol-logo-only"):0===this.A.length&&0<i.length&&this.element.classList.remove("ol-logo-only"),e=0<i.length||!Z(t.logos),this.u!=e&&(this.element.style.display=e?"":"none",this.u=e),this.A=i,t=t.logos,i=this.K;for(c in i)c in t||(wn(i[c]),delete i[c]);for(var u in t)if((n=t[u])instanceof HTMLElement&&(this.f.appendChild(n),i[u]=n),!(u in i)){var c=new Image;c.src=u,""===n?e=c:(e=document.createElement("a"),e.href=n,e.appendChild(c)),this.f.appendChild(e),i[u]=e}this.f.style.display=Z(t)?"none":""}}else this.u&&(this.element.style.display="none",this.u=!1)}function Rn(t){if(t.element.classList.toggle("ol-collapsed"),t.a){var e=t.B,i=e.parentNode;i&&i.replaceChild(t.o,e)}else e=t.o,(i=e.parentNode)&&i.replaceChild(t.B,e);t.a=!t.a}function qn(t){var e=void 0!==(t=t||{}).className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"";this.a=null,"string"==typeof i?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=i):(this.a=i,this.a.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation";(i=document.createElement("button")).className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.a),Kt(i,"click",qn.prototype.B,this),(n=document.createElement("div")).className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:Fn,this.f=t.resetNorth?t.resetNorth:void 0,Nn.call(this,{element:n,render:e,target:t.target}),this.i=void 0!==t.duration?t.duration:250,this.b=void 0===t.autoHide||t.autoHide,this.o=void 0,this.b&&this.element.classList.add("ol-hidden")}function Fn(t){if(t=t.frameState){if((t=t.viewState.rotation)!=this.o){var e="rotate("+t+"rad)";if(this.b){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=e,this.a.style.webkitTransform=e,this.a.style.transform=e}this.o=t}}function zn(t){var e=void 0!==(t=t||{}).className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",o=void 0!==t.zoomOutLabel?t.zoomOutLabel:"",r=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",s=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=r,a.appendChild("string"==typeof n?document.createTextNode(n):n),Kt(a,"click",zn.prototype.b.bind(this,i)),(n=document.createElement("button")).className=e+"-out",n.setAttribute("type","button"),n.title=s,n.appendChild("string"==typeof o?document.createTextNode(o):o),Kt(n,"click",zn.prototype.b.bind(this,-i)),(i=document.createElement("div")).className=e+" ol-unselectable ol-control",i.appendChild(a),i.appendChild(n),Nn.call(this,{element:i,target:t.target}),this.a=void 0!==t.duration?t.duration:250}function Gn(t){t=t||{};var e=new fe;return(void 0!==t.zoom?t.zoom:1)&&e.push(new zn(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new qn(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new _n(t.attributionOptions)),e}function Bn(){this.a=[],this.c=this.l=0}function Un(t){t.a.length=0,t.l=0,t.c=0}function Wn(t){if(6>t.a.length)return!1;var e=Date.now()-100,i=t.a.length-3;if(t.a[i+2]<e)return!1;for(var n=i-3;0<n&&t.a[n+2]>e;)n-=3;if((e=t.a[i+2]-t.a[n+2])<1e3/60)return!1;var o=t.a[i]-t.a[n];return i=t.a[i+1]-t.a[n+1],t.l=Math.atan2(i,o),t.c=Math.sqrt(o*o+i*i)/e,.05<t.c}function Xn(t){le.call(this),this.C=null,this.gb(!0),this.handleEvent=t.handleEvent}function Vn(t,e,i,n){if(void 0!==e){var o=pn(t),r=t.ja();void 0!==o&&r&&0<n?t.animate({rotation:e,anchor:i,duration:n,easing:mi}):t.rotate(e,i)}}function Hn(t,e,i,n){var o=t.za();if(e=t.constrainResolution(o,e,0),i&&void 0!==e&&e!==o){var r=t.ja();i=un(t,e,i),i=t.b.center(i),i=[(e*r[0]-o*i[0])/(e-o),(e*r[1]-o*i[1])/(e-o)]}Yn(t,e,i,n)}function Yn(t,e,i,n){if(e){var o=t.za(),r=t.ja();void 0!==o&&r&&e!==o&&n?t.animate({resolution:e,anchor:i,duration:n,easing:mi}):(i&&(i=un(t,e,i),t.Oa(i)),mn(t,e))}}function Zn(t){t=t||{},this.a=t.delta?t.delta:1,Xn.call(this,{handleEvent:$n}),this.b=void 0!==t.duration?t.duration:250}function $n(t){var e=!1,i=t.originalEvent;return"dblclick"==t.type&&(e=t.coordinate,i=i.shiftKey?-this.a:this.a,Hn(t.map.Z(),i,e,this.b),t.preventDefault(),e=!0),!e}function Jn(t){return(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Kn(t){return 0==(t=t.originalEvent).button&&!(Rc&&qc&&t.ctrlKey)}function Qn(t){return"singleclick"==t.type}function to(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function eo(t){return!(t=t.originalEvent).altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function io(t){return"INPUT"!==(t=t.originalEvent.target.tagName)&&"SELECT"!==t&&"TEXTAREA"!==t}function no(t){return g(t.a,56),"mouse"==t.a.pointerType}function oo(t){return(t=t.a).isPrimary&&0===t.button}function ro(t){t=t||{},Xn.call(this,{handleEvent:t.handleEvent?t.handleEvent:ao}),this.Jc=t.handleDownEvent?t.handleDownEvent:xi,this.eg=t.handleDragEvent?t.handleDragEvent:h,this.fg=t.handleMoveEvent?t.handleMoveEvent:h,this.pg=t.handleUpEvent?t.handleUpEvent:xi,this.B=!1,this.X={},this.g=[]}function so(t){for(var e=t.length,i=0,n=0,o=0;o<e;o++)i+=t[o].clientX,n+=t[o].clientY;return[i/e,n/e]}function ao(t){if(!(t instanceof we))return!0;var e=!1,i=t.type;if("pointerdown"===i||"pointerdrag"===i||"pointerup"===i){var n=(i=t.a).pointerId.toString();"pointerup"==t.type?delete this.X[n]:"pointerdown"==t.type?this.X[n]=i:n in this.X&&(this.X[n]=i),this.g=Y(this.X)}return this.B?"pointerdrag"==t.type?this.eg(t):"pointerup"==t.type&&(this.B=this.pg(t)&&0<this.g.length):"pointerdown"==t.type?(this.B=t=this.Jc(t),e=this.mb(t)):"pointermove"==t.type&&this.fg(t),!e}function lo(t){ro.call(this,{handleDownEvent:co,handleDragEvent:ho,handleUpEvent:uo}),t=t||{},this.a=t.kinetic,this.b=null,this.o=t.condition?t.condition:to,this.f=!1}function ho(t){var e=this.g,i=so(e);if(e.length==this.i){if(this.a&&this.a.a.push(i[0],i[1],Date.now()),this.b){var n=this.b[0]-i[0],o=i[1]-this.b[1],r=dn(t=t.map.Z());pi(n=[n,o],r.resolution),fi(n,r.rotation),li(n,r.center),n=t.b.center(n),t.Oa(n)}}else this.a&&Un(this.a);this.b=i,this.i=e.length}function uo(t){var e=t.map;if(t=e.Z(),0===this.g.length){if(!this.f&&this.a&&Wn(this.a)){var i=(.05-this.a.c)/-.005,n=this.a.l,o=t.ja();o=In(e,o),e=e.Ja([o[0]-i*Math.cos(n),o[1]-i*Math.sin(n)]),t.animate({center:t.b.center(e),duration:500,easing:mi})}return vn(t,1,-1),!1}return this.a&&Un(this.a),this.b=null,!0}function co(t){if(0<this.g.length&&this.o(t)){var e=t.map.Z();return this.b=null,this.B||vn(e,1,1),0<e.a[0]&&e.Oa(t.frameState.viewState.center),this.a&&Un(this.a),this.f=1<this.g.length,!0}return!1}function fo(t){t=t||{},ro.call(this,{handleDownEvent:vo,handleDragEvent:po,handleUpEvent:go}),this.b=t.condition?t.condition:Jn,this.a=void 0,this.f=void 0!==t.duration?t.duration:250}function po(t){if(no(t)){var e=t.map,i=e.Z();i.b.rotation!==ni&&(e=e.wb(),t=t.pixel,t=Math.atan2(e[1]/2-t[1],t[0]-e[0]/2),void 0!==this.a&&(e=t-this.a,Vn(i,pn(i)-e)),this.a=t)}}function go(t){if(!no(t))return!0;vn(t=t.map.Z(),1,-1);var e=pn(t),i=this.f;return e=t.constrainRotation(e,0),Vn(t,e,void 0,i),!1}function vo(t){return!!(no(t)&&Kn(t)&&this.b(t))&&(vn(t.map.Z(),1,1),this.a=void 0,!0)}function mo(t){this.bb=null,this.c=document.createElement("div"),this.c.style.position="absolute",this.c.className="ol-box "+t,this.l=this.j=this.a=null}function yo(t){var e=t.j,i=t.l;(t=t.c.style).left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function bo(t){var e=t.j,i=t.l;(e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.a.Ja,t.a))[4]=e[0].slice(),t.bb?t.bb.Y([e]):t.bb=new on([e])}function wo(t){ro.call(this,{handleDownEvent:Co,handleDragEvent:Mo,handleUpEvent:So}),t=t||{},this.a=new mo(t.className||"ol-dragbox"),this.o=void 0!==t.minArea?t.minArea:64,this.b=null,this.u=t.condition?t.condition:wi,this.i=t.boxEndCondition?t.boxEndCondition:xo}function xo(t,e,i){return t=i[0]-e[0],e=i[1]-e[1],t*t+e*e>=this.o}function Mo(t){if(no(t)){var e=this.a,i=t.pixel;e.j=this.b,e.l=i,bo(e),yo(e),this.l(new Po(ef,t.coordinate,t))}}function So(t){return!no(t)||(this.a.setMap(null),this.i(t,this.b,t.pixel)&&(this.f(t),this.l(new Po(nf,t.coordinate,t))),!1)}function Co(t){if(no(t)&&Kn(t)&&this.u(t)){this.b=t.pixel,this.a.setMap(t.map);var e=this.a,i=this.b;return e.j=this.b,e.l=i,bo(e),yo(e),this.l(new Po(tf,t.coordinate,t)),!0}return!1}function Po(t,e,i){ne.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function jo(t){var e=(t=t||{}).condition?t.condition:eo;this.A=void 0!==t.duration?t.duration:200,this.J=void 0!==t.out&&t.out,wo.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function ko(t){Xn.call(this,{handleEvent:Eo}),t=t||{},this.a=function(t){return to(t)&&io(t)},this.b=void 0!==t.condition?t.condition:this.a,this.g=void 0!==t.duration?t.duration:100,this.f=void 0!==t.pixelDelta?t.pixelDelta:128}function Eo(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.b(t)&&(40==i||37==i||39==i||38==i)){var n=(e=t.map.Z()).za()*this.f,o=0,r=0;40==i?r=-n:37==i?o=-n:39==i?o=n:r=n,fi(n=[o,r],pn(e)),i=this.g,(o=e.ja())&&(n=e.b.center([o[0]+n[0],o[1]+n[1]]),i?e.animate({duration:i,easing:bi,center:n}):e.Oa(n)),t.preventDefault(),e=!0}}return!e}function To(t){Xn.call(this,{handleEvent:Io}),t=t||{},this.b=t.condition?t.condition:io,this.a=t.delta?t.delta:1,this.g=void 0!==t.duration?t.duration:100}function Io(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.b(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,i=t.map.Z(),Hn(i,e,void 0,this.g),t.preventDefault(),e=!0)}return!e}function Ao(t){Xn.call(this,{handleEvent:No}),t=t||{},this.g=0,this.B=void 0!==t.duration?t.duration:250,this.K=void 0!==t.timeout?t.timeout:80,this.M=void 0===t.useAnchor||t.useAnchor,this.J=t.constrainResolution||!1,this.a=null,this.i=this.f=this.o=this.b=void 0}function No(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault(),e=t.map;var i=t.originalEvent;if(this.M&&(this.a=t.coordinate),"wheel"==t.type){var n=i.deltaY;_c&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=Fc),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)}else"mousewheel"==t.type&&(n=-i.wheelDeltaY,Dc&&(n/=3));if(0===n)return!1;if(t=Date.now(),void 0===this.b&&(this.b=t),(!this.f||400<t-this.b)&&(this.f=4>Math.abs(n)?of:rf),this.f===of){e=e.Z(),this.i?clearTimeout(this.i):vn(e,1,1),this.i=setTimeout(this.u.bind(this),400),i=e.za()*Math.pow(2,n/300);var o=e.B,r=e.f,s=0;if(i<o?(i=Math.max(i,o/1.5),s=1):i>r&&(i=Math.min(i,1.5*r),s=-1),this.a){var a=un(e,i,this.a);e.Oa(e.b.center(a))}return mn(e,i),0===s&&this.J&&e.animate({resolution:e.constrainResolution(i,0<n?-1:1),easing:mi,anchor:this.a,duration:this.B}),0<s?e.animate({resolution:o,easing:mi,anchor:this.a,duration:500}):0>s&&e.animate({resolution:r,easing:mi,anchor:this.a,duration:500}),this.b=t,!1}return this.g+=n,n=Math.max(this.K-(t-this.b),0),clearTimeout(this.o),this.o=setTimeout(this.A.bind(this,e),n),!1}function Lo(t){ro.call(this,{handleDownEvent:Do,handleDragEvent:Oo,handleUpEvent:_o}),t=t||{},this.b=null,this.f=void 0,this.a=!1,this.i=0,this.u=void 0!==t.threshold?t.threshold:.3,this.o=void 0!==t.duration?t.duration:250}function Oo(t){var e=0,i=this.g[0],n=this.g[1];if(i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX),void 0!==this.f&&(e=i-this.f,this.i+=e,!this.a&&Math.abs(this.i)>this.u&&(this.a=!0)),this.f=i,t=t.map,(i=t.Z()).b.rotation!==ni){n=t.a.getBoundingClientRect();var o=so(this.g);o[0]-=n.left,o[1]-=n.top,this.b=t.Ja(o),this.a&&(n=pn(i),t.render(),Vn(i,n+e,this.b))}}function _o(t){if(2>this.g.length){if(t=t.map.Z(),vn(t,1,-1),this.a){var e=pn(t),i=this.b,n=this.o;Vn(t,e=t.constrainRotation(e,0),i,n)}return!1}return!0}function Do(t){return 2<=this.g.length&&(t=t.map,this.b=null,this.f=void 0,this.a=!1,this.i=0,this.B||vn(t.Z(),1,1),!0)}function Ro(t){ro.call(this,{handleDownEvent:zo,handleDragEvent:qo,handleUpEvent:Fo}),t=t||{},this.i=t.constrainResolution||!1,this.b=null,this.o=void 0!==t.duration?t.duration:400,this.a=void 0,this.f=1}function qo(t){var e=1,i=this.g[0],n=this.g[1],o=i.clientX-n.clientX;i=i.clientY-n.clientY,o=Math.sqrt(o*o+i*i),void 0!==this.a&&(e=this.a/o),this.a=o,n=(o=(t=t.map).Z()).za();var r=o.f,s=o.B;(i=n*e)>r?(e=r/n,i=r):i<s&&(e=s/n,i=s),1!=e&&(this.f=e),e=t.a.getBoundingClientRect(),(n=so(this.g))[0]-=e.left,n[1]-=e.top,this.b=t.Ja(n),t.render(),Yn(o,i,this.b)}function Fo(t){if(2>this.g.length){vn(t=t.map.Z(),1,-1);var e=t.za();if(this.i||e<t.B||e>t.f){var i=this.b,n=this.o;Yn(t,e=t.constrainResolution(e,0,this.f-1),i,n)}return!1}return!0}function zo(t){return 2<=this.g.length&&(t=t.map,this.b=null,this.a=void 0,this.f=1,this.B||vn(t.Z(),1,1),!0)}function Go(t,e,i,n,o){ne.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=o}function Bo(t){re.call(this),this.highWaterMark=void 0!==t?t:2048,this.b=0,this.j={},this.a=this.c=null}function Uo(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function Wo(t,e,i,n,o,r,s,a,l,h,u){if(1!=i){var c=t.globalAlpha;t.globalAlpha=c*i}e&&t.setTransform.apply(t,e),t.drawImage(n,o,r,s,a,l,h,s*u,a*u),c&&(t.globalAlpha=c),e&&t.setTransform.apply(t,ff)}function Xo(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function Vo(t){var e=[];return e[0]=v(t[0]+.5|0,0,255),e[1]=v(t[1]+.5|0,0,255),e[2]=v(t[2]+.5|0,0,255),e[3]=v(t[3],0,1),e}function Ho(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Xo(t)}function Yo(){}function Zo(t,e,i,n,o){this.l=t,this.g=e,this.b=i,this.C=n,this.Ka=o,this.L=this.a=this.c=this.K=this.J=this.Ca=null,this.M=this.Ga=this.o=this.A=this.u=this.B=0,this.X=!1,this.j=this.ea=0,this.Ra=!1,this.ia=0,this.ha="",this.la=this.fa=0,this.$a=!1,this.i=this.xa=0,this.ka=this.v=this.f=null,this.H=[],this.Ha=Si()}function $o(t,e,i){if(t.L){e=Mi(e,0,i,2,t.C,t.H),i=t.l;var n=t.Ha,o=i.globalAlpha;1!=t.o&&(i.globalAlpha=o*t.o);var r=t.ea;t.X&&(r+=t.Ka);var s,a=0;for(s=e.length;a<s;a+=2){var l=e[a]-t.B,h=e[a+1]-t.u;if(t.Ra&&(l=Math.round(l),h=Math.round(h)),0!==r||1!=t.j){var u=l+t.B,c=h+t.u;Ei(n,u,c,t.j,t.j,r,-u,-c),i.setTransform.apply(i,n)}i.drawImage(t.L,t.Ga,t.M,t.ia,t.A,l,h,t.ia,t.A)}0===r&&1==t.j||i.setTransform(1,0,0,1,0,0),1!=t.o&&(i.globalAlpha=o)}}function Jo(t,e,i,n){var o=0;if(t.ka&&""!==t.ha){t.f&&tr(t,t.f),t.v&&er(t,t.v);var r=t.ka,s=t.l,a=t.K,l=r.textAlign?r.textAlign:"center";for(a?(a.font!=r.font&&(a.font=s.font=r.font),a.textAlign!=l&&(a.textAlign=l),a.textBaseline!=r.textBaseline&&(a.textBaseline=s.textBaseline=r.textBaseline)):(s.font=r.font,s.textAlign=l,s.textBaseline=r.textBaseline,t.K={font:r.font,textAlign:l,textBaseline:r.textBaseline}),e=Mi(e,o,i,n,t.C,t.H),r=t.l,s=t.xa,t.$a&&(s+=t.Ka);o<i;o+=n){if(a=e[o]+t.fa,l=e[o+1]+t.la,0!==s||1!=t.i){var h=Ei(t.Ha,a,l,t.i,t.i,s,-a,-l);r.setTransform.apply(r,h)}t.v&&r.strokeText(t.ha,a,l),t.f&&r.fillText(t.ha,a,l)}0===s&&1==t.i||r.setTransform(1,0,0,1,0,0)}}function Ko(t,e,i,n,o,r){var s=t.l;for(t=Mi(e,i,n,o,t.C,t.H),s.moveTo(t[0],t[1]),e=t.length,r&&(e-=2),i=2;i<e;i+=2)s.lineTo(t[i],t[i+1]);return r&&s.closePath(),n}function Qo(t,e,i,n,o){var r,s=0;for(r=n.length;s<r;++s)i=Ko(t,e,i,n[s],o,!0);return i}function tr(t,e){var i=t.l,n=t.Ca;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.Ca={fillStyle:e.fillStyle})}function er(t,e){var i=t.l,n=t.J;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),zc&&(Pt(n.lineDash,e.lineDash)||i.setLineDash(n.lineDash=e.lineDash),n.lineDashOffset!=e.lineDashOffset&&(n.lineDashOffset=i.lineDashOffset=e.lineDashOffset)),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,zc&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.J={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function ir(t){ae.call(this),this.a=t}function nr(t,e,i){return function(n,o){return Fu(t,e,n,o,function(t){i[n]||(i[n]={}),i[n][t.ta.toString()]=t})}}function or(t){var e=t.a;e.Hb()&&"ready"==e.bd()&&t.c()}function rr(t,e){e.jd()&&t.postRenderFunctions.push(function(t,e,i){(e=u(t).toString())in i.usedTiles&&t.Db(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function sr(t,e){void 0!==(e=e.la)&&("string"==typeof e?t.logos[e]="":e&&(g("string"==typeof e.href,44),g("string"==typeof e.src,45),t.logos[e.src]=e.href))}function ar(t,e,i,n){e=u(e).toString(),i=i.toString(),e in t?i in t[e]?(t=t[e][i],n.T<t.T&&(t.T=n.T),n.W>t.W&&(t.W=n.W),n.R<t.R&&(t.R=n.R),n.U>t.U&&(t.U=n.U)):t[e][i]=n:(t[e]={},t[e][i]=n)}function lr(t,e,i,n,o,r,s,a){var l=u(e).toString();l in t.wantedTiles||(t.wantedTiles[l]={});var h=t.wantedTiles[l];t=t.tileQueue;var c,f,p;for(p=i.minZoom;p<=s;++p){var d=_t(i,r,p,d),g=i.a[p];for(c=d.T;c<=d.W;++c)for(f=d.R;f<=d.U;++f)if(s-p<=a){var v=e.kd(p,c,f,n,o);0==v.state&&(h[v.Sa()]=!0,v.Sa()in t.l||t.f([v,l,Dt(i,v.ta),g]))}else e.yf(p,c,f,o)}}function hr(t){ir.call(this,t),this.fa=Si()}function ur(t,e,i){var n=e.pixelRatio,o=e.size[0]*n,r=e.size[1]*n,s=e.viewState.rotation,a=U(i),l=[i[2],i[3]],h=[i[2],i[1]];i=q(i),ki(e.coordinateToPixelTransform,a),ki(e.coordinateToPixelTransform,l),ki(e.coordinateToPixelTransform,h),ki(e.coordinateToPixelTransform,i),t.save(),Uo(t,-s,o/2,r/2),t.beginPath(),t.moveTo(a[0]*n,a[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),Uo(t,s,o/2,r/2)}function cr(t,e,i,n,o){var r=t.a;if(se(r,e)){var s=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,l=n.viewState.rotation;Uo(i,-l,s/2,a/2),t=void 0!==o?o:fr(t,n,0),r.l(new Go(e,new Zo(i,n.pixelRatio,n.extent,t,n.viewState.rotation),n,i,null)),Uo(i,l,s/2,a/2)}}function fr(t,e,i){var n=e.viewState,o=e.pixelRatio,r=o/n.resolution;return Ei(t.fa,o*e.size[0]/2,o*e.size[1]/2,r,-r,-n.rotation,-n.center[0]+i,-n.center[1])}function pr(t){hr.call(this,t),this.H=Si(),this.i=null}function dr(t){pr.call(this,t),this.L=null,this.b=Si()}function gr(){this.a={},this.c=0}function vr(t,e){this.g=e,this.c={},this.j={}}function mr(){if(32<vf.c){var t,e=0;for(t in vf.a){var i=vf.a[t];0!=(3&e++)||se(i)||(delete vf.a[t],--vf.c)}}}function yr(t,e){var i=u(e).toString();if(i in t.c)return t.c[i];for(var n,o=t.D(),r=0,s=Jc.length;r<s;++r){var a=Jc[r];if(a.handles(o,e)){n=a.create(t,e);break}}if(!n)throw Error("Unable to create renderer for layer: "+e.D());return t.c[i]=n,t.j[i]=Kt(n,"change",t.Lg,t),n}function br(t,e){return t.zIndex-e.zIndex}function wr(t,e){vr.call(this,0,e),this.b=bn(),this.a=this.b.canvas,this.a.style.width="100%",this.a.style.height="100%",this.a.style.display="block",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.l=!0,this.f=Si()}function xr(t,e,i){var n=t.g,o=t.b;if(se(n,e)){var r=i.extent,s=i.pixelRatio,a=i.viewState.rotation,l=i.viewState,h=i.pixelRatio/l.resolution;t=Ei(t.f,t.a.width/2,t.a.height/2,h,-h,-l.rotation,-l.center[0],-l.center[1]),n.l(new Go(e,new Zo(o,s,r,t,a),i,o,null))}}function Mr(t){pr.call(this,t),this.context=null===this.context?null:bn(),this.b=null,this.f=[],this.M=I(),this.xa=new f(0,0,0,0),this.u=Si(),this.X=0}function Sr(t,e){return e=e.state,t=t.a.u(),2==e||4==e||3==e&&!t}function Cr(t,e,i,n){var o=t[e],r=t[e+1],s=0;for(e+=n;e<i;e+=n){var a=t[e],l=t[e+1];s+=Math.sqrt((a-o)*(a-o)+(l-r)*(l-r)),o=a,r=l}return s}function Pr(t,e,i,n,o,r){this.X=r,this.fa=I(),this.$a=t,this.Ra=e,this.overlaps=o,this.pixelRatio=n,this.J=0,this.resolution=i,this.b=this.Ca=this.ka=null,this.c=[],this.coordinates=[],this.ea={},this.M=Si(),this.a=[],this.ia=null,this.state={},this.la=Si()}function jr(t,e,i,n,o,r,s,a,l,h,u,c,f,p,d,g){var v=t.la;i-=r*=p,n-=s*=p,d&&(i=Math.round(i),n=Math.round(n)),d=g+u>o.width?o.width-u:g,l=l+c>o.height?o.height-c:l,t=t.fa,g=null,0!==f?(r=i+r,s=n+s,g=Ei(v,r,s,1,1,f,-r,-s),N(t),R(t,ki(v,[i,n])),R(t,ki(v,[i+d,n])),R(t,ki(v,[i+d,n+l])),R(t,ki(v,[i,n+d]))):A(i,n,i+d*p,n+l*p,t),f=e.canvas,f=t[0]<=f.width&&0<=t[2]&&t[1]<=f.height&&0<=t[3],a?(f||1!=a[4])&&(D(a,t),a.push(f?[e,g?g.slice(0):null,h,o,u,c,d,l,i,n,p]:null)):f&&Wo(e,g,h,o,u,c,d,l,i,n,p)}function kr(t,e){var i=t.pixelRatio;return 1==i?e:e.map(function(t){return t*i})}function Er(t,e,i,n,o,r,s){var a=t.coordinates.length,l=Dr(t);s&&(i+=o),s=[e[i],e[i+1]];var h,u=[NaN,NaN],c=!0;for(h=i+o;h<n;h+=o){u[0]=e[h],u[1]=e[h+1];var f=l[1],p=l[2],d=l[3],g=u[0],v=u[1],m=0;g<l[0]?m|=16:g>p&&(m|=4),v<f?m|=8:v>d&&(m|=2),0===m&&(m=1),(f=m)!==y?(c&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),t.coordinates[a++]=u[0],t.coordinates[a++]=u[1],c=!1):1===f?(t.coordinates[a++]=u[0],t.coordinates[a++]=u[1],c=!1):c=!0,s[0]=u[0],s[1]=u[1];var y=f}return(r&&c||h===i+o)&&(t.coordinates[a++]=s[0],t.coordinates[a++]=s[1]),a}function Tr(t,e,i,n,o,r){for(var s=0,a=n.length;s<a;++s){var l=n[s];i=Er(t,e,i,l,o,!1,!1),r.push(i),i=l}return i}function Ir(t,e){t.ka=[0,e,0],t.c.push(t.ka),t.Ca=[0,e,0],t.a.push(t.Ca)}function Ar(t,e){if(e&&5<e.length){var i=e[4];if(1==i||i==e.length-5){if(i={T:e[0],R:e[1],W:e[2],U:e[3]},!t.X.gg(i))for(t.X.da(i),t=5,i=e.length;t<i;++t)e[t]&&Wo.apply(void 0,e[t]);e.length=5,N(e)}}}function Nr(t,e,i,n,o,r,s,a){if(t.ia&&Pt(i,t.M))var l=t.ia;else t.ia||(t.ia=[]),l=Mi(t.coordinates,0,t.coordinates.length,2,i,t.ia),ji(t.M,i);for(var h,c,f,p,d,g,v,m,y,b=!Z(o),x=0,M=r.length,S=0,C=0,P=t.ea,j={context:e,pixelRatio:t.pixelRatio,resolution:t.resolution,rotation:n},k=t.c!=r||t.overlaps?0:200;x<M;){var E=r[x];switch(E[0]){case 0:var T=E[1];b&&o[u(T).toString()]||!T.O()?x=E[2]:void 0===a||X(a,T.O().I())?++x:x=E[2]+1;break;case 1:S>k&&(t.pa(e,n),S=0),C>k&&(e.stroke(),C=0),S||C||(e.beginPath(),d=g=NaN),++x;break;case 2:var I=l[h=E[1]],A=l[h+1],N=l[h+2]-I,L=l[h+3]-A,O=Math.sqrt(N*N+L*L);e.moveTo(I+O,A),e.arc(I,A,O,0,2*Math.PI,!0),++x;break;case 3:e.closePath(),++x;break;case 4:h=E[1],c=E[2];var _=E[4],D=6==E.length?E[5]:void 0;j.geometry=E[3],j.feature=T,x in P||(P[x]=[]);var R=P[x];D?D(l,h,c,2,R):(R[0]=l[h],R[1]=l[h+1],R.length=2),_(R,j),++x;break;case 6:h=E[1],c=E[2];var q=E[3];f=E[4],p=E[5],y=E[6];var F=E[7],z=E[8],G=E[9],B=E[10],U=E[12],W=E[13],V=E[14],H=E[15];for(E[11]&&(U+=n);h<c;h+=2)jr(t,e,l[h],l[h+1],q,f,p,y,F,z,G,B,U,W,V,H);Ar(t,y),++x;break;case 5:var Y=E[1],$=E[2],J=E[3];y=E[4];var K=E[5],Q=E[6],tt=E[7],et=E[8],it=E[9],nt=E[10],ot=E[11],rt=E[12],st=E[13],at=E[14],lt=Cr(l,Y,$,2),ht=et(rt);if(K||ht<=lt){t:{for(var ut=void 0,ct=void 0,ft=l,pt=Y,dt=$,gt=rt,vt=et,mt=(lt-ht)*st,yt=tt,bt=[],wt=ft[pt]>ft[dt-2],xt=gt.length,Mt=ft[pt],St=ft[pt+1],Ct=ft[pt+=2],jt=ft[pt+1],kt=0,Et=Math.sqrt(Math.pow(Ct-Mt,2)+Math.pow(jt-St,2)),Tt="",It=0,At=0;At<xt;++At){var Nt=wt?xt-At-1:At,Lt=gt.charAt(Nt),Ot=vt(Tt=wt?Lt+Tt:Tt+Lt)-It;It+=Ot;for(var _t=mt+Ot/2;pt<dt-2&&kt+Et<_t;)Mt=Ct,St=jt,pt+=2,Ct=ft[pt],jt=ft[pt+1],kt+=Et,Et=Math.sqrt(Math.pow(Ct-Mt,2)+Math.pow(jt-St,2));var Dt=_t-kt,Rt=Math.atan2(jt-St,Ct-Mt);if(wt&&(Rt+=0<Rt?-Math.PI:Math.PI),void 0!==ut){var qt=Rt-ut;if(qt+=qt>Math.PI?-2*Math.PI:qt<-Math.PI?2*Math.PI:0,Math.abs(qt)>yt){var Ft=null;break t}}var zt=Dt/Et,Gt=w(Mt,Ct,zt),Bt=w(St,jt,zt);ut==Rt?(wt&&(ct[0]=Gt,ct[1]=Bt,ct[2]=Ot/2),ct[4]=Tt):(Tt=Lt,It=Ot,ct=[Gt,Bt,Ot/2,Rt,Tt],wt?bt.unshift(ct):bt.push(ct),ut=Rt),mt+=Ot}Ft=bt}if(Ft){var Ut;if(nt){var Wt=0;for(Ut=Ft.length;Wt<Ut;++Wt){var Xt=Ft[Wt],Vt=Xt[4],Ht=t.ba(Vt,!1,!0);f=Xt[2]+ot,p=J*Ht.height+2*(.5-J)*ot-it,jr(t,e,Xt[0],Xt[1],Ht,f,p,y,Ht.height,1,0,0,Xt[3],at,!1,Ht.width)}}if(Q)for(Wt=0,Ut=Ft.length;Wt<Ut;++Wt)Xt=Ft[Wt],Vt=Xt[4],Ht=t.ba(Vt,!0,!1),f=Xt[2],p=J*Ht.height-it,jr(t,e,Xt[0],Xt[1],Ht,f,p,y,Ht.height,1,0,0,Xt[3],at,!1,Ht.width)}}Ar(t,y),++x;break;case 7:if(void 0!==s){var Yt=s(T=E[1]);if(Yt)return Yt}++x;break;case 8:k?S++:t.pa(e,n),++x;break;case 9:h=E[1],c=E[2];var Zt=l[h],$t=l[h+1];for(m=$t+.5|0,(v=Zt+.5|0)===d&&m===g||(e.moveTo(Zt,$t),d=v,g=m),h+=2;h<c;h+=2)Zt=l[h],$t=l[h+1],v=Zt+.5|0,m=$t+.5|0,(h==c-2||v!==d||m!==g)&&(e.lineTo(Zt,$t),d=v,g=m);++x;break;case 10:t.Ga=E[2],S&&(t.pa(e,n),S=0,C&&(e.stroke(),C=0)),e.fillStyle=E[1],++x;break;case 11:C&&(e.stroke(),C=0),e.strokeStyle=E[1],e.lineWidth=E[2],e.lineCap=E[3],e.lineJoin=E[4],e.miterLimit=E[5],zc&&(e.lineDashOffset=E[7],e.setLineDash(E[6])),++x;break;case 12:k?C++:e.stroke(),++x;break;default:++x}}S&&t.pa(e,n),C&&e.stroke()}function Lr(t){var e=t.a;e.reverse();var i,n=e.length,o=-1;for(i=0;i<n;++i){var r=e[i],s=r[0];if(7==s)o=i;else if(0==s){for(r[2]=i,r=t.a,s=i;o<s;){var a=r[o];r[o]=r[s],r[s]=a,++o,--s}o=-1}}}function Or(t,e,i){var n=e.strokeStyle,o=e.lineCap,r=e.lineDash,s=e.lineDashOffset,a=e.lineJoin,l=e.lineWidth,h=e.miterLimit;e.og==n&&e.ig==o&&Pt(e.jg,r)&&e.kg==s&&e.lg==a&&e.mg==l&&e.ng==h||(i&&(void 0!=e.Ib&&e.Ib!=t.coordinates.length&&(t.c.push([12]),e.Ib=t.coordinates.length),e.Ib=0),t.c.push([11,n,l*t.pixelRatio,o,a,h,kr(t,r),s*t.pixelRatio]),i&&t.c.push([1]),e.og=n,e.ig=o,e.jg=r,e.kg=s,e.lg=a,e.mg=l,e.ng=h)}function _r(t,e){t.ka[2]=t.c.length,t.ka=null,t.Ca[2]=t.a.length,t.Ca=null,e=[7,e],t.c.push(e),t.a.push(e)}function Dr(t){return t.b||(t.b=j(t.Ra),0<t.J&&P(t.b,t.resolution*(t.J+1)/2,t.b)),t.b}function Rr(t,e,i,n,o,r){Pr.call(this,t,e,i,n,o,r),this.L=this.K=this.A=null,this.C=this.H=this.o=this.i=this.v=this.u=this.B=this.f=this.g=this.j=this.l=void 0}function qr(t,e,i,n,o,r){Pr.call(this,t,e,i,n,o,r)}function Fr(t,e,i,n,o){var r=t.coordinates.length;return e=Er(t,e,i,n,o,!1,!1),r=[9,r,e],t.c.push(r),t.a.push(r),n}function zr(t,e,i,n,o,r){Pr.call(this,t,e,i,n,o,r)}function Gr(t,e,i,n,o){var r=t.state,s=void 0!==r.fillStyle;r=void 0!=r.strokeStyle;var a=n.length,l=[1];for(t.c.push(l),t.a.push(l),l=0;l<a;++l){var h=n[l];i=[9,t.coordinates.length,i=Er(t,e,i,h,o,!0,!r)],t.c.push(i),t.a.push(i),r&&(i=[3],t.c.push(i),t.a.push(i)),i=h}return e=[8],t.a.push(e),s&&t.c.push(e),r&&(s=[12],t.c.push(s),t.a.push(s)),i}function Br(t,e){var i=t.state,n=i.fillStyle;if(void 0!==n&&("string"!=typeof n||i.hg!=n)){var o=[10,n];"string"!=typeof n&&(e=e.I(),o.push([e[0],e[3]])),t.c.push(o),i.hg=i.fillStyle}void 0!==i.strokeStyle&&Or(t,i,!1)}function Ur(t,e,i,n,o,r){Pr.call(this,t,e,i,n,o,r),this.ha="",this.f=this.i=0,this.o=void 0,this.H=0,this.l=this.j=null,this.g={},this.B=this.C=this.u="",this.A={}}function Wr(t,e,i,n){var o=t.pixelRatio,r=t.l,s=!!t.j,a=!!r,l=t.g,h=bf[l.textBaseline],u=t.f*o,c=bf[l.textAlign||"center"],f=t.ha,p=l.font,d=l.scale;r=r?r.lineWidth*d/2:0;var g=t.A;t.c.push([5,e,i,h,n,l.exceedLength,s,l.maxAngle,function(t){var e=g[t];return e||(e=g[t]=xf(p,t)),e*d*o},u,a,r*o,f,c,1]),t.a.push([5,e,i,h,n,l.exceedLength,s,l.maxAngle,function(t){var e=g[t];return e||(e=g[t]=xf(p,t)),e*d},u,a,r,f,c,1/o])}function Xr(t,e,i,n,o,r,s){this.j=r,this.l=null,this.H=t,this.c=e,this.v=o,this.i=n,this.o=i,this.b=s,this.a={},this.g=bn(1,1),this.f=Si()}function Vr(t,e,i){var n,o=Math.floor(t.length/2);if(e>=o)for(n=o;n<e;n++)t[n][i]=!0;else if(e<o)for(n=e+1;n<o;n++)t[n][i]=!0}function Hr(t){if(void 0!==Mf[t])return Mf[t];for(var e=2*t+1,i=Array(e),n=0;n<e;n++)i[n]=Array(e);e=t;for(var o=n=0;e>=n;)Vr(i,t+e,t+n),Vr(i,t+n,t+e),Vr(i,t-n,t+e),Vr(i,t-e,t+n),Vr(i,t-e,t-n),Vr(i,t-n,t-e),Vr(i,t+n,t-e),Vr(i,t+e,t-n),n++,0<2*((o+=1+2*n)-e)+1&&(--e,o+=1-2*e);return Mf[t]=i}function Yr(t,e,i,n,o){for(var r=Object.keys(t).map(Number).sort(Mt),s=0,a=r.length;s<a;++s)for(var l=t[r[s].toString()],h=l.length-1;0<=h;){var u=l[h--],c=l[h--];if(u=Nr(c,e,u,i,{},c.a,n,o))return u}}function Zr(t,e){var i=null;return t.j&&(e?(i=t.l,i[4]++):(i=t.l=I()).push(1)),i}function $r(t){for(var e in t.a){var i,n=t.a[e];for(i in n)n[i].lc()}}function Jr(t,e){var i=t.c;t=i[0];var n=i[1],o=i[2];return i=i[3],t=[t,n,t,i,o,i,o,n],Mi(t,0,8,2,e,t),t}function Kr(t,e,i){var n=void 0!==e?e.toString():"0";return void 0===(e=t.a[n])&&(e={},t.a[n]=e),void 0===(n=e[i])&&(n=new Sf[i](t.H,t.c,t.o,t.i,t.v,t.j),e[i]=n),n}function Qr(t,e,i,n,o,r,s,a){var l=Object.keys(t.a).map(Number);l.sort(Mt);var h,u;for(h=l.length-1;0<=h;--h){var c=l[h].toString(),f=t.a[c];for(u=yf.length-1;0<=u;--u){var p=yf[u],d=f[p];if(void 0!==d)if(!a||"Image"!=p&&"Text"!=p){if(d=Nr(d,e,i,n,o,d.a,r,s))return d}else(p=a[c])?p.push(d,i.slice(0)):a[c]=[d,i.slice(0)]}}}function ts(t,e){return u(t)-u(e)}function es(t,e){return(t=.5*t/e)*t}function is(t,e,i,n,o,r){var s,a=!1;if(s=i.ba()){var l=s.nc();2==l||3==l?s.uf(o,r):(0==l&&s.load(),s.ne(o,r),a=!0)}return(o=(0,i.Ia)(e))&&(n=o.bc(n),i.ad()?ns(t,n,i,e):(0,Cf[n.D()])(t,n,i,e)),a}function ns(t,e,i,n){if("GeometryCollection"==e.D())for(var o=0,r=(e=fl(e.a)).length;o<r;++o)ns(t,e[o],i,n);else Kr(t,i.sa(),"Default").Wd(e,n,i.ad())}function os(t){hr.call(this,t),this.g=t.b?mf.hb(9):null,this.f=!1,this.u=-1,this.B=NaN,this.o=I(),this.b=this.H=null,this.i=bn(),Kt(hf,"clear",this.Ne,this)}function rs(t){this.context=null,Mr.call(this,t),this.o=t.b?mf.hb(9):null,this.A=!1,this.la=Si(),this.X="vector"==t.o?1:0,Kt(hf,"clear",this.Pe,this)}function ss(t){this.b=t.opacity,this.B=t.rotateWithView,this.i=t.rotation,this.j=t.scale,this.o=t.snapToPixel}function as(t){this.C=this.v=this.c=null,this.pa=void 0!==t.fill?t.fill:null,this.ia=[0,0],this.f=t.points,this.a=void 0!==t.radius?t.radius:t.radius1,this.l=t.radius2,this.g=void 0!==t.angle?t.angle:0,this.oa=void 0!==t.stroke?t.stroke:null,this.u=this.ka=this.A=null,this.H=t.atlasManager,ls(this,this.H),ss.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function ls(t,e){var i="",n="",o=0,r=null,s=0,a=0;if(t.oa){var l=t.oa.c;null===l&&(l=lf),l=Ho(l),void 0===(a=t.oa.j)&&(a=1),r=t.oa.l,s=t.oa.g,zc||(r=null,s=0),void 0===(n=t.oa.f)&&(n="round"),void 0===(i=t.oa.b)&&(i="round"),void 0===(o=t.oa.v)&&(o=10)}var h=2*(t.a+a)+1;if(i={strokeStyle:l,sf:a,size:h,lineCap:i,lineDash:r,lineDashOffset:s,lineJoin:n,miterLimit:o},void 0===e){var c=bn(h,h);t.v=c.canvas,e=h=t.v.width,t.Yd(i,c,0,0),t.pa?t.C=t.v:(c=bn(i.size,i.size),t.C=c.canvas,t.Xd(i,c,0,0))}else h=Math.round(h),(n=!t.pa)&&(c=t.Xd.bind(t,i)),t.oa?(void 0===(o=t.oa).a&&(o.a="s",o.a=o.c?"string"==typeof o.c?o.a+o.c:o.a+u(o.c).toString():o.a+"-",o.a+=","+(void 0!==o.b?o.b.toString():"-")+","+(o.l?o.l.toString():"-")+","+(void 0!==o.g?o.g:"-")+","+(void 0!==o.f?o.f:"-")+","+(void 0!==o.v?o.v.toString():"-")+","+(void 0!==o.j?o.j.toString():"-")),o=o.a):o="-",t.pa?(void 0===(r=t.pa).c&&(r.c=r.a instanceof CanvasPattern||r.a instanceof CanvasGradient?u(r.a).toString():"f"+(r.a?Xo(r.a):"-")),r=r.c):r="-",t.c&&o==t.c[1]&&r==t.c[2]&&t.a==t.c[3]&&t.l==t.c[4]&&t.g==t.c[5]&&t.f==t.c[6]||(t.c=["r"+o+r+(void 0!==t.a?t.a.toString():"-")+(void 0!==t.l?t.l.toString():"-")+(void 0!==t.g?t.g.toString():"-")+(void 0!==t.f?t.f.toString():"-"),o,r,t.a,t.l,t.g,t.f]),c=e.add(t.c[0],h,h,t.Yd.bind(t,i),c),t.v=c.image,t.ia=[c.offsetX,c.offsetY],e=c.image.width,t.C=n?c.a:t.v;t.A=[h/2,h/2],t.ka=[h,h],t.u=[e,e]}function hs(t){t=t||{},as.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function us(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.c=void 0}function cs(t){t=t||{},this.c=void 0!==t.color?t.color:null,this.b=t.lineCap,this.l=void 0!==t.lineDash?t.lineDash:null,this.g=t.lineDashOffset,this.f=t.lineJoin,this.v=t.miterLimit,this.j=t.width,this.a=void 0}function fs(t){t=t||{},this.bb=null,this.Ia=vs,void 0!==t.geometry&&this.Ba(t.geometry),this.pa=void 0!==t.fill?t.fill:null,this.L=void 0!==t.image?t.image:null,this.jb=void 0!==t.renderer?t.renderer:null,this.oa=void 0!==t.stroke?t.stroke:null,this.ha=void 0!==t.text?t.text:null,this.Af=t.zIndex}function ps(t){if("function"!=typeof t){if(Array.isArray(t))var e=t;else g(t instanceof fs,41),e=[t];t=function(){return e}}return t}function ds(){if(!kf){var t=new us({color:"rgba(255,255,255,0.4)"}),e=new cs({color:"#3399CC",width:1.25});kf=[new fs({image:new hs({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return kf}function gs(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new fs({fill:new us({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new fs({stroke:new cs({color:e,width:5})}),new fs({stroke:new cs({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new fs({image:new hs({radius:6,fill:new us({color:i}),stroke:new cs({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function vs(t){return t.O()}function ms(t){le.call(this),this.b=void 0,this.a="geometry",this.f=null,this.i=void 0,this.g=null,Kt(this,he(this.a),this.ec,this),void 0!==t&&(t instanceof Ti||!t?this.Ba(t):this.na(t))}function ys(t){var e;if("function"==typeof t)e=2==t.length?function(e){return t(this,e)}:t;else{if(Array.isArray(t))var i=t;else g(t instanceof fs,41),i=[t];e=function(){return i}}return e}function bs(t){le.call(this),t=t||{},this.a=null,this.g=yt,this.f=new $(6378137),this.b=void 0,Kt(this,he("projection"),this.Eh,this),Kt(this,he("tracking"),this.eh,this),void 0!==t.projection&&this.set("projection",dt(t.projection)),void 0!==t.trackingOptions&&this.set("trackingOptions",t.trackingOptions),this.xc(void 0!==t.tracking&&t.tracking)}function ws(t,e,i,n,o,r){var s=NaN,a=NaN,l=(i-e)/n;if(1===l)s=t[e],a=t[e+1];else if(2==l)s=(1-o)*t[e]+o*t[e+n],a=(1-o)*t[e+1]+o*t[e+n+1];else if(0!==l){a=t[e],l=t[e+1];var h=0;s=[0];var u;for(u=e+n;u<i;u+=n){var c=t[u],f=t[u+1];h+=Math.sqrt((c-a)*(c-a)+(f-l)*(f-l)),s.push(h),a=c,l=f}for(i=o*h,l=0,h=s.length,u=!1;l<h;)o=l+(h-l>>1),0>(a=+Mt(s[o],i))?l=o+1:(h=o,u=!a);0>(o=u?l:~l)?(i=(i-s[-o-2])/(s[-o-1]-s[-o-2]),e+=(-o-2)*n,s=w(t[e],t[e+n],i),a=w(t[e+1],t[e+n+1],i)):(s=t[e+o*n],a=t[e+o*n+1])}return r?(r[0]=s,r[1]=a,r):[s,a]}function xs(t,e,i,n,o){if(0==e)return null;if(n<t[0+i-1])return o?(e=t.slice(0,0+i),e[i-1]=n,e):null;if(t[e-1]<n)return o?(e=t.slice(e-i,e),e[i-1]=n,e):null;if(n==t[0+i-1])return t.slice(0,0+i);for(o=0/i,e/=i;o<e;){var r=o+e>>1;n<t[(r+1)*i-1]?e=r:o=r+1}if(e=t[o*i-1],n==e)return t.slice((o-1)*i,(o-1)*i+i);r=(n-e)/(t[(o+1)*i-1]-e),e=[];var s;for(s=0;s<i-1;++s)e.push(w(t[(o-1)*i+s],t[o*i+s],r));return e.push(n),e}function Ms(t,e){Ii.call(this),this.b=null,this.u=this.A=this.i=-1,this.Y(t,e)}function Ss(t){t=t||{},this.a=t.font,this.g=t.rotation,this.b=t.rotateWithView,this.c=t.scale,this.ha=t.text,this.f=t.textAlign,this.v=t.textBaseline,this.pa=void 0!==t.fill?t.fill:new us({color:"#333"}),this.o=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.H=void 0!==t.placement?t.placement:"point",this.i=void 0!==t.exceedLength&&t.exceedLength,this.oa=void 0!==t.stroke?t.stroke:null,this.l=void 0!==t.offsetX?t.offsetX:0,this.j=void 0!==t.offsetY?t.offsetY:0}function Cs(t,e,i){re.call(this),i=i||{},this.ta=t,this.state=e,this.c=null,this.key="",this.g=void 0===i.transition?250:i.transition,this.f={}}function Ps(t){t.l("change")}function js(t){if(!t.c)return t;var e=t.c;do{if(2==e.state)return e;e=e.c}while(e);return t}function ks(t,e){t.state=e,Ps(t)}function Es(t,e,i){if(!t.g)return 1;var n=t.f[e];if(n){if(-1===n)return 1}else n=i,t.f[e]=n;return(e=i-n+1e3/60)>=t.g?1:Math.pow(e/t.g,3)}function Ts(t,e,i,n,o,r){Cs.call(this,t,e,r),this.j=i,this.L=new Image,null!==n&&(this.L.crossOrigin=n),this.a=null,this.b=o}function Is(t){t.a.forEach(te),t.a=null}function As(){var t=bn(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}function Ns(t){this.c=mf.hb(t),this.a={}}function Ls(t,e,i){var n=t.a[u(i)];_([n.T,n.R,n.W,n.U],e)||(t.remove(i),t.da(e,i))}function Os(t){return t.c.all().map(function(t){return t.value})}function _s(t,e){return t.c.search({T:e[0],R:e[1],W:e[2],U:e[3]}).map(function(t){return t.value})}function Ds(t,e,i,n){return Rs(_s(t,e),i,n)}function Rs(t,e,i){for(var n,o=0,r=t.length;o<r&&!(n=e.call(i,t[o]));o++);return n}function qs(t){le.call(this),this.C=dt(t.projection),this.ea=Fs(t.attributions),this.la=t.logo,this.xa=void 0!==t.state?t.state:"ready",this.B=void 0!==t.wrapX&&t.wrapX}function Fs(t){if(!t)return null;if(t instanceof Vt)return function(){return[t.le]};if(Array.isArray(t)){if(t[0]instanceof Vt){var e=t.map(function(t){return t.le});return function(){return e}}return t.map(function(t){return new Vt({html:t})}),function(){return t}}return"function"==typeof t?t:function(){return[t]}}function zs(t){if((t=bc({},t)).controls||(t.controls=Gn()),!t.interactions){var e=t,i={},n=new fe,o=new Bn;(void 0!==i.altShiftDragRotate?i.altShiftDragRotate:1)&&n.push(new fo),(void 0!==i.doubleClickZoom?i.doubleClickZoom:1)&&n.push(new Zn({delta:i.zoomDelta,duration:i.zoomDuration})),(void 0!==i.dragPan?i.dragPan:1)&&n.push(new lo({kinetic:o})),(void 0!==i.pinchRotate?i.pinchRotate:1)&&n.push(new Lo),(void 0!==i.pinchZoom?i.pinchZoom:1)&&n.push(new Ro({constrainResolution:i.constrainResolution,duration:i.zoomDuration})),(void 0!==i.keyboard?i.keyboard:1)&&(n.push(new ko),n.push(new To({delta:i.zoomDelta,duration:i.zoomDuration}))),(void 0!==i.mouseWheelZoom?i.mouseWheelZoom:1)&&n.push(new Ao({constrainResolution:i.constrainResolution,duration:i.zoomDuration})),(void 0!==i.shiftDragZoom?i.shiftDragZoom:1)&&n.push(new jo({duration:i.zoomDuration})),e.interactions=n}jn.call(this,t)}function Gs(t){le.call(this),this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("DIV"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container ol-selectable",this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={Xb:"",gc:"",vc:"",Ac:"",visible:!0},this.b=null,Kt(this,he(Ef),this.Ig,this),Kt(this,he(Tf),this.Pg,this),Kt(this,he(If),this.Sg,this),Kt(this,he(Af),this.Ug,this),Kt(this,he(Nf),this.Vg,this),void 0!==t.element&&this.set(Ef,t.element),this.set(If,void 0!==t.offset?t.offset:[0,0]),this.set(Nf,void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.qe(t.position)}function Bs(t,e){var i=t.getBoundingClientRect();return t=i.left+window.pageXOffset,i=i.top+window.pageYOffset,[t,i,t+e[0],i+e[1]]}function Us(t,e){t.a.visible!==e&&(t.element.style.display=e?"":"none",t.a.visible=e)}function Ws(t){var e=t.get(Tf),i=t.get(Af);if(e&&e.b&&i){i=In(e,i);var n=e.wb();e=t.element.style;var o=t.get(If),r=t.get(Nf);Us(t,!0);var s=o[0];o=o[1],"bottom-right"==r||"center-right"==r||"top-right"==r?(""!==t.a.gc&&(t.a.gc=e.left=""),s=Math.round(n[0]-i[0]-s)+"px",t.a.vc!=s&&(t.a.vc=e.right=s)):(""!==t.a.vc&&(t.a.vc=e.right=""),"bottom-center"!=r&&"center-center"!=r&&"top-center"!=r||(s-=t.element.offsetWidth/2),s=Math.round(i[0]+s)+"px",t.a.gc!=s&&(t.a.gc=e.left=s)),"bottom-left"==r||"bottom-center"==r||"bottom-right"==r?(""!==t.a.Ac&&(t.a.Ac=e.top=""),i=Math.round(n[1]-i[1]-o)+"px",t.a.Xb!=i&&(t.a.Xb=e.bottom=i)):(""!==t.a.Xb&&(t.a.Xb=e.bottom=""),"center-left"!=r&&"center-center"!=r&&"center-right"!=r||(o-=t.element.offsetHeight/2),i=Math.round(i[1]+o)+"px",t.a.Ac!=i&&(t.a.Ac=e.top=i))}else Us(t,!1)}function Xs(t,e,i,n,o,r){Cs.call(this,t,e,r),this.a=0,this.v=null,this.C=n,this.j=null,this.b={},this.B=o,this.H=i}function Vs(t,e,i){return t.b[u(e)+","+i]}function Hs(t){t=t||{};var e=document.createElement("DIV");e.className=void 0!==t.className?t.className:"ol-mouse-position",Nn.call(this,{element:e,render:t.render?t.render:Ys,target:t.target}),Kt(this,he(Of),this.Mh,this),t.coordinateFormat&&this.hf(t.coordinateFormat),t.projection&&this.set(Of,dt(t.projection)),this.o=void 0!==t.undefinedHTML?t.undefinedHTML:"",this.i=e.innerHTML,this.f=this.b=this.a=null}function Ys(t){(t=t.frameState)?this.a!=t.viewState.projection&&(this.a=t.viewState.projection,this.b=null):this.a=null,Zs(this,this.f)}function Zs(t,e){var i=t.o;if(e&&t.a){if(!t.b){var n=t.get(Of);t.b=n?mt(t.a,n):yt}(e=t.g.Ja(e))&&(t.b(e,e),i=(i=t.get(_f))?i(e):e.toString())}t.i&&i==t.i||(t.element.innerHTML=i,t.i=i)}function $s(t){var e=void 0!==(t=t||{}).className?t.className:"ol-scale-line";this.f=document.createElement("DIV"),this.f.className=e+"-inner",this.a=document.createElement("DIV"),this.a.className=e+" ol-unselectable",this.a.appendChild(this.f),this.o=null,this.i=void 0!==t.minWidth?t.minWidth:64,this.b=!1,this.u=void 0,this.B="",Nn.call(this,{element:this.a,render:t.render?t.render:Js,target:t.target}),Kt(this,he(Rf),this.A,this),this.set(Rf,t.units||"metric")}function Js(t){(t=t.frameState)?this.o=t.viewState:this.o=null,Ks(this)}function Ks(t){var e=t.o;if(e){var i=e.center,n=e.projection,o=t.get(Rf);e=ht(n,e.resolution,i,"degrees"==o?"degrees":"m");var r=t.i*e;for(i="","degrees"==o?(i=wc.degrees,"degrees"==n.c?r*=i:e/=i,r<i/60?(i="",e*=3600):r<i?(i="",e*=60):i=""):"imperial"==o?.9144>r?(i="in",e/=.0254):1609.344>r?(i="ft",e/=.3048):(i="mi",e/=1609.344):"nautical"==o?(e/=1852,i="nm"):"metric"==o?.001>r?(i="m",e*=1e6):1>r?(i="mm",e*=1e3):1e3>r?i="m":(i="km",e/=1e3):"us"==o?.9144>r?(i="in",e*=39.37):1609.344>r?(i="ft",e/=.30480061):(i="mi",e/=1609.3472):g(!1,33),o=3*Math.floor(Math.log(t.i*e)/Math.log(10));;){if(r=Df[(o%3+3)%3]*Math.pow(10,Math.floor(o/3)),n=Math.round(r/e),isNaN(n))return t.a.style.display="none",void(t.b=!1);if(n>=t.i)break;++o}e=r+" "+i,t.B!=e&&(t.f.innerHTML=e,t.B=e),t.u!=n&&(t.f.style.width=n+"px",t.u=n),t.b||(t.a.style.display="",t.b=!0)}else t.b&&(t.a.style.display="none",t.b=!1)}function Qs(t,e){return qf.createElementNS(t,e)}function ta(t){return ea(t,!1,[]).join("")}function ea(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)ea(t,e,i);return i}function ia(t){return(new DOMParser).parseFromString(t,"application/xml")}function na(t,e){return function(i,n){void 0!==(i=t.call(void 0!==e?e:this,i,n))&&n[n.length-1].push(i)}}function oa(t,e){return function(i,n){void 0!==(i=t.call(void 0!==e?e:this,i,n))&&(n[n.length-1]=i)}}function ra(t){return function(e,i){var n=t.call(this,e,i);if(void 0!==n){i=i[i.length-1];((e=e.localName)in i?i[e]:i[e]=[]).push(n)}}}function sa(t,e){return function(i,n){var o=t.call(this,i,n);void 0!==o&&(n[n.length-1][void 0!==e?e:i.localName]=o)}}function aa(t,e){return function(i,n,o){t.call(void 0!==e?e:this,i,n,o),o[o.length-1].node.appendChild(i)}}function la(t){var e,i;return function(n,o,r){if(void 0===e){e={};var s={};s[n.localName]=t,e[n.namespaceURI]=s,i=ha(n.localName)}da(e,i,o,r)}}function ha(t,e){return function(i,n,o){return i=n[n.length-1].node,void 0===(n=t)&&(n=o),o=e,void 0===e&&(o=i.namespaceURI),Qs(o,n)}}function ua(t,e){for(var i=e.length,n=Array(i),o=0;o<i;++o)n[o]=t[e[o]];return n}function ca(t,e,i){i=void 0!==i?i:{};var n,o=0;for(n=t.length;o<n;++o)i[t[o]]=e;return i}function fa(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var o=t[e.namespaceURI];void 0!==o&&void 0!==(o=o[e.localName])&&o.call(n,e,i)}}function pa(t,e,i,n,o){return n.push(t),fa(e,i,n,o),n.pop()}function da(t,e,i,n,o,r){for(var s,a,l=(void 0!==o?o:i).length,h=0;h<l;++h)void 0!==(s=i[h])&&void 0!==(a=e.call(r,s,n,void 0!==o?o[h]:void 0))&&t[a.namespaceURI][a.localName].call(r,a,s,n)}function ga(t,e,i,n,o,r,s){o.push(t),da(e,i,n,o,r,s),o.pop()}function va(t,e,i,n){return function(o,r,s){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(o,r,s):t,!0),"arraybuffer"==e.D()&&(a.responseType="arraybuffer"),a.onload=function(){if(!a.status||200<=a.status&&300>a.status){var t=e.D();if("json"==t||"text"==t)var o=a.responseText;else"xml"==t?(o=a.responseXML)||(o=ia(a.responseText)):"arraybuffer"==t&&(o=a.response);o?i.call(this,e.Ta(o,{featureProjection:s}),e.Ob(o),e.de()):n.call(this)}else n.call(this)}.bind(this),a.onerror=function(){n.call(this)}.bind(this),a.send()}}function ma(t,e){return va(t,e,function(t){this.Bb(t)},h)}function ya(){this.l=this.defaultDataProjection=null}function ba(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.Ob(e),featureProjection:i.featureProjection}),wa(t,n)}function wa(t,e){return bc({dataProjection:t.defaultDataProjection,featureProjection:t.l},e)}function xa(t,e,i){var n,o=i?dt(i.featureProjection):null,r=i?dt(i.dataProjection):null;if(n=o&&r&&!gt(o,r)?t instanceof Ti?(e?t.clone():t).xb(e?o:r,e?r:o):xt(t,r,o):t,e&&i&&void 0!==i.decimals){var s=Math.pow(10,i.decimals);n===t&&(n=n.clone()),n.Cb(function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*s)/s;return t})}return n}function Ma(){ya.call(this)}function Sa(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function Ca(t,e){Ii.call(this),this.b=[],this.i=this.u=-1,this.Y(t,e)}function Pa(t,e){var i,n=t.V,o=[],r=[],s=0;for(i=e.length;s<i;++s){var a=e[s];0===s&&(n=a.V),Ct(o,a.aa()),r.push(o.length)}t.N(n,o,r)}function ja(t,e){Ii.call(this),this.Y(t,e)}function ka(t){var e=t.s,i=t.V;t=t.a;var n,o=[],r=0;for(n=e.length;r<n;r+=t){var s=new $i(null);s.N(i,e.slice(r,r+t)),o.push(s)}return o}function Ea(t,e){Ii.call(this),this.b=[],this.u=-1,this.A=null,this.M=this.J=this.K=-1,this.i=null,this.Y(t,e)}function Ta(t){if(t.u!=t.j){var e,i=t.s,n=t.b,o=t.a,r=0,s=[],a=0;for(e=n.length;a<e;++a){var l=n[a];r=O(i,r,l[0],o),s.push((r[0]+r[2])/2,(r[1]+r[3])/2),r=l[l.length-1]}for(i=Ia(t),n=t.b,o=t.a,a=0,e=[],l=0,r=n.length;l<r;++l){var h=n[l];e=Ki(i,a,h,o,s,2*l,e),a=h[h.length-1]}t.A=e,t.u=t.j}return t.A}function Ia(t){if(t.M!=t.j){var e=t.s;t:{var i,n=t.b,o=0;for(i=n.length;o<i;++o)if(!tn(e,n[o],t.a,void 0)){n=!1;break t}n=!0}n?t.i=e:(t.i=e.slice(),t.i.length=nn(t.i,t.b,t.a)),t.M=t.j}return t.i}function Aa(t){var e,i,n=t.V,o=t.s,r=[],s=0,a=0;for(e=(t=t.b).length;a<e;++a){var l=t[a].slice(),h=l[l.length-1];if(0!==s){var u=0;for(i=l.length;u<i;++u)l[u]-=s}(u=new on(null)).N(n,o.slice(s,h),l),r.push(u),s=h}return r}function Na(t,e){var i,n=t.V,o=[],r=[],s=0;for(i=e.length;s<i;++s){var a=e[s];0===s&&(n=a.V);var l,h=o.length,u=a.Ma(),c=0;for(l=u.length;c<l;++c)u[c]+=h;Ct(o,a.aa()),r.push(u)}t.N(n,o,r)}function La(t){t=t||{},ya.call(this),this.a=t.geometryName}function Oa(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function _a(t){return t=t.V,{hasZ:"XYZ"===t||"XYZM"===t,hasM:"XYM"===t||"XYZM"===t}}function Da(){this.f=new XMLSerializer,ya.call(this)}function Ra(t,e,i){return 0<(t=qa(t,e,i)).length?t[0]:null}function qa(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&Ct(n,t.qd(e,i));return n}function Fa(t){t=t||{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.a={},this.a["http://www.opengis.net/gml"]={featureMember:oa(Fa.prototype.Nb),featureMembers:oa(Fa.prototype.Nb)},Da.call(this)}function za(t,e,i){var n=i[0];if(n.srsName=e.firstElementChild.getAttribute("srsName"),n.srsDimension=e.firstElementChild.getAttribute("srsDimension"),t=pa(null,t.Fd,e,i,t))return xa(t,!1,n)}function Ga(t){return t=ta(t),Ba(t)}function Ba(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function Ua(t){return t=ta(t),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function Wa(t){return t=ta(t),Xa(t)}function Xa(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function Va(t){return t=ta(t),Ha(t)}function Ha(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function Ya(t){return ta(t).trim()}function Za(t,e){Ka(t,e?"1":"0")}function $a(t,e){t.appendChild(qf.createTextNode(e.toPrecision()))}function Ja(t,e){t.appendChild(qf.createTextNode(e.toString()))}function Ka(t,e){t.appendChild(qf.createTextNode(e))}function Qa(t){t=t||{},Fa.call(this,t),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",this.hasZ=void 0!==t.hasZ&&t.hasZ}function tl(t,e,i){var n=i[i.length-1];i=n.hasZ,t.setAttribute("srsDimension",i?3:2),n=n.srsName;for(var o,r=(e=e.G()).length,s=Array(r),a=0;a<r;++a){o=e[a];var l=a,h=i,u="enu";n&&(u=dt(n).a),u="en"===u.substr(0,2)?o[0]+" "+o[1]:o[1]+" "+o[0],h&&(u+=" "+(o[2]||0)),s[l]=u}Ka(t,s.join(" "))}function el(t){t=t||{},Fa.call(this,t),this.a["http://www.opengis.net/gml"].featureMember=na(Fa.prototype.Nb),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function il(t){return(t=Qs(t,"coordinates")).setAttribute("decimal","."),t.setAttribute("cs",","),t.setAttribute("ts"," "),t}function nl(t,e,i){var n=i[i.length-1];i=n.hasZ,n=n.srsName;for(var o,r=(e=e.G()).length,s=Array(r),a=0;a<r;++a)o=e[a],s[a]=ol(o,n,i);Ka(t,s.join(" "))}function ol(t,e,i){var n="enu";return e&&(n=dt(e).a),e="en"===n.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0],i&&(e+=","+(t[2]||0)),e}function rl(t,e,i,n){return t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.hasZ=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.hasM=!0):t.push(0),t}function sl(t,e,i){var n="XY",o=2;if(t.hasZ&&t.hasM?(n="XYZM",o=4):t.hasZ?(n="XYZ",o=3):t.hasM&&(n="XYM",o=3),4!==o){var r,s=0;for(r=e.length/4;s<r;s++)e[s*o]=e[4*s],e[s*o+1]=e[4*s+1],t.hasZ&&(e[s*o+2]=e[4*s+2]),t.hasM&&(e[s*o+2]=e[4*s+3]);if(e.length=e.length/4*o,i)for(s=0,r=i.length;s<r;s++)i[s]=i[s]/4*o}return n}function al(t,e){var i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),fa(op,t,e)}function ll(t,e){e[e.length-1].extensionsNode_=t}function hl(t,e,i){t.setAttribute("href",e),e=i[i.length-1].properties,ga({node:t},fp,Ff,[e.linkText,e.linkType],i,cp)}function ul(t,e,i){var n=i[i.length-1],o=n.node.namespaceURI,r=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":0!==e[3]&&(r.time=e[3]);case"XYZ":0!==e[2]&&(r.ele=e[2]);break;case"XYM":0!==e[2]&&(r.time=e[2])}n=ua(r,e="rtept"==t.nodeName?gp[o]:wp[o]),ga({node:t,properties:r},xp,Ff,n,i,e)}function cl(t){Ti.call(this),this.a=t||null,dl(this)}function fl(t){var e,i=[],n=0;for(e=t.length;n<e;++n)i.push(t[n].clone());return i}function pl(t){var e;if(t.a){var i=0;for(e=t.a.length;i<e;++i)Qt(t.a[i],"change",t.c,t)}}function dl(t){var e;if(t.a){var i=0;for(e=t.a.length;i<e;++i)Kt(t.a[i],"change",t.c,t)}}function gl(t){t=t||{},ya.call(this),this.defaultDataProjection=dt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.l=dt(t.featureProjection)),this.a=t.geometryName,this.c=t.extractGeometryName}function vl(t,e){return t?xa((0,Mp[t.type])(t),!1,e):null}function ml(t,e){return(0,Sp[t.D()])(xa(t,!0,e),e)}function yl(){ya.call(this)}function bl(t,e,i,n,o,r){re.call(this),this.f=null,this.L=t||new Image,null!==n&&(this.L.crossOrigin=n),this.j=r?document.createElement("CANVAS"):null,this.g=r,this.b=null,this.c=o,this.a=i,this.v=e,this.i=!1,2==this.c&&wl(this)}function wl(t){var e=bn(1,1);try{e.drawImage(t.L,0,0),e.getImageData(0,0,1,1)}catch(e){t.i=!0}}function xl(t){t=t||{},this.g=void 0!==t.anchor?t.anchor:[.5,.5],this.v=null,this.c=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.u=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.A=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction",this.ia=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,n=t.src;g(!(void 0!==n&&e),4),g(!e||e&&i,5),void 0!==n&&0!==n.length||!e||(n=e.src||u(e).toString()),g(void 0!==n&&0<n.length,6);var o=void 0!==t.src?0:2;if(void 0!==t.color){var r=t.color;r=Array.isArray(r)?r:gf(r)}else r=null;this.f=r,r=this.ia;var s=this.f,a=vf.get(n,r,s);a||(a=new bl(e,n,i,r,o,s),vf.set(n,r,s,a)),this.a=a,this.ka=void 0!==t.offset?t.offset:[0,0],this.l=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.H=null,this.C=void 0!==t.size?t.size:null,ss.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function Ml(t){if(t=ta(t),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function Sl(t){t=ta(t);for(var e,i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);if(""===t)return i}function Cl(t){var e=ta(t).trim();return(t=t.baseURI)&&"about:blank"!=t||(t=window.location.href),t?new URL(e,t).href:e}function Pl(t){return Wa(t)}function jl(t,e){return pa(null,Lp,t,e)}function kl(t,e){if(e=pa({s:[],zf:[]},_p,t,e)){t=e.s,e=e.zf;var i,n=0;for(i=Math.min(t.length,e.length);n<i;++n)t[4*n+3]=e[n];return(e=new Ms(null)).N("XYZM",t),e}}function El(t,e){var i=pa({},Np,t,e);if(t=pa(null,Dp,t,e))return(e=new Ms(null)).N("XYZ",t),e.na(i),e}function Tl(t,e){var i=pa({},Np,t,e);if(t=pa(null,Dp,t,e))return(e=new on(null)).N("XYZ",t,[t.length]),e.na(i),e}function Il(t,e){if(!(t=pa([],Bp,t,e)))return null;if(0===t.length)return new cl(t);var i,n=!0,o=t[0].D(),r=1;for(i=t.length;r<i;++r)if((e=t[r]).D()!=o){n=!1;break}if(n)if("Point"==o){var s=t[0];for(n=s.V,o=s.aa(),r=1,i=t.length;r<i;++r)e=t[r],Ct(o,e.aa());(s=new ja(null)).N(n,o),Ol(s,t)}else"LineString"==o?(s=new Ca(null),Pa(s,t),Ol(s,t)):"Polygon"==o?(s=new Ea(null),Na(s,t),Ol(s,t)):"GeometryCollection"==o?s=new cl(t):g(!1,37);else s=new cl(t);return s}function Al(t,e){var i=pa({},Np,t,e);if(t=pa(null,Dp,t,e))return(e=new $i(null)).N("XYZ",t),e.na(i),e}function Nl(t,e){var i=pa({},Np,t,e);if((t=pa([null],Op,t,e))&&t[0]){e=new on(null);var n,o=t[0],r=[o.length],s=1;for(n=t.length;s<n;++s)Ct(o,t[s]),r.push(o.length);return e.N("XYZ",o,r),e.na(i),e}}function Ll(t,e){if(!(e=pa({},Zp,t,e)))return null;t="fillStyle"in e?e.fillStyle:void 0;var i=e.fill;void 0===i||i||(t=null),void 0==(i="imageStyle"in e?e.imageStyle:void 0)&&(i=void 0);var n="textStyle"in e?e.textStyle:void 0,o="strokeStyle"in e?e.strokeStyle:void 0;return void 0===(e=e.outline)||e||(o=null),[new fs({fill:t,image:i,stroke:o,text:n,zIndex:void 0})]}function Ol(t,e){var i,n,o,r=e.length,s=Array(e.length),a=Array(e.length),l=Array(e.length),h=n=o=!1;for(i=0;i<r;++i){var u=e[i];s[i]=u.get("extrude"),a[i]=u.get("tessellate"),l[i]=u.get("altitudeMode"),h=h||void 0!==s[i],n=n||void 0!==a[i],o=o||l[i]}h&&t.set("extrude",s),n&&t.set("tessellate",a),o&&t.set("altitudeMode",l)}function _l(t,e){fa(Ep,t,e)}function Dl(t,e){fa(Tp,t,e)}function Rl(t,e){e=[255*(4==(e=Array.isArray(e)?e:gf(e)).length?e[3]:1),e[2],e[1],e[0]];var i;for(i=0;4>i;++i){var n=parseInt(e[i],10).toString(16);e[i]=1==n.length?"0"+n:n}Ka(t,e.join(""))}function ql(t,e,i){t={node:t};var n=e.D();if("GeometryCollection"==n)var o=fl(e.a),r=Vl;else"MultiPoint"==n?(o=ka(e),r=Md):"MultiLineString"==n?(o=e.tb(),r=Sd):"MultiPolygon"==n?(o=Aa(e),r=Pd):g(!1,39);ga(t,hd,r,o,i)}function Fl(t,e,i){ga({node:t},ld,Cd,[e],i)}function zl(t,e,i){var n={node:t};e.b&&t.setAttribute("id",e.b),t=e.Fa();var o={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};o[e.a]=1;var r=Object.keys(t||{}).sort().filter(function(t){return!o[t]});if(0<r.length){var s=ua(t,r);ga(n,cd,wd,[{names:r,values:s}],i)}(r=e.cb())&&(r=r.call(e,0))&&(r=Array.isArray(r)?r[0]:r,this.a&&(t.Style=r),(r=r.ra())&&(t.name=r.ra())),t=ua(t,r=ud[i[i.length-1].node.namespaceURI]),ga(n,cd,Ff,t,i,r),t=i[0],(e=e.O())&&(e=xa(e,!0,t)),ga(n,cd,Vl,[e],i)}function Gl(t,e,i){var n=e.aa();(t={node:t}).layout=e.V,t.stride=e.ga(),(e=e.Fa()).coordinates=n,e=ua(e,n=fd[i[i.length-1].node.namespaceURI]),ga(t,pd,Ff,e,i,n)}function Bl(t,e,i){var n=(e=rn(e)).shift();ga(t={node:t},dd,xd,e,i),ga(t,dd,jd,[n],i)}function Ul(t,e){$a(t,Math.round(1e6*e)/1e6)}function Wl(t,e,i){return Qs(Cp[0],"gx:"+i)}function Xl(t,e){return Qs(e[e.length-1].node.namespaceURI,"Placemark")}function Vl(t,e){if(t)return Qs(e[e.length-1].node.namespaceURI,Qp[t.D()])}function Hl(t,e,i,n){this.g=t,this.a=e,this.c=this.j=null,this.l=i,this.v=n,this.f=Si()}function Yl(t){ya.call(this),t=t||{},this.defaultDataProjection=new it({code:"EPSG:3857",units:"tile-pixels"}),this.a=t.featureClass?t.featureClass:Hl,this.j=t.geometryName,this.b=t.layerName?t.layerName:"layer",this.g=t.layers?t.layers:null,this.c=null}function Zl(t,e,i){if(3===t){t={keys:[],values:[],features:[]};var n=i.ma()+i.P;i.sd($l,t,n),t.length=t.features.length,t.length&&(e[t.name]=t)}}function $l(t,e,i){if(15===t)e.version=i.ma();else if(1===t)e.name=i.xd();else if(5===t)e.extent=i.ma();else if(2===t)e.features.push(i.P);else if(3===t)e.keys.push(i.xd());else if(4===t){t=null;for(var n=i.ma()+i.P;i.P<n;)t=i.ma()>>3,t=1===t?i.xd():2===t?i.Pi():3===t?i.Li():4===t?i.Wi():5===t?i.ma():6===t?i.wd():7===t?i.Ji():null;e.values.push(t)}}function Jl(t,e,i){if(1==t)e.id=i.ma();else if(2==t)for(t=i.ma()+i.P;i.P<t;){var n=e.layer.keys[i.ma()],o=e.layer.values[i.ma()];e.properties[n]=o}else 3==t?e.type=i.ma():4==t&&(e.geometry=i.P)}function Kl(t,e,i){var n=i.type;if(0===n)return null;var o=i.id,r=i.properties;r[t.b]=i.layer.name;var s=[],a=[],l=a;e.P=i.geometry,i=e.ma()+e.P;for(var h=1,u=0,c=0,f=0,p=0,d=0;e.P<i;)u||(u=e.ma(),h=7&u,u>>=3),u--,1===h||2===h?(c+=e.wd(),f+=e.wd(),1===h&&p>d&&(l.push(p),d=p),s.push(c,f),p+=2):7===h?p>d&&(s.push(s[d],s[d+1]),p+=2):g(!1,59);p>d&&l.push(p),e=a.length;var v;if(1===n?v=1===e?"Point":"MultiPoint":2===n?v=1===e?"LineString":"MultiLineString":3===n&&(v="Polygon"),n=v,t.a===Hl)s=new t.a(n,s,a,r,o);else{if("Polygon"==n){for(n=[],l=e=v=0,i=a.length;l<i;++l)h=a[l],Qi(s,v,h,2)||(n.push(a.slice(e,l)),e=l),v=h;1<n.length?(a=n,n=new Ea(null)):n=new on(null)}else n="Point"===n?new $i(null):"LineString"===n?new Ms(null):"Polygon"===n?new on(null):"MultiPoint"===n?new ja(null):"MultiLineString"===n?new Ca(null):null;n.N("XY",s,a),s=new t.a,t.j&&s.Za(t.j),t=xa(n,!1,wa(t,void 0)),s.Ba(t),s.lb(o),s.na(r)}return s}function Ql(t,e){e[e.length-1].zc[t.getAttribute("k")]=t.getAttribute("v")}function th(t){t=t||{},ya.call(this),this.c=t.layerName,this.a=t.layers?t.layers:null,this.defaultDataProjection=dt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")}function eh(t,e){var i,n,o=[],r=0;for(n=t.length;r<n;++r){var s=t[r];0<r&&o.pop(),i=0<=s?e[s]:e[~s].slice().reverse(),o.push.apply(o,i)}for(t=0,e=o.length;t<e;++t)o[t]=o[t].slice();return o}function ih(t,e,i,n,o,r,s){var a,l=[],h=0;for(a=(t=t.geometries).length;h<a;++h)l[h]=nh(t[h],e,i,n,o,r,s);return l}function nh(t,e,i,n,o,r,s){var a=t.type,l=Id[a];return i="Point"===a||"MultiPoint"===a?l(t,i,n):l(t,e),(e=new ms).Ba(xa(i,!1,s)),void 0!==t.id&&e.lb(t.id),t=t.properties,o&&(t||(t={}),t[o]=r),t&&e.na(t),e}function oh(t,e,i){t[0]=t[0]*e[0]+i[0],t[1]=t[1]*e[1]+i[1]}function rh(t){t=t||{},this.j=t.featureType,this.c=t.featureNS,this.a=t.gmlFormat?t.gmlFormat:new Qa,Da.call(this)}function sh(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return pa({},_d,t,[])}function ah(t,e){var i=Qs("http://www.opengis.net/ogc","Filter"),n=Qs("http://www.opengis.net/ogc","FeatureId");i.appendChild(n),n.setAttribute("fid",e),t.appendChild(i)}function lh(t,e){return t=(t||"feature")+":",0===e.indexOf(t)?e:t+e}function hh(t){t=t||{},ya.call(this),this.a=void 0!==t.splitCollection&&t.splitCollection}function uh(t){return 0===(t=t.G()).length?"":t.join(" ")}function ch(t){for(var e=[],i=0,n=(t=t.G()).length;i<n;++i)e.push(t[i].join(" "));return e.join(",")}function fh(t){for(var e=[],i=0,n=(t=rn(t)).length;i<n;++i)e.push("("+ch(t[i])+")");return e.join(",")}function ph(t){var e=t.D(),i=(0,Rd[e])(t);if(e=e.toUpperCase(),t instanceof Ii){var n="";"XYZ"!==(t=t.V)&&"XYZM"!==t||(n+="Z"),"XYM"!==t&&"XYZM"!==t||(n+="M"),0<(t=n).length&&(e+=" "+t)}return 0===i.length?e+" EMPTY":e+"("+i+")"}function dh(t,e){return t=new mh(new gh(t)),yh(t),(t=wh(t))?xa(t,!1,e):null}function gh(t){this.c=t,this.a=-1}function vh(t){var e=t.c.charAt(++t.a),i={position:t.a,value:e};if("("==e)i.type=2;else if(","==e)i.type=5;else if(")"==e)i.type=3;else if("0"<=e&&"9">=e||"."==e||"-"==e){i.type=4,e=t.a;var n=!1,o=!1;do{"."==r?n=!0:"e"!=r&&"E"!=r||(o=!0);var r=t.c.charAt(++t.a)}while("0"<=r&&"9">=r||"."==r&&(void 0===n||!n)||!o&&("e"==r||"E"==r)||o&&("-"==r||"+"==r));t=parseFloat(t.c.substring(e,t.a--)),i.value=t}else if("a"<=e&&"z">=e||"A"<=e&&"Z">=e){i.type=1,e=t.a;do{r=t.c.charAt(++t.a)}while("a"<=r&&"z">=r||"A"<=r&&"Z">=r);t=t.c.substring(e,t.a--).toUpperCase(),i.value=t}else{if(" "==e||"\t"==e||"\r"==e||"\n"==e)return vh(t);if(""!==e)throw Error("Unexpected character: "+e);i.type=6}return i}function mh(t){this.l=t,this.c="XY"}function yh(t){t.a=vh(t.l)}function bh(t,e){return(e=t.a.type==e)&&yh(t),e}function wh(t){var e=t.a;if(bh(t,1)){e=e.value;var i="XY",n=t.a;if(1==t.a.type&&("Z"===(n=n.value)?i="XYZ":"M"===n?i="XYM":"ZM"===n&&(i="XYZM"),"XY"!==i&&yh(t)),t.c=i,"GEOMETRYCOLLECTION"==e){t:{if(bh(t,2)){e=[];do{e.push(wh(t))}while(bh(t,5));if(bh(t,3)){t=e;break t}}else if(Ch(t)){t=[];break t}throw Error(Ph(t))}return new cl(t)}if(n=Fd[e],i=qd[e],!n||!i)throw Error("Invalid geometry type: "+e);return e=n.call(t),new i(e,t.c)}throw Error(Ph(t))}function xh(t){for(var e=[],i=t.c.length,n=0;n<i;++n){var o=t.a;if(!bh(t,4))break;e.push(o.value)}if(e.length==i)return e;throw Error(Ph(t))}function Mh(t){for(var e=[xh(t)];bh(t,5);)e.push(xh(t));return e}function Sh(t){for(var e=[t.ld()];bh(t,5);)e.push(t.ld());return e}function Ch(t){var e=1==t.a.type&&"EMPTY"==t.a.value;return e&&yh(t),e}function Ph(t){return"Unexpected `"+t.a.value+"` at position "+t.a.position+" in `"+t.l.c+"`"}function jh(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function kh(t,e){return pa({},eg,t,e)}function Eh(t,e){return pa({},Jd,t,e)}function Th(t,e){if(e=kh(t,e))return t=[Ha(t.getAttribute("width")),Ha(t.getAttribute("height"))],e.size=t,e}function Ih(t,e){return pa([],ig,t,e)}function Ah(t){var e=Ya(t).split(" ");if(e&&2==e.length&&(t=+e[0],e=+e[1],!isNaN(t)&&!isNaN(e)))return[t,e]}function Nh(t,e,i){Ii.call(this),Lh(this,t,e||0,i)}function Lh(t,e,i,n){if(e){Li(t,n,e,0),t.s||(t.s=[]),e=zi(n=t.s,e),n[e++]=n[0]+i;var o;for(i=1,o=t.a;i<o;++i)n[e++]=n[i];n.length=e}else Ni(t,"XY",null);t.c()}function Oh(t){var e=bc({},t=t||{});delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Ln.call(this,e),this.b=void 0!==t.declutter&&t.declutter,this.i=void 0!==t.renderBuffer?t.renderBuffer:100,this.J=null,this.A=void 0,this.K(t.style),this.M=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.X=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting,this.type="VECTOR"}function _h(){return[[-1/0,-1/0,1/0,1/0]]}function Dh(t){t=t||{},qs.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.A=h,this.u=t.format,this.M=void 0==t.overlaps||t.overlaps,this.K=t.url,void 0!==t.loader?this.A=t.loader:void 0!==this.K&&(g(this.u,7),this.A=ma(this.K,this.u)),this.fa=void 0!==t.strategy?t.strategy:_h;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;if(this.a=e?new Ns:null,this.J=new Ns,this.b={},this.f={},this.i={},this.o={},this.g=null,t.features instanceof fe)var i=t.features,n=i.a;else Array.isArray(t.features)&&(n=t.features);e||void 0!==i||(i=new fe(n)),void 0!==n&&Fh(this,n),void 0!==i&&zh(this,i)}function Rh(t,e,i){t.o[e]=[Kt(i,"change",t.Re,t),Kt(i,"propertychange",t.Re,t)]}function qh(t,e,i){var n=!0,o=i.b;return void 0!==o?o.toString()in t.f?n=!1:t.f[o.toString()]=i:(g(!(e in t.i),30),t.i[e]=i),n}function Fh(t,e){var i,n=[],o=[],r=[],s=0;for(i=e.length;s<i;s++){var a=e[s],l=u(a).toString();qh(t,l,a)&&o.push(a)}for(s=0,i=o.length;s<i;s++)a=o[s],l=u(a).toString(),Rh(t,l,a),(e=a.O())?(l=e.I(),n.push(l),r.push(a)):t.b[l]=a;for(t.a&&t.a.load(n,r),s=0,i=o.length;s<i;s++)t.l(new Uh("addfeature",o[s]))}function zh(t,e){var i=!1;Kt(t,"addfeature",function(t){i||(i=!0,e.push(t.feature),i=!1)}),Kt(t,"removefeature",function(t){i||(i=!0,e.remove(t.feature),i=!1)}),Kt(e,"add",function(t){i||(i=!0,this.Va(t.element),i=!1)},t),Kt(e,"remove",function(t){i||(i=!0,this.Qa(t.element),i=!1)},t),t.g=e}function Gh(t,e,i,n){t.a?Ds(t.a,e,i,n):t.g&&t.g.forEach(i,n)}function Bh(t,e){for(var i in t.f)if(t.f[i]===e){delete t.f[i];break}}function Uh(t,e){ne.call(this,t),this.feature=e}function Wh(t){ro.call(this,{handleDownEvent:Hh,handleEvent:Vh,handleUpEvent:Yh}),this.M=!1,this.ea=null,this.f=!1,this.pb=t.source?t.source:null,this.Ha=t.features?t.features:null,this.sg=t.snapTolerance?t.snapTolerance:12,this.K=t.type,this.b=iu(this.K),this.xa=t.minPoints?t.minPoints:this.b===Ng?3:2,this.la=t.maxPoints?t.maxPoints:1/0,this.Fc=t.finishCondition?t.finishCondition:wi;var e=t.geometryFunction;if(!e)if("Circle"===this.K)e=function(t,e){return e=e||new Nh([NaN,NaN]),Lh(e,t[0],Math.sqrt(di(t[0],t[1]))),e};else{var i,n=this.b;n===Ig?i=$i:n===Ag?i=Ms:n===Ng&&(i=on),e=function(t,e){return e?n===Ng?e.Y([t[0].concat([t[0][0]])]):e.Y(t):e=new i(t),e}}this.Ia=e,this.J=this.u=this.a=this.A=this.i=this.o=null,this.qb=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.fa=new Oh({source:new Dh({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:Xh()}),this.Ka=t.geometryName,this.qg=t.condition?t.condition:to,this.Dc=t.freehand?wi:t.freehandCondition?t.freehandCondition:eo,Kt(this,he("active"),this.rb,this)}function Xh(){var t=gs();return function(e){return t[e.O().D()]}}function Vh(t){this.f=this.b!==Ig&&this.Dc(t);var e=!0;return this.f&&"pointerdrag"===t.type&&null!==this.i?(Kh(this,t),e=!1):this.f&&"pointerdown"===t.type?e=!1:"pointermove"===t.type?e=Zh(this,t):"dblclick"===t.type&&(e=!1),ao.call(this,t)&&e}function Hh(t){return this.M=!this.f,this.f?(this.ea=t.pixel,this.o||Jh(this,t),!0):!!this.qg(t)&&(this.ea=t.pixel,!0)}function Yh(t){var e=!0;Zh(this,t);var i=this.b===Lg;return this.M?(this.o?this.f||i?Qh(this):$h(this,t)?this.Fc(t)&&Qh(this):Kh(this,t):(Jh(this,t),this.b===Ig&&Qh(this)),e=!1):this.f&&(this.o=null,tu(this)),e}function Zh(t,e){if(t.ea&&(!t.f&&t.M||t.f&&!t.M)){var i=t.ea,n=e.pixel,o=i[0]-n[0];o=o*o+(i=i[1]-n[1])*i,t.M=t.f?o>t.qb:o<=t.qb}return t.o?(o=e.coordinate,i=t.i.O(),t.b===Ig?n=t.a:t.b===Ng?(n=t.a[0],n=n[n.length-1],$h(t,e)&&(o=t.o.slice())):(n=t.a,n=n[n.length-1]),n[0]=o[0],n[1]=o[1],t.Ia(t.a,i),t.A&&t.A.O().Y(o),i instanceof on&&t.b!==Ng?(t.u||(t.u=new ms(new Ms(null))),o=i.ee(0),(e=t.u.O()).N(o.V,o.aa())):t.J&&(e=t.u.O()).Y(t.J),eu(t)):(e=e.coordinate.slice(),t.A?t.A.O().Y(e):(t.A=new ms(new $i(e)),eu(t))),!0}function $h(t,e){var i=!1;if(t.i){var n=!1,o=[t.o];if(t.b===Ag?n=t.a.length>t.xa:t.b===Ng&&(n=t.a[0].length>t.xa,o=[t.a[0][0],t.a[0][t.a[0].length-2]]),n){n=e.map;for(var r=0,s=o.length;r<s;r++){var a=o[r],l=In(n,a),h=e.pixel;if(i=h[0]-l[0],l=h[1]-l[1],i=Math.sqrt(i*i+l*l)<=(t.f?1:t.sg)){t.o=a;break}}}}return i}function Jh(t,e){e=e.coordinate,t.o=e,t.b===Ig?t.a=e.slice():t.b===Ng?(t.a=[[e.slice(),e.slice()]],t.J=t.a[0]):(t.a=[e.slice(),e.slice()],t.b===Lg&&(t.J=t.a)),t.J&&(t.u=new ms(new Ms(t.J))),e=t.Ia(t.a),t.i=new ms,t.Ka&&t.i.Za(t.Ka),t.i.Ba(e),eu(t),t.l(new nu("drawstart",t.i))}function Kh(t,e){e=e.coordinate;var i,n=t.i.O();if(t.b===Ag){t.o=e.slice();var o=t.a;o.length>=t.la&&(t.f?o.pop():i=!0),o.push(e.slice()),t.Ia(o,n)}else t.b===Ng&&((o=t.a[0]).length>=t.la&&(t.f?o.pop():i=!0),o.push(e.slice()),i&&(t.o=o[0]),t.Ia(t.a,n));eu(t),i&&Qh(t)}function Qh(t){var e=tu(t),i=t.a,n=e.O();t.b===Ag?(i.pop(),t.Ia(i,n)):t.b===Ng&&(i[0].pop(),t.Ia(i,n),i=n.G()),"MultiPoint"===t.K?e.Ba(new ja([i])):"MultiLineString"===t.K?e.Ba(new Ca([i])):"MultiPolygon"===t.K&&e.Ba(new Ea([i])),t.l(new nu("drawend",e)),t.Ha&&t.Ha.push(e),t.pb&&t.pb.Va(e)}function tu(t){t.o=null;var e=t.i;return e&&(t.i=null,t.A=null,t.u=null,t.fa.$().clear(!0)),e}function eu(t){var e=[];t.i&&e.push(t.i),t.u&&e.push(t.u),t.A&&e.push(t.A),(t=t.fa.$()).clear(!0),t.Bb(e)}function iu(t){var e;return"Point"===t||"MultiPoint"===t?e=Ig:"LineString"===t||"MultiLineString"===t?e=Ag:"Polygon"===t||"MultiPolygon"===t?e=Ng:"Circle"===t&&(e=Lg),e}function nu(t,e){ne.call(this,t),this.feature=e}function ou(t){if(ro.call(this,{handleDownEvent:uu,handleDragEvent:cu,handleEvent:pu,handleUpEvent:fu}),this.rb=t.condition?t.condition:oo,this.Ka=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey&&Qn(t)},this.pb=t.deleteCondition?t.deleteCondition:this.Ka,this.qb=t.insertVertexCondition?t.insertVertexCondition:wi,this.Ha=this.b=null,this.xa=[0,0],this.u=this.J=!1,this.a=new Ns,this.fa=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.i=this.la=!1,this.f=[],this.A=new Oh({source:new Dh({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:yu(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.ea={Point:this.ei,LineString:this.Je,LinearRing:this.Je,Polygon:this.fi,MultiPoint:this.ci,MultiLineString:this.bi,MultiPolygon:this.di,Circle:this.$h,GeometryCollection:this.ai},this.M=null,t.source?(this.M=t.source,t=new fe(this.M.mc()),Kt(this.M,"addfeature",this.Yg,this),Kt(this.M,"removefeature",this.ah,this)):t=t.features,!t)throw Error("The modify interaction requires features or a source");this.o=t,this.o.forEach(this.hd,this),Kt(this.o,"add",this.Yh,this),Kt(this.o,"remove",this.Zh,this),this.K=null}function ru(t,e){t.u||(t.u=!0,t.l(new bu("modifystart",t.o,e)))}function su(t,e){au(t,e),t.b&&0===t.o.fb()&&(t.A.$().Qa(t.b),t.b=null),Qt(e,"change",t.Ie,t)}function au(t,e){var i=[];(t=t.a).forEach(function(t){e===t.feature&&i.push(t)});for(var n=i.length-1;0<=n;--n)t.remove(i[n])}function lu(t,e){var i=t.b;i?i.O().Y(e):(i=new ms(new $i(e)),t.b=i,t.A.$().Va(i))}function hu(t,e){return t.index-e.index}function uu(t){if(!this.rb(t))return!1;du(this,t.pixel,t.map);var e=t.map.Ja(t.pixel);this.f.length=0,this.u=!1;var i=this.b;if(i){var n=[],o=C([i=i.O().G()]),r={};(o=_s(this.a,o)).sort(hu);for(var s=0,a=o.length;s<a;++s){var l=o[s],h=l.S,c=u(l.feature),f=l.depth;f&&(c+="-"+f.join("-")),r[c]||(r[c]=Array(2)),"Circle"===l.geometry.D()&&1===l.index?(h=vu(e,l),ci(h,i)&&!r[c][0]&&(this.f.push([l,0]),r[c][0]=l)):ci(h[0],i)&&!r[c][0]?(this.f.push([l,0]),r[c][0]=l):ci(h[1],i)&&!r[c][1]?("LineString"!==l.geometry.D()&&"MultiLineString"!==l.geometry.D()||!r[c][0]||0!==r[c][0].index)&&(this.f.push([l,1]),r[c][1]=l):this.qb(t)&&u(h)in this.Ha&&!r[c][0]&&!r[c][1]&&n.push([l,i])}for(n.length&&ru(this,t),t=n.length-1;0<=t;--t)this.hh.apply(this,n[t])}return!!this.b}function cu(t){this.J=!1,ru(this,t),t=t.coordinate;for(var e=0,i=this.f.length;e<i;++e){var n=this.f[e],o=n[0],r=o.depth,s=o.geometry,a=o.S;for(n=n[1];t.length<s.ga();)t.push(a[n][t.length]);switch(s.D()){case"Point":var l=t;a[0]=a[1]=t;break;case"MultiPoint":(l=s.G())[o.index]=t,a[0]=a[1]=t;break;case"LineString":(l=s.G())[o.index+n]=t,a[n]=t;break;case"MultiLineString":case"Polygon":(l=s.G())[r[0]][o.index+n]=t,a[n]=t;break;case"MultiPolygon":(l=s.G())[r[1]][r[0]][o.index+n]=t,a[n]=t;break;case"Circle":a[0]=a[1]=t,0===o.index?(this.i=!0,s.Oa(t)):(this.i=!0,s.kf(gi(s.ja(),t))),this.i=!1}l&&(o=s,r=l,this.i=!0,o.Y(r),this.i=!1)}lu(this,t)}function fu(t){for(var e,i,n=this.f.length-1;0<=n;--n)if(e=this.f[n][0],"Circle"===(i=e.geometry).D()){var o=i.ja(),r=e.Vc[0];e=e.Vc[1],r.S[0]=r.S[1]=o,e.S[0]=e.S[1]=o,Ls(this.a,L(o),r),Ls(this.a,i.I(),e)}else Ls(this.a,C(e.S),e);return this.u&&(this.l(new bu("modifyend",this.o,t)),this.u=!1),!1}function pu(t){if(!(t instanceof we))return!0;if(this.K=t,0<t.map.Z().a[1]||"pointermove"!=t.type||this.B||(this.xa=t.pixel,du(this,t.pixel,t.map)),this.b&&this.pb(t)){if("singleclick"==t.type&&this.J)var e=!0;else if(this.K&&"pointerdrag"!=this.K.type){var i=this.K;ru(this,i);var n,o,r=this.f,s={};for(o=r.length-1;0<=o;--o){var a=r[o],l=a[0];e=u(l.feature),l.depth&&(e+="-"+l.depth.join("-")),e in s||(s[e]={}),0===a[1]?(s[e].right=l,s[e].index=l.index):1==a[1]&&(s[e].left=l,s[e].index=l.index+1)}for(e in s){var h=s[e].right,c=s[e].left,f=(o=s[e].index)-1;l=void 0!==c?c:h,0>f&&(f=0);var p=n=(a=l.geometry).G(),d=!1;switch(a.D()){case"MultiLineString":2<n[l.depth[0]].length&&(n[l.depth[0]].splice(o,1),d=!0);break;case"LineString":2<n.length&&(n.splice(o,1),d=!0);break;case"MultiPolygon":p=p[l.depth[1]];case"Polygon":4<(p=p[l.depth[0]]).length&&(o==p.length-1&&(o=0),p.splice(o,1),d=!0,0===o&&(p.pop(),p.push(p[0]),f=p.length-1))}d&&(d=a,this.i=!0,d.Y(n),this.i=!1,n=[],void 0!==c&&(this.a.remove(c),n.push(c.S[0])),void 0!==h&&(this.a.remove(h),n.push(h.S[1])),void 0!==c&&void 0!==h&&(c={depth:l.depth,feature:l.feature,geometry:l.geometry,index:f,S:n},this.a.da(C(c.S),c)),mu(this,a,o,l.depth,-1),this.b&&(this.A.$().Qa(this.b),this.b=null),r.length=0)}this.l(new bu("modifyend",this.o,i)),this.u=!1,e=!0}else e=!1;i=e}return"singleclick"==t.type&&(this.J=!1),ao.call(this,t)&&!i}function du(t,e,i){var n=i.Ja(e),o=P(L(n),i.Z().za()*t.fa);if(0<(o=_s(t.a,o)).length){o.sort(function(t,e){return gu(n,t)-gu(n,e)});var r=o[0],s=r.S,a=vu(n,r),l=In(i,a),h=gi(e,l);if(h<=t.fa){if(e={},"Circle"===r.geometry.D()&&1===r.index)t.la=!0,lu(t,a);else for(h=In(i,s[0]),r=In(i,s[1]),i=di(l,h),l=di(l,r),h=Math.sqrt(Math.min(i,l)),t.la=h<=t.fa,t.la&&(a=i>l?s[1]:s[0]),lu(t,a),l=1,i=o.length;l<i&&(a=o[l].S,ci(s[0],a[0])&&ci(s[1],a[1])||ci(s[0],a[1])&&ci(s[1],a[0]));++l)e[u(a)]=!0;return e[u(s)]=!0,void(t.Ha=e)}}t.b&&(t.A.$().Qa(t.b),t.b=null)}function gu(t,e){var i=e.geometry;return"Circle"===i.D()&&1===e.index?(t=di(i.ja(),t),(i=Math.sqrt(t)-i.Jb())*i):vi(t,e.S)}function vu(t,e){var i=e.geometry;return"Circle"===i.D()&&1===e.index?(e=[NaN,NaN],i.Pa(t[0],t[1],e,1/0),t=e):t=ui(t,e.S),t}function mu(t,e,i,n,o){Ds(t.a,e.I(),function(t){t.geometry===e&&(void 0===n||void 0===t.depth||Pt(t.depth,n))&&t.index>i&&(t.index+=o)})}function yu(){var t=gs();return function(){return t.Point}}function bu(t,e,i){ne.call(this,t),this.features=e,this.mapBrowserEvent=i}function wu(t){if(Xn.call(this,{handleEvent:xu}),t=t||{},this.u=t.condition?t.condition:Qn,this.B=t.addCondition?t.addCondition:xi,this.M=t.removeCondition?t.removeCondition:xi,this.X=t.toggleCondition?t.toggleCondition:eo,this.o=!!t.multi&&t.multi,this.g=t.filter?t.filter:wi,this.f=t.hitTolerance?t.hitTolerance:0,this.a=new Oh({source:new Dh({useSpatialIndex:!1,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:Mu(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.layers)if("function"==typeof t.layers)t=t.layers;else{var e=t.layers;t=function(t){return 0<=e.indexOf(t)}}else t=wi;this.i=t,this.b={},Kt(t=this.a.$().g,"add",this.A,this),Kt(t,"remove",this.K,this)}function xu(t){if(!this.u(t))return!0;var e=this.B(t),i=this.M(t),n=this.X(t),o=!e&&!i&&!n,r=t.map,s=this.a.$().g,a=[],l=[];if(o){for(H(this.b),r.Wc(t.pixel,function(t,e){if(this.g(t,e))return l.push(t),t=u(t),this.b[t]=e,!this.o}.bind(this),{layerFilter:this.i,hitTolerance:this.f}),o=s.fb()-1;0<=o;--o){r=s.oe(o);var h=l.indexOf(r);-1<h?l.splice(h,1):(s.remove(r),a.push(r))}0!==l.length&&pe(s,l)}else{for(r.Wc(t.pixel,function(t,o){if(this.g(t,o))return!e&&!n||0<=s.a.indexOf(t)?(i||n)&&0<=s.a.indexOf(t)&&(a.push(t),o=u(t),delete this.b[o]):(l.push(t),t=u(t),this.b[t]=o),!this.o}.bind(this),{layerFilter:this.i,hitTolerance:this.f}),o=a.length-1;0<=o;--o)s.remove(a[o]);pe(s,l)}return(0<l.length||0<a.length)&&this.l(new Su(Og,l,a,t)),"pointermove"==t.type}function Mu(){var t=gs();return Ct(t.Polygon,t.LineString),Ct(t.GeometryCollection,t.LineString),function(e){return e.O()?t[e.O().D()]:null}}function Su(t,e,i,n){ne.call(this,t),this.selected=e,this.deselected=i,this.mapBrowserEvent=n}function Cu(t){ro.call(this,{handleEvent:ju,handleDownEvent:wi,handleUpEvent:ku}),t=t||{},this.i=t.source?t.source:null,this.K=void 0===t.vertex||t.vertex,this.u=void 0===t.edge||t.edge,this.f=t.features?t.features:null,this.fa=[],this.A={},this.M={},this.o={},this.J=null,this.b=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.la=Eu.bind(this),this.a=new Ns,this.ea={Point:this.mi,LineString:this.Me,LinearRing:this.Me,Polygon:this.ni,MultiPoint:this.ki,MultiLineString:this.ji,MultiPolygon:this.li,GeometryCollection:this.ii,Circle:this.hi}}function Pu(t,e,i,n){var o=n.Ja([e[0]-t.b,e[1]+t.b]),r=n.Ja([e[0]+t.b,e[1]-t.b]);o=C([o,r]);var s=_s(t.a,o);t.K&&!t.u&&(s=s.filter(function(t){return"Circle"!==t.feature.O().D()}));var a=!1;o=!1;var l=r=null;if(0<s.length){t.J=i,s.sort(t.la);var h=s[0].S;a="Circle"===s[0].feature.O().D(),t.K&&!t.u?(i=In(n,h[0]),a=In(n,h[1]),i=di(e,i),e=di(e,a),(a=(a=Math.sqrt(Math.min(i,e)))<=t.b)&&(o=!0,r=i>e?h[1]:h[0],l=In(n,r))):t.u&&(r=a?hi(i,s[0].feature.O()):ui(i,h),l=In(n,r),gi(e,l)<=t.b&&(o=!0,t.K&&!a&&(i=In(n,h[0]),a=In(n,h[1]),i=di(l,i),e=di(l,a),a=Math.sqrt(Math.min(i,e)),a=a<=t.b)))&&(r=i>e?h[1]:h[0],l=In(n,r)),o&&(l=[Math.round(l[0]),Math.round(l[1])])}return{hj:o,vertex:r,qj:l}}function ju(t){var e=Pu(this,t.pixel,t.coordinate,t.map);return e.hj&&(t.coordinate=e.vertex.slice(0,2),t.pixel=e.qj),ao.call(this,t)}function ku(){var t=Y(this.o);return t.length&&(t.forEach(this.wf,this),this.o={}),!1}function Eu(t,e){return vi(this.J,t.S)-vi(this.J,e.S)}function Tu(t){var e=bc({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Ln.call(this,e),this.set("preload",void 0!==t.preload?t.preload:0),this.set("useInterimTilesOnError",void 0===t.useInterimTilesOnError||t.useInterimTilesOnError),this.type="TILE"}function Iu(t){var e=bc({},t=t||{});delete e.preload,delete e.useInterimTilesOnError,Oh.call(this,e),this.set("preload",t.preload?t.preload:0),this.set("useInterimTilesOnError",!t.useInterimTilesOnError||t.useInterimTilesOnError),g(void 0==(e=t.renderMode)||"image"==e||"hybrid"==e||"vector"==e,28),t.declutter&&"image"==e&&(e="hybrid"),this.o=e||"hybrid",this.type="VECTOR_TILE"}function Au(t,e){var i=/\{z\}/g,n=/\{x\}/g,o=/\{y\}/g,r=/\{-y\}/g;return function(s){if(s)return t.replace(i,s[0].toString()).replace(n,s[1].toString()).replace(o,function(){return(-s[2]-1).toString()}).replace(r,function(){var t=e.c?e.c[s[0]]:null;return g(t,55),(t.U-t.R+1+s[2]).toString()})}}function Nu(t,e){for(var i=t.length,n=Array(i),o=0;o<i;++o)n[o]=Au(t[o],e);return Lu(n)}function Lu(t){return 1===t.length?t[0]:function(e,i,n){if(e)return t[b((e[1]<<e[0])+e[2],t.length)](e,i,n)}}function Ou(){}function _u(t){var e=[],i=/\{([a-z])-([a-z])\}/.exec(t);if(i){var n,o=i[2].charCodeAt(0);for(n=i[1].charCodeAt(0);n<=o;++n)e.push(t.replace(i[0],String.fromCharCode(n)));return e}if(i=i=/\{(\d+)-(\d+)\}/.exec(t)){for(o=parseInt(i[2],10),n=parseInt(i[1],10);n<=o;n++)e.push(t.replace(i[0],n.toString()));return e}return e.push(t),e}function Du(t){Bo.call(this,t)}function Ru(t){if(0!==t.b){var e=t.a.eb.split("/").map(Number)[0];t.forEach(function(t){if(t.ta[0]!==e){var i=t.ta;this.remove(i[0]+"/"+i[1]+"/"+i[2]),ie(t)}},t)}}function qu(t){qs.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.Ha=void 0!==t.opaque&&t.opaque,this.Ka=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new Du(t.cacheSize),this.b=[0,0],this.eb="",this.X={transition:t.transition}}function Fu(t,e,i,n,o){if(!(t=t.cc(e)))return!1;e=!0;for(var r,s,a=n.T;a<=n.W;++a)for(var l=n.R;l<=n.U;++l)r=i+"/"+a+"/"+l,s=!1,t.j.hasOwnProperty(r)&&(r=t.get(r),(s=2===r.state)&&(s=!1!==o(r))),s||(e=!1);return e}function zu(t,e){t.eb!==e&&(t.eb=e,t.c())}function Gu(t,e,i){var n=void 0!==i?i:t.C;if(i=t.ya(n),t.B&&n.b){var o=e;e=o[0],t=Dt(i,o),T(n=Xt(n),t[0],t[1])?e=o:(o=W(n),t[0]+=o*Math.ceil((n[0]-t[0])/o),e=qt(i,t[0],t[1],e,!1,void 0))}if(o=e[0],n=e[1],t=e[2],i.minZoom>o||o>i.maxZoom)i=!1;else{var r=i.I();i=!(i=r?_t(i,r,o):i.c?i.c[o]:null)||d(i,n,t)}return i?e:null}function Bu(t,e){ne.call(this,t),this.tile=e}function Uu(t){if(qu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.g?this.g.bind(this):Ou,this.urls=null,t.urls){var e=t.urls;this.urls=e;var i=e.join("\n");Wu(this,this.g?this.g.bind(this):Nu(e,this.tileGrid),i)}else t.url&&(e=t.url,i=this.urls=_u(e),Wu(this,this.g?this.g.bind(this):Nu(i,this.tileGrid),e));t.tileUrlFunction&&Wu(this,t.tileUrlFunction),this.A={}}function Wu(t,e,i){t.tileUrlFunction=e,Ru(t.a),void 0!==i?zu(t,i):t.c()}function Xu(t){Uu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Hu,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:Ts}function Vu(t,e,i,n,o,r,s){return e=[e,i,n],o=(i=Gu(t,e,r))?t.tileUrlFunction(i,o,r):void 0,o=new t.tileClass(e,void 0!==o?0:4,void 0!==o?o:"",t.crossOrigin,t.tileLoadFunction,t.X),o.key=s,Kt(o,"change",t.M,t),o}function Hu(t,e){t.ba().src=e}function Yu(t){var e=void 0!==(t=t||{}).projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:Bt({extent:Xt(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});Xu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition})}function Zu(t){Dh.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.resolution=void 0,this.distance=void 0!==t.distance?t.distance:20,this.features=[],this.geometryFunction=t.geometryFunction||function(t){return t=t.O(),g(t instanceof $i,10),t},this.source=t.source,this.source.v("change",Zu.prototype.Kb,this)}function $u(t){if(void 0!==t.resolution){t.features.length=0;for(var e=I(),i=t.distance*t.resolution,n=t.source.mc(),o={},r=0,s=n.length;r<s;r++){var a=n[r];u(a).toString()in o||!(a=t.geometryFunction(a))||(a=a.G(),L(a,e),P(e,i,e),a=_s(t.source.a,e),a=a.filter(function(t){return!((t=u(t).toString())in o)&&(o[t]=!0)}),t.features.push(Ju(t,a)))}}}function Ju(t,e){for(var i=[0,0],n=e.length-1;0<=n;--n){var o=t.geometryFunction(e[n]);o?li(i,o.G()):e.splice(n,1)}return pi(i,1/e.length),(t=new ms(new $i(i))).set("features",e),t}function Ku(t,e){var i=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&i.push(t+"="+encodeURIComponent(e[t]))});var n=i.join("&");return t=t.replace(/[?&]$/,""),(t=-1===t.indexOf("?")?t+"?":t+"&")+n}function Qu(t){var e;e=void 0!==(t=t||{}).attributions?t.attributions:['&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'],Yu.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0===t.opaque||t.opaque,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function tc(t){t=t||{},Xu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.f=t.params||{},this.i=I(),t=0;var e,i=[];for(e in this.f)i[t++]=e+"-"+this.f[e];zu(this,i.join("/"))}function ec(t){var e=(t=t||{}).params||{};Xu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=void 0!==t.gutter?t.gutter:0,this.f=e,this.i=!0,this.u=t.serverType,this.J=void 0===t.hidpi||t.hidpi,this.K=I();t:{t=(""+(this.f.VERSION||"1.3.0")).split("."),e=["1","3"];for(var i=0;i<Math.max(t.length,e.length);i++){var n=parseInt(t[i]||"0",10),o=parseInt(e[i]||"0",10);if(n>o){t=1;break t}if(o>n){t=-1;break t}}t=0}this.i=0<=t,t=0,e=[];for(var r in this.f)e[t++]=r+"-"+this.f[r];zu(this,e.join("/"))}function ic(t,e,i,n,o,r,s){var a=t.urls;if(a){if(s.WIDTH=i[0],s.HEIGHT=i[1],s[t.i?"CRS":"SRS"]=r.La,"STYLES"in t.f||(s.STYLES=""),1!=o)switch(t.u){case"geoserver":i=90*o+.5|0,s.FORMAT_OPTIONS="FORMAT_OPTIONS"in s?s.FORMAT_OPTIONS+";dpi:"+i:"dpi:"+i;break;case"mapserver":s.MAP_RESOLUTION=90*o;break;case"carmentaserver":case"qgis":s.DPI=90*o;break;default:g(!1,52)}return r=r.a,t.i&&"ne"==r.substr(0,2)&&(t=n[0],n[0]=n[1],n[1]=t,t=n[2],n[2]=n[3],n[3]=t),s.BBOX=n.join(","),Ku(1==a.length?a[0]:a[b((e[1]<<e[0])+e[2],a.length)],s)}}function nc(t,e,i,n,o,r,s,a,l,h,u,c,f,p,d){if(Cs.call(this,t,e,d),this.i={},this.o={},this.j=h,this.a=[],this.C=i,this.v=r,this.b=[],this.H=[],r){var g=Rt(l,r),v=l.a[t[0]];It(a,g,zt(a,v),function(t){var e=B(g,Rt(a,t)),i=a.I();i&&(e=B(e,i)),.5<=W(e)/v&&.5<=G(e)/v&&(e=t.toString(),(i=h[e])||(i=s(t,u,c),i=h[e]=new f(t,void 0==i?4:0,void 0==i?"":i,n,o),this.H.push(Kt(i,"change",p))),i.a++,this.a.push(e))}.bind(this))}}function oc(t,e){return(e=u(e).toString())in t.i||(t.i[e]=bn()),t.i[e]}function rc(t,e){return(e=u(e).toString())in t.o||(t.o[e]={Zb:!1,zd:null,uc:-1,Ad:-1}),t.o[e]}function sc(t,e){t.i=va(e,t.C,t.ui.bind(t),t.ti.bind(t))}function ac(t){var e=t.projection||"EPSG:3857",i=t.extent||Xt(e),n=t.tileGrid||Bt({extent:i,maxZoom:t.maxZoom||22,minZoom:t.minZoom,tileSize:t.tileSize||512});Uu.call(this,{attributions:t.attributions,cacheSize:void 0!==t.cacheSize?t.cacheSize:128,extent:i,logo:t.logo,opaque:!1,projection:e,state:t.state,tileGrid:n,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:sc,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition}),this.o=t.format?t.format:null,this.f={},this.u=void 0==t.overlaps||t.overlaps,this.tileClass=t.tileClass?t.tileClass:Xs,this.i={}}function lc(t){this.i=t.matrixIds,Tt.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function hc(t){this.fa=void 0!==t.version?t.version:"1.0.0",this.o=void 0!==t.format?t.format:"image/jpeg",this.f=void 0!==t.dimensions?t.dimensions:{},this.u=t.layer,this.i=t.matrixSet,this.J=t.style;var e=t.urls;void 0===e&&void 0!==t.url&&(e=_u(t.url));var i=this.K=void 0!==t.requestEncoding?t.requestEncoding:"KVP",n=t.tileGrid,o={layer:this.u,style:this.J,tilematrixset:this.i};"KVP"==i&&bc(o,{Service:"WMTS",Request:"GetTile",Version:this.fa,Format:this.o});var r=this.f,s=e&&0<e.length?Lu(e.map(function(t){return t="KVP"==i?Ku(t,o):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in o?o[e.toLowerCase()]:t}),function(e){if(e){var o={TileMatrix:n.i[e[0]],TileCol:e[1],TileRow:-e[2]-1};return bc(o,r),e=t,e="KVP"==i?Ku(e,o):e.replace(/\{(\w+?)\}/g,function(t,e){return o[e]})}}})):Ou;Xu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:n,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:s,urls:e,wrapX:void 0!==t.wrapX&&t.wrapX,transition:t.transition}),zu(this,uc(this))}function uc(t){var e,i=0,n=[];for(e in t.f)n[i++]=e+"-"+t.f[e];return n.join("/")}var cc,fc={},pc="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,i){t!=Array.prototype&&t!=Object.prototype&&(t[e]=i.value)},dc="undefined"!=typeof window&&window===this?this:void 0!==t&&null!=t?t:this;e("Math.cosh",function(t){if(t)return t;var e=Math.exp;return function(t){return t=Number(t),(e(t)+e(-t))/2}});var gc=function(){var t=0;return function(e){return"jscomp_symbol_"+(e||"")+t++}}();e("Array.prototype.keys",function(t){return t||function(){return s(this,function(t){return t})}}),e("Array.prototype.values",function(t){return t||function(){return s(this,function(t,e){return e})}}),e("Object.is",function(t){return t||function(t,e){return t===e?0!==t||1/t==1/e:t!==t&&e!==e}});var vc=this,mc=0;l(c,Error);var yc="cosh"in Math?Math.cosh:function(t){return((t=Math.exp(t))+1/t)/2},bc="function"==typeof Object.assign?Object.assign:function(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,o=arguments.length;n<o;++n){var r=arguments[n];if(void 0!==r&&null!==r)for(var s in r)r.hasOwnProperty(s)&&(i[s]=r[s])}return i};$.prototype.offset=function(t,e,i){var n=y(t[1]);e/=this.radius;var o=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(y(t[0])+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(o)))/Math.PI,180*o/Math.PI]};var wc={};wc.degrees=12741994*Math.PI/360,wc.ft=.3048,wc.m=1,wc["us-ft"]=1200/3937,it.prototype.I=function(){return this.g},it.prototype.l=function(){return this.v||wc[this.c]},l(nt,it);var xc=6378137*Math.PI,Mc=[-xc,-xc,xc,xc],Sc=[-180,-85,180,85],Cc=[new nt("EPSG:3857"),new nt("EPSG:102100"),new nt("EPSG:102113"),new nt("EPSG:900913"),new nt("urn:ogc:def:crs:EPSG:6.18:3:3857"),new nt("urn:ogc:def:crs:EPSG::3857"),new nt("http://www.opengis.net/gml/srs/epsg.xml#3857")];l(st,it);var Pc=[-180,-90,180,90],jc=6378137*Math.PI/180,kc=[new st("CRS:84"),new st("EPSG:4326","neu"),new st("urn:ogc:def:crs:EPSG::4326","neu"),new st("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new st("urn:ogc:def:crs:OGC:1.3:CRS84"),new st("urn:ogc:def:crs:OGC:2:84"),new st("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new st("urn:x-ogc:def:crs:EPSG:4326","neu")],Ec={},Tc={},Ic=new $(6371008.8);ut(Cc),ut(kc),kc.forEach(function(t){Cc.forEach(function(e){at(t,e,ot),at(e,t,rt)})});var Ac=[0,0,0];Tt.prototype.I=function(){return this.o},ee.prototype.$a=!1,ee.prototype.ca=h,ne.prototype.preventDefault=ne.prototype.stopPropagation=function(){this.Ii=!0},l(re,ee),re.prototype.addEventListener=function(t,e){var i=this.ia[t];i||(i=this.ia[t]=[]),-1===i.indexOf(e)&&i.push(e)},re.prototype.l=function(t){var e="string"==typeof t?new ne(t):t;t=e.type,e.target=this;var i=this.ia[t];if(i){t in this.Ca||(this.Ca[t]=0,this.Ga[t]=0),++this.Ca[t];for(var n=0,o=i.length;n<o;++n)if(!1===i[n].call(this,e)||e.Ii){var r=!1;break}if(--this.Ca[t],0===this.Ca[t]){for(e=this.Ga[t],delete this.Ga[t];e--;)this.removeEventListener(t,h);delete this.Ca[t]}return r}},re.prototype.ca=function(){var t,e=$t(this);for(t in e)Jt(this,t)},re.prototype.removeEventListener=function(t,e){var i=this.ia[t];i&&(e=i.indexOf(e),t in this.Ga?(i[e]=h,++this.Ga[t]):(i.splice(e,1),0===i.length&&delete this.ia[t]))},l(ae,re),ae.prototype.c=function(){++this.j,this.l("change")},ae.prototype.v=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,o=Array(n),r=0;r<n;++r)o[r]=Kt(this,t[r],e,i);return o}return Kt(this,t,e,i)},ae.prototype.once=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,o=Array(n),r=0;r<n;++r)o[r]=Kt(this,t[r],e,i,!0);return o}return Kt(this,t,e,i,!0)},ae.prototype.ka=function(t,e,i){if(Array.isArray(t))for(var n=0,o=t.length;n<o;++n)Qt(this,t[n],e,i);else Qt(this,t,e,i)},l(le,ae);var Nc={};(cc=le.prototype).get=function(t){var e;return this.H.hasOwnProperty(t)&&(e=this.H[t]),e},cc.Fa=function(){return bc({},this.H)},cc.set=function(t,e,i){i?this.H[t]=e:(i=this.H[t],this.H[t]=e,i!==e&&ue(this,t,i))},cc.na=function(t,e){for(var i in t)this.set(i,t[i],e)},cc.nj=function(t,e){if(t in this.H){var i=this.H[t];delete this.H[t],e||ue(this,t,i)}},l(ce,ne),l(fe,le),(cc=fe.prototype).clear=function(){for(;0<this.fb();)this.pop()},cc.forEach=function(t,e){t=e?t.bind(e):t;for(var i=0,n=(e=this.a).length;i<n;++i)t(e[i],i,e)},cc.xg=function(){return this.a},cc.oe=function(t){return this.a[t]},cc.fb=function(){return this.get(Lc)},cc.pop=function(){return de(this,this.fb()-1)},cc.push=function(t){this.b&&ve(this,t);var e=this.fb();return this.b&&ve(this,t),this.a.splice(e,0,t),ge(this),this.l(new me("add",t)),this.fb()},cc.remove=function(t){var e,i=this.a,n=0;for(e=i.length;n<e;++n)if(i[n]===t)return de(this,n)};var Lc="length";l(me,ne),l(ye,ne),l(be,ye),be.prototype.preventDefault=function(){ye.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},be.prototype.stopPropagation=function(){ye.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Oc="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",_c=-1!==Oc.indexOf("firefox"),Dc=-1!==Oc.indexOf("safari")&&-1==Oc.indexOf("chrom"),Rc=-1!==Oc.indexOf("webkit")&&-1==Oc.indexOf("edge"),qc=-1!==Oc.indexOf("macintosh"),Fc=window.devicePixelRatio||1,zc=!1;!function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");!!t&&(void 0!==t.setLineDash&&(zc=!0))}catch(t){return!1}}();var Gc="geolocation"in navigator,Bc="ontouchstart"in window,Uc="PointerEvent"in window,Wc=!!navigator.msPointerEnabled,Xc={Cj:"singleclick",rj:"click",sj:"dblclick",vj:"pointerdrag",yj:"pointermove",uj:"pointerdown",Bj:"pointerup",Aj:"pointerover",zj:"pointerout",wj:"pointerenter",xj:"pointerleave",tj:"pointercancel"};l(we,be),l(Me,xe),(cc=Me.prototype).mh=function(t){if(!Se(this,t)){1..toString()in this.c&&this.cancel(t);var e=Ce(t);this.c[1..toString()]=t,Ue(this.a,"pointerdown",e,t)}},cc.nh=function(t){if(!Se(this,t)){var e=Ce(t);Ue(this.a,"pointermove",e,t)}},cc.qh=function(t){if(!Se(this,t)){var e=this.c[1..toString()];e&&e.button===t.button&&(e=Ce(t),Ue(this.a,"pointerup",e,t),delete this.c[1..toString()])}},cc.ph=function(t){if(!Se(this,t)){var e=Ce(t);Be(this.a,e,t)}},cc.oh=function(t){if(!Se(this,t)){var e=Ce(t);Ge(this.a,e,t)}},cc.cancel=function(t){var e=Ce(t);this.a.cancel(e,t),delete this.c[1..toString()]},l(Pe,xe),(cc=Pe.prototype).vh=function(t){this.c[t.pointerId.toString()]=t;var e=je(this,t);Ue(this.a,"pointerdown",e,t)},cc.wh=function(t){var e=je(this,t);Ue(this.a,"pointermove",e,t)},cc.zh=function(t){var e=je(this,t);Ue(this.a,"pointerup",e,t),delete this.c[t.pointerId.toString()]},cc.xh=function(t){var e=je(this,t);Ge(this.a,e,t)},cc.yh=function(t){var e=je(this,t);Be(this.a,e,t)},cc.uh=function(t){var e=je(this,t);this.a.cancel(e,t),delete this.c[t.pointerId.toString()]},cc.th=function(t){this.a.l(new Ee("lostpointercapture",t,t))},cc.sh=function(t){this.a.l(new Ee("gotpointercapture",t,t))},l(ke,xe),(cc=ke.prototype).Bi=function(t){We(this.a,t)},cc.Ci=function(t){We(this.a,t)},cc.Fi=function(t){We(this.a,t)},cc.Di=function(t){We(this.a,t)},cc.Ei=function(t){We(this.a,t)},cc.Ai=function(t){We(this.a,t)},cc.jh=function(t){We(this.a,t)},cc.Hg=function(t){We(this.a,t)},l(Ee,ne);var Vc=!1;try{Vc=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}l(Ae,xe),(cc=Ae.prototype).gf=function(){this.g=0,this.j=void 0},cc.mj=function(t){var e=t.touches,i=Object.keys(this.c),n=i.length;if(n>=e.length){var o,r=[];for(o=0;o<n;++o){var s,a=i[o],l=this.c[a];if(!(s=1==a))t:{for(var h=e.length,u=0;u<h;u++)if((s=e[u]).identifier===a-2){s=!0;break t}s=!1}s||r.push(l.out)}for(o=0;o<r.length;++o)this.Kc(t,r[o])}e=t.changedTouches[0],(0===(i=Object.keys(this.c).length)||1===i&&1..toString()in this.c)&&(this.l=e.identifier,void 0!==this.j&&clearTimeout(this.j)),Oe(this,t),this.g++,Le(this,t,this.wi)},cc.wi=function(t,e){this.c[e.pointerId]={target:e.target,out:e,Te:e.target};var i=this.a;e.bubbles=!0,Ue(i,"pointerover",e,t),i=this.a,e.bubbles=!1,Ue(i,"pointerenter",e,t),Ue(this.a,"pointerdown",e,t)},cc.lj=function(t){t.preventDefault(),Le(this,t,this.rh)},cc.rh=function(t,e){var i=this.c[e.pointerId];if(i){var n=i.out,o=i.Te;Ue(this.a,"pointermove",e,t),n&&o!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=o,n.target=o,e.target?(Ge(this.a,n,t),Be(this.a,e,t)):(e.target=o,e.relatedTarget=null,this.Kc(t,e))),i.out=e,i.Te=e.target}},cc.kj=function(t){Oe(this,t),Le(this,t,this.oj)},cc.oj=function(t,e){Ue(this.a,"pointerup",e,t),this.a.out(e,t),ze(this.a,e,t),delete this.c[e.pointerId],e.isPrimary&&(this.l=void 0,this.j=setTimeout(this.gf.bind(this),200))},cc.jj=function(t){Le(this,t,this.Kc)},cc.Kc=function(t,e){this.a.cancel(e,t),this.a.out(e,t),ze(this.a,e,t),delete this.c[e.pointerId],e.isPrimary&&(this.l=void 0,this.j=setTimeout(this.gf.bind(this),200))},l(_e,re),_e.prototype.j=function(t){var e=this.b[t.type];e&&e(t)},_e.prototype.out=function(t,e){t.bubbles=!0,Ue(this,"pointerout",t,e)},_e.prototype.cancel=function(t,e){Ue(this,"pointercancel",t,e)},_e.prototype.ca=function(){for(var t,e=this.a.length,i=0;i<e;i++)t=this.a[i],qe(this,Object.keys(t.b));re.prototype.ca.call(this)};var Hc=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];l(Xe,re),(cc=Xe.prototype).je=function(t){He(this,t);var e=new we("pointerup",this.c,t);this.l(e),!this.v&&0===t.button&&Ve(this,this.j),0===this.C&&(this.b.forEach(te),this.b.length=0,this.v=!1,this.j=null,ie(this.a),this.a=null)},cc.Tg=function(t){He(this,t);var e=new we("pointerdown",this.c,t);this.l(e),this.j=t,0===this.b.length&&(this.a=new _e(document),this.b.push(Kt(this.a,"pointermove",this.Hh,this),Kt(this.a,"pointerup",this.je,this),Kt(this.g,"pointercancel",this.je,this)))},cc.Hh=function(t){if(Ye(this,t)){this.v=!0;var e=new we("pointerdrag",this.c,t,this.v);this.l(e)}t.preventDefault()},cc.Xi=function(t){this.l(new we(t.type,this.c,t,!(!this.j||!Ye(this,t))))},cc.ca=function(){this.o&&(te(this.o),this.o=null),this.i&&(te(this.i),this.i=null),this.b.forEach(te),this.b.length=0,this.a&&(ie(this.a),this.a=null),this.g&&(ie(this.g),this.g=null),re.prototype.ca.call(this)},Ze.prototype.clear=function(){this.a.length=0,this.c.length=0,H(this.l)},Ze.prototype.f=function(t){g(!(this.j(t)in this.l),31);var e=this.i(t);return 1/0!=e&&(this.a.push(t),this.c.push(e),this.l[this.j(t)]=!0,Je(this,0,this.a.length-1),!0)},l(Ke,Ze),Ke.prototype.f=function(t){var e=Ze.prototype.f.call(this,t);return e&&Kt(t[0],"change",this.v,this),e},Ke.prototype.v=function(t){var e=(t=t.target).state;2!==e&&3!==e&&4!==e&&5!==e||(Qt(t,"change",this.v,this),(t=t.Sa())in this.b&&(delete this.b[t],--this.g),this.o())};var Yc=Array(6);l(Ti,le),Ti.prototype.I=function(t){this.B!=this.j&&(this.C=this.Yb(this.C),this.B=this.j);var e=this.C;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},Ti.prototype.xb=function(t,e){var i=this.X,n="tile-pixels"==(t=dt(t)).c?function(n,o,r){var s=t.I(),a=t.Bd;return s=G(a)/G(s),Ei(i,a[0],a[3],s,-s,0,0,0),Mi(n,0,n.length,r,i,o),vt(t,e)(n,o,r)}:vt(t,e);return this.Cb(n),this},l(Ii,Ti),(cc=Ii.prototype).Yb=function(t){return O(this.s,0,this.s.length,this.a,t)},cc.Fb=function(){return this.s.slice(0,this.a)},cc.aa=function(){return this.s},cc.Dg=function(){return this.s.slice(this.s.length-this.a)},cc.bc=function(t){if(this.o!=this.j&&(H(this.g),this.f=0,this.o=this.j),0>t||0!==this.f&&t<=this.f)return this;var e=t.toString();if(this.g.hasOwnProperty(e))return this.g[e];var i=this.ub(t);return i.aa().length<this.s.length?this.g[e]=i:(this.f=t,this)},cc.ub=function(){return this},cc.ga=function(){return this.a},cc.Cb=function(t){this.s&&(t(this.s,this.s,this.a),this.c())},cc.rotate=function(t,e){var i=this.aa();if(i){var n=i.length,o=this.ga(),r=i||[],s=Math.cos(t);t=Math.sin(t);var a=e[0];e=e[1];for(var l=0,h=0;h<n;h+=o){var u=i[h]-a,c=i[h+1]-e;for(r[l++]=a+u*s-c*t,r[l++]=e+u*t+c*s,u=h+2;u<h+o;++u)r[l++]=i[u]}i&&r.length!=l&&(r.length=l),this.c()}},cc.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var o=i;if(o||(o=F(this.I())),i=this.aa()){e=i.length;var r=this.ga(),s=i||[],a=o[0];o=o[1];for(var l=0,h=0;h<e;h+=r){var u=i[h]-a,c=i[h+1]-o;for(s[l++]=a+t*u,s[l++]=o+n*c,u=h+2;u<h+r;++u)s[l++]=i[u]}i&&s.length!=l&&(s.length=l),this.c()}},l(Yi,Ii),(cc=Yi.prototype).clone=function(){var t=new Yi(null);return Zi(t,this.V,this.s.slice()),t},cc.Pa=function(t,e,i,n){return n<k(this.I(),t,e)?n:(this.b!=this.j&&(this.i=Math.sqrt(Di(this.s,0,this.s.length,this.a,0)),this.b=this.j),qi(this.s,0,this.s.length,this.a,this.i,!0,t,e,i,n))},cc.G=function(){return Ui(this.s,0,this.s.length,this.a)},cc.ub=function(t){var e=[];return e.length=Vi(this.s,0,this.s.length,this.a,t,e,0),t=new Yi(null),Zi(t,"XY",e),t},cc.D=function(){return"LinearRing"},cc.Y=function(t,e){t?(Li(this,e,t,1),this.s||(this.s=[]),this.s.length=Gi(this.s,0,t,this.a),this.c()):Zi(this,"XY",null)},l($i,Ii),(cc=$i.prototype).clone=function(){var t=new $i(null);return t.N(this.V,this.s.slice()),t},cc.Pa=function(t,e,i,n){var o=this.s;if((t=m(t,e,o[0],o[1]))<n){for(n=this.a,e=0;e<n;++e)i[e]=o[e];return i.length=n,t}return n},cc.G=function(){return this.s?this.s.slice():[]},cc.Yb=function(t){return L(this.s,t)},cc.D=function(){return"Point"},cc.Y=function(t,e){t?(Li(this,e,t,0),this.s||(this.s=[]),this.s.length=zi(this.s,t),this.c()):this.N("XY",null)},cc.N=function(t,e){Ni(this,t,e),this.c()},l(on,Ii),(cc=on.prototype).clone=function(){var t=new on(null);return t.N(this.V,this.s.slice(),this.b.slice()),t},cc.Pa=function(t,e,i,n){return n<k(this.I(),t,e)?n:(this.J!=this.j&&(this.K=Math.sqrt(Ri(this.s,0,this.b,this.a,0)),this.J=this.j),Fi(this.s,0,this.b,this.a,this.K,!0,t,e,i,n))},cc.Xh=function(){return Oi(this.Xa(),0,this.b,this.a)},cc.G=function(t){if(void 0!==t){var e=this.Xa().slice();en(e,0,this.b,this.a,t)}else e=this.s;return Wi(e,0,this.b,this.a)},cc.Ma=function(){return this.b},cc.ac=function(){if(this.u!=this.j){var t=F(this.I());this.A=Ki(this.Xa(),0,this.b,this.a,t,0),this.u=this.j}return this.A},cc.Bg=function(){return new $i(this.ac(),"XYM")},cc.ee=function(t){if(0>t||this.b.length<=t)return null;var e=new Yi(null);return Zi(e,this.V,this.s.slice(0===t?0:this.b[t-1],this.b[t])),e},cc.Xa=function(){if(this.M!=this.j){var t=this.s;tn(t,this.b,this.a)?this.i=t:(this.i=t.slice(),this.i.length=en(this.i,0,this.b,this.a)),this.M=this.j}return this.i},cc.ub=function(t){var e=[],i=[];return e.length=Hi(this.s,0,this.b,this.a,Math.sqrt(t),e,0,i),(t=new on(null)).N("XY",e,i),t},cc.D=function(){return"Polygon"},cc.Y=function(t,e){t?(Li(this,e,t,2),this.s||(this.s=[]),t=Bi(this.s,0,t,this.a,this.b),this.s.length=0===t.length?0:t[t.length-1],this.c()):this.N("XY",null,this.b)},cc.N=function(t,e,i){Ni(this,t,e),this.b=i,this.c()},l(an,le),(cc=an.prototype).animate=function(t){var e=arguments.length;if(1<e&&"function"==typeof arguments[e-1]){var i=arguments[e-1];--e}if(gn(this)){for(var n=Date.now(),o=this.ja().slice(),r=this.za(),s=pn(this),a=[],l=0;l<e;++l){var h=arguments[l],u={start:n,complete:!1,anchor:h.anchor,duration:void 0!==h.duration?h.duration:1e3,easing:h.easing||yi};h.center&&(u.Pb=o,u.Rb=h.center,o=u.Rb),void 0!==h.zoom?(u.Qb=r,u.nb=this.constrainResolution(this.f,h.zoom-this.o,0),r=u.nb):h.resolution&&(u.Qb=r,u.nb=h.resolution,r=u.nb),void 0!==h.rotation&&(u.yc=s,u.Sb=s+(b(h.rotation-s+Math.PI,2*Math.PI)-Math.PI),s=u.Sb),u.callback=i,u.Pb&&u.Rb&&!ci(u.Pb,u.Rb)||u.Qb!==u.nb||u.yc!==u.Sb?n+=u.duration:u.complete=!0,a.push(u)}this.g.push(a),vn(this,0,1),this.Bc()}else(e=arguments[e-1]).center&&this.Oa(e.center),void 0!==e.zoom&&this.qf(e.zoom),void 0!==e.rotation&&yn(this,e.rotation),i&&i(!0)},cc.Bc=function(){if(void 0!==this.C&&(cancelAnimationFrame(this.C),this.C=void 0),0<this.a[0]){for(var t=Date.now(),e=!1,i=this.g.length-1;0<=i;--i){for(var n=this.g[i],o=!0,r=0,s=n.length;r<s;++r){var a=n[r];if(!a.complete){if(e=t-a.start,1<=(e=0<a.duration?e/a.duration:1)?(a.complete=!0,e=1):o=!1,e=a.easing(e),a.Pb){var l=a.Pb[0],h=a.Pb[1];this.set("center",[l+e*(a.Rb[0]-l),h+e*(a.Rb[1]-h)])}if(a.Qb&&a.nb&&(l=1===e?a.nb:a.Qb+e*(a.nb-a.Qb),a.anchor&&this.set("center",un(this,l,a.anchor)),this.set("resolution",l)),void 0!==a.yc&&void 0!==a.Sb&&(e=1===e?b(a.Sb+Math.PI,2*Math.PI)-Math.PI:a.yc+e*(a.Sb-a.yc),a.anchor&&this.set("center",hn(this,e,a.anchor)),this.set("rotation",e)),e=!0,!a.complete)break}}o&&(this.g[i]=null,vn(this,0,-1),(n=n[0].callback)&&n(!0))}this.g=this.g.filter(Boolean),e&&void 0===this.C&&(this.C=requestAnimationFrame(this.Bc))}},cc.constrainResolution=function(t,e,i){return this.b.resolution(t,e||0,i||0)},cc.constrainRotation=function(t,e){return this.b.rotation(t,e||0)},cc.ja=function(){return this.get("center")},cc.Sd=function(t){t=t||cn(this);var e=this.ja();g(e,1);var i=this.za();g(void 0!==i,2);var n=pn(this);return g(void 0!==n,3),z(e,i,n,t)},cc.Kh=function(){return this.u},cc.za=function(){return this.get("resolution")},cc.Lh=function(){return this.i},cc.ge=function(){var t,e=this.za();return void 0!==e&&(t=this.he(e)),t},cc.he=function(t){var e=this.o||0;if(this.i){var i=St(this.i,t,1);e+=i;var n=this.i[i];i=i==this.i.length-1?2:n/this.i[i+1]}else n=this.f,i=this.A;return e+Math.log(n/t)/Math.log(i)},cc.tg=function(t,e){var i=(e=e||{}).size;if(i||(i=cn(this)),t instanceof Ii)if("Circle"===t.D()){var n=sn(t=t.I());n.rotate(pn(this),F(t))}else n=t;else g(Array.isArray(t),24),g(!V(t),25),n=sn(t);var o,r=void 0!==e.padding?e.padding:[0,0,0,0],s=void 0===e.constrainResolution||e.constrainResolution,a=void 0!==e.nearest&&e.nearest;o=void 0!==e.minResolution?e.minResolution:void 0!==e.maxZoom?this.constrainResolution(this.f,e.maxZoom-this.o,0):0;var l=n.aa(),u=pn(this);t=Math.cos(-u),u=Math.sin(-u);var c=1/0,f=1/0,p=-1/0,d=-1/0;n=n.ga();for(var v=0,m=l.length;v<m;v+=n){var y=l[v]*t-l[v+1]*u,b=l[v]*u+l[v+1]*t;c=Math.min(c,y),f=Math.min(f,b),p=Math.max(p,y),d=Math.max(d,b)}i=fn(this,[c,f,p,d],[i[0]-r[1]-r[3],i[1]-r[0]-r[2]]),i=isNaN(i)?o:Math.max(i,o),s&&(o=this.constrainResolution(i,0,0),!a&&o<i&&(o=this.constrainResolution(o,-1,0)),i=o),u=-u,t=[(o=(c+p)/2+(r[1]-r[3])/2*i)*t-(r=(f+d)/2+(r[0]-r[2])/2*i)*u,r*t+o*u],r=e.callback?e.callback:h,void 0!==e.duration?this.animate({resolution:i,center:t,duration:e.duration,easing:e.easing},r):(mn(this,i),this.Oa(t),setTimeout(r.bind(void 0,!0),0))},cc.rotate=function(t,e){void 0!==e&&(e=hn(this,t,e),this.Oa(e)),yn(this,t)},cc.Oa=function(t){this.set("center",t),0<this.a[0]&&ln(this)},cc.qf=function(t){mn(this,this.constrainResolution(this.f,t-this.o,0))},l(xn,le),(cc=xn.prototype).D=function(){return this.type},cc.I=function(){return this.get("extent")},cc.Hb=function(){return this.get("visible")},cc.sa=function(){return this.get("zIndex")},cc.oi=function(t){this.set("visible",t)},cc.pf=function(t){this.set("zIndex",t)},l(Sn,xn),(cc=Sn.prototype).fc=function(){this.c()},cc.Ng=function(){this.g.forEach(te),this.g.length=0;var t=this.get(Zc);this.g.push(Kt(t,"add",this.Mg,this),Kt(t,"remove",this.Og,this));for(var e in this.b)this.b[e].forEach(te);H(this.b);var i;for(e=0,i=(t=t.a).length;e<i;e++){var n=t[e];this.b[u(n).toString()]=[Kt(n,"propertychange",this.fc,this),Kt(n,"change",this.fc,this)]}this.c()},cc.Mg=function(t){var e=u(t=t.element).toString();this.b[e]=[Kt(t,"propertychange",this.fc,this),Kt(t,"change",this.fc,this)],this.c()},cc.Og=function(t){t=u(t.element).toString(),this.b[t].forEach(te),delete this.b[t],this.c()},cc.Zc=function(t){var e=void 0!==t?t:[],i=e.length;this.get(Zc).forEach(function(t){t.Zc(e)}),t=Mn(this);var n;for(n=e.length;i<n;i++){var o=e[i];o.opacity*=t.opacity,o.visible=o.visible&&t.visible,o.maxResolution=Math.min(o.maxResolution,t.maxResolution),o.minResolution=Math.max(o.minResolution,t.minResolution),void 0!==t.extent&&(o.extent=void 0!==o.extent?B(o.extent,t.extent):t.extent)}return e},cc.bd=function(){return"ready"};var Zc="layers",$c=[],Jc=[];l(jn,le),(cc=jn.prototype).$f=function(t){this.controls.push(t)},cc.ag=function(t){this.interactions.push(t)},cc.bg=function(t){Tn(this).get(Zc).push(t)},cc.cg=function(t){this.i.push(t)},cc.Pd=function(t){var e=t.id;void 0!==e&&(this.Ue[e.toString()]=t),t.setMap(this)},cc.ca=function(){ie(this.fa),ie(this.jb),Qt(this.a,"wheel",this.vb,this),Qt(this.a,"mousewheel",this.vb,this),void 0!==this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0),this.o&&(cancelAnimationFrame(this.o),this.o=void 0),this.set("target",null),le.prototype.ca.call(this)},cc.Wc=function(t,e,i){if(this.b)return t=this.Ja(t),i=void 0!==i?i:{},this.jb.Ea(t,this.b,void 0!==i.hitTolerance?i.hitTolerance*this.b.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:wi,null)},cc.Ih=function(t,e,i,n,o){if(this.b){t:{var r=this.jb,s=this.b;i=void 0!==i?i:null,n=void 0!==n?n:wi,o=void 0!==o?o:null;var a=s.viewState.resolution,l=s.layerStatesArray,h=l.length;for(t=ki(s.pixelToCoordinateTransform,t.slice()),--h;0<=h;--h){var u=l[h],c=u.layer;if(On(u,a)&&n.call(o,c)&&(u=yr(r,c).C(t,s,e,i))){e=u;break t}}e=void 0}return e}},cc.cd=function(){return this.get("target")},cc.Ja=function(t){var e=this.b;return e?ki(e.pixelToCoordinateTransform,t.slice()):null},cc.Eg=function(){return this.i},cc.Jh=function(){return Tn(this).get(Zc)},cc.ad=function(){return this.jb},cc.wb=function(){return this.get("size")},cc.Z=function(){return this.get("view")},cc.Gg=function(t,e,i,n){var o=this.b;return o&&e in o.wantedTiles&&o.wantedTiles[e][t.Sa()]?(t=i[0]-o.focus[0],i=i[1]-o.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},cc.vb=function(t,e){t=new be(e||t.type,this,t),this.ie(t)},cc.ie=function(t){if(this.b){this.M=t.coordinate,t.frameState=this.b;var e,i=this.interactions.a;if(!1!==this.l(t))for(e=i.length-1;0<=e;e--){var n=i[e];if(n.get("active")&&!n.handleEvent(t))break}}},cc.Wg=function(){var t=this.b,e=this.xa;if(0!==e.a.length){var i=16,n=i;if(t){var o=t.viewHints;o[0]&&(i=this.qb?8:0,n=2),o[1]&&(i=this.rb?8:0,n=2)}if(e.g<i){o=e.i;var r,s=e.a,a=e.c,l=0,h=s.length;for(r=0;r<h;++r){var u=s[r],c=o(u);1/0==c?delete e.l[e.j(u)]:(a[l]=c,s[l++]=u)}for(s.length=l,a.length=l,o=(e.a.length>>1)-1;0<=o;o--)$e(e,o);for(o=0,s=!1;e.g<i&&o<n&&0<e.a.length;)a=e,h=a.a,u=a.c,l=h[0],1==h.length?(h.length=0,u.length=0):(h[0]=h.pop(),u[0]=u.pop(),$e(a,0)),h=a.j(l),delete a.l[h],l=l[0],h=l.Sa(),5===(a=l.state)?s=!0:0!==a||h in e.b||(e.b[h]=!0,++e.g,++o,l.load());0===o&&s&&e.o()}}for(n=0,i=(e=this.la).length;n<i;++n)e[n](this,t);e.length=0},cc.Xg=function(){this.render()},cc.bh=function(){var t;if(this.cd()&&(t=En(this)),this.C){for(var e=0,i=this.C.length;e<i;++e)te(this.C[e]);this.C=null}t?(t.appendChild(this.a),t=this.ea?this.ea:t,this.C=[Kt(t,"keydown",this.vb,this),Kt(t,"keypress",this.vb,this)],this.g||(this.g=this.xf.bind(this),window.addEventListener("resize",this.g,!1))):(wn(this.a),void 0!==this.g&&(window.removeEventListener("resize",this.g,!1),this.g=void 0)),this.xf()},cc.dh=function(){this.render()},cc.ke=function(){this.render()},cc.fh=function(){this.K&&(te(this.K),this.K=null),this.J&&(te(this.J),this.J=null);var t=this.Z();t&&(this.a.setAttribute("data-view",u(t)),this.K=Kt(t,"propertychange",this.ke,this),this.J=Kt(t,"change",this.ke,this)),this.render()},cc.Kg=function(){this.A&&(this.A.forEach(te),this.A=null);var t=Tn(this);t&&(this.A=[Kt(t,"propertychange",this.render,this),Kt(t,"change",this.render,this)]),this.render()},cc.render=function(){void 0===this.o&&(this.o=requestAnimationFrame(this.Ha))},cc.Yi=function(t){return this.controls.remove(t)},cc.Zi=function(t){return this.interactions.remove(t)},cc.$i=function(t){return this.i.remove(t)},cc.bj=function(t){var e,i=this.wb(),n=this.Z(),o=I(),r=this.b,s=null;if(void 0!==i&&0<i[0]&&0<i[1]&&n&&gn(n)){void 0!==(s=this.b?this.b.viewHints:void 0)?(s[0]=n.a[0],s[1]=n.a[1]):s=n.a.slice();var a=Tn(this).Zc(),l={},h=0;for(e=a.length;h<e;++h)l[u(a[h].layer)]=a[h];h=dn(n),s={animate:!1,attributions:{},coordinateToPixelTransform:this.Ka,extent:o,focus:this.M?this.M:h.center,index:this.pb++,layerStates:l,layerStatesArray:a,logos:bc({},this.Fc),pixelRatio:this.Dc,pixelToCoordinateTransform:this.Jc,postRenderFunctions:[],size:i,skippedFeatureUids:this.X,tileQueue:this.xa,time:t,usedTiles:{},viewState:h,viewHints:s,wantedTiles:{}}}s&&(s.extent=z(h.center,h.resolution,h.rotation,s.size,o)),this.b=s,this.jb.ff(s),s&&(s.animate&&this.render(),Array.prototype.push.apply(this.la,s.postRenderFunctions),!r||this.f&&(V(this.f)||_(s.extent,this.f))||(this.l(new ye("movestart",this,r)),this.f=N(this.f)),!this.f||s.viewHints[0]||s.viewHints[1]||_(s.extent,this.f)||(this.l(new ye("moveend",this,s)),j(s.extent,this.f))),this.l(new ye("postrender",this,s)),setTimeout(this.Wg.bind(this),0)},cc.rf=function(t){t=u(t).toString(),this.X[t]=!0,this.render()},cc.xf=function(){var t=En(this);if(t){var e=getComputedStyle(t);this.set("size",[t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.set("size",void 0)},cc.vf=function(t){t=u(t).toString(),delete this.X[t],this.render()};var Kc=["canvas","webgl"];l(Nn,le),Nn.prototype.ca=function(){wn(this.element),le.prototype.ca.call(this)},Nn.prototype.setMap=function(t){this.g&&wn(this.element);for(var e=0,i=this.C.length;e<i;++e)te(this.C[e]);this.C.length=0,(this.g=t)&&((this.J?this.J:t.B).appendChild(this.element),this.render!==h&&this.C.push(Kt(t,"postrender",this.render,this)),t.render())};var Qc=function(){var t,e={};return function(i){if(t||(t=document.createElement("div").style),!(i in e)){t.font=i;var n=t.fontFamily;if(t.font="",!n)return null;e[i]=n.split(/,\s?/)}return e[i]}}();l(Ln,xn),(cc=Ln.prototype).Zc=function(t){return(t=t||[]).push(Mn(this)),t},cc.$=function(){return this.get("source")||null},cc.bd=function(){var t=this.$();return t?t.xa:"undefined"},cc.Zg=function(){this.c()},cc.$g=function(){this.C&&(te(this.C),this.C=null);var t=this.$();t&&(this.C=Kt(t,"change",this.Zg,this)),this.c()},cc.setMap=function(t){this.g&&(te(this.g),this.g=null),t||this.c(),this.f&&(te(this.f),this.f=null),t&&(this.g=Kt(t,"precompose",function(t){var e=Mn(this);e.fd=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[u(this)]=e},this),this.f=Kt(this,"change",t.render,t),this.c())},cc.lf=function(t){this.set("source",t)},l(_n,Nn),_n.prototype.M=function(t){t.preventDefault(),Rn(this)},_n.prototype.ea=function(t){this.b!==t&&(this.b=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.a&&Rn(this))},_n.prototype.X=function(t){this.b&&this.a!==t&&Rn(this)},l(qn,Nn),qn.prototype.B=function(t){t.preventDefault(),void 0!==this.f?this.f():(t=this.g.Z())&&void 0!==pn(t)&&(0<this.i?t.animate({rotation:0,duration:this.i,easing:mi}):yn(t,0))},l(zn,Nn),zn.prototype.b=function(t,e){if(e.preventDefault(),e=this.g.Z()){var i=e.za();i&&(t=e.constrainResolution(i,t),0<this.a?(0<e.a[0]&&ln(e),e.animate({resolution:t,duration:this.a,easing:mi})):mn(e,t))}},l(Xn,le),Xn.prototype.gb=function(t){this.set("active",t)},Xn.prototype.setMap=function(t){this.C=t},l(Zn,Xn),l(ro,Xn),ro.prototype.mb=function(t){return t},l(lo,ro),lo.prototype.mb=xi,l(fo,ro),fo.prototype.mb=xi,l(mo,ee),mo.prototype.ca=function(){this.setMap(null)},mo.prototype.setMap=function(t){if(this.a){this.a.u.removeChild(this.c);var e=this.c.style;e.left=e.top=e.width=e.height="inherit"}(this.a=t)&&this.a.u.appendChild(this.c)},mo.prototype.O=function(){return this.bb},l(wo,ro),wo.prototype.O=function(){return this.a.O()},wo.prototype.f=h;var tf="boxstart",ef="boxdrag",nf="boxend";l(Po,ne),l(jo,wo),jo.prototype.f=function(){var t=this.C,e=t.Z(),i=t.wb(),n=this.O().I();if(this.J){var o=e.Sd(i);n=[In(t,q(n)),In(t,[n[2],n[3]])],t=N(void 0);var r,s=0;for(r=n.length;s<r;++s)R(t,n[s]);t=1/fn(e,t,i),n=(o[2]-o[0])/2*(t-1),t=(o[3]-o[1])/2*(t-1),o[0]-=n,o[2]+=n,o[1]-=t,o[3]+=t,n=o}i=e.constrainResolution(fn(e,n,i)),o=F(n),o=e.b.center(o),e.animate({resolution:i,center:o,duration:this.A,easing:mi})},l(ko,Xn),l(To,Xn),l(Ao,Xn),Ao.prototype.u=function(){this.i=void 0,vn(this.C.Z(),1,-1)},Ao.prototype.A=function(t){0<(t=t.Z()).a[0]&&ln(t),Hn(t,-v(this.g,-1,1),this.a,this.B),this.f=void 0,this.g=0,this.a=null,this.o=this.b=void 0};var of="trackpad",rf="wheel";l(Lo,ro),Lo.prototype.mb=xi,l(Ro,ro),Ro.prototype.mb=xi,l(Go,ne),l(Bo,re),(cc=Bo.prototype).clear=function(){this.b=0,this.j={},this.a=this.c=null,this.l("clear")},cc.forEach=function(t,e){for(var i=this.c;i;)t.call(e,i.ob,i.eb,this),i=i.wa},cc.get=function(t){return t=this.j[t],g(void 0!==t,15),t===this.a?t.ob:(t===this.c?(this.c=this.c.wa,this.c.Na=null):(t.wa.Na=t.Na,t.Na.wa=t.wa),t.wa=null,t.Na=this.a,this.a=this.a.wa=t,t.ob)},cc.remove=function(t){var e=this.j[t];return g(void 0!==e,15),e===this.a?(this.a=e.Na)&&(this.a.wa=null):e===this.c?(this.c=e.wa)&&(this.c.Na=null):(e.wa.Na=e.Na,e.Na.wa=e.wa),delete this.j[t],--this.b,e.ob},cc.pop=function(){var t=this.c;return delete this.j[t.eb],t.wa&&(t.wa.Na=null),this.c=t.wa,this.c||(this.a=null),--this.b,t.ob},cc.set=function(t,e){g(!(t in this.j),16),e={eb:t,wa:null,Na:this.a,ob:e},this.a?this.a.wa=e:this.c=e,this.a=e,this.j[t]=e,++this.b};var sf=[0,0,0,1],af=[],lf=[0,0,0,1],hf=new Bo,uf={},cf=function(){function t(t){i||(i=bn(1,1),i.font="32px monospace",o=i.measureText("wmytzilWMYTZIL@#/&?$%10").width);var e=!0;return"monospace"!=t&&(i.font="32px "+t+",monospace",e=i.measureText("wmytzilWMYTZIL@#/&?$%10").width!=o,i.font="32px monospace"),e}function e(){var e,i=!0;for(e in r)60>r[e]&&(t(e)?(r[e]=60,s.clear()):(++r[e],i=!1));i&&(window.clearInterval(n),n=void 0)}var i,n,o,r=uf,s=hf;return function(i){if(i=Qc(i))for(var o=0,s=i.length;o<s;++o){var a=i[o];a in r||(r[a]=60,t(a)||(r[a]=0,void 0===n&&(n=window.setInterval(e,32))))}}}(),ff=Si(),pf=/^#(?:[0-9a-f]{3,4}){1,2}$/i,df=/^([a-z]*)$/i,gf=function(){var t={},e=0;return function(i){if(t.hasOwnProperty(i))var n=t[i];else{if(1024<=e){n=0;for(var o in t)0==(3&n++)&&(delete t[o],--e)}if(n=i,df.exec(n)&&(o=document.createElement("div"),o.style.color=n,document.body.appendChild(o),n=getComputedStyle(o).color,document.body.removeChild(o)),pf.exec(n)){var r=4>=(o=n.length-1)?1:2,s=4===o||8===o;o=parseInt(n.substr(1+0*r,r),16);var a=parseInt(n.substr(1+1*r,r),16),l=parseInt(n.substr(1+2*r,r),16);n=s?parseInt(n.substr(1+3*r,r),16):255,1==r&&(o=(o<<4)+o,a=(a<<4)+a,l=(l<<4)+l,s&&(n=(n<<4)+n)),r=[o,a,l,n/255]}else 0==n.indexOf("rgba(")?(n=n.slice(5,-1).split(",").map(Number),r=Vo(n)):0==n.indexOf("rgb(")?((n=n.slice(4,-1).split(",").map(Number)).push(1),r=Vo(n)):g(!1,14);n=r,t[i]=n,++e}return n}}();(cc=Yo.prototype).Wd=function(){},cc.Nc=function(){},cc.Oc=function(){},cc.Pc=function(){},cc.Qc=function(){},cc.Rc=function(){},cc.Sc=function(){},cc.Tc=function(){},cc.Wa=function(){},cc.kb=function(){},cc.wc=function(){},cc.Ua=function(){},l(Zo,Yo),(cc=Zo.prototype).Nc=function(t){if(X(this.b,t.I())){if(this.c||this.a){this.c&&tr(this,this.c),this.a&&er(this,this.a);var e=this.C,i=this.H,n=t.aa();i=(e=n?Mi(n,0,n.length,t.ga(),e,i):null)[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),(n=this.l).beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.c&&n.fill(),this.a&&n.stroke()}""!==this.ha&&Jo(this,t.ja(),2,2)}},cc.Sc=function(t){var e=t.aa();t=t.ga(),this.L&&$o(this,e,e.length),""!==this.ha&&Jo(this,e,e.length,t)},cc.Qc=function(t){var e=t.aa();t=t.ga(),this.L&&$o(this,e,e.length),""!==this.ha&&Jo(this,e,e.length,t)},cc.Oc=function(t){if(X(this.b,t.I())){if(this.a){er(this,this.a);var e=this.l,i=t.aa();e.beginPath(),Ko(this,i,0,i.length,t.ga(),!1),e.stroke()}""!==this.ha&&(t=t.Xc(),Jo(this,t,2,2))}},cc.Pc=function(t){var e=t.I();if(X(this.b,e)){if(this.a){er(this,this.a),e=this.l;var i=t.aa(),n=0,o=t.Ma(),r=t.ga();e.beginPath();var s,a=0;for(s=o.length;a<s;++a)n=Ko(this,i,n,o[a],r,!1);e.stroke()}""!==this.ha&&(t=t.Yc(),Jo(this,t,t.length,2))}},cc.Tc=function(t){if(X(this.b,t.I())){if(this.a||this.c){this.c&&tr(this,this.c),this.a&&er(this,this.a);var e=this.l;e.beginPath(),Qo(this,t.Xa(),0,t.Ma(),t.ga()),this.c&&e.fill(),this.a&&e.stroke()}""!==this.ha&&(t=t.ac(),Jo(this,t,2,2))}},cc.Rc=function(t){if(X(this.b,t.I())){if(this.a||this.c){this.c&&tr(this,this.c),this.a&&er(this,this.a);var e,i=this.l,n=Ia(t),o=0,r=t.Eb(),s=t.ga();i.beginPath();var a=0;for(e=r.length;a<e;++a)o=Qo(this,n,o,r[a],s);this.c&&i.fill(),this.a&&i.stroke()}""!==this.ha&&(t=Ta(t),Jo(this,t,t.length,2))}},cc.kb=function(t,e){if(t?(t=t.a,this.c={fillStyle:Ho(t||sf)}):this.c=null,e){t=e.c;var i=e.b,n=e.l,o=e.g,r=e.f,s=e.j;e=e.v,this.a={lineCap:void 0!==i?i:"round",lineDash:n||af,lineDashOffset:o||0,lineJoin:void 0!==r?r:"round",lineWidth:this.g*(void 0!==s?s:1),miterLimit:void 0!==e?e:10,strokeStyle:Ho(t||lf)}}else this.a=null},cc.wc=function(t){if(t){var e=t.$b(),i=t.ba(1),n=t.oc(),o=t.yb();this.B=e[0],this.u=e[1],this.A=o[1],this.L=i,this.o=t.b,this.Ga=n[0],this.M=n[1],this.X=t.B,this.ea=t.i,this.j=t.j*this.g,this.Ra=t.o,this.ia=o[0]}else this.L=null},cc.Ua=function(t){if(t){var e=t.ua();e?(e=e.a,this.f={fillStyle:Ho(e||sf)}):this.f=null;var i=t.qa();if(i){e=i.c;var n=i.b,o=i.l,r=i.g,s=i.f,a=i.j;i=i.v,this.v={lineCap:void 0!==n?n:"round",lineDash:o||af,lineDashOffset:r||0,lineJoin:void 0!==s?s:"round",lineWidth:void 0!==a?a:1,miterLimit:void 0!==i?i:10,strokeStyle:Ho(e||lf)}}else this.v=null;e=t.a,n=t.l,o=t.j,r=t.b,s=t.g,a=t.c,i=t.ra();var l=t.f;t=t.v,this.ka={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==l?l:"center",textBaseline:void 0!==t?t:"middle"},this.ha=void 0!==i?i:"",this.fa=void 0!==n?this.g*n:0,this.la=void 0!==o?this.g*o:0,this.$a=void 0!==r&&r,this.xa=void 0!==s?s:0,this.i=this.g*(void 0!==a?a:1)}else this.ha=""},l(ir,ae),ir.prototype.Ea=h,ir.prototype.ea=function(t){2===t.target.a()&&or(this)},l(hr,ir),hr.prototype.C=function(t,e,i,n){if(this.Ea(t,e,0,wi,this))return i.call(n,this.a,null)},hr.prototype.pc=function(t,e,i,n){cr(this,"postcompose",t,e,n)},l(pr,hr),pr.prototype.Ud=function(t,e,i){cr(this,"precompose",i,t,void 0);var n=this.ba();if(n){var o=e.extent,r=void 0!==o&&!E(o,t.extent)&&X(o,t.extent);r&&ur(i,t,o),o=this.B();var s=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(o[4]),Math.round(o[5]),Math.round(n.width*o[0]),Math.round(n.height*o[3])),i.globalAlpha=s,r&&i.restore()}this.pc(i,t,e)},pr.prototype.Ea=function(t,e,i,n,o){var r=this.a;return r.$().Ea(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(o,t,r)})},pr.prototype.C=function(t,e,i,n){if(this.ba()){if(this.a.$().Ea!==h)return hr.prototype.C.apply(this,arguments);var o=ki(this.H,t.slice());if(pi(o,e.viewState.resolution/this.g),this.i||(this.i=bn(1,1)),this.i.clearRect(0,0,1,1),this.i.drawImage(this.ba(),o[0],o[1],1,1,0,0,1,1),0<(o=this.i.getImageData(0,0,1,1).data)[3])return i.call(n,this.a,o)}},l(dr,pr),dr.handles=function(t,e){return"canvas"===t&&"IMAGE"===e.D()},dr.create=function(t,e){return new dr(e)},dr.prototype.ba=function(){return this.L?this.L.ba():null},dr.prototype.B=function(){return this.b},dr.prototype.Lb=function(t,e){var i=t.pixelRatio,n=t.size,o=t.viewState,r=o.center,s=o.resolution,a=this.a.$(),l=t.viewHints,h=t.extent;return void 0!==e.extent&&(h=B(h,e.extent)),l[0]||l[1]||V(h)||(e=o.projection,(o=a.C)&&(e=o),(e=h=a.ba(h,s,i,e))&&(e=h,2!=(o=e.a())&&3!=o&&Kt(e,"change",this.ea,this),0==o&&(e.load(),o=e.a()),e=2==o),e&&(this.L=h)),this.L&&(h=this.L,o=h.I(),e=h.j(),h=h.c(),l=i*e/(s*h),o=Ei(this.b,i*n[0]/2,i*n[1]/2,l,l,0,h*(o[0]-r[0])/e,h*(r[1]-o[3])/e),Ei(this.H,i*n[0]/2-o[4],i*n[1]/2-o[5],i/s,-i/s,0,-r[0],-r[1]),sr(t,a),this.g=e*i/h),!!this.L},gr.prototype.clear=function(){this.a={},this.c=0},gr.prototype.get=function(t,e,i){return(t=e+":"+t+":"+(i?Xo(i):"null"))in this.a?this.a[t]:null},gr.prototype.set=function(t,e,i,n){this.a[e+":"+t+":"+(i?Xo(i):"null")]=n,++this.c};var vf=new gr;l(vr,ee),(cc=vr.prototype).ca=function(){for(var t in this.c)ie(this.c[t])},cc.Ea=function(t,e,i,n,o,r,s){var a,l=e.viewState,h=l.resolution,c=l.projection;if(l=t,c.j){var f=W(c=c.I()),p=t[0];(p<c[0]||p>c[2])&&(l=[p+f*Math.ceil((c[0]-p)/f),t[1]])}for(f=(c=e.layerStatesArray).length-1;0<=f;--f){var d=c[f];if(p=d.layer,On(d,h)&&r.call(s,p)&&(d=yr(this,p),p.$()&&(a=d.Ea(p.$().B?l:t,e,i,function(t,i){var r=u(t).toString(),s=e.layerStates[u(i)].fd;if(!(r in e.skippedFeatureUids)||s)return n.call(o,t,s?i:null)},o)),a))return a}},cc.Lg=function(){this.g.render()},cc.ff=h,cc.aj=function(t,e){for(var i in this.c)if(!(e&&i in e.layerStates)){t=i;var n=this.c[t];delete this.c[t],te(this.j[t]),delete this.j[t],ie(n)}},l(wr,vr),wr.handles=function(t){return"canvas"===t},wr.create=function(t,e){return new wr(t,e)},wr.prototype.D=function(){return"canvas"},wr.prototype.ff=function(t){if(t){var e=this.b,i=t.pixelRatio,n=Math.round(t.size[0]*i),o=Math.round(t.size[1]*i);this.a.width!=n||this.a.height!=o?(this.a.width=n,this.a.height=o):e.clearRect(0,0,n,o),i=t.viewState.rotation;var r=t.viewState,s=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;Ei(s,t.size[0]/2,t.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),g(0!==(s=(r=ji(a,s))[0]*r[3]-r[1]*r[2]),32),a=r[0];var l=r[1],h=r[2],u=r[3],c=r[4],f=r[5];for(r[0]=u/s,r[1]=-l/s,r[2]=-h/s,r[3]=a/s,r[4]=(h*f-u*c)/s,r[5]=-(a*f-l*c)/s,xr(this,"precompose",t),jt(r=t.layerStatesArray),i&&(e.save(),Uo(e,i,n/2,o/2)),n=t.viewState.resolution,o=0,s=r.length;o<s;++o)a=r[o],l=a.layer,l=yr(this,l),On(a,n)&&"ready"==a.ij&&l.Lb(t,a)&&l.Ud(t,a,e);i&&e.restore(),xr(this,"postcompose",t),this.l||(this.a.style.display="",this.l=!0);for(var p in this.c)if(!(p in t.layerStates)){t.postRenderFunctions.push(this.aj.bind(this));break}t.postRenderFunctions.push(mr)}else this.l&&(this.a.style.display="none",this.l=!1)},l(Mr,pr),Mr.handles=function(t,e){return"canvas"===t&&"TILE"===e.D()},Mr.create=function(t,e){return new Mr(e)},Mr.prototype.Lb=function(t,e){var i=t.pixelRatio,n=t.size,o=t.viewState,r=o.projection,s=o.resolution;o=o.center;var a=this.a,l=a.$(),h=l.j,c=l.ya(r),f=zt(c,s,this.X),p=c.a[f],d=Math.round(s/p)||1,g=t.extent;if(void 0!==e.extent&&(g=B(g,e.extent)),V(g))return!1;var v=_t(c,g,f),m=Ot(c,f,v),y=l.Gb(i),b={};b[f]={};var w,x,M=nr(l,r,b),S=this.M,C=this.xa,P=!1;for(w=v.T;w<=v.W;++w)for(x=v.R;x<=v.U;++x){var j=l.kd(f,w,x,i,r);if(3==j.state&&(a.u()?0<a.B()&&(P=!0):ks(j,2)),Sr(this,j)||(j=js(j)),Sr(this,j)){var k=u(this);if(2==j.state){b[f][j.ta.toString()]=j;var T=!!j.g&&-1!==j.f[k];P||!T&&-1!==this.f.indexOf(j)||(P=!0)}if(1===Es(j,k,t.time))continue}T=!1,(k=Lt(c,j.ta,C,S))&&(T=M(f+1,k)),T||At(c,j.ta,M,C,S)}if(j=t.viewHints,j=j[0]||j[1],!(this.g&&16<Date.now()-t.time&&j||!P&&this.b&&E(this.b,g)&&this.uc==h&&d==this.J&&(j||p*i/y*d==this.g))){for((j=this.context)&&(x=l.dc(f,i,r),w=Math.round((v.W-v.T+1)*x[0]/d),x=Math.round((v.U-v.R+1)*x[1]/d),(P=j.canvas).width!=w||P.height!=x?(this.J=d,P.width=w,P.height=x):(this.b&&!_(m,this.b)&&j.clearRect(0,0,w,x),d=this.J)),this.f.length=0,(P=Object.keys(b).map(Number)).sort(function(t,e){return t===f?1:e===f?-1:t>e?1:t<e?-1:0}),k=0,T=P.length;k<T;++k){C=P[k],M=l.dc(C,i,r);var I=(j=c.a[C])/p,A=y*l.ae(r),N=b[C];for(var L in N){w=((x=Rt(c,(j=N[L]).ta,S))[0]-m[0])/p*y/d,x=(m[3]-x[3])/p*y/d;var O=M[0]*I/d,D=M[1]*I/d;this.Uc(j,t,e,w,x,O,D,A,f===C),this.f.push(j)}}this.uc=h,this.g=p*i/y*d,this.b=m}return e=this.g/s,e=Ei(this.u,i*n[0]/2,i*n[1]/2,e,e,0,(this.b[0]-o[0])/this.g*i,(o[1]-this.b[3])/this.g*i),Ei(this.H,i*n[0]/2-e[4],i*n[1]/2-e[5],i/s,-i/s,0,-o[0],-o[1]),ar(t.usedTiles,l,f,v),lr(t,l,c,i,r,g,f,a.B()),rr(t,l),sr(t,l),0<this.f.length},Mr.prototype.Uc=function(t,e,i,n,o,r,s,a,l){if(i=t.ba(this.a)){var h=u(this),c=l?Es(t,h,e.time):1;1!==c||this.a.$().$c(e.viewState.projection)||this.context.clearRect(n,o,r,s);var f=c!==this.context.globalAlpha;f&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(i,a,a,i.width-2*a,i.height-2*a,n,o,r,s),f&&this.context.restore(),1!==c?e.animate=!0:l&&t.g&&(t.f[h]=-1)}},Mr.prototype.ba=function(){var t=this.context;return t?t.canvas:null},Mr.prototype.B=function(){return this.u};var mf={hb:function(){}};!function(t){function e(t,o,r,s,a){for(r=r||0,s=s||t.length-1,a=a||n;s>r;){if(600<s-r){var l=s-r+1,h=o-r+1,u=Math.log(l),c=.5*Math.exp(2*u/3);u=.5*Math.sqrt(u*c*(l-c)/l)*(0>h-l/2?-1:1),e(t,o,Math.max(r,Math.floor(o-h*c/l+u)),Math.min(s,Math.floor(o+(l-h)*c/l+u)),a)}for(l=t[o],h=r,c=s,i(t,r,o),0<a(t[s],l)&&i(t,r,s);h<c;){for(i(t,h,c),h++,c--;0>a(t[h],l);)h++;for(;0<a(t[c],l);)c--}0===a(t[r],l)?i(t,r,c):(c++,i(t,c,s)),c<=o&&(r=c+1),o<=c&&(s=c-1)}}function i(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function n(t,e){return t<e?-1:t>e?1:0}function o(t,e){if(!(this instanceof o))return new o(t,e);this.Ic=Math.max(4,t||9),this.Ld=Math.max(2,Math.ceil(.4*this.Ic)),e&&this.Xf(e),this.clear()}function r(t,e){s(t,0,t.children.length,e,t)}function s(t,e,i,n,o){o||(o=d(null)),o.T=1/0,o.R=1/0,o.W=-1/0,o.U=-1/0;for(var r;e<i;e++)r=t.children[e],a(o,t.va?n(r):r);return o}function a(t,e){t.T=Math.min(t.T,e.T),t.R=Math.min(t.R,e.R),t.W=Math.max(t.W,e.W),t.U=Math.max(t.U,e.U)}function l(t,e){return t.T-e.T}function h(t,e){return t.R-e.R}function u(t){return(t.W-t.T)*(t.U-t.R)}function c(t){return t.W-t.T+(t.U-t.R)}function f(t,e){return t.T<=e.T&&t.R<=e.R&&e.W<=t.W&&e.U<=t.U}function p(t,e){return e.T<=t.W&&e.R<=t.U&&e.W>=t.T&&e.U>=t.R}function d(t){return{children:t,height:1,va:!0,T:1/0,R:1/0,W:-1/0,U:-1/0}}function g(t,e,i,n,o){for(var r,s=[e,i];s.length;)i=s.pop(),e=s.pop(),i-e<=n||(r=e+Math.ceil((i-e)/n/2)*n,v(t,r,e,i,o),s.push(e,r,r,i))}var v=e;o.prototype={all:function(){return this.Hd(this.data,[])},search:function(t){var e=this.data,i=[],n=this.Da;if(!p(t,e))return i;for(var o,r,s,a,l=[];e;){for(o=0,r=e.children.length;o<r;o++)s=e.children[o],a=e.va?n(s):s,p(t,a)&&(e.va?i.push(s):f(t,a)?this.Hd(s,i):l.push(s));e=l.pop()}return i},gg:function(t){var e=this.data,i=this.Da;if(!p(t,e))return!1;for(var n,o,r,s,a=[];e;){for(n=0,o=e.children.length;n<o;n++)if(r=e.children[n],s=e.va?i(r):r,p(t,s)){if(e.va||f(t,s))return!0;a.push(r)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this.Ld){for(var e=0,i=t.length;e<i;e++)this.da(t[e]);return this}return t=this.Jd(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.Od(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.Kd(t,this.data.height-t.height-1,!0)):this.data=t,this},da:function(t){return t&&this.Kd(t,this.data.height-1),this},clear:function(){return this.data=d([]),this},remove:function(t,e){if(!t)return this;for(var i,n,o,r,s=this.data,a=this.Da(t),l=[],h=[];s||l.length;){if(s||(s=l.pop(),n=l[l.length-1],i=h.pop(),r=!0),s.va){t:{o=t;var u=s.children,c=e;if(c){for(var p=0;p<u.length;p++)if(c(o,u[p])){o=p;break t}o=-1}else o=u.indexOf(o)}if(-1!==o){s.children.splice(o,1),l.push(s),this.Vf(l);break}}r||s.va||!f(s,a)?n?(i++,s=n.children[i],r=!1):s=null:(l.push(s),h.push(i),i=0,n=s,s=s.children[0])}return this},Da:function(t){return t},Lc:l,Mc:h,toJSON:function(){return this.data},Hd:function(t,e){for(var i=[];t;)t.va?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},Jd:function(t,e,i,n){var o=i-e+1,s=this.Ic;if(o<=s){var a=d(t.slice(e,i+1));return r(a,this.Da),a}n||(n=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,n-1))),(a=d([])).va=!1,a.height=n;var l;for(g(t,e,i,s=(o=Math.ceil(o/s))*Math.ceil(Math.sqrt(s)),this.Lc);e<=i;e+=s){var h=Math.min(e+s-1,i);for(g(t,e,h,o,this.Mc),l=e;l<=h;l+=o){var u=Math.min(l+o-1,h);a.children.push(this.Jd(t,l,u,n-1))}}return r(a,this.Da),a},Uf:function(t,e,i,n){for(var o,r,s,a,l,h,c,f;n.push(e),!e.va&&n.length-1!==i;){for(c=f=1/0,o=0,r=e.children.length;o<r;o++)s=e.children[o],l=u(s),(h=(Math.max(s.W,t.W)-Math.min(s.T,t.T))*(Math.max(s.U,t.U)-Math.min(s.R,t.R))-l)<f?(f=h,c=l<c?l:c,a=s):h===f&&l<c&&(c=l,a=s);e=a||e.children[0]}return e},Kd:function(t,e,i){var n=this.Da;i=i?t:n(t),n=[];var o=this.Uf(i,this.data,e,n);for(o.children.push(t),a(o,i);0<=e&&n[e].children.length>this.Ic;)this.Zf(n,e),e--;this.Rf(i,n,e)},Zf:function(t,e){var i=t[e],n=i.children.length,o=this.Ld;this.Sf(i,o,n),n=this.Tf(i,o,n),(n=d(i.children.splice(n,i.children.length-n))).height=i.height,n.va=i.va,r(i,this.Da),r(n,this.Da),e?t[e-1].children.push(n):this.Od(i,n)},Od:function(t,e){this.data=d([t,e]),this.data.height=t.height+1,this.data.va=!1,r(this.data,this.Da)},Tf:function(t,e,i){var n,o,r=o=1/0;for(n=e;n<=i-e;n++){var a=s(t,0,n,this.Da),l=s(t,n,i,this.Da),h=Math.max(0,Math.min(a.W,l.W)-Math.max(a.T,l.T))*Math.max(0,Math.min(a.U,l.U)-Math.max(a.R,l.R));if(a=u(a)+u(l),h<r){r=h;var c=n;o=a<o?a:o}else h===r&&a<o&&(o=a,c=n)}return c},Sf:function(t,e,i){var n=t.va?this.Lc:l,o=t.va?this.Mc:h;this.Id(t,e,i,n)<(e=this.Id(t,e,i,o))&&t.children.sort(n)},Id:function(t,e,i,n){t.children.sort(n);var o,r=s(t,0,e,n=this.Da),l=s(t,i-e,i,n),h=c(r)+c(l);for(o=e;o<i-e;o++){var u=t.children[o];a(r,t.va?n(u):u),h+=c(r)}for(o=i-e-1;o>=e;o--)u=t.children[o],a(l,t.va?n(u):u),h+=c(l);return h},Rf:function(t,e,i){for(;0<=i;i--)a(e[i],t)},Vf:function(t){for(var e,i=t.length-1;0<=i;i--)0===t[i].children.length?0<i?(e=t[i-1].children).splice(e.indexOf(t[i]),1):this.clear():r(t[i],this.Da)},Xf:function(t){var e=["return a"," - b",";"];this.Lc=new Function("a","b",e.join(t[0])),this.Mc=new Function("a","b",e.join(t[1])),this.Da=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},t.default=o}(mf.hb=mf.hb||{}),mf.hb=mf.hb.default,l(Pr,Yo),(cc=Pr.prototype).Wd=function(t,e,i){Ir(this,e);var n,o=t.D(),r=t.ga(),s=this.coordinates.length;if("MultiPolygon"==o){o=Ia(t);for(var a=[],l=t.Eb(),h=n=0,u=l.length;h<u;++h){var c=[];n=Tr(this,o,n,l[h],r,c),a.push(c)}this.c.push([4,s,a,t,i,Xi])}else"Polygon"==o||"MultiLineString"==o?(a=[],o="Polygon"==o?t.Xa():t.aa(),Tr(this,o,0,t.Ma(),r,a),this.c.push([4,s,a,t,i,Wi])):"LineString"==o||"MultiPoint"==o?(o=t.aa(),r=Er(this,o,0,o.length,r,!1,!1),this.c.push([4,s,r,t,i,Ui])):"Point"==o&&(o=t.aa(),this.coordinates.push(o[0],o[1]),r=this.coordinates.length,this.c.push([4,s,r,t,i]));_r(this,e)},cc.pa=function(t,e){if(this.Ga){var i=ki(this.M,this.Ga.slice());t.translate(i[0],i[1]),t.rotate(e)}t.fill(),this.Ga&&t.setTransform.apply(t,ff)},cc.Ya=function(t,e,i,n){Nr(this,t,e,i,n,this.c,void 0,void 0)},cc.kb=function(t,e){var i=this.state;t?(t=t.a,i.fillStyle=Ho(t||sf)):i.fillStyle=void 0,e?(t=e.c,i.strokeStyle=Ho(t||lf),t=e.b,i.lineCap=void 0!==t?t:"round",t=e.l,i.lineDash=t?t.slice():af,t=e.g,i.lineDashOffset=t||0,t=e.f,i.lineJoin=void 0!==t?t:"round",t=e.j,i.lineWidth=void 0!==t?t:1,e=e.v,i.miterLimit=void 0!==e?e:10,i.lineWidth>this.J&&(this.J=i.lineWidth,this.b=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineDashOffset=void 0,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},cc.lc=h,l(Rr,Pr),Rr.prototype.Sc=function(t,e){if(this.L){Ir(this,e);var i=t.aa(),n=this.coordinates.length;t=Er(this,i,0,i.length,t.ga(),!1,!1),this.c.push([6,n,t,this.L,this.l,this.j,this.A,this.g,this.f,this.B,this.u,this.v,this.i,this.o*this.pixelRatio,this.H,this.C]),this.a.push([6,n,t,this.K,this.l,this.j,this.A,this.g,this.f,this.B,this.u,this.v,this.i,this.o,this.H,this.C]),_r(this,e)}},Rr.prototype.Qc=function(t,e){if(this.L){Ir(this,e);var i=t.aa(),n=this.coordinates.length;t=Er(this,i,0,i.length,t.ga(),!1,!1),this.c.push([6,n,t,this.L,this.l,this.j,this.A,this.g,this.f,this.B,this.u,this.v,this.i,this.o*this.pixelRatio,this.H,this.C]),this.a.push([6,n,t,this.K,this.l,this.j,this.A,this.g,this.f,this.B,this.u,this.v,this.i,this.o,this.H,this.C]),_r(this,e)}},Rr.prototype.lc=function(){Lr(this),this.j=this.l=void 0,this.L=this.K=null,this.C=this.H=this.i=this.v=this.u=this.B=this.f=this.o=this.g=void 0},Rr.prototype.wc=function(t,e){var i=t.$b(),n=t.yb(),o=t.Se(1),r=t.ba(1),s=t.oc();this.l=i[0],this.j=i[1],this.A=e,this.K=o,this.L=r,this.g=n[1],this.f=t.b,this.B=s[0],this.u=s[1],this.v=t.B,this.i=t.i,this.o=t.j,this.H=t.o,this.C=n[0]},l(qr,Pr),qr.prototype.Oc=function(t,e){var i=this.state,n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(Or(this,i,!0),Ir(this,e),this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),i=t.aa(),Fr(this,i,0,i.length,t.ga()),this.a.push([12]),_r(this,e))},qr.prototype.Pc=function(t,e){var i=this.state,n=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==n){Or(this,i,!0),Ir(this,e),this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset],[1]),i=t.Ma(),n=t.aa(),t=t.ga();var o,r=0,s=0;for(o=i.length;s<o;++s)r=Fr(this,n,r,i[s],t);this.a.push([12]),_r(this,e)}},qr.prototype.lc=function(){var t=this.state;void 0!=t.Ib&&t.Ib!=this.coordinates.length&&this.c.push([12]),Lr(this),this.state=null},l(zr,Pr),zr.prototype.Nc=function(t,e){var i=this.state,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Br(this,t),Ir(this,e),this.a.push([10,Xo(sf)]),void 0!==i.strokeStyle&&this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]);var o=t.aa();n=this.coordinates.length,Er(this,o,0,o.length,t.ga(),!1,!1),t=[1],n=[2,n],this.c.push(t,n),this.a.push(t,n),t=[8],this.a.push(t),void 0!==i.fillStyle&&this.c.push(t),void 0!==i.strokeStyle&&(i=[12],this.c.push(i),this.a.push(i)),_r(this,e)}},zr.prototype.Tc=function(t,e){var i=this.state;Br(this,t),Ir(this,e),this.a.push([10,Xo(sf)]),void 0!==i.strokeStyle&&this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.Ma(),Gr(this,t.Xa(),0,i,t.ga()),_r(this,e)},zr.prototype.Rc=function(t,e){var i=this.state,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Br(this,t),Ir(this,e),this.a.push([10,Xo(sf)]),void 0!==i.strokeStyle&&this.a.push([11,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,i.lineDashOffset]),i=t.Eb(),n=Ia(t),t=t.ga();var o,r=0,s=0;for(o=i.length;s<o;++s)r=Gr(this,n,r,i[s],t);_r(this,e)}},zr.prototype.lc=function(){Lr(this),this.state=null;var t=this.$a;if(0!==t){var e,i=this.coordinates,n=0;for(e=i.length;n<e;++n)i[n]=t*Math.round(i[n]/t)}};var yf="Polygon Circle LineString Image Text Default".split(" "),bf={left:0,end:0,center:.5,right:1,start:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};l(Ur,Pr);var wf=function(){var t,e={};return function(i){var n=e[i];return void 0==n&&(t||(t=document.createElement("span"),t.textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=i,document.body.appendChild(t),n=e[i]=t.offsetHeight,document.body.removeChild(t)),n}}(),xf=function(){var t,e;return function(i,n){return t||(t=bn(1,1)),i!=e&&(e=t.font=i),t.measureText(n).width}}();Ur.prototype.Wa=function(t,e){var i=this.j,n=this.l,o=this.g;if(""!==this.ha&&o&&(i||n)){i=this.coordinates.length;var r=t.D();n=null;var s=2,a=2;if("line"===o.placement){if(!X(Dr(this),t.I()))return;if(n=t.aa(),a=t.ga(),"LineString"==r)var l=[n.length];else if("MultiLineString"==r)l=t.Ma();else if("Polygon"==r)l=t.Ma().slice(0,1);else if("MultiPolygon"==r){var h=t.Eb();for(l=[],s=0,t=h.length;s<t;++s)l.push(h[s][0])}Ir(this,e),t=o.textAlign;var u,c=0;for(h=0,r=l.length;h<r;++h){if(void 0==t){for(var f,p,d=void 0,g=void 0,v=s=p=f=void 0,m=u=c,y=0,b=0,w=c;c<l[h];c+=a){var x=n[c],M=n[c+1];void 0!==p&&(p=x-p,f=M-f,s=Math.sqrt(p*p+f*f),void 0!==g&&(b+=v,(d=Math.acos((g*p+d*f)/(v*s)))>o.maxAngle&&(b>y&&(y=b,u=w,m=c),b=0,w=c-a)),v=s,g=p,d=f),p=x,f=M}c=(s=b+s>y?[w,c]:[u,m])[0],u=s[1]}else u=l[h];for(s=c;s<u;s+=a)this.coordinates.push(n[s],n[s+1]);s=this.coordinates.length,c=l[h],Wr(this,i,s,this.v),i=s}}else{switch(l=this.ba(this.ha,!!this.j,!!this.l),h=l.width/this.pixelRatio,r){case"Point":case"MultiPoint":s=(n=t.aa()).length;break;case"LineString":n=t.Xc();break;case"Circle":n=t.ja();break;case"MultiLineString":s=(n=t.Yc()).length;break;case"Polygon":if(n=t.ac(),!o.exceedLength&&n[2]/this.resolution<h)return;a=3;break;case"MultiPolygon":for(n=[],s=0,t=(r=Ta(t)).length;s<t;s+=3)(o.exceedLength||r[s+2]/this.resolution>=h)&&n.push(r[s],r[s+1]);if(0==(s=n.length))return}s=Er(this,n,0,s,a,!1,!1),Ir(this,e),o=i,i=s,t=this.g,h=this.l,n=this.pixelRatio,a=bf[t.textAlign||"center"],t=bf[t.textBaseline],h=h&&h.lineWidth?h.lineWidth:0,a=a*l.width/n+2*(.5-a)*h,t=t*l.height/n+2*(.5-t)*h,this.c.push([6,o,i,l,(a-this.i)*n,(t-this.f)*n,this.v,l.height,1,0,0,this.o,this.H,1,!0,l.width]),this.a.push([6,o,i,l,(a-this.i)*n,(t-this.f)*n,this.v,l.height,1,0,0,this.o,this.H,1/n,!0,l.width])}_r(this,e)}},Ur.prototype.ba=function(t,e,i){var n=(i?this.B:"")+this.u+t+(e?this.C:"");if(!hf.j.hasOwnProperty(n)){var o,r=this.l,s=this.j,a=this.g,l=a.scale*this.pixelRatio,h=bf[a.textAlign||"center"],u=i&&r.lineWidth?r.lineWidth:0,c=(t=t.split("\n")).length,f=[],p=a.font,d=t.length,g=0;for(o=0;o<d;++o){var v=xf(p,t[o]);g=Math.max(g,v),f.push(v)}for(d=g,p=wf(a.font),g=(d=bn(Math.ceil((d+u)*l),Math.ceil((p*c+u)*l))).canvas;hf.b>hf.highWaterMark;)hf.pop();if(hf.set(n,g),1!=l&&d.scale(l,l),d.font=a.font,i&&(d.strokeStyle=r.strokeStyle,d.lineWidth=u*(Dc?l:1),d.lineCap=r.lineCap,d.lineJoin=r.lineJoin,d.miterLimit=r.miterLimit,zc&&r.lineDash.length&&(d.setLineDash(r.lineDash),d.lineDashOffset=r.lineDashOffset)),e&&(d.fillStyle=s.fillStyle),d.textBaseline="top",d.textAlign="center",r=.5-h,l=h*g.width/l+r*u,i)for(i=0;i<c;++i)d.strokeText(t[i],l+r*f[i],.5*u+i*p);if(e)for(i=0;i<c;++i)d.fillText(t[i],l+r*f[i],.5*u+i*p)}return hf.get(n)},Ur.prototype.Ua=function(t,e){var i,n;if(t){if(this.v=e,(n=t.ua())?((e=this.j)||(e=this.j={}),e.fillStyle=Ho(n.a||sf)):e=this.j=null,i=t.qa()){(n=this.l)||(n=this.l={});var o=i.l,r=i.g,s=i.j,a=i.v;n.lineCap=i.b||"round",n.lineDash=o?o.slice():af,n.lineDashOffset=void 0===r?0:r,n.lineJoin=i.f||"round",n.lineWidth=void 0===s?1:s,n.miterLimit=void 0===a?10:a,n.strokeStyle=Ho(i.c||lf)}else n=this.l=null;i=this.g,o=t.a||"10px sans-serif",cf(o),r=t.c,i.exceedLength=t.i,i.font=o,i.maxAngle=t.o,i.placement=t.H,i.textAlign=t.f,i.textBaseline=t.v||"middle",i.scale=void 0===r?1:r,o=t.l,r=t.j,s=t.b,a=t.g,this.ha=t.ra()||"",this.i=void 0===o?0:o,this.f=void 0===r?0:r,this.o=void 0!==s&&s,this.H=void 0===a?0:a,this.B=n?("string"==typeof n.strokeStyle?n.strokeStyle:u(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.u=i.font+(i.textAlign||"?")+i.scale,this.C=e?"string"==typeof e.fillStyle?e.fillStyle:"|"+u(e.fillStyle):""}else this.ha=""},l(Xr,function(){});var Mf={0:[[!0]]};Xr.prototype.Ea=function(t,e,i,n,o,r,s){function a(t){for(var e=u.getImageData(0,0,l,l).data,i=0;i<l;i++)for(var n=0;n<l;n++)if(f[i][n]&&0<e[4*(n*l+i)+3])return(t=r(t))?t:void u.clearRect(0,0,l,l)}var l=2*(n=Math.round(n))+1,h=Ei(this.f,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),u=this.g;if(u.canvas.width!==l||u.canvas.height!==l?(u.canvas.width=l,u.canvas.height=l):u.clearRect(0,0,l,l),void 0!==this.b){var c=I();R(c,t),P(c,e*(this.b+n),c)}var f=Hr(n);return!(t=Qr(this,u,h,i,o,a,c,s))&&s&&(t=Yr(s,u,i,a,c)),t},Xr.prototype.Ya=function(t,e,i,n,o,r){var s=Object.keys(this.a).map(Number);s.sort(Mt),t.save();var a=Jr(this,e);t.beginPath(),t.moveTo(a[0],a[1]),t.lineTo(a[2],a[3]),t.lineTo(a[4],a[5]),t.lineTo(a[6],a[7]),t.clip(),o=o||yf;var l,h;for(a=0,l=s.length;a<l;++a){var u=s[a].toString(),c=this.a[u],f=0;for(h=o.length;f<h;++f){var p=o[f],d=c[p];void 0!==d&&(!r||"Image"!=p&&"Text"!=p?d.Ya(t,e,i,n):(p=r[u])?p.push(d,e.slice(0)):r[u]=[d,e.slice(0)])}}t.restore()};var Sf={Circle:zr,Default:Pr,Image:Rr,LineString:qr,Polygon:zr,Text:Ur},Cf={Point:function(t,e,i,n){var o=i.ba();if(o){if(2!=o.nc())return;var r=Kr(t,i.sa(),"Image");r.wc(o,Zr(t,!1)),r.Sc(e,n)}(r=i.ra())&&((i=Kr(t,i.sa(),"Text")).Ua(r,Zr(t,!!o)),i.Wa(e,n))},LineString:function(t,e,i,n){var o=i.qa();if(o){var r=Kr(t,i.sa(),"LineString");r.kb(null,o),r.Oc(e,n)}(o=i.ra())&&((i=Kr(t,i.sa(),"Text")).Ua(o,Zr(t,!1)),i.Wa(e,n))},Polygon:function(t,e,i,n){var o=i.ua(),r=i.qa();if(o||r){var s=Kr(t,i.sa(),"Polygon");s.kb(o,r),s.Tc(e,n)}(o=i.ra())&&((i=Kr(t,i.sa(),"Text")).Ua(o,Zr(t,!1)),i.Wa(e,n))},MultiPoint:function(t,e,i,n){var o=i.ba();if(o){if(2!=o.nc())return;var r=Kr(t,i.sa(),"Image");r.wc(o,Zr(t,!1)),r.Qc(e,n)}(r=i.ra())&&((i=Kr(t,i.sa(),"Text")).Ua(r,Zr(t,!!o)),i.Wa(e,n))},MultiLineString:function(t,e,i,n){var o=i.qa();if(o){var r=Kr(t,i.sa(),"LineString");r.kb(null,o),r.Pc(e,n)}(o=i.ra())&&((i=Kr(t,i.sa(),"Text")).Ua(o,Zr(t,!1)),i.Wa(e,n))},MultiPolygon:function(t,e,i,n){var o=i.ua(),r=i.qa();if(r||o){var s=Kr(t,i.sa(),"Polygon");s.kb(o,r),s.Rc(e,n)}(o=i.ra())&&((i=Kr(t,i.sa(),"Text")).Ua(o,Zr(t,!1)),i.Wa(e,n))},GeometryCollection:function(t,e,i,n){var o,r=0;for(o=(e=e.a).length;r<o;++r)(0,Cf[e[r].D()])(t,e[r],i,n)},Circle:function(t,e,i,n){var o=i.ua(),r=i.qa();if(o||r){var s=Kr(t,i.sa(),"Circle");s.kb(o,r),s.Nc(e,n)}(o=i.ra())&&((i=Kr(t,i.sa(),"Text")).Ua(o,Zr(t,!1)),i.Wa(e,n))}};l(os,hr),os.handles=function(t,e){return"canvas"===t&&"VECTOR"===e.D()},os.create=function(t,e){return new os(e)},(cc=os.prototype).ca=function(){Qt(hf,"clear",this.Ne,this),hr.prototype.ca.call(this)},cc.Ud=function(t,e,i){var n=t.extent,o=t.pixelRatio,r=e.fd?t.skippedFeatureUids:{},s=t.viewState,a=s.projection,l=s.rotation,h=a.I(),u=this.a.$(),c=fr(this,t,0);cr(this,"precompose",i,t,c);var f=e.extent;(s=void 0!==f)&&ur(i,t,f);var p=this.b;if(p&&!Z(p.a)){var d=f=0,g=1!==e.opacity,v=se(this.a,"render");if(g||v){var m=i.canvas.width,y=i.canvas.height;if(l){var b=Math.round(Math.sqrt(m*m+y*y));f=(b-m)/2,d=(b-y)/2,m=y=b}this.i.canvas.width=m,this.i.canvas.height=y,m=this.i}else m=i;if(y=m.globalAlpha,g||(m.globalAlpha=e.opacity),m!=i&&m.translate(f,d),b=t.size[0]*o,o*=t.size[1],Uo(m,-l,b/2,o/2),p.Ya(m,c,l,r),u.B&&a.j&&!E(h,n)){a=n[0],u=W(h);for(var w=0;a<h[0];)--w,c=u*w,c=fr(this,t,c),p.Ya(m,c,l,r),a+=u;for(w=0,a=n[2];a>h[2];)++w,c=u*w,c=fr(this,t,c),p.Ya(m,c,l,r),a-=u;c=fr(this,t,0)}Uo(m,l,b/2,o/2),m!=i&&(v&&cr(this,"render",m,t,c),g?(n=i.globalAlpha,i.globalAlpha=e.opacity,i.drawImage(m.canvas,-f,-d),i.globalAlpha=n):i.drawImage(m.canvas,-f,-d),m.translate(-f,-d)),g||(m.globalAlpha=y)}s&&i.restore(),this.g&&this.g.clear(),this.pc(i,t,e,c)},cc.Ea=function(t,e,i,n,o){if(this.b){var r=this.a,s={};return t=this.b.Ea(t,e.viewState.resolution,e.viewState.rotation,i,{},function(t){var e=u(t).toString();if(!(e in s))return s[e]=!0,n.call(o,t,r)},r.b?{}:null),this.g&&this.g.clear(),t}},cc.Ne=function(){var t=this.a;t.Hb()&&this.b&&t.c()},cc.Oe=function(){or(this)},cc.Lb=function(t){var e=this.a,i=e.$();sr(t,i);var n=t.viewHints[0],o=t.viewHints[1],r=e.M,s=e.X;if(!this.f&&!r&&n||!s&&o)return!0;r=t.extent;var a=t.viewState;s=a.projection;var l=a.resolution,h=t.pixelRatio;n=e.j;var u=e.i;if(void 0===(o=e.get(Tg))&&(o=ts),r=P(r,u*l),u=a.projection.I(),i.B&&a.projection.j&&!E(u,t.extent)&&(t=Math.max(W(r)/2,W(u)),r[0]=u[0]-t,r[2]=u[2]+t),!this.f&&this.B==l&&this.u==n&&this.H==o&&E(this.o,r))return!0;this.b=null,this.f=!1;var c=new Xr(.5*l/h,r,l,h,i.M,this.g,e.i);if(i.ed(r,l,s),t=function(t){var i=t.cb();if(i)var n=i.call(t,l);else(i=e.cb())&&(n=i(t,l));if(n){if(n){if(i=!1,Array.isArray(n))for(var o=0,r=n.length;o<r;++o)i=is(c,t,n[o],es(l,h),this.Oe,this)||i;else i=is(c,t,n,es(l,h),this.Oe,this);t=i}else t=!1;this.f=this.f||t}}.bind(this),o){var f=[];for(Gh(i,r,function(t){f.push(t)},this),f.sort(o),i=0,s=f.length;i<s;++i)t(f[i])}else Gh(i,r,t,this);return $r(c),this.B=l,this.u=n,this.H=o,this.o=r,this.b=c,!0},l(rs,Mr),rs.handles=function(t,e){return"canvas"===t&&"VECTOR_TILE"===e.D()},rs.create=function(t,e){return new rs(e)};var Pf={image:["Polygon","Circle","LineString","Image","Text"],hybrid:["Polygon","LineString"]},jf={image:["Default"],hybrid:["Image","Text","Default"],vector:yf};(cc=rs.prototype).ca=function(){Qt(hf,"clear",this.Pe,this),Mr.prototype.ca.call(this)},cc.Lb=function(t,e){var i=this.a,n=i.j;return this.K!=n&&(this.f.length=0,i=i.o,this.context||"vector"==i||(this.context=bn()),this.context&&"vector"==i&&(this.context=null)),this.K=n,Mr.prototype.Lb.apply(this,arguments)},cc.Uc=function(t,e,i,n,o,r,s,a,l){var h=t,c=this.a,f=e.pixelRatio,p=e.viewState.projection,d=c.j,g=c.get(Tg)||null,v=rc(h,c);if(v.Zb||v.uc!=d||v.zd!=g){var m=c.$(),y=m.tileGrid,b=m.ya(p),w=b.a[h.ta[0]];b=Rt(b,h.v);for(var x=0,M=h.a.length;x<M;++x){var S=h.j[h.a[x]];if(3!=S.state){var C=Rt(y,S.ta),j=B(b,C),k=_(C,j)?null:P(j,c.i*w),E=S.o,T=!1;gt(p,E)||(T=!0,S.o=p),v.Zb=!1,j=new Xr(0,j,w,f,m.u,this.o,c.i);var I=es(w,f),A=S.j;g&&g!==v.zd&&A.sort(g);for(var N,L=0,O=A.length;L<O;++L){if(N=A[L],T){if("tile-pixels"==E.c){E.Bd=C;var D=E,R=S.I();D.g=R,D.j=!(!D.b||!R)}N.O().xb(E,p)}if((!k||X(k,N.I()))&&(R=void 0,(D=N.cb())?R=D.call(N,w):(D=c.cb())&&(R=D(N,w)),R)){D=I;var q=j;if(R){var F=!1;if(Array.isArray(R))for(var z=0,G=R.length;z<G;++z)F=is(q,N,R[z],D,this.Qe,this)||F;else F=is(q,N,R,D,this.Qe,this);N=F}else N=!1;this.A=this.A||N,v.Zb=v.Zb||N}}$r(j);for(var U in j.a);C=h.ta.toString(),k=j,S.b[u(c)+","+C]=k}}v.uc=d,v.zd=g}if(this.context){if(v=e,c=this.a,p=rc(h,c),d=c.j,(f=Pf[c.o])&&p.Ad!==d)for(p.Ad=d,m=h.v,w=m[0],p=v.pixelRatio,U=c.$(),y=U.ya(v.viewState.projection),d=y.a[w],g=oc(h,c),v=U.dc(w,p,v.viewState.projection),g.canvas.width=v[0],g.canvas.height=v[1],v=Rt(y,m),m=0,y=h.a.length;m<y;++m)3!=(w=h.j[h.a[m]]).state&&(U=p/d,b=Pi(this.la,1,1,0,0),Ci(b,Pi(Yc,U,-U,0,0)),Ci(b,Pi(Yc,1,1,-v[0],-v[3])),Vs(w,c,h.ta.toString()).Ya(g,b,0,{},f));Mr.prototype.Uc.apply(this,arguments)}},cc.Ea=function(t,e,i,n,o){var r=e.viewState.resolution,s=e.viewState.rotation;i=void 0==i?0:i;var a=this.a,l=a.b?{}:null,h={},c=this.f;e=a.$().ya(e.viewState.projection);var f,p=0;for(f=c.length;p<f;++p){var d=c[p],g=d.v,v=P(g=Rt(e,g,this.M),i*r,v);if(T(v,t[0],t[1])){g=0;for(var m=d.a.length;g<m;++g){var y=d.j[d.a[g]];if(3!=y.state){y=Vs(y,a,d.ta.toString());var b=b||y.Ea(t,r,s,i,{},function(t){var e=u(t).toString();if(!(e in h))return h[e]=!0,n.call(o,t,a)},l)}}}}return this.o&&this.o.clear(),b},cc.Pe=function(){var t=this.a;t.Hb()&&void 0!==this.K&&t.c()},cc.Qe=function(){or(this)},cc.pc=function(t,e,i){var n=this.a,o=n.b?{}:null,r=n.$(),s=n.o,a=jf[s],l=e.pixelRatio,h=e.viewState.rotation,u=e.size;Uo(t,-h,Math.round(l*u[0]/2),Math.round(l*u[1]/2)),l=this.f,r=r.ya(e.viewState.projection),u=[];for(var c=[],f=l.length-1;0<=f;--f){var p=l[f];if(5!=p.state)for(var d=p.ta,g=Rt(r,d)[0]-Rt(r,p.v)[0],v=void 0,m=0,y=p.a.length;m<y;++m){var b=p.j[p.a[m]];if(3!=b.state){var w,x=Vs(b,n,d.toString());if(!(w="vector"==s))t:{w=void 0;for(w in x.a)for(var M=x.a[w],S=0,C=a.length;S<C;++S)if(a[S]in M){w=!0;break t}w=!1}if(w){for(v||(v=fr(this,e,g)),b=b.ta[0],w=Jr(x,v),t.save(),t.globalAlpha=i.opacity,M=0,S=u.length;M<S;++M)C=u[M],b<c[M]&&(t.beginPath(),t.moveTo(w[0],w[1]),t.lineTo(w[2],w[3]),t.lineTo(w[4],w[5]),t.lineTo(w[6],w[7]),t.moveTo(C[6],C[7]),t.lineTo(C[4],C[5]),t.lineTo(C[2],C[3]),t.lineTo(C[0],C[1]),t.clip());x.Ya(t,v,h,{},a,o),t.restore(),u.push(w),c.push(b)}}}}if(o){for(n=t,a=0,l=(s=Object.keys(o).map(Number).sort(Mt)).length;a<l;++a)for(r=o[s[a].toString()],u=0,c=r.length;u<c;)f=r[u++],p=r[u++],f.Ya(n,p,h,{});this.o.clear()}Mr.prototype.pc.apply(this,arguments)},Cn("MAP_RENDERER",wr),Pn(),l(as,ss),(cc=as.prototype).clone=function(){var t=new as({fill:this.ua()?this.ua().clone():void 0,points:this.f,radius:this.a,radius2:this.l,angle:this.g,snapToPixel:this.o,stroke:this.qa()?this.qa().clone():void 0,rotation:this.i,rotateWithView:this.B,atlasManager:this.H});return t.b=this.b,t.j=this.j,t},cc.$b=function(){return this.A},cc.ua=function(){return this.pa},cc.Se=function(){return this.C},cc.ba=function(){return this.v},cc.ce=function(){return this.u},cc.nc=function(){return 2},cc.oc=function(){return this.ia},cc.yb=function(){return this.ka},cc.qa=function(){return this.oa},cc.ne=function(){},cc.load=function(){},cc.uf=function(){},cc.Yd=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath();var o=this.f;if(1/0===o)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else{var r=void 0!==this.l?this.l:this.a;for(r!==this.a&&(o*=2),i=0;i<=o;i++){n=2*i*Math.PI/o-Math.PI/2+this.g;var s=0==i%2?this.a:r;e.lineTo(t.size/2+s*Math.cos(n),t.size/2+s*Math.sin(n))}}this.pa&&(null===(i=this.pa.a)&&(i=sf),e.fillStyle=Ho(i),e.fill()),this.oa&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.sf,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},cc.Xd=function(t,e,i,n){if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),i=this.f,1/0===i)e.arc(t.size/2,t.size/2,this.a,0,2*Math.PI,!0);else{(n=void 0!==this.l?this.l:this.a)!==this.a&&(i*=2);var o;for(o=0;o<=i;o++){var r=2*o*Math.PI/i-Math.PI/2+this.g,s=0==o%2?this.a:n;e.lineTo(t.size/2+s*Math.cos(r),t.size/2+s*Math.sin(r))}}e.fillStyle=sf,e.fill(),this.oa&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.sf,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},l(hs,as),hs.prototype.clone=function(){var t=new hs({fill:this.ua()?this.ua().clone():void 0,stroke:this.qa()?this.qa().clone():void 0,radius:this.a,snapToPixel:this.o,atlasManager:this.H});return t.b=this.b,t.j=this.j,t},hs.prototype.kf=function(t){this.a=t,ls(this,this.H)},us.prototype.clone=function(){var t=this.a;return new us({color:t&&t.slice?t.slice():t||void 0})},us.prototype.l=function(t){this.a=t,this.c=void 0},(cc=cs.prototype).clone=function(){var t=this.c;return new cs({color:t&&t.slice?t.slice():t||void 0,lineCap:this.b,lineDash:this.l?this.l.slice():void 0,lineDashOffset:this.g,lineJoin:this.f,miterLimit:this.v,width:this.j})},cc.ri=function(t){this.c=t,this.a=void 0},cc.ej=function(t){this.b=t,this.a=void 0},cc.setLineDash=function(t){this.l=t,this.a=void 0},cc.fj=function(t){this.j=t,this.a=void 0},(cc=fs.prototype).clone=function(){var t=this.O();return t&&t.clone&&(t=t.clone()),new fs({geometry:t,fill:this.ua()?this.ua().clone():void 0,image:this.ba()?this.ba().clone():void 0,stroke:this.qa()?this.qa().clone():void 0,text:this.ra()?this.ra().clone():void 0,zIndex:this.sa()})},cc.ad=function(){return this.jb},cc.O=function(){return this.bb},cc.ua=function(){return this.pa},cc.jf=function(t){this.pa=t},cc.ba=function(){return this.L},cc.qa=function(){return this.oa},cc.mf=function(t){this.oa=t},cc.ra=function(){return this.ha},cc.nf=function(t){this.ha=t},cc.sa=function(){return this.Af},cc.Ba=function(t){"function"==typeof t?this.Ia=t:"string"==typeof t?this.Ia=function(e){return e.get(t)}:t?void 0!==t&&(this.Ia=function(){return t}):this.Ia=vs,this.bb=t},cc.pf=function(t){this.Af=t};var kf=null;l(ms,le),(cc=ms.prototype).clone=function(){var t=new ms(this.Fa());t.Za(this.a);var e=this.O();return e&&t.Ba(e.clone()),(e=this.f)&&t.pe(e),t},cc.O=function(){return this.get(this.a)},cc.Bh=function(){return this.b},cc.zg=function(){return this.a},cc.Ch=function(){return this.f},cc.cb=function(){return this.i},cc.Jg=function(){this.c()},cc.ec=function(){this.g&&(te(this.g),this.g=null);var t=this.O();t&&(this.g=Kt(t,"change",this.Jg,this)),this.c()},cc.Ba=function(t){this.set(this.a,t)},cc.pe=function(t){this.i=(this.f=t)?ys(t):void 0,this.c()},cc.lb=function(t){this.b=t,this.c()},cc.Za=function(t){Qt(this,he(this.a),this.ec,this),this.a=t,Kt(this,he(this.a),this.ec,this),this.ec()},l(bs,le),(cc=bs.prototype).ca=function(){this.xc(!1),le.prototype.ca.call(this)},cc.Eh=function(){var t=this.get("projection");t&&(this.g=mt(dt("EPSG:4326"),t),this.a&&this.set("position",this.g(this.a)))},cc.eh=function(){if(Gc){var t=this.fe();t&&void 0===this.b?this.b=navigator.geolocation.watchPosition(this.Gi.bind(this),this.Hi.bind(this),this.get("trackingOptions")):t||void 0===this.b||(navigator.geolocation.clearWatch(this.b),this.b=void 0)}},cc.Gi=function(t){var e=t.coords;this.set("accuracy",e.accuracy),this.set("altitude",null===e.altitude?void 0:e.altitude),this.set("altitudeAccuracy",null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set("heading",null===e.heading?void 0:y(e.heading)),this.a?(this.a[0]=e.longitude,this.a[1]=e.latitude):this.a=[e.longitude,e.latitude],t=this.g(this.a),this.set("position",t),this.set("speed",null===e.speed?void 0:e.speed),t=this.f;var i=this.a,n=e.accuracy;e=[];var o;for(o=0;32>o;++o)Ct(e,t.offset(i,n,2*Math.PI*o/32));e.push(e[0],e[1]),(t=new on(null)).N("XY",e,[e.length]),t.Cb(this.g),this.set("accuracyGeometry",t),this.c()},cc.Hi=function(t){t.type="error",this.xc(!1),this.l(t)},cc.wg=function(){return this.get("accuracy")},cc.Ag=function(){return this.get("heading")},cc.Dh=function(){return this.get("position")},cc.Fg=function(){return this.get("speed")},cc.fe=function(){return this.get("tracking")},cc.xc=function(t){this.set("tracking",t)},l(Ms,Ii),(cc=Ms.prototype).dg=function(t){this.s?Ct(this.s,t):this.s=t.slice(),this.c()},cc.clone=function(){var t=new Ms(null);return t.N(this.V,this.s.slice()),t},cc.Pa=function(t,e,i,n){return n<k(this.I(),t,e)?n:(this.u!=this.j&&(this.A=Math.sqrt(Di(this.s,0,this.s.length,this.a,0)),this.u=this.j),qi(this.s,0,this.s.length,this.a,this.A,!1,t,e,i,n))},cc.He=function(t,e){return"XYM"!=this.V&&"XYZM"!=this.V?null:xs(this.s,this.s.length,this.a,t,void 0!==e&&e)},cc.G=function(){return Ui(this.s,0,this.s.length,this.a)},cc.$d=function(t,e){return ws(this.s,0,this.s.length,this.a,t,e)},cc.Vh=function(){return Cr(this.s,0,this.s.length,this.a)},cc.Xc=function(){return this.i!=this.j&&(this.b=this.$d(.5,this.b),this.i=this.j),this.b},cc.ub=function(t){var e=[];return e.length=Vi(this.s,0,this.s.length,this.a,t,e,0),(t=new Ms(null)).N("XY",e),t},cc.D=function(){return"LineString"},cc.Y=function(t,e){t?(Li(this,e,t,1),this.s||(this.s=[]),this.s.length=Gi(this.s,0,t,this.a),this.c()):this.N("XY",null)},cc.N=function(t,e){Ni(this,t,e),this.c()},(cc=Ss.prototype).clone=function(){return new Ss({font:this.a,placement:this.H,maxAngle:this.o,exceedLength:this.i,rotation:this.g,rotateWithView:this.b,scale:this.c,text:this.ra(),textAlign:this.f,textBaseline:this.v,fill:this.ua()?this.ua().clone():void 0,stroke:this.qa()?this.qa().clone():void 0,offsetX:this.l,offsetY:this.j})},cc.ua=function(){return this.pa},cc.qa=function(){return this.oa},cc.ra=function(){return this.ha},cc.dj=function(t){this.a=t},cc.jf=function(t){this.pa=t},cc.mf=function(t){this.oa=t},cc.nf=function(t){this.ha=t},l(Cs,re),Cs.prototype.Sa=function(){return this.key+"/"+this.ta},l(Ts,Cs),(cc=Ts.prototype).ca=function(){1==this.state&&(Is(this),this.L=As()),this.c&&ie(this.c),this.state=5,Ps(this),Cs.prototype.ca.call(this)},cc.ba=function(){return this.L},cc.Sa=function(){return this.j},cc.Fh=function(){this.state=3,Is(this),this.L=As(),Ps(this)},cc.Gh=function(){this.state=this.L.naturalWidth&&this.L.naturalHeight?2:4,Is(this),Ps(this)},cc.load=function(){0!=this.state&&3!=this.state||(this.state=1,Ps(this),this.a=[Kt(this.L,"error",this.Fh,this,!0),Kt(this.L,"load",this.Gh,this,!0)],this.b(this,this.j))},(cc=Ns.prototype).da=function(t,e){t={T:t[0],R:t[1],W:t[2],U:t[3],value:e},this.c.da(t),this.a[u(e)]=t},cc.load=function(t,e){for(var i=Array(e.length),n=0,o=e.length;n<o;n++){var r=t[n],s=e[n];r={T:r[0],R:r[1],W:r[2],U:r[3],value:s},i[n]=r,this.a[u(s)]=r}this.c.load(i)},cc.remove=function(t){t=u(t);var e=this.a[t];return delete this.a[t],null!==this.c.remove(e)},cc.forEach=function(t,e){return Rs(Os(this),t,e)},cc.clear=function(){this.c.clear(),this.a={}},cc.I=function(t){var e=this.c.data;return A(e.T,e.R,e.W,e.U,t)},cc.concat=function(t){this.c.load(t.c.all());for(var e in t.a)this.a[0|e]=t.a[0|e]},l(qs,le),qs.prototype.Ea=h,qs.prototype.Kb=function(){this.c()},Cn("MAP_RENDERER",wr),Pn(),l(zs,jn),l(Gs,le),(cc=Gs.prototype).Ig=function(){for(var t=this.element;t.lastChild;)t.removeChild(t.lastChild);(t=this.get(Ef))&&this.element.appendChild(t)},cc.Pg=function(){this.b&&(wn(this.element),te(this.b),this.b=null);var t=this.get(Tf);t&&(this.b=Kt(t,"postrender",this.render,this),Ws(this),t=this.stopEvent?t.B:t.u,this.insertFirst?t.insertBefore(this.element,t.childNodes[0]||null):t.appendChild(this.element))},cc.render=function(){Ws(this)},cc.Sg=function(){Ws(this)},cc.Ug=function(){if(Ws(this),this.get(Af)&&this.autoPan){var t=this.get(Tf);if(t&&En(t)){var e=Bs(En(t),t.wb()),i=this.get(Ef),n=i.offsetWidth,o=getComputedStyle(i);n+=parseInt(o.marginLeft,10)+parseInt(o.marginRight,10),o=i.offsetHeight;var r=getComputedStyle(i),s=Bs(i,[n,o+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)]);i=this.autoPanMargin,E(e,s)||(n=s[0]-e[0],o=e[2]-s[2],r=s[1]-e[1],s=e[3]-s[3],e=[0,0],0>n?e[0]=n-i:0>o&&(e[0]=Math.abs(o)+i),0>r?e[1]=r-i:0>s&&(e[1]=Math.abs(s)+i),0===e[0]&&0===e[1])||(i=t.Z().ja(),i=In(t,i),e=[i[0]+e[0],i[1]+e[1]],t.Z().animate({center:t.Ja(e),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing}))}}},cc.Vg=function(){Ws(this)},cc.setMap=function(t){this.set(Tf,t)},cc.qe=function(t){this.set(Af,t)};var Ef="element",Tf="map",If="offset",Af="position",Nf="positioning";l(Xs,Cs),(cc=Xs.prototype).ca=function(){this.j=null,this.b={},this.state=5,Ps(this),Cs.prototype.ca.call(this)},cc.I=function(){return this.v||Lf},cc.Sa=function(){return this.H},cc.load=function(){0==this.state&&(ks(this,1),this.B(this,this.H),this.i(null,NaN,null))},cc.ui=function(t,e,i){this.o=e,this.j=t,ks(this,2),this.v=i},cc.ti=function(){ks(this,3)};var Lf=[0,0,4096,4096];l(Hs,Nn),(cc=Hs.prototype).Mh=function(){this.b=null},cc.Qg=function(t){this.f=kn(this.g,t),Zs(this,this.f)},cc.Rg=function(){Zs(this,null),this.f=null},cc.setMap=function(t){Nn.prototype.setMap.call(this,t),t&&(t=t.a,this.C.push(Kt(t,"mousemove",this.Qg,this),Kt(t,"mouseout",this.Rg,this)))},cc.hf=function(t){this.set(_f,t)};var Of="projection",_f="coordinateFormat";l($s,Nn);var Df=[1,2,5];$s.prototype.A=function(){Ks(this)};var Rf="units",qf=document.implementation.createDocument("","",null),Ff=ha();ya.prototype.de=function(){return null},l(Ma,ya),(cc=Ma.prototype).D=function(){return"json"},cc.Mb=function(t,e){return this.ib(Sa(t),ba(this,t,e))},cc.Ta=function(t,e){return this.rd(Sa(t),ba(this,t,e))},cc.Ob=function(t){return this.vd(Sa(t))},cc.Cc=function(t,e){return JSON.stringify(this.zb(t,e))},l(Ca,Ii),(cc=Ca.prototype).clone=function(){var t=new Ca(null);return t.N(this.V,this.s.slice(),this.b.slice()),t},cc.Pa=function(t,e,i,n){return n<k(this.I(),t,e)?n:(this.i!=this.j&&(this.u=Math.sqrt(Ri(this.s,0,this.b,this.a,0)),this.i=this.j),Fi(this.s,0,this.b,this.a,this.u,!1,t,e,i,n))},cc.G=function(){return Wi(this.s,0,this.b,this.a)},cc.Ma=function(){return this.b},cc.tb=function(){var t,e=this.s,i=this.b,n=this.V,o=[],r=0,s=0;for(t=i.length;s<t;++s){var a=i[s],l=new Ms(null);l.N(n,e.slice(r,a)),o.push(l),r=a}return o},cc.Yc=function(){var t,e=[],i=this.s,n=0,o=this.b,r=this.a,s=0;for(t=o.length;s<t;++s){var a=o[s];Ct(e,n=ws(i,n,a,r,.5)),n=a}return e},cc.ub=function(t){var e,i=[],n=[],o=this.s,r=this.b,s=this.a,a=0,l=0,h=0;for(e=r.length;h<e;++h){var u=r[h];l=Vi(o,a,u,s,t,i,l),n.push(l),a=u}return i.length=l,(t=new Ca(null)).N("XY",i,n),t},cc.D=function(){return"MultiLineString"},cc.Y=function(t,e){t?(Li(this,e,t,2),this.s||(this.s=[]),t=Bi(this.s,0,t,this.a,this.b),this.s.length=0===t.length?0:t[t.length-1],this.c()):this.N("XY",null,this.b)},cc.N=function(t,e,i){Ni(this,t,e),this.b=i,this.c()},l(ja,Ii),(cc=ja.prototype).clone=function(){var t=new ja(null);return t.N(this.V,this.s.slice()),t},cc.Pa=function(t,e,i,n){if(n<k(this.I(),t,e))return n;var o,r=this.s,s=this.a,a=0;for(o=r.length;a<o;a+=s){var l=m(t,e,r[a],r[a+1]);if(l<n){for(n=l,l=0;l<s;++l)i[l]=r[a+l];i.length=s}}return n},cc.G=function(){return Ui(this.s,0,this.s.length,this.a)},cc.D=function(){return"MultiPoint"},cc.Y=function(t,e){t?(Li(this,e,t,1),this.s||(this.s=[]),this.s.length=Gi(this.s,0,t,this.a),this.c()):this.N("XY",null)},cc.N=function(t,e){Ni(this,t,e),this.c()},l(Ea,Ii),(cc=Ea.prototype).clone=function(){for(var t=new Ea(null),e=this.b.length,i=Array(e),n=0;n<e;++n)i[n]=this.b[n].slice();return t.N(this.V,this.s.slice(),i),t},cc.Pa=function(t,e,i,n){if(n<k(this.I(),t,e))return n;if(this.J!=this.j){var o,r=this.b,s=0,a=0,l=0;for(o=r.length;l<o;++l){var h=r[l];a=Ri(this.s,s,h,this.a,a),s=h[h.length-1]}this.K=Math.sqrt(a),this.J=this.j}r=Ia(this),s=this.b,a=this.a,l=this.K,o=0,h=[NaN,NaN];var u,c=0;for(u=s.length;c<u;++c){var f=s[c];n=Fi(r,o,f,a,l,!0,t,e,i,n,h),o=f[f.length-1]}return n},cc.Wh=function(){var t,e=Ia(this),i=this.b,n=0,o=0,r=0;for(t=i.length;r<t;++r){var s=i[r];o+=Oi(e,n,s,this.a),n=s[s.length-1]}return o},cc.G=function(t){if(void 0!==t){var e=Ia(this).slice();nn(e,this.b,this.a,t)}else e=this.s;return Xi(e,0,this.b,this.a)},cc.Eb=function(){return this.b},cc.Cg=function(){var t=new ja(null);return t.N("XYM",Ta(this).slice()),t},cc.ub=function(t){var e=[],i=[],n=this.s,o=this.b,r=this.a;t=Math.sqrt(t);var s,a=0,l=0,h=0;for(s=o.length;h<s;++h){var u=o[h],c=[];l=Hi(n,a,u,r,t,e,l,c),i.push(c),a=u[u.length-1]}return e.length=l,(n=new Ea(null)).N("XY",e,i),n},cc.D=function(){return"MultiPolygon"},cc.Y=function(t,e){if(t){Li(this,e,t,3),this.s||(this.s=[]),e=this.s;var i=this.a,n=this.b,o=0;n=n||[];var r,s=0,a=0;for(r=t.length;a<r;++a)o=Bi(e,o,t[a],i,n[s]),n[s++]=o,o=o[o.length-1];n.length=s,0===n.length?this.s.length=0:(t=n[n.length-1],this.s.length=0===t.length?0:t[t.length-1]),this.c()}else this.N("XY",null,this.b)},cc.N=function(t,e,i){Ni(this,t,e),this.b=i,this.c()},l(La,Ma);var zf={Point:function(t){return void 0!==t.m&&void 0!==t.z?new $i([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new $i([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new $i([t.x,t.y,t.m],"XYM"):new $i([t.x,t.y])},LineString:function(t){return new Ms(t.paths[0],Oa(t))},Polygon:function(t){return new on(t.rings,Oa(t))},MultiPoint:function(t){return new ja(t.points,Oa(t))},MultiLineString:function(t){return new Ca(t.paths,Oa(t))},MultiPolygon:function(t){return new Ea(t.rings,Oa(t))}},Gf={Point:function(t){var e,i=t.G();return"XYZ"===(t=t.V)?e={x:i[0],y:i[1],z:i[2]}:"XYM"===t?e={x:i[0],y:i[1],m:i[2]}:"XYZM"===t?e={x:i[0],y:i[1],z:i[2],m:i[3]}:"XY"===t?e={x:i[0],y:i[1]}:g(!1,34),e},LineString:function(t){var e=_a(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:[t.G()]}},Polygon:function(t){var e=_a(t);return{hasZ:e.hasZ,hasM:e.hasM,rings:t.G(!1)}},MultiPoint:function(t){var e=_a(t);return{hasZ:e.hasZ,hasM:e.hasM,points:t.G()}},MultiLineString:function(t){var e=_a(t);return{hasZ:e.hasZ,hasM:e.hasM,paths:t.G()}},MultiPolygon:function(t){var e=_a(t);t=t.G(!1);for(var i=[],n=0;n<t.length;n++)for(var o=t[n].length-1;0<=o;o--)i.push(t[n][o]);return{hasZ:e.hasZ,hasM:e.hasM,rings:i}}};(cc=La.prototype).ib=function(t,e){var i;if(i=t.geometry){if("number"==typeof i.x&&"number"==typeof i.y)var n="Point";else if(i.points)n="MultiPoint";else if(i.paths)n=1===i.paths.length?"LineString":"MultiLineString";else if(i.rings){var o=i.rings,r=Oa(i),s=[],a=[];n=[];var l,h=0;for(l=o.length;h<l;++h)s.length=0,Gi(s,0,o[h],r.length),Qi(s,0,s.length,r.length)?a.push([o[h]]):n.push(o[h]);for(;n.length;){for(o=n.shift(),r=!1,h=a.length-1;0<=h;h--)if(E(new Yi(a[h][0]).I(),new Yi(o).I())){a[h].push(o),r=!0;break}r||a.push([o.reverse()])}i=bc({},i),1===a.length?(n="Polygon",i.rings=a[0]):(n="MultiPolygon",i.rings=a)}i=xa((0,zf[n])(i),!1,e)}else i=null;return a=new ms,this.a&&a.Za(this.a),a.Ba(i),e&&e.dd&&t.attributes[e.dd]&&a.lb(t.attributes[e.dd]),t.attributes&&a.na(t.attributes),a},cc.rd=function(t,e){if(e=e||{},t.features){var i,n=[],o=t.features;for(e.dd=t.objectIdFieldName,t=0,i=o.length;t<i;++t)n.push(this.ib(o[t],e));return n}return[this.ib(t,e)]},cc.vd=function(t){return t.spatialReference&&t.spatialReference.wkid?dt("EPSG:"+t.spatialReference.wkid):null},cc.zb=function(t,e){e=wa(this,e);var i={},n=t.O();if(n){var o=e;n=(0,Gf[n.D()])(xa(n,!0,o),o),i.geometry=n,e&&e.featureProjection&&(i.geometry.spatialReference={wkid:dt(e.featureProjection).La.split(":").pop()})}return e=t.Fa(),delete e[t.a],i.attributes=Z(e)?{}:e,i},cc.Cd=function(t,e){e=wa(this,e);var i,n=[],o=0;for(i=t.length;o<i;++o)n.push(this.zb(t[o],e));return{features:n}},l(Da,ya),(cc=Da.prototype).D=function(){return"xml"},cc.Mb=function(t,e){return t instanceof Document?Ra(this,t,e):t instanceof Node?null:"string"==typeof t?(t=ia(t),Ra(this,t,e)):null},cc.Ta=function(t,e){return t instanceof Document?qa(this,t,e):t instanceof Node?this.qd(t,e):"string"==typeof t?(t=ia(t),qa(this,t,e)):[]},cc.Ob=function(t){return t instanceof Document?this.ud(t):t instanceof Node?this.tc(t):"string"==typeof t?(t=ia(t),this.ud(t)):null},cc.ud=function(){return this.defaultDataProjection},cc.tc=function(){return this.defaultDataProjection},cc.Cc=function(){return this.f.serializeToString(null)},l(Fa,Da);var Bf=/^[\s\xa0]*$/;(cc=Fa.prototype).Nb=function(t,e){var i=t.localName,n=null;if("FeatureCollection"==i)n="http://www.opengis.net/wfs"===t.namespaceURI?pa([],this.a,t,e,this):pa(null,this.a,t,e,this);else if("featureMembers"==i||"featureMember"==i){var o,r=e[0],s=r.featureType,a=r.featureNS;if(!s&&t.childNodes){s=[],a={};var l=0;for(o=t.childNodes.length;l<o;++l){var h=t.childNodes[l];if(1===h.nodeType){var u=h.nodeName.split(":").pop();if(-1===s.indexOf(u)){var c="",f=0;h=h.namespaceURI;for(var p in a){if(a[p]===h){c=p;break}++f}c||(c="p"+f,a[c]=h),s.push(c+":"+u)}}}"featureMember"!=i&&(r.featureType=s,r.featureNS=a)}"string"==typeof a&&(l=a,a={},a.p0=l),r={},s=Array.isArray(s)?s:[s];for(var d in a){for(u={},l=0,o=s.length;l<o;++l)(-1===s[l].indexOf(":")?"p0":s[l].split(":")[0])===d&&(u[s[l].split(":").pop()]="featureMembers"==i?na(this.Ye,this):oa(this.Ye,this));r[a[d]]=u}n="featureMember"==i?pa(void 0,r,t,e):pa([],r,t,e)}return null===n&&(n=[]),n},cc.Ye=function(t,e){var i;(i=t.getAttribute("fid"))||(i=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var n,o={};for(t=t.firstElementChild;t;t=t.nextElementSibling){var r=t.localName;if(0===t.childNodes.length||1===t.childNodes.length&&(3===t.firstChild.nodeType||4===t.firstChild.nodeType)){var s=ta(t);Bf.test(s)&&(s=void 0),o[r]=s}else"boundedBy"!==r&&(n=r),o[r]=za(this,t,e)}return e=new ms(o),n&&e.Za(n),i&&e.lb(i),e},cc.df=function(t,e){if(t=this.qc(t,e))return(e=new $i(null)).N("XYZ",t),e},cc.bf=function(t,e){if(t=pa([],this.If,t,e,this))return new ja(t)},cc.af=function(t,e){if(t=pa([],this.Hf,t,e,this))return e=new Ca(null),Pa(e,t),e},cc.cf=function(t,e){if(t=pa([],this.Jf,t,e,this))return e=new Ea(null),Na(e,t),e},cc.Ve=function(t,e){fa(this.Mf,t,e,this)},cc.me=function(t,e){fa(this.Ff,t,e,this)},cc.We=function(t,e){fa(this.Nf,t,e,this)},cc.rc=function(t,e){if(t=this.qc(t,e))return(e=new Ms(null)).N("XYZ",t),e},cc.Ni=function(t,e){if(t=pa(null,this.Tb,t,e,this))return t},cc.$e=function(t,e){if(t=this.qc(t,e))return e=new Yi(null),Zi(e,"XYZ",t),e},cc.sc=function(t,e){if((t=pa([null],this.Ec,t,e,this))&&t[0]){e=new on(null);var i,n=t[0],o=[n.length],r=1;for(i=t.length;r<i;++r)Ct(n,t[r]),o.push(n.length);return e.N("XYZ",n,o),e}},cc.qc=function(t,e){return pa(null,this.Tb,t,e,this)},cc.If={"http://www.opengis.net/gml":{pointMember:na(Fa.prototype.Ve),pointMembers:na(Fa.prototype.Ve)}},cc.Hf={"http://www.opengis.net/gml":{lineStringMember:na(Fa.prototype.me),lineStringMembers:na(Fa.prototype.me)}},cc.Jf={"http://www.opengis.net/gml":{polygonMember:na(Fa.prototype.We),polygonMembers:na(Fa.prototype.We)}},cc.Mf={"http://www.opengis.net/gml":{Point:na(Fa.prototype.qc)}},cc.Ff={"http://www.opengis.net/gml":{LineString:na(Fa.prototype.rc)}},cc.Nf={"http://www.opengis.net/gml":{Polygon:na(Fa.prototype.sc)}},cc.Ub={"http://www.opengis.net/gml":{LinearRing:oa(Fa.prototype.Ni)}},cc.qd=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};return e&&bc(i,ba(this,t,e)),this.Nb(t,[i])||[]},cc.tc=function(t){return dt(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},l(Qa,Fa),(cc=Qa.prototype).Ri=function(t,e){if(t=pa([],this.Gf,t,e,this))return e=new Ca(null),Pa(e,t),e},cc.Si=function(t,e){if(t=pa([],this.Kf,t,e,this))return e=new Ea(null),Na(e,t),e},cc.Vd=function(t,e){fa(this.Cf,t,e,this)},cc.tf=function(t,e){fa(this.Pf,t,e,this)},cc.Ti=function(t,e){return pa([null],this.Lf,t,e,this)},cc.Vi=function(t,e){return pa([null],this.Of,t,e,this)},cc.Ui=function(t,e){return pa([null],this.Ec,t,e,this)},cc.Qi=function(t,e){return pa([null],this.Tb,t,e,this)},cc.ih=function(t,e){(t=pa(void 0,this.Ub,t,e,this))&&e[e.length-1].push(t)},cc.rg=function(t,e){(t=pa(void 0,this.Ub,t,e,this))&&(e[e.length-1][0]=t)},cc.ef=function(t,e){if((t=pa([null],this.Qf,t,e,this))&&t[0]){e=new on(null);var i,n=t[0],o=[n.length],r=1;for(i=t.length;r<i;++r)Ct(n,t[r]),o.push(n.length);return e.N("XYZ",n,o),e}},cc.Xe=function(t,e){if(t=pa([null],this.Df,t,e,this))return(e=new Ms(null)).N("XYZ",t),e},cc.Mi=function(t,e){return t=pa([null],this.Ef,t,e,this),A(t[1][0],t[1][1],t[2][0],t[2][1])},cc.Oi=function(t,e){var i=ta(t),n=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;t=[];for(var o;o=n.exec(i);)t.push(parseFloat(o[1])),i=i.substr(o[0].length);if(""===i){if(e=e[0].srsName,i="enu",e&&(i=dt(e).a),"neu"===i)for(e=0,i=t.length;e<i;e+=3)n=t[e],t[e]=t[e+1],t[e+1]=n;if(2==(e=t.length)&&t.push(0),0!==e)return t}},cc.td=function(t,e){var i=ta(t).replace(/^\s*|\s*$/g,""),n=(e=e[0]).srsName,o=e.srsDimension;e="enu",n&&(e=dt(n).a),i=i.split(/\s+/),n=2,t.getAttribute("srsDimension")?n=Ha(t.getAttribute("srsDimension")):t.getAttribute("dimension")?n=Ha(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?n=Ha(t.parentNode.getAttribute("srsDimension")):o&&(n=Ha(o));for(var r,s=[],a=0,l=i.length;a<l;a+=n)t=parseFloat(i[a]),o=parseFloat(i[a+1]),r=3===n?parseFloat(i[a+2]):0,"en"===e.substr(0,2)?s.push(t,o,r):s.push(o,t,r);return s},cc.Tb={"http://www.opengis.net/gml":{pos:oa(Qa.prototype.Oi),posList:oa(Qa.prototype.td)}},cc.Ec={"http://www.opengis.net/gml":{interior:Qa.prototype.ih,exterior:Qa.prototype.rg}},cc.Fd={"http://www.opengis.net/gml":{Point:oa(Fa.prototype.df),MultiPoint:oa(Fa.prototype.bf),LineString:oa(Fa.prototype.rc),MultiLineString:oa(Fa.prototype.af),LinearRing:oa(Fa.prototype.$e),Polygon:oa(Fa.prototype.sc),MultiPolygon:oa(Fa.prototype.cf),Surface:oa(Qa.prototype.ef),MultiSurface:oa(Qa.prototype.Si),Curve:oa(Qa.prototype.Xe),MultiCurve:oa(Qa.prototype.Ri),Envelope:oa(Qa.prototype.Mi)}},cc.Gf={"http://www.opengis.net/gml":{curveMember:na(Qa.prototype.Vd),curveMembers:na(Qa.prototype.Vd)}},cc.Kf={"http://www.opengis.net/gml":{surfaceMember:na(Qa.prototype.tf),surfaceMembers:na(Qa.prototype.tf)}},cc.Cf={"http://www.opengis.net/gml":{LineString:na(Fa.prototype.rc),Curve:na(Qa.prototype.Xe)}},cc.Pf={"http://www.opengis.net/gml":{Polygon:na(Fa.prototype.sc),Surface:na(Qa.prototype.ef)}},cc.Qf={"http://www.opengis.net/gml":{patches:oa(Qa.prototype.Ti)}},cc.Df={"http://www.opengis.net/gml":{segments:oa(Qa.prototype.Vi)}},cc.Ef={"http://www.opengis.net/gml":{lowerCorner:na(Qa.prototype.td),upperCorner:na(Qa.prototype.td)}},cc.Lf={"http://www.opengis.net/gml":{PolygonPatch:oa(Qa.prototype.Ui)}},cc.Of={"http://www.opengis.net/gml":{LineStringSegment:oa(Qa.prototype.Qi)}},cc.Ee=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=Qs(t.namespaceURI,"pos"),t.appendChild(n),t=(i=i[i.length-1]).hasZ,n.setAttribute("srsDimension",t?3:2);var o=i.srsName;i="enu",o&&(i=dt(o).a),e=e.G(),i="en"===i.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0],t&&(i+=" "+(e[2]||0)),Ka(n,i)};var Uf={"http://www.opengis.net/gml":{lowerCorner:aa(Ka),upperCorner:aa(Ka)}};(cc=Qa.prototype).Sh=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),ga({node:t},Uf,Ff,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)},cc.Be=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=Qs(t.namespaceURI,"posList"),t.appendChild(n),tl(n,e,i)},cc.Rh=function(t,e){e=(t=e[e.length-1]).node;var i=t.exteriorWritten;return void 0===i&&(t.exteriorWritten=!0),Qs(e.namespaceURI,void 0!==i?"interior":"exterior")},cc.kc=function(t,e,i){var n=i[i.length-1],o=n.hasZ;n=n.srsName,"PolygonPatch"!==t.nodeName&&n&&t.setAttribute("srsName",n),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=rn(e),ga({node:t,hasZ:o,srsName:n},Hf,this.Rh,e,i,void 0,this)):"Surface"===t.nodeName&&(o=Qs(t.namespaceURI,"patches"),t.appendChild(o),t=Qs(o.namespaceURI,"PolygonPatch"),o.appendChild(t),this.kc(t,e,i))},cc.jc=function(t,e,i){var n=i[i.length-1].srsName;"LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(n=Qs(t.namespaceURI,"posList"),t.appendChild(n),tl(n,e,i)):"Curve"===t.nodeName&&(n=Qs(t.namespaceURI,"segments"),t.appendChild(n),t=Qs(n.namespaceURI,"LineStringSegment"),n.appendChild(t),this.jc(t,e,i))},cc.De=function(t,e,i){var n=i[i.length-1],o=n.hasZ,r=n.srsName;n=n.surface,r&&t.setAttribute("srsName",r),e=Aa(e),ga({node:t,hasZ:o,srsName:r,surface:n},Wf,this.j,e,i,void 0,this)},cc.Th=function(t,e,i){var n=i[i.length-1],o=n.srsName;n=n.hasZ,o&&t.setAttribute("srsName",o),e=ka(e),ga({node:t,hasZ:n,srsName:o},Xf,ha("pointMember"),e,i,void 0,this)},cc.Ce=function(t,e,i){var n=i[i.length-1],o=n.hasZ,r=n.srsName;n=n.curve,r&&t.setAttribute("srsName",r),e=e.tb(),ga({node:t,hasZ:o,srsName:r,curve:n},Vf,this.j,e,i,void 0,this)},cc.Fe=function(t,e,i){var n=Qs(t.namespaceURI,"LinearRing");t.appendChild(n),this.Be(n,e,i)},cc.Ge=function(t,e,i){var n=this.c(e,i);n&&(t.appendChild(n),this.kc(n,e,i))},cc.Uh=function(t,e,i){var n=Qs(t.namespaceURI,"Point");t.appendChild(n),this.Ee(n,e,i)},cc.Ae=function(t,e,i){var n=this.c(e,i);n&&(t.appendChild(n),this.jc(n,e,i))},cc.ze=function(t,e,i){var n=i[i.length-1],o=bc({},n);o.node=t;var r;r=Array.isArray(e)?n.dataProjection?xt(e,n.featureProjection,n.dataProjection):e:xa(e,!0,n),ga(o,Yf,this.c,[r],i,void 0,this)};var Wf={"http://www.opengis.net/gml":{surfaceMember:aa(Qa.prototype.Ge),polygonMember:aa(Qa.prototype.Ge)}},Xf={"http://www.opengis.net/gml":{pointMember:aa(Qa.prototype.Uh)}},Vf={"http://www.opengis.net/gml":{lineStringMember:aa(Qa.prototype.Ae),curveMember:aa(Qa.prototype.Ae)}},Hf={"http://www.opengis.net/gml":{exterior:aa(Qa.prototype.Fe),interior:aa(Qa.prototype.Fe)}},Yf={"http://www.opengis.net/gml":{Curve:aa(Qa.prototype.jc),MultiCurve:aa(Qa.prototype.Ce),Point:aa(Qa.prototype.Ee),MultiPoint:aa(Qa.prototype.Th),LineString:aa(Qa.prototype.jc),MultiLineString:aa(Qa.prototype.Ce),LinearRing:aa(Qa.prototype.Be),Polygon:aa(Qa.prototype.kc),MultiPolygon:aa(Qa.prototype.De),Surface:aa(Qa.prototype.kc),MultiSurface:aa(Qa.prototype.De),Envelope:aa(Qa.prototype.Sh)}},Zf={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};Qa.prototype.j=function(t,e){return Qs("http://www.opengis.net/gml",Zf[e[e.length-1].node.nodeName])},Qa.prototype.c=function(t,e){var i=e[e.length-1];e=i.multiSurface;var n=i.surface,o=i.curve;return i=i.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.D())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===n?t="Surface":"LineString"===t&&!0===o?t="Curve":"MultiLineString"===t&&!0===i&&(t="MultiCurve"),Qs("http://www.opengis.net/gml",t)},l(el,Fa),(cc=el.prototype).Ze=function(t,e){t=ta(t).replace(/^\s*|\s*$/g,"");var i=e[0].srsName;e="enu",i&&(i=dt(i))&&(e=i.a);for(var n,o,r=[],s=0,a=(t=t.trim().split(/\s+/)).length;s<a;s++)o=t[s].split(/,+/),i=parseFloat(o[0]),n=parseFloat(o[1]),o=3===o.length?parseFloat(o[2]):0,"en"===e.substr(0,2)?r.push(i,n,o):r.push(n,i,o);return r},cc.Ki=function(t,e){return t=pa([null],this.Bf,t,e,this),A(t[1][0],t[1][1],t[1][3],t[1][4])},cc.gh=function(t,e){(t=pa(void 0,this.Ub,t,e,this))&&e[e.length-1].push(t)},cc.vi=function(t,e){(t=pa(void 0,this.Ub,t,e,this))&&(e[e.length-1][0]=t)},cc.Tb={"http://www.opengis.net/gml":{coordinates:oa(el.prototype.Ze)}},cc.Ec={"http://www.opengis.net/gml":{innerBoundaryIs:el.prototype.gh,outerBoundaryIs:el.prototype.vi}},cc.Bf={"http://www.opengis.net/gml":{coordinates:na(el.prototype.Ze)}},cc.Fd={"http://www.opengis.net/gml":{Point:oa(Fa.prototype.df),MultiPoint:oa(Fa.prototype.bf),LineString:oa(Fa.prototype.rc),MultiLineString:oa(Fa.prototype.af),LinearRing:oa(Fa.prototype.$e),Polygon:oa(Fa.prototype.sc),MultiPolygon:oa(Fa.prototype.cf),Box:oa(el.prototype.Ki)}},cc.gd=function(t,e){var i=e[e.length-1];e=i.multiSurface;var n=i.surface;return i=i.multiCurve,Array.isArray(t)?t="Envelope":"MultiPolygon"===(t=t.D())&&!0===e?t="MultiSurface":"Polygon"===t&&!0===n?t="Surface":"MultiLineString"===t&&!0===i&&(t="MultiCurve"),Qs("http://www.opengis.net/gml",t)},cc.re=function(t,e,i){var n=i[i.length-1],o=bc({},n);o.node=t;var r;r=Array.isArray(e)?n.dataProjection?xt(e,n.featureProjection,n.dataProjection):e:xa(e,!0,n),ga(o,$f,this.gd,[r],i,void 0,this)},cc.hc=function(t,e,i){var n=i[i.length-1].srsName;"LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(n=il(t.namespaceURI),t.appendChild(n),nl(n,e,i)):"Curve"===t.nodeName&&(n=Qs(t.namespaceURI,"segments"),t.appendChild(n),t=Qs(n.namespaceURI,"LineStringSegment"),n.appendChild(t),this.hc(t,e,i))},cc.ic=function(t,e,i){var n=i[i.length-1],o=n.hasZ;n=n.srsName,"PolygonPatch"!==t.nodeName&&n&&t.setAttribute("srsName",n),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName?(e=rn(e),ga({node:t,hasZ:o,srsName:n},Jf,this.Nh,e,i,void 0,this)):"Surface"===t.nodeName&&(o=Qs(t.namespaceURI,"patches"),t.appendChild(o),t=Qs(o.namespaceURI,"PolygonPatch"),o.appendChild(t),this.ic(t,e,i))},cc.Nh=function(t,e){e=(t=e[e.length-1]).node;var i=t.exteriorWritten;return void 0===i&&(t.exteriorWritten=!0),Qs(e.namespaceURI,void 0!==i?"innerBoundaryIs":"outerBoundaryIs")},cc.xe=function(t,e,i){var n=Qs(t.namespaceURI,"LinearRing");t.appendChild(n),this.te(n,e,i)},cc.ue=function(t,e,i){var n=i[i.length-1],o=n.hasZ,r=n.srsName;n=n.curve,r&&t.setAttribute("srsName",r),e=e.tb(),ga({node:t,hasZ:o,srsName:r,curve:n},Qf,this.c,e,i,void 0,this)},cc.we=function(t,e,i){var n=i[i.length-1];i=n.hasZ;var o=n.srsName;o&&t.setAttribute("srsName",o),n=il(t.namespaceURI),t.appendChild(n),Ka(n,t=ol(t=e.G(),o,i))},cc.Ph=function(t,e,i){var n=i[i.length-1],o=n.hasZ;(n=n.srsName)&&t.setAttribute("srsName",n),e=ka(e),ga({node:t,hasZ:o,srsName:n},Kf,ha("pointMember"),e,i,void 0,this)},cc.Qh=function(t,e,i){var n=Qs(t.namespaceURI,"Point");t.appendChild(n),this.we(n,e,i)},cc.se=function(t,e,i){var n=this.gd(e,i);n&&(t.appendChild(n),this.hc(n,e,i))},cc.te=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=il(t.namespaceURI),t.appendChild(n),nl(n,e,i)},cc.ve=function(t,e,i){var n=i[i.length-1],o=n.hasZ,r=n.srsName;n=n.surface,r&&t.setAttribute("srsName",r),e=Aa(e),ga({node:t,hasZ:o,srsName:r,surface:n},ep,this.c,e,i,void 0,this)},cc.ye=function(t,e,i){var n=this.gd(e,i);n&&(t.appendChild(n),this.ic(n,e,i))},cc.Oh=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),ga({node:t},ip,Ff,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)};var $f={"http://www.opengis.net/gml":{Curve:aa(el.prototype.hc),MultiCurve:aa(el.prototype.ue),Point:aa(el.prototype.we),MultiPoint:aa(el.prototype.Ph),LineString:aa(el.prototype.hc),MultiLineString:aa(el.prototype.ue),LinearRing:aa(el.prototype.te),Polygon:aa(el.prototype.ic),MultiPolygon:aa(el.prototype.ve),Surface:aa(el.prototype.ic),MultiSurface:aa(el.prototype.ve),Envelope:aa(el.prototype.Oh)}},Jf={"http://www.opengis.net/gml":{outerBoundaryIs:aa(el.prototype.xe),innerBoundaryIs:aa(el.prototype.xe)}},Kf={"http://www.opengis.net/gml":{pointMember:aa(el.prototype.Qh)}},Qf={"http://www.opengis.net/gml":{lineStringMember:aa(el.prototype.se),curveMember:aa(el.prototype.se)}};el.prototype.c=function(t,e){return Qs("http://www.opengis.net/gml",tp[e[e.length-1].node.nodeName])};var tp={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},ep={"http://www.opengis.net/gml":{surfaceMember:aa(el.prototype.ye),polygonMember:aa(el.prototype.ye)}},ip={"http://www.opengis.net/gml":{lowerCorner:aa(Ka),upperCorner:aa(Ka)}},np=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];ca(np,{rte:na(function(t,e){var i=e[0];if(t=pa({flatCoordinates:[],layoutOptions:{}},rp,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var n=t.layoutOptions;delete t.layoutOptions,n=sl(n,e);var o=new Ms(null);return o.N(n,e),xa(o,!1,i),(i=new ms(o)).na(t),i}}),trk:na(function(t,e){var i=e[0];if(t=pa({flatCoordinates:[],ends:[],layoutOptions:{}},ap,t,e)){e=t.flatCoordinates,delete t.flatCoordinates;var n=t.ends;delete t.ends;var o=t.layoutOptions;delete t.layoutOptions,o=sl(o,e,n);var r=new Ca(null);return r.N(o,e,n),xa(r,!1,i),(i=new ms(r)).na(t),i}}),wpt:na(function(t,e){var i=e[0];if(e=pa({},up,t,e)){var n={};return t=rl([],n,t,e),n=sl(n,t),t=new $i(t,n),xa(t,!1,i),(i=new ms(t)).na(e),i}})});var op=ca(np,{text:sa(Ya,"linkText"),type:sa(Ya,"linkType")}),rp=ca(np,{name:sa(Ya),cmt:sa(Ya),desc:sa(Ya),src:sa(Ya),link:al,number:sa(Va),extensions:ll,type:sa(Ya),rtept:function(t,e){var i=pa({},sp,t,e);i&&(e=e[e.length-1],rl(e.flatCoordinates,e.layoutOptions,t,i))}}),sp=ca(np,{ele:sa(Wa),time:sa(Ua)}),ap=ca(np,{name:sa(Ya),cmt:sa(Ya),desc:sa(Ya),src:sa(Ya),link:al,number:sa(Va),type:sa(Ya),extensions:ll,trkseg:function(t,e){var i=e[e.length-1];fa(lp,t,e),i.ends.push(i.flatCoordinates.length)}}),lp=ca(np,{trkpt:function(t,e){var i=pa({},hp,t,e);i&&(e=e[e.length-1],rl(e.flatCoordinates,e.layoutOptions,t,i))}}),hp=ca(np,{ele:sa(Wa),time:sa(Ua)}),up=ca(np,{ele:sa(Wa),time:sa(Ua),magvar:sa(Wa),geoidheight:sa(Wa),name:sa(Ya),cmt:sa(Ya),desc:sa(Ya),src:sa(Ya),link:al,sym:sa(Ya),type:sa(Ya),fix:sa(Ya),sat:sa(Va),hdop:sa(Wa),vdop:sa(Wa),pdop:sa(Wa),ageofdgpsdata:sa(Wa),dgpsid:sa(Va),extensions:ll}),cp=["text","type"],fp=ca(np,{text:aa(Ka),type:aa(Ka)}),pp=ca(np,"name cmt desc src link number type rtept".split(" ")),dp=ca(np,{name:aa(Ka),cmt:aa(Ka),desc:aa(Ka),src:aa(Ka),link:aa(hl),number:aa(Ja),type:aa(Ka),rtept:la(aa(ul))}),gp=ca(np,["ele","time"]),vp=ca(np,"name cmt desc src link number type trkseg".split(" ")),mp=ca(np,{name:aa(Ka),cmt:aa(Ka),desc:aa(Ka),src:aa(Ka),link:aa(hl),number:aa(Ja),type:aa(Ka),trkseg:la(aa(function(t,e,i){ga({node:t,geometryLayout:e.V,properties:{}},bp,yp,e.G(),i)}))}),yp=ha("trkpt"),bp=ca(np,{trkpt:aa(ul)}),wp=ca(np,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),xp=ca(np,{ele:aa($a),time:aa(function(t,e){e=new Date(1e3*e),t.appendChild(qf.createTextNode(e.getUTCFullYear()+"-"+ai(e.getUTCMonth()+1)+"-"+ai(e.getUTCDate())+"T"+ai(e.getUTCHours())+":"+ai(e.getUTCMinutes())+":"+ai(e.getUTCSeconds())+"Z"))}),magvar:aa($a),geoidheight:aa($a),name:aa(Ka),cmt:aa(Ka),desc:aa(Ka),src:aa(Ka),link:aa(hl),sym:aa(Ka),type:aa(Ka),fix:aa(Ka),sat:aa(Ja),hdop:aa($a),vdop:aa($a),pdop:aa($a),ageofdgpsdata:aa($a),dgpsid:aa(Ja)});ca(np,{rte:aa(function(t,e,i){var n=i[0],o=e.Fa();t={node:t,properties:o},(e=e.O())&&(e=xa(e,!0,n),t.geometryLayout=e.V,o.rtept=e.G()),o=ua(o,n=pp[i[i.length-1].node.namespaceURI]),ga(t,dp,Ff,o,i,n)}),trk:aa(function(t,e,i){var n=i[0],o=e.Fa();t={node:t,properties:o},(e=e.O())&&(e=xa(e,!0,n),o.trkseg=e.tb()),o=ua(o,n=vp[i[i.length-1].node.namespaceURI]),ga(t,mp,Ff,o,i,n)}),wpt:aa(function(t,e,i){var n=i[0],o=i[i.length-1];o.properties=e.Fa(),(e=e.O())&&(e=xa(e,!0,n),o.geometryLayout=e.V,ul(t,e.G(),i))})}),l(cl,Ti),(cc=cl.prototype).clone=function(){var t=new cl(null),e=fl(this.a);return pl(t),t.a=e,dl(t),t.c(),t},cc.Pa=function(t,e,i,n){if(n<k(this.I(),t,e))return n;var o,r=this.a,s=0;for(o=r.length;s<o;++s)n=r[s].Pa(t,e,i,n);return n},cc.Yb=function(t){N(t);for(var e=this.a,i=0,n=e.length;i<n;++i)D(t,e[i].I());return t},cc.bc=function(t){if(this.o!=this.j&&(H(this.g),this.f=0,this.o=this.j),0>t||0!==this.f&&t<this.f)return this;var e=t.toString();if(this.g.hasOwnProperty(e))return this.g[e];var i,n=[],o=this.a,r=!1,s=0;for(i=o.length;s<i;++s){var a=o[s],l=a.bc(t);n.push(l),l!==a&&(r=!0)}return r?(t=new cl(null),pl(t),t.a=n,dl(t),t.c(),this.g[e]=t):(this.f=t,this)},cc.D=function(){return"GeometryCollection"},cc.rotate=function(t,e){for(var i=this.a,n=0,o=i.length;n<o;++n)i[n].rotate(t,e);this.c()},cc.scale=function(t,e,i){i||(i=F(this.I()));for(var n=this.a,o=0,r=n.length;o<r;++o)n[o].scale(t,e,i);this.c()},cc.Cb=function(t){var e,i=this.a,n=0;for(e=i.length;n<e;++n)i[n].Cb(t);this.c()},cc.ca=function(){pl(this),Ti.prototype.ca.call(this)},l(gl,Ma);var Mp={Point:function(t){return new $i(t.coordinates)},LineString:function(t){return new Ms(t.coordinates)},Polygon:function(t){return new on(t.coordinates)},MultiPoint:function(t){return new ja(t.coordinates)},MultiLineString:function(t){return new Ca(t.coordinates)},MultiPolygon:function(t){return new Ea(t.coordinates)},GeometryCollection:function(t,e){return t=t.geometries.map(function(t){return vl(t,e)}),new cl(t)}},Sp={Point:function(t){return{type:"Point",coordinates:t.G()}},LineString:function(t){return{type:"LineString",coordinates:t.G()}},Polygon:function(t,e){if(e)var i=e.rightHanded;return{type:"Polygon",coordinates:t.G(i)}},MultiPoint:function(t){return{type:"MultiPoint",coordinates:t.G()}},MultiLineString:function(t){return{type:"MultiLineString",coordinates:t.G()}},MultiPolygon:function(t,e){if(e)var i=e.rightHanded;return{type:"MultiPolygon",coordinates:t.G(i)}},GeometryCollection:function(t,e){return{type:"GeometryCollection",geometries:t.a.map(function(t){var i=bc({},e);return delete i.featureProjection,ml(t,i)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};(cc=gl.prototype).ib=function(t,e){e=vl((t="Feature"===t.type?t:{type:"Feature",geometry:t}).geometry,e);var i=new ms;return this.a?i.Za(this.a):this.c&&void 0!==t.geometry_name&&i.Za(t.geometry_name),i.Ba(e),void 0!==t.id&&i.lb(t.id),t.properties&&i.na(t.properties),i},cc.rd=function(t,e){if("FeatureCollection"===t.type){var i,n=[],o=0;for(i=(t=t.features).length;o<i;++o)n.push(this.ib(t[o],e))}else n=[this.ib(t,e)];return n},cc.vd=function(t){var e;return(t=t.crs)?"name"==t.type?e=dt(t.properties.name):g(!1,36):e=this.defaultDataProjection,e},cc.zb=function(t,e){e=wa(this,e);var i={type:"Feature"},n=t.b;return void 0!==n&&(i.id=n),(n=t.O())?i.geometry=ml(n,e):i.geometry=null,e=t.Fa(),delete e[t.a],Z(e)?i.properties=null:i.properties=e,i},cc.Cd=function(t,e){e=wa(this,e);var i,n=[],o=0;for(i=t.length;o<i;++o)n.push(this.zb(t[o],e));return{type:"FeatureCollection",features:n}},l(yl,ya),(cc=yl.prototype).D=function(){return"text"},cc.Mb=function(t,e){return e=wa(this,e),(t=dh("string"==typeof t?t:"",e))?((e=new ms).Ba(t),t=e):t=null,t},cc.Ta=function(t,e){var i=wa(this,e);e=[],t=dh("string"==typeof t?t:"",i),i=[];for(var n=0,o=(e=this.a&&"GeometryCollection"==t.D()?t.a:[t]).length;n<o;++n)(t=new ms).Ba(e[n]),i.push(t);return i},cc.Ob=function(){return this.defaultDataProjection},cc.Cc=function(t,e){return e=wa(this,e),(t=t.O())?ph(xa(t,!0,e)):""},l(bl,re),bl.prototype.o=function(){this.c=3,this.b.forEach(te),this.b=null,this.l("change")},bl.prototype.H=function(){if(this.c=2,this.a&&(this.L.width=this.a[0],this.L.height=this.a[1]),this.a=[this.L.width,this.L.height],this.b.forEach(te),this.b=null,wl(this),!this.i&&null!==this.g){this.j.width=this.L.width,this.j.height=this.L.height;var t=this.j.getContext("2d");t.drawImage(this.L,0,0);for(var e=t.getImageData(0,0,this.L.width,this.L.height),i=e.data,n=this.g[0]/255,o=this.g[1]/255,r=this.g[2]/255,s=0,a=i.length;s<a;s+=4)i[s]*=n,i[s+1]*=o,i[s+2]*=r;t.putImageData(e,0,0)}this.l("change")},bl.prototype.ba=function(){return this.j?this.j:this.L},bl.prototype.load=function(){if(0==this.c){this.c=1,this.b=[Kt(this.L,"error",this.o,this,!0),Kt(this.L,"load",this.H,this,!0)];try{this.L.src=this.v}catch(t){this.o()}}},l(xl,ss),(cc=xl.prototype).clone=function(){return new xl({anchor:this.g.slice(),anchorOrigin:this.c,anchorXUnits:this.u,anchorYUnits:this.A,crossOrigin:this.ia,color:this.f&&this.f.slice?this.f.slice():this.f||void 0,src:this.a.v,offset:this.ka.slice(),offsetOrigin:this.l,size:null!==this.C?this.C.slice():void 0,opacity:this.b,scale:this.j,snapToPixel:this.o,rotation:this.i,rotateWithView:this.B})},cc.$b=function(){if(this.v)return this.v;var t=this.g,e=this.yb();if("fraction"==this.u||"fraction"==this.A){if(!e)return null;t=this.g.slice(),"fraction"==this.u&&(t[0]*=e[0]),"fraction"==this.A&&(t[1]*=e[1])}if("top-left"!=this.c){if(!e)return null;t===this.g&&(t=this.g.slice()),"top-right"!=this.c&&"bottom-right"!=this.c||(t[0]=-t[0]+e[0]),"bottom-left"!=this.c&&"bottom-right"!=this.c||(t[1]=-t[1]+e[1])}return this.v=t},cc.ba=function(t){return this.a.ba(t)},cc.ce=function(){return this.a.a},cc.nc=function(){return this.a.c},cc.Se=function(){var t=this.a;if(!t.f)if(t.i){var e=t.a[0],i=t.a[1],n=bn(e,i);n.fillRect(0,0,e,i),t.f=n.canvas}else t.f=t.L;return t.f},cc.oc=function(){if(this.H)return this.H;var t=this.ka;if("top-left"!=this.l){var e=this.yb(),i=this.a.a;if(!e||!i)return null;t=t.slice(),"top-right"!=this.l&&"bottom-right"!=this.l||(t[0]=i[0]-e[0]-t[0]),"bottom-left"!=this.l&&"bottom-right"!=this.l||(t[1]=i[1]-e[1]-t[1])}return this.H=t},cc.yb=function(){return this.C?this.C:this.a.a},cc.ne=function(t,e){return Kt(this.a,"change",t,e)},cc.load=function(){this.a.load()},cc.uf=function(t,e){Qt(this.a,"change",t,e)};var Cp=["http://www.google.com/kml/ext/2.2"],Pp=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],jp={fraction:"fraction",pixels:"pixels",insetPixels:"pixels"},kp=ca(Pp,{displayName:sa(Ya),value:sa(Ya)}),Ep=ca(Pp,{Data:function(t,e){var i=t.getAttribute("name");fa(kp,t,e),t=e[e.length-1],null!==i?t[i]=t.value:null!==t.displayName&&(t[t.displayName]=t.value),delete t.value},SchemaData:function(t,e){fa(Yp,t,e)}}),Tp=ca(Pp,{LatLonAltBox:function(t,e){(t=pa({},Ip,t,e))&&(e=e[e.length-1],e.extent=[parseFloat(t.west),parseFloat(t.south),parseFloat(t.east),parseFloat(t.north)],e.altitudeMode=t.altitudeMode,e.minAltitude=parseFloat(t.minAltitude),e.maxAltitude=parseFloat(t.maxAltitude))},Lod:function(t,e){(t=pa({},Ap,t,e))&&(e=e[e.length-1],e.minLodPixels=parseFloat(t.minLodPixels),e.maxLodPixels=parseFloat(t.maxLodPixels),e.minFadeExtent=parseFloat(t.minFadeExtent),e.maxFadeExtent=parseFloat(t.maxFadeExtent))}}),Ip=ca(Pp,{altitudeMode:sa(Ya),minAltitude:sa(Wa),maxAltitude:sa(Wa),north:sa(Wa),south:sa(Wa),east:sa(Wa),west:sa(Wa)}),Ap=ca(Pp,{minLodPixels:sa(Wa),maxLodPixels:sa(Wa),minFadeExtent:sa(Wa),maxFadeExtent:sa(Wa)}),Np=ca(Pp,{extrude:sa(Ga),tessellate:sa(Ga),altitudeMode:sa(Ya)}),Lp=ca(Pp,{coordinates:oa(Sl)}),Op=ca(Pp,{innerBoundaryIs:function(t,e){(t=pa(void 0,Fp,t,e))&&e[e.length-1].push(t)},outerBoundaryIs:function(t,e){(t=pa(void 0,Xp,t,e))&&(e[e.length-1][0]=t)}}),_p=ca(Pp,{when:function(t,e){e=e[e.length-1].zf,t=ta(t),t=Date.parse(t),e.push(isNaN(t)?0:t)}},ca(Cp,{coord:function(t,e){e=e[e.length-1].s,t=ta(t),(t=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(t))?e.push(parseFloat(t[1]),parseFloat(t[2]),parseFloat(t[3]),0):e.push(0,0,0,0)}})),Dp=ca(Pp,{coordinates:oa(Sl)}),Rp=ca(Pp,{href:sa(Cl)},ca(Cp,{x:sa(Wa),y:sa(Wa),w:sa(Wa),h:sa(Wa)})),qp=ca(Pp,{Icon:sa(function(t,e){return(t=pa({},Rp,t,e))?t:null}),heading:sa(Wa),hotSpot:sa(function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits"),n="insetPixels"!==e?"insetPixels"!==i?"bottom-left":"top-left":"insetPixels"!==i?"bottom-right":"top-right";return{x:parseFloat(t.getAttribute("x")),Dd:jp[e],y:parseFloat(t.getAttribute("y")),Ed:jp[i],origin:n}}),scale:sa(Pl)}),Fp=ca(Pp,{LinearRing:oa(jl)}),zp=ca(Pp,{color:sa(Ml),scale:sa(Pl)}),Gp=ca(Pp,{color:sa(Ml),width:sa(Wa)}),Bp=ca(Pp,{LineString:na(El),LinearRing:na(Tl),MultiGeometry:na(Il),Point:na(Al),Polygon:na(Nl)}),Up=ca(Cp,{Track:na(kl)});ca(Pp,{ExtendedData:_l,Region:Dl,Link:function(t,e){fa(Wp,t,e)},address:sa(Ya),description:sa(Ya),name:sa(Ya),open:sa(Ga),phoneNumber:sa(Ya),visibility:sa(Ga)});var Wp=ca(Pp,{href:sa(Cl)}),Xp=ca(Pp,{LinearRing:oa(jl)}),Vp=ca(Pp,{Style:sa(Ll),key:sa(Ya),styleUrl:sa(Cl)});ca(Pp,{ExtendedData:_l,Region:Dl,MultiGeometry:sa(Il,"geometry"),LineString:sa(El,"geometry"),LinearRing:sa(Tl,"geometry"),Point:sa(Al,"geometry"),Polygon:sa(Nl,"geometry"),Style:sa(Ll),StyleMap:function(t,e){(t=pa(void 0,$p,t,e))&&(e=e[e.length-1],Array.isArray(t)?e.Style=t:"string"==typeof t?e.styleUrl=t:g(!1,38))},address:sa(Ya),description:sa(Ya),name:sa(Ya),open:sa(Ga),phoneNumber:sa(Ya),styleUrl:sa(Cl),visibility:sa(Ga)},ca(Cp,{MultiTrack:sa(function(t,e){if(t=pa([],Up,t,e))return e=new Ca(null),Pa(e,t),e},"geometry"),Track:sa(kl,"geometry")}));var Hp=ca(Pp,{color:sa(Ml),fill:sa(Ga),outline:sa(Ga)}),Yp=ca(Pp,{SimpleData:function(t,e){var i=t.getAttribute("name");null!==i&&(t=Ya(t),e[e.length-1][i]=t)}}),Zp=ca(Pp,{IconStyle:function(t,e){if(t=pa({},qp,t,e)){e=e[e.length-1];var i,n="Icon"in t?t.Icon:{},o=!("Icon"in t)||0<Object.keys(n).length,r=n.href;r?i=r:o&&(i=void 0),r="bottom-left";var s=t.hotSpot;if(s){var a=[s.x,s.y],l=s.Dd,h=s.Ed;r=s.origin}else void 0===i?h=l=a=void 0:/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(i)&&(a=[.5,0],h=l="fraction");var u;s=n.x;var c=n.y;void 0!==s&&void 0!==c&&(u=[s,c]);var f;s=n.w,n=n.h,void 0!==s&&void 0!==n&&(f=[s,n]);var p;void 0!==(n=t.heading)&&(p=y(n)),t=t.scale,o?(void 0==i&&(f=void 0,void 0===t&&(t=void 0)),i=new xl({anchor:a,anchorOrigin:r,anchorXUnits:l,anchorYUnits:h,crossOrigin:"anonymous",offset:u,offsetOrigin:"bottom-left",rotation:p,scale:t,size:f,src:i}),e.imageStyle=i):e.imageStyle=void 0}},LabelStyle:function(t,e){(t=pa({},zp,t,e))&&(e[e.length-1].textStyle=new Ss({fill:new us({color:"color"in t?t.color:void 0}),scale:t.scale}))},LineStyle:function(t,e){(t=pa({},Gp,t,e))&&(e[e.length-1].strokeStyle=new cs({color:"color"in t?t.color:void 0,width:"width"in t?t.width:1}))},PolyStyle:function(t,e){if(t=pa({},Hp,t,e)){(e=e[e.length-1]).fillStyle=new us({color:"color"in t?t.color:void 0});var i=t.fill;void 0!==i&&(e.fill=i),void 0!==(t=t.outline)&&(e.outline=t)}}}),$p=ca(Pp,{Pair:function(t,e){if(t=pa({},Vp,t,e)){var i=t.key;i&&"normal"==i&&((i=t.styleUrl)&&(e[e.length-1]=i),(t=t.Style)&&(e[e.length-1]=t))}}});ca(Pp,["Document","Placemark"]),ca(Pp,{Document:aa(function(t,e,i){ga({node:t},Jp,Xl,e,i,void 0,this)}),Placemark:aa(zl)});var Jp=ca(Pp,{Placemark:aa(zl)}),Kp=ca(Pp,{Data:aa(function(t,e,i){t.setAttribute("name",e.name),t={node:t},"object"==typeof(e=e.value)?(null!==e&&e.displayName&&ga(t,Kp,Ff,[e.displayName],i,["displayName"]),null!==e&&e.value&&ga(t,Kp,Ff,[e.value],i,["value"])):ga(t,Kp,Ff,[e],i,["value"])}),value:aa(function(t,e){Ka(t,e)}),displayName:aa(function(t,e){t.appendChild(qf.createCDATASection(e))})}),Qp={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},td=ca(Pp,["href"],ca(Cp,["x","y","w","h"])),ed=ca(Pp,{href:aa(Ka)},ca(Cp,{x:aa($a),y:aa($a),w:aa($a),h:aa($a)})),id=ca(Pp,["scale","heading","Icon","hotSpot"]),nd=ca(Pp,{Icon:aa(function(t,e,i){t={node:t};var n=td[i[i.length-1].node.namespaceURI],o=ua(e,n);ga(t,ed,Ff,o,i,n),o=ua(e,n=td[Cp[0]]),ga(t,ed,Wl,o,i,n)}),heading:aa($a),hotSpot:aa(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.Dd),t.setAttribute("yunits",e.Ed)}),scale:aa(Ul)}),od=ca(Pp,["color","scale"]),rd=ca(Pp,{color:aa(Rl),scale:aa(Ul)}),sd=ca(Pp,["color","width"]),ad=ca(Pp,{color:aa(Rl),width:aa($a)}),ld=ca(Pp,{LinearRing:aa(Gl)}),hd=ca(Pp,{LineString:aa(Gl),Point:aa(Gl),Polygon:aa(Bl),GeometryCollection:aa(ql)}),ud=ca(Pp,"name open visibility address phoneNumber description styleUrl Style".split(" ")),cd=ca(Pp,{ExtendedData:aa(function(t,e,i){t={node:t};var n=e.names;e=e.values;for(var o=n.length,r=0;r<o;r++)ga(t,Kp,bd,[{name:n[r],value:e[r]}],i)}),MultiGeometry:aa(ql),LineString:aa(Gl),LinearRing:aa(Gl),Point:aa(Gl),Polygon:aa(Bl),Style:aa(function(t,e,i){t={node:t};var n={},o=e.ua(),r=e.qa(),s=e.ba();e=e.ra(),s instanceof xl&&(n.IconStyle=s),e&&(n.LabelStyle=e),r&&(n.LineStyle=r),o&&(n.PolyStyle=o),n=ua(n,e=vd[i[i.length-1].node.namespaceURI]),ga(t,md,Ff,n,i,e)}),address:aa(Ka),description:aa(Ka),name:aa(Ka),open:aa(Za),phoneNumber:aa(Ka),styleUrl:aa(Ka),visibility:aa(Za)}),fd=ca(Pp,["extrude","tessellate","altitudeMode","coordinates"]),pd=ca(Pp,{extrude:aa(Za),tessellate:aa(Za),altitudeMode:aa(Ka),coordinates:aa(function(t,e,i){var n=(i=i[i.length-1]).layout;i=i.stride;var o;"XY"==n||"XYM"==n?o=2:"XYZ"==n||"XYZM"==n?o=3:g(!1,34);var r,s=e.length,a="";if(0<s){for(a+=e[0],n=1;n<o;++n)a+=","+e[n];for(r=i;r<s;r+=i)for(a+=" "+e[r],n=1;n<o;++n)a+=","+e[r+n]}Ka(t,a)})}),dd=ca(Pp,{outerBoundaryIs:aa(Fl),innerBoundaryIs:aa(Fl)}),gd=ca(Pp,{color:aa(Rl)}),vd=ca(Pp,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),md=ca(Pp,{IconStyle:aa(function(t,e,i){t={node:t};var n={},o=e.yb(),r=e.ce(),s={href:e.a.v};if(o){s.w=o[0],s.h=o[1];var a=e.$b(),l=e.oc();l&&r&&0!==l[0]&&l[1]!==o[1]&&(s.x=l[0],s.y=r[1]-(l[1]+o[1])),!a||a[0]===o[0]/2&&a[1]===o[1]/2||(n.hotSpot={x:a[0],Dd:"pixels",y:o[1]-a[1],Ed:"pixels"})}n.Icon=s,1!==(o=e.j)&&(n.scale=o),0!==(e=e.i)&&(n.heading=e),n=ua(n,e=id[i[i.length-1].node.namespaceURI]),ga(t,nd,Ff,n,i,e)}),LabelStyle:aa(function(t,e,i){t={node:t};var n={},o=e.ua();o&&(n.color=o.a),(e=e.c)&&1!==e&&(n.scale=e),n=ua(n,e=od[i[i.length-1].node.namespaceURI]),ga(t,rd,Ff,n,i,e)}),LineStyle:aa(function(t,e,i){t={node:t};var n=sd[i[i.length-1].node.namespaceURI];e=ua({color:e.c,width:e.j},n),ga(t,ad,Ff,e,i,n)}),PolyStyle:aa(function(t,e,i){ga({node:t},gd,yd,[e.a],i)})}),yd=ha("color"),bd=ha("Data"),wd=ha("ExtendedData"),xd=ha("innerBoundaryIs"),Md=ha("Point"),Sd=ha("LineString"),Cd=ha("LinearRing"),Pd=ha("Polygon"),jd=ha("outerBoundaryIs");mf.Ab=function(){},function(t){function e(t){this.ab=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.P=0,this.length=this.ab.length}function i(t,e,i){var o=i.ab,r=o[i.P++],s=(112&r)>>4;if(128>r)return n(t,s,e);if(r=o[i.P++],s|=(127&r)<<3,128>r)return n(t,s,e);if(r=o[i.P++],s|=(127&r)<<10,128>r)return n(t,s,e);if(r=o[i.P++],s|=(127&r)<<17,128>r)return n(t,s,e);if(r=o[i.P++],s|=(127&r)<<24,128>r)return n(t,s,e);if(128>(r=o[i.P++]))return n(t,s|(1&r)<<31,e);throw Error("Expected varint not more than 10 bytes")}function n(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}var o={read:function(t,e,i,n,o){var r=8*o-n-1,s=(1<<r)-1,a=s>>1,l=-7;o=i?o-1:0;var h=i?-1:1,u=t[e+o];for(o+=h,i=u&(1<<-l)-1,u>>=-l,l+=r;0<l;i=256*i+t[e+o],o+=h,l-=8);for(r=i&(1<<-l)-1,i>>=-l,l+=n;0<l;r=256*r+t[e+o],o+=h,l-=8);if(0===i)i=1-a;else{if(i===s)return r?NaN:1/0*(u?-1:1);r+=Math.pow(2,n),i-=a}return(u?-1:1)*r*Math.pow(2,i-n)},write:function(t,e,i,n,o,r){var s,a=8*r-o-1,l=(1<<a)-1,h=l>>1,u=23===o?Math.pow(2,-24)-Math.pow(2,-77):0;r=n?0:r-1;var c=n?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=l):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(s=Math.pow(2,-n))&&(n--,s*=2),2<=(e=1<=n+h?e+u/s:e+u*Math.pow(2,1-h))*s&&(n++,s/=2),n+h>=l?(e=0,n=l):1<=n+h?(e=(e*s-1)*Math.pow(2,o),n+=h):(e=e*Math.pow(2,h-1)*Math.pow(2,o),n=0));8<=o;t[i+r]=255&e,r+=c,e/=256,o-=8);for(n=n<<o|e,a+=o;0<a;t[i+r]=255&n,r+=c,n/=256,a-=8);t[i+r-c]|=128*f}};e.j=0,e.l=1,e.a=2,e.c=5,e.prototype={sd:function(t,e,i){for(i=i||this.length;this.P<i;){var n=this.ma(),o=n>>3,r=this.P;this.type=7&n,t(o,e,this),this.P===r&&this.gj(n)}return e},Pi:function(){var t=o.read(this.ab,this.P,!0,23,4);return this.P+=4,t},Li:function(){var t=o.read(this.ab,this.P,!0,52,8);return this.P+=8,t},ma:function(t){var e=this.ab,n=e[this.P++],o=127&n;return 128>n?o:(n=e[this.P++],o|=(127&n)<<7,128>n?o:(n=e[this.P++],o|=(127&n)<<14,128>n?o:(n=e[this.P++],o|=(127&n)<<21,128>n?o:(n=e[this.P],i(o|(15&n)<<28,t,this)))))},Wi:function(){return this.ma(!0)},wd:function(){var t=this.ma();return 1==t%2?(t+1)/-2:t/2},Ji:function(){return!!this.ma()},xd:function(){for(var t=this.ma()+this.P,e=this.ab,i="",n=this.P;n<t;){var o=e[n],r=null,s=239<o?4:223<o?3:191<o?2:1;if(n+s>t)break;if(1===s)128>o&&(r=o);else if(2===s){var a=e[n+1];128==(192&a)&&127>=(r=(31&o)<<6|63&a)&&(r=null)}else if(3===s){a=e[n+1];var l=e[n+2];128==(192&a)&&128==(192&l)&&(2047>=(r=(15&o)<<12|(63&a)<<6|63&l)||55296<=r&&57343>=r)&&(r=null)}else if(4===s){a=e[n+1],l=e[n+2];var h=e[n+3];128==(192&a)&&128==(192&l)&&128==(192&h)&&(65535>=(r=(15&o)<<18|(63&a)<<12|(63&l)<<6|63&h)||1114112<=r)&&(r=null)}null===r?(r=65533,s=1):65535<r&&(r-=65536,i+=String.fromCharCode(r>>>10&1023|55296),r=56320|1023&r),i+=String.fromCharCode(r),n+=s}return this.P=t,i},gj:function(t){if((t&=7)===e.j)for(;127<this.ab[this.P++];);else if(t===e.a)this.P=this.ma()+this.P;else if(t===e.c)this.P+=4;else{if(t!==e.l)throw Error("Unimplemented type: "+t);this.P+=8}}},t.default=e}(mf.Ab=mf.Ab||{}),mf.Ab=mf.Ab.default,(cc=Hl.prototype).get=function(t){return this.v[t]},cc.Ma=Hl.prototype.Eb=function(){return this.l},cc.I=function(){return this.b||(this.b="Point"===this.g?L(this.a):O(this.a,0,this.a.length,2)),this.b},cc.ac=function(){if(!this.j){var t=F(this.I());this.j=Ki(this.a,0,this.l,2,t,0)}return this.j},cc.Xc=function(){return this.c||(this.c=ws(this.a,0,this.a.length,2,.5)),this.c},cc.Yc=function(){if(!this.c){this.c=[];for(var t=this.a,e=0,i=this.l,n=0,o=i.length;n<o;++n){var r=i[n];e=ws(t,e,r,2,.5),Ct(this.c,e),e=r}}return this.c},cc.Xa=function(){return this.a},cc.aa=Hl.prototype.Xa,cc.O=function(){return this},cc.bc=Hl.prototype.O,cc.ga=function(){return 2},cc.cb=h,cc.D=function(){return this.g},cc.xb=function(t){var e=t.I();e=G(t=t.Bd)/G(e);var i=this.f;Ei(i,t[0],t[3],e,-e,0,0,0),Mi(this.a,0,this.a.length,2,i,this.a)},l(Yl,ya),(cc=Yl.prototype).de=function(){return this.c},cc.D=function(){return"arraybuffer"},cc.Ta=function(t){var e,i=this.g,n=(t=new mf.Ab(t)).sd(Zl,{}),o=[];for(e in n)if(!i||-1!=i.indexOf(e)){for(var r,s=n[e],a=0,l=s.length;a<l;++a){var h=s;(r=t).P=h.features[a];var u=r.ma()+r.P;h={layer:h,type:0,properties:{}},r.sd(Jl,h,u),r=h,o.push(Kl(this,t,r))}this.c=s?[0,0,s.extent,s.extent]:null}return o},cc.Ob=function(){return this.defaultDataProjection},cc.Mb=function(){},cc.Cc=function(){};var kd=[null],Ed=ca(kd,{nd:function(t,e){e[e.length-1].Ah.push(t.getAttribute("ref"))},tag:Ql});ca(kd,{node:function(t,e){var i=e[0],n=e[e.length-1],o=t.getAttribute("id"),r=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.Fj[o]=r,Z((t=pa({zc:{}},Td,t,e)).zc)||(r=new $i(r),xa(r,!1,i),(i=new ms(r)).lb(o),i.na(t.zc),n.features.push(i))},way:function(t,e){t=pa({id:t.getAttribute("id"),Ah:[],zc:{}},Ed,t,e),e[e.length-1].Gj.push(t)}});var Td=ca(kd,{tag:Ql});l(th,Ma),th.prototype.rd=function(t,e){if("Topology"==t.type){var i=null,n=null;if(t.transform){var o=t.transform;i=o.scale,n=o.translate}var r=t.arcs;if(o){o=i;var s,a=n,l=0;for(s=r.length;l<s;++l){var h,u=r[l],c=o,f=a,p=0,d=0,g=0;for(h=u.length;g<h;++g){var v=u[g];p+=v[0],d+=v[1],v[0]=p,v[1]=d,oh(v,c,f)}}}o=[],t=t.objects,a=this.c;for(var m in t)this.a&&-1==this.a.indexOf(m)||("GeometryCollection"===t[m].type?(l=t[m],o.push.apply(o,ih(l,r,i,n,a,m,e))):(l=t[m],o.push(nh(l,r,i,n,a,m,e))));return o}return[]},th.prototype.vd=function(){return this.defaultDataProjection};var Id={Point:function(t,e,i){return t=t.coordinates,e&&i&&oh(t,e,i),new $i(t)},LineString:function(t,e){return t=eh(t.arcs,e),new Ms(t)},Polygon:function(t,e){var i,n=[],o=0;for(i=t.arcs.length;o<i;++o)n[o]=eh(t.arcs[o],e);return new on(n)},MultiPoint:function(t,e,i){t=t.coordinates;var n;if(e&&i){var o=0;for(n=t.length;o<n;++o)oh(t[o],e,i)}return new ja(t)},MultiLineString:function(t,e){var i,n=[],o=0;for(i=t.arcs.length;o<i;++o)n[o]=eh(t.arcs[o],e);return new Ca(n)},MultiPolygon:function(t,e){var i,n,o=[],r=0;for(n=t.arcs.length;r<n;++r){var s=t.arcs[r],a=[],l=0;for(i=s.length;l<i;++l)a[l]=eh(s[l],e);o[r]=a}return new Ea(o)}};th.prototype.zb=function(){},th.prototype.Cd=function(){},th.prototype.ib=function(){},l(rh,Da);var Ad={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"};rh.prototype.qd=function(t,e){var i={featureType:this.j,featureNS:this.c};return bc(i,ba(this,t,e||{})),e=[i],this.a.a["http://www.opengis.net/gml"].featureMember=na(Fa.prototype.Nb),(t=pa([],this.a.a,t,e,this.a))||(t=[]),t},rh.prototype.b=function(t){return t instanceof Document?sh(t):t instanceof Node?pa({},_d,t,[]):"string"==typeof t?(t=ia(t),sh(t)):void 0};var Nd={"http://www.opengis.net/wfs":{totalInserted:sa(Va),totalUpdated:sa(Va),totalDeleted:sa(Va)}},Ld={"http://www.opengis.net/ogc":{FeatureId:na(function(t){return t.getAttribute("fid")})}},Od={"http://www.opengis.net/wfs":{Feature:function(t,e){fa(Ld,t,e)}}},_d={"http://www.opengis.net/wfs":{TransactionSummary:sa(function(t,e){return pa({},Nd,t,e)},"transactionSummary"),InsertResults:sa(function(t,e){return pa([],Od,t,e)},"insertIds")}},Dd={"http://www.opengis.net/wfs":{Insert:aa(function(t,e,i){var n=i[i.length-1],o=n.gmlVersion;if(n=Qs(n.featureNS,n.featureType),t.appendChild(n),2===o){var r=el.prototype;(t=e.b)&&n.setAttribute("fid",t),o=(t=i[i.length-1]).featureNS;var s=e.a;t.Aa||(t.Aa={},t.Aa[o]={});var a=e.Fa();e=[];var l=[];for(u in a){var h=a[u];null!==h&&(e.push(u),l.push(h),u==s||h instanceof Ti?u in t.Aa[o]||(t.Aa[o][u]=aa(r.re,r)):u in t.Aa[o]||(t.Aa[o][u]=aa(Ka)))}var u=bc({},t)}else{u=Qa.prototype,(t=e.b)&&n.setAttribute("fid",t),o=(t=i[i.length-1]).featureNS,s=e.a,t.Aa||(t.Aa={},t.Aa[o]={}),a=e.Fa(),e=[],l=[];for(r in a)null!==(h=a[r])&&(e.push(r),l.push(h),r==s||h instanceof Ti?r in t.Aa[o]||(t.Aa[o][r]=aa(u.ze,u)):r in t.Aa[o]||(t.Aa[o][r]=aa(Ka)));u=bc({},t)}u.node=n,ga(u,t.Aa,ha(void 0,o),l,i,e)}),Update:aa(function(t,e,i){var n=i[i.length-1];g(void 0!==e.b,27);var o=n.featurePrefix,r=n.featureNS,s=e.a;if(t.setAttribute("typeName",lh(o,n.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+o,r),void 0!==(o=e.b)){for(var a=[],l=0,h=(r=Object.keys(e.H)).length;l<h;l++){var u=e.get(r[l]);if(void 0!==u){var c=r[l];u instanceof Ti&&(c=s),a.push({name:c,value:u})}}ga({gmlVersion:n.gmlVersion,node:t,hasZ:n.hasZ,srsName:n.srsName},Dd,ha("Property"),a,i),ah(t,o)}}),Delete:aa(function(t,e,i){i=i[i.length-1],g(void 0!==e.b,26);var n=i.featurePrefix,o=i.featureNS;t.setAttribute("typeName",lh(n,i.featureType)),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+n,o),void 0!==(e=e.b)&&ah(t,e)}),Property:aa(function(t,e,i){var n=Qs("http://www.opengis.net/wfs","Name"),o=i[i.length-1].gmlVersion;t.appendChild(n),Ka(n,e.name),void 0!==e.value&&null!==e.value&&(n=Qs("http://www.opengis.net/wfs","Value"),t.appendChild(n),e.value instanceof Ti?2===o?el.prototype.re(n,e.value,i):Qa.prototype.ze(n,e.value,i):Ka(n,e.value))}),Native:aa(function(t,e){e.pj&&t.setAttribute("vendorId",e.pj),void 0!==e.cj&&t.setAttribute("safeToIgnore",e.cj),void 0!==e.value&&Ka(t,e.value)})}};rh.prototype.g=function(t,e,i,n){var o=[],r=Qs("http://www.opengis.net/wfs","Transaction"),s=n.version?n.version:"1.1.0",a="1.0.0"===s?2:3;if(r.setAttribute("service","WFS"),r.setAttribute("version",s),n){var l=n.gmlOptions?n.gmlOptions:{};n.handle&&r.setAttribute("handle",n.handle)}r.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",Ad[s]);var h=n.featurePrefix?n.featurePrefix:"feature";return t&&(s={node:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:a,hasZ:n.hasZ,srsName:n.srsName},bc(s,l),ga(s,Dd,ha("Insert"),t,o)),e&&(s={node:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:a,hasZ:n.hasZ,srsName:n.srsName},bc(s,l),ga(s,Dd,ha("Update"),e,o)),i&&ga({node:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:a,srsName:n.srsName},Dd,ha("Delete"),i,o),n.nativeElements&&ga({node:r,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:h,gmlVersion:a,srsName:n.srsName},Dd,ha("Native"),n.nativeElements,o),r},rh.prototype.ud=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.tc(t);return null},rh.prototype.tc=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=t.firstElementChild.firstElementChild,t=t.firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return za(this.a,t,e),dt(e.pop().srsName)}return null},l(hh,yl);var Rd={Point:uh,LineString:ch,Polygon:fh,MultiPoint:function(t){for(var e=[],i=0,n=(t=ka(t)).length;i<n;++i)e.push("("+uh(t[i])+")");return e.join(",")},MultiLineString:function(t){for(var e=[],i=0,n=(t=t.tb()).length;i<n;++i)e.push("("+ch(t[i])+")");return e.join(",")},MultiPolygon:function(t){for(var e=[],i=0,n=(t=Aa(t)).length;i<n;++i)e.push("("+fh(t[i])+")");return e.join(",")},GeometryCollection:function(t){for(var e=[],i=0,n=(t=fl(t.a)).length;i<n;++i)e.push(ph(t[i]));return e.join(",")}};(cc=mh.prototype).md=function(){if(bh(this,2)){var t=xh(this);if(bh(this,3))return t}else if(Ch(this))return null;throw Error(Ph(this))},cc.ld=function(){if(bh(this,2)){var t=Mh(this);if(bh(this,3))return t}else if(Ch(this))return[];throw Error(Ph(this))},cc.od=function(){if(bh(this,2)){var t=Sh(this);if(bh(this,3))return t}else if(Ch(this))return[];throw Error(Ph(this))},cc.yi=function(){if(bh(this,2)){var t;if(2==this.a.type)for(t=[this.md()];bh(this,5);)t.push(this.md());else t=Mh(this);if(bh(this,3))return t}else if(Ch(this))return[];throw Error(Ph(this))},cc.xi=function(){if(bh(this,2)){var t=Sh(this);if(bh(this,3))return t}else if(Ch(this))return[];throw Error(Ph(this))},cc.zi=function(){if(bh(this,2)){for(var t=[this.od()];bh(this,5);)t.push(this.od());if(bh(this,3))return t}else if(Ch(this))return[];throw Error(Ph(this))};var qd={POINT:$i,LINESTRING:Ms,POLYGON:on,MULTIPOINT:ja,MULTILINESTRING:Ca,MULTIPOLYGON:Ea},Fd={POINT:mh.prototype.md,LINESTRING:mh.prototype.ld,POLYGON:mh.prototype.od,MULTIPOINT:mh.prototype.yi,MULTILINESTRING:mh.prototype.xi,MULTIPOLYGON:mh.prototype.zi},zd=[null,"http://www.opengis.net/wms"];ca(zd,{Service:sa(function(t,e){return pa({},Bd,t,e)}),Capability:sa(function(t,e){return pa({},Gd,t,e)})});var Gd=ca(zd,{Request:sa(function(t,e){return pa({},$d,t,e)}),Exception:sa(function(t,e){return pa([],Vd,t,e)}),Layer:sa(function(t,e){return pa({},Hd,t,e)})}),Bd=ca(zd,{Name:sa(Ya),Title:sa(Ya),Abstract:sa(Ya),KeywordList:sa(Ih),OnlineResource:sa(jh),ContactInformation:sa(function(t,e){return pa({},Ud,t,e)}),Fees:sa(Ya),AccessConstraints:sa(Ya),LayerLimit:sa(Va),MaxWidth:sa(Va),MaxHeight:sa(Va)}),Ud=ca(zd,{ContactPersonPrimary:sa(function(t,e){return pa({},Wd,t,e)}),ContactPosition:sa(Ya),ContactAddress:sa(function(t,e){return pa({},Xd,t,e)}),ContactVoiceTelephone:sa(Ya),ContactFacsimileTelephone:sa(Ya),ContactElectronicMailAddress:sa(Ya)}),Wd=ca(zd,{ContactPerson:sa(Ya),ContactOrganization:sa(Ya)}),Xd=ca(zd,{AddressType:sa(Ya),Address:sa(Ya),City:sa(Ya),StateOrProvince:sa(Ya),PostCode:sa(Ya),Country:sa(Ya)}),Vd=ca(zd,{Format:na(Ya)}),Hd=ca(zd,{Name:sa(Ya),Title:sa(Ya),Abstract:sa(Ya),KeywordList:sa(Ih),CRS:ra(Ya),EX_GeographicBoundingBox:sa(function(t,e){var i=pa({},Zd,t,e);if(i){t=i.westBoundLongitude,e=i.southBoundLatitude;var n=i.eastBoundLongitude;if(i=i.northBoundLatitude,void 0!==t&&void 0!==e&&void 0!==n&&void 0!==i)return[t,e,n,i]}}),BoundingBox:ra(function(t){var e=[Xa(t.getAttribute("minx")),Xa(t.getAttribute("miny")),Xa(t.getAttribute("maxx")),Xa(t.getAttribute("maxy"))],i=[Xa(t.getAttribute("resx")),Xa(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}}),Dimension:ra(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Ba(t.getAttribute("multipleValues")),nearestValue:Ba(t.getAttribute("nearestValue")),current:Ba(t.getAttribute("current")),values:Ya(t)}}),Attribution:sa(function(t,e){return pa({},Yd,t,e)}),AuthorityURL:ra(function(t,e){if(e=kh(t,e))return e.name=t.getAttribute("name"),e}),Identifier:ra(Ya),MetadataURL:ra(function(t,e){if(e=kh(t,e))return e.type=t.getAttribute("type"),e}),DataURL:ra(kh),FeatureListURL:ra(kh),Style:ra(function(t,e){return pa({},tg,t,e)}),MinScaleDenominator:sa(Wa),MaxScaleDenominator:sa(Wa),Layer:ra(function(t,e){var i=e[e.length-1],n=pa({},Hd,t,e);if(n)return void 0===(e=Ba(t.getAttribute("queryable")))&&(e=i.queryable),n.queryable=void 0!==e&&e,void 0===(e=Ha(t.getAttribute("cascaded")))&&(e=i.cascaded),n.cascaded=e,void 0===(e=Ba(t.getAttribute("opaque")))&&(e=i.opaque),n.opaque=void 0!==e&&e,void 0===(e=Ba(t.getAttribute("noSubsets")))&&(e=i.noSubsets),n.noSubsets=void 0!==e&&e,(e=Xa(t.getAttribute("fixedWidth")))||(e=i.fixedWidth),n.fixedWidth=e,(t=Xa(t.getAttribute("fixedHeight")))||(t=i.fixedHeight),n.fixedHeight=t,["Style","CRS","AuthorityURL"].forEach(function(t){t in i&&(n[t]=(n[t]||[]).concat(i[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in n||(n[t]=i[t])}),n})}),Yd=ca(zd,{Title:sa(Ya),OnlineResource:sa(jh),LogoURL:sa(Th)}),Zd=ca(zd,{westBoundLongitude:sa(Wa),eastBoundLongitude:sa(Wa),southBoundLatitude:sa(Wa),northBoundLatitude:sa(Wa)}),$d=ca(zd,{GetCapabilities:sa(Eh),GetMap:sa(Eh),GetFeatureInfo:sa(Eh)}),Jd=ca(zd,{Format:ra(Ya),DCPType:ra(function(t,e){return pa({},Kd,t,e)})}),Kd=ca(zd,{HTTP:sa(function(t,e){return pa({},Qd,t,e)})}),Qd=ca(zd,{Get:sa(kh),Post:sa(kh)}),tg=ca(zd,{Name:sa(Ya),Title:sa(Ya),Abstract:sa(Ya),LegendURL:ra(Th),StyleSheetURL:sa(kh),StyleURL:sa(kh)}),eg=ca(zd,{Format:sa(Ya),OnlineResource:sa(jh)}),ig=ca(zd,{Keyword:na(Ya)}),ng=[null,"http://www.opengis.net/ows/1.1"];ca(ng,{ServiceIdentification:sa(function(t,e){return pa({},gg,t,e)}),ServiceProvider:sa(function(t,e){return pa({},vg,t,e)}),OperationsMetadata:sa(function(t,e){return pa({},cg,t,e)})});var og=ca(ng,{DeliveryPoint:sa(Ya),City:sa(Ya),AdministrativeArea:sa(Ya),PostalCode:sa(Ya),Country:sa(Ya),ElectronicMailAddress:sa(Ya)}),rg=ca(ng,{Value:ra(function(t){return Ya(t)})}),sg=ca(ng,{AllowedValues:sa(function(t,e){return pa({},rg,t,e)})}),ag=ca(ng,{Phone:sa(function(t,e){return pa({},fg,t,e)}),Address:sa(function(t,e){return pa({},og,t,e)})}),lg=ca(ng,{HTTP:sa(function(t,e){return pa({},hg,t,e)})}),hg=ca(ng,{Get:ra(function(t,e){var i=jh(t);if(i)return pa({href:i},pg,t,e)}),Post:void 0}),ug=ca(ng,{DCP:sa(function(t,e){return pa({},lg,t,e)})}),cg=ca(ng,{Operation:function(t,e){var i=t.getAttribute("name");(t=pa({},ug,t,e))&&(e[e.length-1][i]=t)}}),fg=ca(ng,{Voice:sa(Ya),Facsimile:sa(Ya)}),pg=ca(ng,{Constraint:ra(function(t,e){var i=t.getAttribute("name");if(i)return pa({name:i},sg,t,e)})}),dg=ca(ng,{IndividualName:sa(Ya),PositionName:sa(Ya),ContactInfo:sa(function(t,e){return pa({},ag,t,e)})}),gg=ca(ng,{Abstract:sa(Ya),AccessConstraints:sa(Ya),Fees:sa(Ya),Title:sa(Ya),ServiceTypeVersion:sa(Ya),ServiceType:sa(Ya)}),vg=ca(ng,{ProviderName:sa(Ya),ProviderSite:sa(jh),ServiceContact:sa(function(t,e){return pa({},dg,t,e)})}),mg=[null,"http://www.opengis.net/wmts/1.0"],yg=[null,"http://www.opengis.net/ows/1.1"];ca(mg,{Contents:sa(function(t,e){return pa({},bg,t,e)})});var bg=ca(mg,{Layer:ra(function(t,e){return pa({},wg,t,e)}),TileMatrixSet:ra(function(t,e){return pa({},kg,t,e)})}),wg=ca(mg,{Style:ra(function(t,e){if(e=pa({},xg,t,e))return t="true"===t.getAttribute("isDefault"),e.isDefault=t,e}),Format:ra(Ya),TileMatrixSetLink:ra(function(t,e){return pa({},Mg,t,e)}),Dimension:ra(function(t,e){return pa({},Pg,t,e)}),ResourceURL:ra(function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),i&&(n.template=i),t&&(n.resourceType=t),n})},ca(yg,{Title:sa(Ya),Abstract:sa(Ya),WGS84BoundingBox:sa(function(t,e){if(2==(t=pa([],jg,t,e)).length)return C(t)}),Identifier:sa(Ya)})),xg=ca(mg,{LegendURL:ra(function(t){var e={};return e.format=t.getAttribute("format"),e.href=jh(t),e})},ca(yg,{Title:sa(Ya),Identifier:sa(Ya)})),Mg=ca(mg,{TileMatrixSet:sa(Ya),TileMatrixSetLimits:sa(function(t,e){return pa([],Sg,t,e)})}),Sg=ca(mg,{TileMatrixLimits:na(function(t,e){return pa({},Cg,t,e)})}),Cg=ca(mg,{TileMatrix:sa(Ya),MinTileRow:sa(Va),MaxTileRow:sa(Va),MinTileCol:sa(Va),MaxTileCol:sa(Va)}),Pg=ca(mg,{Default:sa(Ya),Value:ra(Ya)},ca(yg,{Identifier:sa(Ya)})),jg=ca(yg,{LowerCorner:na(Ah),UpperCorner:na(Ah)}),kg=ca(mg,{WellKnownScaleSet:sa(Ya),TileMatrix:ra(function(t,e){return pa({},Eg,t,e)})},ca(yg,{SupportedCRS:sa(Ya),Identifier:sa(Ya)})),Eg=ca(mg,{TopLeftCorner:sa(Ah),ScaleDenominator:sa(Wa),TileWidth:sa(Va),TileHeight:sa(Va),MatrixWidth:sa(Va),MatrixHeight:sa(Va)},ca(yg,{Identifier:sa(Ya)}));l(Nh,Ii),(cc=Nh.prototype).clone=function(){var t=new Nh(null);return Ni(t,this.V,this.s.slice()),t.c(),t},cc.Pa=function(t,e,i,n){var o=this.s;t-=o[0];var r=e-o[1];if((e=t*t+r*r)<n){if(0===e)for(n=0;n<this.a;++n)i[n]=o[n];else for(n=this.Jb()/Math.sqrt(e),i[0]=o[0]+n*t,i[1]=o[1]+n*r,n=2;n<this.a;++n)i[n]=o[n];return i.length=this.a,e}return n},cc.ja=function(){return this.s.slice(0,this.a)},cc.Yb=function(t){var e=this.s,i=e[this.a]-e[0];return A(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},cc.Jb=function(){var t=this.s[this.a]-this.s[0],e=this.s[this.a+1]-this.s[1];return Math.sqrt(t*t+e*e)},cc.D=function(){return"Circle"},cc.Oa=function(t){var e=this.a,i=t.slice();i[e]=i[0]+(this.s[e]-this.s[0]);var n;for(n=1;n<e;++n)i[e+n]=t[n];Ni(this,this.V,i),this.c()},cc.G=function(){},cc.Y=function(){},cc.kf=function(t){this.s[this.a]=this.s[0]+t,this.c()},l(Oh,Ln),Oh.prototype.cb=function(){return this.A},Oh.prototype.K=function(t){this.J=void 0!==t?t:ds,this.A=null===t?void 0:ps(this.J),this.c()};var Tg="renderOrder";l(Dh,qs),(cc=Dh.prototype).Va=function(t){var e=u(t).toString();if(qh(this,e,t)){Rh(this,e,t);var i=t.O();i?(e=i.I(),this.a&&this.a.da(e,t)):this.b[e]=t,this.l(new Uh("addfeature",t))}this.c()},cc.Bb=function(t){Fh(this,t),this.c()},cc.clear=function(t){if(t){for(var e in this.o)this.o[e].forEach(te);this.g||(this.o={},this.f={},this.i={})}else if(this.a){this.a.forEach(this.yd,this);for(var i in this.b)this.yd(this.b[i])}this.g&&this.g.clear(),this.a&&this.a.clear(),this.J.clear(),this.b={},this.l(new Uh("clear")),this.c()},cc.mc=function(){if(this.g)var t=this.g.a;else this.a&&(t=Os(this.a),Z(this.b)||Ct(t,Y(this.b)));return t},cc.I=function(t){return this.a.I(t)},cc.yg=function(t){return void 0!==(t=this.f[t.toString()])?t:null},cc.pi=function(){return this.u},cc.Re=function(t){var e=u(t=t.target).toString(),i=t.O();i?(i=i.I(),e in this.b?(delete this.b[e],this.a&&this.a.da(i,t)):this.a&&Ls(this.a,i,t)):e in this.b||(this.a&&this.a.remove(t),this.b[e]=t),void 0!==(i=t.b)?(i=i.toString(),e in this.i?(delete this.i[e],this.f[i]=t):this.f[i]!==t&&(Bh(this,t),this.f[i]=t)):e in this.i||(Bh(this,t),this.i[e]=t),this.c(),this.l(new Uh("changefeature",t))},cc.ed=function(t,e,i){var n,o=this.J,r=0;for(n=(t=this.fa(t,e)).length;r<n;++r){var s=t[r];Ds(o,s,function(t){return E(t.extent,s)})||(this.A.call(this,s,e,i),o.da(s,{extent:s.slice()}))}},cc.Qa=function(t){var e=u(t).toString();e in this.b?delete this.b[e]:this.a&&this.a.remove(t),this.yd(t),this.c()},cc.yd=function(t){var e=u(t).toString();this.o[e].forEach(te),delete this.o[e];var i=t.b;void 0!==i?delete this.f[i.toString()]:delete this.i[e],this.l(new Uh("removefeature",t))},l(Uh,ne),l(Wh,ro),Wh.prototype.setMap=function(t){ro.prototype.setMap.call(this,t),this.rb()},Wh.prototype.mb=xi,Wh.prototype.rb=function(){var t=this.C,e=this.get("active");t&&e||tu(this),this.fa.setMap(e?t:null)};var Ig="Point",Ag="LineString",Ng="Polygon",Lg="Circle";l(nu,ne),l(ou,ro),(cc=ou.prototype).hd=function(t){var e=t.O();e&&e.D()in this.ea&&this.ea[e.D()].call(this,t,e),(e=this.C)&&e.b&&this.get("active")&&du(this,this.xa,e),Kt(t,"change",this.Ie,this)},cc.gb=function(t){this.b&&!t&&(this.A.$().Qa(this.b),this.b=null),ro.prototype.gb.call(this,t)},cc.setMap=function(t){this.A.setMap(t),ro.prototype.setMap.call(this,t)},cc.Yg=function(t){t.feature&&this.o.push(t.feature)},cc.ah=function(t){t.feature&&this.o.remove(t.feature)},cc.Yh=function(t){this.hd(t.element)},cc.Ie=function(t){this.i||(t=t.target,su(this,t),this.hd(t))},cc.Zh=function(t){su(this,t.element)},cc.ei=function(t,e){var i=e.G();t={feature:t,geometry:e,S:[i,i]},this.a.da(e.I(),t)},cc.ci=function(t,e){var i,n=e.G(),o=0;for(i=n.length;o<i;++o){var r=n[o];r={feature:t,geometry:e,depth:[o],index:o,S:[r,r]},this.a.da(e.I(),r)}},cc.Je=function(t,e){var i,n=e.G(),o=0;for(i=n.length-1;o<i;++o){var r=n.slice(o,o+2),s={feature:t,geometry:e,index:o,S:r};this.a.da(C(r),s)}},cc.bi=function(t,e){var i,n,o=e.G(),r=0;for(n=o.length;r<n;++r){var s=o[r],a=0;for(i=s.length-1;a<i;++a){var l=s.slice(a,a+2),h={feature:t,geometry:e,depth:[r],index:a,S:l};this.a.da(C(l),h)}}},cc.fi=function(t,e){var i,n,o=e.G(),r=0;for(n=o.length;r<n;++r){var s=o[r],a=0;for(i=s.length-1;a<i;++a){var l=s.slice(a,a+2),h={feature:t,geometry:e,depth:[r],index:a,S:l};this.a.da(C(l),h)}}},cc.di=function(t,e){var i,n,o,r=e.G(),s=0;for(o=r.length;s<o;++s){var a=r[s],l=0;for(n=a.length;l<n;++l){var h=a[l],u=0;for(i=h.length-1;u<i;++u){var c=h.slice(u,u+2),f={feature:t,geometry:e,depth:[l,s],index:u,S:c};this.a.da(C(c),f)}}}},cc.$h=function(t,e){var i=e.ja(),n={feature:t,geometry:e,index:0,S:[i,i]};t={feature:t,geometry:e,index:1,S:[i,i]},n.Vc=t.Vc=[n,t],this.a.da(L(i),n),this.a.da(e.I(),t)},cc.ai=function(t,e){var i=e.a;for(e=0;e<i.length;++e)this.ea[i[e].D()].call(this,t,i[e])},cc.hh=function(t,e){for(var i,n=t.S,o=t.feature,r=t.geometry,s=t.depth,a=t.index;e.length<r.ga();)e.push(0);switch(r.D()){case"MultiLineString":case"Polygon":(i=r.G())[s[0]].splice(a+1,0,e);break;case"MultiPolygon":(i=r.G())[s[1]][s[0]].splice(a+1,0,e);break;case"LineString":(i=r.G()).splice(a+1,0,e);break;default:return}this.i=!0,r.Y(i),this.i=!1,(i=this.a).remove(t),mu(this,r,a,s,1),t={S:[n[0],e],feature:o,geometry:r,depth:s,index:a},i.da(C(t.S),t),this.f.push([t,1]),e={S:[e,n[1]],feature:o,geometry:r,depth:s,index:a+1},i.da(C(e.S),e),this.f.push([e,0]),this.J=!0},l(bu,ne),l(wu,Xn),wu.prototype.J=function(){return this.a.$().g},wu.prototype.setMap=function(t){var e=this.C,i=this.a.$().g;e&&i.forEach(e.vf,e),Xn.prototype.setMap.call(this,t),this.a.setMap(t),t&&i.forEach(t.rf,t)},wu.prototype.A=function(t){var e=this.C;e&&e.rf(t.element)},wu.prototype.K=function(t){var e=this.C;e&&e.vf(t.element)},l(Su,ne);var Og="select";return l(Cu,ro),cc=Cu.prototype,cc.Va=function(t,e){e=void 0===e||e;var i=u(t),n=t.O();if(n){var o=this.ea[n.D()];o&&(this.M[i]=n.I(I()),o.call(this,t,n))}e&&(this.A[i]=Kt(t,"change",this.gi,this))},cc.ug=function(t){this.Va(t)},cc.vg=function(t){this.Qa(t)},cc.Ke=function(t){if(t instanceof Uh)var e=t.feature;else t instanceof me&&(e=t.element);this.Va(e)},cc.Le=function(t){if(t instanceof Uh)var e=t.feature;else t instanceof me&&(e=t.element);this.Qa(e)},cc.gi=function(t){if(t=t.target,this.B){var e=u(t);e in this.o||(this.o[e]=t)}else this.wf(t)},cc.Qa=function(t,e){e=void 0===e||e;var i=u(t),n=this.M[i];if(n){var o=this.a,r=[];for(Ds(o,n,function(e){t===e.feature&&r.push(e)}),n=r.length-1;0<=n;--n)o.remove(r[n])}e&&(te(this.A[i]),delete this.A[i])},cc.setMap=function(t){var e,i=this.C,n=this.fa;this.f?e=this.f:this.i&&(e=this.i.mc()),i&&(n.forEach(te),n.length=0,e.forEach(this.vg,this)),ro.prototype.setMap.call(this,t),t&&(this.f?n.push(Kt(this.f,"add",this.Ke,this),Kt(this.f,"remove",this.Le,this)):this.i&&n.push(Kt(this.i,"addfeature",this.Ke,this),Kt(this.i,"removefeature",this.Le,this)),e.forEach(this.ug,this))},cc.mb=xi,cc.wf=function(t){this.Qa(t,!1),this.Va(t,!1)},cc.hi=function(t,e){var i=e.ga(),n=e.V,o=new on(null,n);i*=33;for(var r=Array(i),s=0;s<i;s++)r[s]=0;o.N(n,r,[r.length]),n=e.ja(),e=e.Jb(),i=o.aa(),r=o.V,s=o.ga();for(var a,l,h=o.Ma(),u=i.length/s-1,c=0;c<=u;++c)l=c*s,a=0+2*b(c,u)*Math.PI/u,i[l]=n[0]+e*Math.cos(a),i[l+1]=n[1]+e*Math.sin(a);for(o.N(r,i,h),n=0,e=(o=o.G()[0]).length-1;n<e;++n)i=o.slice(n,n+2),r={feature:t,S:i},this.a.da(C(i),r)},cc.ii=function(t,e){var i=e.a;for(e=0;e<i.length;++e){var n=this.ea[i[e].D()];n&&n.call(this,t,i[e])}},cc.Me=function(t,e){var i,n=0;for(i=(e=e.G()).length-1;n<i;++n){var o=e.slice(n,n+2),r={feature:t,S:o};this.a.da(C(o),r)}},cc.ji=function(t,e){var i,n,o=0;for(n=(e=e.G()).length;o<n;++o){var r=e[o],s=0;for(i=r.length-1;s<i;++s){var a=r.slice(s,s+2),l={feature:t,S:a};this.a.da(C(a),l)}}},cc.ki=function(t,e){var i,n=e.G(),o=0;for(i=n.length;o<i;++o){var r=n[o];r={feature:t,S:[r,r]},this.a.da(e.I(),r)}},cc.li=function(t,e){var i,n,o,r=0;for(o=(e=e.G()).length;r<o;++r){var s=e[r],a=0;for(n=s.length;a<n;++a){var l=s[a],h=0;for(i=l.length-1;h<i;++h){var u=l.slice(h,h+2),c={feature:t,S:u};this.a.da(C(u),c)}}}},cc.mi=function(t,e){var i=e.G();t={feature:t,S:[i,i]},this.a.da(e.I(),t)},cc.ni=function(t,e){var i,n,o=0;for(n=(e=e.G()).length;o<n;++o){var r=e[o],s=0;for(i=r.length-1;s<i;++s){var a=r.slice(s,s+2),l={feature:t,S:a};this.a.da(C(a),l)}}},l(Tu,Ln),Tu.prototype.B=function(){return this.get("preload")},Tu.prototype.u=function(){return this.get("useInterimTilesOnError")},l(Iu,Oh),Iu.prototype.B=function(){return this.get("preload")},Iu.prototype.u=function(){return this.get("useInterimTilesOnError")},l(Du,Bo),Du.prototype.Db=function(t){for(var e,i;this.b>this.highWaterMark;){var n;if((n=(i=(e=this.c.ob).ta[0].toString())in t)&&(e=e.ta,n=d(t[i],e[1],e[2])),n)break;ie(this.pop())}},l(qu,qs),cc=qu.prototype,cc.jd=function(){var t=this.a;return t.b>t.highWaterMark},cc.Db=function(t,e){(t=this.cc(t))&&t.Db(e)},cc.ae=function(){return 0},cc.$c=function(){return this.Ha},cc.ya=function(t){if(this.tileGrid)t=this.tileGrid;else{var e=t.f;e||(e=Wt(t),t.f=e),t=e}return t},cc.cc=function(t){var e=this.C;return e&&!gt(e,t)?null:this.a},cc.Gb=function(){return this.Ka},cc.dc=function(t,e,i){return i=this.ya(i),e=this.Gb(e),t=S(Ft(i,t),this.b),1==e?t:M(t,e,this.b)},cc.Kb=function(){this.a.clear(),this.c()},cc.yf=h,l(Bu,ne),l(Uu,qu),Uu.prototype.M=function(t){var e=u(t=t.target),i=t.state;if(1==i){this.A[e]=!0;var n="tileloadstart"}else e in this.A&&(delete this.A[e],n=3==i?"tileloaderror":2==i||5==i?"tileloadend":void 0);void 0!=n&&this.l(new Bu(n,t))},Uu.prototype.yf=function(t,e,i){t=t+"/"+e+"/"+i,this.a.j.hasOwnProperty(t)&&this.a.get(t)},l(Xu,Uu),cc=Xu.prototype,cc.jd=function(){return Uu.prototype.jd.call(this)},cc.Db=function(t,e){Uu.prototype.Db.call(this,t,e)},cc.ae=function(){return this.be()},cc.be=function(){return 0},cc.$c=function(t){return Uu.prototype.$c.call(this,t)},cc.ya=function(t){return Uu.prototype.ya.call(this,t)},cc.cc=function(t){return Uu.prototype.cc.call(this,t)},cc.kd=function(t,e,i,n,o){var r=this.C||o,s=t+"/"+e+"/"+i,a=this.eb;if(this.a.j.hasOwnProperty(s)){if((o=this.a.get(s)).key!=a){var l=o;if(o=Vu(this,t,e,i,n,r,a),0==l.state?o.c=l.c:o.c=l,o.c){t=o.c,e=o;do{if(2==t.state){t.c=null;break}1==t.state?e=t:0==t.state?e.c=t.c:e=t,t=e.c}while(t)}e=o,(t=this.a).get(s),t.j[s].ob=e}}else o=Vu(this,t,e,i,n,r,a),this.a.set(s,o);return o},l(Yu,Xu),l(Zu,Dh),Zu.prototype.ed=function(t,e,i){this.source.ed(t,e,i),e!==this.resolution&&(this.clear(),this.resolution=e,$u(this),this.Bb(this.features))},Zu.prototype.X=function(t){this.distance=t,this.Kb()},Zu.prototype.Kb=function(){this.clear(),$u(this),this.Bb(this.features),Dh.prototype.Kb.call(this)},l(Qu,Yu),mf.pd={},mf.pd.Gd=function(){},function(t){function e(t,e,i){return s?new ImageData(t,e,i):((e=a.createImageData(e,i)).data.set(t),e)}function i(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(i){var n=i.buffers,o=i.meta,r=i.width,s=i.height,a=n.length,l=n[0].byteLength;if(i.imageOps){for(l=Array(a),i=0;i<a;++i){var h=i,u=new Uint8ClampedArray(n[i]),c=r,f=s;u=e?new ImageData(u,c,f):{data:u,width:c,height:f},l[h]=u}r=t(l,o).data}else{for(r=new Uint8ClampedArray(l),s=Array(a),h=Array(a),i=0;i<a;++i)s[i]=new Uint8ClampedArray(n[i]),h[i]=[0,0,0,0];for(n=0;n<l;n+=4){for(i=0;i<a;++i)u=s[i],h[i][0]=u[n],h[i][1]=u[n+1],h[i][2]=u[n+2],h[i][3]=u[n+3];i=t(h,o),r[n]=i[0],r[n+1]=i[1],r[n+2]=i[2],r[n+3]=i[3]}}return r.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);return n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),(n=new Worker(n)).addEventListener("message",e),n}function o(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}function r(t){this.Gc=!!t.Ej;var e,i=[];if(e=0===t.threads?0:this.Gc?1:t.threads||1)for(var r=0;r<e;++r)i[r]=n(t,this.Md.bind(this,r));else i[0]=o(t,this.Md.bind(this,0));this.Wb=i,this.Nd=[],this.Vb=0,this.sb={},this.Hc=null}var s=!0;try{new ImageData(10,10)}catch(t){s=!1}var a=document.createElement("canvas").getContext("2d");r.prototype.Wf=function(){if(0===this.Vb&&0<this.Nd.length){var t=this.Hc=this.Nd.shift(),e=t.inputs[0].width,i=t.inputs[0].height,n=t.inputs.map(function(t){return t.data.buffer}),o=this.Wb.length;if(this.Vb=o,1===o)this.Wb[0].postMessage({buffers:n,meta:t.lh,imageOps:this.Gc,width:e,height:i},n);else for(var r=4*Math.ceil(t.inputs[0].data.length/4/o),s=0;s<o;++s){for(var a=s*r,l=[],h=0,u=n.length;h<u;++h)l.push(n[s].slice(a,a+r));this.Wb[s].postMessage({buffers:l,meta:t.lh,imageOps:this.Gc,width:e,height:i},l)}}},r.prototype.Md=function(t,e){this.Dj||(this.sb[t]=e.data,--this.Vb,0===this.Vb&&this.Yf())},r.prototype.Yf=function(){var t=this.Hc,i=this.Wb.length;if(1===i)var n=new Uint8ClampedArray(this.sb[0].buffer),o=this.sb[0].meta;else{var r=t.inputs[0].data.length;n=new Uint8ClampedArray(r),o=Array(r),r=4*Math.ceil(r/4/i);for(var s=0;s<i;++s){var a=s*r;n.set(new Uint8ClampedArray(this.sb[s].buffer),a),o[s]=this.sb[s].meta}}this.Hc=null,this.sb={},t.callback(null,e(n,t.inputs[0].width,t.inputs[0].height),o),this.Wf()},t.default={Gd:r},t.Gd=r}(mf.pd=mf.pd||{}),l(tc,Xu),tc.prototype.Gb=function(t){return t},tc.prototype.g=function(t,e,i){var n=this.tileGrid;if(n||(n=this.ya(i)),!(n.a.length<=t[0])){var o=Rt(n,t,this.i),r=S(Ft(n,t[0]),this.b);1!=e&&(r=M(r,e,this.b)),bc(n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},this.f);var s=this.urls;return s?(i=i.La.split(":").pop(),n.SIZE=r[0]+","+r[1],n.BBOX=o.join(","),n.BBOXSR=i,n.IMAGESR=i,n.DPI=Math.round(n.DPI?n.DPI*e:90*e),t=(1==s.length?s[0]:s[b((t[1]<<t[0])+t[2],s.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),t=Ku(t,n)):t=void 0,t}},l(ec,Xu),ec.prototype.fa=function(t,e,i,n){i=dt(i);var o=this.C,r=this.tileGrid;r||(r=this.ya(i));var s=t[0],a=t[1],l=zt(r,e),h=e/r.a[l],u=Nt(r,l),c=S(Ft(r,l),r.g);if(s=h*Math.floor((s-u[0])/e+0)/c[0],e=h*Math.floor((a-u[1])/e+.5)/c[1],s=Math.floor(s),e=Math.floor(e),e=Et(l,s,e,void 0),!(r.a.length<=e[0]))return a=r.a[e[0]],l=Rt(r,e,this.K),r=S(Ft(r,e[0]),this.b),0!==(h=this.o)&&(r=x(r,h,this.b),l=P(l,a*h,l)),o&&o!==i&&(u=a,a=wt(h=t,i,o),h=ht(i,u,h),void 0!==(u=i.l())&&(h*=u),void 0!==(u=o.l())&&(h/=u),(u=o.I())&&!T(u,a[0],a[1])||(a=ht(o,h,a)/h,isFinite(a)&&0<a&&(h/=a)),a=h,l=xt(l,i,o),t=wt(t,i,o)),h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.f.LAYERS},bc(h,this.f,n),n=Math.floor((l[3]-t[1])/a),h[this.i?"I":"X"]=Math.floor((t[0]-l[0])/a),h[this.i?"J":"Y"]=n,ic(this,e,r,l,1,o||i,h)},ec.prototype.be=function(){return this.o},ec.prototype.Gb=function(t){return this.J&&void 0!==this.u?t:1},ec.prototype.g=function(t,e,i){var n=this.tileGrid;if(n||(n=this.ya(i)),!(n.a.length<=t[0])){1==e||this.J&&void 0!==this.u||(e=1);var o=n.a[t[0]],r=Rt(n,t,this.K);n=S(Ft(n,t[0]),this.b);var s=this.o;return 0!==s&&(n=x(n,s,this.b),r=P(r,o*s,r)),1!=e&&(n=M(n,e,this.b)),o={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},bc(o,this.f),ic(this,t,n,r,e,i,o)}},l(nc,Cs),cc=nc.prototype,cc.ca=function(){for(var t=0,e=this.a.length;t<e;++t){var i=this.a[t],n=this.j[i];n.a--,0==n.a&&(delete this.j[i],ie(n))}this.a.length=0,this.j=null,this.b.forEach(te),this.b.length=0,this.c&&ie(this.c),this.state=5,Ps(this),this.H.forEach(te),this.H.length=0,Cs.prototype.ca.call(this)},cc.ba=function(t){return-1==rc(this,t).Ad?null:oc(this,t).canvas},cc.Sa=function(){return this.a.join("/")+"-"+this.C},cc.load=function(){var t=0,e={};0==this.state&&ks(this,1),1==this.state&&this.a.forEach(function(i){var n=this.j[i];0==n.state&&(n.i=this.B,n.load()),1==n.state&&(i=Kt(n,"change",function(){var i=n.state;if(2==i||3==i){var o=u(n);3==i?e[o]=!0:(--t,delete e[o]),0==t-Object.keys(e).length&&this.Zd()}}.bind(this)),this.b.push(i),++t)}.bind(this)),0==t-Object.keys(e).length&&setTimeout(this.Zd.bind(this),0)},cc.Zd=function(){for(var t=this.a.length,e=0,i=t-1;0<=i;--i){var n=this.j[this.a[i]].state;2!=n&&--t,4==n&&++e}t==this.a.length?(this.b.forEach(te),this.b.length=0,ks(this,2)):ks(this,e==this.a.length?4:3)},l(ac,Uu),cc=ac.prototype,cc.clear=function(){this.a.clear(),this.f={}},cc.kd=function(t,e,i,n,o){var r=t+"/"+e+"/"+i;return this.a.j.hasOwnProperty(r)?this.a.get(r):(t=[t,e,i],e=Gu(this,t,o),n=new nc(t,null!==e?0:4,this.j,this.o,this.tileLoadFunction,e,this.tileUrlFunction,this.tileGrid,this.ya(o),this.f,n,o,this.tileClass,this.M.bind(this),this.X),this.a.set(r,n),n)},cc.ya=function(t){var e=t.La,i=this.i[e];return i||(i=this.tileGrid,i=this.i[e]=Wt(t,void 0,i?Ft(i,i.minZoom):void 0)),i},cc.Gb=function(t){return t},cc.dc=function(t,e,i){return t=S(Ft(this.ya(i),t)),[Math.round(t[0]*e),Math.round(t[1]*e)]},l(lc,Tt),l(hc,Xu),a("ol.Map",zs),zs.prototype.addInteraction=zs.prototype.ag,zs.prototype.addLayer=zs.prototype.bg,zs.prototype.addControl=zs.prototype.$f,zs.prototype.addOverlay=zs.prototype.cg,zs.prototype.dispatchEvent=zs.prototype.l,zs.prototype.forEachFeatureAtPixel=zs.prototype.Wc,zs.prototype.forEachLayerAtPixel=zs.prototype.Ih,zs.prototype.getLayers=zs.prototype.Jh,zs.prototype.getSize=zs.prototype.wb,zs.prototype.getTarget=zs.prototype.cd,zs.prototype.getOverlays=zs.prototype.Eg,zs.prototype.getView=zs.prototype.Z,zs.prototype.removeControl=zs.prototype.Yi,zs.prototype.removeInteraction=zs.prototype.Zi,zs.prototype.removeOverlay=zs.prototype.$i,zs.prototype.on=zs.prototype.v,zs.prototype.once=zs.prototype.once,zs.prototype.un=zs.prototype.ka,a("ol.proj.Projection",it),it.prototype.getExtent=it.prototype.I,it.prototype.getMetersPerUnit=it.prototype.l,a("ol.proj.transform",wt),a("ol.View",an),an.prototype.calculateExtent=an.prototype.Sd,an.prototype.getCenter=an.prototype.ja,an.prototype.getProjection=an.prototype.Kh,an.prototype.getResolution=an.prototype.za,an.prototype.getResolutions=an.prototype.Lh,an.prototype.getZoom=an.prototype.ge,an.prototype.getZoomForResolution=an.prototype.he,an.prototype.on=an.prototype.v,an.prototype.setCenter=an.prototype.Oa,an.prototype.setZoom=an.prototype.qf,an.prototype.fit=an.prototype.tg,an.prototype.un=an.prototype.ka,a("ol.extent.getBottomLeft",q),a("ol.extent.getTopLeft",U),a("ol.tilegrid.TileGrid",Tt),a("ol.tilegrid.WMTS",lc),a("ol.tilegrid.createXYZ",Bt),a("ol.style.Style",fs),fs.prototype.getGeometry=fs.prototype.O,fs.prototype.getText=fs.prototype.ra,fs.prototype.setZIndex=fs.prototype.pf,a("ol.style.Circle",hs),a("ol.style.Fill",us),us.prototype.setColor=us.prototype.l,a("ol.style.Icon",xl),a("ol.style.Image",ss),a("ol.style.Stroke",cs),cs.prototype.setColor=cs.prototype.ri,cs.prototype.setLineCap=cs.prototype.ej,cs.prototype.setLineDash=cs.prototype.setLineDash,cs.prototype.setWidth=cs.prototype.fj,a("ol.style.Text",Ss),Ss.prototype.setFont=Ss.prototype.dj,Ss.prototype.getText=Ss.prototype.ra,Ss.prototype.setFill=Ss.prototype.jf,Ss.prototype.setStroke=Ss.prototype.mf,Ss.prototype.setText=Ss.prototype.nf,a("ol.Attribution",Vt),a("ol.Geolocation",bs),bs.prototype.on=bs.prototype.v,bs.prototype.un=bs.prototype.ka,bs.prototype.getAccuracy=bs.prototype.wg,bs.prototype.getHeading=bs.prototype.Ag,bs.prototype.getPosition=bs.prototype.Dh,bs.prototype.getSpeed=bs.prototype.Fg,bs.prototype.getTracking=bs.prototype.fe,bs.prototype.setTracking=bs.prototype.xc,a("ol.Overlay",Gs),Gs.prototype.setPosition=Gs.prototype.qe,a("ol.control.Attribution",_n),_n.prototype.setCollapsed=_n.prototype.X,_n.prototype.setCollapsible=_n.prototype.ea,a("ol.control.MousePosition",Hs),Hs.prototype.setCoordinateFormat=Hs.prototype.hf,a("ol.control.Zoom",zn),a("ol.control.Rotate",qn),a("ol.control.ScaleLine",$s),a("ol.control.defaults",Gn),a("ol.interaction.Draw",Wh),a("ol.interaction.Draw.createBox",function(){return function(t,e){return t=C(t),(e=e||new on(null)).Y([[q(t),[t[2],t[1]],[t[2],t[3]],U(t),q(t)]]),e}}),Wh.prototype.on=Wh.prototype.v,Wh.prototype.setActive=Wh.prototype.gb,Wh.prototype.un=Wh.prototype.ka,a("ol.interaction.Modify",ou),ou.prototype.on=ou.prototype.v,ou.prototype.setActive=ou.prototype.gb,ou.prototype.un=ou.prototype.ka,a("ol.interaction.Select",wu),wu.prototype.on=wu.prototype.v,wu.prototype.setActive=wu.prototype.gb,wu.prototype.un=wu.prototype.ka,wu.prototype.getFeatures=wu.prototype.J,a("ol.interaction.Snap",Cu),Cu.prototype.setActive=Cu.prototype.gb,a("ol.source.Source",qs),qs.prototype.on=qs.prototype.v,wu.prototype.on=wu.prototype.v,qs.prototype.getProperties=qs.prototype.Fa,qs.prototype.once=qs.prototype.once,a("ol.source.OSM",Qu),a("ol.source.Tile",qu),a("ol.source.TileArcGISRest",tc),a("ol.source.TileWMS",ec),ec.prototype.getGetFeatureInfoUrl=ec.prototype.fa,a("ol.source.Vector",Dh),Dh.prototype.addFeature=Dh.prototype.Va,Dh.prototype.addFeatures=Dh.prototype.Bb,Dh.prototype.getFeatureById=Dh.prototype.yg,Dh.prototype.getFeatures=Dh.prototype.mc,Dh.prototype.getFormat=Dh.prototype.pi,Dh.prototype.removeFeature=Dh.prototype.Qa,a("ol.source.VectorTile",ac),Dh.prototype.setProperties=Dh.prototype.na,a("ol.source.WMTS",hc),a("ol.source.XYZ",Yu),a("ol.source.Cluster",Zu),Zu.prototype.setDistance=Zu.prototype.X,Ln.prototype.getSource=Ln.prototype.$,Ln.prototype.getProperties=Ln.prototype.Fa,Ln.prototype.setSource=Ln.prototype.lf,Ln.prototype.un=Ln.prototype.ka,xn.prototype.getVisible=xn.prototype.Hb,xn.prototype.setVisible=xn.prototype.oi,xn.prototype.on=xn.prototype.v,xn.prototype.once=xn.prototype.once,a("ol.layer.Tile",Tu),a("ol.layer.Vector",Oh),Oh.prototype.set=Oh.prototype.set,Oh.prototype.setStyle=Oh.prototype.K,a("ol.layer.VectorTile",Iu),a("ol.layer.Group",Sn),a("ol.Feature",ms),ms.prototype.getGeometry=ms.prototype.O,ms.prototype.getGeometryName=ms.prototype.zg,ms.prototype.getId=ms.prototype.Bh,ms.prototype.getProperties=ms.prototype.Fa,ms.prototype.getStyle=ms.prototype.Ch,ms.prototype.setId=ms.prototype.lb,ms.prototype.setProperties=ms.prototype.na,ms.prototype.setStyle=ms.prototype.pe,ms.prototype.setGeometry=ms.prototype.Ba,ms.prototype.setGeometryName=ms.prototype.Za,ms.prototype.on=ms.prototype.v,ms.prototype.unset=ms.prototype.nj,Hl.prototype.get=Hl.prototype.get,Hl.prototype.getGeometry=Hl.prototype.O,Hl.prototype.getType=Hl.prototype.D,a("ol.Collection",fe),fe.prototype.getArray=fe.prototype.xg,fe.prototype.getLength=fe.prototype.fb,fe.prototype.item=fe.prototype.oe,fe.prototype.on=fe.prototype.v,a("ol.coordinate.createStringXY",function(t){return function(e){return e?"{x}, {y}".replace("{x}",e[0].toFixed(t)).replace("{y}",e[1].toFixed(t)):""}}),a("ol.format.EsriJSON",La),La.prototype.readFeatures=La.prototype.Ta,La.prototype.writeFeature=La.prototype.Cc,a("ol.format.GeoJSON",gl),gl.prototype.readFeature=gl.prototype.Mb,gl.prototype.readFeatures=gl.prototype.Ta,gl.prototype.writeFeatureObject=gl.prototype.zb,gl.prototype.writeFeaturesObject=gl.prototype.Cd,a("ol.format.MVT",Yl),a("ol.format.TopoJSON",th),th.prototype.readFeatures=th.prototype.Ta,a("ol.format.WKT",hh),hh.prototype.readFeature=hh.prototype.Mb,hh.prototype.readFeatures=hh.prototype.Ta,a("ol.format.WFS",rh),rh.prototype.readFeatures=rh.prototype.Ta,rh.prototype.readTransactionResponse=rh.prototype.b,rh.prototype.writeTransaction=rh.prototype.g,a("ol.geom.Circle",Nh),Nh.prototype.clone=Nh.prototype.clone,Nh.prototype.getCenter=Nh.prototype.ja,Nh.prototype.getRadius=Nh.prototype.Jb,Nh.prototype.getType=Nh.prototype.D,a("ol.geom.Geometry",Ti),Ti.prototype.getExtent=Ti.prototype.I,Ti.prototype.on=Ti.prototype.v,Ti.prototype.transform=Ti.prototype.xb,a("ol.geom.GeometryCollection",cl),cl.prototype.getType=cl.prototype.D,a("ol.geom.LineString",Ms),Ms.prototype.appendCoordinate=Ms.prototype.dg,Ms.prototype.clone=Ms.prototype.clone,Ms.prototype.getCoordinateAt=Ms.prototype.$d,Ms.prototype.getCoordinateAtM=Ms.prototype.He,Ms.prototype.getCoordinates=Ms.prototype.G,Ms.prototype.getFirstCoordinate=Ms.prototype.Fb,Ms.prototype.getLastCoordinate=Ms.prototype.Dg,Ms.prototype.getLength=Ms.prototype.Vh,Ms.prototype.getType=Ms.prototype.D,Ms.prototype.setCoordinates=Ms.prototype.Y,Yi.prototype.getCoordinates=Yi.prototype.G,a("ol.geom.MultiLineString",Ca),Ca.prototype.clone=Ca.prototype.clone,Ms.prototype.getCoordinateAtM=Ms.prototype.He,Ca.prototype.getCoordinates=Ca.prototype.G,Ca.prototype.getFirstCoordinate=Ca.prototype.Fb,Ca.prototype.getLineStrings=Ca.prototype.tb,Ca.prototype.getType=Ca.prototype.D,Ca.prototype.setCoordinates=Ca.prototype.Y,a("ol.geom.MultiPoint",ja),ja.prototype.clone=ja.prototype.clone,ja.prototype.getCoordinates=ja.prototype.G,ja.prototype.getFirstCoordinate=ja.prototype.Fb,ja.prototype.getType=ja.prototype.D,ja.prototype.setCoordinates=ja.prototype.Y,a("ol.geom.MultiPolygon",Ea),Ea.prototype.clone=Ea.prototype.clone,Ea.prototype.getCoordinates=Ea.prototype.G,Ea.prototype.getArea=Ea.prototype.Wh,Ea.prototype.getFirstCoordinate=Ea.prototype.Fb,Ea.prototype.getInteriorPoints=Ea.prototype.Cg,Ea.prototype.getType=Ea.prototype.D,Ea.prototype.setCoordinates=Ea.prototype.Y,a("ol.geom.Point",$i),$i.prototype.clone=$i.prototype.clone,$i.prototype.getCoordinates=$i.prototype.G,$i.prototype.getType=$i.prototype.D,$i.prototype.setCoordinates=$i.prototype.Y,a("ol.geom.Polygon",on),on.prototype.clone=on.prototype.clone,on.prototype.getArea=on.prototype.Xh,on.prototype.getCoordinates=on.prototype.G,on.prototype.getFirstCoordinate=on.prototype.Fb,on.prototype.getInteriorPoint=on.prototype.Bg,on.prototype.getLinearRing=on.prototype.ee,on.prototype.getType=on.prototype.D,on.prototype.setCoordinates=on.prototype.Y,a("ol.Sphere",$),a("ol.Sphere.getArea",tt),a("ol.Sphere.getLength",J),a("ol.loadingstrategy.all",_h),a("ol.loadingstrategy.bbox",function(t){return[t]}),a("ol.loadingstrategy.tile",function(t){return function(e,i){i=zt(t,i),e=_t(t,e,i);var n=[];for((i=[i,0,0])[1]=e.T;i[1]<=e.W;++i[1])for(i[2]=e.R;i[2]<=e.U;++i[2])n.push(Rt(t,i));return n}}),fc.ol})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],30:[function(t,e,i){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&void 0===e){var o=t.split(",");this.x=parseFloat(o[0],10),this.y=parseFloat(o[1],10),this.z=parseFloat(o[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var o=t("mgrs");n.fromMGRS=function(t){return new n(o.toPoint(t))},n.prototype.toMGRS=function(t){return o.forward([this.x,this.y],t)},e.exports=n},{mgrs:28}],31:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var i=o(t);if("object"==typeof i){var s=a(i),l=n.projections.get(s.projName);l?(r(this,s),r(this,l),this.init(),e(null,this)):e(t)}else e(t)}var o=t("./parseCode"),r=t("./extend"),s=t("./projections"),a=t("./deriveConstants");n.projections=s,n.projections.start(),e.exports=n},{"./deriveConstants":62,"./extend":63,"./parseCode":67,"./projections":69}],32:[function(t,e,i){e.exports=function(t,e,i){var n,o,r,s=i.x,a=i.y,l=i.z||0;for(r=0;r<3;r++)if(!e||2!==r||void 0!==i.z)switch(0===r?(n=s,o="x"):1===r?(n=a,o="y"):(n=l,o="z"),t.axis[r]){case"e":i[o]=n;break;case"w":i[o]=-n;break;case"n":i[o]=n;break;case"s":i[o]=-n;break;case"u":void 0!==i[o]&&(i.z=n);break;case"d":void 0!==i[o]&&(i.z=-n);break;default:return null}return i}},{}],33:[function(t,e,i){var n=Math.PI/2,o=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-o(t)*Math.PI}},{"./sign":50}],34:[function(t,e,i){var n=2*Math.PI,o=t("./sign");e.exports=function(t){return Math.abs(t)<=3.14159265359?t:t-o(t)*n}},{"./sign":50}],35:[function(t,e,i){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],36:[function(t,e,i){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],37:[function(t,e,i){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],38:[function(t,e,i){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],39:[function(t,e,i){e.exports=function(t){return t*t*t*(35/3072)}},{}],40:[function(t,e,i){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],41:[function(t,e,i){e.exports=function(t,e,i,n,o){var r,s;r=t/e;for(var a=0;a<15;a++)if(s=(t-(e*r-i*Math.sin(2*r)+n*Math.sin(4*r)-o*Math.sin(6*r)))/(e-2*i*Math.cos(2*r)+4*n*Math.cos(4*r)-6*o*Math.cos(6*r)),r+=s,Math.abs(s)<=1e-10)return r;return NaN}},{}],42:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return e<0?-1*n:n;for(var o,r,s,a,l=Math.asin(.5*e),h=0;h<30;h++)if(r=Math.sin(l),s=Math.cos(l),a=t*r,o=Math.pow(1-a*a,2)/(2*s)*(e/(1-t*t)-r/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),l+=o,Math.abs(o)<=1e-10)return l;return NaN}},{}],43:[function(t,e,i){e.exports=function(t,e,i,n,o){return t*o-e*Math.sin(2*o)+i*Math.sin(4*o)-n*Math.sin(6*o)}},{}],44:[function(t,e,i){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],45:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){for(var i,o,r=.5*t,s=n-2*Math.atan(e),a=0;a<=15;a++)if(i=t*Math.sin(s),o=n-2*Math.atan(e*Math.pow((1-i)/(1+i),r))-s,s+=o,Math.abs(o)<=1e-10)return s;return-9999}},{}],46:[function(t,e,i){var n=.01068115234375;e.exports=function(t){var e=[];e[0]=1-t*(.25+t*(.046875+t*(.01953125+t*n))),e[1]=t*(.75-t*(.046875+t*(.01953125+t*n)));var i=t*t;return e[2]=i*(.46875-t*(.013020833333333334+.007120768229166667*t)),i*=t,e[3]=i*(.3645833333333333-.005696614583333333*t),e[4]=i*t*.3076171875,e}},{}],47:[function(t,e,i){var n=t("./pj_mlfn");e.exports=function(t,e,i){for(var o=1/(1-e),r=t,s=20;s;--s){var a=Math.sin(r),l=1-e*a*a;if(l=(n(r,a,Math.cos(r),i)-t)*(l*Math.sqrt(l))*o,r-=l,Math.abs(l)<1e-10)return r}return r}},{"./pj_mlfn":48}],48:[function(t,e,i){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],49:[function(t,e,i){e.exports=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}},{}],50:[function(t,e,i){e.exports=function(t){return t<0?-1:1}},{}],51:[function(t,e,i){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],52:[function(t,e,i){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],53:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e,i){var o=t*i,r=.5*t;return o=Math.pow((1-o)/(1+o),r),Math.tan(.5*(n-e))/o}},{}],54:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],55:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],56:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],57:[function(t,e,i){i.ft={to_meter:.3048},i["us-ft"]={to_meter:1200/3937}},{}],58:[function(t,e,i){function n(t,e,i){var n;return Array.isArray(i)?(n=s(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):s(t,e,i)}function o(t){return t instanceof r?t:t.oProj?t.oProj:r(t)}var r=t("./Proj"),s=t("./transform"),a=r("WGS84");e.exports=function(t,e,i){t=o(t);var r,s=!1;return void 0===e?(e=t,t=a,s=!0):(void 0!==e.x||Array.isArray(e))&&(i=e,e=t,t=a,s=!0),e=o(e),i?n(t,e,i):(r={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},s&&(r.oProj=e),r)}},{"./Proj":31,"./transform":95}],59:[function(t,e,i){var n=Math.PI/2,o=function(t){if(!(this instanceof o))return new o(t);if(this.datum_type=4,t){if(t.datumCode&&"none"===t.datumCode&&(this.datum_type=5),t.datum_params){for(var e=0;e<t.datum_params.length;e++)t.datum_params[e]=parseFloat(t.datum_params[e]);0===t.datum_params[0]&&0===t.datum_params[1]&&0===t.datum_params[2]||(this.datum_type=1),t.datum_params.length>3&&(0===t.datum_params[3]&&0===t.datum_params[4]&&0===t.datum_params[5]&&0===t.datum_params[6]||(this.datum_type=2,t.datum_params[3]*=484813681109536e-20,t.datum_params[4]*=484813681109536e-20,t.datum_params[5]*=484813681109536e-20,t.datum_params[6]=t.datum_params[6]/1e6+1))}this.datum_type=t.grids?3:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_params=t.datum_params,3===this.datum_type&&(this.grids=t.grids)}};o.prototype={compare_datums:function(t){return this.datum_type===t.datum_type&&(!(this.a!==t.a||Math.abs(this.es-t.es)>5e-11)&&(1===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:2===this.datum_type?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:3!==this.datum_type&&3!==t.datum_type||this.nadgrids===t.nadgrids))},geodetic_to_geocentric:function(t){var e,i,o,r,s,a,l,h=t.x,u=t.y,c=t.z?t.z:0;if(u<-n&&u>-1.001*n)u=-n;else if(u>n&&u<1.001*n)u=n;else if(u<-n||u>n)return null;return h>Math.PI&&(h-=2*Math.PI),s=Math.sin(u),l=Math.cos(u),a=s*s,r=this.a/Math.sqrt(1-this.es*a),e=(r+c)*l*Math.cos(h),i=(r+c)*l*Math.sin(h),o=(r*(1-this.es)+c)*s,t.x=e,t.y=i,t.z=o,0},geocentric_to_geodetic:function(t){var e,i,o,r,s,a,l,h,u,c,f,p,d,g,v,m,y=t.x,b=t.y,w=t.z?t.z:0;if(!1,e=Math.sqrt(y*y+b*b),i=Math.sqrt(y*y+b*b+w*w),e/this.a<1e-12){if(!0,g=0,i/this.a<1e-12)return v=n,void(m=-this.b)}else g=Math.atan2(b,y);o=w/i,r=e/i,s=1/Math.sqrt(1-this.es*(2-this.es)*r*r),h=r*(1-this.es)*s,u=o*s,d=0;do{d++,m=e*h+w*u-(l=this.a/Math.sqrt(1-this.es*u*u))*(1-this.es*u*u),a=this.es*l/(l+m),p=(f=o*(s=1/Math.sqrt(1-a*(2-a)*r*r)))*h-(c=r*(1-a)*s)*u,h=c,u=f}while(p*p>1e-24&&d<30);return v=Math.atan(f/Math.abs(c)),t.x=g,t.y=v,t.z=m,t},geocentric_to_geodetic_noniter:function(t){var e,i,o,r,s,a,l,h,u,c,f,p,d,g,v,m,y,b=t.x,w=t.y,x=t.z?t.z:0;if(b=parseFloat(b),w=parseFloat(w),x=parseFloat(x),y=!1,0!==b)e=Math.atan2(w,b);else if(w>0)e=n;else if(w<0)e=-n;else if(y=!0,e=0,x>0)i=n;else{if(!(x<0))return i=n,void(o=-this.b);i=-n}return s=b*b+w*w,r=Math.sqrt(s),a=1.0026*x,h=Math.sqrt(a*a+s),c=a/h,p=r/h,f=c*c*c,l=x+this.b*this.ep2*f,m=r-this.a*this.es*p*p*p,u=Math.sqrt(l*l+m*m),d=l/u,g=m/u,v=this.a/Math.sqrt(1-this.es*d*d),o=g>=.3826834323650898?r/g-v:g<=-.3826834323650898?r/-g-v:x/d+v*(this.es-1),!1===y&&(i=Math.atan(d/g)),t.x=e,t.y=i,t.z=o,t},geocentric_to_wgs84:function(t){if(1===this.datum_type)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],o=this.datum_params[3],r=this.datum_params[4],s=this.datum_params[5],a=this.datum_params[6],l=a*(t.x-s*t.y+r*t.z)+e,h=a*(s*t.x+t.y-o*t.z)+i,u=a*(-r*t.x+o*t.y+t.z)+n;t.x=l,t.y=h,t.z=u}},geocentric_from_wgs84:function(t){if(1===this.datum_type)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(2===this.datum_type){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],o=this.datum_params[3],r=this.datum_params[4],s=this.datum_params[5],a=this.datum_params[6],l=(t.x-e)/a,h=(t.y-i)/a,u=(t.z-n)/a;t.x=l+s*h-r*u,t.y=-s*l+h+o*u,t.z=r*l-o*h+u}}},e.exports=o},{}],60:[function(t,e,i){var n=1,o=2;e.exports=function(t,e,i){function r(t){return t===n||t===o}var s,a,l;if(t.compare_datums(e))return i;if(5===t.datum_type||5===e.datum_type)return i;var h=t.a,u=t.es,c=e.a,f=e.es,p=t.datum_type;if(3===p)if(0===this.apply_gridshift(t,0,i))t.a=6378137,t.es=.006694379990141316;else{if(!t.datum_params)return t.a=h,t.es=t.es,i;for(s=1,a=0,l=t.datum_params.length;a<l;a++)s*=t.datum_params[a];if(0===s)return t.a=h,t.es=t.es,i;p=t.datum_params.length>3?o:n}return 3===e.datum_type&&(e.a=6378137,e.es=.006694379990141316),(t.es!==e.es||t.a!==e.a||r(p)||r(e.datum_type))&&(t.geodetic_to_geocentric(i),r(t.datum_type)&&t.geocentric_to_wgs84(i),r(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),3===e.datum_type&&this.apply_gridshift(e,1,i),t.a=h,t.es=u,e.a=c,e.es=f,i}},{}],61:[function(t,e,i){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?n[t]=r(arguments[1]):n[t]=s(arguments[1]):n[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var o=t("./global"),r=t("./projString"),s=t("./wkt");o(n),e.exports=n},{"./global":64,"./projString":68,"./wkt":96}],62:[function(t,e,i){var n=t("./constants/Datum"),o=t("./constants/Ellipsoid"),r=t("./extend"),s=t("./datum");e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=o[t.ellps]?o[t.ellps]:o.WGS84;r(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<1e-10)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(.16666666666666666+t.es*(.04722222222222222+.022156084656084655*t.es)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=s(t)),t}},{"./constants/Datum":54,"./constants/Ellipsoid":55,"./datum":59,"./extend":63}],63:[function(t,e,i){e.exports=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)void 0!==(i=e[n])&&(t[n]=i);return t}},{}],64:[function(t,e,i){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],65:[function(t,e,i){var n=[t("./projections/tmerc"),t("./projections/utm"),t("./projections/sterea"),t("./projections/stere"),t("./projections/somerc"),t("./projections/omerc"),t("./projections/lcc"),t("./projections/krovak"),t("./projections/cass"),t("./projections/laea"),t("./projections/aea"),t("./projections/gnom"),t("./projections/cea"),t("./projections/eqc"),t("./projections/poly"),t("./projections/nzmg"),t("./projections/mill"),t("./projections/sinu"),t("./projections/moll"),t("./projections/eqdc"),t("./projections/vandg"),t("./projections/aeqd")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./projections/aea":70,"./projections/aeqd":71,"./projections/cass":72,"./projections/cea":73,"./projections/eqc":74,"./projections/eqdc":75,"./projections/gnom":77,"./projections/krovak":78,"./projections/laea":79,"./projections/lcc":80,"./projections/mill":83,"./projections/moll":84,"./projections/nzmg":85,"./projections/omerc":86,"./projections/poly":87,"./projections/sinu":88,"./projections/somerc":89,"./projections/stere":90,"./projections/sterea":91,"./projections/tmerc":92,"./projections/utm":93,"./projections/vandg":94}],66:[function(t,e,i){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":97,"./Point":30,"./Proj":31,"./common/toPoint":52,"./core":58,"./defs":61,"./includedProjections":65,"./transform":95,mgrs:28}],67:[function(t,e,i){function n(t){return"string"==typeof t}function o(t){return t in a}function r(t){return["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"].reduce(function(e,i){return e+1+t.indexOf(i)},0)}function s(t){return"+"===t[0]}var a=t("./defs"),l=t("./wkt"),h=t("./projString");e.exports=function(t){return n(t)?o(t)?a[t]:r(t)?l(t):s(t)?h(t):void 0:t}},{"./defs":61,"./projString":68,"./wkt":96}],68:[function(t,e,i){var n=.017453292519943295,o=t("./constants/PrimeMeridian"),r=t("./constants/units");e.exports=function(t){var e={},i={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),i[e[0].toLowerCase()]=e[1]});var s,a,l,h={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,r[t]&&(e.to_meter=r[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(o[t]?o[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){3===t.length&&-1!=="ewnsud".indexOf(t.substr(0,1))&&-1!=="ewnsud".indexOf(t.substr(1,1))&&-1!=="ewnsud".indexOf(t.substr(2,1))&&(e.axis=t)}};for(s in i)a=i[s],s in h?"function"==typeof(l=h[s])?l(a):e[l]=a:e[s]=a;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":56,"./constants/units":57}],69:[function(t,e,i){function n(t,e){var i=s.length;return t.names?(s[i]=t,t.names.forEach(function(t){r[t.toLowerCase()]=i}),this):(console.log(e),!0)}var o=[t("./projections/merc"),t("./projections/longlat")],r={},s=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return void 0!==r[e]&&s[r[e]]?s[r[e]]:void 0},i.start=function(){o.forEach(n)}},{"./projections/longlat":81,"./projections/merc":82}],70:[function(t,e,i){var n=t("../common/msfnz"),o=t("../common/qsfnz"),r=t("../common/adjust_lon"),s=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=n(this.e3,this.sin_po,this.cos_po),this.qs1=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=n(this.e3,this.sin_po,this.cos_po),this.qs2=o(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=o(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>1e-10?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=o(this.e3,this.sin_phi,this.cos_phi),s=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*r(e-this.long0),l=s*Math.sin(a)+this.x0,h=this.rh-s*Math.cos(a)+this.y0;return t.x=l,t.y=h,t},i.inverse=function(t){var e,i,n,o,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),o=0,0!==e&&(o=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,i)),s=r(o/this.ns0+this.long0),t.x=s,t.y=a,t},i.phi1z=function(t,e){var i,n,o,r,a,l=s(.5*e);if(t<1e-10)return l;for(var h=t*t,u=1;u<=25;u++)if(i=Math.sin(l),n=Math.cos(l),o=t*i,r=1-o*o,a=.5*r*r/n*(e/(1-h)-i/r+.5/t*Math.log((1-o)/(1+o))),l+=a,Math.abs(a)<=1e-7)return l;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":34,"../common/asinz":35,"../common/msfnz":44,"../common/qsfnz":49}],71:[function(t,e,i){var n=t("../common/adjust_lon"),o=Math.PI/2,r=t("../common/mlfn"),s=t("../common/e0fn"),a=t("../common/e1fn"),l=t("../common/e2fn"),h=t("../common/e3fn"),u=t("../common/gN"),c=t("../common/asinz"),f=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,c,f,p,d,g,v,m,y,b,w,x,M,S,C,P,j,k,E,T,I,A,N=t.x,L=t.y,O=Math.sin(t.y),_=Math.cos(t.y),D=n(N-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=1e-10?(t.x=this.x0+this.a*(o-L)*Math.sin(D),t.y=this.y0-this.a*(o-L)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=1e-10?(t.x=this.x0+this.a*(o+L)*Math.sin(D),t.y=this.y0+this.a*(o+L)*Math.cos(D),t):(j=this.sin_p12*O+this.cos_p12*_*Math.cos(D),C=Math.acos(j),P=C/Math.sin(C),t.x=this.x0+this.a*P*_*Math.sin(D),t.y=this.y0+this.a*P*(this.cos_p12*O-this.sin_p12*_*Math.cos(D)),t):(e=s(this.es),i=a(this.es),c=l(this.es),f=h(this.es),Math.abs(this.sin_p12-1)<=1e-10?(p=this.a*r(e,i,c,f,o),d=this.a*r(e,i,c,f,L),t.x=this.x0+(p-d)*Math.sin(D),t.y=this.y0-(p-d)*Math.cos(D),t):Math.abs(this.sin_p12+1)<=1e-10?(p=this.a*r(e,i,c,f,o),d=this.a*r(e,i,c,f,L),t.x=this.x0+(p+d)*Math.sin(D),t.y=this.y0+(p+d)*Math.cos(D),t):(g=O/_,v=u(this.a,this.e,this.sin_p12),m=u(this.a,this.e,O),y=Math.atan((1-this.es)*g+this.es*v*this.sin_p12/(m*_)),b=Math.atan2(Math.sin(D),this.cos_p12*Math.tan(y)-this.sin_p12*Math.cos(D)),k=0===b?Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.abs(Math.abs(b)-Math.PI)<=1e-10?-Math.asin(this.cos_p12*Math.sin(y)-this.sin_p12*Math.cos(y)):Math.asin(Math.sin(D)*Math.cos(y)/Math.sin(b)),w=this.e*this.sin_p12/Math.sqrt(1-this.es),x=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es),M=w*x,S=x*x,E=k*k,T=E*k,I=T*k,A=I*k,C=v*k*(1-E*S*(1-S)/6+T/8*M*(1-2*S)+I/120*(S*(4-7*S)-3*w*w*(1-7*S))-A/48*M),t.x=this.x0+C*Math.sin(b),t.y=this.y0+C*Math.cos(b),t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,p,d,g,v,m,y,b,w,x,M,S,C,P,j,k,E,T,I,A,N,L;if(this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*o*this.a)return;return i=e/this.a,p=Math.sin(i),d=Math.cos(i),g=this.long0,Math.abs(e)<=1e-10?v=this.lat0:(v=c(d*this.sin_p12+t.y*p*this.cos_p12/e),m=Math.abs(this.lat0)-o,g=n(Math.abs(m)<=1e-10?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*p,e*this.cos_p12*d-t.y*this.sin_p12*p))),t.x=g,t.y=v,t}return y=s(this.es),b=a(this.es),w=l(this.es),x=h(this.es),Math.abs(this.sin_p12-1)<=1e-10?(M=this.a*r(y,b,w,x,o),e=Math.sqrt(t.x*t.x+t.y*t.y),S=M-e,v=f(S/this.a,y,b,w,x),g=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=v,t):Math.abs(this.sin_p12+1)<=1e-10?(M=this.a*r(y,b,w,x,o),e=Math.sqrt(t.x*t.x+t.y*t.y),S=e-M,v=f(S/this.a,y,b,w,x),g=n(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),j=Math.atan2(t.x,t.y),C=u(this.a,this.e,this.sin_p12),k=Math.cos(j),E=this.e*this.cos_p12*k,T=-E*E/(1-this.es),I=3*this.es*(1-T)*this.sin_p12*this.cos_p12*k/(1-this.es),A=e/C,N=A-T*(1+T)*Math.pow(A,3)/6-I*(1+3*T)*Math.pow(A,4)/24,L=1-T*N*N/2-A*N*N*N/6,P=Math.asin(this.sin_p12*Math.cos(N)+this.cos_p12*Math.sin(N)*k),g=n(this.long0+Math.asin(Math.sin(j)*Math.sin(N)/Math.cos(P))),v=Math.atan((1-this.es*L*this.sin_p12/Math.sin(P))*Math.tan(P)/(1-this.es)),t.x=g,t.y=v,t)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":34,"../common/asinz":35,"../common/e0fn":36,"../common/e1fn":37,"../common/e2fn":38,"../common/e3fn":39,"../common/gN":40,"../common/imlfn":41,"../common/mlfn":43}],72:[function(t,e,i){var n=t("../common/mlfn"),o=t("../common/e0fn"),r=t("../common/e1fn"),s=t("../common/e2fn"),a=t("../common/e3fn"),l=t("../common/gN"),h=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn"),f=Math.PI/2;i.init=function(){this.sphere||(this.e0=o(this.es),this.e1=r(this.es),this.e2=s(this.es),this.e3=a(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,o=t.x,r=t.y;if(o=h(o-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(o)),i=this.a*(Math.atan2(Math.tan(r),Math.cos(o))-this.lat0);else{var s=Math.sin(r),a=Math.cos(r),u=l(this.a,this.e,s),c=Math.tan(r)*Math.tan(r),f=o*Math.cos(r),p=f*f,d=this.es*a*a/(1-this.es);e=u*f*(1-p*c*(1/6-(8-c+8*d)*p/120)),i=this.a*n(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+u*s/a*p*(.5+(5-c+6*d)*p/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,o=t.y/this.a;if(this.sphere){var r=o+this.lat0;e=Math.asin(Math.sin(r)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(r))}else{var s=this.ml0/this.a+o,a=c(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-f)<=1e-10)return t.x=this.long0,t.y=f,o<0&&(t.y*=-1),t;var p=l(this.a,this.e,Math.sin(a)),d=p*p*p/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(a),2),v=n*this.a/p,m=v*v;e=a-p*Math.tan(a)/d*v*v*(.5-(1+3*g)*v*v/24),i=v*(1-m*(g/3+(1+3*g)*g*m/15))/Math.cos(a)}return t.x=h(i+this.long0),t.y=u(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":33,"../common/adjust_lon":34,"../common/e0fn":36,"../common/e1fn":37,"../common/e2fn":38,"../common/e3fn":39,"../common/gN":40,"../common/imlfn":41,"../common/mlfn":43}],73:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/qsfnz"),r=t("../common/msfnz"),s=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,r=t.x,s=t.y,a=n(r-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(s)/Math.cos(this.lat_ts);else{var l=o(this.e,Math.sin(s));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*l*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=s(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},i.names=["cea"]},{"../common/adjust_lon":34,"../common/iqsfnz":42,"../common/msfnz":44,"../common/qsfnz":49}],74:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,r=n(e-this.long0),s=o(i-this.lat0);return t.x=this.x0+this.a*r*this.rc,t.y=this.y0+this.a*s,t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=o(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":33,"../common/adjust_lon":34}],75:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/msfnz"),l=t("../common/mlfn"),h=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn");i.init=function(){Math.abs(this.lat1+this.lat2)<1e-10||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=s(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=a(this.e,this.sinphi,this.cosphi),this.ml1=l(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<1e-10?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=a(this.e,this.sinphi,this.cosphi),this.ml2=l(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=l(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var o=l(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-o)}var r=this.ns*h(i-this.long0),s=this.x0+e*Math.sin(r),a=this.y0+this.rh-e*Math.cos(r);return t.x=s,t.y=a,t},i.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,o;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var r=0;if(0!==i&&(r=Math.atan2(e*t.x,e*t.y)),this.sphere)return o=h(this.long0+r/this.ns),n=u(this.g-i/this.a),t.x=o,t.y=n,t;var s=this.g-i/this.a;return n=c(s,this.e0,this.e1,this.e2,this.e3),o=h(this.long0+r/this.ns),t.x=o,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":33,"../common/adjust_lon":34,"../common/e0fn":36,"../common/e1fn":37,"../common/e2fn":38,"../common/e3fn":39,"../common/imlfn":41,"../common/mlfn":43,"../common/msfnz":44}],76:[function(t,e,i){var n=Math.PI/4,o=t("../common/srat"),r=Math.PI/2;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*o(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*o(this.e*Math.sin(i),this.ratexp))-r,t.x=this.C*e,t},i.inverse=function(t){for(var e=t.x/this.C,i=t.y,s=Math.pow(Math.tan(.5*i+n)/this.K,1/this.C),a=20;a>0&&(i=2*Math.atan(s*o(this.e*Math.sin(t.y),-.5*this.e))-r,!(Math.abs(i-t.y)<1e-14));--a)t.y=i;return a?(t.x=e,t.y=i,t):null},i.names=["gauss"]},{"../common/srat":51}],77:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,o,r,s,a,l,h=t.x,u=t.y;return o=n(h-this.long0),e=Math.sin(u),i=Math.cos(u),r=Math.cos(o),s=this.sin_p14*e+this.cos_p14*i*r,1,s>0||Math.abs(s)<=1e-10?(a=this.x0+1*this.a*i*Math.sin(o)/s,l=this.y0+1*this.a*(this.cos_p14*e-this.sin_p14*i*r)/s):(a=this.x0+this.infinity_dist*i*Math.sin(o),l=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*r)),t.x=a,t.y=l,t},i.inverse=function(t){var e,i,r,s,a,l;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(s=Math.atan2(e,this.rc),i=Math.sin(s),r=Math.cos(s),l=o(r*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i),a=n(this.long0+a)):(l=this.phic0,a=0),t.x=a,t.y=l,t},i.names=["gnom"]},{"../common/adjust_lon":34,"../common/asinz":35}],78:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,o,r,s,a,l,h=t.x,u=t.y,c=n(h-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),o=-c*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(o)),s=Math.asin(Math.cos(i)*Math.sin(o)/Math.cos(r)),a=this.n*s,l=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=l*Math.cos(a)/1,t.x=l*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,o,r,s,a,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),r=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x)/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/r,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(o)),i=Math.asin(Math.cos(n)*Math.sin(o)/Math.cos(e)),t.x=this.long0-i/this.alfa,s=e,a=0;var h=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(s))/(1-this.e*Math.sin(s)),this.e/2))-this.s45),Math.abs(s-t.y)<1e-10&&(a=1),s=t.y,h+=1}while(0===a&&h<15);return h>=15?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":34}],79:[function(t,e,i){var n=Math.PI/2,o=Math.PI/4,r=t("../common/qsfnz"),s=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-n)<1e-10?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<1e-10?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=r(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=r(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,a,l,h,u,c,f,p,d,g=t.x,v=t.y;if(g=s(g-this.long0),this.sphere){if(h=Math.sin(v),d=Math.cos(v),a=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((i=this.mode===this.EQUIT?1+d*a:1+this.sinph0*h+this.cosph0*d*a)<=1e-10)return null;e=(i=Math.sqrt(2/i))*d*Math.sin(g),i*=this.mode===this.EQUIT?h:this.cosph0*h-this.sinph0*d*a}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(a=-a),Math.abs(v+this.phi0)<1e-10)return null;i=o-.5*v,e=(i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)))*Math.sin(g),i*=a}}else{switch(c=0,f=0,p=0,a=Math.cos(g),l=Math.sin(g),h=Math.sin(v),u=r(this.e,h),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(c=u/this.qp,f=Math.sqrt(1-c*c)),this.mode){case this.OBLIQ:p=1+this.sinb1*c+this.cosb1*f*a;break;case this.EQUIT:p=1+f*a;break;case this.N_POLE:p=n+v,u=this.qp-u;break;case this.S_POLE:p=v-n,u=this.qp+u}if(Math.abs(p)<1e-10)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:p=Math.sqrt(2/p),i=this.mode===this.OBLIQ?this.ymf*p*(this.cosb1*c-this.sinb1*f*a):(p=Math.sqrt(2/(1+f*a)))*c*this.ymf,e=this.xmf*p*f*l;break;case this.N_POLE:case this.S_POLE:u>=0?(e=(p=Math.sqrt(u))*l,i=a*(this.mode===this.S_POLE?p:-p)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o,r,a,l,h,u=t.x/this.a,c=t.y/this.a;if(this.sphere){var f,p=0,d=0;if(f=Math.sqrt(u*u+c*c),(i=.5*f)>1)return null;switch(i=2*Math.asin(i),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(d=Math.sin(i),p=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(f)<=1e-10?0:Math.asin(c*d/f),u*=d,c=p*f;break;case this.OBLIQ:i=Math.abs(f)<=1e-10?this.phi0:Math.asin(p*this.sinph0+c*d*this.cosph0/f),u*=d*this.cosph0,c=(p-Math.sin(i)*this.sinph0)*f;break;case this.N_POLE:c=-c,i=n-i;break;case this.S_POLE:i-=n}e=0!==c||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,c):0}else{if(h=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,c*=this.dd,(l=Math.sqrt(u*u+c*c))<1e-10)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*l/this.rq),o=Math.cos(r),u*=r=Math.sin(r),this.mode===this.OBLIQ?(h=o*this.sinb1+c*r*this.cosb1/l,a=this.qp*h,c=l*this.cosb1*o-c*this.sinb1*r):(h=c*r/l,a=this.qp*h,c=l*o)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(c=-c),!(a=u*u+c*c))return t.x=0,t.y=this.phi0,t;h=1-a/this.qp,this.mode===this.S_POLE&&(h=-h)}e=Math.atan2(u,c),i=this.authlat(Math.asin(h),this.apa)}return t.x=s(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":34,"../common/qsfnz":49}],80:[function(t,e,i){var n=t("../common/msfnz"),o=t("../common/tsfnz"),r=Math.PI/2,s=t("../common/sign"),a=t("../common/adjust_lon"),l=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<1e-10)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),r=n(this.e,e,i),s=o(this.e,this.lat1,e),a=Math.sin(this.lat2),l=Math.cos(this.lat2),h=n(this.e,a,l),u=o(this.e,this.lat2,a),c=o(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>1e-10?this.ns=Math.log(r/h)/Math.log(s/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=r/(this.ns*Math.pow(s,this.ns)),this.rh=this.a*this.f0*Math.pow(c,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=1e-10&&(i=s(i)*(r-2e-10));var n,l,h=Math.abs(Math.abs(i)-r);if(h>1e-10)n=o(this.e,i,Math.sin(i)),l=this.a*this.f0*Math.pow(n,this.ns);else{if((h=i*this.ns)<=0)return null;l=0}var u=this.ns*a(e-this.long0);return t.x=this.k0*(l*Math.sin(u))+this.x0,t.y=this.k0*(this.rh-l*Math.cos(u))+this.y0,t},i.inverse=function(t){var e,i,n,o,s,h=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(h*h+u*u),i=1):(e=-Math.sqrt(h*h+u*u),i=-1);var c=0;if(0!==e&&(c=Math.atan2(i*h,i*u)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),-9999===(o=l(this.e,n)))return null}else o=-r;return s=a(c/this.ns+this.long0),t.x=s,t.y=o,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":34,"../common/msfnz":44,"../common/phi2z":45,"../common/sign":50,"../common/tsfnz":53}],81:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],82:[function(t,e,i){var n=t("../common/msfnz"),o=Math.PI/2,r=57.29577951308232,s=t("../common/adjust_lon"),a=Math.PI/4,l=t("../common/tsfnz"),h=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},i.forward=function(t){var e=t.x,i=t.y;if(i*r>90&&i*r<-90&&e*r>180&&e*r<-180)return null;var n,h;if(Math.abs(Math.abs(i)-o)<=1e-10)return null;if(this.sphere)n=this.x0+this.a*this.k0*s(e-this.long0),h=this.y0+this.a*this.k0*Math.log(Math.tan(a+.5*i));else{var u=Math.sin(i),c=l(this.e,i,u);n=this.x0+this.a*this.k0*s(e-this.long0),h=this.y0-this.a*this.k0*Math.log(c)}return t.x=n,t.y=h,t},i.inverse=function(t){var e,i,n=t.x-this.x0,r=t.y-this.y0;if(this.sphere)i=o-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var a=Math.exp(-r/(this.a*this.k0));if(-9999===(i=h(this.e,a)))return null}return e=s(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":34,"../common/msfnz":44,"../common/phi2z":45,"../common/tsfnz":53}],83:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,o=n(e-this.long0),r=this.x0+this.a*o,s=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=r,t.y=s,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":34}],84:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,o=n(e-this.long0),r=i,s=Math.PI*Math.sin(i),a=0;!0;a++){var l=-(r+Math.sin(r)-s)/(1+Math.cos(r));if(r+=l,Math.abs(l)<1e-10)break}r/=2,Math.PI/2-Math.abs(i)<1e-10&&(o=0);var h=.900316316158*this.a*o*Math.cos(r)+this.x0,u=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=h,t.y=u,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var o=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));o<-Math.PI&&(o=-Math.PI),o>Math.PI&&(o=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var r=Math.asin(i);return t.x=o,t.y=r,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":34}],85:[function(t,e,i){i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,n=(t.y-this.lat0)/484813681109536e-20*1e-5,o=i-this.long0,r=1,s=0;for(e=1;e<=10;e++)r*=n,s+=this.A[e]*r;var a,l=s,h=o,u=1,c=0,f=0,p=0;for(e=1;e<=6;e++)a=c*l+u*h,u=u*l-c*h,c=a,f=f+this.B_re[e]*u-this.B_im[e]*c,p=p+this.B_im[e]*u+this.B_re[e]*c;return t.x=p*this.a+this.x0,t.y=f*this.a+this.y0,t},i.inverse=function(t){var e,i,n=t.x,o=t.y,r=n-this.x0,s=(o-this.y0)/this.a,a=r/this.a,l=1,h=0,u=0,c=0;for(e=1;e<=6;e++)i=h*s+l*a,l=l*s-h*a,h=i,u=u+this.C_re[e]*l-this.C_im[e]*h,c=c+this.C_im[e]*l+this.C_re[e]*h;for(var f=0;f<this.iterations;f++){var p,d=u,g=c,v=s,m=a;for(e=2;e<=6;e++)p=g*u+d*c,d=d*u-g*c,g=p,v+=(e-1)*(this.B_re[e]*d-this.B_im[e]*g),m+=(e-1)*(this.B_im[e]*d+this.B_re[e]*g);d=1,g=0;var y=this.B_re[1],b=this.B_im[1];for(e=2;e<=6;e++)p=g*u+d*c,d=d*u-g*c,g=p,y+=e*(this.B_re[e]*d-this.B_im[e]*g),b+=e*(this.B_im[e]*d+this.B_re[e]*g);var w=y*y+b*b;u=(v*y+m*b)/w,c=(m*y-v*b)/w}var x=u,M=c,S=1,C=0;for(e=1;e<=9;e++)S*=x,C+=this.D[e]*S;var P=this.lat0+484813681109536e-20*C*1e5,j=this.long0+M;return t.x=j,t.y=P,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],86:[function(t,e,i){var n=t("../common/tsfnz"),o=t("../common/adjust_lon"),r=t("../common/phi2z"),s=Math.PI/2,a=Math.PI/4;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var r=n(this.e,this.lat0,t),s=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));s*s<1&&(s=1);var a,l;if(isNaN(this.longc)){var h=n(this.e,this.lat1,Math.sin(this.lat1)),u=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(s+Math.sqrt(s*s-1))*Math.pow(r,this.bl):this.el=(s-Math.sqrt(s*s-1))*Math.pow(r,this.bl);var c=Math.pow(h,this.bl),f=Math.pow(u,this.bl);l=.5*((a=this.el/c)-1/a);var p=(this.el*this.el-f*c)/(this.el*this.el+f*c),d=(f-c)/(f+c),g=o(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*g)/d)/this.bl,this.long0=o(this.long0);var v=o(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*v)/l),this.alpha=Math.asin(s*Math.sin(this.gamma0))}else a=this.lat0>=0?s+Math.sqrt(s*s-1):s-Math.sqrt(s*s-1),this.el=a*Math.pow(r,this.bl),l=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/s),this.long0=this.longc-Math.asin(l*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(s*s-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,r,l=t.x,h=t.y,u=o(l-this.long0);if(Math.abs(Math.abs(h)-s)<=1e-10)r=h>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(a+r*this.gamma0*.5)),e=-1*r*s*this.al/this.bl;else{var c=n(this.e,h,Math.sin(h)),f=this.el/Math.pow(c,this.bl),p=.5*(f-1/f),d=.5*(f+1/f),g=Math.sin(this.bl*u),v=(p*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/d;i=Math.abs(Math.abs(v)-1)<=1e-10?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*u))<=1e-10?this.al*this.bl*u:this.al*Math.atan2(p*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*u))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),a=.5*(n-1/n),l=.5*(n+1/n),h=Math.sin(this.bl*e/this.al),u=(h*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/l,c=Math.pow(this.el/Math.sqrt((1+u)/(1-u)),1/this.bl);return Math.abs(u-1)<1e-10?(t.x=this.long0,t.y=s):Math.abs(u+1)<1e-10?(t.x=this.long0,t.y=-1*s):(t.y=r(this.e,c),t.x=o(this.long0-Math.atan2(a*Math.cos(this.gamma0)-h*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":34,"../common/phi2z":45,"../common/tsfnz":53}],87:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/adjust_lon"),l=t("../common/adjust_lat"),h=t("../common/mlfn"),u=t("../common/gN");i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=s(this.es),this.ml0=this.a*h(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,o=t.x,r=t.y,s=a(o-this.long0);if(n=s*Math.sin(r),this.sphere)Math.abs(r)<=1e-10?(e=this.a*s,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(r),i=this.a*(l(r-this.lat0)+(1-Math.cos(n))/Math.tan(r)));else if(Math.abs(r)<=1e-10)e=this.a*s,i=-1*this.ml0;else{var c=u(this.a,this.e,Math.sin(r))/Math.tan(r);e=c*Math.sin(n),i=this.a*h(this.e0,this.e1,this.e2,this.e3,r)-this.ml0+c*(1-Math.cos(n))}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,o,r,s,l,u,c;if(n=t.x-this.x0,o=t.y-this.y0,this.sphere)if(Math.abs(o+this.a*this.lat0)<=1e-10)e=a(n/this.a+this.long0),i=0;else{s=this.lat0+o/this.a,l=n*n/this.a/this.a+s*s,u=s;var f;for(r=20;r;--r)if(f=Math.tan(u),c=-1*(s*(u*f+1)-u-.5*(u*u+l)*f)/((u-s)/f-1),u+=c,Math.abs(c)<=1e-10){i=u;break}e=a(this.long0+Math.asin(n*Math.tan(u)/this.a)/Math.sin(i))}else if(Math.abs(o+this.ml0)<=1e-10)i=0,e=a(this.long0+n/this.a);else{s=(this.ml0+o)/this.a,l=n*n/this.a/this.a+s*s,u=s;var p,d,g,v,m;for(r=20;r;--r)if(m=this.e*Math.sin(u),p=Math.sqrt(1-m*m)*Math.tan(u),d=this.a*h(this.e0,this.e1,this.e2,this.e3,u),g=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),v=d/this.a,c=(s*(p*v+1)-v-.5*p*(v*v+l))/(this.es*Math.sin(2*u)*(v*v+l-2*s*v)/(4*p)+(s-v)*(p*g-2/Math.sin(2*u))-g),u-=c,Math.abs(c)<=1e-10){i=u;break}p=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=a(this.long0+Math.asin(n*p/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":33,"../common/adjust_lon":34,"../common/e0fn":36,"../common/e1fn":37,"../common/e2fn":38,"../common/e3fn":39,"../common/gN":40,"../common/mlfn":43}],88:[function(t,e,i){var n=t("../common/adjust_lon"),o=t("../common/adjust_lat"),r=t("../common/pj_enfn"),s=t("../common/pj_mlfn"),a=t("../common/pj_inv_mlfn"),l=Math.PI/2,h=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=r(this.es)},i.forward=function(t){var e,i,o=t.x,r=t.y;if(o=n(o-this.long0),this.sphere){if(this.m)for(var a=this.n*Math.sin(r),l=20;l;--l){var h=(this.m*r+Math.sin(r)-a)/(this.m+Math.cos(r));if(r-=h,Math.abs(h)<1e-10)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*o*(this.m+Math.cos(r)),i=this.a*this.C_y*r}else{var u=Math.sin(r),c=Math.cos(r);i=this.a*s(r,u,c,this.en),e=this.a*o*c/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,r,s;return t.x-=this.x0,r=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,r/=this.C_x*(this.m+Math.cos(e)),this.m?e=h((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=h(Math.sin(e)/this.n)),r=n(r+this.long0),e=o(e)):(e=a(t.y/this.a,this.es,this.en),(s=Math.abs(e))<l?(s=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(e)),r=n(i)):s-1e-10<l&&(r=this.long0)),t.x=r,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":33,"../common/adjust_lon":34,"../common/asinz":35,"../common/pj_enfn":46,"../common/pj_inv_mlfn":47,"../common/pj_mlfn":48}],89:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=1/this.rf,o=2*n-Math.pow(n,2),r=this.e=Math.sqrt(o);this.R=this.k0*i*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var s=Math.log(Math.tan(Math.PI/4+this.b0/2)),a=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+r*e)/(1-r*e));this.K=s-this.alpha*a+this.alpha*r/2*l},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,o=2*(Math.atan(Math.exp(n))-Math.PI/4),r=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(r)/(Math.sin(this.b0)*Math.tan(o)+Math.cos(this.b0)*Math.cos(r))),a=Math.asin(Math.cos(this.b0)*Math.sin(o)-Math.sin(this.b0)*Math.cos(o)*Math.cos(r));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,o=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),r=Math.asin(Math.cos(this.b0)*Math.sin(o)+Math.sin(this.b0)*Math.cos(o)*Math.cos(n)),s=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(o))),a=this.lambda0+s/this.alpha,l=0,h=r,u=-1e3,c=0;Math.abs(h-u)>1e-7;){if(++c>20)return;l=1/this.alpha*(Math.log(Math.tan(Math.PI/4+r/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(h))/2)),u=h,h=2*Math.atan(Math.exp(l))-Math.PI/2}return t.x=a,t.y=h,t},i.names=["somerc"]},{}],90:[function(t,e,i){var n=Math.PI/2,o=t("../common/sign"),r=t("../common/msfnz"),s=t("../common/tsfnz"),a=t("../common/phi2z"),l=t("../common/adjust_lon");i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*(1+o(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=1e-10&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=1e-10&&(this.k0=.5*this.cons*r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/s(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=r(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,o,r,a,h,u=t.x,c=t.y,f=Math.sin(c),p=Math.cos(c),d=l(u-this.long0);return Math.abs(Math.abs(u-this.long0)-Math.PI)<=1e-10&&Math.abs(c+this.lat0)<=1e-10?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*f+this.coslat0*p*Math.cos(d)),t.x=this.a*e*p*Math.sin(d)+this.x0,t.y=this.a*e*(this.coslat0*f-this.sinlat0*p*Math.cos(d))+this.y0,t):(i=2*Math.atan(this.ssfn_(c,f,this.e))-n,r=Math.cos(i),o=Math.sin(i),Math.abs(this.coslat0)<=1e-10?(a=s(this.e,c*this.con,this.con*f),h=2*this.a*this.k0*a/this.cons,t.x=this.x0+h*Math.sin(u-this.long0),t.y=this.y0-this.con*h*Math.cos(u-this.long0),t):(Math.abs(this.sinlat0)<1e-10?(e=2*this.a*this.k0/(1+r*Math.cos(d)),t.y=e*o):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*o+this.cosX0*r*Math.cos(d))),t.y=e*(this.cosX0*o-this.sinX0*r*Math.cos(d))+this.y0),t.x=e*r*Math.sin(d)+this.x0,t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,o,r,s,h=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var u=2*Math.atan(h/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,h<=1e-10?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(u)*this.sinlat0+t.y*Math.sin(u)*this.coslat0/h),e=l(Math.abs(this.coslat0)<1e-10?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(u),h*this.coslat0*Math.cos(u)-t.y*this.sinlat0*Math.sin(u))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=1e-10){if(h<=1e-10)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,o=h*this.cons/(2*this.a*this.k0),i=this.con*a(this.e,o),e=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(h*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,h<=1e-10?s=this.X0:(s=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/h),e=l(this.long0+Math.atan2(t.x*Math.sin(r),h*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),i=-1*a(this.e,Math.tan(.5*(n+s)));return t.x=e,t.y=i,t},i.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":34,"../common/msfnz":44,"../common/phi2z":45,"../common/sign":50,"../common/tsfnz":53}],91:[function(t,e,i){var n=t("./gauss"),o=t("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,r,s;return t.x=o(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),r=Math.cos(t.x),s=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*r),t.x=s*i*Math.sin(t.x),t.y=s*(this.cosc0*e-this.sinc0*i*r),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,r,s,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var l=2*Math.atan2(a,this.R2);e=Math.sin(l),i=Math.cos(l),s=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a),r=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else s=this.phic0,r=0;return t.x=r,t.y=s,n.inverse.apply(this,[t]),t.x=o(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":34,"./gauss":76}],92:[function(t,e,i){var n=t("../common/e0fn"),o=t("../common/e1fn"),r=t("../common/e2fn"),s=t("../common/e3fn"),a=t("../common/mlfn"),l=t("../common/adjust_lon"),h=Math.PI/2,u=t("../common/sign"),c=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=o(this.es),this.e2=r(this.es),this.e3=s(this.es),this.ml0=this.a*a(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,o=t.x,r=t.y,s=l(o-this.long0),h=Math.sin(r),u=Math.cos(r);if(this.sphere){var c=u*Math.sin(s);if(Math.abs(Math.abs(c)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+c)/(1-c)),e=Math.acos(u*Math.cos(s)/Math.sqrt(1-c*c)),r<0&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var f=u*s,p=Math.pow(f,2),d=this.ep2*Math.pow(u,2),g=Math.tan(r),v=Math.pow(g,2);e=1-this.es*Math.pow(h,2);var m=this.a/Math.sqrt(e),y=this.a*a(this.e0,this.e1,this.e2,this.e3,r);i=this.k0*m*f*(1+p/6*(1-v+d+p/20*(5-18*v+Math.pow(v,2)+72*d-58*this.ep2)))+this.x0,n=this.k0*(y-this.ml0+m*g*(p*(.5+p/24*(5-v+9*d+4*Math.pow(d,2)+p/30*(61-58*v+Math.pow(v,2)+600*d-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,o,r,s;if(this.sphere){var a=Math.exp(t.x/(this.a*this.k0)),f=.5*(a-1/a),p=this.lat0+t.y/(this.a*this.k0),d=Math.cos(p);e=Math.sqrt((1-d*d)/(1+f*f)),r=c(e),p<0&&(r=-r),s=0===f&&0===d?this.long0:l(Math.atan2(f,d)+this.long0)}else{var g=t.x-this.x0,v=t.y-this.y0;for(i=e=(this.ml0+v/this.k0)/this.a,o=0;!0&&(n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=1e-10));o++)if(o>=6)return 95;if(Math.abs(i)<h){var m=Math.sin(i),y=Math.cos(i),b=Math.tan(i),w=this.ep2*Math.pow(y,2),x=Math.pow(w,2),M=Math.pow(b,2),S=Math.pow(M,2);e=1-this.es*Math.pow(m,2);var C=this.a/Math.sqrt(e),P=C*(1-this.es)/e,j=g/(C*this.k0),k=Math.pow(j,2);r=i-C*b*k/P*(.5-k/24*(5+3*M+10*w-4*x-9*this.ep2-k/30*(61+90*M+298*w+45*S-252*this.ep2-3*x))),s=l(this.long0+j*(1-k/6*(1+2*M+w-k/20*(5-2*w+28*M-3*x+8*this.ep2+24*S)))/y)}else r=h*u(v),s=this.long0}return t.x=s,t.y=r,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":34,"../common/asinz":35,"../common/e0fn":36,"../common/e1fn":37,"../common/e2fn":38,"../common/e3fn":39,"../common/mlfn":43,"../common/sign":50}],93:[function(t,e,i){var n=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=.017453292519943295*(6*Math.abs(this.zone)-183),this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,n.init.apply(this),this.forward=n.forward,this.inverse=n.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":92}],94:[function(t,e,i){var n=t("../common/adjust_lon"),o=Math.PI/2,r=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,s=t.x,a=t.y,l=n(s-this.long0);Math.abs(a)<=1e-10&&(e=this.x0+this.R*l,i=this.y0);var h=r(2*Math.abs(a/Math.PI));(Math.abs(l)<=1e-10||Math.abs(Math.abs(a)-o)<=1e-10)&&(e=this.x0,i=a>=0?this.y0+Math.PI*this.R*Math.tan(.5*h):this.y0+Math.PI*this.R*-Math.tan(.5*h));var u=.5*Math.abs(Math.PI/l-l/Math.PI),c=u*u,f=Math.sin(h),p=Math.cos(h),d=p/(f+p-1),g=d*d,v=d*(2/f-1),m=v*v,y=Math.PI*this.R*(u*(d-m)+Math.sqrt(c*(d-m)*(d-m)-(m+c)*(g-m)))/(m+c);l<0&&(y=-y),e=this.x0+y;var b=c+d;return y=Math.PI*this.R*(v*b-u*Math.sqrt((m+c)*(c+1)-b*b))/(m+c),i=a>=0?this.y0+y:this.y0-y,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,o,r,s,a,l,h,u,c,f,p,d;return t.x-=this.x0,t.y-=this.y0,f=Math.PI*this.R,o=t.x/f,r=t.y/f,s=o*o+r*r,a=-Math.abs(r)*(1+s),l=a-2*r*r+o*o,h=-2*a+1+2*r*r+s*s,d=r*r/h+(2*l*l*l/h/h/h-9*a*l/h/h)/27,u=(a-l*l/3/h)/h,c=2*Math.sqrt(-u/3),f=3*d/u/c,Math.abs(f)>1&&(f=f>=0?1:-1),p=Math.acos(f)/3,i=t.y>=0?(-c*Math.cos(p+Math.PI/3)-l/3/h)*Math.PI:-(-c*Math.cos(p+Math.PI/3)-l/3/h)*Math.PI,e=Math.abs(o)<1e-10?this.long0:n(this.long0+Math.PI*(s-1+Math.sqrt(1+2*(o*o-r*r)+s*s))/2/o),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":34,"../common/asinz":35}],95:[function(t,e,i){var n=.017453292519943295,o=57.29577951308232,r=1,s=2,a=t("./datum_transform"),l=t("./adjust_axis"),h=t("./Proj"),u=t("./common/toPoint");e.exports=function t(e,i,c){function f(t,e){return(t.datum.datum_type===r||t.datum.datum_type===s)&&"WGS84"!==e.datumCode}var p;return Array.isArray(c)&&(c=u(c)),e.datum&&i.datum&&(f(e,i)||f(i,e))&&(t(e,p=new h("WGS84"),c),e=p),"enu"!==e.axis&&l(e,!1,c),"longlat"===e.projName?(c.x*=n,c.y*=n):(e.to_meter&&(c.x*=e.to_meter,c.y*=e.to_meter),e.inverse(c)),e.from_greenwich&&(c.x+=e.from_greenwich),c=a(e.datum,i.datum,c),i.from_greenwich&&(c.x-=i.from_greenwich),"longlat"===i.projName?(c.x*=o,c.y*=o):(i.forward(c),i.to_meter&&(c.x/=i.to_meter,c.y/=i.to_meter)),"enu"!==i.axis&&l(i,!0,c),c}},{"./Proj":31,"./adjust_axis":32,"./common/toPoint":52,"./datum_transform":60}],96:[function(t,e,i){function n(t,e,i){t[e]=i.map(function(t){var e={};return o(t,e),e}).reduce(function(t,e){return h(t,e)},{})}function o(t,e){var i;Array.isArray(t)?("PARAMETER"===(i=t.shift())&&(i=t.shift()),1===t.length?Array.isArray(t[0])?(e[i]={},o(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):o(t,e[i])):e[i]=!0):e[t]=!0}function r(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function s(t){return t*l}function a(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&(t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",s],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["alpha","azimuth",s],["srsCode","name"]].forEach(function(e){return r(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=s(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var l=.017453292519943295,h=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),r=i.shift();i.unshift(["name",r]),i.unshift(["type",n]),i.unshift("output");var s={};return o(i,s),a(s.output),h(e,s.output)}},{"./extend":63}],97:[function(t,e,i){e.exports={_args:[[{raw:"proj4@2.3.10",scope:null,escapedName:"proj4",name:"proj4",rawSpec:"2.3.10",spec:"2.3.10",type:"version"},"C:\\Utv\\origo"]],_from:"proj4@2.3.10",_id:"proj4@2.3.10",_inCache:!0,_location:"/proj4",_nodeVersion:"0.12.5",_npmUser:{name:"ahocevar",email:"andreas.hocevar@gmail.com"},_npmVersion:"2.11.2",_phantomChildren:{},_requested:{raw:"proj4@2.3.10",scope:null,escapedName:"proj4",name:"proj4",rawSpec:"2.3.10",spec:"2.3.10",type:"version"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz",_shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",_shrinkwrap:null,_spec:"proj4@2.3.10",_where:"C:\\Utv\\origo",author:"",bugs:{url:"https://github.com/proj4js/proj4js/issues"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],dependencies:{mgrs:"~0.0.2"},description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",devDependencies:{browserify:"~3.24.5",chai:"~1.8.1",curl:"git://github.com/cujojs/curl.git",grunt:"~0.4.2","grunt-browserify":"~1.3.0","grunt-cli":"~0.1.13","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0","grunt-contrib-uglify":"~0.3.2","grunt-mocha-phantomjs":"~0.4.0",istanbul:"~0.2.4",mocha:"~1.17.1",tin:"~0.4.0"},directories:{test:"test",doc:"docs"},dist:{shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz"},gitHead:"ac03d1439491dc313da80985193f702ca471b3d0",homepage:"https://github.com/proj4js/proj4js#readme",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},license:"MIT",main:"lib/index.js",maintainers:[{name:"cwmma",email:"calvin.metcalf@gmail.com"},{name:"ahocevar",email:"andreas.hocevar@gmail.com"}],name:"proj4",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},version:"2.3.10"}},{}],98:[function(t,e,i){(function(i){"use strict";function n(t){r.init(t.el,t.options),a(t.options.controls)}window.proj4=t("proj4"),i.jQuery=t("jquery");var o=t("jquery"),r=t("./src/viewer"),s=t("./src/maploader"),a=t("./src/controlinitialiser"),l={};l.map={},l.config=t("./conf/origoConfig"),l.controls=t("./conf/origoControls"),l.map.init=function(t,e){var i=e?o.extend(l.config,e):l.config,a=s(t,i);return a?(a.then(function(t){n(t)}),r):void 0},e.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./conf/origoConfig":1,"./conf/origoControls":2,"./src/controlinitialiser":102,"./src/maploader":147,"./src/viewer":205,jquery:26,proj4:66}],99:[function(t,e,i){"use strict";function n(){var t=u.createListButton({id:"o-about",iconCls:"o-icon-fa-info-circle",src:"#fa-info-circle",text:s});h("#o-menutools").append(t),r=h("#o-about-button")}function o(){r.on("click",function(t){c.createModal("#o-map",{title:a,content:l}),c.showModal(),t.preventDefault()})}var r,s,a,l,h=t("jquery"),u=t("./utils"),c=t("./modal");e.exports.init=function(t){var e=t||{};s=e.buttonText||"Om kartan",a=e.title||"Om kartan",l=e.content||"<p></p>",n(),o()}},{"./modal":151,"./utils":189,jquery:26}],100:[function(t,e,i){"use strict";var n,o=t("openlayers"),r=t("jquery"),s=t("./viewer");e.exports.init=function(t){function e(){var t=n.getSize(),e=t[0]<=a[0]||t[1]<=a[1];i.setCollapsible(e),i.setCollapsed(e)}var i,a=(t||{}).breakPoint||[768,500];n=s.getMap(),i=new o.control.Attribution({collapsible:!1}),n.addControl(i),r(window).on("resize",e),e()}},{"./viewer":205,jquery:26,openlayers:29}],101:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<svg width=\'32px\' height=\'32px\' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-ripple">\r\n  <rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect>\r\n  <g>\r\n    <animate attributeName="opacity" dur="2s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="1;1;0"></animate>\r\n      <circle cx="50" cy="50" r="40" stroke="#000000" fill="none" stroke-width="6" stroke-linecap="round">\r\n        <animate attributeName="r" dur="2s" repeatCount="indefinite" begin="0s" keyTimes="0;0.33;1" values="0;22;44"></animate>\r\n      </circle>\r\n  </g>\r\n      <g>\r\n        <animate attributeName="opacity" dur="2s" repeatCount="indefinite" begin="1s" keyTimes="0;0.33;1" values="1;1;0"></animate>\r\n        <circle cx="50" cy="50" r="40" stroke="#000" fill="none" stroke-width="6" stroke-linecap="round">\r\n          <animate attributeName="r" dur="2s" repeatCount="indefinite" begin="1s" keyTimes="0;0.33;1" values="0;22;44"></animate>\r\n        </circle>\r\n      </g>\r\n</svg>\r\n'},useData:!0})},{"hbsfy/runtime":25}],102:[function(t,e,i){"use strict";e.exports=function(t){var e,i;t.forEach(function(t){e=t.name,i=t.options||void 0,origo.controls.hasOwnProperty(e)&&(i?origo.controls[e].init(i):origo.controls[e].init())})}},{}],103:[function(t,e,i){"use strict";var n=t("jquery"),o=t("./utils");e.exports=function(t,e,i){function r(t){l.find("li").removeClass(u),t.addClass(u)}var s,a="data-"+i.dataAttribute||"default",l=n("#"+t),h=i.active||void 0,u="o-active",c=[],f="o-dropdown-li",p=o.createSvg({href:"#ic_check_24px",cls:"o-icon-24"});e.forEach(function(t,e){var i={cls:f},n=o.createElement("span",p,{cls:"o-icon"});i[a]=t.value,t.value===h&&(i.cls=u),c[e]=o.createElement("li",t.name+n,i)}),s=o.createElement("ul",c.join(""),{cls:"o-dropdown"}),l.append(s),l.on("click","ul",function(t){var e=n(t.target);l.trigger({type:"changeDropdown",dataAttribute:n(t.target).data(i.dataAttribute)}),r(e)})}},{"./utils":189,jquery:26}],104:[function(t,e,i){"use strict";function n(t){var e=t||{},i=l.getLayersByProperty("editable",!0,!0);i.length&&(e.editableLayers=i),e.autoSave=!e.hasOwnProperty("autoSave")||e.autoSave,e.autoForm=!!e.hasOwnProperty("autoForm")&&e.autoForm,e.currentLayer=e.defaultLayer||e.editableLayers[0],u.init(e),r(),s=a("#o-editor-button"),o()}function o(){s.on("click",function(t){a(".o-map").first().trigger({type:"enableInteraction",interaction:"editor"}),this.blur(),t.stopPropagation(),t.preventDefault()})}function r(){var t=h.createListButton({id:"o-editor",iconCls:"o-icon-fa-pencil",src:"#fa-pencil",text:"Redigera"});a("#o-menutools").append(t)}var s,a=t("jquery"),l=t("./viewer"),h=t("./utils"),u=t("./editor/editortoolbar");e.exports={init:n}},{"./editor/editortoolbar":112,"./utils":189,"./viewer":205,jquery:26}],105:[function(t,e,i){"use strict";function n(t,e){var i={};if("delete"===e.type){var n=t.map(function(t){return t.getId()});i.objectIds=n.join(",")}else{var o=t.map(function(t){return h.writeFeature(t,{featureProjection:e.projection})});i.features="["+o+"]"}return i.f="json",i}function o(t,e){function i(t){var e=t?t.status+" "+t.statusText:"";alert("Det intrffade ett fel nr ndringarna skulle sparas till servern...<br><br>"+e)}function o(t){alert(t.description+" ("+t.code+")")}var r=a.getProjection(),h=a.getLayer(e),c=h.get("id"),f=a.getMapSource()[h.get("sourceName")],p={update:function(n){var r=t.update,s=JSON.parse(n);s?s.updateResults.length>0&&s.updateResults.forEach(function(t,i){!0!==t.success?o(t.error):l.emitChangeFeature({feature:[r[i]],layerName:e,status:"finished",action:"update"})}):i()},insert:function(n){var r=t.insert,s=JSON.parse(n);s?s.addResults.length>0&&s.addResults.forEach(function(t,i){!0!==t.success?o(t.error):(l.emitChangeFeature({feature:[r[i]],layerName:e,status:"finished",action:"insert"}),r[i].set("objectId",t.objectId),r[i].setId(t.objectId))}):i()},delete:function(n){var r=t.delete,s=JSON.parse(n);s?s.deleteResults.length>0&&s.deleteResults.forEach(function(t,i){!0!==t.success?o(t.error):l.emitChangeFeature({feature:[r[i]],layerName:e,status:"finished",action:"delete"})}):i()}};Object.getOwnPropertyNames(t).forEach(function(e){if(t[e]){var o=f.url+"/"+c+"/"+u[e],a=n(t[e],{projection:r,type:e});s.ajax({type:"POST",url:o,data:a,success:p[e],error:i,context:this})}})}var r=t("openlayers"),s=t("jquery"),a=t("../viewer"),l=(t("./editsstore")(),t("./editDispatcher")),h=new r.format.EsriJSON,u={update:"updateFeatures",insert:"addFeatures",delete:"deleteFeatures"};e.exports=function(t,e){o(t,e)}},{"../viewer":205,"./editDispatcher":107,"./editsstore":113,jquery:26,openlayers:29}],106:[function(t,e,i){"use strict";var n=t("jquery"),o=t("../viewer"),r=t("../dropdown"),s=t("./editdispatcher"),a=t("../utils").createElement;e.exports=function(t,e){function i(t){r(t.target,t.selectOptions,{dataAttribute:"shape",active:t.activeTool}),n("#"+M).on("changeDropdown",function(t){t.stopImmediatePropagation(t),s.emitChangeEditorShapes(t.dataAttribute),h()})}function l(t){t?m.length>1&&(w=!0,n("#"+M+" ul").remove(),i(p()),n("#"+M).addClass(x),b.once("click",h)):(w=!1,n("#"+M).removeClass(x),b.un("click",h))}function h(){w&&l(!1)}function u(t){"draw"===t.tool&&!0===t.active?(f(y),l(!0)):"draw"===t.tool&&!1===t.active&&l(!1),t.stopPropagation()}function c(t){"edit"===t.tool&&t.currentLayer&&(y=t.currentLayer),t.stopPropagation()}function f(t){var e,i=o.getLayer(t);m=i.get("drawTools")||[],i.get("drawTools")?m=i.get("drawTools"):(e=i.get("geometryType"),m=v[e]?v[e].slice(0):[],m.unshift(e))}function p(){return{target:M,selectOptions:d(m),activeTool:m[0]}}function d(t){return t.map(function(t){var e={};return e.name=g[t],e.value=t,e})}var g={Polygon:"Polygon",Point:"Punkt",Line:"Linje",box:"Rektangel"},v=t||{},m=void 0,y=e,b=o.getMap(),w=!1,x="o-active",M="editor-toolbar-draw-dropdown";!function(){var t=a("div","",{id:M,cls:"o-popover"});n("#o-editor-draw").after(t),l(!1)}(),n(document).on("changeEdit",u),n(document).on("toggleEdit",c)}},{"../dropdown":103,"../utils":189,"../viewer":205,"./editdispatcher":108,jquery:26}],107:[function(t,e,i){"use strict";var n=t("jquery");e.exports={emitChangeEdit:function(t,e){n.event.trigger({type:"changeEdit",tool:t,active:e})},emitChangeFeature:function(t){n.event.trigger({type:"changeFeature",feature:t.feature,layerName:t.layerName,action:t.action,status:t.status||"pending"})},emitToggleEdit:function(t,e){var i=e||{},o={type:"toggleEdit",tool:t};n.extend(o,i),n.event.trigger(o)},emitEnableInteraction:function(){n.event.trigger({type:"enableInteraction",interaction:"editor"})},emitEditsChange:function(t){n.event.trigger({type:"editsChange",edits:t})},emitChangeEditorShapes:function(t){n.event.trigger({type:"editorShapes",shape:t})},emitChangeOfflineEdits:function(t,e){n.event.trigger({type:"changeOfflineEdits",edits:t,layerName:e})}}},{jquery:26}],108:[function(t,e,i){arguments[4][107][0].apply(i,arguments)},{dup:107,jquery:26}],109:[function(t,e,i){"use strict";e.exports=function(t){var e=t.elId.slice(1),i=t.cls||"";i+=e,i+=t.isVisible?"":" o-hidden";var n,o=t.title,r=t.isVisible?t.val:"",s=t.type,a=t.maxLength?' maxlength="'+t.maxLength+'" ':"",l=t.options||[];switch(s){case"text":n="<div><label>"+o+'</label><br><input type="text" id="'+e+'" value="'+r+'"'+a+"></div>";break;case"textarea":n="<div><label>"+o+'</label><br><textarea id="'+e+'"'+a+'rows="3">'+r+"</textarea></div>";break;case"checkbox":n='<div class="o-form-checkbox"><label>'+o+'</label><input type="checkbox" id="'+e+'" value="'+r+'"'+(r?" checked":"")+"></div>";break;case"dropdown":n='<div class="'+i+'"><label>'+o+"</label><br><select id="+e+">"+(r?'<option value="'+r+'" selected>'+r+"</option>":'<option value="" selected>Vlj</option>');for(var h=0;h<l.length;h++)n+='<option value="'+l[h]+'">'+l[h]+"</option>";n+="</select></div>";break;case"image":var u=r?"":"o-hidden";n='<div class="'+i+'"><label>'+o+"</label><br>",n+='<img src="'+r+'" id="image-upload" class="'+u+'"/>',n+='<input type="file" id="'+e+'" value="'+r+'" accept="image/*">',n+='<input id="o-delete-image-button" class="'+u+'" type="button" value="Ta bort bild">',n+="</div>"}return n}},{}],110:[function(t,e,i){"use strict";function n(t){$=t,o()}function o(t){var e,i=X[$];if(Y=i.getSource(),K=i.get("attributes"),Q=i.get("title")||"Information",e={source:Y,type:i.get("geometryType"),geometryName:i.get("geometryName")},t&&L.extend(e,W(t)),y(),tt=new N.interaction.Draw(e),et=!1,it=!1,ot=new N.interaction.Select({layers:[i]}),rt=new N.interaction.Modify({features:ot.getFeatures()}),Z.addInteraction(ot),Z.addInteraction(rt),Z.addInteraction(tt),rt.on("modifyend",c,this),tt.on("drawend",f,this),j(),nt=i.get("snap")){var n=D.getSelectionLayer().getSource(),o=i.get("snapLayers")?C(i.get("snapLayers")):[i.get("source")];o.push(n),st=P(o)}}function r(t){X[t].get("geometryType")||a(t)}function s(t){var e=t.get("name");X[e].set("geometryType",t.getSource().getFeatures()[0].getGeometry().getType()),e===$&&n(e)}function a(t){var e=O.getLayer(t);e.getSource().once("addfeature",function(t){s(e)})}function l(t){var e={};return J.reduce(function(e,i){var n=O.getLayer(i),o=!t.hasOwnProperty("snap")||t.snap,r=t.snapLayers||J;return n.set("snap",o),n.set("snapLayers",r),e[i]=n,e},e)}function h(){return void 0!==rt&&void 0!==ot}function u(){var t=ot.getFeatures();if(Y=X[$].getSource(),1===t.getLength()){var e=t.item(0);!0===confirm("r du sker p att du vill ta bort det hr objektet?")&&(E({feature:e,layerName:$,action:"delete"}),ot.getFeatures().clear(),Y.removeFeature(Y.getFeatureById(e.getId())))}}function c(t){E({feature:t.features.item(0),layerName:$,action:"update"})}function f(t){var e=t.feature,i=A(O.getLayer($).get("attributes"));e.setProperties(i),e.setId(q()),Y.addFeature(e),j(),et=!1,E({feature:e,layerName:$,action:"insert"}),z.emitChangeEdit("draw",!1),H&&k(e)}function p(){j(),et=!1,z.emitChangeEdit("draw",!1)}function d(t){o(t.shape),b()}function g(){_.closeModal(),z.emitChangeEdit("attribute",!1)}function v(t,e){L("#o-save-button").on("click",function(i){var n,o,r,s={};e.forEach(function(t){var e="."+t.elId.slice(1);!1===L(e).hasClass("o-hidden")&&("checkbox"===L(t.elId).attr("type")?s[t.name]=L(t.elId).is(":checked")?1:0:s[t.name]=L(t.elId).val()),"file"===L(t.elId).attr("type")&&(o=L(t.elId)[0],(r=o.files[0])?((n=new FileReader).onload=function(){U(r,function(e){B(n.result,t,e,function(e){s[t.name]=e,L(document).trigger("imageresized")})})},n.readAsDataURL(r)):s[t.name]=L(t.elId).attr("value"))}),n&&1==n.readyState?L(document).on("imageresized",function(){m(t,s)}):m(t,s),_.closeModal(),L("#o-save-button").blur(),i.preventDefault()})}function m(t,e){K.forEach(function(i){e.hasOwnProperty(i.name)&&t.set(i.name,e[i.name])}),E({feature:t,layerName:$,action:"update"})}function y(){h()&&(Z.removeInteraction(rt),Z.removeInteraction(ot),Z.removeInteraction(tt),st&&st.forEach(function(t){Z.removeInteraction(t)}),rt=void 0,ot=void 0,tt=void 0,st=void 0)}function b(){!0!==et&&h()&&(j("draw"),et=!0,z.emitChangeEdit("draw",!0))}function w(){return function(t){L(t.elDependencyId).on(t.eventType,function(e){var i="."+t.elId.slice(1);L(t.elDependencyId+" option:selected").text()===t.requiredVal?L(i).removeClass("o-hidden"):L(i).addClass("o-hidden")})}}function x(){return function(t){var e=new FileReader,i="."+t.elId.slice(1);L(t.elId).on("change",function(t){L(i+" img").removeClass("o-hidden"),L(i+" input[type=button]").removeClass("o-hidden"),this.files&&this.files[0]&&(e.onload=function(t){L(i+" img").attr("src",t.target.result)},e.readAsDataURL(this.files[0]))}),L(i+" input[type=button]").on("click",function(e){L(t.elId).attr("value",""),L(i+" img").addClass("o-hidden"),L(this).addClass("o-hidden")})}}function M(t){t.stopPropagation(),"draw"===t.tool?!1===et?(o(),b()):p():"attribute"===t.tool?!1===it?k():g():"delete"===t.tool?u():"edit"===t.tool?n(t.currentLayer):"cancel"===t.tool?y():"save"===t.tool&&T()}function S(t){"draw"!==t.tool&&t.active&&p()}function C(t){return t.map(function(t){return O.getLayer(t).getSource()})}function P(t){var e=[];return t.forEach(function(t){var i=new N.interaction.Snap({source:t});e.push(i),Z.addInteraction(i)}),e}function j(t){switch(t){case"modify":tt.setActive(!1),rt.setActive(!0),ot.setActive(!0);break;case"draw":tt.setActive(!0),rt.setActive(!0),ot.setActive(!1);break;default:tt.setActive(!1),et=!1,rt.setActive(!0),ot.setActive(!0)}}function k(t){var e,i;if(t?(i=new N.Collection).push(t):i=ot.getFeatures(),1===i.getLength()){z.emitChangeEdit("attribute",!0);var t=i.item(0);K.length>0&&(e=K.map(function(e){var i={};if(L.extend(i,e),i.val=t.get(i.name)||"",i.hasOwnProperty("constraint")){var n=i.constraint.split(":");3===n.length?(i.eventType=n[0],i.dependencyVal=t.get(n[1]),i.requiredVal=n[2],i.dependencyVal===i.requiredVal?i.isVisible=!0:i.isVisible=!1,i.addListener=w(),i.elId="#input-"+i.name+"-"+i.requiredVal,i.elDependencyId="#input-"+n[1]):alert("Villkor verkar inte vara rtt formulerat. Villkor formuleras enligt principen change:attribute:value")}else"image"===i.type?(i.isVisible=!0,i.elId="#input-"+i.name,i.addListener=x()):(i.isVisible=!0,i.elId="#input-"+i.name);return i.formElement=G(i),i}));var n="<form>"+e.reduce(function(t,e){return t+e.formElement},"")+'<br><div class="o-form-save"><input id="o-save-button" type="button" value="Ok"></input></div></form>';_.createModal("#o-map",{title:Q,content:n,static:!0}),_.showModal(),e.forEach(function(t){t.hasOwnProperty("addListener")&&t.addListener(t)}),v(t,e)}}function E(t){z.emitChangeFeature(t),V&&T()}function T(){var t=R.getEdits();Object.getOwnPropertyNames(t).forEach(function(e){var i={insert:null,delete:null,update:null};Object.getOwnPropertyNames(t[e]).forEach(function(n){var o;(o=I(n,O.getLayer(e),t[e][n])).length&&(i[n]=o)}),F(i,e)})}function I(t,e,i){var n=e.getSource(),o=[];return"delete"===t?i.forEach(function(t){var e=new N.Feature;e.setId(t),o.push(e)}):i.forEach(function(t){var e;n.getFeatureById(t)&&((e=n.getFeatureById(t)).unset("bbox"),o.push(e))}),o}function A(t){return t.filter(function(t){if(t.name&&t.defaultValue)return t}).reduce(function(t,e){return t[e.name]=e.defaultValue,t},{})}var N=t("openlayers"),L=t("jquery"),O=t("../viewer"),_=t("../modal"),D=t("../featureinfo"),R=t("./editsstore")(),q=t("../utils/generateuuid"),F=t("./transactionhandler"),z=t("./editdispatcher"),G=t("./editform"),B=t("../utils/imageresizer"),U=t("../utils/getimageorientation"),W=t("./shapes"),X={},V=void 0,H=void 0,Y=void 0,Z=void 0,$=void 0,J=void 0,K=void 0,Q=void 0,tt=void 0,et=void 0,it=void 0,nt=void 0,ot=void 0,rt=void 0,st=void 0,at=void 0;e.exports=function(t){Z=O.getMap(),$=t.currentLayer,J=t.editableLayers,at=t.drawTools||[],X=l(t),J.forEach(function(e){O.getLayer(e);r(e),e===$&&t.isActive&&(z.emitEnableInteraction(),n(e))}),V=t.autoSave,H=t.autoForm,L(document).on("toggleEdit",M),L(document).on("changeEdit",S),L(document).on("editorShapes",d)}},{"../featureinfo":118,"../modal":151,"../utils/generateuuid":191,"../utils/getimageorientation":192,"../utils/imageresizer":194,"../viewer":205,"./editdispatcher":108,"./editform":109,"./editsstore":113,"./shapes":115,"./transactionhandler":116,jquery:26,openlayers:29}],111:[function(t,e,i){"use strict";var n=t("jquery"),o=t("../viewer"),r=t("../dropdown"),s=t("./editdispatcher"),a=t("../utils").createElement;e.exports=function(t,e){function i(t){"layers"===t.tool&&h(u?!1:!0),t.stopPropagation()}function l(t){"layers"!==t.tool&&!0===t.active&&h(!1),t.stopPropagation()}function h(t){t?(u=!0,n("#"+f).addClass(c)):(u=!1,n("#"+f).removeClass(c)),s.emitChangeEdit("layers",u)}var u=!1,c="o-active",f="editor-toolbar-layers-dropdown",p={target:f,selectOptions:function(t){return t.map(function(t){var e={};return e.name=o.getLayer(t).get("title"),e.value=t,e})}(t),activeLayer:t[0]};!function(t){var e=a("div","",{id:t.target,cls:"o-popover"});n("#o-editor-layers").after(e),r(t.target,t.selectOptions,{dataAttribute:"layer",active:t.activeLayer})}(n.extend(p,e)),n("#"+f).on("changeDropdown",function(t){t.stopImmediatePropagation(t),h(!1),s.emitToggleEdit("edit",{currentLayer:t.dataAttribute})}),n(document).on("toggleEdit",i),n(document).on("changeEdit",l)}},{"../dropdown":103,"../utils":189,"../viewer":205,"./editdispatcher":108,jquery:26}],112:[function(t,e,i){"use strict";function n(t){y=t.currentLayer,b=t.editableLayers,p(t),o(),d(b,{activeLayer:y}),g(t.drawTools,y),u(document).on("enableInteraction",s),u(document).on("changeEdit",l),u(document).on("editsChange",h),r(),t.isActive&&a(!0)}function o(){u("#o-tools-bottom").append(c()),w=u("#o-editor-attribute"),x=u("#o-editor-draw"),M=u("#o-editor-delete"),S=u("#o-editor-layers"),C=u("#o-editor-save"),P=u("#o-editor-close")}function r(){x.on("click",function(t){return f.emitToggleEdit("draw"),x.blur(),t.preventDefault(),!1}),w.on("click",function(t){f.emitToggleEdit("attribute"),w.blur(),t.preventDefault()}),M.on("click",function(t){f.emitToggleEdit("delete"),M.blur(),t.preventDefault()}),S.on("click",function(t){f.emitToggleEdit("layers"),S.blur(),t.preventDefault()}),C.on("click",function(t){f.emitToggleEdit("save"),C.blur(),t.preventDefault()}),P.on("click",function(t){u(".o-map").first().trigger({type:"enableInteraction",interaction:"featureInfo"}),P.blur(),t.stopPropagation(),t.preventDefault()})}function s(t){t.stopPropagation(),"editor"===t.interaction?(a(!0),f.emitToggleEdit("edit",{currentLayer:y})):(a(!1),f.emitToggleEdit("cancel"))}function a(t){!0===t?u("#o-editor-toolbar").removeClass("o-hidden"):u("#o-editor-toolbar").addClass("o-hidden")}function l(t){"draw"===t.tool&&(!1===t.active?x.removeClass(v):x.addClass(v)),"layers"===t.tool?!1===t.active?S.removeClass(v):S.addClass(v):t.active&&S.removeClass(v)}function h(t){t.edits?C.hasClass(m)&&C.removeClass(m):C.addClass(m)}t("openlayers");var u=t("jquery"),c=(t("../viewer"),t("../templates/editortoolbar.template.handlebars")),f=t("./editdispatcher"),p=t("./edithandler"),d=t("./editorlayers"),g=t("./drawtools"),v="o-control-active",m="o-disabled",y=void 0,b=void 0,w=void 0,x=void 0,M=void 0,S=void 0,C=void 0,P=void 0;e.exports={init:n}},{"../templates/editortoolbar.template.handlebars":184,"../viewer":205,"./drawtools":106,"./editdispatcher":108,"./edithandler":110,"./editorlayers":111,jquery:26,openlayers:29}],113:[function(t,e,i){var n=t("jquery"),o=(t("openlayers"),t("../viewer"),t("./editdispatcher"));e.exports=function(){function t(t){"insert"===t.action?r("insert",t.feature,t.layerName):"update"===t.action?!1===i("insert",t.feature,t.layerName)&&r("update",t.feature,t.layerName):"delete"===t.action&&!1===s("insert",t.feature,t.layerName)&&(s("update",t.feature,t.layerName),r("delete",t.feature,t.layerName)),!0===l()?o.emitEditsChange(1):o.emitEditsChange(0)}function e(t){t.feature.length&&t.feature.forEach(function(e){s(t.action,e,t.layerName)}),!1===l()&&o.emitEditsChange(0)}function i(t,e,i){return!!(h.hasOwnProperty(i)&&h[i][t].indexOf(e.getId())>-1)}function r(t,e,n){!1===h.hasOwnProperty(n)&&(h[n]={update:[],insert:[],delete:[]}),!1===i(t,e,n)&&h[n][t].push(e.getId())}function s(t,e,i){var n=0;return!!(h.hasOwnProperty(i)&&(n=h[i][t].indexOf(e.getId()))>-1)&&(h[i][t].splice(n,1),a(i),!0)}function a(t){var e=!0;return h.hasOwnProperty(t)?(Object.getOwnPropertyNames(h[t]).forEach(function(i){if(h[t][i].length)return e=!1}),e?(delete h[t],e):void 0):e}function l(){return!!Object.getOwnPropertyNames(h).length}var h={};return n(document).on("changeFeature",function(i){"pending"===i.status?t(i):"finished"===i.status&&e(i)}),{getEdits:function(){return h},hasFeature:i}}},{"../viewer":205,"./editdispatcher":108,jquery:26,openlayers:29}],114:[function(t,e,i){var n=t("./editdispatcher");e.exports=function(t,e){n.emitChangeOfflineEdits(t,e)}},{"./editdispatcher":108}],115:[function(t,e,i){"use strict";var n=t("openlayers");e.exports=function(t){var e={box:{type:"Circle",geometryFunction:n.interaction.Draw.createBox()}};return e.hasOwnProperty(t)?e[t]:{}}},{openlayers:29}],116:[function(t,e,i){"use strict";var n=t("../viewer"),o={WFS:t("./wfstransaction"),AGS_FEATURE:t("./agstransaction"),OFFLINE:t("./indexeddb")};e.exports=function(t,e){var i=n.getLayer(e).get("type");o.hasOwnProperty(i)&&o[i](t,e)}},{"../viewer":205,"./agstransaction":105,"./indexeddb":114,"./wfstransaction":117}],117:[function(t,e,i){"use strict";function n(t,e){return u.writeTransaction(t.insert,t.update,t.delete,e)}function o(t,e){function i(t){var e=t?t.status+" "+t.statusText:"";alert("Det intrffade ett fel nr ndringarna skulle sparas till servern...\n"+e)}var o=l.getProjectionCode(),s=l.getLayer(e),u=s.get("featureType"),f=l.getMapSource()[s.get("sourceName")],p={gmlOptions:{srsName:o},featureNS:f.workspace,featurePrefix:f.prefix||f.workspace,featureType:u},d=n(t,p);return a.ajax({type:"POST",url:f.url,data:c.serializeToString(d),contentType:"text/xml",success:function(n){var o,s=r(n);s?(s.transactionSummary.totalUpdated>0&&h.emitChangeFeature({feature:t.update,layerName:e,status:"finished",action:"update"}),s.transactionSummary.totalDeleted>0&&h.emitChangeFeature({feature:t.delete,layerName:e,status:"finished",action:"delete"}),s.transactionSummary.totalInserted>0&&(o=t.insert,h.emitChangeFeature({feature:t.insert,layerName:e,status:"finished",action:"insert"}),s.insertIds.forEach(function(t,e){o[e].setId(t)}))):i()},error:i,context:this}).then(function(t){var e=r(t),i=0;return e&&(i+=e.transactionSummary.totalUpdated,i+=e.transactionSummary.totalDeleted,i+=e.transactionSummary.totalInserted),i})}function r(t){var e;return window.Document&&t instanceof Document&&t.documentElement&&"ExceptionReport"===t.documentElement.localName?alert(t.getElementsByTagNameNS("http://www.opengis.net/ows","ExceptionText").item(0).textContent):e=u.readTransactionResponse(t),e}var s=t("openlayers"),a=t("jquery"),l=t("../viewer"),h=(t("./editsstore")(),t("./editdispatcher")),u=new s.format.WFS,c=new XMLSerializer;e.exports=function(t,e){return o(t,e)}},{"../viewer":205,"./editdispatcher":108,"./editsstore":113,jquery:26,openlayers:29}],118:[function(t,e,i){"use strict";function n(t,e,i){s();var n=t.map(function(t){return t.content}).join("");switch(n='<div id="o-identify"><div id="o-identify-carousel" class="owl-carousel owl-theme">'+n+"</div></div>",e){case"overlay":var o=f("#o-map");k=new h.Overlay({element:o.getEl()}),w.addOverlay(k);var r,a=t[0].feature.getGeometry();r="Point"==a.getType()?a.getCoordinates():i,k.setPosition(r),o.setContent({content:n,title:t[0].title}),o.setVisibility(!0);l("#o-identify-carousel",void 0,function(){var e=this.owl.currentItem;T.clearAndAdd(t[e].feature.clone(),S[t[e].feature.getGeometry().getType()]),o.setTitle(t[e].title)});c.autoPan();break;case"sidebar":p.setContent({content:n,title:t[0].title}),p.setVisibility(!0);l("#o-identify-carousel",void 0,function(){var e=this.owl.currentItem;T.clearAndAdd(t[e].feature.clone(),S[t[e].feature.getGeometry().getType()]),p.setTitle(t[e].title)})}}function o(t){I=void 0;var e=y.getFeaturesAtPixel(t,j);!1!==e&&y.getFeaturesFromRemote(t).done(function(i){var o=(i||[]).concat(e);if(o.length>0)T.clear(),n(o,P,t.coordinate);else if(T.getFeatures().length>0)s();else if(x){p.setVisibility(!1);var r=w.getView().getResolution();setTimeout(function(){d.checkZoomChange(r,w.getView().getResolution())||(I=d.createPointFeature(t.coordinate,M),T.addFeature(I))},250)}else console.log("No features identified")})}function r(t){!0===t?w.on("click",o):(s(),w.un("click",o))}function s(){T.clear(),p.setVisibility(!1),k&&c.removeOverlays(k),console.log("Clearing selection")}function a(t){r("featureInfo"===t.interaction?!0:!1)}function l(t,e,i){var n=e||{navigation:!0,slideSpeed:300,paginationSpeed:400,singleItem:!0,rewindSpeed:200,navigationText:['<svg class="o-icon-fa-chevron-left"><use xlink:href="#fa-chevron-left"></use></svg>','<svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-chevron-right"></use></svg>'],afterAction:i};return u(t).owlCarousel(n)}var h=t("openlayers"),u=t("jquery"),c=t("./viewer"),f=t("./popup"),p=t("./sidebar"),d=t("./maputils"),g=t("./featurelayer"),v=t("./style")(),m=t("./style/styletypes"),y=t("./getfeatureinfo");t("../externs/owlcarousel-browserify").loadjQueryPlugin();var b,w,x,M,S,C,P,j,k,E,T=void 0,I=void 0;e.exports.init=function(t){w=c.getMap(),x=!(b=t||{}).hasOwnProperty("pinning")||b.pinning;var e=b.hasOwnProperty("pinStyle")?b.pinStyle:m.getStyle("pin");M=v.createStyleRule(e)[0],I=b.savedPin?d.createPointFeature(t.savedPin,M):void 0,S=v.createEditStyle();var i=b.savedSelection||void 0;T=g(I||i||void 0,w),(C=!b.hasOwnProperty("overlay")||b.overlay)?P="overlay":(p.init(),P="sidebar"),j=b.hasOwnProperty("clusterFeatureinfoLevel")?b.clusterFeatureinfoLevel:1,E=b.hasOwnProperty("hitTolerance")?b.hitTolerance:0,w.on("click",o),u(document).on("enableInteraction",a)},e.exports.clear=s,e.exports.getSelectionLayer=function(){return T.getFeatureLayer()},e.exports.getSelection=function(){var t={};return t.geometryType=T.getFeatures()[0].getGeometry().getType(),t.coordinates=T.getFeatures()[0].getGeometry().getCoordinates(),t},e.exports.getPin=function(){return I},e.exports.getHitTolerance=function(){return E},e.exports.identify=n},{"../externs/owlcarousel-browserify":4,"./featurelayer":120,"./getfeatureinfo":128,"./maputils":149,"./popup":167,"./sidebar":175,"./style":177,"./style/styletypes":183,"./viewer":205,jquery:26,openlayers:29}],119:[function(t,e,i){"use strict";var n={};n.default=t("./templates/featureinfotemplates/default"),e.exports=function(t,e){return n[t](e)}},{"./templates/featureinfotemplates/default":186}],120:[function(t,e,i){"use strict";var n=t("openlayers");e.exports=function(t,e){var i=t?[t]:[],o=new n.source.Vector({features:i}),r=new n.layer.Vector({source:o,map:e});return{addFeature:function(t){o.addFeature(t)},getFeatures:function(){return o.getFeatures()},getFeatureLayer:function(){return r},getFeatureStore:function(){return o},clear:function(){o.clear()},clearAndAdd:function(t,e){o.clear(),r.setStyle(e),o.addFeature(t)}}}},{openlayers:29}],121:[function(t,e,i){"use strict";function n(t){var e=h.createButton({id:"o-fullscreen-button",cls:"o-fullscreen-button",iconCls:"o-icon-fa-expand",src:"#fa-expand",tooltipText:s,tooltipPlacement:"east"});c(a)&&l(t).append(e)}function o(){l("#o-fullscreen-button button").click(function(t){r(),l("#o-fullscreen-button button").blur(),t.preventDefault()})}function r(){var t=u.getPermalink();window.open(t)}var s,a,l=t("jquery"),h=t("./utils"),u=t("./permalink/permalink"),c=t("./utils/isembedded"),f=t("./viewer");e.exports.init=function(t){var e=t||{},i=e.target||"#o-toolbar-misc";a=f.getTarget(),s=e.tooltipText||"Visa stor karta",n(i),o()}},{"./permalink/permalink":164,"./utils":189,"./utils/isembedded":195,"./viewer":205,jquery:26}],122:[function(t,e,i){var n=t("./geometry/getcenter"),o=t("./geometry/getarea"),r={};r.center=n,r.area=o,e.exports=r},{"./geometry/getarea":123,"./geometry/getcenter":124}],123:[function(t,e,i){"use strict";var n=t("../utils/round");e.exports=function(t,e){var i=t.getArea?t.getArea():0;return i=e?n(i,e):n(i,"2")}},{"../utils/round":200}],124:[function(t,e,i){"use strict";t("openlayers");var n=t("../viewer");e.exports=function(t,e,i){var o=t.clone();e&&o.transform(n.getMap().getView().getProjection(),e);var r;switch(o.getType()){case"Polygon":r=o.getInteriorPoint().getCoordinates();break;case"MultiPolygon":r=o.getInteriorPoints().getCoordinates()[0];break;case"Point":r=o.getCoordinates();break;case"MultiPoint":r=o[0].getCoordinates();break;case"LineString":r=o.getCoordinateAt(.5);break;case"MultiLineString":r=o.getLineStrings()[0].getCoordinateAt(.5);break;case"Circle":r=o.getCenter()}return i&&"reverse"===i&&r.reverse(),r}},{"../viewer":205,openlayers:29}],125:[function(t,e,i){"use strict";function n(t){var e='<img id="o-geolocation_marker" src="'+(x+"img/geolocation_marker.png")+'"/>',i=p.createButton({id:"o-geolocation-button",cls:"o-geolocation-button",iconCls:"o-icon-fa-location-arrow",src:"#fa-location-arrow",tooltipText:"Visa nuvarande position i kartan",tooltipPlacement:"east"});c(t).append(i),c("#o-map").prepend(e)}function o(){d.on("click",function(t){v=!1,r(),g.blur(),t.preventDefault()})}function r(){g.hasClass("o-geolocation-button-true")?(g.removeClass("o-geolocation-button-true"),y.setTracking(!1),y.un("change",s),m.removeOverlay(b)):(g.addClass("o-geolocation-button-true"),m.addOverlay(b),y.on("change",s),y.setTracking(!0))}function s(){l(a())}function a(){var t={};return t.position=y.getPosition(),t.accuracy=y.getAccuracy(),t.heading=y.getHeading()||0,t.speed=y.getSpeed()||0,t.m=Date.now(),t}function l(t){var e=t.position;!1===v&&y.getTracking()?(b.setPosition(e),m.getView().animate({center:e,zoom:h}),v=!0):y.getTracking()&&b.setPosition(e)}var h,u=t("openlayers"),c=t("jquery"),f=t("./viewer"),p=t("./utils"),d=void 0,g=void 0,v=!1,m=void 0,y=void 0,b=void 0,w=void 0,x=void 0;e.exports.init=function(t){var e=t||{},i=e.target||"#o-toolbar-navigation";m=f.getMap(),x=f.getBaseUrl(),h=e.zoomLevel||f.getResolutions().length-3||0,n(i),d=c("#o-geolocation-button"),g=c("#o-geolocation-button button"),w=c("#o-geolocation_marker").get(0),b=new u.Overlay({positioning:"center-center",element:w,stopEvent:!1}),y=new u.Geolocation({projection:m.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),o()}},{"./utils":189,"./viewer":205,jquery:26,openlayers:29}],126:[function(t,e,i){"use strict";function n(t,e){var i,n={};for(i in t)-1===e.indexOf(i)&&(n[i]=t[i]);return n}function o(t,e,i){return(t||"")+i+(e||"")}var r=t("./featureinfotemplates"),s=t("../src/utils/replacer"),a=t("./geom");e.exports=function(t,e){var i,l,h,u="<div><ul>",c="";if(e.get("attributes"))if("string"==typeof e.get("attributes"))c=r(e.get("attributes"),t.getProperties());else for(var f=0;f<e.get("attributes").length;f++){if(i=e.get("attributes")[f],l="",h="",i.name)t.get(i.name)&&(h=t.get(i.name),i.title&&(l="<b>"+i.title+"</b>"),i.url&&t.get(i.url)&&(h='<a href="'+(d=o(i.urlPrefix,i.urlSuffix,s.replace(t.get(i.url),t.getProperties())))+'" target="_blank">'+t.get(i.name)+"</a>"));else if(i.url){if(t.get(i.url)){var p=i.html||i.url;h='<a href="'+(d=o(i.urlPrefix,i.urlSuffix,s.replace(t.get(i.url),t.getProperties())))+'" target="_blank">'+p+"</a>"}}else if(i.img){if(t.get(i.img)){var d=o(i.urlPrefix,i.urlSuffix,s.replace(t.get(i.img),t.getProperties()));h='<div class="o-image-container"><img src="'+d+'">'+(i.attribution?'<div class="o-image-attribution">'+i.attribution+"</div>":"")+"</div>"}}else i.html&&(h=s.replace(i.html,t.getProperties(),{helper:a,helperArg:t.getGeometry()}));c+="<li"+(' class="'+i.cls+'" '||"")+">"+l+h+"</li>"}else{var g=n(t.getProperties(),["FID_","geometry"]);c=r("default",g)}return u+=c+"</ul></div>"}},{"../src/utils/replacer":199,"./featureinfotemplates":119,"./geom":122}],127:[function(t,e,i){function n(t){t.error&&console.log(t.error.message+"\n"+t.error.details.join("\n"))}var o,r,s=t("openlayers"),a=t("jquery"),l=t("./viewer"),h={};e.exports=function(t,e){o=l.getProjectionCode();var i=(r=l.getMapSource())[e.get("sourceName")].url,n=e.get("type");return h[n](t,e,i)},h.AGS_FEATURE=function(t,e,i){var r=o.split(":").pop(),h=e.get("id"),u=new s.format.EsriJSON,c=i+"/"+h+"/query?f=json&returnGeometry=true&objectIds="+t+"&geometryType=esriGeometryEnvelope&inSR="+r+"&outFields=*&returnIdsOnly=false&returnCountOnly=false&geometryPrecision=2&outSR="+r;return a.ajax({url:c,dataType:"jsonp"}).then(function(t){return t.error?(n(t),[]):u.readFeatures(t,{featureProjection:l.getProjection()})},n)},h.WFS=function(t,e,i){var n=e.get("geometryName"),o=new s.format.GeoJSON({geometryName:n}),r=i+"?",l="service=WFS&version=1.0.0&request=GetFeature&typeName="+e.get("name")+"&outputFormat=json&featureId="+t;return a.ajax({url:r,data:l,type:"POST",dataType:"json"}).then(function(t){return o.readFeatures(t)})}},{"./viewer":205,jquery:26,openlayers:29}],128:[function(t,e,i){"use strict";function n(t){var e=[];return"crossOrigin"in new Image?h.forEachLayerAtPixel(t.pixel,function(i){if(i.get("queryable")){var n=o(i,t.coordinate);n&&e.push(n)}}):r(t.pixel)?f.getQueryableLayers().forEach(function(i){if(i.get("queryable"))if(r(t.pixel,i))(n=o(i,t.coordinate))&&e.push(n);else if(s(t.pixel,i)){var n=o(i,t.coordinate);n&&e.push(n)}}):h.forEachLayerAtPixel(t.pixel,function(i){if(!0===i.get("queryable")){var n=o(i,t.coordinate);n&&e.push(n)}}),e}function o(t,e){var i=t.get("type"),n={};switch(n.layer=t.get("name"),i){case"WMTS":if(t.get("featureinfoLayer")){r=t.get("featureinfoLayer");return o(s=f.getLayer(r),e)}return;case"WMS":if(t.get("featureinfoLayer")){r=t.get("featureinfoLayer");return o(s=f.getLayer(r),e)}return n.cb="GEOJSON",n.fn=a(t,e),n;case"AGS_TILE":if(t.get("featureinfoLayer")){var r=t.get("featureinfoLayer"),s=f.getLayer(r);return o(s,e)}return n.fn=l(t,e),n;default:return}}function r(t,e){try{return e?h.forEachLayerAtPixel(t,function(t){return e===t}):h.forEachLayerAtPixel(t,function(t){}),!1}catch(t){return console.log(t),!0}}function s(t,e){h.forEachLayerAtPixel(t,function(t){return e===t})}function a(t,e){var i=t.getSource().getGetFeatureInfoUrl(e,h.getView().getResolution(),f.getProjection(),{INFO_FORMAT:"application/json"});return c.ajax(i,{type:"post"}).then(function(t){return t.error?[]:p.geojsonToFeature(t)})}function l(t,e){var i=f.getProjectionCode().split(":").pop(),n=t.get("id"),o=f.getMapSource()[t.get("sourceName")],r=o.url,s=new u.format.EsriJSON,a=h.getSize(),l=r+"/identify?f=json&returnGeometry=true&geometryType=esriGeometryPoint&sr="+i+"&geometry="+e+"&outFields=*&geometryPrecision=2&tolerance="+(o.hasOwnProperty("tolerance")?o.tolerance.toString():5)+"&layers=all:"+n+"&mapExtent="+h.getView().calculateExtent(a)+"&imageDisplay="+a+",96";return c.ajax({url:l,dataType:"jsonp"}).then(function(t){if(t.error)return[];var e={};return e.features=t.results,s.readFeatures(e,{featureProjection:f.getProjection()})[0]})}var h,u=t("openlayers"),c=t("jquery"),f=t("./viewer"),p=t("./maputils"),d=t("./getattributes"),g=t("./featureinfo");e.exports.getFeaturesFromRemote=function(t){h=f.getMap();var e=[],i=n(t).map(function(t){return t.fn.then(function(i){var n=f.getLayer(t.layer);if(i)return e.push({title:n.get("title"),feature:i,content:d(i,n)}),e})});return c.when.apply(c,i).then(function(t){return e})},e.exports.getFeaturesAtPixel=function(t,e){var i=[],n=!1;return(h=f.getMap()).forEachFeatureAtPixel(t.pixel,function(o,r){var s=r,a=!1;if(r&&(a=r.get("queryable")),o.get("features")){var l=o.get("features");if(l.length>1){var u=h.getView().getZoom();if((-1===e?f.getResolutions().length:u+e)<f.getResolutions().length)return h.getView().setCenter(t.coordinate),h.getView().setZoom(u+1),n=!0,!0;l.forEach(function(t){var e={};e.title=s.get("title"),e.feature=t,e.content=d(t,s),i.push(e)})}else 1==l.length&&a&&((c={}).title=s.get("title"),c.feature=l[0],c.content=d(l[0],s),i.push(c))}else if(a){var c={};c.title=s.get("title"),c.feature=o,c.content=d(o,s),i.push(c)}},{hitTolerance:g.getHitTolerance()}),!n&&i}},{"./featureinfo":118,"./getattributes":126,"./maputils":149,"./viewer":205,jquery:26,openlayers:29}],129:[function(t,e,i){"use strict";function n(t){var e=u.createButton({id:"o-home-button",iconCls:"o-icon-fa-home",src:"#fa-home",tooltipText:s});l(t).append(e)}function o(){l("#o-home-button").on("click",function(t){r.getView().fit(a),l("#o-home-button button").blur(),t.preventDefault()})}t("openlayers");var r,s,a,l=t("jquery"),h=t("./viewer"),u=t("./utils");e.exports.init=function(t){var e=t||{},i=e.target||"#o-toolbar-navigation";r=h.getMap(),s=e.tooltipText||"Zooma till hela kartan",a=e.extent||r.getView().calculateExtent(r.getSize()),n(i),o()}},{"./utils":189,"./viewer":205,jquery:26,openlayers:29}],130:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("../viewer"),s=t("./vector");e.exports=function(t){var e={layerType:"vector"},i={},a=o.extend(e,t),l=o.extend(i,r.getMapSource()[t.sourceName]);l.geometryName=a.geometryName,l.filter=a.filter,l.attribution=a.attribution,l.projectionCode=r.getProjectionCode(),l.id=a.id;var h=function(t){var e=t.projectionCode.split(":").pop(),i=t.filter?"&where="+t.filter:"",r=new n.format.EsriJSON;return new n.source.Vector({attributions:t.attribution,loader:function(n,s,a){var l=this,h=t.url+t.id+encodeURI('/query?f=json&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry={"xmin":'+n[0]+',"ymin":'+n[1]+',"xmax":'+n[2]+',"ymax":'+n[3]+',"spatialReference":{"wkid":'+e+"}}&geometryType=esriGeometryEnvelope&inSR="+e+"&outFields=*&returnIdsOnly=false&returnCountOnly=false&geometryPrecision=2&outSR="+e+i);o.ajax({url:h,dataType:"jsonp",success:function(t){if(t.error)alert(t.error.message+"\n"+t.error.details.join("\n"));else{var e=r.readFeatures(t,{featureProjection:a});e.length>0&&l.addFeatures(e)}}})},strategy:n.loadingstrategy.bbox})}(l);return s(a,h)}},{"../viewer":205,"./vector":138,jquery:26,openlayers:29}],131:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("../viewer"),s=t("./tile");e.exports=function(t){var e={layerType:"tile",featureinfoLayer:void 0},i={},a=o.extend(e,t),l=o.extend(i,r.getMapSource()[t.source]);l.attribution=a.attribution,l.projection=r.getProjection(),l.params=a.params||{},l.params.layers="show:"+a.id;var h=function(t){return new n.source.TileArcGISRest({attributions:t.attribution,projection:t.projection,crossOrigin:"anonymous",params:t.params,url:t.url})}(l);return s(a,h)}},{"../viewer":205,"./tile":136,jquery:26,openlayers:29}],132:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("./vector");e.exports=function(t){var e,i=t,r={};return r.attribution=t.attribution,r.features=t.features,e=function(t){return new n.source.Vector({attributions:t.attribution,features:t.features})}(r),o(i,e)}},{"./vector":138,openlayers:29}],133:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("../viewer"),s=t("./vector"),a=t("../utils/isurl");e.exports=function(t){var e,i=r.getBaseUrl(),l={layerType:"vector"},h=o.extend(l,t),u={};return u.attribution=h.attribution,u.projectionCode=r.getProjectionCode(),u.sourceName=t.source,a(h.source)?u.url=h.source:(h.sourceName=h.source,u.url=i+h.source),e=function(t){return new n.source.Vector({attributions:t.attribution,url:t.url,format:new n.format.GeoJSON})}(u),s(h,e)}},{"../utils/isurl":196,"../viewer":205,"./vector":138,jquery:26,openlayers:29}],134:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery");e.exports=function(t){var e={layerType:"group",styleName:"default"},i=o.extend(e,t);return new n.layer.Group(i)}},{jquery:26,openlayers:29}],135:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("./tile");e.exports=function(t){var e={},i=o.extend(e,t),s=new n.source.OSM;return r(i,s)}},{"./tile":136,jquery:26,openlayers:29}],136:[function(t,e,i){"use strict";var n=t("openlayers");e.exports=function(t,e){return t.source=e,new n.layer.Tile(t)}},{openlayers:29}],137:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("../viewer"),s=t("./vector"),a=t("../utils/isurl");e.exports=function(t){var e,i=r.getBaseUrl(),l={layerType:"vector"},h=o.extend(l,t),u={};return u.attribution=h.attribution,u.projectionCode=r.getProjectionCode(),u.sourceName=t.source,a(h.source)?u.url=h.source:(h.sourceName=h.source,u.url=i+h.source),e=function(t){return new n.source.Vector({attributions:t.attribution,url:t.url,format:new n.format.TopoJSON({defaultDataProjection:t.projectionCode})})}(u),s(h,e)}},{"../utils/isurl":196,"../viewer":205,"./vector":138,jquery:26,openlayers:29}],138:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("../style")(),r=t("../viewer");e.exports=function(t,e){var i;switch(t.layerType){case"vector":t.source=e,t.style=o.createStyle(t.style),i=new n.layer.Vector(t);break;case"cluster":t.clusterOptions=t.clusterOptions||{},"WFS"===t.type||"AGS_FEATURE"===t.type?e.clusterOptions=r.getMapSource()[t.sourceName].clusterOptions||{}:e.clusterOptions={};var s=60,a=t.clusterOptions.clusterDistance||e.clusterOptions.clusterDistance||r.getClusterOptions().clusterDistance||s,l=t.clusterOptions.clusterMaxZoom||e.clusterOptions.clusterMaxZoom||r.getClusterOptions().clusterMaxZoom||r.getResolutions().length-1,h=r.getSettings().zoom>l?0:a,u=r.getMap(),c=u.getView(),f=c.getResolutions().length-1;t.source=new n.source.Cluster({attributions:t.attribution,source:e,distance:h}),t.source.setProperties({clusterDistance:a,clusterMaxZoom:l}),t.style=o.createStyle(t.style,t.clusterStyle),i=new n.layer.Vector(t),u.on("movestart",function(e){var i=c.getZoomForResolution(e.frameState.viewState.resolution);var n=t.source.getProperties().clusterDistance||s;var o=t.source.getProperties().clusterMaxZoom||f;u.once("moveend",function(e){var r=parseInt(c.getZoom(),10);r!==i&&(r>=o?t.source.setDistance(0):r<o&&t.source.setDistance(n))})});break;case"image":t.source=new n.source.ImageVector({source:e,style:o.createStyle(t.style)}),i=new n.layer.Image(t);break;case"vectortile":t.source=e,t.style=o.createStyle(t.style),i=new n.layer.VectorTile(t)}return i}},{"../style":177,"../viewer":205,openlayers:29}],139:[function(t,e,i){"use strict";function n(t,e){var i;switch(e.format){case"topojson":i=new o.format.TopoJSON;break;case"geojson":i=new o.format.GeoJSON;break;case"pbf":i=new o.format.MVT}return e.layerURL?t.url+=e.layerURL:t.url+=e.layerName+"@"+e.gridset+"@"+e.format+"/{z}/{x}/{-y}."+e.format,t.format=i,new o.source.VectorTile(t)}var o=t("openlayers"),r=t("jquery"),s=t("../viewer"),a=t("./vector"),l=t("../maputils");e.exports=function(t){var e={layerType:"vectortile",featureinfoLayer:void 0},i={},o=r.extend(e,t);o.sourceName=o.name;var h=r.extend(i,s.getMapSource()[t.source]);h.attributions=o.attribution,h.projection=s.getProjectionCode()||"EPSG:3857",h.tileGrid?h.tileGrid=l.tileGrid(h.tileGrid):h.tileGrid=s.getTileGrid();var u=n(h,o);return a(o,u)}},{"../maputils":149,"../viewer":205,"./vector":138,jquery:26,openlayers:29}],140:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("../viewer"),s=t("./vector");e.exports=function(t){var e={layerType:"vector"},i={},a=o.extend(e,t),l=o.extend(i,r.getMapSource()[t.sourceName]);switch(a.featureType=l.featureType=a.id,l.geometryName=a.geometryName,l.filter=a.filter,l.attribution=a.attribution,l.resolutions=r.getResolutions(),l.projectionCode=r.getProjectionCode(),l.strategy=t.strategy?t.strategy:l.strategy,l.strategy){case"all":l.loadingstrategy=n.loadingstrategy.all;break;case"tile":l.loadingstrategy=n.loadingstrategy.tile(n.tilegrid.createXYZ({maxZoom:l.resolutions.length}));break;default:l.loadingstrategy=n.loadingstrategy.bbox}var h=function(t){var e,i=null,r=t.url;e="all"===t.strategy?t.filter?"&CQL_FILTER="+t.filter:"":t.filter?"&CQL_FILTER="+t.filter+" AND BBOX("+t.geometryName+",":"&BBOX=";var s=t.filter?"'"+t.projectionCode+"')":t.projectionCode;return i=new n.source.Vector({attributions:t.attribution,format:new n.format.GeoJSON({geometryName:t.geometryName}),loader:function(n,a,l){var h=r+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t.featureType+"&outputFormat=application/json&srsname="+t.projectionCode;h+="all"===t.strategy?e:e+n.join(",")+","+s,o.ajax({url:h,cache:!1}).done(function(t){i.addFeatures(i.getFormat().readFeatures(t))})},strategy:t.loadingstrategy})}(l);return s(a,h)}},{"../viewer":205,"./vector":138,jquery:26,openlayers:29}],141:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("../viewer"),s=t("./tile");e.exports=function(t){var e={layerType:"tile",featureinfoLayer:void 0},i={version:"1.1.1",gutter:0,format:"image/png"},a=o.extend(e,t);a.name.split(":").pop();var l=o.extend(i,r.getMapSource()[t.source]);l.attribution=a.attribution,l.projectionCode=r.getProjectionCode(),l.id=a.id,l.tileGrid=r.getTileGrid(),l.format=a.format?a.format:l.format;var h=function(t){return new n.source.TileWMS({attributions:t.attribution,url:t.url,gutter:t.gutter,crossOrigin:"anonymous",projection:t.projectionCode,tileGrid:t.tileGrid,params:{LAYERS:t.id,TILED:!0,VERSION:t.version,FORMAT:t.format}})}(l);return s(a,h)}},{"../viewer":205,"./tile":136,jquery:26,openlayers:29}],142:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("../viewer"),s=t("./tile");e.exports=function(t){var e={layerType:"tile",featureinfoLayer:void 0},i={matrixSet:r.getProjectionCode(),matrixIdsPrefix:r.getProjectionCode()+":",format:"image/png",resolutions:r.getResolutions(),tileSize:[256,256]},a=o.extend(e,t);a.name.split(":").pop(),a.sourceName=a.name;var l=o.extend(i,r.getMapSource()[t.source]);a.hasOwnProperty("format")&&(l.format=a.format),l.attribution=a.attribution,l.projectionCode=r.getProjectionCode(),l.matrixIds=[],l.resolutions.forEach(function(t,e){l.matrixIds[e]=l.matrixIdsPrefix+e}),l.projectionExtent=r.getProjection().getExtent(),l.id=a.id;var h=function(t){return new n.source.WMTS({crossOrigin:"anonymous",attributions:t.attribution,url:t.url,projection:t.projectionCode,layer:t.id,matrixSet:t.matrixSet,format:t.format,tileGrid:new n.tilegrid.WMTS({origin:t.origin||n.extent.getTopLeft(t.projectionExtent),resolutions:t.resolutions,matrixIds:t.matrixIds,tileSize:t.tileSize}),style:"default"})}(l);return s(a,h)}},{"../viewer":205,"./tile":136,jquery:26,openlayers:29}],143:[function(t,e,i){"use strict";function n(t){return t.crossOrigin="anonymous",new o.source.XYZ(t)}var o=t("openlayers"),r=t("jquery"),s=t("../viewer"),a=t("./tile");e.exports=function(t){var e={layerType:"tile",featureinfoLayer:void 0},i={},o=r.extend(e,t);o.sourceName=o.id;var l=r.extend(i,s.getMapSource()[t.source]);if(l.attributions=o.attribution,l.projection=s.getProjectionCode()||"EPSG:3857",l.tileGrid=s.getTileGrid(),o.layerURL)l.url+=o.layerURL;else{var h=l.sourceName.split(".")[1],u=l.sourceName.split(".")[0]+"/{z}/{x}/{y}.";u+=h,l.url=u}var c=n(l);return a(o,c)}},{"../viewer":205,"./tile":136,jquery:26,openlayers:29}],144:[function(t,e,i){"use strict";var n,o=t("jquery"),r=t("./viewer"),s=t("./maputils"),a=t("./layer/group"),l={};l.WFS=t("./layer/wfs"),l.AGS_FEATURE=t("./layer/agsfeature"),l.TOPOJSON=t("./layer/topojson"),l.GEOJSON=t("./layer/geojson"),l.WMS=t("./layer/wms"),l.WMTS=t("./layer/wmts"),l.AGS_TILE=t("./layer/agstile"),l.XYZ=t("./layer/xyz"),l.OSM=t("./layer/osm"),l.VECTORTILE=t("./layer/vectortile"),l.FEATURE=t("./layer/featurelayer"),l.GROUP=function(t){var e,i;if(t.hasOwnProperty("layers"))return e=t.layers.map(function(t){return n(t)}),i={},i.layers=e,a(o.extend(t,i));console.log("Group layer has no layers")},n=function t(e){var i={name:void 0,id:void 0,title:void 0,group:"none",opacity:1,geometryName:"geom",geometryType:void 0,filter:void 0,layerType:void 0,legend:!1,sourceName:void 0,attribution:void 0,style:"default",styleName:void 0,queryable:!0,minResolution:void 0,maxResolution:void 0,visible:!1,type:void 0,extent:void 0,attributes:void 0,tileSize:r.getTileSize()},n=r.getProjection(),a=e||{},h=o.extend(i,a),u=h.name;if(h.minResolution=h.hasOwnProperty("minScale")?s.scaleToResolution(h.minScale,n):void 0,h.maxResolution=h.hasOwnProperty("maxScale")?s.scaleToResolution(h.maxScale,n):void 0,h.extent=h.extent||r.getExtent(),h.sourceName=h.source,h.styleName=h.style,void 0===h.id&&(h.id=u.split("__").shift()),h.name=u.split(":").pop(),l.hasOwnProperty(h.type))return l[h.type](h,t);console.log("Layer type is missing or layer type is not correct. Check your layer definition: "),console.log(h)},e.exports=n},{"./layer/agsfeature":130,"./layer/agstile":131,"./layer/featurelayer":132,"./layer/geojson":133,"./layer/group":134,"./layer/osm":135,"./layer/topojson":137,"./layer/vectortile":139,"./layer/wfs":140,"./layer/wms":141,"./layer/wmts":142,"./layer/xyz":143,"./maputils":149,"./viewer":205,jquery:26}],145:[function(t,e,i){"use strict";function n(){S("#o-menutools").append('<li class="o-menu-item"><div class="o-menu-item-divider"></div><li>')}function o(t){var e="",i=t[0];if(i[0].hasOwnProperty("icon")){var n=j(i[0].icon.src,x),o=i[0].format||"png";if("png"==o)e='<div class="o-legend-item-img"><img style="width: auto; height: 20px;" src="'+n+'"></div>';else if("svg"==o){e='<div class="o-legend-item-img">'+('<object type="image/svg+xml" data="'+n+'" style="width: 20px;"></object>')+"</div>"}}else if(i[0].hasOwnProperty("fill")){for(var l="",h=0;h<i.length;h++)l+=r(i[h]);e+='<div class="o-legend-item-img"><svg height="'+k+'" width="'+k+'">',e+=l,e+="</svg></div>"}else if(i[0].hasOwnProperty("stroke")){for(var u="",h=0;h<i.length;h++)u+=a(i[h]);e+='<div class="o-legend-item-img"><svg height="'+k+'" width="'+k+'">',e+=u,e+="</svg></div>"}else if(i[0].hasOwnProperty("circle")){for(var c="",h=0;h<i.length;h++)c+=s(i[h]);e+='<div class="o-legend-item-img"><svg height="'+k+'" width="'+k+'">',e+=c,e+="</svg></div>"}else i[0].hasOwnProperty("image")&&(e='<div class="o-legend-item-img" style="'+("background: url("+(n=j(i[0].image.src,x))+") no-repeat;width: 30px; height: 30px;background-size: 30px;")+'"></div>');return e}function r(t){var e=t,i=0;if(e.hasOwnProperty("stroke")){i=e.stroke.width>=3?3:e.stroke.width;var n="stroke:"+e.stroke.color+";"||"stroke:none;";n+="stroke-width:"+i+";"||"",n+="stroke-dasharray:"+e.stroke.lineDash+";"||""}var o=k-4,r='<rect x="2" y="2" rx="2" ry="2" width="'+o+'" height="'+o+'" ';return r+=e.hasOwnProperty("fill")?'style="fill:'+e.fill.color+";":'style="fill:none;',r+=n,r+='"></rect>'}function s(t){var e=t.circle,i=0;if(e.hasOwnProperty("stroke")){i=e.stroke.width>=3?3:e.stroke.width;var n="stroke:"+e.stroke.color+";"||"stroke:none;";n+="stroke-width:"+i+";"||""}var o=k/2,r='<circle cx="'+o+'" cy="'+o+'" r="'+e.radius+'" ';return r+=e.hasOwnProperty("fill")?'style="fill:'+e.fill.color+";":'style="fill:none;',r+=n,r+='"></circle>'}function a(t){var e=t,i=e.stroke.width>4?4:e.stroke.width;i=e.stroke.width<2?2:i;var n='<line x1 = "2" y1= "'+(k-4).toString()+'" x2="'+(k-4).toString()+'" y2="2" ';return n+='style="',n+="stroke:"+e.stroke.color+";"||"stroke:none;",n+="stroke-width:"+i+";"||"",n+="stroke-dasharray:"+e.stroke.lineDash+";"||"",n+='"/>'}function l(t){return'<div class="o-legend-item-info o-abstract" id="o-legend-item-info-'+t+'"><svg class="o-icon-fa-info-circle"><use xlink:href="#fa-info-circle"></use></svg></div>'}function h(t,e,i){var n=t.split("o-legend-").pop(),r=C.getLayer(n),s=i?" o-legend-subitem":"",a="";return e&&e[0][0].hasOwnProperty("filter")?(e[0][0].hasOwnProperty("legend")?(a+='<li class="o-legend '+n+'">',a+='<ul id="o-group-'+n+'" class="o-legend-group o-ul-expand-false"><li class="'+n+'" id="'+t+'">'):a+='<li class="o-legend '+n+'" id="'+t+'">',a+='<div class ="o-legend-item'+s+'"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg></div>',a+='<div class="o-legend-item-title o-truncate">'+r.get("title")+"</div>",r.get("abstract")&&(a+=l(n)),e[0][0].hasOwnProperty("legend")&&(a+='<div class="o-icon-expand o-icon-expand-false"><svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-angle-double-right"></use></svg><svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-angle-double-down"></use></svg></div>',a+="</div></li>",e.forEach(function(t){a+='<li class="o-legend '+n+'" id="'+n+'"><div class ="o-legend-subitem">',a+='<div class="o-checkbox o-checkbox-false"></div>',a+=r.get("styleName")?o([t]):"",a+='<div class="o-legend-subitem-title">'+t[0].legend+"</div></div></li>"}),a+="</ul></li>")):(a+='<li class="o-legend '+n+'" id="'+t+'"><div class ="o-legend-item'+s+'"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg></div>',a+=r.get("styleName")?o(w[r.get("styleName")]):"",a+='<div class="o-legend-item-title o-truncate">'+r.get("title")+"</div>",r.get("abstract")&&(a+=l(n)),a+="</div></li>"),a}function u(t,e){var i,n="";if(t.hasOwnProperty("overlayGroup")&&t.name,t.abstract&&(n+=l(t.name)),e){var o=S(e).parent().closest("ul").hasClass("o-legend-group")?"o-legend-indent":"";i='<li class="o-legend '+t.name+' o-top-item" id="'+t.name+'"><ul id="o-group-'+t.name+'" class="o-legend-group o-legend-subgroup '+o+'"><li class="o-legend-header o-legend-subheader '+t.name+'" id="'+t.name+'"><div class="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg></div><div class="o-legend-subgroup-title o-truncate">'+t.title+'</div><div class="o-icon-expand"><svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-angle-double-right"></use></svg><svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-angle-double-down"></use></svg></div>'+n+"</div></li></ul></li>",e.append(i)}else i='<li><ul id="o-group-'+t.name+'" class="o-legend-group"><li class="o-legend-header"><div class="o-legend-item">'+t.title+'<div class="o-icon-expand"><svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-chevron-right"></use></svg><svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-chevron-down"></use></svg></div>'+n+"</div></li></ul></li>",S("#o-legendlist .o-legendlist").append(i);1==t.expanded?(S("#o-group-"+t.name+" .o-icon-expand").addClass("o-icon-expand-true"),S("#o-group-"+t.name+" .o-checkbox").addClass("o-checkbox-false")):(S("#o-group-"+t.name+" .o-icon-expand").addClass("o-icon-expand-false"),S("#o-group-"+t.name+" .o-checkbox").addClass("o-checkbox-false"),S("#o-group-"+t.name).addClass("o-ul-expand-false")),S("#o-group-"+t.name+" .o-legend-header").on("click",function(t){S(t.target).closest("div").hasClass("o-checkbox")?g(S(this).parent(),!0):S(t.target).closest("div").hasClass("o-abstract")||d(S(this)),t.preventDefault()}),t.hasOwnProperty("groups")&&t.groups.forEach(function(e){u(e,S("#o-group-"+t.name))})}function c(t){var e=C.getMap().getLayers().getArray(),i="";if(S("#o-mapmenu").append('<div id="o-legendlist"><ul class="o-legendlist"></ul></div>'),t.forEach(function(t){u(t)}),M){S("#o-map").append('<div id="o-map-legend"><ul id="o-legend-overlay"><li class="o-legend o-hidden"><div class ="o-toggle-button o-toggle-button-max"><svg class="o-icon-fa-angle-double-down"><use xlink:href="#fa-angle-double-down"></use></svg><svg class="o-icon-fa-angle-double-up"><use xlink:href="#fa-angle-double-up"></use></svg></div></li><li><ul id="o-overlay-list"></li></ul></ul><ul id="o-map-legend-background"></ul></div>')}e.forEach(function(t){var e,n=t.get("name"),r=w[t.get("styleName")],s=S("#o-group-"+t.get("group")).closest("ul").parent().closest("ul").hasClass("o-legend-group"),a='<div class="o-legend-item-title o-truncate">'+t.get("title")+"</div>";t.get("abstract")&&(a+=l(n)),a+="</div></li>","background"==t.get("group")?(i='<li class="o-legend '+n+'" id="'+n+'"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-check"><use xlink:href="#fa-check"></use></svg></div>',i+=a,S("#o-group-background .o-legend-header").after(i),i='<li class="o-legend '+n+'" id="o-legend-'+n+'"><div class ="o-legend-item">',i+=t.get("styleName")?o(w[t.get("styleName")]):"",i+="</div>",S("#o-map-legend-background").prepend(i)):t.get("group")&&"none"!=t.get("group")&&(i=h(n,r,s),S("#o-group-"+t.get("group")).children("li.o-top-item:last").length?S("#o-group-"+t.get("group")).children("li.o-top-item:last").after(i):S("#o-group-"+t.get("group")+" .o-legend-header").after(i),(1==t.get("legend")||t.getVisible(!0))&&(i='<li class="o-legend '+n+'" id="o-legend-'+n+'"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg></div>',i+=t.get("styleName")?o(w[t.get("styleName")]):"",i+=a,S("#o-overlay-list").prepend(i))),m(),"background"==t.get("group")?1==t.getVisible()?(S("#"+n+" .o-checkbox").addClass("o-check-true"),S("#o-legend-"+n).addClass("o-check-true-img")):(S("#"+n+" .o-checkbox").addClass("o-check-false"),S("#o-legend-"+n).addClass("o-check-false-img")):1==t.getVisible()?(S("."+n+" .o-checkbox").addClass("o-checkbox-true"),s?(e=S("#"+n).parents("ul [id^=o-group-]:last"),S(e).find(".o-icon-expand:first").hasClass("o-icon-expand-true")||d(S(e).find("li.o-legend-header:first")),g(S("#"+n).parents("ul").has(".o-legend-header").first(),!1)):(S("#o-group-"+t.get("group")+" .o-icon-expand:first").removeClass("o-icon-expand-false"),S("#o-group-"+t.get("group")+" .o-icon-expand:first").addClass("o-icon-expand-true"),S("#o-group-"+t.get("group")).removeClass("o-ul-expand-false"))):(S("."+n+" .o-checkbox").addClass("o-checkbox-false"),s&&g(S("#"+n).parents("ul").has(".o-legend-header").first(),!1)),S("#"+n).on("click",function(t){S(t.target).closest("div").hasClass("o-icon-expand")?d(S(this)):(S(this).each(function(){v(S(this).attr("id"))}),t.preventDefault())}),S("#o-legend-"+n).on("click",function(t){S(this).each(function(){v(S(this).attr("id"))}),t.preventDefault()})}),S(".o-abstract").on("click",function(t){S(this).each(function(){b(S(this))}),t.stopPropagation(),t.preventDefault()}),S("#o-legend-overlay .o-toggle-button").on("click",function(t){y(),t.preventDefault()}),S("#o-map-legend-background li").on("mouseover",function(t){var e=S(t.target).closest("li").attr("id"),i=C.getLayer(e.split("o-legend-")[1]);S(this).attr("title",i.get("title"))})}function f(t){S("#"+t).on("click",function(t){S(this).each(function(){v(S(this).attr("id"))}),t.preventDefault()})}function p(t){S("#"+t).off("click",function(t){S(this).each(function(){v(S(this).attr("id"))}),t.preventDefault()})}function d(t){var e=t.parent(".o-legend-group"),i=S("#"+e.attr("id")+" .o-icon-expand:first");i.hasClass("o-icon-expand-false")?(i.removeClass("o-icon-expand-false"),i.addClass("o-icon-expand-true"),e.removeClass("o-ul-expand-false")):(i.removeClass("o-icon-expand-true"),i.addClass("o-icon-expand-false"),e.addClass("o-ul-expand-false"))}function g(t,e){var i=S(t),n=i.find(".o-legend-item.o-legend-subitem"),o=S(".o-legend-subgroup");e&&n.each(function(){var t=S(this).parent().attr("id"),e=C.getLayer(t),n=S(this).parent().attr("class").split("o-legend-").length>1;i.children().first().find(".o-checkbox").hasClass("o-checkbox-true")?(S("."+t+" .o-checkbox").removeClass("o-checkbox-true"),S("."+t+" .o-checkbox").addClass("o-checkbox-false"),0==n&&(p("o-legend-"+t),S("#o-legend-"+t).remove(),e.set("legend",!1),m()),e.setVisible(!1)):(0==n&&0==S("#o-legend-"+t).length&&(S("#o-overlay-list").prepend(h("o-legend-"+t)),f("o-legend-"+t),m()),S("."+t+" .o-checkbox").removeClass("o-checkbox-false"),S("."+t+" .o-checkbox").addClass("o-checkbox-true"),e.setVisible(!0),e.set("legend",!0))}),o.each(function(){var t=S(this).find(".o-legend-item.o-legend-subitem").has(".o-checkbox"),e=S(this).find(".o-legend-item.o-legend-subitem").has(".o-checkbox.o-checkbox-true");e.length?(S(this).children().first().find(".o-checkbox").removeClass("o-checkbox-false"),S(this).children().first().find(".o-checkbox").addClass("o-checkbox-true"),t.length!=e.length?S(this).children().first().find(".o-checkbox").addClass("o-checkbox-semi"):S(this).children().first().find(".o-checkbox").removeClass("o-checkbox-semi")):(S(this).children().first().find(".o-checkbox").removeClass("o-checkbox-true"),S(this).children().first().find(".o-checkbox").removeClass("o-checkbox-semi"),S(this).children().first().find(".o-checkbox").addClass("o-checkbox-false"))})}function v(t){var e=t.split("o-legend-").pop(),i=t.split("o-legend-").length>1,n=C.getLayer(e);"background"==n.get("group")?(C.getGroup("background").forEach(function(t){t.setVisible(!1),S("#"+t.get("name")+" .o-checkbox").removeClass("o-check-true"),S("#"+t.get("name")+" .o-checkbox").addClass("o-check-false"),S("#o-legend-"+t.get("name")).removeClass("o-check-true-img"),S("#o-legend-"+t.get("name")).addClass("o-check-false-img")}),n.setVisible(!0),S("#"+e+" .o-checkbox").removeClass("o-check-false"),S("#"+e+" .o-checkbox").addClass("o-check-true"),S("#o-legend-"+e).removeClass("o-check-false-img"),S("#o-legend-"+e).addClass("o-check-true-img")):(S("."+e+" .o-checkbox").hasClass("o-checkbox-true")?(S("."+e+" .o-checkbox").removeClass("o-checkbox-true"),S("."+e+" .o-checkbox").addClass("o-checkbox-false"),0==i&&(p("o-legend-"+e),S("#o-legend-"+e).remove(),n.set("legend",!1),m()),n.setVisible(!1)):(0==i&&0==S("#o-legend-"+e).length&&(S("#o-overlay-list").prepend(h("o-legend-"+e)),f("o-legend-"+e),m()),S("."+e+" .o-checkbox").removeClass("o-checkbox-false"),S("."+e+" .o-checkbox").addClass("o-checkbox-true"),n.setVisible(!0),n.set("legend",!0)),S("#"+e).find(".o-legend-subitem").length>0&&g(S("#"+e).parents("ul").has(".o-legend-header").first(),!1))}function m(){S("#o-overlay-list li").length>1&&S("#o-legend-overlay >li:first-child").hasClass("o-hidden")?S("#o-legend-overlay > li:first-child").removeClass("o-hidden"):S("#o-overlay-list li").length<2&&(S("#o-legend-overlay > li:first-child").addClass("o-hidden"),1==S("#o-overlay-list").length&&S("#o-overlay-list").hasClass("o-hidden")&&(S("#o-overlay-list").removeClass("o-hidden"),y()))}function y(){S("#o-legend-overlay .o-toggle-button").hasClass("o-toggle-button-max")?(S("#o-legend-overlay .o-toggle-button").removeClass("o-toggle-button-max"),S("#o-legend-overlay .o-toggle-button").addClass("o-toggle-button-min"),S("#o-overlay-list").addClass("o-hidden")):(S("#o-legend-overlay .o-toggle-button").removeClass("o-toggle-button-min"),S("#o-legend-overlay .o-toggle-button").addClass("o-toggle-button-max"),S("#o-overlay-list").removeClass("o-hidden"))}function b(t){var e,i=t.closest("li"),n=t.attr("id").split("o-legend-item-info-").pop(),o={title:"",content:""};if(i.hasClass("o-legend-header")){var r=C.getGroups(),s=S.grep(r,function(t){return t.name==n});o.title=s[0].title,o.content=s[0].abstract}else e=C.getLayer(n),o.title=e.get("title"),o.content=e.get("abstract");P.createModal("#o-map",{title:o.title,content:o.content}),P.showModal()}var w,x,M,S=t("jquery"),C=t("./viewer"),P=(t("./utils"),t("./modal")),j=t("./utils/validateurl"),k=20;e.exports.init=function(t){var e=t||{};x=C.getBaseUrl(),M=!e.hasOwnProperty("hasMapLegend")||e.hasMapLegend,w=C.getStyleSettings(),n(),c(C.getGroups("top"))}},{"./modal":151,"./utils":189,"./utils/validateurl":204,"./viewer":205,jquery:26}],146:[function(t,e,i){"use strict";function n(){var t=h.createListButton({id:"o-link",iconCls:"o-icon-fa-external-link",src:"#fa-external-link",text:s});l("#o-menutools").append(t),a=l("#o-link-button")}function o(){a.on("click",function(){window.open(r)})}var r,s,a,l=t("jquery"),h=t("./utils");e.exports.init=function(t){var e=t||{};r=e.url,s=e.title,n(),o()}},{"./utils":189,jquery:26}],147:[function(t,e,i){"use strict";function n(t,e){var i=e.svgSprites,n=e.svgSpritePath,r=[];i.forEach(function(e){var i=o.get(t+n+e,function(t){var e=document.createElement("div");e.innerHTML=(new XMLSerializer).serializeToString(t.documentElement),document.body.insertBefore(e,document.body.childNodes[0])});return r.push(i),r})}var o=t("jquery"),r=t("./utils/supports"),s=t("./permalink/permalink"),a=t("./utils/geturl"),l=t("./utils/isurl"),h=t("./utils/trimurl");e.exports=function(t,e){function i(){if("object"==typeof t)return window.location.hash&&(p=s.parsePermalink(window.location.href)),i=e.baseUrl||"",u.options=o.extend(e,t),t.controls?u.options.controls=e.defaultControls.concat(t.controls):u.options.controls=e.defaultControls,u.options.url=a(),u.options.map=void 0,u.options.params=p,u.options.baseUrl=i,o.when.apply(o,n(i,e)).then(function(t){return u});if("string"==typeof t){if(l(t)){p=s.parsePermalink(t),d=c=t.split("#")[0],c=h(c);var i=e.baseUrl||c,r=p.map+".json";c+=r}else{r=t,window.location.hash&&(p=s.parsePermalink(window.location.href)).map&&(r=p.map+".json");var c=(i=e.baseUrl||"")+r,d=a()}return o.when.apply(o,n(i,e)).then(function(t){return o.ajax({url:c,dataType:f}).then(function(t){return u.options=o.extend(e,t),t.controls?u.options.controls=e.defaultControls.concat(t.controls):u.options.controls=e.defaultControls,u.options.url=d,u.options.map=r,u.options.params=p,u.options.baseUrl=i,u})})}}var u={},c=e.target,f="json",p=void e.crossOrigin;if("#"!==c.substring(0,1)&&(c="#"+c),u.el=c,!1!==r("browser",c))return e.authorizationUrl?o.ajax({url:e.authorizationUrl}).then(function(t){return i()}):i()}},{"./permalink/permalink":164,"./utils/geturl":193,"./utils/isurl":196,"./utils/supports":201,"./utils/trimurl":202,jquery:26}],148:[function(t,e,i){"use strict";function n(){r.on("click",function(t){o(),r.blur(),t.preventDefault()}),s.on("click",function(t){o(),s.blur(),t.preventDefault()})}function o(){a.hasClass("o-mapmenu-show")?a.removeClass("o-mapmenu-show"):a.addClass("o-mapmenu-show")}var r,s,a,l,h,u,c=t("jquery"),f=t("./viewer"),p=t("./utils");e.exports.init=function(t){var e,i;u=(h=t||{}).isActive||!1,e=h.breakPointSize||"l",i=f.getBreakPoints(e),l=f.getStyleSettings();var d=p.createButton({text:"Meny",id:"o-mapmenu-button",cls:"o-mapmenu-button-true",iconCls:"o-icon-fa-bars",src:"#fa-bars",tooltipText:"Meny",tooltipPlacement:"west"});c("#o-map").append(d),r=c("#o-mapmenu-button button");c("#o-map").append('<div id="o-mapmenu" class="o-mapmenu"><div class="o-block"><ul id="o-menutools"><li></li></ul>'),a=c("#o-mapmenu");var g=p.createButton({id:"o-mapmenu-button-close",cls:"o-no-boxshadow",iconCls:"o-icon-menu-fa-times",src:"#fa-times",tooltipText:"Stng meny",tooltipPlacement:"west"});c("#o-menutools").append(g),s=c("#o-mapmenu-button-close"),n(),u&&c("#o-map").width()>=i[0]&&o()},e.exports.toggleMenu=o,e.exports.getTarget=function(){return a}},{"./utils":189,"./viewer":205,jquery:26}],149:[function(t,e,i){"use strict";var n=t("openlayers"),o=(t("jquery"),t("./viewer"));e.exports={customProjection:function(t,e){return new n.proj.Projection({code:t,extent:e})},tileGrid:function(t){var e=t.extent||o.getExtent(),i=!1===t.alignBottomLeft?n.extent.getTopLeft(e):n.extent.getBottomLeft(e),r=t.resolutions||o.getResolutions(),s=t.tileSize||o.getTileSize();return new n.tilegrid.TileGrid({extent:e,origin:i,resolutions:r,tileSize:s})},checkZoomChange:function(t,e){return t!==e},createPointFeature:function(t,e){var i=new n.Feature({geometry:new n.geom.Point(t)});return i.setStyle(e),i},geojsonToFeature:function(t){return new n.source.Vector({features:(new n.format.GeoJSON).readFeatures(t)}).getFeatures()[0]},wktToFeature:function(t,e){return(new n.format.WKT).readFeature(t,{dataProjection:e,featureProjection:e})},zoomToExent:function(t,e){var i=o.getMap().getView(),n=e,r=t.getExtent();return r?(i.fit(r,{maxZoom:n}),r):void 0},getCenter:function(t){var e;switch(t.getType()){case"Polygon":e=t.getInteriorPoint().getCoordinates();break;case"MultiPolygon":e=t.getInteriorPoints()[0].getCoordinates();break;case"Point":e=t.getCoordinates();break;case"MultiPoint":e=t[0].getCoordinates();break;case"LineString":e=t.getCoordinateAt(.5);break;case"MultiLineString":e=t.getLineStrings()[0].getCoordinateAt(.5);break;case"Circle":e=t.getCenter()}return e},scaleToResolution:function(t,e){return t/(39.37*e.getMetersPerUnit()*(25.4/.28))}}},{"./viewer":205,jquery:26,openlayers:29}],150:[function(t,e,i){"use strict";function n(t){"measure"===t.interaction?(O("#o-measure-button button").addClass("o-measure-button-true"),A&&O("#o-measure-line-button").removeClass("o-hidden"),N&&O("#o-measure-polygon-button").removeClass("o-hidden"),O("#o-measure-button").removeClass("tooltip"),o(!0),b.trigger("click")):(y&&y.removeClass("o-measure-button-true"),O("#o-measure-button button").removeClass("o-measure-button-true"),A&&O("#o-measure-line-button").addClass("o-hidden"),N&&O("#o-measure-polygon-button").addClass("o-hidden"),O("#o-measure-button").addClass("tooltip"),v.un("pointermove",l),v.un("click",l),v.removeInteraction(w),E.setVisible(!1),_.removeOverlays(F),E.getSource().clear(),o(!1))}function o(t){G=!0===t}function r(t){if(A||N){var e=D.createElement("div","",{id:"o-measure-toolbar",cls:"o-toolbar-horizontal"});O(t).append(e);var i=D.createButton({id:"o-measure-button",cls:"o-measure-button",iconCls:"o-icon-steady-measure",src:"#steady-measure",tooltipText:"Mt i kartan"});O("#o-measure-toolbar").append(i)}if(A){var n=D.createButton({id:"o-measure-line-button",cls:"o-measure-type-button",iconCls:"o-icon-minicons-line-vector",src:"#minicons-line-vector",tooltipText:"Linje",tooltipPlacement:"north"});O("#o-measure-toolbar").append(n),O("#o-measure-line-button").addClass("o-hidden")}if(N){var o=D.createButton({id:"o-measure-polygon-button",cls:"o-measure-type-button",iconCls:"o-icon-minicons-square-vector",src:"#minicons-square-vector",tooltipText:"Yta",tooltipPlacement:"north"});O("#o-measure-toolbar").append(o),O("#o-measure-polygon-button").addClass("o-hidden")}}function s(){(A||N)&&O("#o-measure-button").on("click",function(t){d(),O("#o-measure-button button").blur(),t.preventDefault()}),A&&O("#o-measure-line-button").on("click",function(t){x="LineString",g(O("#o-measure-line-button button")),O("#o-measure-line-button button").blur(),t.preventDefault()}),N&&O("#o-measure-polygon-button").on("click",function(t){x="Polygon",g(O("#o-measure-polygon-button button")),O("#o-measure-polygon-button button").blur(),t.preventDefault()})}function a(t,e){return"LineString"==t.getGeometry().getType()?R.createStyleRule(P.linestring):R.createStyleRule(P.polygon)}function l(t){if(!t.dragging){var e=t.coordinate;if(M){var i,n=M.getGeometry();n instanceof L.geom.Polygon?(i=p(n),e=n.getInteriorPoint().getCoordinates()):n instanceof L.geom.LineString&&(i=f(n),e=n.getLastCoordinate()),C.innerHTML=i,I=i,S.setPosition(e)}"pointermove"==t.type&&(k.innerHTML="Klicka fr att brja mta",j.setPosition(t.coordinate))}}function h(){E.setVisible(!0),w=new L.interaction.Draw({source:T,type:x,style:R.createStyleRule(P.interaction)}),v.addInteraction(w),c(),u(),v.on("pointermove",l),v.on("click",l),w.on("drawstart",function(t){z=!0,M=t.feature,O(k).addClass("o-hidden")},this),w.on("drawend",function(t){var e=t.feature;e.setStyle(a(e)),e.getStyle()[0].getText().setText(I),O(C).remove(),M=null,C=null,c(),O(k).removeClass("o-hidden")},this)}function u(){k&&k.parentNode.removeChild(k),(k=document.createElement("div")).className="o-tooltip o-tooltip-measure",j=new L.Overlay({element:k,offset:[15,0],positioning:"center-left"}),F.push(j),v.addOverlay(j)}function c(){C&&C.parentNode.removeChild(C),(C=document.createElement("div")).className="o-tooltip o-tooltip-measure",S=new L.Overlay({element:C,offset:[0,-15],positioning:"bottom-center",stopEvent:!1}),F.push(S),v.addOverlay(S)}function f(t){var e,i;return e=v.getView().getProjection(),i=L.Sphere.getLength(t,{projection:e}),i>100?Math.round(i/1e3*100)/100+" km":Math.round(100*i)/100+" m"}function p(t){var e,i,n;e=v.getView().getProjection(),n=(i=L.Sphere.getArea(t,{projection:e}))>1e7?Math.round(i/1e6*100)/100+" km<sup>2</sup>":i>1e4?Math.round(i/1e4*100)/100+" ha":Math.round(100*i)/100+" m<sup>2</sup>";var o=document.createElement("span");return o.innerHTML=n,[].forEach.call(o.children,function(t){"SUP"===t.tagName&&(t.textContent=String.fromCharCode(t.textContent.charCodeAt(0)+128))}),o.textContent}function d(){G?O(".o-map").trigger({type:"enableInteraction",interaction:"featureInfo"}):O(".o-map").trigger({type:"enableInteraction",interaction:"measure"})}function g(t){y&&y.removeClass("o-measure-button-true"),t.addClass("o-measure-button-true"),y=t,v.removeInteraction(w),h()}var v,m,y,b,w,x,M,S,C,P,j,k,E,T,I,A,N,L=t("openlayers"),O=t("jquery"),_=t("./viewer"),D=t("./utils"),R=t("./style")(),q=t("./style/styletypes"),F=[],z=!1,G=!1;new L.Sphere(6378137);e.exports.init=function(t){if(m=t||{},m.measureTools=m.measureTools||["length","area"],A=m.measureTools.indexOf("length")>=0,N=m.measureTools.indexOf("area")>=0,m.default=m.default?m.default:A?"length":"area",A||N){var e=m.target||"#o-toolbar-maptools";v=_.getMap(),T=new L.source.Vector,P=q.getStyle("measure"),E=new L.layer.Vector({source:T,name:"measure",visible:!1,zIndex:6}),v.addLayer(E),O(".o-map").on("enableInteraction",n),r(e),s(),"area"===m.default?b=O("#o-measure-polygon-button button"):"length"===m.default&&(b=O("#o-measure-line-button button"))}}},{"./style":177,"./style/styletypes":183,"./utils":189,"./viewer":205,jquery:26,openlayers:29}],151:[function(t,e,i){"use strict";var n=t("jquery");e.exports=function(){function t(t,e,i){s='<div id="o-modal" class="'+i+'"><div class="o-modal-screen"></div><div class="o-modal"><div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div><div class="o-modal-title">'+t+'</div><div class="o-modal-content">'+e+"</div></div></div>"}function e(){!1===o?n(".o-modal-screen, .o-close-button").click(function(){i()}):n(".o-close-button").click(function(){i()})}function i(){n("#o-modal").remove()}var o=void 0,r=void 0,s=void 0;return{createModal:function(e,i){var s=i.title||"",a=i.content||"",l=i.cls||"";o=!!i.hasOwnProperty("static")&&i.static,t(s,a,l),r=n(e)},showModal:function(){r.prepend(s),e()},closeModal:i}}()},{jquery:26}],152:[function(t,e,i){"use strict";function n(){var t=a.createListButton({id:"o-offline",iconCls:"o-icon-fa-download",src:"#fa-download",text:"Nedladdningar"});r("#o-menutools").append(t),p=r("#o-offline-button")}function o(){p.on("click",function(t){l(u.getOfflineLayers()),t.preventDefault()})}var r=t("jquery"),s=t("./viewer"),a=t("./utils"),l=t("./offline/downloader"),h=t("./offline/downloadhandler"),u=t("./offline/offlinestore")(),c=void 0,f=void 0,p=void 0;e.exports.init=function(t){c=s.getMap(),f=s.getBaseUrl(),h(),n(),o()}},{"./offline/downloader":153,"./offline/downloadhandler":155,"./offline/offlinestore":160,"./utils":189,"./viewer":205,jquery:26}],153:[function(t,e,i){"use strict";var n=t("jquery"),o=t("../viewer"),r=t("./downloader.template.handlebars"),s=t("../components/spinner.handlebars"),a=t("../utils"),l=t("./offlinedispatcher"),h="o-downloader-td-toolbar-";e.exports=function(t){function e(t){p("#"+h+t.layerName,"pending",t.layerName)}function i(t){p("#"+h+t.layerName,t.state,t.layerName)}function u(){n(".o-downloader .o-close-button").on("click",function(t){b(),t.preventDefault()})}function c(t){Object.getOwnPropertyNames(t).forEach(function(e){f(e,t)})}function f(t,e){var i=o.getLayer(t),r=a.createElement("td",i.get("title"),{}),s=h+t,l=a.createElement("div","",{cls:"o-toolbar-horizontal",style:"text-align: right; float: right;",id:s}),u=r+a.createElement("td",l,{}),c="o-downloader-tr-"+t,f=a.createElement("tr",u,{cls:c});n(".o-downloader .o-table").append(f),p("#"+s,!0===e[t].downloaded?"offline":"download",t)}function p(t,e,i){n(t).empty(),"offline"===e?(d(t,i),g(t,i)):"download"===e?v(t,i):"pending"===e&&m(t)}function d(t,e){var i="o-downloader-refresh-"+e,o=y({href:"#fa-refresh",cls:"o-icon-fa-refresh",id:i});n(t).append(o),w("#"+i,e,"sync")}function g(t,e){var i="o-downloader-trash-"+e,o=y({href:"#fa-trash",cls:"o-icon-fa-trash",id:i});n(t).append(o),w("#"+i,e,"remove")}function v(t,e){var i="o-downloader-download-"+e,o=y({href:"#fa-download",cls:"o-icon-fa-download",id:i});n(t).append(o),w("#"+i,e,"download")}function m(t){var e=a.createElement("button","",{cls:"o-spinner"});n(t).append(e),n(".o-spinner").append(s)}function y(t){var e=a.createSvg({href:t.href,cls:t.cls});return a.createElement("button",e,{id:t.id})}function b(){n(".o-downloader").remove()}function w(t,e,i){n(t).on("click",function(t){l.emitChangeDownload(e,i),t.preventDefault(),t.stopPropagation()})}!function(t){n("#o-map").prepend(r),c(t),u()}(t),n(document).on("changeOfflineStart",e),n(document).on("changeOfflineEnd",i)}},{"../components/spinner.handlebars":101,"../utils":189,"../viewer":205,"./downloader.template.handlebars":154,"./offlinedispatcher":158,jquery:26}],154:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<div class="o-container-fluid o-downloader">\r\n  <div class="o-card">\r\n    <div class="o-card-header o-text-center">\r\n      <h6 class="o-card-heading">Nedladdningar</h6>\r\n      <div class="o-close-button">\r\n        <svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg>\r\n      </div>\r\n    </div>\r\n    <div class="o-card-content">\r\n      <table class ="o-table">\r\n\r\n      </table>\r\n    </div>\r\n  </div>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":25}],155:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("../viewer"),s=t("../layercreator"),a=t("./offlinelayer")(),l=t("./downloadsources"),h=t("./offlinedispatcher"),u=t("./offlinestore")(),c="Det intrffade ett fel nr lagret skulle hmtas. r du ansluten till internet?",f="Det intrffade ett fel nr frndringarna skulle sparas. Frsk igen senare.",p="Invalid format: ";e.exports=function(){function t(t){var e,i=r.getLayer(t),n=i.getProperties();h.emitChangeOfflineStart(t),n.style=n.styleName,n.source=n.sourceName,n.type=n.onlineType,e=s(n).getSource(),i.setSource(e),h.emitChangeOffline(i.get("name"),"remove")}function e(t){var e=u.getOfflineEdits(t);h.emitChangeOfflineStart(t),e?e.then(function(e){i(e,t).then(function(){d(t)}).fail(function(e){g(t,f,"alert")})}):d(t)}function i(t,e){var i=r.getLayer(e),o={delete:[],insert:[],update:[]},s=[];return t.forEach(function(t){var e,r=Object.getOwnPropertyNames(t)[0],a=i.getSource().getFeatureById(r);a?(o[t[r]].push(a),s.push(r)):"delete"===t[r]&&((e=new n.Feature).setId(r),o[t[r]].push(e),s.push(r))}),l[i.get("onlineType")].transaction(o,e).then(function(t){t>0&&h.emitChangeOffline(i.get("name"),"edits",s)})}function d(t){var e=r.getLayer(t),i=e.get("onlineType");h.emitChangeOfflineStart(t),l.hasOwnProperty(i)?l[i].request(e).then(function(i){a.setOfflineSource(t,i),h.emitChangeOffline(e.get("name"),"download")}).fail(function(e){g(t,c,"alert")}):(error="Sorry, "+i+" is not available as on offline format",g(t,p+i))}function g(t,e,i){var n;n=u.getOfflineLayer(t).downloaded?"offline":"download",i?alert(e):console.log(e),h.emitChangeOfflineEnd(t,n)}o(document).on("changeDownload",function(i){i.stopImmediatePropagation(),"download"===i.action?d(i.layerName):"sync"===i.action?e(i.layerName):"remove"===i.action&&t(i.layerName)}),u.init()}},{"../layercreator":144,"../viewer":205,"./downloadsources":156,"./offlinedispatcher":158,"./offlinelayer":159,"./offlinestore":160,jquery:26,openlayers:29}],156:[function(t,e,i){"use strict";var n={};n.WFS=t("./wfs"),n.GEOJSON=t("./geojson"),n.TOPOJSON=t("./topojson"),e.exports=n},{"./geojson":157,"./topojson":161,"./wfs":163}],157:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("./verifyfeatureids"),s={};s.request=function(t){var e=function(t){var e=new n.format.GeoJSON,i=t;return o.ajax({url:i,cache:!1}).then(function(t){var i=e.readFeatures(t);return i=r(i)})}(t.get("sourceName"));return e},e.exports=s},{"./verifyfeatureids":162,jquery:26,openlayers:29}],158:[function(t,e,i){"use strict";var n=t("jquery");e.exports={emitChangeOffline:function(t,e,i){n.event.trigger({type:"changeOffline",layerName:t,action:e,ids:i||void 0})},emitChangeDownload:function(t,e){n.event.trigger({type:"changeDownload",layerName:t,action:e})},emitChangeOfflineStart:function(t){n.event.trigger({type:"changeOfflineStart",layerName:t})},emitChangeOfflineEnd:function(t,e){n.event.trigger({type:"changeOfflineEnd",layerName:t,state:e})}}},{jquery:26}],159:[function(t,e,i){"use strict";t("jquery");var n=t("../viewer"),o=t("../layercreator");e.exports=function(){return{setOfflineSource:function(t,e){var i,r,s=n.getLayer(t);return s.set("type","OFFLINE"),r=s.getProperties(),r.type="FEATURE",r.features=e,r.style=r.styleName,i=o(r).getSource(),s.setSource(i),s},setOnlineSource:function(t){var e,i,r=n.getLayer(t);return r.set("type",r.get("onlineType")),i=r.getProperties(),i.source=i.sourceName,i.style=i.styleName,e=o(i).getSource(),r.setSource(e),r}}}},{"../layercreator":144,"../viewer":205,jquery:26}],160:[function(t,e,i){var n,o,r,s=t("jquery"),a=t("openlayers"),l=t("../viewer"),h=t("localforage"),u=t("./offlinelayer")(),c=t("./offlinedispatcher"),f=t("../editor/editdispatcher"),p=new a.format.GeoJSON,d={},g={},v={};e.exports=function(){function t(t,e){var i={};return t.forEach(function(t){i[t]=h.createInstance({name:e,storeName:t})}),i}function e(t){t.forEach(function(t){var e=l.getLayer(t);e.set("onlineType",e.get("type")),v[t]={downloaded:!1,edits:!1},u.setOfflineSource(t,[])})}function i(t){t.stopImmediatePropagation(),"download"===t.action?m(t.layerName):"edits"===t.action?y(t.layerName,t.ids):"remove"===t.action&&b(t.layerName)}function a(t){t.stopImmediatePropagation(),g[t.layerName]||(g[t.layerName]=h.createInstance({name:o,storeName:t.layerName})),t.edits.update&&I(t.edits.update,t.layerName),t.edits.insert&&A(t.edits.insert,t.layerName),t.edits.delete&&N(t.edits.delete,t.layerName)}function m(t){v[t].downloaded?d[t].clear().then(function(){S(t)}):S(t)}function y(t,e){var i=e.map(function(e){return O(e,t)});return Promise.all(i).then(function(){return!0})}function b(t){v[t].edits?confirm("Du har fortfarande offline-ndringar som inte r sparade. Om du fortstter kommer dessa att frsvinna.")&&w(t):w(t)}function w(t){if(v[t])return d[t].clear().then(function(){T(t),c.emitChangeOfflineEnd(t,"download")})}function x(t,e){v[t].downloaded=!!e}function M(t,e){v[t].edits=!!e}function S(t){d[t]?C(t,l.getLayer(t).getSource().getFeatures()):console.log(t+" is missing in storage")}function C(t,e){var i=e.map(function(e){var i=e.getId(),n=p.writeFeatureObject(e);return d[t].setItem(i,n)});Promise.all(i).then(function(i){E(t,e),c.emitChangeOfflineEnd(t,"offline")})}function P(t){var e=l.getLayer(t).get("geometryName"),i=[];return d[t].iterate(function(t,n,o){var r=R(p.readFeature(t),e);i.push(r)}).then(function(){return i})}function j(t){l.getLayer(t);var e=[];return g[t].iterate(function(t,i,n){var o={};o[i]=t,e.push(o)}).then(function(){return e})}function k(){Object.getOwnPropertyNames(d).forEach(function(t){P(t).then(function(e){e.length?E(t,e):T(t)}),j(t).then(function(e){e.length?M(t,!0):M(t,!1)})})}function E(t,e){u.setOfflineSource(t,e),x(t,!0)}function T(t){u.setOnlineSource(t),x(t,!1)}function I(t,e){t.forEach(function(t){var i=t.getId();g[e].getItem(i).then(function(i){null===i?L(t,e,"update"):_(t,e,"update")})})}function A(t,e){t.forEach(function(t){L(t,e,"insert")})}function N(t,e){t.forEach(function(t){var i=t.getId();g[e].getItem(i).then(function(i){null===i?L(t,e,"delete"):"insert"===i?O(t.getId(),e).then(function(){D(t,e,"delete")}):_(t,e,"delete")})})}function L(t,e,i){var n=t.getId();g[e].setItem(n,i).then(function(){M(e,!0),_(t,e,i)})}function O(t,e){return g[e].removeItem(t).then(function(){g[e].length().then(function(t){t>0?M(e,!0):M(e,!1)})})}function _(t,e,i){var n=t.getId();d[e].setItem(n,p.writeFeatureObject(t)).then(function(){D(t,e,i)})}function D(t,e,i){f.emitChangeFeature({feature:[t],layerName:e,status:"finished",action:i})}function R(t,e){var i=t.getGeometry();return t.unset(t.getGeometryName()),t.setGeometryName(e),t.setGeometry(i),t}return{getOfflineLayers:function(){return v},getOfflineLayer:function(t){return v[t]},getOfflineEdits:function(t){return v[t].edits?j(t):void 0},getEditsItems:j,init:function(h){var u,c=h||{};r=l.getMap(),n=c.name||"origo-layers",o=c.editsName||"origo-layers-edits",e(u=l.getLayersByProperty("offline",!0,!0)),d=t(u,n),g=t(u,o),k(),s(document).on("changeOffline",i),s(document).on("changeOfflineEdits",a)}}}},{"../editor/editdispatcher":108,"../viewer":205,"./offlinedispatcher":158,"./offlinelayer":159,jquery:26,localforage:27,openlayers:29}],161:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("./verifyfeatureids"),s={};s.request=function(t){var e=function(t){var e=new n.format.TopoJSON,i=t;return o.ajax({url:i,cache:!1}).then(function(t){var i=e.readFeatures(t);return i=r(i)})}(t.get("sourceName"));return e},e.exports=s},{"./verifyfeatureids":162,jquery:26,openlayers:29}],162:[function(t,e,i){"use strict";var n=t("../utils/generateuuid");e.exports=function(t){return t[0]&&void 0===t[0].getId()&&t.forEach(function(t){t.setId(n())}),t}},{"../utils/generateuuid":191}],163:[function(t,e,i){"use strict";var n=t("openlayers"),o=t("jquery"),r=t("../viewer"),s=t("../editor/wfstransaction"),a={};a.request=function(t){var e=r.getMapSource()[t.get("sourceName")];e.featureType=t.get("name").split("__").shift(),e.geometryName=t.get("geometryName"),e.filter=t.get("filter"),e.projectionCode=r.getProjectionCode(),e.extent=t.get("extent"),e.projectionCode=r.getProjectionCode();var i=function(t){var e,i,r=new n.format.GeoJSON({geometryName:t.geometryName}),s=t.url;return e=t.filter?"&CQL_FILTER="+t.filter+" AND BBOX("+t.geometryName+","+t.extent.join(",")+",'"+t.projectionCode+"')":"&BBOX="+t.extent.join(",")+","+t.projectionCode,i=s+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t.featureType+"&outputFormat=application/json&srsname="+t.projectionCode+e,o.ajax({url:i,cache:!1}).then(function(t){return r.readFeatures(t)})}(e);return i},a.transaction=function(t,e){return s(t,e)},e.exports=a},{"../editor/wfstransaction":117,"../viewer":205,jquery:26,openlayers:29}],164:[function(t,e,i){"use strict";var n=t("./permalinkparser"),o=t("./permalinkstore"),r=t("../utils/urlparser");e.exports={getPermalink:function(t){var e=r.formatUrl(o.getState());return o.getUrl()+"#"+e},parsePermalink:function(t){if(t.indexOf("#")>-1){var e={};return t.split("#")[1].split("&").forEach(function(t){var i=t.split("=")[0],o=t.split("=")[1];n.hasOwnProperty(i)&&(e[i]=n[i](o))}),e}return!1}}},{"../utils/urlparser":203,"./permalinkparser":165,"./permalinkstore":166}],165:[function(t,e,i){"use strict";var n=t("../utils/urlparser"),o={v:{name:"visible",dataType:"boolean"},s:{name:"legend",dataType:"boolean"}};e.exports={layers:function(t){var e={};return t.split(",").forEach(function(t){var i={},r=n.objectify(t,{topmost:"name"});Object.getOwnPropertyNames(r).forEach(function(t){var e=r[t];if(o.hasOwnProperty(t)){var s=o[t];i[s.name]=n.strBoolean(e)}else i[t]=e}),e[i.name]=i}),e},zoom:function(t){return parseInt(t)},center:function(t){return t.split(",").map(function(t){return parseInt(t)})},selection:function(t){return n.strArrayify(t,{topmostName:"geometryType",arrName:"coordinates"})},pin:function(t){return n.strIntify(t)},map:function(t){return t}}},{"../utils/urlparser":203}],166:[function(t,e,i){"use strict";function n(t){var e=[];return t.forEach(function(t){var i={};i.v=!0===t.getVisible()?1:0,i.s=!0===t.get("legend")?1:0,(i.s||i.v)&&(i.name=t.get("name"),e.push(l.stringify(i,{topmost:"name"})))}),e}var o,r,s=t("../viewer"),a=(t("../featureinfo").getSelection,t("../featureinfo").getPin),l=t("../utils/urlparser"),h={};h.getState=function(){o={};var t=s.getMap().getView(),e=s.getLayers();return o.layers=n(e),o.center=t.getCenter().map(function(t){return Math.round(t)}).join(),o.zoom=t.getZoom().toString(),a()&&(o.pin=a().getGeometry().getCoordinates().map(function(t){return Math.round(t)}).join()),s.getMapName()&&(o.map=s.getMapName().split(".")[0]),o},h.getUrl=function(){return r=s.getUrl()},e.exports=h},{"../featureinfo":118,"../utils/urlparser":203,"../viewer":205}],167:[function(t,e,i){"use strict";function n(t){u(t).append('<div id="o-popup"><div class="o-popup o-card"><div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div><div class="o-card-title"></div><div class="o-card-content"></div></div></div>')}function o(){u("#o-popup .o-popup .o-close-button").on("click",function(t){h(),t.preventDefault()})}function r(){return u("#o-popup").get(0)}function s(t){1==t?u("#o-popup .o-popup").css("display","block"):u("#o-popup .o-popup").css("display","none")}function a(t){u("#o-popup .o-card-title").html(t)}function l(t){t.title?u("#o-popup .o-popup .o-card-title").html(t.title):u("#o-popup .o-popup .o-card-title").html(""),t.content?u("#o-popup .o-popup .o-card-content").html(t.content):u("#o-popup .o-popup .o-card-content").html("")}function h(){s(!1)}var u=t("jquery");e.exports=function(t){return n(t),o(),{getEl:r,setVisibility:s,setTitle:a,setContent:l,closePopup:h}}},{jquery:26}],168:[function(t,e,i){"use strict";function n(){var t=E.createSvg({href:"#o_centerposition_24px",cls:"o-icon-position"}),e=E.createElement("button",t,{cls:"o-position-center-button",id:O});e+=E.createElement("button",B[G],{id:A,cls:"o-position-button",value:G});var i=E.createElement("div","",{id:N,cls:N,style:"padding-left: 5px;"}),n=E.createElement("input","",{id:L,cls:L,type:"text",name:L,style:"padding-left: 5px;"}),o=E.createElement("div",e+i+n,{id:T,cls:T,style:"display: inline-block;"});j("#"+F).append(o)}function o(){j("#"+A).on("click",g),j("#"+O).on("click",d)}function r(){C=new P.control.MousePosition({coordinateFormat:P.coordinate.createStringXY(V),projection:G,target:document.getElementById(N),undefinedHTML:"&nbsp;"}),R.addControl(C),H=!0,j("#"+N).addClass("o-active")}function s(){R.removeControl(C),j("#"+N).removeClass("o-active"),H=!1}function a(){h(),j("#"+O).addClass("o-active"),j("#"+L).addClass("o-active"),M(q.getCenter()),q.on("change:center",v),j("#"+L).on("keypress",m)}function l(){q.un("change:center",v),p(),j("#"+L).off("keypress",m),j("#"+I).remove(),j("#"+O).removeClass("o-active"),j("#"+L).removeClass("o-active")}function h(){var t=E.createSvg({href:"#o_centerposition_24px",cls:"o-icon-position-marker"}),e=E.createElement("div",t,{id:I,cls:I});j("#o-map").append(e)}function u(){var t=c(j("#"+L).val());2===t.length&&R.getView().animate({center:t,zoom:k.getResolutions().length-3})}function c(t){var e,i=k.getExtent()||q.getProjection().getExtent(),n=t.split(",").map(function(t){return parseFloat(t)}).filter(function(t){if(NaN!==t)return t});return 2!==n.length?(alert(_),[]):(G!==X&&(n=x(n,G,X)),e=n[0]>=i[0]&&n[1]>=i[1],(e=e&&n[0]<=i[2]&&n[1]<=i[3])?n:(alert(D),[]))}function f(t){var e,i=void 0;return(e=U.indexOf(t))===U.length-1?i=U[0]:e<U.length-1&&(i=U[e+1]),i}function p(){S("")}function d(){H?(s(),a()):(r(),l())}function g(t){return function(t){G=f(this.value),b(),w(),H?(s(),r()):M(q.getCenter()),this.blur(),t.preventDefault()}.bind(this)(t)}function v(){M(q.getCenter())}function m(t){13===t.which&&u()}function y(t){return V?t.map(function(t){return t.toFixed(V)}):t.map(function(t){return Math.round(t)})}function b(){V="EPSG:4326"===G?5:0}function w(){j("#"+A).val(G),j("#"+A).text(B[G])}function x(t,e,i){return new P.Feature({geometry:new P.geom.Point(t)}).getGeometry().transform(e,i).getCoordinates()}function M(t){var e=t;G!==X&&(e=x(e,W,G)),S((e=y(e)).join(", ")+z)}function S(t){j("#"+L).val(t)}var C,P=t("openlayers"),j=t("jquery"),k=t("./viewer"),E=t("./utils"),T="o-position",I="o-position-marker",A="o-position-toggle-proj",N="o-position-coords",L="o-position-find",O="o-toggle-position",_="Ogiltigt tecken fr koordinat, vnligen frsk igen.",D="Angivna koordinater ligger inte inom kartans utstrckning, vnligen frsk igen.",R=void 0,q=void 0,F=void 0,z=void 0,G=void 0,B=void 0,U=void 0,W=void 0,X=void 0,V=void 0,H=!1;e.exports.init=function(t){var e=t||{},i=e.title||void 0;z=e.suffix||"",R=k.getMap(),q=R.getView(),W=q.getProjection(),X=k.getProjectionCode(),F=k.getConsoleId(),B=e.projections||{},U=Object.getOwnPropertyNames(B),i?(B[G=X]=i,U.unshift(X)):U.length?G=U[0]:alert("No title or projection is set for position"),b(),n(),o(),r()}},{"./utils":189,"./viewer":205,jquery:26,openlayers:29}],169:[function(t,e,i){"use strict";function n(){var t=p.createListButton({id:"o-print",iconCls:"o-icon-fa-print",src:"#fa-print",text:"Skriv ut"});c("#o-menutools").append(t),a=c("#o-print-button")}function o(){a.on("click",function(t){c("#app-wrapper").append('<canvas id="o-print" style="display: none"></canvas>'),s(),t.preventDefault()})}function r(t){var e=new Image;try{e.src=t.get(0).toDataURL("image/png")}catch(t){console.log(t)}finally{var i={};i.src=e.src,i.attribution=l,i.logoSrc=u+"css/png/logo_print.png";var n=d(i),o=window.open("","","width=800,height=820");o.document.write(n),o.document.close(),setTimeout(function(){o.print(),setTimeout(function(){o.close(),c("#o-print").remove()},10)},200)}}function s(){var t=c("canvas"),e=new Image;try{var i=t.get(0).toDataURL("image/png")}catch(t){console.log(t)}finally{var n=c("#o-print");e.onload=function(){var i=n[0].getContext("2d"),o=t[0].width,s=t[0].height;o<g?n[0].width=o:o>=g&&(n[0].width=g),s<g?n[0].height=s:o>=g&&(n[0].height=g),i.drawImage(e,o/2-n[0].width/2,0,n[0].width,n[0].height,0,0,n[0].width,n[0].height),r(n)},e.src=i}}var a,l,h,u,c=t("jquery"),f=t("./viewer"),p=t("./utils"),d=t("./templates/print.handlebars"),g=800;e.exports.init=function(t){l=(t||{}).attribution||" Lantmteriet Geodatasamverkan",h=f.getMap(),u=f.getBaseUrl(),n(),o()}},{"./templates/print.handlebars":187,"./utils":189,"./viewer":205,jquery:26}],170:[function(t,e,i){"use strict";var n,o=t("openlayers"),r=t("jquery"),s=t("./viewer"),a=t("./utils");e.exports.init=function(t){var e,i=a.createSvg({href:"#origo-compass",cls:"o-icon-compass"});n=s.getMap(),e=new o.control.Rotate({label:r.parseHTML("<span>"+i+"</span>")[0],tipLabel:" ",target:"o-toolbar-misc"}),n.addControl(e)}},{"./utils":189,"./viewer":205,jquery:26,openlayers:29}],171:[function(t,e,i){"use strict";function n(){var t=f.createElement("div","",{id:d,style:"display: inline-block;"});u("#"+s).append(t)}function o(t){!0===t?(a.on("movestart",r),r(),l=!0):!1===t&&(a.un("movestart",r),l=!1)}function r(t){a.once("moveend",function(e){var i=a.getView(),n=t?t.frameState.viewState.resolution:i.getResolution(),o=i.getZoomForResolution(n),r=parseInt(i.getZoom(),10),s=i.getResolution();if(r!==o){var l=c.getScale(s);u("#"+d).text(h+p(l))}})}var s,a,l,h,u=t("jquery"),c=t("./viewer"),f=t("./utils"),p=t("./utils/numberformatter"),d="o-scale";e.exports.init=function(t){var e=t||{};return a=c.getMap(),s=c.getConsoleId(),h=e.scaleText||"Skala 1:",o(!e.hasOwnProperty("isActive")||e.isActive),n(),{setActive:o}}},{"./utils":189,"./utils/numberformatter":197,"./viewer":205,jquery:26}],172:[function(t,e,i){"use strict";var n,o=t("openlayers"),r=t("./viewer");e.exports.init=function(t){var e=(t||{}).target||"o-tools-bottom";n=r.getMap();var i=new o.control.ScaleLine({target:e});n.addControl(i)}},{"./viewer":205,openlayers:29}],173:[function(t,e,i){"use strict";function n(){var t='<div id="o-search-wrapper" class="o-search-wrapper"><div id="o-search" class="o-search o-search-false"><input id="hjl" class="o-search-field form-control" type="text" placeholder="'+A+'"><button id="o-search-button"><svg class="o-icon-fa-search"><use xlink:href="#fa-search"></use></svg></button><button id="o-search-button-close"><svg class="o-icon-search-fa-times"><use xlink:href="#fa-times"></use></svg></button></div></div>';q("#o-map").append(t)}function o(){document.getElementById("hjl").addEventListener("awesomplete-selectcomplete",m),q("#o-search .o-search-field").on("input",function(){q("#o-search .o-search-field").val()&&q("#o-search").hasClass("o-search-false")?(q("#o-search").removeClass("o-search-false"),q("#o-search").addClass("o-search-true"),f()):!q("#o-search .o-search-field").val()&&q("#o-search").hasClass("o-search-true")&&(q("#o-search").removeClass("o-search-true"),q("#o-search").addClass("o-search-false"))}),q(".o-search-field").on("blur",function(t){q(".o-search-wrapper").removeClass("active"),window.dispatchEvent(new Event("resize"))}),q(".o-search-field").on("focus",function(t){q(".o-search-wrapper").addClass("active"),window.dispatchEvent(new Event("resize"))})}function r(){var t;q.support.cors=!0;var e=q("#o-search .o-search-field");D=new B("#o-search .o-search-field",{minChars:_,autoFirst:!1,sort:!1,item:u,filter:function(t,e){return t.value}});var i=function(e){t=[],J={},e.length&&(h(e),t=b&&C?l(a(J)):s(),D.list=t,D.evaluate())};q(e).on("keyup",function(t){var e=t.keyCode;if(this.value.length>=_){if(e in $)return;c(i,this)}})}function s(){return Object.keys(J).map(function(t){return J[t]})}function a(t){var e={};return Object.keys(t).forEach(function(i){var n=t[i],o=n[C];o in e==!1&&(e[o]=[],n.header=F.getLayer(o).get("title")),e[o].push(n)}),e}function l(t){for(var e=Object.keys(t),i={},n=0,o=0;n<O&&e.length;)e.slice().forEach(function(r){if(n<O){var s=t[r][o];r in i==!1&&(i[r]=[]),i[r][o]=s,t[r][o+1]||e.splice(e.indexOf(r),1)}n++}),o++;return Object.keys(i).reduce(function(t,e){return t.concat(i[e])},[])}function h(t){t.forEach(function(t){var e=Z();t.label=e,t.value=t[b],J[e]=t})}function u(t,e){var i=J[t.label]||{},n="header"in i?'<div class="heading">'+i.header+"</div>":"",o={},r=""===e?t.value:t.value.replace(RegExp(B.$.regExpEscape(e),"gi"),"<mark>$&</mark>");return r=n+'<div class="suggestion">'+r+"</div>",o={innerHTML:r,"aria-selected":"false"},"header"in i&&(o.className="header"),B.$.create("li",o)}function c(t,e){q.ajax({url:T+"?q="+encodeURI(e.value),type:"GET",dataType:"json"}).then(t)}function f(){q("#o-search-button-close").on("click",function(t){v(),g(),q("#o-search").removeClass("o-search-true"),q("#o-search").addClass("o-search-false"),q("#o-search .o-search-field").val(""),q("#o-search-button").blur(),t.preventDefault()})}function p(t,e){var i,n;g(),i=G("#o-map"),L=new R.Overlay({element:i.getEl()}),y.addOverlay(L),L.setPosition(e),n=t[b],i.setContent({content:n,title:I}),i.setVisibility(!0),V.zoomToExent(new R.geom.Point(e),E)}function d(t,e,i){var n={};n.feature=t[0],n.title=e,n.content=i,g(),X.identify([n],"overlay",H(t[0].getGeometry())),V.zoomToExent(t[0].getGeometry(),E)}function g(){X.clear(),L&&F.removeOverlays(L)}function v(){D.list=[],h([])}function m(t){var e,i,n,o,r=t.text.label,s=J[r];C&&S?(e=F.getLayer(s[C]),r=s[S],U(r,e).done(function(t){var i;t.length>0?d(t,e.get("title"),W(t[0],e)):M&&(i=z(s[M],N).getGeometry().getCoordinates(),p(s,i))})):M&&P?d([i=z(s[M],N)],(e=F.getLayer(s[P])).get("title"),W(i,e)):j&&k&&M?(i=z(s[M],N),n=Y.createElement("div",s[k]),d([i],s[j],n)):M&&I?(i=z(s[M],N),n=Y.createElement("div",s[b]),d([i],I,n)):x&&w&&I?(o=[s[x],s[w]],p(s,o)):console.log("Search options are missing")}var y,b,w,x,M,S,C,P,j,k,E,T,I,A,N,L,O,_,D,R=t("openlayers"),q=t("jquery"),F=t("./viewer"),z=t("./maputils").wktToFeature,G=t("./popup"),B=t("awesomplete"),U=t("./getfeature"),W=t("./getattributes"),X=t("./featureinfo"),V=t("./maputils"),H=t("./geometry/getcenter"),Y=t("./utils"),Z=t("./utils/generateuuid"),$={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},J={};e.exports.init=function(t){b=t.searchAttribute,w=t.northing||void 0,x=t.easting||void 0,M=t.geometryAttribute,S=t.idAttribute,C=t.layerNameAttribute||void 0,P=t.layerName||void 0,T=t.url,I=t.title||"",j=t.titleAttribute||void 0,k=t.contentAttribute||void 0,E=t.maxZoomLevel||F.getResolutions().length-2||F.getResolutions(),O=t.limit||9,A=t.hintText||"Sk...",_=t.minLength||4,N=F.getProjectionCode(),y=F.getMap(),n(),r(),o()}},{"./featureinfo":118,"./geometry/getcenter":124,"./getattributes":126,"./getfeature":127,"./maputils":149,"./popup":167,"./utils":189,"./utils/generateuuid":191,"./viewer":205,awesomplete:5,jquery:26,openlayers:29}],174:[function(t,e,i){"use strict";function n(){r.on("click",function(t){a.createModal("#o-map",{title:"Lnk till karta",content:'<div class="o-share-link"><input type="text"></div><i>Kopiera och klistra in lnken fr att dela kartan.</i>'}),a.showModal(),o(),l.toggleMenu(),t.preventDefault()})}function o(){var t=u.getPermalink();s(".o-share-link input").val(t).select()}var r,s=t("jquery"),a=(t("./viewer"),t("./modal")),l=t("./mapmenu"),h=t("./utils"),u=t("./permalink/permalink");e.exports.init=function(){var t=h.createListButton({id:"o-share",iconCls:"o-icon-fa-share-square-o",src:"#fa-share-square-o",text:"Dela karta"});s("#o-menutools").append(t),r=s("#o-share-button"),n()}},{"./mapmenu":148,"./modal":151,"./permalink/permalink":164,"./utils":189,"./viewer":205,jquery:26}],175:[function(t,e,i){"use strict";function n(){a("#o-sidebar .o-sidebar .o-close-button").on("click",function(t){r(),t.preventDefault()})}function o(t){1==t?a("#o-sidebar").addClass("o-sidebar-show"):a("#o-sidebar").removeClass("o-sidebar-show")}function r(){o(!1)}var s,a=t("jquery");t("./viewer"),t("./utils");e.exports.init=function(){a("#o-map").append('<div id="o-sidebar"><div class="o-sidebar o-card"><div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div><div class="o-card-title"></div><div class="o-card-content"></div></div></div>'),s=a("#o-sidebar"),n()},e.exports.setVisibility=o,e.exports.setTitle=function(t){a("#o-sidebar .o-card-title").html(t)},e.exports.setContent=function(t){t.title?a("#o-sidebar .o-sidebar .o-card-title").html(t.title):a("#o-sidebar .o-sidebar .o-card-title").html(""),t.content?a("#o-sidebar .o-sidebar .o-card-content").html(t.content):a("#o-sidebar .o-sidebar .o-card-content").html("")},e.exports.closeSidebar=r},{"./utils":189,"./viewer":205,jquery:26}],176:[function(t,e,i){"use strict";function n(t){return a.get(t)}function o(){l.createModal("#o-map",{title:r,content:s,cls:f}),l.showModal()}var r,s,a=t("jquery"),l=t("./modal"),h=t("./viewer"),u="Om kartan",c="<p></p>",f="o-splash";e.exports.init=function(t){var e=t||{};r=e.title||u,e.url?n(h.getBaseUrl()+e.url).done(function(t){s=t,o()}):(s=e.content||c,o())}},{"./modal":151,"./viewer":205,jquery:26}],177:[function(require,module,exports){"use strict";function Init(){baseUrl=Viewer.getBaseUrl()}function createStyleOptions(t){var e={};if(t.hasOwnProperty("geometry"))switch(t.geometry){case"centerPoint":e.geometry=function(t){var e=t.getGeometry().getInteriorPoints().getFirstCoordinate();return new ol.geom.Point(e)};break;case"endPoint":e.geometry=function(t){var e=t.getGeometry().getLastCoordinate();return new ol.geom.Point(e)}}return t.hasOwnProperty("zIndex")&&(e.zIndex=t.zIndex),t.hasOwnProperty("fill")&&(e.fill=new ol.style.Fill(t.fill)),t.hasOwnProperty("stroke")&&(e.stroke=new ol.style.Stroke(t.stroke)),t.hasOwnProperty("text")&&(e.text=new ol.style.Text(t.text),t.text.hasOwnProperty("fill")&&e.text.setFill(new ol.style.Fill(t.text.fill)),t.text.hasOwnProperty("stroke")&&e.text.setStroke(new ol.style.Stroke(t.text.stroke))),t.hasOwnProperty("icon")&&(t.icon.hasOwnProperty("src")&&(t.icon.src=validateUrl(t.icon.src,baseUrl)),e.image=new ol.style.Icon(t.icon)),t.hasOwnProperty("circle")&&(e.image=new ol.style.Circle({radius:t.circle.radius,fill:new ol.style.Fill(t.circle.fill)||void 0,stroke:new ol.style.Stroke(t.circle.stroke)||void 0})),e}function createStyleList(t){for(var e=[],i=0;i<t.length;i++){var n,o=[];if(t[i].constructor===Array)for(var r=0;r<t[i].length;r++)n=createStyleOptions(t[i][r]),o.push(new ol.style.Style(n));else n=createStyleOptions(t[i]),o=[new ol.style.Style(n)];e.push(o)}return e}function createStyle(t,e){var i=Viewer.getStyleSettings()[t];if($.isEmptyObject(i)&&alert("Style "+t+" is not defined"),i[0][0].hasOwnProperty("custom"))return o=styleFunctions(i[0][0].custom,i[0][0].params);var n=Viewer.getStyleSettings()[e],o=function(){var t=createStyleList(i);if(n){var e=createStyleList(n);return styleFunction(i,t,n,e)}return styleFunction(i,t)}();return o}function createStyleRule(t){var e=[];if(t.constructor===Array)for(var i=0;i<t.length;i++){var n=createStyleOptions(t[i]);e.push(new ol.style.Style(n))}else n=createStyleOptions(t),e=[new ol.style.Style(n)];return e}function styleFunction(t,e,i,n){var o=Viewer.getResolutions();return function(r,s){var a=Viewer.getScale(s),l=n?r.get("features").length:1;return l>1&&s!=o[o.length+1]?checkOptions(r,a,i,n,l.toString()):checkOptions(r,a,t,e)}}function createEditStyle(){return{Point:createStyleRule(editStyleOptions.Point),MultiPoint:createStyleRule(editStyleOptions.Point),LineString:createStyleRule(editStyleOptions.LineString),MultiLineString:createStyleRule(editStyleOptions.LineString),Polygon:createStyleRule(editStyleOptions.Polygon),MultiPolygon:createStyleRule(editStyleOptions.Polygon)}}function checkOptions(feature,scale,styleSettings,styleList,size){for(var s=styleSettings,j=0;j<s.length;j++){var styleL;if(Viewer.checkScale(scale,s[j][0].maxScale,s[j][0].minScale)){if(s[j].some(function(t,e,i){t.hasOwnProperty("text")&&size?styleList[j][e].getText().setText(size):t.hasOwnProperty("text")&&styleList[j][e].getText().setText(replacer.replace(t.text.text,feature.getProperties()))}),!s[j][0].hasOwnProperty("filter"))return styleL=styleList[j];var featAttr,expr,featMatch,matches=s[j][0].filter.match(/\[(.*?)\]/);if(matches&&(feature.get("features")&&(feature=feature.get("features")[0]),featAttr=matches[1],expr=s[j][0].filter.split("]")[1],featMatch=feature.get(featAttr),expr="number"==typeof featMatch?featMatch+expr:'"'+featMatch+'"'+expr),eval(expr))return styleL=styleList[j]}}}var ol=require("openlayers"),$=require("jquery"),Viewer=require("./viewer"),validateUrl=require("./utils/validateurl"),styleFunctions=require("./style/stylefunctions"),replacer=require("../src/utils/replacer"),baseUrl,white=[255,255,255,1],blue=[0,153,255,1],width=3,editStyleOptions={Point:[{circle:{radius:1,stroke:{color:blue,width:0},fill:{color:blue}}}],LineString:[{stroke:{color:white,width:width+2}},{stroke:{color:blue,width:width}}],Polygon:[{stroke:{color:white,width:width+2}},{stroke:{color:blue,width:width}}]};module.exports=function(){return{init:Init,createStyleOptions:createStyleOptions,createStyleList:createStyleList,createStyleRule:createStyleRule,createStyle:createStyle,styleFunction:styleFunction,createEditStyle:createEditStyle}}},{"../src/utils/replacer":199,"./style/stylefunctions":181,"./utils/validateurl":204,"./viewer":205,jquery:26,openlayers:29}],178:[function(t,e,i){var n={black:[0,0,0],red:[255,59,48],yellow:[255,204,0],green:[0,255,0],cyan:[0,255,255],blue:[0,122,255],magenta:[255,0,255],default:[255,255,255]};e.exports=function(t,e){var i;return i=t in n?n[t]:n.default,e?i.concat(e):i}},{}],179:[function(t,e,i){"use strict";var n={linestring:[{geometry:"endPoint",circle:{fill:{color:[0,153,255,1]},stroke:{color:[0,153,255,1],width:1},radius:3},text:{font:'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',textBaseline:"bottom",textAlign:"center",offsetY:-4,fill:{color:[0,153,255,1]},stroke:{color:[255,255,255,.8],width:4}}},{stroke:{color:[0,153,255,1],width:2}}],polygon:[{fill:{color:[255,255,255,.4]},stroke:{color:[0,153,255,1],width:2},text:{font:'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',textBaseline:"middle",textAlign:"center",fill:{color:[0,153,255,1]},stroke:{color:[255,255,255,.8],width:4}}}],interaction:[{fill:{color:[255,255,255,.2]},stroke:{color:[0,0,0,.5],lineDash:[10,10],width:2},circle:{radius:5,stroke:{color:[0,0,0,.7]},fill:{color:[255,255,255,.2]}}}]};e.exports=n},{}],180:[function(t,e,i){"use strict";var n=[{icon:{anchor:[.5,32],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"img/png/drop_blue.png"}}];e.exports=n},{}],181:[function(t,e,i){"use strict";var n={default:t("./stylefunctions/default")};e.exports=function(t,e){return t in n?n[t](e):n.default(e)}},{"./stylefunctions/default":182}],182:[function(t,e,i){var n=t("openlayers"),o=t("../getcolor");e.exports=function(t){var e=new n.style.Fill({color:""}),i=new n.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"}),r=(new n.style.Stroke({color:"",width:0}),new n.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"})),s=new n.style.Stroke({color:"",width:1,lineDash:[1,2]}),a=new n.style.Style({fill:e,zIndex:1}),l=new n.style.Style({fill:e,stroke:i,zIndex:2}),h=(new n.style.Style({fill:e,stroke:s,zIndex:2}),new n.style.Style({stroke:i,zIndex:10})),u=(new n.style.Style({stroke:r,zIndex:11}),new n.style.Style({stroke:s,zIndex:12}),new n.style.Style({image:new n.style.Circle({radius:5,fill:e,stroke:i}),zIndex:50})),c=[];return function(t,n){a.setZIndex(1),h.setZIndex(10);var r=0;switch(t.getGeometry().getType()){case"Polygon":case"MultiPolygon":i.setColor(o("blue")),i.setWidth(1),e.setColor(o("blue",.8)),c[r++]=l;break;case"LineString":case"MultiLineString":i.setColor(o("red")),i.setWidth(1),c[r++]=h;break;case"Point":case"MultiPoint":i.setColor(o("yellow")),i.setWidth(1),e.setColor(o("yellow",.8)),c[r++]=u;break;default:i.setColor(o("blue")),i.setWidth(1),e.setColor(o("blue",.8)),c[r++]=l}return c.length=r,c}}},{"../getcolor":178,openlayers:29}],183:[function(t,e,i){"use strict";var n=t("./pin"),o=t("./measure");e.exports=function(){var t={};return t.pin=n,t.measure=o,{getStyle:function(e){if(e)return t[e];console.log(e+" is not a default style")}}}()},{"./measure":179,"./pin":180}],184:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){return'<div id="o-editor-toolbar" class="o-editor-toolbar o-toolbar o-toolbar-horizontal o-padding-horizontal-8 o-rounded-top o-hidden">\r\n    <div id="o-editor-toolbar-drawtools" class="o-toolbar-horizontal">\r\n      <div class="o-popover-container">\r\n        <button id="o-editor-draw" class="o-button-lg" type="button" name="button">\r\n          <svg class="o-icon-24">\r\n              <use xlink:href="#ic_mode_edit_24px"></use>\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <button id="o-editor-attribute" class="o-button-lg" type="button" name="button">\r\n      <svg class="o-icon-24">\r\n          <use xlink:href="#ic_title_24px"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-delete" class="o-button-lg" type="button" name="button">\r\n      <svg class="o-icon-24">\r\n          <use xlink:href="#ic_delete_24px"></use>\r\n      </svg>\r\n    </button>\r\n    <div class="o-popover-container">\r\n      <button id="o-editor-layers" class="o-button-lg" type="button" name="button">\r\n        <svg class="o-icon-24">\r\n            <use xlink:href="#ic_layers_24px"></use>\r\n        </svg>\r\n      </button>\r\n    </div>\r\n    <button id="o-editor-save" class="o-button-lg o-disabled" type="button" name="button">\r\n      <svg class="o-icon-24">\r\n          <use xlink:href="#ic_save_24px"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-close" class="o-button-lg" type="button" name="button">\r\n        <svg class="o-icon-24">\r\n            <use xlink:href="#ic_close_24px"></use>\r\n        </svg>\r\n    </button>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":25}],185:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({1:function(t,e,i,n,o){var r,s=t.escapeExpression;return"      <li><b>"+s("function"==typeof(r=null!=(r=i.key||o&&o.key)?r:i.helperMissing)?r.call(null!=e?e:{},{name:"key",hash:{},data:o}):r)+"</b> : "+s(t.lambda(e,e))+"</li>\r\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){var r;return null!=(r=i.each.call(null!=e?e:{},e,{name:"each",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?r:""},useData:!0})},{"hbsfy/runtime":25}],186:[function(t,e,i){"use strict";var n=t("./default.handlebars");e.exports=function(t){return n(t)}},{"./default.handlebars":185}],187:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){var r=t.lambda,s=t.escapeExpression;return'<html>\r\n  <head>\r\n    <link href="css/print.css" rel="stylesheet">\r\n  </head>\r\n  <body>\r\n    <div class="o-print-logo"><img src="'+s(r(null!=e?e.logoSrc:e,e))+'"></div>\r\n    <div class="o-map-canvas"><img src="'+s(r(null!=e?e.src:e,e))+'"/></div>\r\n    <div class="o-print-attribution">'+s(r(null!=e?e.attribution:e,e))+"</div>\r\n  </body>\r\n</html>\r\n"},useData:!0})},{"hbsfy/runtime":25}],188:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({1:function(t,e,i,n,o){return'        <img src="'+t.escapeExpression(t.lambda(null!=e?e.img:e,e))+'">\r\n'},3:function(t,e,i,n,o){var r=t.lambda,s=t.escapeExpression;return'        <a href="'+s(r(null!=e?e.url:e,e))+'">'+s(r(null!=e?e.urlText:e,e))+"</a>\r\n"},5:function(t,e,i,n,o){return"        <p>"+t.escapeExpression(t.lambda(null!=e?e.text:e,e))+"</p>\r\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,o){var r,s=null!=e?e:{};return'<div id="o-map" class="'+t.escapeExpression(t.lambda(null!=e?e.mapClass:e,e))+'">\r\n  <div id="o-tools-left" class="o-container-absolute o-tools-left">\r\n    <div id="o-toolbar-navigation" class="o-toolbar-vertical o-toolbar-navigation"></div>\r\n    <div id="o-toolbar-maptools" class="o-toolbar-vertical o-toolbar-maptools"></div>\r\n    <div id="o-toolbar-misc" class="o-toolbar-vertical o-toolbar-misc"></div>\r\n  </div>\r\n  <div id="o-tools-bottom" class="o-tools-bottom"></div>\r\n  <div id="o-footer" class="o-footer">\r\n    <div id="o-console" class="o-footer-left">&nbsp;</div>\r\n    <div class="o-footer-middle">\r\n      <div class="o-footer-middle-content">\r\n'+(null!=(r=i.if.call(s,null!=e?e.img:e,{name:"if",hash:{},fn:t.program(1,o,0),inverse:t.noop,data:o}))?r:"")+(null!=(r=i.if.call(s,null!=e?e.url:e,{name:"if",hash:{},fn:t.program(3,o,0),inverse:t.noop,data:o}))?r:"")+(null!=(r=i.if.call(s,null!=e?e.text:e,{name:"if",hash:{},fn:t.program(5,o,0),inverse:t.noop,data:o}))?r:"")+'      </div>\r\n    </div>\r\n    <div class="o-footer-right">\r\n    </div>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":25}],189:[function(t,e,i){"use strict";t("jquery");e.exports={createButton:function(t){var e="",i="",n=t.cls||"",o=t.iconCls||"",r=t.tooltipPlacement||"east";return t.text&&(i='<span class="o-button-text">'+t.text+"</span>"),t.tooltipText&&(e='<span data-tooltip="'+t.tooltipText+'" data-placement="'+r+'"></span>'),'<div id="'+t.id+'" class="o-button-container o-tooltip"><button class="o-button '+n+'">'+i+'<svg class="'+o+'"><use xlink:href="'+t.src+'"></use></svg></button>'+e+"</div>"},createListButton:function(t){return'<li><div id="'+t.id+'-button" class="o-menu-button"><div class="o-button-icon"><svg class="'+t.iconCls+'"><use xlink:href="'+t.src+'"></use></svg></div>'+t.text+"</div></li>"},createElement:function(t,e,i){var n="<"+t,o="</"+t+">",r=(i?Object.getOwnPropertyNames(i):[]).map(function(t){return"cls"===t?" "+"class".concat("=",'"',i[t],'"'):" "+t.concat("=",'"',i[t],'"')});return n.concat(r.join(" "),">",e,o)},createSvg:function(t){var e=this.createElement("use","",{"xlink:href":t.href});return this.createElement("svg",e,{cls:t.cls})}}},{jquery:26}],190:[function(t,e,i){"use strict";var n=t("jquery");e.exports=function(t,e){function i(){var e=t.getSize(),i=a.reduce(function(t,i){var n=s[i][1],o=s[i][0];return e[0]<=o||e[1]<=n?t||i:t},void 0);n(o).removeClass(h.join(" ")),i&&n(o).addClass(l[i])}var o=".o-map",r=e.breakPointsPrefix,s=e.breakPoints,a=Object.getOwnPropertyNames(s),l=function(t,e){var i={},n=e;return t.slice().reverse().forEach(function(t){n+="-"+t,i[t]=n}),i}(a,r),h=a.map(function(t){return l[t]});n(window).on("resize",i),i()}},{jquery:26}],191:[function(t,e,i){"use strict";e.exports=function(){var t=(new Date).getTime();return window.performance&&"function"==typeof window.performance.now&&(t+=performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?i:3&i|8).toString(16)})}},{}],192:[function(t,e,i){"use strict";e.exports=function(t,e){var i=new FileReader;i.onload=function(t){var i,n,o,r,s,a=new DataView(t.target.result);if(65496!=a.getUint16(0,!1))return e(-2);for(i=a.byteLength,n=2;n<i;)if(o=a.getUint16(n,!1),n+=2,65505==o){if(1165519206!=a.getUint32(n+=2,!1))return e(-1);r=18761==a.getUint16(n+=6,!1),n+=a.getUint32(n+4,r),s=a.getUint16(n,r),n+=2;for(var l=0;l<s;l++)if(274==a.getUint16(n+12*l,r))return e(a.getUint16(n+12*l+8,r))}else{if(65280!=(65280&o))break;n+=a.getUint16(n,!1)}return e(-1)},i.readAsArrayBuffer(t)}},{}],193:[function(t,e,i){"use strict";e.exports=function(){return location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+location.pathname}},{}],194:[function(t,e,i){"use strict";e.exports=function(t,e,i,n){var o=t.split(";")[0].split("/")[1],r=e,s=new Image;s.onload=function(t){var e,a,l,h,u=document.createElement("canvas"),c=u.getContext("2d"),f=r.maxSize||600,p=s.width,d=s.height;switch(p>d?p>f&&(d*=f/p,p=f):d>f&&(p*=f/d,d=f),u.width=p,u.height=d,i%2==0&&(u.width=d,u.height=p),i){case 1:e=0,a=0,l=0;break;case 3:e=u.width,a=u.height,l=180;break;case 6:e=u.width,a=0,l=90;break;case 8:e=0,a=u.height,l=270;break;default:e=0,a=0,l=0}c.translate(e,a),c.rotate(l*Math.PI/180),c.drawImage(s,0,0,p,d),h=u.toDataURL("image/"+o),n(h)},s.src=t}},{}],195:[function(t,e,i){"use strict";var n=t("jquery");e.exports=function(t){return window.top!==window.self||!1===n(t).parent().is("BODY")}},{jquery:26}],196:[function(t,e,i){"use strict";e.exports=function(t){return new RegExp("^(?:[a-z]+:)?//","i").test(t)}},{}],197:[function(t,e,i){"use strict";e.exports=function(t){var e=t,i=e.toString().length;if(i>3){if(e>=1e3){var n=Math.pow(10,i)/1e4;e=Math.round(e/n)*n}for(var o=e.toString(),r=[];o.length>3;){var s=o.substr(o.length-3);r.unshift(s),o=o.substr(0,o.length-3)}return o.length>0&&r.unshift(o),o=r.join(" ")}return e.toString()}},{}],198:[function(t,e,i){"use strict";var n=t("jquery"),o=t("../utils");e.exports=function(t,e){"browser"===t&&function(t){var e=o.createElement("div","Det ser ut som att du anvnder en frldrad webblsare. Prova att uppgradera din webblsare fr att visa kartan.",{cls:"o-no-map-message"}),i=o.createElement("div",e,{cls:"o-no-map"});n(function(){n(t).append(i)})}(e)}},{"../utils":189,jquery:26}],199:[function(t,e,i){"use strict";e.exports=function(){function t(t,i,l){return n=l.start||"{{",o=l.end||"}}",r=l.helper||{},s=l.helperNS||"@",a=[l.helperArg]||[],e(t,i)}function e(t,l){var h=new RegExp(n+"(.*?)"+o,"g").exec(t);if(h){var u=l.hasOwnProperty(h[1])?l[h[1]]:"";if(!u){var c=h[0].indexOf(s);if(c){var f=i(h[1]),p=f[1].substring(c-1),d=a.concat(f[0]);u=r.hasOwnProperty(p)?r[p].apply(null,d).toString():""}}return e(t.replace(h[0],u),l)}return t}function i(t){var e=t.match(/\((.*?)\)/);return e?[e[1].split(","),t.substring(0,e.index)]:["",t]}var n=void 0,o=void 0,r=void 0,s=void 0,a=void 0;return{replace:function(e,i,n){return t(e,i,n||{})}}}()},{}],200:[function(t,e,i){"use strict";e.exports=function(t,e){return Number(Math.round(t+"e"+e)+"e-"+e)}},{}],201:[function(t,e,i){"use strict";var n=t("./rendererror");e.exports=function(t,e){var i=document.createElement("canvas").getContext,o=window.requestAnimationFrame;return!(!i||!o)||(n("browser",e),!1)}},{"./rendererror":198}],202:[function(t,e,i){"use strict";e.exports=function(t){return-1!==t.substring(t.lastIndexOf("/")).indexOf(".htm")?t.substring(0,t.lastIndexOf("/")+1):"/"!==t.substr(t.length-1)?t+"/":t}},{}],203:[function(t,e,i){"use strict";var n={};n.objectify=function(t,e){var i=e||{},n=i.delimeter||"/",o=i.topmost||"name",r=t.split(n),s={};if(i.topmost&&(""===r[0]?console.log("Topmost value is missing"):s[o]=r[0]),r.length>1)for(var a=1,l=r.length;a<l;a+=2)s[r[a]]=r[a+1];return s},n.stringify=function(t,e){var i=e||{},n=i.delimeter||"/",o=i.topmost||void 0,r=o?t[o]:"";for(var s in t)s!==o&&(r+=n+s+n+t[s]);return r},n.arrStringify=function(t,e){var i=e||{},n=i.delimeter||"/",o=i.topmost||"",r=o?o+n:"";return void 0===t[0][0]?r+=t.join(","):r+=t.map(function(t){return t.map(function(t){return t.join("!")}).join(",")}).join(i.delimeter),r},n.strArrayify=function(t,e){var i=(e||{}).delimeter||"/",n=e.topmostName||"topmost",o=e.arrName||"arr",r=t.substring(0,t.indexOf(i)),s=t.substring(t.indexOf(i)+1).split(i).map(function(t){return t.split("!")}),a={};return a[n]=r,a[o]=s,a},n.strIntify=function(t,e){var i=(e||{}).delimiter||",";return t.split(i).map(function(t){return parseInt(t)})},n.strBoolean=function(t){return"1"===t||"0"!==t&&(console.log("String is not 1 or 0"),!1)},n.formatUrl=function(t){return Object.getOwnPropertyNames(t).reduce(function(e,i){return i=e?"&"+i+"="+t[i]:i+"="+t[i],e+i},"")},e.exports=n},{}],204:[function(t,e,i){"use strict";var n=t("./isurl");e.exports=function(t,e){return n(t)?t:e+t}},{"./isurl":196}],205:[function(t,e,i){"use strict";function n(t){t.forEach(function(t){u.addLayer(t)})}function o(t,e){for(var i=[],n=t.length-1;n>=0;n--){var o={};e&&((o=e[t[n].name.split(":").pop()]||{visible:!1,legend:!1}).name=t[n].name);var r=d.extend(t[n],o);i.push(w(r))}return i}function r(){u=new p.Map({target:"o-map",controls:[],view:new p.View({extent:x.extent||void 0,projection:x.projection||void 0,center:x.center,resolutions:x.resolutions||void 0,zoom:x.zoom,enableRotation:x.enableRotation})})}function s(){for(var t=window.location.search.substring(1).split("&"),e=0;e<t.length;e++)if(0==e){var i=t[e].split(",");x.center[0]=parseInt(i[0]),x.center[1]=parseInt(i[1])}else if(1==e)x.zoom=parseInt(t[e]);else if(2==e)for(var n,o,r=t[e].split(";"),s=x.layers,a=0;a<s.length;a++)o=0,d.each(r,function(t,e){n=e.split(","),s[a].get("group")&&("background"==s[a].get("group")&&n[0]==s[a].get("name")?(s[a].setVisible(!0),o=1):"background"==s[a].get("group")&&0==o?s[a].setVisible(!1):n[0]==s[a].get("name")&&(1==n[1]?(s[a].set("legend",!0),s[a].setVisible(!1)):(s[a].set("legend",!0),s[a].setVisible(!0))))})}function a(){function t(i,n){n>=i.length||(i[n].groups&&(i[n].groups.forEach(function(t){e.push(t)}),t(i[n].groups,0)),t(i,n+1))}var e=[];return t(x.groups,0),e}function l(t){var e;switch(t){case"EPSG:3857":e="m";break;case"EPSG:4326":e="degrees";break;default:e=proj4.defs(t)?proj4.defs(t).units:void 0}return e}function h(t,e){f=e.pageSettings,M.mapClass="o-map",f&&(f.footer&&(f.footer.hasOwnProperty("img")&&(M.img=f.footer.img),f.footer.hasOwnProperty("text")&&(M.text=f.footer.text),f.footer.hasOwnProperty("url")&&(M.url=f.footer.url),f.footer.hasOwnProperty("urlText")&&(M.urlText=f.footer.urlText)),f.mapGrid&&f.mapGrid.hasOwnProperty("visible")&&!0===f.mapGrid.visible&&(M.mapClass="o-map o-map-grid")),d(t).html(g(M))}var u,c,f,p=t("openlayers"),d=t("jquery"),g=t("./templates/viewer.handlebars"),v=(t("./modal"),t("./utils"),t("./utils/isurl"),t("./utils/elquery")),m=t("./featureinfo"),y=t("./maputils"),b=t("./style")(),w=t("./layercreator"),x={projection:"",projectionCode:"",projectionExtent:"",extent:[],center:[0,0],zoom:0,resolutions:null,source:{},group:[],layers:[],styles:{},controls:[],featureInfoOverlay:void 0,editLayer:null},M={};e.exports.init=function(t,e){if(h(t,e),e.hasOwnProperty("proj4Defs")&&window.proj4)for(var i=e.proj4Defs,a=0;a<i.length;a++)proj4.defs(i[a].code,i[a].projection),i[a].hasOwnProperty("alias")&&proj4.defs(i[a].alias,proj4.defs(i[a].code));x.params=c=e.params||{},x.map=e.map,x.url=e.url,x.target=e.target,x.baseUrl=e.baseUrl,x.breakPoints=e.breakPoints,x.extent=e.extent||void 0,x.center=c.center||e.center,x.zoom=c.zoom||e.zoom,e.tileGrid=e.tileGrid||{},x.tileSize=e.tileGrid.tileSize?[e.tileGrid.tileSize,e.tileGrid.tileSize]:[256,256],x.alignBottomLeft=e.tileGrid.alignBottomLeft,(e.hasOwnProperty("proj4Defs")||"EPSG:3857"==e.projectionCode||"EPSG:4326"==e.projectionCode)&&(x.projectionCode=e.projectionCode||void 0,x.projectionExtent=e.projectionExtent,x.projection=new p.proj.Projection({code:x.projectionCode,extent:x.projectionExtent,units:l(x.projectionCode)}),x.resolutions=e.resolutions||void 0,x.tileGrid=y.tileGrid(x)),x.source=e.source,x.groups=e.groups,x.editLayer=e.editLayer,x.styles=e.styles,x.clusterOptions=e.clusterOptions||{},b.init(),x.controls=e.controls,x.consoleId=e.consoleId||"o-console",x.featureinfoOptions=e.featureinfoOptions||{},x.enableRotation=!1!==e.enableRotation,window.location.search&&s(),r(),x.layers=o(e.layers,c.layers),n(x.layers),v(u,{breakPoints:e.breakPoints,breakPointsPrefix:e.breakPointsPrefix}),c.pin?x.featureinfoOptions.savedPin=c.pin:c.selection&&(x.featureinfoOptions.savedSelection=new p.Feature({geometry:new p.geom[c.selection.geometryType](c.selection.coordinates)})),m.init(x.featureinfoOptions)},e.exports.createLayers=o,e.exports.getBaseUrl=function(){return x.baseUrl},e.exports.getBreakPoints=function(t){return t&&x.breakPoints.hasOwnProperty(t)?x.breakPoints[t]:x.breakPoints},e.exports.getExtent=function(){return x.extent},e.exports.getSettings=function(){return x},e.exports.getStyleSettings=function(){return x.styles},e.exports.getMapUrl=function(){var t,e="";t=window.location.search?window.location.href.replace(window.location.search,"?"):window.location.href+"?";for(var i=u.getView(),n=i.getCenter(),o=0;o<2;o++)n[o]=parseInt(n[o]);var r=i.getZoom();return u.getLayers().forEach(function(t){1==t.getVisible()?e+=t.get("name")+";":1==t.get("legend")&&(e+=t.get("name")+",1;")}),t+n+"&"+r+"&"+e.slice(0,e.lastIndexOf(";"))},e.exports.getMap=function(){return u},e.exports.getLayers=function(){return x.layers},e.exports.getLayersByProperty=function(t,e,i){var n=u.getLayers().getArray().filter(function(i){if(i.get(t)&&i.get(t)===e)return i});return i?n.map(function(t){return t.get("name")}):n},e.exports.getLayer=function(t){return d.grep(x.layers,function(e){return e.get("name")==t})[0]},e.exports.getControlNames=function(){return x.controls.map(function(t){return t.name})},e.exports.getQueryableLayers=function(){return x.layers.filter(function(t){if(t.get("queryable")&&t.getVisible())return t})},e.exports.getGroup=function(t){return t=d.grep(x.layers,function(e){return e.get("group")==t})},e.exports.getGroups=function(t){return"top"==t?x.groups:"sub"==t?a():x.groups.concat(a())},e.exports.getProjectionCode=function(){return x.projectionCode},e.exports.getProjection=function(){return x.projection},e.exports.getMapSource=function(){return x.source},e.exports.getResolutions=function(){return x.resolutions},e.exports.getScale=function(t){var e=t*x.projection.getMetersPerUnit()*39.37*(25.4/.28);return e=Math.round(e)},e.exports.getTarget=function(){return x.target},e.exports.getClusterOptions=function(){return x.clusterOptions},e.exports.getTileGrid=function(){return x.tileGrid},e.exports.getTileSize=function(){return x.tileSize},e.exports.autoPan=function(){var t=d(".o-popup"),e=u.getView().getCenter(),i=d(t).offset(),n=d("#"+u.getTarget()).offset(),o=i.top-n.top,r=u.getSize(),s=n.left+r[0]-(i.left+d(t).outerWidth(!0)),a=0;if(x.controls.hasOwnProperty("mapmenu")&&(a=x.controls.mapmenu.getTarget().offset().left>0?r[0]-x.controls.mapmenu.getTarget().offset().left:a=0),o<0||s<0+a||s>r[0]-d(t).outerWidth(!0)){var l=0,h=0;s<0+a&&(l=(-s+a)*u.getView().getResolution()),s>r[0]-d(t).outerWidth(!0)&&(l=-(d(t).outerWidth(!0)-(r[0]-s))*u.getView().getResolution()),o<0&&(h=-o*u.getView().getResolution()),u.getView().animate({center:[e[0]+l,e[1]+h],duration:300})}},e.exports.removeOverlays=function(t){t?t.constructor===Array||t instanceof p.Collection?t.forEach(function(t){u.removeOverlay(t)}):u.removeOverlay(t):u.getOverlays().clear()},e.exports.checkScale=function(t,e,i){if(!e&&!i)return!0;if(e&&i){if(t>e&&t<i)return!0}else if(e){if(t>e)return!0}else if(i&&t<i)return!0},e.exports.getMapName=function(){return x.map},e.exports.getConsoleId=function(){return x.consoleId},e.exports.getUrl=function(){return x.url}},{"./featureinfo":118,"./layercreator":144,"./maputils":149,"./modal":151,"./style":177,"./templates/viewer.handlebars":188,"./utils":189,"./utils/elquery":190,"./utils/isurl":196,jquery:26,openlayers:29}],206:[function(t,e,i){"use strict";var n,o=t("openlayers"),r=t("jquery"),s=t("./viewer");e.exports.init=function(t){var e,i=(t||{}).target||"o-toolbar-navigation";n=s.getMap(),e=new o.control.Zoom({zoomInTipLabel:" ",zoomOutTipLabel:" ",zoomInLabel:r.parseHTML('<svg class="o-icon-fa-plus"><use xlink:href="#fa-plus"></use></svg>')[0],zoomOutLabel:r.parseHTML('<svg class="o-icon-fa-minus"><use xlink:href="#fa-minus"></use></svg>')[0],target:i}),n.addControl(e)}},{"./viewer":205,jquery:26,openlayers:29}]},{},[98])(98)});