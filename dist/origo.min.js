(function(e){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=e()}else if(typeof define==="function"&&define.amd){define([],e)}else{var t;if(typeof window!=="undefined"){t=window}else if(typeof global!=="undefined"){t=global}else if(typeof self!=="undefined"){t=self}else{t=this}t.origo=e()}})(function(){var define,module,exports;return function e(t,o,r){function i(a,l){if(!o[a]){if(!t[a]){var s=typeof require=="function"&&require;if(!l&&s)return s(a,!0);if(n)return n(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=o[a]={exports:{}};t[a][0].call(u.exports,function(e){var o=t[a][1][e];return i(o?o:e)},u,u.exports,e,t,o,r)}return o[a].exports}var n=typeof require=="function"&&require;for(var a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,o){t.exports={crossDomain:true,target:"#app-wrapper",svgSpritePath:"css/svg/",svgSprites:["fa-icons-all.svg","miscellaneous.svg","custom.svg"],defaultControls:[{name:"scaleline"},{name:"zoom"},{name:"rotate"},{name:"attribution"}]}},{}],2:[function(e,t,o){var r={};r.geoposition=e("../src/geoposition");r.mapmenu=e("../src/mapmenu");r.print=e("../src/print");r.sharemap=e("../src/sharemap");r.legend=e("../src/legend");r.search=e("../src/search");r.editor=e("../src/editor");r.home=e("../src/home");r.measure=e("../src/measure");r.about=e("../src/about");r.scale=e("../src/scale");r.timeline=e("../src/timeline");r.link=e("../src/link");r.scaleline=e("../src/scaleline");r.zoom=e("../src/zoom");r.rotate=e("../src/rotate");r.attribution=e("../src/attribution");t.exports=r},{"../src/about":104,"../src/attribution":105,"../src/editor":107,"../src/geoposition":122,"../src/home":126,"../src/legend":142,"../src/link":143,"../src/mapmenu":145,"../src/measure":148,"../src/print":154,"../src/rotate":155,"../src/scale":156,"../src/scaleline":157,"../src/search":158,"../src/sharemap":159,"../src/timeline":171,"../src/zoom":184}],3:[function(e,t,o){(function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){function t(t,r){var i,n,a,l=t.nodeName.toLowerCase();return"area"===l?(i=t.parentNode,n=i.name,t.href&&n&&"map"===i.nodeName.toLowerCase()?(a=e("img[usemap='#"+n+"']")[0],!!a&&o(a)):!1):(/^(input|select|textarea|button|object)$/.test(l)?!t.disabled:"a"===l?t.href||r:r)&&o(t)}function o(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var o=this.css("position"),r="absolute"===o,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var t=e(this);return r&&"static"===t.css("position")?!1:i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==o&&n.length?n:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(o){return!!e.data(o,t)}}):function(t,o,r){return!!e.data(t,r[3])},focusable:function(o){return t(o,!isNaN(e.attr(o,"tabindex")))},tabbable:function(o){var r=e.attr(o,"tabindex"),i=isNaN(r);return(i||r>=0)&&t(o,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,o){function r(t,o,r,n){return e.each(i,function(){o-=parseFloat(e.css(t,"padding"+this))||0,r&&(o-=parseFloat(e.css(t,"border"+this+"Width"))||0),n&&(o-=parseFloat(e.css(t,"margin"+this))||0)}),o}var i="Width"===o?["Left","Right"]:["Top","Bottom"],n=o.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+o]=function(t){return void 0===t?a["inner"+o].call(this):this.each(function(){e(this).css(n,r(this,t)+"px")})},e.fn["outer"+o]=function(t,i){return"number"!=typeof t?a["outer"+o].call(this,t):this.each(function(){e(this).css(n,r(this,t,!0,i)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(o){return arguments.length?t.call(this,e.camelCase(o)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(o,r){return"number"==typeof o?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},o)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var o,r,i=e(this[0]);i.length&&i[0]!==document;){if(o=i.css("position"),("absolute"===o||"relative"===o||"fixed"===o)&&(r=parseInt(i.css("zIndex"),10),!isNaN(r)&&0!==r))return r;i=i.parent()}return 0}}),e.ui.plugin={add:function(t,o,r){var i,n=e.ui[t].prototype;for(i in r)n.plugins[i]=n.plugins[i]||[],n.plugins[i].push([o,r[i]])},call:function(e,t,o,r){var i,n=e.plugins[t];if(n&&(r||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(i=0;n.length>i;i++)e.options[n[i][0]]&&n[i][1].apply(e.element,o)}};var r=0,i=Array.prototype.slice;e.cleanData=function(t){return function(o){var r,i,n;for(n=0;null!=(i=o[n]);n++)try{r=e._data(i,"events"),r&&r.remove&&e(i).triggerHandler("remove")}catch(a){}t(o)}}(e.cleanData),e.widget=function(t,o,r){var i,n,a,l,s={},p=t.split(".")[0];return t=t.split(".")[1],i=p+"-"+t,r||(r=o,o=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[p]=e[p]||{},n=e[p][t],a=e[p][t]=function(e,t){return this._createWidget?(arguments.length&&this._createWidget(e,t),void 0):new a(e,t)},e.extend(a,n,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),l=new o,l.options=e.widget.extend({},l.options),e.each(r,function(t,r){return e.isFunction(r)?(s[t]=function(){var e=function(){return o.prototype[t].apply(this,arguments)},i=function(e){return o.prototype[t].apply(this,e)};return function(){var t,o=this._super,n=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=o,this._superApply=n,t}}(),void 0):(s[t]=r,void 0)}),a.prototype=e.widget.extend(l,{widgetEventPrefix:n?l.widgetEventPrefix||t:t},s,{constructor:a,namespace:p,widgetName:t,widgetFullName:i}),n?(e.each(n._childConstructors,function(t,o){var r=o.prototype;e.widget(r.namespace+"."+r.widgetName,a,o._proto)}),delete n._childConstructors):o._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var o,r,n=i.call(arguments,1),a=0,l=n.length;l>a;a++)for(o in n[a])r=n[a][o],n[a].hasOwnProperty(o)&&void 0!==r&&(t[o]=e.isPlainObject(r)?e.isPlainObject(t[o])?e.widget.extend({},t[o],r):e.widget.extend({},r):r);return t},e.widget.bridge=function(t,o){var r=o.prototype.widgetFullName||t;e.fn[t]=function(n){var a="string"==typeof n,l=i.call(arguments,1),s=this;return a?this.each(function(){var o,i=e.data(this,r);return"instance"===n?(s=i,!1):i?e.isFunction(i[n])&&"_"!==n.charAt(0)?(o=i[n].apply(i,l),o!==i&&void 0!==o?(s=o&&o.jquery?s.pushStack(o.get()):o,!1):void 0):e.error("no such method '"+n+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; "+"attempted to call method '"+n+"'")}):(l.length&&(n=e.widget.extend.apply(null,[n].concat(l))),this.each(function(){var t=e.data(this,r);t?(t.option(n||{}),t._init&&t._init()):e.data(this,r,new o(n,this))})),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,o){o=e(o||this.defaultElement||this)[0],this.element=e(o),this.uuid=r++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),o!==this&&(e.data(o,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===o&&this.destroy()}}),this.document=e(o.style?o.ownerDocument:o.document||o),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,o){var r,i,n,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},r=t.split("."),t=r.shift(),r.length){for(i=a[t]=e.widget.extend({},this.options[t]),n=0;r.length-1>n;n++)i[r[n]]=i[r[n]]||{},i=i[r[n]];if(t=r.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=o}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=o}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,o,r){var i,n=this;"boolean"!=typeof t&&(r=o,o=t,t=!1),r?(o=i=e(o),this.bindings=this.bindings.add(o)):(r=o,o=this.element,i=this.widget()),e.each(r,function(r,a){function l(){return t||n.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?n[a]:a).apply(n,arguments):void 0}"string"!=typeof a&&(l.guid=a.guid=a.guid||l.guid||e.guid++);var s=r.match(/^([\w:-]*)\s*(.*)$/),p=s[1]+n.eventNamespace,u=s[2];u?i.delegate(u,p,l):o.bind(p,l)})},_off:function(t,o){o=(o||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(o).undelegate(o),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function o(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(o,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,o,r){var i,n,a=this.options[t];if(r=r||{},o=e.Event(o),o.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),o.target=this.element[0],n=o.originalEvent)for(i in n)i in o||(o[i]=n[i]);return this.element.trigger(o,r),!(e.isFunction(a)&&a.apply(this.element[0],[o].concat(r))===!1||o.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,o){e.Widget.prototype["_"+t]=function(r,i,n){"string"==typeof i&&(i={effect:i});var a,l=i?i===!0||"number"==typeof i?o:i.effect||o:t;i=i||{},"number"==typeof i&&(i={duration:i}),a=!e.isEmptyObject(i),i.complete=n,i.delay&&r.delay(i.delay),a&&e.effects&&e.effects.effect[l]?r[t](i):l!==t&&r[l]?r[l](i.duration,i.easing,n):r.queue(function(o){e(this)[t](),n&&n.call(r[0]),o()})}}),e.widget;var n=!1;e(document).mouseup(function(){n=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(o){return!0===e.data(o.target,t.widgetName+".preventClickEvent")?(e.removeData(o.target,t.widgetName+".preventClickEvent"),o.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!n){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var o=this,r=1===t.which,i="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return r&&!i&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){o.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return o._mouseMove(e)},this._mouseUpDelegate=function(e){return o._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),n=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,o){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?o/100:1)]}function o(t,o){return parseInt(e.css(t,o),10)||0}function r(t){var o=t[0];return 9===o.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(o)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:o.preventDefault?{width:0,height:0,offset:{top:o.pageY,left:o.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var i,n,a=Math.max,l=Math.abs,s=Math.round,p=/left|center|right/,u=/top|center|bottom/,c=/[\+\-]\d+(\.[\d]+)?%?/,g=/^\w+/,h=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==i)return i;var t,o,r=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=r.children()[0];return e("body").append(r),t=n.offsetWidth,r.css("overflow","scroll"),o=n.offsetWidth,t===o&&(o=r[0].clientWidth),r.remove(),i=t-o},getScrollInfo:function(t){var o=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i="scroll"===o||"auto"===o&&t.width<t.element[0].scrollWidth,n="scroll"===r||"auto"===r&&t.height<t.element[0].scrollHeight;return{width:n?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var o=e(t||window),r=e.isWindow(o[0]),i=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:r,isDocument:i,offset:o.offset()||{left:0,top:0},scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:r||i?o.width():o.outerWidth(),height:r||i?o.height():o.outerHeight()}}},e.fn.position=function(i){if(!i||!i.of)return f.apply(this,arguments);i=e.extend({},i);var h,d,y,m,v,_,x=e(i.of),S=e.position.getWithinInfo(i.within),P=e.position.getScrollInfo(S),E=(i.collision||"flip").split(" "),T={};return _=r(x),x[0].preventDefault&&(i.at="left top"),d=_.width,y=_.height,m=_.offset,v=e.extend({},m),e.each(["my","at"],function(){var e,t,o=(i[this]||"").split(" ");1===o.length&&(o=p.test(o[0])?o.concat(["center"]):u.test(o[0])?["center"].concat(o):["center","center"]),o[0]=p.test(o[0])?o[0]:"center",o[1]=u.test(o[1])?o[1]:"center",e=c.exec(o[0]),t=c.exec(o[1]),T[this]=[e?e[0]:0,t?t[0]:0],i[this]=[g.exec(o[0])[0],g.exec(o[1])[0]]}),1===E.length&&(E[1]=E[0]),"right"===i.at[0]?v.left+=d:"center"===i.at[0]&&(v.left+=d/2),"bottom"===i.at[1]?v.top+=y:"center"===i.at[1]&&(v.top+=y/2),h=t(T.at,d,y),v.left+=h[0],v.top+=h[1],this.each(function(){var r,p,u=e(this),c=u.outerWidth(),g=u.outerHeight(),f=o(this,"marginLeft"),_=o(this,"marginTop"),b=c+f+o(this,"marginRight")+P.width,M=g+_+o(this,"marginBottom")+P.height,C=e.extend({},v),R=t(T.my,u.outerWidth(),u.outerHeight());"right"===i.my[0]?C.left-=c:"center"===i.my[0]&&(C.left-=c/2),"bottom"===i.my[1]?C.top-=g:"center"===i.my[1]&&(C.top-=g/2),C.left+=R[0],C.top+=R[1],n||(C.left=s(C.left),C.top=s(C.top)),r={marginLeft:f,marginTop:_},e.each(["left","top"],function(t,o){e.ui.position[E[t]]&&e.ui.position[E[t]][o](C,{targetWidth:d,targetHeight:y,elemWidth:c,elemHeight:g,collisionPosition:r,collisionWidth:b,collisionHeight:M,offset:[h[0]+R[0],h[1]+R[1]],my:i.my,at:i.at,within:S,elem:u})}),i.using&&(p=function(e){var t=m.left-C.left,o=t+d-c,r=m.top-C.top,n=r+y-g,s={target:{element:x,left:m.left,top:m.top,width:d,height:y},element:{element:u,left:C.left,top:C.top,width:c,height:g},horizontal:0>o?"left":t>0?"right":"center",vertical:0>n?"top":r>0?"bottom":"middle"};c>d&&d>l(t+o)&&(s.horizontal="center"),g>y&&y>l(r+n)&&(s.vertical="middle"),s.important=a(l(t),l(o))>a(l(r),l(n))?"horizontal":"vertical",i.using.call(this,e,s)}),u.offset(e.extend(C,{using:p}))})},e.ui.position={fit:{left:function(e,t){var o,r=t.within,i=r.isWindow?r.scrollLeft:r.offset.left,n=r.width,l=e.left-t.collisionPosition.marginLeft,s=i-l,p=l+t.collisionWidth-n-i;t.collisionWidth>n?s>0&&0>=p?(o=e.left+s+t.collisionWidth-n-i,e.left+=s-o):e.left=p>0&&0>=s?i:s>p?i+n-t.collisionWidth:i:s>0?e.left+=s:p>0?e.left-=p:e.left=a(e.left-l,e.left)},top:function(e,t){var o,r=t.within,i=r.isWindow?r.scrollTop:r.offset.top,n=t.within.height,l=e.top-t.collisionPosition.marginTop,s=i-l,p=l+t.collisionHeight-n-i;t.collisionHeight>n?s>0&&0>=p?(o=e.top+s+t.collisionHeight-n-i,e.top+=s-o):e.top=p>0&&0>=s?i:s>p?i+n-t.collisionHeight:i:s>0?e.top+=s:p>0?e.top-=p:e.top=a(e.top-l,e.top)}},flip:{left:function(e,t){var o,r,i=t.within,n=i.offset.left+i.scrollLeft,a=i.width,s=i.isWindow?i.scrollLeft:i.offset.left,p=e.left-t.collisionPosition.marginLeft,u=p-s,c=p+t.collisionWidth-a-s,g="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(o=e.left+g+h+f+t.collisionWidth-a-n,(0>o||l(u)>o)&&(e.left+=g+h+f)):c>0&&(r=e.left-t.collisionPosition.marginLeft+g+h+f-s,(r>0||c>l(r))&&(e.left+=g+h+f))},top:function(e,t){var o,r,i=t.within,n=i.offset.top+i.scrollTop,a=i.height,s=i.isWindow?i.scrollTop:i.offset.top,p=e.top-t.collisionPosition.marginTop,u=p-s,c=p+t.collisionHeight-a-s,g="top"===t.my[1],h=g?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,d=-2*t.offset[1];0>u?(r=e.top+h+f+d+t.collisionHeight-a-n,(0>r||l(u)>r)&&(e.top+=h+f+d)):c>0&&(o=e.top-t.collisionPosition.marginTop+h+f+d-s,(o>0||c>l(o))&&(e.top+=h+f+d))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,o,r,i,a,l=document.getElementsByTagName("body")[0],s=document.createElement("div");t=document.createElement(l?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},l&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in r)t.style[a]=r[a];t.appendChild(s),o=l||document.documentElement,o.insertBefore(t,o.firstChild),s.style.cssText="position: absolute; left: 10.7432222px;",i=e(s).offset().left,n=i>10&&11>i,t.innerHTML="",o.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?(this.destroyOnClear=!0,void 0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),this._mouseDestroy(),void 0)},_mouseCapture:function(t){var o=this.options;return this._blurActiveElement(t),this.helper||o.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(o.iframeFix===!0?"iframe":o.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var o=this.document[0];if(this.handleElement.is(t.target))try{o.activeElement&&"body"!==o.activeElement.nodeName.toLowerCase()&&e(o.activeElement).blur()}catch(r){}},_mouseStart:function(t){var o=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,o){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!o){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var o=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){o._trigger("stop",t)!==!1&&o._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var o=this.options,r=e.isFunction(o.helper),i=r?e(o.helper.apply(this.element[0],[t])):"clone"===o.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===o.appendTo?this.element[0].parentNode:o.appendTo),r&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),o=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==o&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,o,r,i=this.options,n=this.document[0];return this.relativeContainer=null,i.containment?"window"===i.containment?(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):"document"===i.containment?(this.containment=[0,0,e(n).width()-this.helperProportions.width-this.margins.left,(e(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top],void 0):i.containment.constructor===Array?(this.containment=i.containment,void 0):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),o=e(i.containment),r=o[0],r&&(t=/(scroll|auto)/.test(o.css("overflow")),this.containment=[(parseInt(o.css("borderLeftWidth"),10)||0)+(parseInt(o.css("paddingLeft"),10)||0),(parseInt(o.css("borderTopWidth"),10)||0)+(parseInt(o.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(o.css("borderRightWidth"),10)||0)-(parseInt(o.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(o.css("borderBottomWidth"),10)||0)-(parseInt(o.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=o),void 0):(this.containment=null,void 0)},_convertPositionTo:function(e,t){t||(t=this.position);var o="absolute"===e?1:-1,r=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*o+this.offset.parent.top*o-("fixed"===this.cssPosition?-this.offset.scroll.top:r?0:this.offset.scroll.top)*o,left:t.left+this.offset.relative.left*o+this.offset.parent.left*o-("fixed"===this.cssPosition?-this.offset.scroll.left:r?0:this.offset.scroll.left)*o}},_generatePosition:function(e,t){var o,r,i,n,a=this.options,l=this._isRootNode(this.scrollParent[0]),s=e.pageX,p=e.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(r=this.relativeContainer.offset(),o=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):o=this.containment,e.pageX-this.offset.click.left<o[0]&&(s=o[0]+this.offset.click.left),e.pageY-this.offset.click.top<o[1]&&(p=o[1]+this.offset.click.top),e.pageX-this.offset.click.left>o[2]&&(s=o[2]+this.offset.click.left),e.pageY-this.offset.click.top>o[3]&&(p=o[3]+this.offset.click.top)),a.grid&&(i=a.grid[1]?this.originalPageY+Math.round((p-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,p=o?i-this.offset.click.top>=o[1]||i-this.offset.click.top>o[3]?i:i-this.offset.click.top>=o[1]?i-a.grid[1]:i+a.grid[1]:i,n=a.grid[0]?this.originalPageX+Math.round((s-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,s=o?n-this.offset.click.left>=o[0]||n-this.offset.click.left>o[2]?n:n-this.offset.click.left>=o[0]?n-a.grid[0]:n+a.grid[0]:n),"y"===a.axis&&(s=this.originalPageX),"x"===a.axis&&(p=this.originalPageY)),{top:p-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)
}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,o,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[o,r,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),r.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,o,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,o,r){var i=e.extend({},o,{item:r.element});r.sortables=[],e(r.options.connectToSortable).each(function(){var o=e(this).sortable("instance");o&&!o.options.disabled&&(r.sortables.push(o),o.refreshPositions(),o._trigger("activate",t,i))})},stop:function(t,o,r){var i=e.extend({},o,{item:r.element});r.cancelHelperRemoval=!1,e.each(r.sortables,function(){var e=this;e.isOver?(e.isOver=0,r.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(t,o,r){e.each(r.sortables,function(){var i=!1,n=this;n.positionAbs=r.positionAbs,n.helperProportions=r.helperProportions,n.offset.click=r.offset.click,n._intersectsWith(n.containerCache)&&(i=!0,e.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&e.contains(n.element[0],this.element[0])&&(i=!1),i})),i?(n.isOver||(n.isOver=1,r._parent=o.helper.parent(),n.currentItem=o.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return o.helper[0]},t.target=n.currentItem[0],n._mouseCapture(t,!0),n._mouseStart(t,!0,!0),n.offset.click.top=r.offset.click.top,n.offset.click.left=r.offset.click.left,n.offset.parent.left-=r.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=r.offset.parent.top-n.offset.parent.top,r._trigger("toSortable",t),r.dropped=n.element,e.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,n.fromOutside=r),n.currentItem&&(n._mouseDrag(t),o.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",t,n._uiHash(n)),n._mouseStop(t,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),o.helper.appendTo(r._parent),r._refreshOffsets(t),o.position=r._generatePosition(t,!0),r._trigger("fromSortable",t),r.dropped=!1,e.each(r.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,o,r){var i=e("body"),n=r.options;i.css("cursor")&&(n._cursor=i.css("cursor")),i.css("cursor",n.cursor)},stop:function(t,o,r){var i=r.options;i._cursor&&e("body").css("cursor",i._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,o,r){var i=e(o.helper),n=r.options;i.css("opacity")&&(n._opacity=i.css("opacity")),i.css("opacity",n.opacity)},stop:function(t,o,r){var i=r.options;i._opacity&&e(o.helper).css("opacity",i._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,o){o.scrollParentNotHidden||(o.scrollParentNotHidden=o.helper.scrollParent(!1)),o.scrollParentNotHidden[0]!==o.document[0]&&"HTML"!==o.scrollParentNotHidden[0].tagName&&(o.overflowOffset=o.scrollParentNotHidden.offset())},drag:function(t,o,r){var i=r.options,n=!1,a=r.scrollParentNotHidden[0],l=r.document[0];a!==l&&"HTML"!==a.tagName?(i.axis&&"x"===i.axis||(r.overflowOffset.top+a.offsetHeight-t.pageY<i.scrollSensitivity?a.scrollTop=n=a.scrollTop+i.scrollSpeed:t.pageY-r.overflowOffset.top<i.scrollSensitivity&&(a.scrollTop=n=a.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(r.overflowOffset.left+a.offsetWidth-t.pageX<i.scrollSensitivity?a.scrollLeft=n=a.scrollLeft+i.scrollSpeed:t.pageX-r.overflowOffset.left<i.scrollSensitivity&&(a.scrollLeft=n=a.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(t.pageY-e(l).scrollTop()<i.scrollSensitivity?n=e(l).scrollTop(e(l).scrollTop()-i.scrollSpeed):e(window).height()-(t.pageY-e(l).scrollTop())<i.scrollSensitivity&&(n=e(l).scrollTop(e(l).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(t.pageX-e(l).scrollLeft()<i.scrollSensitivity?n=e(l).scrollLeft(e(l).scrollLeft()-i.scrollSpeed):e(window).width()-(t.pageX-e(l).scrollLeft())<i.scrollSensitivity&&(n=e(l).scrollLeft(e(l).scrollLeft()+i.scrollSpeed)))),n!==!1&&e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(r,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,o,r){var i=r.options;r.snapElements=[],e(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var t=e(this),o=t.offset();this!==r.element[0]&&r.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:o.top,left:o.left})})},drag:function(t,o,r){var i,n,a,l,s,p,u,c,g,h,f=r.options,d=f.snapTolerance,y=o.offset.left,m=y+r.helperProportions.width,v=o.offset.top,_=v+r.helperProportions.height;for(g=r.snapElements.length-1;g>=0;g--)s=r.snapElements[g].left-r.margins.left,p=s+r.snapElements[g].width,u=r.snapElements[g].top-r.margins.top,c=u+r.snapElements[g].height,s-d>m||y>p+d||u-d>_||v>c+d||!e.contains(r.snapElements[g].item.ownerDocument,r.snapElements[g].item)?(r.snapElements[g].snapping&&r.options.snap.release&&r.options.snap.release.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[g].item})),r.snapElements[g].snapping=!1):("inner"!==f.snapMode&&(i=d>=Math.abs(u-_),n=d>=Math.abs(c-v),a=d>=Math.abs(s-m),l=d>=Math.abs(p-y),i&&(o.position.top=r._convertPositionTo("relative",{top:u-r.helperProportions.height,left:0}).top),n&&(o.position.top=r._convertPositionTo("relative",{top:c,left:0}).top),a&&(o.position.left=r._convertPositionTo("relative",{top:0,left:s-r.helperProportions.width}).left),l&&(o.position.left=r._convertPositionTo("relative",{top:0,left:p}).left)),h=i||n||a||l,"outer"!==f.snapMode&&(i=d>=Math.abs(u-v),n=d>=Math.abs(c-_),a=d>=Math.abs(s-y),l=d>=Math.abs(p-m),i&&(o.position.top=r._convertPositionTo("relative",{top:u,left:0}).top),n&&(o.position.top=r._convertPositionTo("relative",{top:c-r.helperProportions.height,left:0}).top),a&&(o.position.left=r._convertPositionTo("relative",{top:0,left:s}).left),l&&(o.position.left=r._convertPositionTo("relative",{top:0,left:p-r.helperProportions.width}).left)),!r.snapElements[g].snapping&&(i||n||a||l||h)&&r.options.snap.snap&&r.options.snap.snap.call(r.element,t,e.extend(r._uiHash(),{snapItem:r.snapElements[g].item})),r.snapElements[g].snapping=i||n||a||l||h)}}),e.ui.plugin.add("draggable","stack",{start:function(t,o,r){var i,n=r.options,a=e.makeArray(e(n.stack)).sort(function(t,o){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(o).css("zIndex"),10)||0)});a.length&&(i=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",i+t)}),this.css("zIndex",i+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,o,r){var i=e(o.helper),n=r.options;i.css("zIndex")&&(n._zIndex=i.css("zIndex")),i.css("zIndex",n.zIndex)},stop:function(t,o,r){var i=r.options;i._zIndex&&e(o.helper).css("zIndex",i._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,o=this.options,r=o.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){return arguments.length?(t=arguments[0],void 0):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(o.scope),o.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,o){if("accept"===t)this.accept=e.isFunction(o)?o:function(e){return e.is(o)};else if("scope"===t){var r=e.ui.ddmanager.droppables[this.options.scope];this._splice(r),this._addToManager(o)}this._super(t,o)},_activate:function(t){var o=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),o&&this._trigger("activate",t,this.ui(o))},_deactivate:function(t){var o=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),o&&this._trigger("deactivate",t,this.ui(o))},_over:function(t){var o=e.ui.ddmanager.current;o&&(o.currentItem||o.element)[0]!==this.element[0]&&this.accept.call(this.element[0],o.currentItem||o.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(o)))},_out:function(t){var o=e.ui.ddmanager.current;o&&(o.currentItem||o.element)[0]!==this.element[0]&&this.accept.call(this.element[0],o.currentItem||o.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(o)))},_drop:function(t,o){var r=o||e.ui.ddmanager.current,i=!1;return r&&(r.currentItem||r.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var o=e(this).droppable("instance");return o.options.greedy&&!o.options.disabled&&o.options.scope===r.options.scope&&o.accept.call(o.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(o,{offset:o.element.offset()}),o.options.tolerance,t)?(i=!0,!1):void 0}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,o){return e>=t&&t+o>e}return function(t,o,r,i){if(!o.offset)return!1;var n=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,l=n+t.helperProportions.width,s=a+t.helperProportions.height,p=o.offset.left,u=o.offset.top,c=p+o.proportions().width,g=u+o.proportions().height;switch(r){case"fit":return n>=p&&c>=l&&a>=u&&g>=s;case"intersect":return n+t.helperProportions.width/2>p&&c>l-t.helperProportions.width/2&&a+t.helperProportions.height/2>u&&g>s-t.helperProportions.height/2;case"pointer":return e(i.pageY,u,o.proportions().height)&&e(i.pageX,p,o.proportions().width);case"touch":return(a>=u&&g>=a||s>=u&&g>=s||u>a&&s>g)&&(n>=p&&c>=n||l>=p&&c>=l||p>n&&l>c);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,o){var r,i,n=e.ui.ddmanager.droppables[t.options.scope]||[],a=o?o.type:null,l=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;n.length>r;r++)if(!(n[r].options.disabled||t&&!n[r].accept.call(n[r].element[0],t.currentItem||t.element))){for(i=0;l.length>i;i++)if(l[i]===n[r].element[0]){n[r].proportions().height=0;continue e}n[r].visible="none"!==n[r].element.css("display"),n[r].visible&&("mousedown"===a&&n[r]._activate.call(n[r],o),n[r].offset=n[r].element.offset(),n[r].proportions({width:n[r].element[0].offsetWidth,height:n[r].element[0].offsetHeight}))}},drop:function(t,o){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,o)&&(r=this._drop.call(this,o)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,o)))}),r},dragStart:function(t,o){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,o)})},drag:function(t,o){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,o),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var r,i,n,a=e.ui.intersect(t,this,this.options.tolerance,o),l=!a&&this.isover?"isout":a&&!this.isover?"isover":null;l&&(this.options.greedy&&(i=this.options.scope,n=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===i}),n.length&&(r=e(n[0]).droppable("instance"),r.greedyChild="isover"===l)),r&&"isover"===l&&(r.isover=!1,r.isout=!0,r._out.call(r,o)),this[l]=!0,this["isout"===l?"isover":"isout"]=!1,this["isover"===l?"_over":"_out"].call(this,o),r&&"isout"===l&&(r.isout=!1,r.isover=!0,r._over.call(r,o)))}})},dragStop:function(t,o){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,o)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,o){if("hidden"===e(t).css("overflow"))return!1;var r=o&&"left"===o?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)},_create:function(){var t,o,r,i,n,a=this,l=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!l.aspectRatio,aspectRatio:l.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:l.helper||l.ghost||l.animate?l.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=l.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},o=0;t.length>o;o++)r=e.trim(t[o]),n="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+n+"'></div>"),i.css({zIndex:l.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var o,r,i,n;t=t||this.element;for(o in this.handles)this.handles[o].constructor===String?this.handles[o]=this.element.children(this.handles[o]).first().show():(this.handles[o].jquery||this.handles[o].nodeType)&&(this.handles[o]=e(this.handles[o]),this._on(this.handles[o],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(r=e(this.handles[o],this.element),n=/sw|ne|nw|se|n|s/.test(o)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(o)?"Top":/se|sw|s/.test(o)?"Bottom":/^e$/.test(o)?"Right":"Left"].join(""),t.css(i,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[o])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=i&&i[1]?i[1]:"se")}),l.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){l.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){l.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,o=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(o(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),o(this.originalElement),this},_mouseCapture:function(t){var o,r,i=!1;for(o in this.handles)r=e(this.handles[o])[0],(r===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var o,r,i,n=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),o=this._num(this.helper.css("left")),r=this._num(this.helper.css("top")),n.containment&&(o+=e(n.containment).scrollLeft()||0,r+=e(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:o,top:r},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:o,top:r},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===i?this.axis+"-resize":i),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var o,r,i=this.originalMousePosition,n=this.axis,a=t.pageX-i.left||0,l=t.pageY-i.top||0,s=this._change[n];return this._updatePrevProperties(),s?(o=s.apply(this,[t,a,l]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(o=this._updateRatio(o,t)),o=this._respectSize(o,t),this._updateCache(o),this._propagate("resize",t),r=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(r)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var o,r,i,n,a,l,s,p=this.options,u=this;return this._helper&&(o=this._proportionallyResizeElements,r=o.length&&/textarea/i.test(o[0].nodeName),i=r&&this._hasScroll(o[0],"left")?0:u.sizeDiff.height,n=r?0:u.sizeDiff.width,a={width:u.helper.width()-n,height:u.helper.height()-i},l=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,s=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,p.animate||this.element.css(e.extend(a,{top:s,left:l})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!p.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,o,r,i,n,a=this.options;n={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=n.minHeight*this.aspectRatio,r=n.minWidth/this.aspectRatio,o=n.maxHeight*this.aspectRatio,i=n.maxWidth/this.aspectRatio,t>n.minWidth&&(n.minWidth=t),r>n.minHeight&&(n.minHeight=r),n.maxWidth>o&&(n.maxWidth=o),n.maxHeight>i&&(n.maxHeight=i)),this._vBoundaries=n},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,o=this.size,r=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===r&&(e.left=t.left+(o.width-e.width),e.top=null),"nw"===r&&(e.top=t.top+(o.height-e.height),e.left=t.left+(o.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,o=this.axis,r=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,i=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,n=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,l=this.originalPosition.left+this.originalSize.width,s=this.position.top+this.size.height,p=/sw|nw|w/.test(o),u=/nw|ne|n/.test(o);return n&&(e.width=t.minWidth),a&&(e.height=t.minHeight),r&&(e.width=t.maxWidth),i&&(e.height=t.maxHeight),n&&p&&(e.left=l-t.minWidth),r&&p&&(e.left=l-t.maxWidth),a&&u&&(e.top=s-t.minHeight),i&&u&&(e.top=s-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,o=[],r=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],i=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)o[t]=parseInt(r[t],10)||0,o[t]+=parseInt(i[t],10)||0;return{height:o[0]+o[2],width:o[1]+o[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,o=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:o.height()-this.outerDimensions.height||0,width:o.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,o=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++o.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var o=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:o.width-t}},n:function(e,t,o){var r=this.originalSize,i=this.originalPosition;return{top:i.top+o,height:r.height-o}},s:function(e,t,o){return{height:this.originalSize.height+o}},se:function(t,o,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,o,r]))},sw:function(t,o,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,o,r]))},ne:function(t,o,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,o,r]))},nw:function(t,o,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,o,r]))}},_propagate:function(t,o){e.ui.plugin.call(this,t,[o,this.ui()]),"resize"!==t&&this._trigger(t,o,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var o=e(this).resizable("instance"),r=o.options,i=o._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),a=n&&o._hasScroll(i[0],"left")?0:o.sizeDiff.height,l=n?0:o.sizeDiff.width,s={width:o.size.width-l,height:o.size.height-a},p=parseInt(o.element.css("left"),10)+(o.position.left-o.originalPosition.left)||null,u=parseInt(o.element.css("top"),10)+(o.position.top-o.originalPosition.top)||null;o.element.animate(e.extend(s,u&&p?{top:u,left:p}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(o.element.css("width"),10),height:parseInt(o.element.css("height"),10),top:parseInt(o.element.css("top"),10),left:parseInt(o.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),o._updateCache(r),o._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,o,r,i,n,a,l,s=e(this).resizable("instance"),p=s.options,u=s.element,c=p.containment,g=c instanceof e?c.get(0):/parent/.test(c)?u.parent().get(0):c;g&&(s.containerElement=e(g),/document/.test(c)||c===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(g),o=[],e(["Top","Right","Left","Bottom"]).each(function(e,r){o[e]=s._num(t.css("padding"+r))}),s.containerOffset=t.offset(),s.containerPosition=t.position(),s.containerSize={height:t.innerHeight()-o[3],width:t.innerWidth()-o[1]},r=s.containerOffset,i=s.containerSize.height,n=s.containerSize.width,a=s._hasScroll(g,"left")?g.scrollWidth:n,l=s._hasScroll(g)?g.scrollHeight:i,s.parentData={element:g,left:r.left,top:r.top,width:a,height:l}))},resize:function(t){var o,r,i,n,a=e(this).resizable("instance"),l=a.options,s=a.containerOffset,p=a.position,u=a._aspectRatio||t.shiftKey,c={top:0,left:0},g=a.containerElement,h=!0;g[0]!==document&&/static/.test(g.css("position"))&&(c=s),p.left<(a._helper?s.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-s.left:a.position.left-c.left),u&&(a.size.height=a.size.width/a.aspectRatio,h=!1),a.position.left=l.helper?s.left:0),p.top<(a._helper?s.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-s.top:a.position.top),u&&(a.size.width=a.size.height*a.aspectRatio,h=!1),a.position.top=a._helper?s.top:0),i=a.containerElement.get(0)===a.element.parent().get(0),n=/relative|absolute/.test(a.containerElement.css("position")),i&&n?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),o=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-c.left:a.offset.left-s.left)),r=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-c.top:a.offset.top-s.top)),o+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-o,u&&(a.size.height=a.size.width/a.aspectRatio,h=!1)),r+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-r,u&&(a.size.width=a.size.height*a.aspectRatio,h=!1)),h||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),o=t.options,r=t.containerOffset,i=t.containerPosition,n=t.containerElement,a=e(t.helper),l=a.offset(),s=a.outerWidth()-t.sizeDiff.width,p=a.outerHeight()-t.sizeDiff.height;t._helper&&!o.animate&&/relative/.test(n.css("position"))&&e(this).css({left:l.left-i.left-r.left,width:s,height:p}),t._helper&&!o.animate&&/static/.test(n.css("position"))&&e(this).css({left:l.left-i.left-r.left,width:s,height:p})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),o=t.options;e(o.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,o){var r=e(this).resizable("instance"),i=r.options,n=r.originalSize,a=r.originalPosition,l={height:r.size.height-n.height||0,width:r.size.width-n.width||0,top:r.position.top-a.top||0,left:r.position.left-a.left||0};e(i.alsoResize).each(function(){var t=e(this),r=e(this).data("ui-resizable-alsoresize"),i={},n=t.parents(o.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(n,function(e,t){var o=(r[t]||0)+(l[t]||0);o&&o>=0&&(i[t]=o||null)}),t.css(i)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),o=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof o.ghost?o.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,o=e(this).resizable("instance"),r=o.options,i=o.size,n=o.originalSize,a=o.originalPosition,l=o.axis,s="number"==typeof r.grid?[r.grid,r.grid]:r.grid,p=s[0]||1,u=s[1]||1,c=Math.round((i.width-n.width)/p)*p,g=Math.round((i.height-n.height)/u)*u,h=n.width+c,f=n.height+g,d=r.maxWidth&&h>r.maxWidth,y=r.maxHeight&&f>r.maxHeight,m=r.minWidth&&r.minWidth>h,v=r.minHeight&&r.minHeight>f;r.grid=s,m&&(h+=p),v&&(f+=u),d&&(h-=p),y&&(f-=u),/^(se|s|e)$/.test(l)?(o.size.width=h,o.size.height=f):/^(ne)$/.test(l)?(o.size.width=h,o.size.height=f,o.position.top=a.top-g):/^(sw)$/.test(l)?(o.size.width=h,o.size.height=f,o.position.left=a.left-c):((0>=f-u||0>=h-p)&&(t=o._getPaddingPlusBorderDimensions(this)),f-u>0?(o.size.height=f,o.position.top=a.top-g):(f=u-t.height,o.size.height=f,o.position.top=a.top+n.height-f),h-p>0?(o.size.width=h,o.position.left=a.left-c):(h=p-t.width,o.size.width=h,o.position.left=a.left+n.width-h))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null
},_create:function(){var t,o=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(o.options.filter,o.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),o=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:o.left,top:o.top,right:o.left+t.outerWidth(),bottom:o.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var o=this,r=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(r.filter,this.element[0]),this._trigger("start",t),e(r.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),r.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var r=e.data(this,"selectable-item");r.startselected=!0,t.metaKey||t.ctrlKey||(r.$element.removeClass("ui-selected"),r.selected=!1,r.$element.addClass("ui-unselecting"),r.unselecting=!0,o._trigger("unselecting",t,{unselecting:r.element}))}),e(t.target).parents().addBack().each(function(){var r,i=e.data(this,"selectable-item");return i?(r=!t.metaKey&&!t.ctrlKey||!i.$element.hasClass("ui-selected"),i.$element.removeClass(r?"ui-unselecting":"ui-selected").addClass(r?"ui-selecting":"ui-unselecting"),i.unselecting=!r,i.selecting=r,i.selected=r,r?o._trigger("selecting",t,{selecting:i.element}):o._trigger("unselecting",t,{unselecting:i.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var o,r=this,i=this.options,n=this.opos[0],a=this.opos[1],l=t.pageX,s=t.pageY;return n>l&&(o=l,l=n,n=o),a>s&&(o=s,s=a,a=o),this.helper.css({left:n,top:a,width:l-n,height:s-a}),this.selectees.each(function(){var o=e.data(this,"selectable-item"),p=!1;o&&o.element!==r.element[0]&&("touch"===i.tolerance?p=!(o.left>l||n>o.right||o.top>s||a>o.bottom):"fit"===i.tolerance&&(p=o.left>n&&l>o.right&&o.top>a&&s>o.bottom),p?(o.selected&&(o.$element.removeClass("ui-selected"),o.selected=!1),o.unselecting&&(o.$element.removeClass("ui-unselecting"),o.unselecting=!1),o.selecting||(o.$element.addClass("ui-selecting"),o.selecting=!0,r._trigger("selecting",t,{selecting:o.element}))):(o.selecting&&((t.metaKey||t.ctrlKey)&&o.startselected?(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.$element.addClass("ui-selected"),o.selected=!0):(o.$element.removeClass("ui-selecting"),o.selecting=!1,o.startselected&&(o.$element.addClass("ui-unselecting"),o.unselecting=!0),r._trigger("unselecting",t,{unselecting:o.element}))),o.selected&&(t.metaKey||t.ctrlKey||o.startselected||(o.$element.removeClass("ui-selected"),o.selected=!1,o.$element.addClass("ui-unselecting"),o.unselecting=!0,r._trigger("unselecting",t,{unselecting:o.element})))))}),!1}},_mouseStop:function(t){var o=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-unselecting"),r.unselecting=!1,r.startselected=!1,o._trigger("unselected",t,{unselected:r.element})}),e(".ui-selecting",this.element[0]).each(function(){var r=e.data(this,"selectable-item");r.$element.removeClass("ui-selecting").addClass("ui-selected"),r.selecting=!1,r.selected=!0,r.startselected=!0,o._trigger("selected",t,{selected:r.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,o){return e>=t&&t+o>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,o){var r=null,i=!1,n=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,n.widgetName+"-item")===n?(r=e(this),!1):void 0}),e.data(t.target,n.widgetName+"-item")===n&&(r=e(t.target)),r?!this.options.handle||o||(e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)}),i)?(this.currentItem=r,this._removeCurrentsFromItems(),!0):!1:!1)},_mouseStart:function(t,o,r){var i,n,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(n=this.document.find("body"),this.storedCursor=n.css("cursor"),n.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(n)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var o,r,i,n,a=this.options,l=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=l=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=l=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?l=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(l=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?l=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(l=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),l!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),o=this.items.length-1;o>=0;o--)if(r=this.items[o],i=r.item[0],n=this._intersectsWithPointer(r),n&&r.instance===this.currentContainer&&i!==this.currentItem[0]&&this.placeholder[1===n?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],i):!0)){if(this.direction=1===n?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,o){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var r=this,i=this.placeholder.offset(),n=this.options.axis,a={};n&&"x"!==n||(a.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),n&&"y"!==n||(a.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,o);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var o=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(o).each(function(){var o=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);o&&r.push((t.key||o[1]+"[]")+"="+(t.key&&t.expression?o[1]:o[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var o=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},o.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,o=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,n=e.left,a=n+e.width,l=e.top,s=l+e.height,p=this.offset.click.top,u=this.offset.click.left,c="x"===this.options.axis||r+p>l&&s>r+p,g="y"===this.options.axis||t+u>n&&a>t+u,h=c&&g;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:t+this.helperProportions.width/2>n&&a>o-this.helperProportions.width/2&&r+this.helperProportions.height/2>l&&s>i-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),r=t&&o,i=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection();return r?this.floating?n&&"right"===n||"down"===i?2:1:i&&("down"===i?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),o=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),r=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection();return this.floating&&i?"right"===i&&o||"left"===i&&!o:r&&("down"===r&&t||"up"===r&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function o(){l.push(this)}var r,i,n,a,l=[],s=[],p=this._connectWith();if(p&&t)for(r=p.length-1;r>=0;r--)for(n=e(p[r],this.document[0]),i=n.length-1;i>=0;i--)a=e.data(n[i],this.widgetFullName),a&&a!==this&&!a.options.disabled&&s.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(s.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),r=s.length-1;r>=0;r--)s[r][0].each(o);return e(l)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var o=0;t.length>o;o++)if(t[o]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var o,r,i,n,a,l,s,p,u=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],g=this._connectWith();if(g&&this.ready)for(o=g.length-1;o>=0;o--)for(i=e(g[o],this.document[0]),r=i.length-1;r>=0;r--)n=e.data(i[r],this.widgetFullName),n&&n!==this&&!n.options.disabled&&(c.push([e.isFunction(n.options.items)?n.options.items.call(n.element[0],t,{item:this.currentItem}):e(n.options.items,n.element),n]),this.containers.push(n));for(o=c.length-1;o>=0;o--)for(a=c[o][1],l=c[o][0],r=0,p=l.length;p>r;r++)s=e(l[r]),s.data(this.widgetName+"-item",a),u.push({item:s,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var o,r,i,n;for(o=this.items.length-1;o>=0;o--)r=this.items[o],r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),n=i.offset(),r.left=n.left,r.top=n.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(o=this.containers.length-1;o>=0;o--)n=this.containers[o].element.offset(),this.containers[o].containerCache.left=n.left,this.containers[o].containerCache.top=n.top,this.containers[o].containerCache.width=this.containers[o].element.outerWidth(),this.containers[o].containerCache.height=this.containers[o].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var o,r=t.options;r.placeholder&&r.placeholder.constructor!==String||(o=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(o||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===r?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(i)):"tr"===r?t._createTrPlaceholder(t.currentItem,i):"img"===r&&i.attr("src",t.currentItem.attr("src")),o||i.css("visibility","hidden"),i},update:function(e,i){(!o||r.forcePlaceholderSize)&&(i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,o){var r=this;t.children().each(function(){e("<td>&#160;</td>",r.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(o)})},_contactContainers:function(t){var o,r,i,n,a,l,s,p,u,c,g=null,h=null;for(o=this.containers.length-1;o>=0;o--)if(!e.contains(this.currentItem[0],this.containers[o].element[0]))if(this._intersectsWith(this.containers[o].containerCache)){if(g&&e.contains(this.containers[o].element[0],g.element[0]))continue;g=this.containers[o],h=o}else this.containers[o].containerCache.over&&(this.containers[o]._trigger("out",t,this._uiHash(this)),this.containers[o].containerCache.over=0);if(g)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(i=1e4,n=null,u=g.floating||this._isFloating(this.currentItem),a=u?"left":"top",l=u?"width":"height",c=u?"clientX":"clientY",r=this.items.length-1;r>=0;r--)e.contains(this.containers[h].element[0],this.items[r].item[0])&&this.items[r].item[0]!==this.currentItem[0]&&(s=this.items[r].item.offset()[a],p=!1,t[c]-s>this.items[r][l]/2&&(p=!0),i>Math.abs(t[c]-s)&&(i=Math.abs(t[c]-s),n=this.items[r],this.direction=p?"up":"down"));if(!n&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1),void 0;n?this._rearrange(t,n,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var o=this.options,r=e.isFunction(o.helper)?e(o.helper.apply(this.element[0],[t,this.currentItem])):"clone"===o.helper?this.currentItem.clone():this.currentItem;return r.parents("body").length||e("parent"!==o.appendTo?o.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||o.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||o.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,o,r,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),("document"===i.containment||"window"===i.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],o=e(i.containment).offset(),r="hidden"!==e(t).css("overflow"),this.containment=[o.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,o.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,o.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,o.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,o){o||(o=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,n=/(html|body)/i.test(i[0].tagName);return{top:o.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():n?0:i.scrollTop())*r,left:o.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():n?0:i.scrollLeft())*r}},_generatePosition:function(t){var o,r,i=this.options,n=t.pageX,a=t.pageY,l="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(l[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(n=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(n=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),i.grid&&(o=this.originalPageY+Math.round((a-this.originalPageY)/i.grid[1])*i.grid[1],a=this.containment?o-this.offset.click.top>=this.containment[1]&&o-this.offset.click.top<=this.containment[3]?o:o-this.offset.click.top>=this.containment[1]?o-i.grid[1]:o+i.grid[1]:o,r=this.originalPageX+Math.round((n-this.originalPageX)/i.grid[0])*i.grid[0],n=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:l.scrollTop()),left:n-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:l.scrollLeft())}},_rearrange:function(e,t,o,r){o?o[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function o(e,t,o){return function(r){o._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var r,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(r in this._storedCSS)("auto"===this._storedCSS[r]||"static"===this._storedCSS[r])&&(this._storedCSS[r]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),r=this.containers.length-1;r>=0;r--)t||i.push(o("deactivate",this,this.containers[r])),this.containers[r].containerCache.over&&(i.push(o("out",this,this.containers[r])),this.containers[r].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(r=0;i.length>r;r++)i[r].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var o=t||this;return{helper:o.helper,placeholder:o.placeholder||e([]),position:o.position,originalPosition:o.originalPosition,offset:o.positionAbs,item:o.currentItem,sender:t?t.element:null}}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,o,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),n="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(o=r.values&&r.values.length||1,i.length>o&&(i.slice(o).remove(),i=i.slice(0,o)),t=i.length;o>t;t++)a.push(n);this.handles=i.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,o="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),o="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(o+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var o,r,i,n,a,l,s,p,u=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),o={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(o),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var o=Math.abs(r-u.values(t));(i>o||i===o&&(t===u._lastChangedValue||u.values(t)===c.min))&&(i=o,n=e(this),a=t)}),l=this._start(t,a),l===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,n.addClass("ui-state-active").focus(),s=n.offset(),p=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=p?{left:0,top:0}:{left:t.pageX-s.left-n.width()/2,top:t.pageY-s.top-n.height()/2-(parseInt(n.css("borderTopWidth"),10)||0)-(parseInt(n.css("borderBottomWidth"),10)||0)+(parseInt(n.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},o=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,o),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,o,r,i,n;return"horizontal"===this.orientation?(t=this.elementSize.width,o=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,
o=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=o/t,r>1&&(r=1),0>r&&(r=0),"vertical"===this.orientation&&(r=1-r),i=this._valueMax()-this._valueMin(),n=this._valueMin()+r*i,this._trimAlignValue(n)},_start:function(e,t){var o={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(o.value=this.values(t),o.values=this.values()),this._trigger("start",e,o)},_slide:function(e,t,o){var r,i,n;this.options.values&&this.options.values.length?(r=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&o>r||1===t&&r>o)&&(o=r),o!==this.values(t)&&(i=this.values(),i[t]=o,n=this._trigger("slide",e,{handle:this.handles[t],value:o,values:i}),r=this.values(t?0:1),n!==!1&&this.values(t,o))):o!==this.value()&&(n=this._trigger("slide",e,{handle:this.handles[t],value:o}),n!==!1&&this.value(o))},_stop:function(e,t){var o={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(o.value=this.values(t),o.values=this.values()),this._trigger("stop",e,o)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var o={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(o.value=this.values(t),o.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,o)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0),void 0):this._value()},values:function(t,o){var r,i,n;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(o),this._refreshValue(),this._change(null,t),void 0;if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(r=this.options.values,i=arguments[0],n=0;r.length>n;n+=1)r[n]=this._trimAlignValue(i[n]),this._change(null,n);this._refreshValue()},_setOption:function(t,o){var r,i=0;switch("range"===t&&this.options.range===!0&&("min"===o?(this.options.value=this._values(0),this.options.values=null):"max"===o&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!o),this._super(t,o),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===o?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),r=0;i>r;r+=1)this._change(null,r);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,o,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(o=this.options.values.slice(),r=0;o.length>r;r+=1)o[r]=this._trimAlignValue(o[r]);return o}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,o=(e-this._valueMin())%t,r=e-o;return 2*Math.abs(o)>=t&&(r+=o>0?t:-t),parseFloat(r.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),o=this.options.step,r=Math.floor(+(e-t).toFixed(this._precision())/o)*o;e=r+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,o=t.indexOf(".");return-1===o?0:t.length-o-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,o,r,i,n,a=this.options.range,l=this.options,s=this,p=this._animateOff?!1:l.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(r){o=100*((s.values(r)-s._valueMin())/(s._valueMax()-s._valueMin())),u["horizontal"===s.orientation?"left":"bottom"]=o+"%",e(this).stop(1,1)[p?"animate":"css"](u,l.animate),s.options.range===!0&&("horizontal"===s.orientation?(0===r&&s.range.stop(1,1)[p?"animate":"css"]({left:o+"%"},l.animate),1===r&&s.range[p?"animate":"css"]({width:o-t+"%"},{queue:!1,duration:l.animate})):(0===r&&s.range.stop(1,1)[p?"animate":"css"]({bottom:o+"%"},l.animate),1===r&&s.range[p?"animate":"css"]({height:o-t+"%"},{queue:!1,duration:l.animate}))),t=o}):(r=this.value(),i=this._valueMin(),n=this._valueMax(),o=n!==i?100*((r-i)/(n-i)):0,u["horizontal"===this.orientation?"left":"bottom"]=o+"%",this.handle.stop(1,1)[p?"animate":"css"](u,l.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[p?"animate":"css"]({width:o+"%"},l.animate),"max"===a&&"horizontal"===this.orientation&&this.range[p?"animate":"css"]({width:100-o+"%"},{queue:!1,duration:l.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[p?"animate":"css"]({height:o+"%"},l.animate),"max"===a&&"vertical"===this.orientation&&this.range[p?"animate":"css"]({height:100-o+"%"},{queue:!1,duration:l.animate}))},_handleEvents:{keydown:function(t){var o,r,i,n,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),o=this._start(t,a),o===!1))return}switch(n=this.options.step,r=i=this.options.values&&this.options.values.length?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(r+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(r-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(r===this._valueMax())return;i=this._trimAlignValue(r+n);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(r===this._valueMin())return;i=this._trimAlignValue(r-n)}this._slide(t,a,i)},keyup:function(t){var o=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,o),this._change(t,o),e(t.target).removeClass("ui-state-active"))}}});var a="ui-effects-",l=e;e.effects={effect:{}},function(e,t){function o(e,t,o){var r=c[t.type]||{};return null==e?o||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:e>r.max?r.max:e)}function r(o){var r=p(),i=r._rgba=[];return o=o.toLowerCase(),f(s,function(e,n){var a,l=n.re.exec(o),s=l&&n.parse(l),p=n.space||"rgba";return s?(a=r[p](s),r[u[p].cache]=a[u[p].cache],i=r._rgba=a._rgba,!1):t}),i.length?("0,0,0,0"===i.join()&&e.extend(i,n.transparent),r):n[o]}function i(e,t,o){return o=(o+1)%1,1>6*o?e+6*(t-e)*o:1>2*o?t:2>3*o?e+6*(t-e)*(2/3-o):e}var n,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",l=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],p=e.Color=function(t,o,r,i){return new e.Color.fn.parse(t,o,r,i)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},g=p.support={},h=e("<p>")[0],f=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",g.rgba=h.style.backgroundColor.indexOf("rgba")>-1,f(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),p.fn=e.extend(p.prototype,{parse:function(i,a,l,s){if(i===t)return this._rgba=[null,null,null,null],this;(i.jquery||i.nodeType)&&(i=e(i).css(a),a=t);var c=this,g=e.type(i),h=this._rgba=[];return a!==t&&(i=[i,a,l,s],g="array"),"string"===g?this.parse(r(i)||n._default):"array"===g?(f(u.rgba.props,function(e,t){h[t.idx]=o(i[t.idx],t)}),this):"object"===g?(i instanceof p?f(u,function(e,t){i[t.cache]&&(c[t.cache]=i[t.cache].slice())}):f(u,function(t,r){var n=r.cache;f(r.props,function(e,t){if(!c[n]&&r.to){if("alpha"===e||null==i[e])return;c[n]=r.to(c._rgba)}c[n][t.idx]=o(i[e],t,!0)}),c[n]&&0>e.inArray(null,c[n].slice(0,3))&&(c[n][3]=1,r.from&&(c._rgba=r.from(c[n])))}),this):t},is:function(e){var o=p(e),r=!0,i=this;return f(u,function(e,n){var a,l=o[n.cache];return l&&(a=i[n.cache]||n.to&&n.to(i._rgba)||[],f(n.props,function(e,o){return null!=l[o.idx]?r=l[o.idx]===a[o.idx]:t})),r}),r},_space:function(){var e=[],t=this;return f(u,function(o,r){t[r.cache]&&e.push(o)}),e.pop()},transition:function(e,t){var r=p(e),i=r._space(),n=u[i],a=0===this.alpha()?p("transparent"):this,l=a[n.cache]||n.to(a._rgba),s=l.slice();return r=r[n.cache],f(n.props,function(e,i){var n=i.idx,a=l[n],p=r[n],u=c[i.type]||{};null!==p&&(null===a?s[n]=p:(u.mod&&(p-a>u.mod/2?a+=u.mod:a-p>u.mod/2&&(a-=u.mod)),s[n]=o((p-a)*t+a,i)))}),this[i](s)},blend:function(t){if(1===this._rgba[3])return this;var o=this._rgba.slice(),r=o.pop(),i=p(t)._rgba;return p(e.map(o,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var t="rgba(",o=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===o[3]&&(o.pop(),t="rgb("),t+o.join()+")"},toHslaString:function(){var t="hsla(",o=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===o[3]&&(o.pop(),t="hsl("),t+o.join()+")"},toHexString:function(t){var o=this._rgba.slice(),r=o.pop();return t&&o.push(~~(255*r)),"#"+e.map(o,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,u.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,o,r=e[0]/255,i=e[1]/255,n=e[2]/255,a=e[3],l=Math.max(r,i,n),s=Math.min(r,i,n),p=l-s,u=l+s,c=.5*u;return t=s===l?0:r===l?60*(i-n)/p+360:i===l?60*(n-r)/p+120:60*(r-i)/p+240,o=0===p?0:.5>=c?p/u:p/(2-u),[Math.round(t)%360,o,c,null==a?1:a]},u.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,o=e[1],r=e[2],n=e[3],a=.5>=r?r*(1+o):r+o-r*o,l=2*r-a;return[Math.round(255*i(l,a,t+1/3)),Math.round(255*i(l,a,t)),Math.round(255*i(l,a,t-1/3)),n]},f(u,function(r,i){var n=i.props,a=i.cache,s=i.to,u=i.from;p.fn[r]=function(r){if(s&&!this[a]&&(this[a]=s(this._rgba)),r===t)return this[a].slice();var i,l=e.type(r),c="array"===l||"object"===l?r:arguments,g=this[a].slice();return f(n,function(e,t){var r=c["object"===l?e:t.idx];null==r&&(r=g[t.idx]),g[t.idx]=o(r,t)}),u?(i=p(u(g)),i[a]=g,i):p(g)},f(n,function(t,o){p.fn[t]||(p.fn[t]=function(i){var n,a=e.type(i),s="alpha"===t?this._hsla?"hsla":"rgba":r,p=this[s](),u=p[o.idx];return"undefined"===a?u:("function"===a&&(i=i.call(this,u),a=e.type(i)),null==i&&o.empty?this:("string"===a&&(n=l.exec(i),n&&(i=u+parseFloat(n[2])*("+"===n[1]?1:-1))),p[o.idx]=i,this[s](p)))})})}),p.hook=function(t){var o=t.split(" ");f(o,function(t,o){e.cssHooks[o]={set:function(t,i){var n,a,l="";if("transparent"!==i&&("string"!==e.type(i)||(n=r(i)))){if(i=p(n||i),!g.rgba&&1!==i._rgba[3]){for(a="backgroundColor"===o?t.parentNode:t;(""===l||"transparent"===l)&&a&&a.style;)try{l=e.css(a,"backgroundColor"),a=a.parentNode}catch(s){}i=i.blend(l&&"transparent"!==l?l:"_default")}i=i.toRgbaString()}try{t.style[o]=i}catch(s){}}},e.fx.step[o]=function(t){t.colorInit||(t.start=p(t.elem,o),t.end=p(t.end),t.colorInit=!0),e.cssHooks[o].set(t.elem,t.start.transition(t.end,t.pos))}})},p.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(o,r){t["border"+r+"Color"]=e}),t}},n=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(l),function(){function t(t){var o,r,i=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,n={};if(i&&i.length&&i[0]&&i[i[0]])for(r=i.length;r--;)o=i[r],"string"==typeof i[o]&&(n[e.camelCase(o)]=i[o]);else for(o in i)"string"==typeof i[o]&&(n[o]=i[o]);return n}function o(t,o){var r,n,a={};for(r in o)n=o[r],t[r]!==n&&(i[r]||(e.fx.step[r]||!isNaN(parseFloat(n)))&&(a[r]=n));return a}var r=["add","remove","toggle"],i={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,o){e.fx.step[o]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(l.style(e.elem,o,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(i,n,a,l){var s=e.speed(n,a,l);return this.queue(function(){var n,a=e(this),l=a.attr("class")||"",p=s.children?a.find("*").addBack():a;p=p.map(function(){var o=e(this);return{el:o,start:t(this)}}),n=function(){e.each(r,function(e,t){i[t]&&a[t+"Class"](i[t])})},n(),p=p.map(function(){return this.end=t(this.el[0]),this.diff=o(this.start,this.end),this}),a.attr("class",l),p=p.map(function(){var t=this,o=e.Deferred(),r=e.extend({},s,{queue:!1,complete:function(){o.resolve(t)}});return this.el.animate(this.diff,r),o.promise()}),e.when.apply(e,p.get()).done(function(){n(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),s.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(o,r,i,n){return r?e.effects.animateClass.call(this,{add:o},r,i,n):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(o,r,i,n){return arguments.length>1?e.effects.animateClass.call(this,{remove:o},r,i,n):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(o,r,i,n,a){return"boolean"==typeof r||void 0===r?i?e.effects.animateClass.call(this,r?{add:o}:{remove:o},i,n,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:o},r,i,n)}}(e.fn.toggleClass),switchClass:function(t,o,r,i,n){return e.effects.animateClass.call(this,{add:o,remove:t},r,i,n)}})}(),function(){function t(t,o,r,i){return e.isPlainObject(t)&&(o=t,t=t.effect),t={effect:t},null==o&&(o={}),e.isFunction(o)&&(i=o,r=null,o={}),("number"==typeof o||e.fx.speeds[o])&&(i=r,r=o,o={}),e.isFunction(r)&&(i=r,r=null),o&&e.extend(t,o),r=r||o.duration,t.duration=e.fx.off?0:"number"==typeof r?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||o.complete,t}function o(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var o=0;t.length>o;o++)null!==t[o]&&e.data(a+t[o],e[0].style[t[o]])},restore:function(e,t){var o,r;for(r=0;t.length>r;r++)null!==t[r]&&(o=e.data(a+t[r]),void 0===o&&(o=""),e.css(t[r],o))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var o,r;switch(e[0]){case"top":o=0;break;case"middle":o=.5;break;case"bottom":o=1;break;default:o=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:o}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var o={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},n=document.activeElement;try{n.id}catch(a){n=document.body}return t.wrap(r),(t[0]===n||e.contains(t[0],n))&&e(n).focus(),r=t.parent(),"static"===t.css("position")?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(o,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){o[r]=t.css(r),isNaN(parseInt(o[r],10))&&(o[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(o).show()},removeWrapper:function(t){var o=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===o||e.contains(t[0],o))&&e(o).focus()),t},setTransition:function(t,o,r,i){return i=i||{},e.each(o,function(e,o){var n=t.cssUnit(o);n[0]>0&&(i[o]=n[0]*r+n[1])}),i}}),e.fn.extend({effect:function(){function o(t){function o(){e.isFunction(n)&&n.call(i[0]),e.isFunction(t)&&t()}var i=e(this),n=r.complete,l=r.mode;(i.is(":hidden")?"hide"===l:"show"===l)?(i[l](),o()):a.call(i[0],r,o)}var r=t.apply(this,arguments),i=r.mode,n=r.queue,a=e.effects.effect[r.effect];return e.fx.off||!a?i?this[i](r.duration,r.complete):this.each(function(){r.complete&&r.complete.call(this)}):n===!1?this.each(o):this.queue(n||"fx",o)},show:function(e){return function(r){if(o(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(e.fn.show),hide:function(e){return function(r){if(o(r))return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(e.fn.hide),toggle:function(e){return function(r){if(o(r)||"boolean"==typeof r)return e.apply(this,arguments);var i=t.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(e.fn.toggle),cssUnit:function(t){var o=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){o.indexOf(t)>0&&(r=[parseFloat(o),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,o){t[o]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,o=4;((t=Math.pow(2,--o))-1)/11>e;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,o){e.easing["easeIn"+t]=o,e.easing["easeOut"+t]=function(e){return 1-o(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?o(2*e)/2:1-o(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,o){var r,i,n,a=e(this),l=/up|down|vertical/,s=/up|left|vertical|horizontal/,p=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(a,t.mode||"hide"),c=t.direction||"up",g=l.test(c),h=g?"height":"width",f=g?"top":"left",d=s.test(c),y={},m="show"===u;a.parent().is(".ui-effects-wrapper")?e.effects.save(a.parent(),p):e.effects.save(a,p),a.show(),r=e.effects.createWrapper(a).css({overflow:"hidden"}),i=r[h](),n=parseFloat(r.css(f))||0,y[h]=m?i:0,d||(a.css(g?"bottom":"right",0).css(g?"top":"left","auto").css({position:"absolute"}),y[f]=m?n:i+n),m&&(r.css(h,0),d||r.css(f,n+i)),r.animate(y,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===u&&a.hide(),e.effects.restore(a,p),e.effects.removeWrapper(a),o()}})},e.effects.effect.bounce=function(t,o){var r,i,n,a=e(this),l=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(a,t.mode||"effect"),p="hide"===s,u="show"===s,c=t.direction||"up",g=t.distance,h=t.times||5,f=2*h+(u||p?1:0),d=t.duration/f,y=t.easing,m="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,_=a.queue(),x=_.length;for((u||p)&&l.push("opacity"),e.effects.save(a,l),a.show(),e.effects.createWrapper(a),g||(g=a["top"===m?"outerHeight":"outerWidth"]()/3),u&&(n={opacity:1},n[m]=0,a.css("opacity",0).css(m,v?2*-g:2*g).animate(n,d,y)),p&&(g/=Math.pow(2,h-1)),n={},n[m]=0,r=0;h>r;r++)i={},i[m]=(v?"-=":"+=")+g,a.animate(i,d,y).animate(n,d,y),g=p?2*g:g/2;p&&(i={opacity:0},i[m]=(v?"-=":"+=")+g,a.animate(i,d,y)),a.queue(function(){p&&a.hide(),e.effects.restore(a,l),e.effects.removeWrapper(a),o()}),x>1&&_.splice.apply(_,[1,0].concat(_.splice(x,f+1))),a.dequeue()},e.effects.effect.clip=function(t,o){var r,i,n,a=e(this),l=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(a,t.mode||"hide"),p="show"===s,u=t.direction||"vertical",c="vertical"===u,g=c?"height":"width",h=c?"top":"left",f={};e.effects.save(a,l),a.show(),r=e.effects.createWrapper(a).css({overflow:"hidden"}),i="IMG"===a[0].tagName?r:a,n=i[g](),p&&(i.css(g,0),i.css(h,n/2)),f[g]=p?n:0,f[h]=p?0:n/2,i.animate(f,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){p||a.hide(),e.effects.restore(a,l),e.effects.removeWrapper(a),o()}})},e.effects.effect.drop=function(t,o){var r,i=e(this),n=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(i,t.mode||"hide"),l="show"===a,s=t.direction||"left",p="up"===s||"down"===s?"top":"left",u="up"===s||"left"===s?"pos":"neg",c={opacity:l?1:0};e.effects.save(i,n),i.show(),e.effects.createWrapper(i),r=t.distance||i["top"===p?"outerHeight":"outerWidth"](!0)/2,l&&i.css("opacity",0).css(p,"pos"===u?-r:r),c[p]=(l?"pos"===u?"+=":"-=":"pos"===u?"-=":"+=")+r,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),o()}})},e.effects.effect.explode=function(t,o){function r(){_.push(this),_.length===c*g&&i()}function i(){h.css({visibility:"visible"}),e(_).remove(),d||h.hide(),o()}var n,a,l,s,p,u,c=t.pieces?Math.round(Math.sqrt(t.pieces)):3,g=c,h=e(this),f=e.effects.setMode(h,t.mode||"hide"),d="show"===f,y=h.show().css("visibility","hidden").offset(),m=Math.ceil(h.outerWidth()/g),v=Math.ceil(h.outerHeight()/c),_=[];for(n=0;c>n;n++)for(s=y.top+n*v,u=n-(c-1)/2,a=0;g>a;a++)l=y.left+a*m,p=a-(g-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*m,top:-n*v}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:v,left:l+(d?p*m:0),top:s+(d?u*v:0),opacity:d?0:1}).animate({left:l+(d?0:p*m),top:s+(d?0:u*v),opacity:d?1:0},t.duration||500,t.easing,r)},e.effects.effect.fade=function(t,o){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:o})},e.effects.effect.fold=function(t,o){var r,i,n=e(this),a=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(n,t.mode||"hide"),s="show"===l,p="hide"===l,u=t.size||15,c=/([0-9]+)%/.exec(u),g=!!t.horizFirst,h=s!==g,f=h?["width","height"]:["height","width"],d=t.duration/2,y={},m={};e.effects.save(n,a),n.show(),r=e.effects.createWrapper(n).css({overflow:"hidden"}),i=h?[r.width(),r.height()]:[r.height(),r.width()],c&&(u=parseInt(c[1],10)/100*i[p?0:1]),s&&r.css(g?{height:0,width:u}:{height:u,width:0}),y[f[0]]=s?i[0]:u,m[f[1]]=s?i[1]:0,r.animate(y,d,t.easing).animate(m,d,t.easing,function(){p&&n.hide(),e.effects.restore(n,a),e.effects.removeWrapper(n),o()})},e.effects.effect.highlight=function(t,o){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],n=e.effects.setMode(r,t.mode||"show"),a={backgroundColor:r.css("backgroundColor")};"hide"===n&&(a.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===n&&r.hide(),e.effects.restore(r,i),o()}})},e.effects.effect.size=function(t,o){var r,i,n,a=e(this),l=["position","top","bottom","left","right","width","height","overflow","opacity"],s=["position","top","bottom","left","right","overflow","opacity"],p=["width","height","overflow"],u=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],g=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=e.effects.setMode(a,t.mode||"effect"),f=t.restore||"effect"!==h,d=t.scale||"both",y=t.origin||["middle","center"],m=a.css("position"),v=f?l:s,_={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&a.show(),r={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===h?(a.from=t.to||_,a.to=t.from||r):(a.from=t.from||("show"===h?_:r),a.to=t.to||("hide"===h?_:r)),n={from:{y:a.from.height/r.height,x:a.from.width/r.width},to:{y:a.to.height/r.height,x:a.to.width/r.width}},("box"===d||"both"===d)&&(n.from.y!==n.to.y&&(v=v.concat(c),a.from=e.effects.setTransition(a,c,n.from.y,a.from),a.to=e.effects.setTransition(a,c,n.to.y,a.to)),n.from.x!==n.to.x&&(v=v.concat(g),a.from=e.effects.setTransition(a,g,n.from.x,a.from),a.to=e.effects.setTransition(a,g,n.to.x,a.to))),("content"===d||"both"===d)&&n.from.y!==n.to.y&&(v=v.concat(u).concat(p),a.from=e.effects.setTransition(a,u,n.from.y,a.from),a.to=e.effects.setTransition(a,u,n.to.y,a.to)),e.effects.save(a,v),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),y&&(i=e.effects.getBaseline(y,r),a.from.top=(r.outerHeight-a.outerHeight())*i.y,a.from.left=(r.outerWidth-a.outerWidth())*i.x,a.to.top=(r.outerHeight-a.to.outerHeight)*i.y,a.to.left=(r.outerWidth-a.to.outerWidth)*i.x),a.css(a.from),("content"===d||"both"===d)&&(c=c.concat(["marginTop","marginBottom"]).concat(u),g=g.concat(["marginLeft","marginRight"]),p=l.concat(c).concat(g),a.find("*[width]").each(function(){var o=e(this),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()};f&&e.effects.save(o,p),o.from={height:r.height*n.from.y,width:r.width*n.from.x,outerHeight:r.outerHeight*n.from.y,outerWidth:r.outerWidth*n.from.x},o.to={height:r.height*n.to.y,width:r.width*n.to.x,outerHeight:r.height*n.to.y,outerWidth:r.width*n.to.x},n.from.y!==n.to.y&&(o.from=e.effects.setTransition(o,c,n.from.y,o.from),o.to=e.effects.setTransition(o,c,n.to.y,o.to)),n.from.x!==n.to.x&&(o.from=e.effects.setTransition(o,g,n.from.x,o.from),o.to=e.effects.setTransition(o,g,n.to.x,o.to)),o.css(o.from),o.animate(o.to,t.duration,t.easing,function(){f&&e.effects.restore(o,p)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===h&&a.hide(),e.effects.restore(a,v),f||("static"===m?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,o){var r=parseInt(o,10),i=e?a.to.left:a.to.top;return"auto"===o?i+"px":r+i+"px"})})),e.effects.removeWrapper(a),o()}})},e.effects.effect.scale=function(t,o){var r=e(this),i=e.extend(!0,{},t),n=e.effects.setMode(r,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===n?0:100),l=t.direction||"both",s=t.origin,p={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},u={y:"horizontal"!==l?a/100:1,x:"vertical"!==l?a/100:1};i.effect="size",i.queue=!1,i.complete=o,"effect"!==n&&(i.origin=s||["middle","center"],i.restore=!0),i.from=t.from||("show"===n?{height:0,width:0,outerHeight:0,outerWidth:0}:p),i.to={height:p.height*u.y,width:p.width*u.x,outerHeight:p.outerHeight*u.y,outerWidth:p.outerWidth*u.x},i.fade&&("show"===n&&(i.from.opacity=0,i.to.opacity=1),"hide"===n&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.puff=function(t,o){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),n="hide"===i,a=parseInt(t.percent,10)||150,l=a/100,s={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:o,percent:n?a:100,from:n?s:{height:s.height*l,width:s.width*l,outerHeight:s.outerHeight*l,outerWidth:s.outerWidth*l}}),r.effect(t)},e.effects.effect.pulsate=function(t,o){var r,i=e(this),n=e.effects.setMode(i,t.mode||"show"),a="show"===n,l="hide"===n,s=a||"hide"===n,p=2*(t.times||5)+(s?1:0),u=t.duration/p,c=0,g=i.queue(),h=g.length;for((a||!i.is(":visible"))&&(i.css("opacity",0).show(),c=1),r=1;p>r;r++)i.animate({opacity:c},u,t.easing),c=1-c;i.animate({opacity:c},u,t.easing),i.queue(function(){l&&i.hide(),o()}),h>1&&g.splice.apply(g,[1,0].concat(g.splice(h,p+1))),i.dequeue()},e.effects.effect.shake=function(t,o){var r,i=e(this),n=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(i,t.mode||"effect"),l=t.direction||"left",s=t.distance||20,p=t.times||3,u=2*p+1,c=Math.round(t.duration/u),g="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,f={},d={},y={},m=i.queue(),v=m.length;for(e.effects.save(i,n),i.show(),e.effects.createWrapper(i),f[g]=(h?"-=":"+=")+s,d[g]=(h?"+=":"-=")+2*s,y[g]=(h?"-=":"+=")+2*s,i.animate(f,c,t.easing),r=1;p>r;r++)i.animate(d,c,t.easing).animate(y,c,t.easing);i.animate(d,c,t.easing).animate(f,c/2,t.easing).queue(function(){"hide"===a&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),o()}),v>1&&m.splice.apply(m,[1,0].concat(m.splice(v,u+1))),i.dequeue()},e.effects.effect.slide=function(t,o){var r,i=e(this),n=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(i,t.mode||"show"),l="show"===a,s=t.direction||"left",p="up"===s||"down"===s?"top":"left",u="up"===s||"left"===s,c={};e.effects.save(i,n),i.show(),r=t.distance||i["top"===p?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(i).css({overflow:"hidden"}),l&&i.css(p,u?isNaN(r)?"-"+r:-r:r),c[p]=(l?u?"+=":"-=":u?"-=":"+=")+r,i.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&i.hide(),e.effects.restore(i,n),e.effects.removeWrapper(i),o()}})},e.effects.effect.transfer=function(t,o){var r=e(this),i=e(t.to),n="fixed"===i.css("position"),a=e("body"),l=n?a.scrollTop():0,s=n?a.scrollLeft():0,p=i.offset(),u={top:p.top-l,left:p.left-s,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),g=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:c.top-l,left:c.left-s,height:r.innerHeight(),width:r.innerWidth(),position:n?"fixed":"absolute"}).animate(u,t.duration,t.easing,function(){g.remove(),o()})}})},{}],4:[function(e,t,o){(function(e,t,o){var r={html:false,photo:false,iframe:false,inline:false,transition:"elastic",speed:100,fadeOut:100,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,opacity:.5,preloading:true,className:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,closeButton:true,fastIframe:true,open:false,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:false,retinaUrl:false,retinaSuffix:"@2x.$1",current:"image {current} of {total}",
previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:true,trapFocus:true,onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title},createImg:function(){var t=new Image;var o=e(this).data("cbox-img-attrs");if(typeof o==="object"){e.each(o,function(e,o){t[e]=o})}return t},createIframe:function(){var o=t.createElement("iframe");var r=e(this).data("cbox-iframe-attrs");if(typeof r==="object"){e.each(r,function(e,t){o[e]=t})}if("frameBorder"in o){o.frameBorder=0}if("allowTransparency"in o){o.allowTransparency="true"}o.name=(new Date).getTime();o.allowFullscreen=true;return o}},i="colorbox",n="cbox",a=n+"Element",l=n+"_open",s=n+"_load",p=n+"_complete",u=n+"_cleanup",c=n+"_closed",g=n+"_purge",h,f,d,y,m,v,_,x,S,P,E,T,b,M,C,R,w,L,I,A,O=e("<a/>"),N,F,G,D,k,q,j,W,U,B,V,K,X="div",Y=0,z={},H;function Z(o,r,i){var a=t.createElement(o);if(r){a.id=n+r}if(i){a.style.cssText=i}return e(a)}function J(){return o.innerHeight?o.innerHeight:e(o).height()}function $(t,o){if(o!==Object(o)){o={}}this.cache={};this.el=t;this.value=function(t){var i;if(this.cache[t]===undefined){i=e(this.el).attr("data-cbox-"+t);if(i!==undefined){this.cache[t]=i}else if(o[t]!==undefined){this.cache[t]=o[t]}else if(r[t]!==undefined){this.cache[t]=r[t]}}return this.cache[t]};this.get=function(t){var o=this.value(t);return e.isFunction(o)?o.call(this.el,this):o}}function Q(e){var t=S.length,o=(q+e)%t;return o<0?t+o:o}function ee(e,t){return Math.round((/%/.test(e)?(t==="x"?P.width():J())/100:1)*parseInt(e,10))}function te(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function oe(e,t){return e.get("retinaUrl")&&o.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function re(e){if("contains"in f[0]&&!f[0].contains(e.target)&&e.target!==h[0]){e.stopPropagation();f.focus()}}function ie(e){if(ie.str!==e){f.add(h).removeClass(ie.str).addClass(e);ie.str=e}}function ne(t){q=0;if(t&&t!==false&&t!=="nofollow"){S=e("."+a).filter(function(){var o=e.data(this,i);var r=new $(this,o);return r.get("rel")===t});q=S.index(N.el);if(q===-1){S=S.add(N.el);q=S.length-1}}else{S=e(N.el)}}function ae(o){e(t).trigger(o);O.triggerHandler(o)}var le=function(){var e,t=n+"Slideshow_",o="click."+n,r;function i(){clearTimeout(r)}function a(){if(N.get("loop")||S[q+1]){i();r=setTimeout(K.next,N.get("slideshowSpeed"))}}function l(){R.html(N.get("slideshowStop")).unbind(o).one(o,c);O.bind(p,a).bind(s,i);f.removeClass(t+"off").addClass(t+"on")}function c(){i();O.unbind(p,a).unbind(s,i);R.html(N.get("slideshowStart")).unbind(o).one(o,function(){K.next();l()});f.removeClass(t+"on").addClass(t+"off")}function g(){e=false;R.hide();i();O.unbind(p,a).unbind(s,i);f.removeClass(t+"off "+t+"on")}return function(){if(e){if(!N.get("slideshow")){O.unbind(u,g);g()}}else{if(N.get("slideshow")&&S[1]){e=true;O.one(u,g);if(N.get("slideshowAuto")){l()}else{c()}R.show()}}}}();function se(o){var r;if(!B){r=e(o).data(i);N=new $(o,r);ne(N.get("rel"));if(!W){W=U=true;ie(N.get("className"));f.css({visibility:"hidden",display:"block",opacity:""});E=Z(X,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden");y.css({width:"",height:""}).append(E);F=m.height()+x.height()+y.outerHeight(true)-y.height();G=v.width()+_.width()+y.outerWidth(true)-y.width();D=E.outerHeight(true);k=E.outerWidth(true);var n=ee(N.get("initialWidth"),"x");var a=ee(N.get("initialHeight"),"y");var s=N.get("maxWidth");var p=N.get("maxHeight");N.w=Math.max((s!==false?Math.min(n,ee(s,"x")):n)-k-G,0);N.h=Math.max((p!==false?Math.min(a,ee(p,"y")):a)-D-F,0);E.css({width:"",height:N.h});K.position();ae(l);N.get("onOpen");A.add(M).hide();f.focus();if(N.get("trapFocus")){if(t.addEventListener){t.addEventListener("focus",re,true);O.one(c,function(){t.removeEventListener("focus",re,true)})}}if(N.get("returnFocus")){O.one(c,function(){e(N.el).focus()})}}var u=parseFloat(N.get("opacity"));h.css({opacity:u===u?u:"",cursor:N.get("overlayClose")?"pointer":"",visibility:"visible"}).show();if(N.get("closeButton")){I.html(N.get("close")).appendTo(y)}else{I.appendTo("<div/>")}ce()}}function pe(){if(!f){H=false;P=e(o);f=Z(X).attr({id:i,"class":e.support.opacity===false?n+"IE":"",role:"dialog",tabindex:"-1"}).hide();h=Z(X,"Overlay").hide();b=e([Z(X,"LoadingOverlay")[0],Z(X,"LoadingGraphic")[0]]);d=Z(X,"Wrapper");y=Z(X,"Content").append(M=Z(X,"Title"),C=Z(X,"Current"),L=e('<button type="button"/>').attr({id:n+"Previous"}),w=e('<button type="button"/>').attr({id:n+"Next"}),R=e('<button type="button"/>').attr({id:n+"Slideshow"}),b);I=e('<button type="button"/>').attr({id:n+"Close"});d.append(Z(X).append(Z(X,"TopLeft"),m=Z(X,"TopCenter"),Z(X,"TopRight")),Z(X,false,"clear:left").append(v=Z(X,"MiddleLeft"),y,_=Z(X,"MiddleRight")),Z(X,false,"clear:left").append(Z(X,"BottomLeft"),x=Z(X,"BottomCenter"),Z(X,"BottomRight"))).find("div div").css({"float":"left"});T=Z(X,false,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;");A=w.add(L).add(C).add(R)}if(t.body&&!f.parent().length){e(t.body).append(h,f.append(d,T))}}function ue(){function o(e){if(!(e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey)){e.preventDefault();se(this)}}if(f){if(!H){H=true;w.click(function(){K.next()});L.click(function(){K.prev()});I.click(function(){K.close()});h.click(function(){if(N.get("overlayClose")){K.close()}});e(t).bind("keydown."+n,function(e){var t=e.keyCode;if(W&&N.get("escKey")&&t===27){e.preventDefault();K.close()}if(W&&N.get("arrowKey")&&S[1]&&!e.altKey){if(t===37){e.preventDefault();L.click()}else if(t===39){e.preventDefault();w.click()}}});if(e.isFunction(e.fn.on)){e(t).on("click."+n,"."+a,o)}else{e("."+a).live("click."+n,o)}}return true}return false}if(e[i]){return}e(pe);K=e.fn[i]=e[i]=function(t,o){var r;var n=this;t=t||{};if(e.isFunction(n)){n=e("<a/>");t.open=true}if(!n[0]){return n}pe();if(ue()){if(o){t.onComplete=o}n.each(function(){var o=e.data(this,i)||{};e.data(this,i,e.extend(o,t))}).addClass(a);r=new $(n[0],t);if(r.get("open")){se(n[0])}}return n};K.position=function(t,o){var r,i=0,a=0,l=f.offset(),s,p;P.unbind("resize."+n);f.css({top:-9e4,left:-9e4});s=P.scrollTop();p=P.scrollLeft();if(N.get("fixed")){l.top-=s;l.left-=p;f.css({position:"fixed"})}else{i=s;a=p;f.css({position:"absolute"})}if(N.get("right")!==false){a+=Math.max(P.width()-N.w-k-G-ee(N.get("right"),"x"),0)}else if(N.get("left")!==false){a+=ee(N.get("left"),"x")}else{a+=Math.round(Math.max(P.width()-N.w-k-G,0)/2)}if(N.get("bottom")!==false){i+=Math.max(J()-N.h-D-F-ee(N.get("bottom"),"y"),0)}else if(N.get("top")!==false){i+=ee(N.get("top"),"y")}else{i+=Math.round(Math.max(J()-N.h-D-F,0)/2)}f.css({top:l.top,left:l.left,visibility:"visible"});d[0].style.width=d[0].style.height="9999px";function u(){m[0].style.width=x[0].style.width=y[0].style.width=parseInt(f[0].style.width,10)-G+"px";y[0].style.height=v[0].style.height=_[0].style.height=parseInt(f[0].style.height,10)-F+"px"}r={width:N.w+k+G,height:N.h+D+F,top:i,left:a};if(t){var c=0;e.each(r,function(e){if(r[e]!==z[e]){c=t;return}});t=c}z=r;if(!t){f.css(r)}f.dequeue().animate(r,{duration:t||0,complete:function(){u();U=false;d[0].style.width=N.w+k+G+"px";d[0].style.height=N.h+D+F+"px";if(N.get("reposition")){setTimeout(function(){P.bind("resize."+n,K.position)},1)}if(e.isFunction(o)){o()}},step:u})};K.resize=function(e){var t;if(W){e=e||{};if(e.width){N.w=ee(e.width,"x")-k-G}if(e.innerWidth){N.w=ee(e.innerWidth,"x")}E.css({width:N.w});if(e.height){N.h=ee(e.height,"y")-D-F}if(e.innerHeight){N.h=ee(e.innerHeight,"y")}if(!e.innerHeight&&!e.height){t=E.scrollTop();E.css({height:"auto"});N.h=E.height()}E.css({height:N.h});if(t){E.scrollTop(t)}K.position(N.get("transition")==="none"?0:N.get("speed"))}};K.prep=function(o){if(!W){return}var r,a=N.get("transition")==="none"?0:N.get("speed");E.remove();E=Z(X,"LoadedContent").append(o);function l(){N.w=N.w||E.width();N.w=N.mw&&N.mw<N.w?N.mw:N.w;return N.w}function s(){N.h=N.h||E.height();N.h=N.mh&&N.mh<N.h?N.mh:N.h;return N.h}E.hide().appendTo(T.show()).css({width:l(),overflow:N.get("scrolling")?"auto":"hidden"}).css({height:s()}).prependTo(y);T.hide();e(j).css({"float":"none"});ie(N.get("className"));r=function(){var o=S.length,r,l;if(!W){return}function s(){if(e.support.opacity===false){f[0].style.removeAttribute("filter")}}l=function(){clearTimeout(V);b.hide();ae(p);N.get("onComplete")};M.html(N.get("title")).show();E.show();if(o>1){if(typeof N.get("current")==="string"){C.html(N.get("current").replace("{current}",q+1).replace("{total}",o)).show()}w[N.get("loop")||q<o-1?"show":"hide"]().html(N.get("next"));L[N.get("loop")||q?"show":"hide"]().html(N.get("previous"));le();if(N.get("preloading")){e.each([Q(-1),Q(1)],function(){var o,r=S[this],n=new $(r,e.data(r,i)),a=n.get("href");if(a&&te(n,a)){a=oe(n,a);o=t.createElement("img");o.src=a}})}}else{A.hide()}if(N.get("iframe")){r=N.get("createIframe");if(!N.get("scrolling")){r.scrolling="no"}e(r).attr({src:N.get("href"),"class":n+"Iframe"}).one("load",l).appendTo(E);O.one(g,function(){r.src="//about:blank"});if(N.get("fastIframe")){e(r).trigger("load")}}else{l()}if(N.get("transition")==="fade"){f.fadeTo(a,1,s)}else{s()}};if(N.get("transition")==="fade"){f.fadeTo(a,0,function(){K.position(0,r)})}else{K.position(a,r)}};function ce(){var t,r,i=K.prep,a,l=++Y;U=true;j=false;ae(g);ae(s);N.get("onLoad");N.h=N.get("height")?ee(N.get("height"),"y")-D-F:N.get("innerHeight")&&ee(N.get("innerHeight"),"y");N.w=N.get("width")?ee(N.get("width"),"x")-k-G:N.get("innerWidth")&&ee(N.get("innerWidth"),"x");N.mw=N.w;N.mh=N.h;if(N.get("maxWidth")){N.mw=ee(N.get("maxWidth"),"x")-k-G;N.mw=N.w&&N.w<N.mw?N.w:N.mw}if(N.get("maxHeight")){N.mh=ee(N.get("maxHeight"),"y")-D-F;N.mh=N.h&&N.h<N.mh?N.h:N.mh}t=N.get("href");V=setTimeout(function(){b.show()},100);if(N.get("inline")){var p=e(t).eq(0);a=e("<div>").hide().insertBefore(p);O.one(g,function(){a.replaceWith(p)});i(p)}else if(N.get("iframe")){i(" ")}else if(N.get("html")){i(N.get("html"))}else if(te(N,t)){t=oe(N,t);j=N.get("createImg");e(j).addClass(n+"Photo").bind("error."+n,function(){i(Z(X,"Error").html(N.get("imgError")))}).one("load",function(){if(l!==Y){return}setTimeout(function(){var t;if(N.get("retinaImage")&&o.devicePixelRatio>1){j.height=j.height/o.devicePixelRatio;j.width=j.width/o.devicePixelRatio}if(N.get("scalePhotos")){r=function(){j.height-=j.height*t;j.width-=j.width*t};if(N.mw&&j.width>N.mw){t=(j.width-N.mw)/j.width;r()}if(N.mh&&j.height>N.mh){t=(j.height-N.mh)/j.height;r()}}if(N.h){j.style.marginTop=Math.max(N.mh-j.height,0)/2+"px"}if(S[1]&&(N.get("loop")||S[q+1])){j.style.cursor="pointer";e(j).bind("click."+n,function(){K.next()})}j.style.width=j.width+"px";j.style.height=j.height+"px";i(j)},1)});j.src=t}else if(t){T.load(t,N.get("data"),function(t,o){if(l===Y){i(o==="error"?Z(X,"Error").html(N.get("xhrError")):e(this).contents())}})}}K.next=function(){if(!U&&S[1]&&(N.get("loop")||S[q+1])){q=Q(1);se(S[q])}};K.prev=function(){if(!U&&S[1]&&(N.get("loop")||q)){q=Q(-1);se(S[q])}};K.close=function(){if(W&&!B){B=true;W=false;ae(u);N.get("onCleanup");P.unbind("."+n);h.fadeTo(N.get("fadeOut")||0,0);f.stop().fadeTo(N.get("fadeOut")||0,0,function(){f.hide();h.hide();ae(g);E.remove();setTimeout(function(){B=false;ae(c);N.get("onClosed")},1)})}};K.remove=function(){if(!f){return}f.stop();e[i].close();f.stop(false,true).remove();h.remove();B=false;f=null;e("."+a).removeData(i).removeClass(a);e(t).unbind("click."+n).unbind("keydown."+n)};K.element=function(){return e(N.el)};K.settings=r;jQuery.colorbox.settings.maxWidth="95%";jQuery.colorbox.settings.maxHeight="95%";var ge;function he(){if(ge)clearTimeout(ge);ge=setTimeout(function(){if(jQuery("#cboxOverlay").is(":visible")){ce()}},300)}e(o).resize(he);o.addEventListener("orientationchange",he,false)})(jQuery,document,window)},{}],5:[function(e,t,o){(function(e,t){e.widget("ui.labeledslider",e.ui.slider,{version:"1.1.1",options:{tickInterval:0,tweenLabels:true,tickLabels:null,tickArray:[]},uiSlider:null,tickInterval:0,tweenLabels:true,_create:function(){this._detectOrientation();this.uiSlider=this.element.wrap('<div class="ui-slider-wrapper ui-widget"></div>').before('<div class="ui-slider-labels">').parent().addClass(this.orientation);this._super();this.element.removeClass("ui-widget");this._alignWithStep();this._drawLabels()},_drawLabels:function(){var t=this.options.tickLabels||{},o=this.uiSlider.children(".ui-slider-labels"),r=this.orientation=="horizontal"?"left":"bottom",i=this.options.min,n=this.options.max,a=this.tickInterval,l=n-i,s=this.options.tickArray,p=s.length>0,u,c,g=0;o.html("");for(;g<=l;g++){if(!p&&g%a==0||p&&s.indexOf(g+i)>-1){u=t[g+i]?t[g+i]:this.options.tweenLabels?g+i:"";e("<div>").addClass("ui-slider-label-ticks").css(r,Math.round(g/l*1e4)/100+"%").html("<span>"+u+"</span>").appendTo(o)}}},_setOption:function(e,t){this._super(e,t);switch(e){case"tickInterval":case"tickLabels":case"tickArray":case"min":case"max":case"step":this._alignWithStep();this._drawLabels();break;case"orientation":this.element.removeClass("horizontal vertical").addClass(this.orientation);this._drawLabels();break}},_alignWithStep:function(){if(this.options.tickInterval<this.options.step)this.tickInterval=this.options.step;else this.tickInterval=this.options.tickInterval},_destroy:function(){this._super();this.uiSlider.replaceWith(this.element)},widget:function(){return this.uiSlider}})})(jQuery)},{}],6:[function(e,t,o){!function(e){function t(e,t){if(!(e.originalEvent.touches.length>1)){e.preventDefault();var o=e.originalEvent.changedTouches[0],r=document.createEvent("MouseEvents");r.initMouseEvent(t,!0,!0,window,1,o.screenX,o.screenY,o.clientX,o.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(r)}}if(e.support.touch="ontouchend"in document,e.support.touch){var o,r=e.ui.mouse.prototype,i=r._mouseInit,n=r._mouseDestroy;r._touchStart=function(e){var r=this;!o&&r._mouseCapture(e.originalEvent.changedTouches[0])&&(o=!0,r._touchMoved=!1,t(e,"mouseover"),t(e,"mousemove"),t(e,"mousedown"))},r._touchMove=function(e){o&&(this._touchMoved=!0,t(e,"mousemove"))},r._touchEnd=function(e){o&&(t(e,"mouseup"),t(e,"mouseout"),this._touchMoved||t(e,"click"),o=!1)},r._mouseInit=function(){var t=this;t.element.bind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),i.call(t)},r._mouseDestroy=function(){var t=this;t.element.unbind({touchstart:e.proxy(t,"_touchStart"),touchmove:e.proxy(t,"_touchMove"),touchend:e.proxy(t,"_touchEnd")}),n.call(t)}}}(jQuery)},{}],7:[function(e,t,o){"function"!==typeof Object.create&&(Object.create=function(e){function t(){}t.prototype=e;return new t});(function(e,t,o){var r={init:function(t,o){this.$elem=e(o);this.options=e.extend({},e.fn.owlCarousel.options,this.$elem.data(),t);this.userOptions=t;this.loadContent()},loadContent:function(){function t(e){var t,r="";if("function"===typeof o.options.jsonSuccess)o.options.jsonSuccess.apply(this,[e]);else{for(t in e.owl)e.owl.hasOwnProperty(t)&&(r+=e.owl[t].item);o.$elem.html(r)}o.logIn()}var o=this,r;"function"===typeof o.options.beforeInit&&o.options.beforeInit.apply(this,[o.$elem]);"string"===typeof o.options.jsonPath?(r=o.options.jsonPath,e.getJSON(r,t)):o.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style"));this.$elem.data("owl-originalClasses",this.$elem.attr("class"));this.$elem.css({opacity:0});this.orignalItems=this.options.items;this.checkBrowser();this.wrapperWidth=0;this.checkVisible=null;this.setVars()},setVars:function(){if(0===this.$elem.children().length)return!1;this.baseClass();this.eventTypes();this.$userItems=this.$elem.children();this.itemsAmount=this.$userItems.length;this.wrapItems();this.$owlItems=this.$elem.find(".owl-item");this.$owlWrapper=this.$elem.find(".owl-wrapper");this.playDirection="next";this.prevItem=0;this.prevArr=[0];this.currentItem=0;this.customEvents();this.onStartup()},onStartup:function(){this.updateItems();this.calculateAll();this.buildControls();this.updateControls();this.response();this.moveEvents();this.stopOnHover();this.owlStatus();!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle);!0===this.options.autoPlay&&(this.options.autoPlay=5e3);this.play();this.$elem.find(".owl-wrapper").css("display","block");this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility();this.onstartup=!1;this.eachMoveUpdate();"function"===typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad();!0===this.options.autoHeight&&this.autoHeight();this.onVisibleItems();"function"===typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"===typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]);this.watchVisibility();this.updateItems();this.calculateAll();this.updatePosition();this.updateControls();this.eachMoveUpdate();"function"===typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var e=this;t.setTimeout(function(){e.updateVars()},0)},watchVisibility:function(){var e=this;if(!1===e.$elem.is(":visible"))e.$elem.css({opacity:0}),t.clearInterval(e.autoPlayInterval),t.clearInterval(e.checkVisible);else return!1;e.checkVisible=t.setInterval(function(){e.$elem.is(":visible")&&(e.reload(),e.$elem.animate({opacity:1},200),t.clearInterval(e.checkVisible))},500)},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>');this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">');this.wrapperOuter=this.$elem.find(".owl-wrapper-outer");this.$elem.css("display","block")},baseClass:function(){var e=this.$elem.hasClass(this.options.baseClass),t=this.$elem.hasClass(this.options.theme);e||this.$elem.addClass(this.options.baseClass);t||this.$elem.addClass(this.options.theme)},updateItems:function(){var t,o;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;t=e(this.options.responsiveBaseWidth).width();t>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems);if(!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(e,t){return e[0]-t[0]}),o=0;o<this.options.itemsCustom.length;o+=1)this.options.itemsCustom[o][0]<=t&&(this.options.items=this.options.itemsCustom[o][1]);else t<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),t<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),t<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),t<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),t<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var o=this,r,i;if(!0!==o.options.responsive)return!1;i=e(t).width();o.resizer=function(){e(t).width()!==i&&(!1!==o.options.autoPlay&&t.clearInterval(o.autoPlayInterval),t.clearTimeout(r),r=t.setTimeout(function(){i=e(t).width();o.updateVars()},o.options.responsiveRefreshRate))};e(t).resize(o.resizer)},updatePosition:function(){this.jumpTo(this.currentItem);!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var t=this,o=0,r=t.itemsAmount-t.options.items;t.$owlItems.each(function(i){var n=e(this);n.css({width:t.itemWidth}).data("owl-item",Number(i));if(0===i%t.options.items||i===r)i>r||(o+=1);n.data("owl-roundPages",o)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0});this.appendItemsSizes()},calculateAll:function(){this.calculateWidth();this.appendWrapperSizes();this.loops();this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var e=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);this.options.items>this.itemsAmount?this.maximumPixels=e=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=e);return e},min:function(){return 0},loops:function(){var t=0,o=0,r,i;this.positionsInArray=[0];this.pagesInArray=[];for(r=0;r<this.itemsAmount;r+=1)o+=this.itemWidth,this.positionsInArray.push(-o),!0===this.options.scrollPerPage&&(i=e(this.$owlItems[r]),i=i.data("owl-roundPages"),i!==t&&(this.pagesInArray[t]=this.positionsInArray[r],t=i))},buildControls:function(){if(!0===this.options.navigation||!0===this.options.pagination)this.owlControls=e('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem);!0===this.options.pagination&&this.buildPagination();!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var t=this,o=e('<div class="owl-buttons"/>');t.owlControls.append(o);t.buttonPrev=e("<div/>",{"class":"owl-prev",html:t.options.navigationText[0]||""});t.buttonNext=e("<div/>",{"class":"owl-next",html:t.options.navigationText[1]||""});o.append(t.buttonPrev).append(t.buttonNext);o.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(e){e.preventDefault()});o.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(o){o.preventDefault();e(this).hasClass("owl-next")?t.next():t.prev()})},buildPagination:function(){var t=this;t.paginationWrapper=e('<div class="owl-pagination"/>');t.owlControls.append(t.paginationWrapper);t.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(o){o.preventDefault();Number(e(this).data("owl-page"))!==t.currentItem&&t.goTo(Number(e(this).data("owl-page")),!0)})},updatePagination:function(){var t,o,r,i,n,a;if(!1===this.options.pagination)return!1;this.paginationWrapper.html("");t=0;o=this.itemsAmount-this.itemsAmount%this.options.items;for(i=0;i<this.itemsAmount;i+=1)0===i%this.options.items&&(t+=1,o===i&&(r=this.itemsAmount-this.options.items),n=e("<div/>",{"class":"owl-page"}),a=e("<span></span>",{text:!0===this.options.paginationNumbers?t:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),n.append(a),n.data("owl-page",o===i?r:i),n.data("owl-roundPages",t),this.paginationWrapper.append(n));this.checkPagination()},checkPagination:function(){var t=this;if(!1===t.options.pagination)return!1;t.paginationWrapper.find(".owl-page").each(function(){e(this).data("owl-roundPages")===e(t.$owlItems[t.currentItem]).data("owl-roundPages")&&(t.paginationWrapper.find(".owl-page").removeClass("active"),e(this).addClass("active"))})},checkNavigation:function(){if(!1===this.options.navigation)return!1;!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled")))},updateControls:function(){this.updatePagination();this.checkNavigation();this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(e){if(this.isTransition)return!1;this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1;if(this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0))if(!0===this.options.rewindNav)this.currentItem=0,e="rewind";else return this.currentItem=this.maximumItem,!1;this.goTo(this.currentItem,e)},prev:function(e){if(this.isTransition)return!1;this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1);if(0>this.currentItem)if(!0===this.options.rewindNav)this.currentItem=this.maximumItem,e="rewind";else return this.currentItem=0,!1;this.goTo(this.currentItem,e)},goTo:function(e,o,r){var i=this;if(i.isTransition)return!1;"function"===typeof i.options.beforeMove&&i.options.beforeMove.apply(this,[i.$elem]);e>=i.maximumItem?e=i.maximumItem:0>=e&&(e=0);i.currentItem=i.owl.currentItem=e;if(!1!==i.options.transitionStyle&&"drag"!==r&&1===i.options.items&&!0===i.browser.support3d)return i.swapSpeed(0),!0===i.browser.support3d?i.transition3d(i.positionsInArray[e]):i.css2slide(i.positionsInArray[e],1),i.afterGo(),i.singleItemTransition(),!1;e=i.positionsInArray[e];!0===i.browser.support3d?(i.isCss3Finish=!1,!0===o?(i.swapSpeed("paginationSpeed"),t.setTimeout(function(){i.isCss3Finish=!0},i.options.paginationSpeed)):"rewind"===o?(i.swapSpeed(i.options.rewindSpeed),t.setTimeout(function(){i.isCss3Finish=!0},i.options.rewindSpeed)):(i.swapSpeed("slideSpeed"),t.setTimeout(function(){i.isCss3Finish=!0},i.options.slideSpeed)),i.transition3d(e)):!0===o?i.css2slide(e,i.options.paginationSpeed):"rewind"===o?i.css2slide(e,i.options.rewindSpeed):i.css2slide(e,i.options.slideSpeed);i.afterGo()},jumpTo:function(e){"function"===typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]);e>=this.maximumItem||-1===e?e=this.maximumItem:0>=e&&(e=0);this.swapSpeed(0);!0===this.browser.support3d?this.transition3d(this.positionsInArray[e]):this.css2slide(this.positionsInArray[e],1);this.currentItem=this.owl.currentItem=e;this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem);this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2];this.prevArr.shift(0);this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp());"function"===typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop";t.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var e=this;e.apStatus="play";if(!1===e.options.autoPlay)return!1;t.clearInterval(e.autoPlayInterval);e.autoPlayInterval=t.setInterval(function(){e.next(!0)},e.options.autoPlay)},swapSpeed:function(e){"slideSpeed"===e?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===e?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!==typeof e&&this.$owlWrapper.css(this.addCssSpeed(e))},addCssSpeed:function(e){return{"-webkit-transition":"all "+e+"ms ease","-moz-transition":"all "+e+"ms ease","-o-transition":"all "+e+"ms ease",transition:"all "+e+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(e){return{"-webkit-transform":"translate3d("+e+"px, 0px, 0px)","-moz-transform":"translate3d("+e+"px, 0px, 0px)","-o-transform":"translate3d("+e+"px, 0px, 0px)","-ms-transform":"translate3d("+e+"px, 0px, 0px)",transform:"translate3d("+e+"px, 0px,0px)"}},transition3d:function(e){this.$owlWrapper.css(this.doTranslate(e))},css2move:function(e){this.$owlWrapper.css({left:e})},css2slide:function(e,t){var o=this;o.isCssFinish=!1;o.$owlWrapper.stop(!0,!0).animate({left:e},{duration:t||o.options.slideSpeed,complete:function(){o.isCssFinish=!0}})},checkBrowser:function(){var e=o.createElement("div");e.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)";e=e.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g);this.browser={support3d:null!==e&&1===e.length,isTouch:"ontouchstart"in t||t.navigator.msMaxTouchPoints}},moveEvents:function(){if(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)this.gestures(),this.disabledEvents()},eventTypes:function(){var e=["s","e","x"];this.ev_types={};!0===this.options.mouseDrag&&!0===this.options.touchDrag?e=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?e=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(e=["mousedown.owl","mousemove.owl","mouseup.owl"]);this.ev_types.start=e[0];this.ev_types.move=e[1];this.ev_types.end=e[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(e){e.preventDefault()});this.$elem.on("mousedown.disableTextSelect",function(t){return e(t.target).is("input, textarea, select, option")})},gestures:function(){function r(e){if(void 0!==e.touches)return{x:e.touches[0].pageX,y:e.touches[0].pageY};if(void 0===e.touches){if(void 0!==e.pageX)return{x:e.pageX,y:e.pageY};if(void 0===e.pageX)return{x:e.clientX,y:e.clientY}}}function i(t){"on"===t?(e(o).on(l.ev_types.move,n),e(o).on(l.ev_types.end,a)):"off"===t&&(e(o).off(l.ev_types.move),e(o).off(l.ev_types.end))}function n(i){i=i.originalEvent||i||t.event;l.newPosX=r(i).x-s.offsetX;l.newPosY=r(i).y-s.offsetY;l.newRelativeX=l.newPosX-s.relativePos;"function"===typeof l.options.startDragging&&!0!==s.dragging&&0!==l.newRelativeX&&(s.dragging=!0,l.options.startDragging.apply(l,[l.$elem]));(8<l.newRelativeX||-8>l.newRelativeX)&&!0===l.browser.isTouch&&(void 0!==i.preventDefault?i.preventDefault():i.returnValue=!1,s.sliding=!0);(10<l.newPosY||-10>l.newPosY)&&!1===s.sliding&&e(o).off("touchmove.owl");l.newPosX=Math.max(Math.min(l.newPosX,l.newRelativeX/5),l.maximumPixels+l.newRelativeX/5);!0===l.browser.support3d?l.transition3d(l.newPosX):l.css2move(l.newPosX)}function a(o){o=o.originalEvent||o||t.event;var r;o.target=o.target||o.srcElement;s.dragging=!1;!0!==l.browser.isTouch&&l.$owlWrapper.removeClass("grabbing");l.dragDirection=0>l.newRelativeX?l.owl.dragDirection="left":l.owl.dragDirection="right";0!==l.newRelativeX&&(r=l.getNewPosition(),l.goTo(r,!1,"drag"),s.targetElement===o.target&&!0!==l.browser.isTouch&&(e(o.target).on("click.disable",function(t){t.stopImmediatePropagation();t.stopPropagation();t.preventDefault();e(t.target).off("click.disable")}),o=e._data(o.target,"events").click,r=o.pop(),o.splice(0,0,r)));i("off")}var l=this,s={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};l.isCssFinish=!0;l.$elem.on(l.ev_types.start,".owl-wrapper",function(o){o=o.originalEvent||o||t.event;var n;if(3===o.which)return!1;if(!(l.itemsAmount<=l.options.items)){if(!1===l.isCssFinish&&!l.options.dragBeforeAnimFinish||!1===l.isCss3Finish&&!l.options.dragBeforeAnimFinish)return!1;!1!==l.options.autoPlay&&t.clearInterval(l.autoPlayInterval);!0===l.browser.isTouch||l.$owlWrapper.hasClass("grabbing")||l.$owlWrapper.addClass("grabbing");l.newPosX=0;l.newRelativeX=0;e(this).css(l.removeTransition());n=e(this).position();s.relativePos=n.left;s.offsetX=r(o).x-n.left;s.offsetY=r(o).y-n.top;i("on");s.sliding=!1;s.targetElement=o.target||o.srcElement}})},getNewPosition:function(){var e=this.closestItem();e>this.maximumItem?e=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=e=0);return e},closestItem:function(){var t=this,o=!0===t.options.scrollPerPage?t.pagesInArray:t.positionsInArray,r=t.newPosX,i=null;
e.each(o,function(n,a){r-t.itemWidth/20>o[n+1]&&r-t.itemWidth/20<a&&"left"===t.moveDirection()?(i=a,t.currentItem=!0===t.options.scrollPerPage?e.inArray(i,t.positionsInArray):n):r+t.itemWidth/20<a&&r+t.itemWidth/20>(o[n+1]||o[n]-t.itemWidth)&&"right"===t.moveDirection()&&(!0===t.options.scrollPerPage?(i=o[n+1]||o[o.length-1],t.currentItem=e.inArray(i,t.positionsInArray)):(i=o[n+1],t.currentItem=n+1))});return t.currentItem},moveDirection:function(){var e;0>this.newRelativeX?(e="right",this.playDirection="next"):(e="left",this.playDirection="prev");return e},customEvents:function(){var e=this;e.$elem.on("owl.next",function(){e.next()});e.$elem.on("owl.prev",function(){e.prev()});e.$elem.on("owl.play",function(t,o){e.options.autoPlay=o;e.play();e.hoverStatus="play"});e.$elem.on("owl.stop",function(){e.stop();e.hoverStatus="stop"});e.$elem.on("owl.goTo",function(t,o){e.goTo(o)});e.$elem.on("owl.jumpTo",function(t,o){e.jumpTo(o)})},stopOnHover:function(){var e=this;!0===e.options.stopOnHover&&!0!==e.browser.isTouch&&!1!==e.options.autoPlay&&(e.$elem.on("mouseover",function(){e.stop()}),e.$elem.on("mouseout",function(){"stop"!==e.hoverStatus&&e.play()}))},lazyLoad:function(){var t,o,r,i,n;if(!1===this.options.lazyLoad)return!1;for(t=0;t<this.itemsAmount;t+=1)o=e(this.$owlItems[t]),"loaded"!==o.data("owl-loaded")&&(r=o.data("owl-item"),i=o.find(".lazyOwl"),"string"!==typeof i.data("src")?o.data("owl-loaded","loaded"):(void 0===o.data("owl-loaded")&&(i.hide(),o.addClass("loading").data("owl-loaded","checked")),(n=!0===this.options.lazyFollow?r>=this.currentItem:!0)&&r<this.currentItem+this.options.items&&i.length&&this.lazyPreload(o,i)))},lazyPreload:function(e,o){function r(){e.data("owl-loaded","loaded").removeClass("loading");o.removeAttr("data-src");"fade"===n.options.lazyEffect?o.fadeIn(400):o.show();"function"===typeof n.options.afterLazyLoad&&n.options.afterLazyLoad.apply(this,[n.$elem])}function i(){a+=1;n.completeImg(o.get(0))||!0===l?r():100>=a?t.setTimeout(i,100):r()}var n=this,a=0,l;"DIV"===o.prop("tagName")?(o.css("background-image","url("+o.data("src")+")"),l=!0):o[0].src=o.data("src");i()},autoHeight:function(){function o(){var o=e(i.$owlItems[i.currentItem]).height();i.wrapperOuter.css("height",o+"px");i.wrapperOuter.hasClass("autoHeight")||t.setTimeout(function(){i.wrapperOuter.addClass("autoHeight")},0)}function r(){a+=1;i.completeImg(n.get(0))?o():100>=a?t.setTimeout(r,100):i.wrapperOuter.css("height","")}var i=this,n=e(i.$owlItems[i.currentItem]).find("img"),a;void 0!==n.get(0)?(a=0,r()):o()},completeImg:function(e){return!e.complete||"undefined"!==typeof e.naturalWidth&&0===e.naturalWidth?!1:!0},onVisibleItems:function(){var t;!0===this.options.addClassActive&&this.$owlItems.removeClass("active");this.visibleItems=[];for(t=this.currentItem;t<this.currentItem+this.options.items;t+=1)this.visibleItems.push(t),!0===this.options.addClassActive&&e(this.$owlItems[t]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(e){this.outClass="owl-"+e+"-out";this.inClass="owl-"+e+"-in"},singleItemTransition:function(){var e=this,t=e.outClass,o=e.inClass,r=e.$owlItems.eq(e.currentItem),i=e.$owlItems.eq(e.prevItem),n=Math.abs(e.positionsInArray[e.currentItem])+e.positionsInArray[e.prevItem],a=Math.abs(e.positionsInArray[e.currentItem])+e.itemWidth/2;e.isTransition=!0;e.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":a+"px","-moz-perspective-origin":a+"px","perspective-origin":a+"px"});i.css({position:"relative",left:n+"px"}).addClass(t).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){e.endPrev=!0;i.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");e.clearTransStyle(i,t)});r.addClass(o).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){e.endCurrent=!0;r.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend");e.clearTransStyle(r,o)})},clearTransStyle:function(e,t){e.css({position:"",left:""}).removeClass(t);this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect");e(o).off(".owl owl");e(t).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove());this.clearEvents();this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop();t.clearInterval(this.checkVisible);this.unWrap();this.$elem.removeData()},reinit:function(t){t=e.extend({},this.userOptions,t);this.unWrap();this.init(t,this.$elem)},addItem:function(e,t){var o;if(!e)return!1;if(0===this.$elem.children().length)return this.$elem.append(e),this.setVars(),!1;this.unWrap();o=void 0===t||-1===t?-1:t;o>=this.$userItems.length||-1===o?this.$userItems.eq(-1).after(e):this.$userItems.eq(o).before(e);this.setVars()},removeItem:function(e){if(0===this.$elem.children().length)return!1;e=void 0===e||-1===e?-1:e;this.unWrap();this.$userItems.eq(e).remove();this.setVars()}};e.fn.owlCarousel=function(t){return this.each(function(){if(!0===e(this).data("owl-init"))return!1;e(this).data("owl-init",!0);var o=Object.create(r);o.init(t,this);e.data(this,"owlCarousel",o)})};e.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:t,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}})(jQuery,window,document)},{}],8:[function(e,t,o){t.exports={loadjQueryPlugin:function(){e("./owl.carousel.min.js")}}},{"./owl.carousel.min.js":7}],9:[function(e,t,o){"use strict";o.__esModule=true;function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var o in e){if(Object.prototype.hasOwnProperty.call(e,o))t[o]=e[o]}}t["default"]=e;return t}}var n=e("./handlebars/base");var a=i(n);var l=e("./handlebars/safe-string");var s=r(l);var p=e("./handlebars/exception");var u=r(p);var c=e("./handlebars/utils");var g=i(c);var h=e("./handlebars/runtime");var f=i(h);var d=e("./handlebars/no-conflict");var y=r(d);function m(){var e=new a.HandlebarsEnvironment;g.extend(e,a);e.SafeString=s["default"];e.Exception=u["default"];e.Utils=g;e.escapeExpression=g.escapeExpression;e.VM=f;e.template=function(t){return f.template(t,e)};return e}var v=m();v.create=m;y["default"](v);v["default"]=v;o["default"]=v;t.exports=o["default"]},{"./handlebars/base":10,"./handlebars/exception":13,"./handlebars/no-conflict":23,"./handlebars/runtime":24,"./handlebars/safe-string":25,"./handlebars/utils":26}],10:[function(e,t,o){"use strict";o.__esModule=true;o.HandlebarsEnvironment=d;function r(e){return e&&e.__esModule?e:{"default":e}}var i=e("./utils");var n=e("./exception");var a=r(n);var l=e("./helpers");var s=e("./decorators");var p=e("./logger");var u=r(p);var c="4.0.5";o.VERSION=c;var g=7;o.COMPILER_REVISION=g;var h={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};o.REVISION_CHANGES=h;var f="[object Object]";function d(e,t,o){this.helpers=e||{};this.partials=t||{};this.decorators=o||{};l.registerDefaultHelpers(this);s.registerDefaultDecorators(this)}d.prototype={constructor:d,logger:u["default"],log:u["default"].log,registerHelper:function m(e,t){if(i.toString.call(e)===f){if(t){throw new a["default"]("Arg not supported with multiple helpers")}i.extend(this.helpers,e)}else{this.helpers[e]=t}},unregisterHelper:function v(e){delete this.helpers[e]},registerPartial:function _(e,t){if(i.toString.call(e)===f){i.extend(this.partials,e)}else{if(typeof t==="undefined"){throw new a["default"]('Attempting to register a partial called "'+e+'" as undefined')}this.partials[e]=t}},unregisterPartial:function x(e){delete this.partials[e]},registerDecorator:function S(e,t){if(i.toString.call(e)===f){if(t){throw new a["default"]("Arg not supported with multiple decorators")}i.extend(this.decorators,e)}else{this.decorators[e]=t}},unregisterDecorator:function P(e){delete this.decorators[e]}};var y=u["default"].log;o.log=y;o.createFrame=i.createFrame;o.logger=u["default"]},{"./decorators":11,"./exception":13,"./helpers":14,"./logger":22,"./utils":26}],11:[function(e,t,o){"use strict";o.__esModule=true;o.registerDefaultDecorators=a;function r(e){return e&&e.__esModule?e:{"default":e}}var i=e("./decorators/inline");var n=r(i);function a(e){n["default"](e)}},{"./decorators/inline":12}],12:[function(e,t,o){"use strict";o.__esModule=true;var r=e("../utils");o["default"]=function(e){e.registerDecorator("inline",function(e,t,o,i){var n=e;if(!t.partials){t.partials={};n=function(i,n){var a=o.partials;o.partials=r.extend({},a,t.partials);var l=e(i,n);o.partials=a;return l}}t.partials[i.args[0]]=i.fn;return n})};t.exports=o["default"]},{"../utils":26}],13:[function(e,t,o){"use strict";o.__esModule=true;var r=["description","fileName","lineNumber","message","name","number","stack"];function i(e,t){var o=t&&t.loc,n=undefined,a=undefined;if(o){n=o.start.line;a=o.start.column;e+=" - "+n+":"+a}var l=Error.prototype.constructor.call(this,e);for(var s=0;s<r.length;s++){this[r[s]]=l[r[s]]}if(Error.captureStackTrace){Error.captureStackTrace(this,i)}if(o){this.lineNumber=n;this.column=a}}i.prototype=new Error;o["default"]=i;t.exports=o["default"]},{}],14:[function(e,t,o){"use strict";o.__esModule=true;o.registerDefaultHelpers=v;function r(e){return e&&e.__esModule?e:{"default":e}}var i=e("./helpers/block-helper-missing");var n=r(i);var a=e("./helpers/each");var l=r(a);var s=e("./helpers/helper-missing");var p=r(s);var u=e("./helpers/if");var c=r(u);var g=e("./helpers/log");var h=r(g);var f=e("./helpers/lookup");var d=r(f);var y=e("./helpers/with");var m=r(y);function v(e){n["default"](e);l["default"](e);p["default"](e);c["default"](e);h["default"](e);d["default"](e);m["default"](e)}},{"./helpers/block-helper-missing":15,"./helpers/each":16,"./helpers/helper-missing":17,"./helpers/if":18,"./helpers/log":19,"./helpers/lookup":20,"./helpers/with":21}],15:[function(e,t,o){"use strict";o.__esModule=true;var r=e("../utils");o["default"]=function(e){e.registerHelper("blockHelperMissing",function(t,o){var i=o.inverse,n=o.fn;if(t===true){return n(this)}else if(t===false||t==null){return i(this)}else if(r.isArray(t)){if(t.length>0){if(o.ids){o.ids=[o.name]}return e.helpers.each(t,o)}else{return i(this)}}else{if(o.data&&o.ids){var a=r.createFrame(o.data);a.contextPath=r.appendContextPath(o.data.contextPath,o.name);o={data:a}}return n(t,o)}})};t.exports=o["default"]},{"../utils":26}],16:[function(e,t,o){"use strict";o.__esModule=true;function r(e){return e&&e.__esModule?e:{"default":e}}var i=e("../utils");var n=e("../exception");var a=r(n);o["default"]=function(e){e.registerHelper("each",function(e,t){if(!t){throw new a["default"]("Must pass iterator to #each")}var o=t.fn,r=t.inverse,n=0,l="",s=undefined,p=undefined;if(t.data&&t.ids){p=i.appendContextPath(t.data.contextPath,t.ids[0])+"."}if(i.isFunction(e)){e=e.call(this)}if(t.data){s=i.createFrame(t.data)}function u(t,r,n){if(s){s.key=t;s.index=r;s.first=r===0;s.last=!!n;if(p){s.contextPath=p+t}}l=l+o(e[t],{data:s,blockParams:i.blockParams([e[t],t],[p+t,null])})}if(e&&typeof e==="object"){if(i.isArray(e)){for(var c=e.length;n<c;n++){if(n in e){u(n,n,n===e.length-1)}}}else{var g=undefined;for(var h in e){if(e.hasOwnProperty(h)){if(g!==undefined){u(g,n-1)}g=h;n++}}if(g!==undefined){u(g,n-1,true)}}}if(n===0){l=r(this)}return l})};t.exports=o["default"]},{"../exception":13,"../utils":26}],17:[function(e,t,o){"use strict";o.__esModule=true;function r(e){return e&&e.__esModule?e:{"default":e}}var i=e("../exception");var n=r(i);o["default"]=function(e){e.registerHelper("helperMissing",function(){if(arguments.length===1){return undefined}else{throw new n["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}})};t.exports=o["default"]},{"../exception":13}],18:[function(e,t,o){"use strict";o.__esModule=true;var r=e("../utils");o["default"]=function(e){e.registerHelper("if",function(e,t){if(r.isFunction(e)){e=e.call(this)}if(!t.hash.includeZero&&!e||r.isEmpty(e)){return t.inverse(this)}else{return t.fn(this)}});e.registerHelper("unless",function(t,o){return e.helpers["if"].call(this,t,{fn:o.inverse,inverse:o.fn,hash:o.hash})})};t.exports=o["default"]},{"../utils":26}],19:[function(e,t,o){"use strict";o.__esModule=true;o["default"]=function(e){e.registerHelper("log",function(){var t=[undefined],o=arguments[arguments.length-1];for(var r=0;r<arguments.length-1;r++){t.push(arguments[r])}var i=1;if(o.hash.level!=null){i=o.hash.level}else if(o.data&&o.data.level!=null){i=o.data.level}t[0]=i;e.log.apply(e,t)})};t.exports=o["default"]},{}],20:[function(e,t,o){"use strict";o.__esModule=true;o["default"]=function(e){e.registerHelper("lookup",function(e,t){return e&&e[t]})};t.exports=o["default"]},{}],21:[function(e,t,o){"use strict";o.__esModule=true;var r=e("../utils");o["default"]=function(e){e.registerHelper("with",function(e,t){if(r.isFunction(e)){e=e.call(this)}var o=t.fn;if(!r.isEmpty(e)){var i=t.data;if(t.data&&t.ids){i=r.createFrame(t.data);i.contextPath=r.appendContextPath(t.data.contextPath,t.ids[0])}return o(e,{data:i,blockParams:r.blockParams([e],[i&&i.contextPath])})}else{return t.inverse(this)}})};t.exports=o["default"]},{"../utils":26}],22:[function(e,t,o){"use strict";o.__esModule=true;var r=e("./utils");var i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function n(e){if(typeof e==="string"){var t=r.indexOf(i.methodMap,e.toLowerCase());if(t>=0){e=t}else{e=parseInt(e,10)}}return e},log:function a(e){e=i.lookupLevel(e);if(typeof console!=="undefined"&&i.lookupLevel(i.level)<=e){var t=i.methodMap[e];if(!console[t]){t="log"}for(var o=arguments.length,r=Array(o>1?o-1:0),n=1;n<o;n++){r[n-1]=arguments[n]}console[t].apply(console,r)}}};o["default"]=i;t.exports=o["default"]},{"./utils":26}],23:[function(e,t,o){(function(e){"use strict";o.__esModule=true;o["default"]=function(t){var o=typeof e!=="undefined"?e:window,r=o.Handlebars;t.noConflict=function(){if(o.Handlebars===t){o.Handlebars=r}return t}};t.exports=o["default"]}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],24:[function(e,t,o){"use strict";o.__esModule=true;o.checkRevision=u;o.template=c;o.wrapProgram=g;o.resolvePartial=h;o.invokePartial=f;o.noop=d;function r(e){return e&&e.__esModule?e:{"default":e}}function i(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var o in e){if(Object.prototype.hasOwnProperty.call(e,o))t[o]=e[o]}}t["default"]=e;return t}}var n=e("./utils");var a=i(n);var l=e("./exception");var s=r(l);var p=e("./base");function u(e){var t=e&&e[0]||1,o=p.COMPILER_REVISION;if(t!==o){if(t<o){var r=p.REVISION_CHANGES[o],i=p.REVISION_CHANGES[t];throw new s["default"]("Template was precompiled with an older version of Handlebars than the current runtime. "+"Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}else{throw new s["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. "+"Please update your runtime to a newer version ("+e[1]+").")}}}function c(e,t){if(!t){throw new s["default"]("No environment passed to template")}if(!e||!e.main){throw new s["default"]("Unknown template object: "+typeof e)}e.main.decorator=e.main_d;t.VM.checkRevision(e.compiler);function o(o,r,i){if(i.hash){r=a.extend({},r,i.hash);if(i.ids){i.ids[0]=true}}o=t.VM.resolvePartial.call(this,o,r,i);var n=t.VM.invokePartial.call(this,o,r,i);if(n==null&&t.compile){i.partials[i.name]=t.compile(o,e.compilerOptions,t);n=i.partials[i.name](r,i)}if(n!=null){if(i.indent){var l=n.split("\n");for(var p=0,u=l.length;p<u;p++){if(!l[p]&&p+1===u){break}l[p]=i.indent+l[p]}n=l.join("\n")}return n}else{throw new s["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}}var r={strict:function n(e,t){if(!(t in e)){throw new s["default"]('"'+t+'" not defined in '+e)}return e[t]},lookup:function l(e,t){var o=e.length;for(var r=0;r<o;r++){if(e[r]&&e[r][t]!=null){return e[r][t]}}},lambda:function p(e,t){return typeof e==="function"?e.call(t):e},escapeExpression:a.escapeExpression,invokePartial:o,fn:function u(t){var o=e[t];o.decorator=e[t+"_d"];return o},programs:[],program:function c(e,t,o,r,i){var n=this.programs[e],a=this.fn(e);if(t||i||r||o){n=g(this,e,a,t,o,r,i)}else if(!n){n=this.programs[e]=g(this,e,a)}return n},data:function h(e,t){while(e&&t--){e=e._parent}return e},merge:function f(e,t){var o=e||t;if(e&&t&&e!==t){o=a.extend({},t,e)}return o},noop:t.VM.noop,compilerInfo:e.compiler};function i(t){var o=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var n=o.data;i._setup(o);if(!o.partial&&e.useData){n=y(t,n)}var a=undefined,l=e.useBlockParams?[]:undefined;if(e.useDepths){if(o.depths){a=t!==o.depths[0]?[t].concat(o.depths):o.depths}else{a=[t]}}function s(t){return""+e.main(r,t,r.helpers,r.partials,n,l,a)}s=m(e.main,s,r,o.depths||[],n,l);return s(t,o)}i.isTop=true;i._setup=function(o){if(!o.partial){r.helpers=r.merge(o.helpers,t.helpers);if(e.usePartial){r.partials=r.merge(o.partials,t.partials)}if(e.usePartial||e.useDecorators){r.decorators=r.merge(o.decorators,t.decorators)}}else{r.helpers=o.helpers;r.partials=o.partials;r.decorators=o.decorators}};i._child=function(t,o,i,n){if(e.useBlockParams&&!i){throw new s["default"]("must pass block params")}if(e.useDepths&&!n){throw new s["default"]("must pass parent depths")}return g(r,t,e[t],o,0,i,n)};return i}function g(e,t,o,r,i,n,a){function l(t){var i=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];var l=a;if(a&&t!==a[0]){l=[t].concat(a)}return o(e,t,e.helpers,e.partials,i.data||r,n&&[i.blockParams].concat(n),l)}l=m(o,l,e,a,r,n);l.program=t;l.depth=a?a.length:0;l.blockParams=i||0;return l}function h(e,t,o){if(!e){if(o.name==="@partial-block"){e=o.data["partial-block"]}else{e=o.partials[o.name]}}else if(!e.call&&!o.name){o.name=e;e=o.partials[e]}return e}function f(e,t,o){o.partial=true;if(o.ids){o.data.contextPath=o.ids[0]||o.data.contextPath}var r=undefined;if(o.fn&&o.fn!==d){o.data=p.createFrame(o.data);r=o.data["partial-block"]=o.fn;if(r.partials){o.partials=a.extend({},o.partials,r.partials)}}if(e===undefined&&r){e=r}if(e===undefined){throw new s["default"]("The partial "+o.name+" could not be found")}else if(e instanceof Function){return e(t,o)}}function d(){return""}function y(e,t){if(!t||!("root"in t)){t=t?p.createFrame(t):{};t.root=e}return t}function m(e,t,o,r,i,n){if(e.decorator){var l={};t=e.decorator(t,l,o,r&&r[0],i,n,r);a.extend(t,l)}return t}},{"./base":10,"./exception":13,"./utils":26}],25:[function(e,t,o){"use strict";o.__esModule=true;function r(e){this.string=e}r.prototype.toString=r.prototype.toHTML=function(){return""+this.string};o["default"]=r;t.exports=o["default"]},{}],26:[function(e,t,o){"use strict";o.__esModule=true;o.extend=l;o.indexOf=c;o.escapeExpression=g;o.isEmpty=h;o.createFrame=f;o.blockParams=d;o.appendContextPath=y;var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"};var i=/[&<>"'`=]/g,n=/[&<>"'`=]/;function a(e){return r[e]}function l(e){for(var t=1;t<arguments.length;t++){for(var o in arguments[t]){if(Object.prototype.hasOwnProperty.call(arguments[t],o)){e[o]=arguments[t][o]}}}return e}var s=Object.prototype.toString;o.toString=s;var p=function m(e){return typeof e==="function"};if(p(/x/)){o.isFunction=p=function(e){return typeof e==="function"&&s.call(e)==="[object Function]"}}o.isFunction=p;var u=Array.isArray||function(e){return e&&typeof e==="object"?s.call(e)==="[object Array]":false};o.isArray=u;function c(e,t){for(var o=0,r=e.length;o<r;o++){if(e[o]===t){return o}}return-1}function g(e){if(typeof e!=="string"){if(e&&e.toHTML){return e.toHTML()}else if(e==null){return""}else if(!e){return e+""}e=""+e}if(!n.test(e)){return e}return e.replace(i,a)}function h(e){if(!e&&e!==0){return true}else if(u(e)&&e.length===0){return true}else{return false}}function f(e){var t=l({},e);t._parent=e;return t}function d(e,t){e.path=t;return e}function y(e,t){return(e?e+".":"")+t}},{}],27:[function(e,t,o){t.exports=e("./dist/cjs/handlebars.runtime")["default"]},{"./dist/cjs/handlebars.runtime":9}],28:[function(e,t,o){t.exports=e("handlebars/runtime")["default"]},{"handlebars/runtime":27}],29:[function(e,t,o){(function(e,o){if(typeof t==="object"&&typeof t.exports==="object"){t.exports=e.document?o(e,true):function(e){if(!e.document){throw new Error("jQuery requires a window with a document")}return o(e)}}else{o(e)}})(typeof window!=="undefined"?window:this,function(e,t){var o=[];var r=o.slice;var i=o.concat;var n=o.push;var a=o.indexOf;var l={};var s=l.toString;var p=l.hasOwnProperty;var u={};var c=e.document,g="2.1.4",h=function(e,t){return new h.fn.init(e,t)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,d=/^-ms-/,y=/-([\da-z])/gi,m=function(e,t){return t.toUpperCase()};h.fn=h.prototype={jquery:g,constructor:h,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=h.merge(this.constructor(),e);t.prevObject=this;t.context=this.context;return t},each:function(e,t){return h.each(this,e,t)},map:function(e){return this.pushStack(h.map(this,function(t,o){return e.call(t,o,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,o=+e+(e<0?t:0);return this.pushStack(o>=0&&o<t?[this[o]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:n,sort:o.sort,splice:o.splice};h.extend=h.fn.extend=function(){var e,t,o,r,i,n,a=arguments[0]||{},l=1,s=arguments.length,p=false;if(typeof a==="boolean"){p=a;a=arguments[l]||{};l++}if(typeof a!=="object"&&!h.isFunction(a)){a={}}if(l===s){a=this;l--}for(;l<s;l++){if((e=arguments[l])!=null){for(t in e){o=a[t];r=e[t];if(a===r){continue}if(p&&r&&(h.isPlainObject(r)||(i=h.isArray(r)))){if(i){i=false;n=o&&h.isArray(o)?o:[]}else{n=o&&h.isPlainObject(o)?o:{}}a[t]=h.extend(p,n,r)}else if(r!==undefined){a[t]=r}}}}return a};h.extend({expando:"jQuery"+(g+Math.random()).replace(/\D/g,""),isReady:true,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return h.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return!h.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){if(h.type(e)!=="object"||e.nodeType||h.isWindow(e)){return false}if(e.constructor&&!p.call(e.constructor.prototype,"isPrototypeOf")){return false}return true},isEmptyObject:function(e){var t;for(t in e){return false}return true},type:function(e){if(e==null){return e+""}return typeof e==="object"||typeof e==="function"?l[s.call(e)]||"object":typeof e},globalEval:function(e){var t,o=eval;e=h.trim(e);if(e){if(e.indexOf("use strict")===1){t=c.createElement("script");t.text=e;c.head.appendChild(t).parentNode.removeChild(t)}else{o(e)}}},camelCase:function(e){return e.replace(d,"ms-").replace(y,m)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,o){var r,i=0,n=e.length,a=v(e);if(o){if(a){for(;i<n;i++){r=t.apply(e[i],o);if(r===false){break}}}else{for(i in e){r=t.apply(e[i],o);if(r===false){break}}}}else{if(a){for(;i<n;i++){r=t.call(e[i],i,e[i]);if(r===false){break}}}else{for(i in e){r=t.call(e[i],i,e[i]);if(r===false){break}}}}return e},trim:function(e){return e==null?"":(e+"").replace(f,"")},makeArray:function(e,t){var o=t||[];if(e!=null){if(v(Object(e))){h.merge(o,typeof e==="string"?[e]:e)}else{n.call(o,e)}}return o},inArray:function(e,t,o){return t==null?-1:a.call(t,e,o)},merge:function(e,t){var o=+t.length,r=0,i=e.length;for(;r<o;r++){e[i++]=t[r]}e.length=i;return e},grep:function(e,t,o){var r,i=[],n=0,a=e.length,l=!o;for(;n<a;n++){r=!t(e[n],n);if(r!==l){i.push(e[n])}}return i},map:function(e,t,o){var r,n=0,a=e.length,l=v(e),s=[];if(l){for(;n<a;n++){r=t(e[n],n,o);if(r!=null){s.push(r)}}}else{for(n in e){r=t(e[n],n,o);if(r!=null){s.push(r)}}}return i.apply([],s)},guid:1,proxy:function(e,t){var o,i,n;if(typeof t==="string"){o=e[t];t=e;e=o}if(!h.isFunction(e)){return undefined}i=r.call(arguments,2);n=function(){return e.apply(t||this,i.concat(r.call(arguments)))};n.guid=e.guid=e.guid||h.guid++;return n},now:Date.now,support:u});h.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function v(e){var t="length"in e&&e.length,o=h.type(e);if(o==="function"||h.isWindow(e)){return false}if(e.nodeType===1&&t){return true}return o==="array"||t===0||typeof t==="number"&&t>0&&t-1 in e}var _=function(e){var t,o,r,i,n,a,l,s,p,u,c,g,h,f,d,y,m,v,_,x="sizzle"+1*new Date,S=e.document,P=0,E=0,T=le(),b=le(),M=le(),C=function(e,t){if(e===t){c=true}return 0},R=1<<31,w={}.hasOwnProperty,L=[],I=L.pop,A=L.push,O=L.push,N=L.slice,F=function(e,t){var o=0,r=e.length;for(;o<r;o++){if(e[o]===t){return o}}return-1},G="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",k="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=k.replace("w","w#"),j="\\["+D+"*("+k+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+D+"*\\]",W=":("+k+")(?:\\(("+"('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|"+"((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|"+".*"+")\\)|)",U=new RegExp(D+"+","g"),B=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),V=new RegExp("^"+D+"*,"+D+"*"),K=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),X=new RegExp("="+D+"*([^\\]'\"]*?)"+D+"*\\]","g"),Y=new RegExp(W),z=new RegExp("^"+q+"$"),H={ID:new RegExp("^#("+k+")"),CLASS:new RegExp("^\\.("+k+")"),TAG:new RegExp("^("+k.replace("w","w*")+")"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+G+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,oe=new RegExp("\\\\([\\da-f]{1,6}"+D+"?|("+D+")|.)","ig"),re=function(e,t,o){var r="0x"+t-65536;return r!==r||o?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)},ie=function(){g()};try{O.apply(L=N.call(S.childNodes),S.childNodes);L[S.childNodes.length].nodeType}catch(ne){O={apply:L.length?function(e,t){A.apply(e,N.call(t))}:function(e,t){var o=e.length,r=0;while(e[o++]=t[r++]){}e.length=o-1}}}function ae(e,t,r,i){var n,l,p,u,c,f,m,v,P,E;if((t?t.ownerDocument||t:S)!==h){g(t)}t=t||h;r=r||[];u=t.nodeType;if(typeof e!=="string"||!e||u!==1&&u!==9&&u!==11){return r}if(!i&&d){if(u!==11&&(n=Q.exec(e))){if(p=n[1]){if(u===9){l=t.getElementById(p);if(l&&l.parentNode){if(l.id===p){r.push(l);return r}}else{return r}}else{if(t.ownerDocument&&(l=t.ownerDocument.getElementById(p))&&_(t,l)&&l.id===p){r.push(l);return r}}}else if(n[2]){O.apply(r,t.getElementsByTagName(e));return r}else if((p=n[3])&&o.getElementsByClassName){O.apply(r,t.getElementsByClassName(p));return r}}if(o.qsa&&(!y||!y.test(e))){v=m=x;P=t;E=u!==1&&e;if(u===1&&t.nodeName.toLowerCase()!=="object"){f=a(e);if(m=t.getAttribute("id")){v=m.replace(te,"\\$&")}else{t.setAttribute("id",v)}v="[id='"+v+"'] ";c=f.length;while(c--){f[c]=v+me(f[c])}P=ee.test(e)&&de(t.parentNode)||t;E=f.join(",")}if(E){try{O.apply(r,P.querySelectorAll(E));return r}catch(T){}finally{if(!m){t.removeAttribute("id")}}}}}return s(e.replace(B,"$1"),t,r,i)}function le(){var e=[];function t(o,i){if(e.push(o+" ")>r.cacheLength){delete t[e.shift()]}return t[o+" "]=i}return t}function se(e){e[x]=true;return e}function pe(e){var t=h.createElement("div");try{return!!e(t)}catch(o){return false}finally{if(t.parentNode){t.parentNode.removeChild(t)}t=null}}function ue(e,t){var o=e.split("|"),i=e.length;while(i--){r.attrHandle[o[i]]=t}}function ce(e,t){var o=t&&e,r=o&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||R)-(~e.sourceIndex||R);if(r){return r}if(o){while(o=o.nextSibling){if(o===t){return-1}}}return e?1:-1}function ge(e){return function(t){var o=t.nodeName.toLowerCase();return o==="input"&&t.type===e}}function he(e){return function(t){var o=t.nodeName.toLowerCase();return(o==="input"||o==="button")&&t.type===e}}function fe(e){return se(function(t){t=+t;return se(function(o,r){var i,n=e([],o.length,t),a=n.length;while(a--){if(o[i=n[a]]){o[i]=!(r[i]=o[i])}}})})}function de(e){return e&&typeof e.getElementsByTagName!=="undefined"&&e}o=ae.support={};n=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":false};g=ae.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:S;if(a===h||a.nodeType!==9||!a.documentElement){return h}h=a;f=a.documentElement;i=a.defaultView;if(i&&i!==i.top){if(i.addEventListener){i.addEventListener("unload",ie,false)}else if(i.attachEvent){i.attachEvent("onunload",ie)}}d=!n(a);o.attributes=pe(function(e){e.className="i";return!e.getAttribute("className")});o.getElementsByTagName=pe(function(e){e.appendChild(a.createComment(""));return!e.getElementsByTagName("*").length});o.getElementsByClassName=$.test(a.getElementsByClassName);o.getById=pe(function(e){f.appendChild(e).id=x;return!a.getElementsByName||!a.getElementsByName(x).length});if(o.getById){r.find["ID"]=function(e,t){if(typeof t.getElementById!=="undefined"&&d){var o=t.getElementById(e);return o&&o.parentNode?[o]:[]}};r.filter["ID"]=function(e){var t=e.replace(oe,re);return function(e){return e.getAttribute("id")===t}}}else{delete r.find["ID"];r.filter["ID"]=function(e){var t=e.replace(oe,re);return function(e){var o=typeof e.getAttributeNode!=="undefined"&&e.getAttributeNode("id");return o&&o.value===t}}}r.find["TAG"]=o.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=="undefined"){return t.getElementsByTagName(e)}else if(o.qsa){return t.querySelectorAll(e)}}:function(e,t){var o,r=[],i=0,n=t.getElementsByTagName(e);if(e==="*"){while(o=n[i++]){if(o.nodeType===1){r.push(o)}}return r}return n};r.find["CLASS"]=o.getElementsByClassName&&function(e,t){if(d){return t.getElementsByClassName(e)}};m=[];y=[];if(o.qsa=$.test(a.querySelectorAll)){pe(function(e){f.appendChild(e).innerHTML="<a id='"+x+"'></a>"+"<select id='"+x+"-\f]' msallowcapture=''>"+"<option selected=''></option></select>";if(e.querySelectorAll("[msallowcapture^='']").length){y.push("[*^$]="+D+"*(?:''|\"\")")}if(!e.querySelectorAll("[selected]").length){y.push("\\["+D+"*(?:value|"+G+")")}if(!e.querySelectorAll("[id~="+x+"-]").length){y.push("~=");
}if(!e.querySelectorAll(":checked").length){y.push(":checked")}if(!e.querySelectorAll("a#"+x+"+*").length){y.push(".#.+[+~]")}});pe(function(e){var t=a.createElement("input");t.setAttribute("type","hidden");e.appendChild(t).setAttribute("name","D");if(e.querySelectorAll("[name=d]").length){y.push("name"+D+"*[*^$|!~]?=")}if(!e.querySelectorAll(":enabled").length){y.push(":enabled",":disabled")}e.querySelectorAll("*,:x");y.push(",.*:")})}if(o.matchesSelector=$.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector)){pe(function(e){o.disconnectedMatch=v.call(e,"div");v.call(e,"[s!='']:x");m.push("!=",W)})}y=y.length&&new RegExp(y.join("|"));m=m.length&&new RegExp(m.join("|"));t=$.test(f.compareDocumentPosition);_=t||$.test(f.contains)?function(e,t){var o=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&(o.contains?o.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16))}:function(e,t){if(t){while(t=t.parentNode){if(t===e){return true}}}return false};C=t?function(e,t){if(e===t){c=true;return 0}var r=!e.compareDocumentPosition-!t.compareDocumentPosition;if(r){return r}r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1;if(r&1||!o.sortDetached&&t.compareDocumentPosition(e)===r){if(e===a||e.ownerDocument===S&&_(S,e)){return-1}if(t===a||t.ownerDocument===S&&_(S,t)){return 1}return u?F(u,e)-F(u,t):0}return r&4?-1:1}:function(e,t){if(e===t){c=true;return 0}var o,r=0,i=e.parentNode,n=t.parentNode,l=[e],s=[t];if(!i||!n){return e===a?-1:t===a?1:i?-1:n?1:u?F(u,e)-F(u,t):0}else if(i===n){return ce(e,t)}o=e;while(o=o.parentNode){l.unshift(o)}o=t;while(o=o.parentNode){s.unshift(o)}while(l[r]===s[r]){r++}return r?ce(l[r],s[r]):l[r]===S?-1:s[r]===S?1:0};return a};ae.matches=function(e,t){return ae(e,null,null,t)};ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h){g(e)}t=t.replace(X,"='$1']");if(o.matchesSelector&&d&&(!m||!m.test(t))&&(!y||!y.test(t))){try{var r=v.call(e,t);if(r||o.disconnectedMatch||e.document&&e.document.nodeType!==11){return r}}catch(i){}}return ae(t,h,null,[e]).length>0};ae.contains=function(e,t){if((e.ownerDocument||e)!==h){g(e)}return _(e,t)};ae.attr=function(e,t){if((e.ownerDocument||e)!==h){g(e)}var i=r.attrHandle[t.toLowerCase()],n=i&&w.call(r.attrHandle,t.toLowerCase())?i(e,t,!d):undefined;return n!==undefined?n:o.attributes||!d?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null};ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};ae.uniqueSort=function(e){var t,r=[],i=0,n=0;c=!o.detectDuplicates;u=!o.sortStable&&e.slice(0);e.sort(C);if(c){while(t=e[n++]){if(t===e[n]){i=r.push(n)}}while(i--){e.splice(r[i],1)}}u=null;return e};i=ae.getText=function(e){var t,o="",r=0,n=e.nodeType;if(!n){while(t=e[r++]){o+=i(t)}}else if(n===1||n===9||n===11){if(typeof e.textContent==="string"){return e.textContent}else{for(e=e.firstChild;e;e=e.nextSibling){o+=i(e)}}}else if(n===3||n===4){return e.nodeValue}return o};r=ae.selectors={cacheLength:50,createPseudo:se,match:H,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(oe,re);e[3]=(e[3]||e[4]||e[5]||"").replace(oe,re);if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1].slice(0,3)==="nth"){if(!e[3]){ae.error(e[0])}e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd"));e[5]=+(e[7]+e[8]||e[3]==="odd")}else if(e[3]){ae.error(e[0])}return e},PSEUDO:function(e){var t,o=!e[6]&&e[2];if(H["CHILD"].test(e[0])){return null}if(e[3]){e[2]=e[4]||e[5]||""}else if(o&&Y.test(o)&&(t=a(o,true))&&(t=o.indexOf(")",o.length-t)-o.length)){e[0]=e[0].slice(0,t);e[2]=o.slice(0,t)}return e.slice(0,3)}},filter:{TAG:function(e){var t=e.replace(oe,re).toLowerCase();return e==="*"?function(){return true}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&T(e,function(e){return t.test(typeof e.className==="string"&&e.className||typeof e.getAttribute!=="undefined"&&e.getAttribute("class")||"")})},ATTR:function(e,t,o){return function(r){var i=ae.attr(r,e);if(i==null){return t==="!="}if(!t){return true}i+="";return t==="="?i===o:t==="!="?i!==o:t==="^="?o&&i.indexOf(o)===0:t==="*="?o&&i.indexOf(o)>-1:t==="$="?o&&i.slice(-o.length)===o:t==="~="?(" "+i.replace(U," ")+" ").indexOf(o)>-1:t==="|="?i===o||i.slice(0,o.length+1)===o+"-":false}},CHILD:function(e,t,o,r,i){var n=e.slice(0,3)!=="nth",a=e.slice(-4)!=="last",l=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,o,s){var p,u,c,g,h,f,d=n!==a?"nextSibling":"previousSibling",y=t.parentNode,m=l&&t.nodeName.toLowerCase(),v=!s&&!l;if(y){if(n){while(d){c=t;while(c=c[d]){if(l?c.nodeName.toLowerCase()===m:c.nodeType===1){return false}}f=d=e==="only"&&!f&&"nextSibling"}return true}f=[a?y.firstChild:y.lastChild];if(a&&v){u=y[x]||(y[x]={});p=u[e]||[];h=p[0]===P&&p[1];g=p[0]===P&&p[2];c=h&&y.childNodes[h];while(c=++h&&c&&c[d]||(g=h=0)||f.pop()){if(c.nodeType===1&&++g&&c===t){u[e]=[P,h,g];break}}}else if(v&&(p=(t[x]||(t[x]={}))[e])&&p[0]===P){g=p[1]}else{while(c=++h&&c&&c[d]||(g=h=0)||f.pop()){if((l?c.nodeName.toLowerCase()===m:c.nodeType===1)&&++g){if(v){(c[x]||(c[x]={}))[e]=[P,g]}if(c===t){break}}}}g-=i;return g===r||g%r===0&&g/r>=0}}},PSEUDO:function(e,t){var o,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);if(i[x]){return i(t)}if(i.length>1){o=[e,e,"",t];return r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,o){var r,n=i(e,t),a=n.length;while(a--){r=F(e,n[a]);e[r]=!(o[r]=n[a])}}):function(e){return i(e,0,o)}}return i}},pseudos:{not:se(function(e){var t=[],o=[],r=l(e.replace(B,"$1"));return r[x]?se(function(e,t,o,i){var n,a=r(e,null,i,[]),l=e.length;while(l--){if(n=a[l]){e[l]=!(t[l]=n)}}}):function(e,i,n){t[0]=e;r(t,null,n,o);t[0]=null;return!o.pop()}}),has:se(function(e){return function(t){return ae(e,t).length>0}}),contains:se(function(e){e=e.replace(oe,re);return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){if(!z.test(e||"")){ae.error("unsupported lang: "+e)}e=e.replace(oe,re).toLowerCase();return function(t){var o;do{if(o=d?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang")){o=o.toLowerCase();return o===e||o.indexOf(e+"-")===0}}while((t=t.parentNode)&&t.nodeType===1);return false}}),target:function(t){var o=e.location&&e.location.hash;return o&&o.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling){if(e.nodeType<6){return false}}return true},parent:function(e){return!r.pseudos["empty"](e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,o){return[o<0?o+t:o]}),even:fe(function(e,t){var o=0;for(;o<t;o+=2){e.push(o)}return e}),odd:fe(function(e,t){var o=1;for(;o<t;o+=2){e.push(o)}return e}),lt:fe(function(e,t,o){var r=o<0?o+t:o;for(;--r>=0;){e.push(r)}return e}),gt:fe(function(e,t,o){var r=o<0?o+t:o;for(;++r<t;){e.push(r)}return e})}};r.pseudos["nth"]=r.pseudos["eq"];for(t in{radio:true,checkbox:true,file:true,password:true,image:true}){r.pseudos[t]=ge(t)}for(t in{submit:true,reset:true}){r.pseudos[t]=he(t)}function ye(){}ye.prototype=r.filters=r.pseudos;r.setFilters=new ye;a=ae.tokenize=function(e,t){var o,i,n,a,l,s,p,u=b[e+" "];if(u){return t?0:u.slice(0)}l=e;s=[];p=r.preFilter;while(l){if(!o||(i=V.exec(l))){if(i){l=l.slice(i[0].length)||l}s.push(n=[])}o=false;if(i=K.exec(l)){o=i.shift();n.push({value:o,type:i[0].replace(B," ")});l=l.slice(o.length)}for(a in r.filter){if((i=H[a].exec(l))&&(!p[a]||(i=p[a](i)))){o=i.shift();n.push({value:o,type:a,matches:i});l=l.slice(o.length)}}if(!o){break}}return t?l.length:l?ae.error(e):b(e,s).slice(0)};function me(e){var t=0,o=e.length,r="";for(;t<o;t++){r+=e[t].value}return r}function ve(e,t,o){var r=t.dir,i=o&&r==="parentNode",n=E++;return t.first?function(t,o,n){while(t=t[r]){if(t.nodeType===1||i){return e(t,o,n)}}}:function(t,o,a){var l,s,p=[P,n];if(a){while(t=t[r]){if(t.nodeType===1||i){if(e(t,o,a)){return true}}}}else{while(t=t[r]){if(t.nodeType===1||i){s=t[x]||(t[x]={});if((l=s[r])&&l[0]===P&&l[1]===n){return p[2]=l[2]}else{s[r]=p;if(p[2]=e(t,o,a)){return true}}}}}}}function _e(e){return e.length>1?function(t,o,r){var i=e.length;while(i--){if(!e[i](t,o,r)){return false}}return true}:e[0]}function xe(e,t,o){var r=0,i=t.length;for(;r<i;r++){ae(e,t[r],o)}return o}function Se(e,t,o,r,i){var n,a=[],l=0,s=e.length,p=t!=null;for(;l<s;l++){if(n=e[l]){if(!o||o(n,r,i)){a.push(n);if(p){t.push(l)}}}}return a}function Pe(e,t,o,r,i,n){if(r&&!r[x]){r=Pe(r)}if(i&&!i[x]){i=Pe(i,n)}return se(function(n,a,l,s){var p,u,c,g=[],h=[],f=a.length,d=n||xe(t||"*",l.nodeType?[l]:l,[]),y=e&&(n||!t)?Se(d,g,e,l,s):d,m=o?i||(n?e:f||r)?[]:a:y;if(o){o(y,m,l,s)}if(r){p=Se(m,h);r(p,[],l,s);u=p.length;while(u--){if(c=p[u]){m[h[u]]=!(y[h[u]]=c)}}}if(n){if(i||e){if(i){p=[];u=m.length;while(u--){if(c=m[u]){p.push(y[u]=c)}}i(null,m=[],p,s)}u=m.length;while(u--){if((c=m[u])&&(p=i?F(n,c):g[u])>-1){n[p]=!(a[p]=c)}}}}else{m=Se(m===a?m.splice(f,m.length):m);if(i){i(null,a,m,s)}else{O.apply(a,m)}}})}function Ee(e){var t,o,i,n=e.length,a=r.relative[e[0].type],l=a||r.relative[" "],s=a?1:0,u=ve(function(e){return e===t},l,true),c=ve(function(e){return F(t,e)>-1},l,true),g=[function(e,o,r){var i=!a&&(r||o!==p)||((t=o).nodeType?u(e,o,r):c(e,o,r));t=null;return i}];for(;s<n;s++){if(o=r.relative[e[s].type]){g=[ve(_e(g),o)]}else{o=r.filter[e[s].type].apply(null,e[s].matches);if(o[x]){i=++s;for(;i<n;i++){if(r.relative[e[i].type]){break}}return Pe(s>1&&_e(g),s>1&&me(e.slice(0,s-1).concat({value:e[s-2].type===" "?"*":""})).replace(B,"$1"),o,s<i&&Ee(e.slice(s,i)),i<n&&Ee(e=e.slice(i)),i<n&&me(e))}g.push(o)}}return _e(g)}function Te(e,t){var o=t.length>0,i=e.length>0,n=function(n,a,l,s,u){var c,g,f,d=0,y="0",m=n&&[],v=[],_=p,x=n||i&&r.find["TAG"]("*",u),S=P+=_==null?1:Math.random()||.1,E=x.length;if(u){p=a!==h&&a}for(;y!==E&&(c=x[y])!=null;y++){if(i&&c){g=0;while(f=e[g++]){if(f(c,a,l)){s.push(c);break}}if(u){P=S}}if(o){if(c=!f&&c){d--}if(n){m.push(c)}}}d+=y;if(o&&y!==d){g=0;while(f=t[g++]){f(m,v,a,l)}if(n){if(d>0){while(y--){if(!(m[y]||v[y])){v[y]=I.call(s)}}}v=Se(v)}O.apply(s,v);if(u&&!n&&v.length>0&&d+t.length>1){ae.uniqueSort(s)}}if(u){P=S;p=_}return m};return o?se(n):n}l=ae.compile=function(e,t){var o,r=[],i=[],n=M[e+" "];if(!n){if(!t){t=a(e)}o=t.length;while(o--){n=Ee(t[o]);if(n[x]){r.push(n)}else{i.push(n)}}n=M(e,Te(i,r));n.selector=e}return n};s=ae.select=function(e,t,i,n){var s,p,u,c,g,h=typeof e==="function"&&e,f=!n&&a(e=h.selector||e);i=i||[];if(f.length===1){p=f[0]=f[0].slice(0);if(p.length>2&&(u=p[0]).type==="ID"&&o.getById&&t.nodeType===9&&d&&r.relative[p[1].type]){t=(r.find["ID"](u.matches[0].replace(oe,re),t)||[])[0];if(!t){return i}else if(h){t=t.parentNode}e=e.slice(p.shift().value.length)}s=H["needsContext"].test(e)?0:p.length;while(s--){u=p[s];if(r.relative[c=u.type]){break}if(g=r.find[c]){if(n=g(u.matches[0].replace(oe,re),ee.test(p[0].type)&&de(t.parentNode)||t)){p.splice(s,1);e=n.length&&me(p);if(!e){O.apply(i,n);return i}break}}}}(h||l(e,f))(n,t,!d,i,ee.test(e)&&de(t.parentNode)||t);return i};o.sortStable=x.split("").sort(C).join("")===x;o.detectDuplicates=!!c;g();o.sortDetached=pe(function(e){return e.compareDocumentPosition(h.createElement("div"))&1});if(!pe(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild.getAttribute("href")==="#"})){ue("type|href|height|width",function(e,t,o){if(!o){return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}})}if(!o.attributes||!pe(function(e){e.innerHTML="<input/>";e.firstChild.setAttribute("value","");return e.firstChild.getAttribute("value")===""})){ue("value",function(e,t,o){if(!o&&e.nodeName.toLowerCase()==="input"){return e.defaultValue}})}if(!pe(function(e){return e.getAttribute("disabled")==null})){ue(G,function(e,t,o){var r;if(!o){return e[t]===true?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}})}return ae}(e);h.find=_;h.expr=_.selectors;h.expr[":"]=h.expr.pseudos;h.unique=_.uniqueSort;h.text=_.getText;h.isXMLDoc=_.isXML;h.contains=_.contains;var x=h.expr.match.needsContext;var S=/^<(\w+)\s*\/?>(?:<\/\1>|)$/;var P=/^.[^:#\[\.,]*$/;function E(e,t,o){if(h.isFunction(t)){return h.grep(e,function(e,r){return!!t.call(e,r,e)!==o})}if(t.nodeType){return h.grep(e,function(e){return e===t!==o})}if(typeof t==="string"){if(P.test(t)){return h.filter(t,e,o)}t=h.filter(t,e)}return h.grep(e,function(e){return a.call(t,e)>=0!==o})}h.filter=function(e,t,o){var r=t[0];if(o){e=":not("+e+")"}return t.length===1&&r.nodeType===1?h.find.matchesSelector(r,e)?[r]:[]:h.find.matches(e,h.grep(t,function(e){return e.nodeType===1}))};h.fn.extend({find:function(e){var t,o=this.length,r=[],i=this;if(typeof e!=="string"){return this.pushStack(h(e).filter(function(){for(t=0;t<o;t++){if(h.contains(i[t],this)){return true}}}))}for(t=0;t<o;t++){h.find(e,i[t],r)}r=this.pushStack(o>1?h.unique(r):r);r.selector=this.selector?this.selector+" "+e:e;return r},filter:function(e){return this.pushStack(E(this,e||[],false))},not:function(e){return this.pushStack(E(this,e||[],true))},is:function(e){return!!E(this,typeof e==="string"&&x.test(e)?h(e):e||[],false).length}});var T,b=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,M=h.fn.init=function(e,t){var o,r;if(!e){return this}if(typeof e==="string"){if(e[0]==="<"&&e[e.length-1]===">"&&e.length>=3){o=[null,e,null]}else{o=b.exec(e)}if(o&&(o[1]||!t)){if(o[1]){t=t instanceof h?t[0]:t;h.merge(this,h.parseHTML(o[1],t&&t.nodeType?t.ownerDocument||t:c,true));if(S.test(o[1])&&h.isPlainObject(t)){for(o in t){if(h.isFunction(this[o])){this[o](t[o])}else{this.attr(o,t[o])}}}return this}else{r=c.getElementById(o[2]);if(r&&r.parentNode){this.length=1;this[0]=r}this.context=c;this.selector=e;return this}}else if(!t||t.jquery){return(t||T).find(e)}else{return this.constructor(t).find(e)}}else if(e.nodeType){this.context=this[0]=e;this.length=1;return this}else if(h.isFunction(e)){return typeof T.ready!=="undefined"?T.ready(e):e(h)}if(e.selector!==undefined){this.selector=e.selector;this.context=e.context}return h.makeArray(e,this)};M.prototype=h.fn;T=h(c);var C=/^(?:parents|prev(?:Until|All))/,R={children:true,contents:true,next:true,prev:true};h.extend({dir:function(e,t,o){var r=[],i=o!==undefined;while((e=e[t])&&e.nodeType!==9){if(e.nodeType===1){if(i&&h(e).is(o)){break}r.push(e)}}return r},sibling:function(e,t){var o=[];for(;e;e=e.nextSibling){if(e.nodeType===1&&e!==t){o.push(e)}}return o}});h.fn.extend({has:function(e){var t=h(e,this),o=t.length;return this.filter(function(){var e=0;for(;e<o;e++){if(h.contains(this,t[e])){return true}}})},closest:function(e,t){var o,r=0,i=this.length,n=[],a=x.test(e)||typeof e!=="string"?h(e,t||this.context):0;for(;r<i;r++){for(o=this[r];o&&o!==t;o=o.parentNode){if(o.nodeType<11&&(a?a.index(o)>-1:o.nodeType===1&&h.find.matchesSelector(o,e))){n.push(o);break}}}return this.pushStack(n.length>1?h.unique(n):n)},index:function(e){if(!e){return this[0]&&this[0].parentNode?this.first().prevAll().length:-1}if(typeof e==="string"){return a.call(h(e),this[0])}return a.call(this,e.jquery?e[0]:e)},add:function(e,t){return this.pushStack(h.unique(h.merge(this.get(),h(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});function w(e,t){while((e=e[t])&&e.nodeType!==1){}return e}h.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return h.dir(e,"parentNode")},parentsUntil:function(e,t,o){return h.dir(e,"parentNode",o)},next:function(e){return w(e,"nextSibling")},prev:function(e){return w(e,"previousSibling")},nextAll:function(e){return h.dir(e,"nextSibling")},prevAll:function(e){return h.dir(e,"previousSibling")},nextUntil:function(e,t,o){return h.dir(e,"nextSibling",o)},prevUntil:function(e,t,o){return h.dir(e,"previousSibling",o)},siblings:function(e){return h.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return h.sibling(e.firstChild)},contents:function(e){return e.contentDocument||h.merge([],e.childNodes)}},function(e,t){h.fn[e]=function(o,r){var i=h.map(this,t,o);if(e.slice(-5)!=="Until"){r=o}if(r&&typeof r==="string"){i=h.filter(r,i)}if(this.length>1){if(!R[e]){h.unique(i)}if(C.test(e)){i.reverse()}}return this.pushStack(i)}});var L=/\S+/g;var I={};function A(e){var t=I[e]={};h.each(e.match(L)||[],function(e,o){t[o]=true});return t}h.Callbacks=function(e){e=typeof e==="string"?I[e]||A(e):h.extend({},e);var t,o,r,i,n,a,l=[],s=!e.once&&[],p=function(c){t=e.memory&&c;o=true;a=i||0;i=0;n=l.length;r=true;for(;l&&a<n;a++){if(l[a].apply(c[0],c[1])===false&&e.stopOnFalse){t=false;break}}r=false;if(l){if(s){if(s.length){p(s.shift())}}else if(t){l=[]}else{u.disable()}}},u={add:function(){if(l){var o=l.length;(function a(t){h.each(t,function(t,o){var r=h.type(o);if(r==="function"){if(!e.unique||!u.has(o)){l.push(o)}}else if(o&&o.length&&r!=="string"){a(o)}})})(arguments);if(r){n=l.length}else if(t){i=o;p(t)}}return this},remove:function(){if(l){h.each(arguments,function(e,t){var o;while((o=h.inArray(t,l,o))>-1){l.splice(o,1);if(r){if(o<=n){n--}if(o<=a){a--}}}})}return this},has:function(e){return e?h.inArray(e,l)>-1:!!(l&&l.length)},empty:function(){l=[];n=0;return this},disable:function(){l=s=t=undefined;return this},disabled:function(){return!l},lock:function(){s=undefined;if(!t){u.disable()}return this},locked:function(){return!s},fireWith:function(e,t){if(l&&(!o||s)){t=t||[];t=[e,t.slice?t.slice():t];if(r){s.push(t)}else{p(t)}}return this},fire:function(){u.fireWith(this,arguments);return this},fired:function(){return!!o}};return u};h.extend({Deferred:function(e){var t=[["resolve","done",h.Callbacks("once memory"),"resolved"],["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],o="pending",r={state:function(){return o},always:function(){i.done(arguments).fail(arguments);return this},then:function(){var e=arguments;return h.Deferred(function(o){h.each(t,function(t,n){var a=h.isFunction(e[t])&&e[t];i[n[1]](function(){var e=a&&a.apply(this,arguments);if(e&&h.isFunction(e.promise)){e.promise().done(o.resolve).fail(o.reject).progress(o.notify)}else{o[n[0]+"With"](this===r?o.promise():this,a?[e]:arguments)}})});e=null}).promise()},promise:function(e){return e!=null?h.extend(e,r):r}},i={};r.pipe=r.then;h.each(t,function(e,n){var a=n[2],l=n[3];r[n[1]]=a.add;if(l){a.add(function(){o=l},t[e^1][2].disable,t[2][2].lock)}i[n[0]]=function(){i[n[0]+"With"](this===i?r:this,arguments);return this};i[n[0]+"With"]=a.fireWith});r.promise(i);if(e){e.call(i,i)}return i},when:function(e){var t=0,o=r.call(arguments),i=o.length,n=i!==1||e&&h.isFunction(e.promise)?i:0,a=n===1?e:h.Deferred(),l=function(e,t,o){return function(i){t[e]=this;o[e]=arguments.length>1?r.call(arguments):i;if(o===s){a.notifyWith(t,o)}else if(!--n){a.resolveWith(t,o)}}},s,p,u;if(i>1){s=new Array(i);p=new Array(i);u=new Array(i);for(;t<i;t++){if(o[t]&&h.isFunction(o[t].promise)){o[t].promise().done(l(t,u,o)).fail(a.reject).progress(l(t,p,s))}else{--n}}}if(!n){a.resolveWith(u,o)}return a.promise()}});var O;h.fn.ready=function(e){h.ready.promise().done(e);return this};h.extend({isReady:false,readyWait:1,holdReady:function(e){if(e){h.readyWait++}else{h.ready(true)}},ready:function(e){if(e===true?--h.readyWait:h.isReady){return}h.isReady=true;if(e!==true&&--h.readyWait>0){return}O.resolveWith(c,[h]);if(h.fn.triggerHandler){h(c).triggerHandler("ready");h(c).off("ready")}}});function N(){c.removeEventListener("DOMContentLoaded",N,false);e.removeEventListener("load",N,false);h.ready()}h.ready.promise=function(t){if(!O){O=h.Deferred();if(c.readyState==="complete"){setTimeout(h.ready)}else{c.addEventListener("DOMContentLoaded",N,false);e.addEventListener("load",N,false)}}return O.promise(t)};h.ready.promise();var F=h.access=function(e,t,o,r,i,n,a){var l=0,s=e.length,p=o==null;if(h.type(o)==="object"){i=true;for(l in o){h.access(e,t,l,o[l],true,n,a)}}else if(r!==undefined){i=true;if(!h.isFunction(r)){a=true}if(p){if(a){t.call(e,r);t=null}else{p=t;t=function(e,t,o){return p.call(h(e),o)}}}if(t){for(;l<s;l++){t(e[l],o,a?r:r.call(e[l],l,t(e[l],o)))}}}return i?e:p?t.call(e):s?t(e[0],o):n};h.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType};function G(){Object.defineProperty(this.cache={},0,{get:function(){return{}}});this.expando=h.expando+G.uid++}G.uid=1;G.accepts=h.acceptData;G.prototype={key:function(e){if(!G.accepts(e)){return 0}var t={},o=e[this.expando];if(!o){o=G.uid++;try{t[this.expando]={value:o};Object.defineProperties(e,t)}catch(r){t[this.expando]=o;h.extend(e,t)}}if(!this.cache[o]){this.cache[o]={}}return o},set:function(e,t,o){var r,i=this.key(e),n=this.cache[i];if(typeof t==="string"){n[t]=o}else{if(h.isEmptyObject(n)){h.extend(this.cache[i],t)}else{for(r in t){n[r]=t[r]}}}return n},get:function(e,t){var o=this.cache[this.key(e)];return t===undefined?o:o[t]},access:function(e,t,o){var r;if(t===undefined||t&&typeof t==="string"&&o===undefined){r=this.get(e,t);return r!==undefined?r:this.get(e,h.camelCase(t))}this.set(e,t,o);return o!==undefined?o:t},remove:function(e,t){var o,r,i,n=this.key(e),a=this.cache[n];if(t===undefined){this.cache[n]={}}else{if(h.isArray(t)){r=t.concat(t.map(h.camelCase))}else{i=h.camelCase(t);if(t in a){r=[t,i]}else{r=i;r=r in a?[r]:r.match(L)||[]}}o=r.length;while(o--){delete a[r[o]]}}},hasData:function(e){return!h.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){if(e[this.expando]){delete this.cache[e[this.expando]]}}};var D=new G;var k=new G;var q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,j=/([A-Z])/g;function W(e,t,o){var r;if(o===undefined&&e.nodeType===1){r="data-"+t.replace(j,"-$1").toLowerCase();o=e.getAttribute(r);if(typeof o==="string"){try{o=o==="true"?true:o==="false"?false:o==="null"?null:+o+""===o?+o:q.test(o)?h.parseJSON(o):o}catch(i){}k.set(e,t,o)}else{o=undefined}}return o}h.extend({hasData:function(e){return k.hasData(e)||D.hasData(e)},data:function(e,t,o){return k.access(e,t,o)},removeData:function(e,t){k.remove(e,t)},_data:function(e,t,o){return D.access(e,t,o)},_removeData:function(e,t){D.remove(e,t)}});h.fn.extend({data:function(e,t){var o,r,i,n=this[0],a=n&&n.attributes;if(e===undefined){if(this.length){i=k.get(n);if(n.nodeType===1&&!D.get(n,"hasDataAttrs")){o=a.length;while(o--){if(a[o]){r=a[o].name;if(r.indexOf("data-")===0){r=h.camelCase(r.slice(5));W(n,r,i[r])}}}D.set(n,"hasDataAttrs",true)}}return i}if(typeof e==="object"){return this.each(function(){k.set(this,e)})}return F(this,function(t){var o,r=h.camelCase(e);if(n&&t===undefined){o=k.get(n,e);if(o!==undefined){return o}o=k.get(n,r);if(o!==undefined){return o}o=W(n,r,undefined);if(o!==undefined){return o}return}this.each(function(){var o=k.get(this,r);k.set(this,r,t);if(e.indexOf("-")!==-1&&o!==undefined){k.set(this,e,t)}})},null,t,arguments.length>1,null,true)},removeData:function(e){return this.each(function(){k.remove(this,e)})}});h.extend({queue:function(e,t,o){var r;if(e){t=(t||"fx")+"queue";r=D.get(e,t);if(o){if(!r||h.isArray(o)){r=D.access(e,t,h.makeArray(o))}else{r.push(o)}}return r||[]}},dequeue:function(e,t){t=t||"fx";var o=h.queue(e,t),r=o.length,i=o.shift(),n=h._queueHooks(e,t),a=function(){h.dequeue(e,t)};if(i==="inprogress"){i=o.shift();r--}if(i){if(t==="fx"){o.unshift("inprogress")}delete n.stop;i.call(e,a,n)}if(!r&&n){n.empty.fire()}},_queueHooks:function(e,t){var o=t+"queueHooks";return D.get(e,o)||D.access(e,o,{empty:h.Callbacks("once memory").add(function(){D.remove(e,[t+"queue",o])})})}});h.fn.extend({queue:function(e,t){var o=2;if(typeof e!=="string"){t=e;e="fx";o--}if(arguments.length<o){return h.queue(this[0],e)}return t===undefined?this:this.each(function(){var o=h.queue(this,e,t);h._queueHooks(this,e);if(e==="fx"&&o[0]!=="inprogress"){h.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){h.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var o,r=1,i=h.Deferred(),n=this,a=this.length,l=function(){if(!--r){i.resolveWith(n,[n])}};if(typeof e!=="string"){t=e;e=undefined}e=e||"fx";while(a--){o=D.get(n[a],e+"queueHooks");if(o&&o.empty){r++;o.empty.add(l)}}l();return i.promise(t)}});var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source;var B=["Top","Right","Bottom","Left"];var V=function(e,t){e=t||e;return h.css(e,"display")==="none"||!h.contains(e.ownerDocument,e)};var K=/^(?:checkbox|radio)$/i;(function(){var e=c.createDocumentFragment(),t=e.appendChild(c.createElement("div")),o=c.createElement("input");o.setAttribute("type","radio");o.setAttribute("checked","checked");o.setAttribute("name","t");t.appendChild(o);u.checkClone=t.cloneNode(true).cloneNode(true).lastChild.checked;t.innerHTML="<textarea>x</textarea>";u.noCloneChecked=!!t.cloneNode(true).lastChild.defaultValue})();var X=typeof undefined;u.focusinBubbles="onfocusin"in e;var Y=/^key/,z=/^(?:mouse|pointer|contextmenu)|click/,H=/^(?:focusinfocus|focusoutblur)$/,Z=/^([^.]*)(?:\.(.+)|)$/;function J(){return true}function $(){return false}function Q(){try{return c.activeElement}catch(e){}}h.event={global:{},add:function(e,t,o,r,i){var n,a,l,s,p,u,c,g,f,d,y,m=D.get(e);if(!m){return}if(o.handler){n=o;o=n.handler;i=n.selector}if(!o.guid){o.guid=h.guid++}if(!(s=m.events)){s=m.events={}}if(!(a=m.handle)){a=m.handle=function(t){return typeof h!==X&&h.event.triggered!==t.type?h.event.dispatch.apply(e,arguments):undefined}}t=(t||"").match(L)||[""];p=t.length;while(p--){l=Z.exec(t[p])||[];f=y=l[1];d=(l[2]||"").split(".").sort();if(!f){continue}c=h.event.special[f]||{};f=(i?c.delegateType:c.bindType)||f;c=h.event.special[f]||{};u=h.extend({type:f,origType:y,data:r,handler:o,guid:o.guid,selector:i,needsContext:i&&h.expr.match.needsContext.test(i),namespace:d.join(".")},n);if(!(g=s[f])){g=s[f]=[];g.delegateCount=0;if(!c.setup||c.setup.call(e,r,d,a)===false){if(e.addEventListener){e.addEventListener(f,a,false)}}}if(c.add){c.add.call(e,u);if(!u.handler.guid){u.handler.guid=o.guid}}if(i){g.splice(g.delegateCount++,0,u)}else{g.push(u)}h.event.global[f]=true}},remove:function(e,t,o,r,i){var n,a,l,s,p,u,c,g,f,d,y,m=D.hasData(e)&&D.get(e);if(!m||!(s=m.events)){return}t=(t||"").match(L)||[""];p=t.length;while(p--){l=Z.exec(t[p])||[];f=y=l[1];d=(l[2]||"").split(".").sort();if(!f){for(f in s){h.event.remove(e,f+t[p],o,r,true)}continue}c=h.event.special[f]||{};f=(r?c.delegateType:c.bindType)||f;g=s[f]||[];l=l[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)");a=n=g.length;while(n--){u=g[n];if((i||y===u.origType)&&(!o||o.guid===u.guid)&&(!l||l.test(u.namespace))&&(!r||r===u.selector||r==="**"&&u.selector)){g.splice(n,1);if(u.selector){g.delegateCount--}if(c.remove){c.remove.call(e,u)}}}if(a&&!g.length){if(!c.teardown||c.teardown.call(e,d,m.handle)===false){h.removeEvent(e,f,m.handle)}delete s[f]}}if(h.isEmptyObject(s)){delete m.handle;D.remove(e,"events")}},trigger:function(t,o,r,i){var n,a,l,s,u,g,f,d=[r||c],y=p.call(t,"type")?t.type:t,m=p.call(t,"namespace")?t.namespace.split("."):[];a=l=r=r||c;if(r.nodeType===3||r.nodeType===8){return}if(H.test(y+h.event.triggered)){return}if(y.indexOf(".")>=0){m=y.split(".");y=m.shift();m.sort()}u=y.indexOf(":")<0&&"on"+y;t=t[h.expando]?t:new h.Event(y,typeof t==="object"&&t);t.isTrigger=i?2:3;t.namespace=m.join(".");t.namespace_re=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;t.result=undefined;if(!t.target){t.target=r}o=o==null?[t]:h.makeArray(o,[t]);f=h.event.special[y]||{};if(!i&&f.trigger&&f.trigger.apply(r,o)===false){return}if(!i&&!f.noBubble&&!h.isWindow(r)){s=f.delegateType||y;if(!H.test(s+y)){a=a.parentNode}for(;a;a=a.parentNode){d.push(a);l=a}if(l===(r.ownerDocument||c)){d.push(l.defaultView||l.parentWindow||e)}}n=0;while((a=d[n++])&&!t.isPropagationStopped()){t.type=n>1?s:f.bindType||y;g=(D.get(a,"events")||{})[t.type]&&D.get(a,"handle");if(g){g.apply(a,o)}g=u&&a[u];if(g&&g.apply&&h.acceptData(a)){t.result=g.apply(a,o);if(t.result===false){t.preventDefault()}}}t.type=y;if(!i&&!t.isDefaultPrevented()){if((!f._default||f._default.apply(d.pop(),o)===false)&&h.acceptData(r)){if(u&&h.isFunction(r[y])&&!h.isWindow(r)){l=r[u];if(l){r[u]=null}h.event.triggered=y;r[y]();h.event.triggered=undefined;if(l){r[u]=l}}}}return t.result},dispatch:function(e){e=h.event.fix(e);var t,o,i,n,a,l=[],s=r.call(arguments),p=(D.get(this,"events")||{})[e.type]||[],u=h.event.special[e.type]||{};s[0]=e;e.delegateTarget=this;if(u.preDispatch&&u.preDispatch.call(this,e)===false){return}l=h.event.handlers.call(this,e,p);t=0;while((n=l[t++])&&!e.isPropagationStopped()){e.currentTarget=n.elem;o=0;while((a=n.handlers[o++])&&!e.isImmediatePropagationStopped()){if(!e.namespace_re||e.namespace_re.test(a.namespace)){e.handleObj=a;e.data=a.data;i=((h.event.special[a.origType]||{}).handle||a.handler).apply(n.elem,s);if(i!==undefined){if((e.result=i)===false){e.preventDefault();e.stopPropagation()}}}}}if(u.postDispatch){u.postDispatch.call(this,e)}return e.result},handlers:function(e,t){var o,r,i,n,a=[],l=t.delegateCount,s=e.target;if(l&&s.nodeType&&(!e.button||e.type!=="click")){for(;s!==this;s=s.parentNode||this){if(s.disabled!==true||e.type!=="click"){r=[];for(o=0;o<l;o++){n=t[o];i=n.selector+" ";if(r[i]===undefined){r[i]=n.needsContext?h(i,this).index(s)>=0:h.find(i,this,null,[s]).length}if(r[i]){r.push(n)}}if(r.length){a.push({elem:s,handlers:r})}}}}if(l<t.length){a.push({elem:this,handlers:t.slice(l)})}return a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){if(e.which==null){e.which=t.charCode!=null?t.charCode:t.keyCode}return e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var o,r,i,n=t.button;if(e.pageX==null&&t.clientX!=null){o=e.target.ownerDocument||c;r=o.documentElement;i=o.body;e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0);e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)}if(!e.which&&n!==undefined){e.which=n&1?1:n&2?3:n&4?2:0}return e}},fix:function(e){if(e[h.expando]){return e}var t,o,r,i=e.type,n=e,a=this.fixHooks[i];if(!a){this.fixHooks[i]=a=z.test(i)?this.mouseHooks:Y.test(i)?this.keyHooks:{}}r=a.props?this.props.concat(a.props):this.props;e=new h.Event(n);t=r.length;while(t--){o=r[t];e[o]=n[o]}if(!e.target){e.target=c}if(e.target.nodeType===3){e.target=e.target.parentNode}return a.filter?a.filter(e,n):e},special:{load:{noBubble:true},focus:{trigger:function(){if(this!==Q()&&this.focus){this.focus();return false}},delegateType:"focusin"},blur:{trigger:function(){if(this===Q()&&this.blur){this.blur();return false}},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&h.nodeName(this,"input")){this.click();return false}},_default:function(e){return h.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){if(e.result!==undefined&&e.originalEvent){
e.originalEvent.returnValue=e.result}}}},simulate:function(e,t,o,r){var i=h.extend(new h.Event,o,{type:e,isSimulated:true,originalEvent:{}});if(r){h.event.trigger(i,null,t)}else{h.event.dispatch.call(t,i)}if(i.isDefaultPrevented()){o.preventDefault()}}};h.removeEvent=function(e,t,o){if(e.removeEventListener){e.removeEventListener(t,o,false)}};h.Event=function(e,t){if(!(this instanceof h.Event)){return new h.Event(e,t)}if(e&&e.type){this.originalEvent=e;this.type=e.type;this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.returnValue===false?J:$}else{this.type=e}if(t){h.extend(this,t)}this.timeStamp=e&&e.timeStamp||h.now();this[h.expando]=true};h.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=J;if(e&&e.preventDefault){e.preventDefault()}},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=J;if(e&&e.stopPropagation){e.stopPropagation()}},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=J;if(e&&e.stopImmediatePropagation){e.stopImmediatePropagation()}this.stopPropagation()}};h.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){h.event.special[e]={delegateType:t,bindType:t,handle:function(e){var o,r=this,i=e.relatedTarget,n=e.handleObj;if(!i||i!==r&&!h.contains(r,i)){e.type=n.origType;o=n.handler.apply(this,arguments);e.type=t}return o}}});if(!u.focusinBubbles){h.each({focus:"focusin",blur:"focusout"},function(e,t){var o=function(e){h.event.simulate(t,e.target,h.event.fix(e),true)};h.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=D.access(r,t);if(!i){r.addEventListener(e,o,true)}D.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=D.access(r,t)-1;if(!i){r.removeEventListener(e,o,true);D.remove(r,t)}else{D.access(r,t,i)}}}})}h.fn.extend({on:function(e,t,o,r,i){var n,a;if(typeof e==="object"){if(typeof t!=="string"){o=o||t;t=undefined}for(a in e){this.on(a,t,o,e[a],i)}return this}if(o==null&&r==null){r=t;o=t=undefined}else if(r==null){if(typeof t==="string"){r=o;o=undefined}else{r=o;o=t;t=undefined}}if(r===false){r=$}else if(!r){return this}if(i===1){n=r;r=function(e){h().off(e);return n.apply(this,arguments)};r.guid=n.guid||(n.guid=h.guid++)}return this.each(function(){h.event.add(this,e,r,o,t)})},one:function(e,t,o,r){return this.on(e,t,o,r,1)},off:function(e,t,o){var r,i;if(e&&e.preventDefault&&e.handleObj){r=e.handleObj;h(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler);return this}if(typeof e==="object"){for(i in e){this.off(i,t,e[i])}return this}if(t===false||typeof t==="function"){o=t;t=undefined}if(o===false){o=$}return this.each(function(){h.event.remove(this,e,o,t)})},trigger:function(e,t){return this.each(function(){h.event.trigger(e,t,this)})},triggerHandler:function(e,t){var o=this[0];if(o){return h.event.trigger(e,t,o,true)}}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,oe=/<|&#?\w+;/,re=/<(?:script|style|link)/i,ie=/checked\s*(?:[^=]|=\s*.checked.)/i,ne=/^$|\/(?:java|ecma)script/i,ae=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,se={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};se.optgroup=se.option;se.tbody=se.tfoot=se.colgroup=se.caption=se.thead;se.th=se.td;function pe(e,t){return h.nodeName(e,"table")&&h.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ue(e){e.type=(e.getAttribute("type")!==null)+"/"+e.type;return e}function ce(e){var t=ae.exec(e.type);if(t){e.type=t[1]}else{e.removeAttribute("type")}return e}function ge(e,t){var o=0,r=e.length;for(;o<r;o++){D.set(e[o],"globalEval",!t||D.get(t[o],"globalEval"))}}function he(e,t){var o,r,i,n,a,l,s,p;if(t.nodeType!==1){return}if(D.hasData(e)){n=D.access(e);a=D.set(t,n);p=n.events;if(p){delete a.handle;a.events={};for(i in p){for(o=0,r=p[i].length;o<r;o++){h.event.add(t,i,p[i][o])}}}}if(k.hasData(e)){l=k.access(e);s=h.extend({},l);k.set(t,s)}}function fe(e,t){var o=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&h.nodeName(e,t)?h.merge([e],o):o}function de(e,t){var o=t.nodeName.toLowerCase();if(o==="input"&&K.test(e.type)){t.checked=e.checked}else if(o==="input"||o==="textarea"){t.defaultValue=e.defaultValue}}h.extend({clone:function(e,t,o){var r,i,n,a,l=e.cloneNode(true),s=h.contains(e.ownerDocument,e);if(!u.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!h.isXMLDoc(e)){a=fe(l);n=fe(e);for(r=0,i=n.length;r<i;r++){de(n[r],a[r])}}if(t){if(o){n=n||fe(e);a=a||fe(l);for(r=0,i=n.length;r<i;r++){he(n[r],a[r])}}else{he(e,l)}}a=fe(l,"script");if(a.length>0){ge(a,!s&&fe(e,"script"))}return l},buildFragment:function(e,t,o,r){var i,n,a,l,s,p,u=t.createDocumentFragment(),c=[],g=0,f=e.length;for(;g<f;g++){i=e[g];if(i||i===0){if(h.type(i)==="object"){h.merge(c,i.nodeType?[i]:i)}else if(!oe.test(i)){c.push(t.createTextNode(i))}else{n=n||u.appendChild(t.createElement("div"));a=(te.exec(i)||["",""])[1].toLowerCase();l=se[a]||se._default;n.innerHTML=l[1]+i.replace(ee,"<$1></$2>")+l[2];p=l[0];while(p--){n=n.lastChild}h.merge(c,n.childNodes);n=u.firstChild;n.textContent=""}}}u.textContent="";g=0;while(i=c[g++]){if(r&&h.inArray(i,r)!==-1){continue}s=h.contains(i.ownerDocument,i);n=fe(u.appendChild(i),"script");if(s){ge(n)}if(o){p=0;while(i=n[p++]){if(ne.test(i.type||"")){o.push(i)}}}}return u},cleanData:function(e){var t,o,r,i,n=h.event.special,a=0;for(;(o=e[a])!==undefined;a++){if(h.acceptData(o)){i=o[D.expando];if(i&&(t=D.cache[i])){if(t.events){for(r in t.events){if(n[r]){h.event.remove(o,r)}else{h.removeEvent(o,r,t.handle)}}}if(D.cache[i]){delete D.cache[i]}}}delete k.cache[o[k.expando]]}}});h.fn.extend({text:function(e){return F(this,function(e){return e===undefined?h.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){this.textContent=e}})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=pe(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=pe(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this)}})},after:function(){return this.domManip(arguments,function(e){if(this.parentNode){this.parentNode.insertBefore(e,this.nextSibling)}})},remove:function(e,t){var o,r=e?h.filter(e,this):this,i=0;for(;(o=r[i])!=null;i++){if(!t&&o.nodeType===1){h.cleanData(fe(o))}if(o.parentNode){if(t&&h.contains(o.ownerDocument,o)){ge(fe(o,"script"))}o.parentNode.removeChild(o)}}return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){if(e.nodeType===1){h.cleanData(fe(e,false));e.textContent=""}}return this},clone:function(e,t){e=e==null?false:e;t=t==null?e:t;return this.map(function(){return h.clone(this,e,t)})},html:function(e){return F(this,function(e){var t=this[0]||{},o=0,r=this.length;if(e===undefined&&t.nodeType===1){return t.innerHTML}if(typeof e==="string"&&!re.test(e)&&!se[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;o<r;o++){t=this[o]||{};if(t.nodeType===1){h.cleanData(fe(t,false));t.innerHTML=e}}t=0}catch(i){}}if(t){this.empty().append(e)}},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];this.domManip(arguments,function(t){e=this.parentNode;h.cleanData(fe(this));if(e){e.replaceChild(t,this)}});return e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,true)},domManip:function(e,t){e=i.apply([],e);var o,r,n,a,l,s,p=0,c=this.length,g=this,f=c-1,d=e[0],y=h.isFunction(d);if(y||c>1&&typeof d==="string"&&!u.checkClone&&ie.test(d)){return this.each(function(o){var r=g.eq(o);if(y){e[0]=d.call(this,o,r.html())}r.domManip(e,t)})}if(c){o=h.buildFragment(e,this[0].ownerDocument,false,this);r=o.firstChild;if(o.childNodes.length===1){o=r}if(r){n=h.map(fe(o,"script"),ue);a=n.length;for(;p<c;p++){l=o;if(p!==f){l=h.clone(l,true,true);if(a){h.merge(n,fe(l,"script"))}}t.call(this[p],l,p)}if(a){s=n[n.length-1].ownerDocument;h.map(n,ce);for(p=0;p<a;p++){l=n[p];if(ne.test(l.type||"")&&!D.access(l,"globalEval")&&h.contains(s,l)){if(l.src){if(h._evalUrl){h._evalUrl(l.src)}}else{h.globalEval(l.textContent.replace(le,""))}}}}}}return this}});h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){h.fn[e]=function(e){var o,r=[],i=h(e),a=i.length-1,l=0;for(;l<=a;l++){o=l===a?this:this.clone(true);h(i[l])[t](o);n.apply(r,o.get())}return this.pushStack(r)}});var ye,me={};function ve(t,o){var r,i=h(o.createElement(t)).appendTo(o.body),n=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:h.css(i[0],"display");i.detach();return n}function _e(e){var t=c,o=me[e];if(!o){o=ve(e,t);if(o==="none"||!o){ye=(ye||h("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement);t=ye[0].contentDocument;t.write();t.close();o=ve(e,t);ye.detach()}me[e]=o}return o}var xe=/^margin/;var Se=new RegExp("^("+U+")(?!px)[a-z%]+$","i");var Pe=function(t){if(t.ownerDocument.defaultView.opener){return t.ownerDocument.defaultView.getComputedStyle(t,null)}return e.getComputedStyle(t,null)};function Ee(e,t,o){var r,i,n,a,l=e.style;o=o||Pe(e);if(o){a=o.getPropertyValue(t)||o[t]}if(o){if(a===""&&!h.contains(e.ownerDocument,e)){a=h.style(e,t)}if(Se.test(a)&&xe.test(t)){r=l.width;i=l.minWidth;n=l.maxWidth;l.minWidth=l.maxWidth=l.width=a;a=o.width;l.width=r;l.minWidth=i;l.maxWidth=n}}return a!==undefined?a+"":a}function Te(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}(function(){var t,o,r=c.documentElement,i=c.createElement("div"),n=c.createElement("div");if(!n.style){return}n.style.backgroundClip="content-box";n.cloneNode(true).style.backgroundClip="";u.clearCloneStyle=n.style.backgroundClip==="content-box";i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;"+"position:absolute";i.appendChild(n);function a(){n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;"+"box-sizing:border-box;display:block;margin-top:1%;top:1%;"+"border:1px;padding:1px;width:4px;position:absolute";n.innerHTML="";r.appendChild(i);var a=e.getComputedStyle(n,null);t=a.top!=="1%";o=a.width==="4px";r.removeChild(i)}if(e.getComputedStyle){h.extend(u,{pixelPosition:function(){a();return t},boxSizingReliable:function(){if(o==null){a()}return o},reliableMarginRight:function(){var t,o=n.appendChild(c.createElement("div"));o.style.cssText=n.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;"+"box-sizing:content-box;display:block;margin:0;border:0;padding:0";o.style.marginRight=o.style.width="0";n.style.width="1px";r.appendChild(i);t=!parseFloat(e.getComputedStyle(o,null).marginRight);r.removeChild(i);n.removeChild(o);return t}})}})();h.swap=function(e,t,o,r){var i,n,a={};for(n in t){a[n]=e.style[n];e.style[n]=t[n]}i=o.apply(e,r||[]);for(n in t){e.style[n]=a[n]}return i};var be=/^(none|table(?!-c[ea]).+)/,Me=new RegExp("^("+U+")(.*)$","i"),Ce=new RegExp("^([+-])=("+U+")","i"),Re={position:"absolute",visibility:"hidden",display:"block"},we={letterSpacing:"0",fontWeight:"400"},Le=["Webkit","O","Moz","ms"];function Ie(e,t){if(t in e){return t}var o=t[0].toUpperCase()+t.slice(1),r=t,i=Le.length;while(i--){t=Le[i]+o;if(t in e){return t}}return r}function Ae(e,t,o){var r=Me.exec(t);return r?Math.max(0,r[1]-(o||0))+(r[2]||"px"):t}function Oe(e,t,o,r,i){var n=o===(r?"border":"content")?4:t==="width"?1:0,a=0;for(;n<4;n+=2){if(o==="margin"){a+=h.css(e,o+B[n],true,i)}if(r){if(o==="content"){a-=h.css(e,"padding"+B[n],true,i)}if(o!=="margin"){a-=h.css(e,"border"+B[n]+"Width",true,i)}}else{a+=h.css(e,"padding"+B[n],true,i);if(o!=="padding"){a+=h.css(e,"border"+B[n]+"Width",true,i)}}}return a}function Ne(e,t,o){var r=true,i=t==="width"?e.offsetWidth:e.offsetHeight,n=Pe(e),a=h.css(e,"boxSizing",false,n)==="border-box";if(i<=0||i==null){i=Ee(e,t,n);if(i<0||i==null){i=e.style[t]}if(Se.test(i)){return i}r=a&&(u.boxSizingReliable()||i===e.style[t]);i=parseFloat(i)||0}return i+Oe(e,t,o||(a?"border":"content"),r,n)+"px"}function Fe(e,t){var o,r,i,n=[],a=0,l=e.length;for(;a<l;a++){r=e[a];if(!r.style){continue}n[a]=D.get(r,"olddisplay");o=r.style.display;if(t){if(!n[a]&&o==="none"){r.style.display=""}if(r.style.display===""&&V(r)){n[a]=D.access(r,"olddisplay",_e(r.nodeName))}}else{i=V(r);if(o!=="none"||!i){D.set(r,"olddisplay",i?o:h.css(r,"display"))}}}for(a=0;a<l;a++){r=e[a];if(!r.style){continue}if(!t||r.style.display==="none"||r.style.display===""){r.style.display=t?n[a]||"":"none"}}return e}h.extend({cssHooks:{opacity:{get:function(e,t){if(t){var o=Ee(e,"opacity");return o===""?"1":o}}}},cssNumber:{columnCount:true,fillOpacity:true,flexGrow:true,flexShrink:true,fontWeight:true,lineHeight:true,opacity:true,order:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":"cssFloat"},style:function(e,t,o,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style){return}var i,n,a,l=h.camelCase(t),s=e.style;t=h.cssProps[l]||(h.cssProps[l]=Ie(s,l));a=h.cssHooks[t]||h.cssHooks[l];if(o!==undefined){n=typeof o;if(n==="string"&&(i=Ce.exec(o))){o=(i[1]+1)*i[2]+parseFloat(h.css(e,t));n="number"}if(o==null||o!==o){return}if(n==="number"&&!h.cssNumber[l]){o+="px"}if(!u.clearCloneStyle&&o===""&&t.indexOf("background")===0){s[t]="inherit"}if(!a||!("set"in a)||(o=a.set(e,o,r))!==undefined){s[t]=o}}else{if(a&&"get"in a&&(i=a.get(e,false,r))!==undefined){return i}return s[t]}},css:function(e,t,o,r){var i,n,a,l=h.camelCase(t);t=h.cssProps[l]||(h.cssProps[l]=Ie(e.style,l));a=h.cssHooks[t]||h.cssHooks[l];if(a&&"get"in a){i=a.get(e,true,o)}if(i===undefined){i=Ee(e,t,r)}if(i==="normal"&&t in we){i=we[t]}if(o===""||o){n=parseFloat(i);return o===true||h.isNumeric(n)?n||0:i}return i}});h.each(["height","width"],function(e,t){h.cssHooks[t]={get:function(e,o,r){if(o){return be.test(h.css(e,"display"))&&e.offsetWidth===0?h.swap(e,Re,function(){return Ne(e,t,r)}):Ne(e,t,r)}},set:function(e,o,r){var i=r&&Pe(e);return Ae(e,o,r?Oe(e,t,r,h.css(e,"boxSizing",false,i)==="border-box",i):0)}}});h.cssHooks.marginRight=Te(u.reliableMarginRight,function(e,t){if(t){return h.swap(e,{display:"inline-block"},Ee,[e,"marginRight"])}});h.each({margin:"",padding:"",border:"Width"},function(e,t){h.cssHooks[e+t]={expand:function(o){var r=0,i={},n=typeof o==="string"?o.split(" "):[o];for(;r<4;r++){i[e+B[r]+t]=n[r]||n[r-2]||n[0]}return i}};if(!xe.test(e)){h.cssHooks[e+t].set=Ae}});h.fn.extend({css:function(e,t){return F(this,function(e,t,o){var r,i,n={},a=0;if(h.isArray(t)){r=Pe(e);i=t.length;for(;a<i;a++){n[t[a]]=h.css(e,t[a],false,r)}return n}return o!==undefined?h.style(e,t,o):h.css(e,t)},e,t,arguments.length>1)},show:function(){return Fe(this,true)},hide:function(){return Fe(this)},toggle:function(e){if(typeof e==="boolean"){return e?this.show():this.hide()}return this.each(function(){if(V(this)){h(this).show()}else{h(this).hide()}})}});function Ge(e,t,o,r,i){return new Ge.prototype.init(e,t,o,r,i)}h.Tween=Ge;Ge.prototype={constructor:Ge,init:function(e,t,o,r,i,n){this.elem=e;this.prop=o;this.easing=i||"swing";this.options=t;this.start=this.now=this.cur();this.end=r;this.unit=n||(h.cssNumber[o]?"":"px")},cur:function(){var e=Ge.propHooks[this.prop];return e&&e.get?e.get(this):Ge.propHooks._default.get(this)},run:function(e){var t,o=Ge.propHooks[this.prop];if(this.options.duration){this.pos=t=h.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration)}else{this.pos=t=e}this.now=(this.end-this.start)*t+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(o&&o.set){o.set(this)}else{Ge.propHooks._default.set(this)}return this}};Ge.prototype.init.prototype=Ge.prototype;Ge.propHooks={_default:{get:function(e){var t;if(e.elem[e.prop]!=null&&(!e.elem.style||e.elem.style[e.prop]==null)){return e.elem[e.prop]}t=h.css(e.elem,e.prop,"");return!t||t==="auto"?0:t},set:function(e){if(h.fx.step[e.prop]){h.fx.step[e.prop](e)}else if(e.elem.style&&(e.elem.style[h.cssProps[e.prop]]!=null||h.cssHooks[e.prop])){h.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}};Ge.propHooks.scrollTop=Ge.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};h.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}};h.fx=Ge.prototype.init;h.fx.step={};var De,ke,qe=/^(?:toggle|show|hide)$/,je=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),We=/queueHooks$/,Ue=[Ye],Be={"*":[function(e,t){var o=this.createTween(e,t),r=o.cur(),i=je.exec(t),n=i&&i[3]||(h.cssNumber[e]?"":"px"),a=(h.cssNumber[e]||n!=="px"&&+r)&&je.exec(h.css(o.elem,e)),l=1,s=20;if(a&&a[3]!==n){n=n||a[3];i=i||[];a=+r||1;do{l=l||".5";a=a/l;h.style(o.elem,e,a+n)}while(l!==(l=o.cur()/r)&&l!==1&&--s)}if(i){a=o.start=+a||+r||0;o.unit=n;o.end=i[1]?a+(i[1]+1)*i[2]:+i[2]}return o}]};function Ve(){setTimeout(function(){De=undefined});return De=h.now()}function Ke(e,t){var o,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t){o=B[r];i["margin"+o]=i["padding"+o]=e}if(t){i.opacity=i.width=e}return i}function Xe(e,t,o){var r,i=(Be[t]||[]).concat(Be["*"]),n=0,a=i.length;for(;n<a;n++){if(r=i[n].call(o,t,e)){return r}}}function Ye(e,t,o){var r,i,n,a,l,s,p,u,c=this,g={},f=e.style,d=e.nodeType&&V(e),y=D.get(e,"fxshow");if(!o.queue){l=h._queueHooks(e,"fx");if(l.unqueued==null){l.unqueued=0;s=l.empty.fire;l.empty.fire=function(){if(!l.unqueued){s()}}}l.unqueued++;c.always(function(){c.always(function(){l.unqueued--;if(!h.queue(e,"fx").length){l.empty.fire()}})})}if(e.nodeType===1&&("height"in t||"width"in t)){o.overflow=[f.overflow,f.overflowX,f.overflowY];p=h.css(e,"display");u=p==="none"?D.get(e,"olddisplay")||_e(e.nodeName):p;if(u==="inline"&&h.css(e,"float")==="none"){f.display="inline-block"}}if(o.overflow){f.overflow="hidden";c.always(function(){f.overflow=o.overflow[0];f.overflowX=o.overflow[1];f.overflowY=o.overflow[2]})}for(r in t){i=t[r];if(qe.exec(i)){delete t[r];n=n||i==="toggle";if(i===(d?"hide":"show")){if(i==="show"&&y&&y[r]!==undefined){d=true}else{continue}}g[r]=y&&y[r]||h.style(e,r)}else{p=undefined}}if(!h.isEmptyObject(g)){if(y){if("hidden"in y){d=y.hidden}}else{y=D.access(e,"fxshow",{})}if(n){y.hidden=!d}if(d){h(e).show()}else{c.done(function(){h(e).hide()})}c.done(function(){var t;D.remove(e,"fxshow");for(t in g){h.style(e,t,g[t])}});for(r in g){a=Xe(d?y[r]:0,r,c);if(!(r in y)){y[r]=a.start;if(d){a.end=a.start;a.start=r==="width"||r==="height"?1:0}}}}else if((p==="none"?_e(e.nodeName):p)==="inline"){f.display=p}}function ze(e,t){var o,r,i,n,a;for(o in e){r=h.camelCase(o);i=t[r];n=e[o];if(h.isArray(n)){i=n[1];n=e[o]=n[0]}if(o!==r){e[r]=n;delete e[o]}a=h.cssHooks[r];if(a&&"expand"in a){n=a.expand(n);delete e[r];for(o in n){if(!(o in e)){e[o]=n[o];t[o]=i}}}else{t[r]=i}}}function He(e,t,o){var r,i,n=0,a=Ue.length,l=h.Deferred().always(function(){delete s.elem}),s=function(){if(i){return false}var t=De||Ve(),o=Math.max(0,p.startTime+p.duration-t),r=o/p.duration||0,n=1-r,a=0,s=p.tweens.length;for(;a<s;a++){p.tweens[a].run(n)}l.notifyWith(e,[p,n,o]);if(n<1&&s){return o}else{l.resolveWith(e,[p]);return false}},p=l.promise({elem:e,props:h.extend({},t),opts:h.extend(true,{specialEasing:{}},o),originalProperties:t,originalOptions:o,startTime:De||Ve(),duration:o.duration,tweens:[],createTween:function(t,o){var r=h.Tween(e,p.opts,t,o,p.opts.specialEasing[t]||p.opts.easing);p.tweens.push(r);return r},stop:function(t){var o=0,r=t?p.tweens.length:0;if(i){return this}i=true;for(;o<r;o++){p.tweens[o].run(1)}if(t){l.resolveWith(e,[p,t])}else{l.rejectWith(e,[p,t])}return this}}),u=p.props;ze(u,p.opts.specialEasing);for(;n<a;n++){r=Ue[n].call(p,e,u,p.opts);if(r){return r}}h.map(u,Xe,p);if(h.isFunction(p.opts.start)){p.opts.start.call(e,p)}h.fx.timer(h.extend(s,{elem:e,anim:p,queue:p.opts.queue}));return p.progress(p.opts.progress).done(p.opts.done,p.opts.complete).fail(p.opts.fail).always(p.opts.always)}h.Animation=h.extend(He,{tweener:function(e,t){if(h.isFunction(e)){t=e;e=["*"]}else{e=e.split(" ")}var o,r=0,i=e.length;for(;r<i;r++){o=e[r];Be[o]=Be[o]||[];Be[o].unshift(t)}},prefilter:function(e,t){if(t){Ue.unshift(e)}else{Ue.push(e)}}});h.speed=function(e,t,o){var r=e&&typeof e==="object"?h.extend({},e):{complete:o||!o&&t||h.isFunction(e)&&e,duration:e,easing:o&&t||t&&!h.isFunction(t)&&t};r.duration=h.fx.off?0:typeof r.duration==="number"?r.duration:r.duration in h.fx.speeds?h.fx.speeds[r.duration]:h.fx.speeds._default;if(r.queue==null||r.queue===true){r.queue="fx"}r.old=r.complete;r.complete=function(){if(h.isFunction(r.old)){r.old.call(this)}if(r.queue){h.dequeue(this,r.queue)}};return r};h.fn.extend({fadeTo:function(e,t,o,r){return this.filter(V).css("opacity",0).show().end().animate({opacity:t},e,o,r)},animate:function(e,t,o,r){var i=h.isEmptyObject(e),n=h.speed(t,o,r),a=function(){var t=He(this,h.extend({},e),n);if(i||D.get(this,"finish")){t.stop(true)}};a.finish=a;return i||n.queue===false?this.each(a):this.queue(n.queue,a)},stop:function(e,t,o){var r=function(e){var t=e.stop;delete e.stop;t(o)};if(typeof e!=="string"){o=t;t=e;e=undefined}if(t&&e!==false){this.queue(e||"fx",[])}return this.each(function(){var t=true,i=e!=null&&e+"queueHooks",n=h.timers,a=D.get(this);if(i){if(a[i]&&a[i].stop){r(a[i])}}else{for(i in a){if(a[i]&&a[i].stop&&We.test(i)){r(a[i])}}}for(i=n.length;i--;){if(n[i].elem===this&&(e==null||n[i].queue===e)){n[i].anim.stop(o);t=false;n.splice(i,1)}}if(t||!o){h.dequeue(this,e)}})},finish:function(e){if(e!==false){e=e||"fx"}return this.each(function(){var t,o=D.get(this),r=o[e+"queue"],i=o[e+"queueHooks"],n=h.timers,a=r?r.length:0;o.finish=true;h.queue(this,e,[]);if(i&&i.stop){i.stop.call(this,true)}for(t=n.length;t--;){if(n[t].elem===this&&n[t].queue===e){n[t].anim.stop(true);n.splice(t,1)}}for(t=0;t<a;t++){if(r[t]&&r[t].finish){r[t].finish.call(this)}}delete o.finish})}});h.each(["toggle","show","hide"],function(e,t){var o=h.fn[t];h.fn[t]=function(e,r,i){return e==null||typeof e==="boolean"?o.apply(this,arguments):this.animate(Ke(t,true),e,r,i)}});h.each({slideDown:Ke("show"),slideUp:Ke("hide"),slideToggle:Ke("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){h.fn[e]=function(e,o,r){return this.animate(t,e,o,r)}});h.timers=[];h.fx.tick=function(){var e,t=0,o=h.timers;De=h.now();for(;t<o.length;t++){e=o[t];if(!e()&&o[t]===e){o.splice(t--,1)}}if(!o.length){h.fx.stop()}De=undefined};h.fx.timer=function(e){h.timers.push(e);if(e()){h.fx.start()}else{h.timers.pop()}};h.fx.interval=13;h.fx.start=function(){if(!ke){ke=setInterval(h.fx.tick,h.fx.interval)}};h.fx.stop=function(){clearInterval(ke);ke=null};h.fx.speeds={slow:600,fast:200,_default:400};h.fn.delay=function(e,t){e=h.fx?h.fx.speeds[e]||e:e;t=t||"fx";return this.queue(t,function(t,o){var r=setTimeout(t,e);o.stop=function(){clearTimeout(r)}})};(function(){var e=c.createElement("input"),t=c.createElement("select"),o=t.appendChild(c.createElement("option"));e.type="checkbox";u.checkOn=e.value!=="";u.optSelected=o.selected;t.disabled=true;u.optDisabled=!o.disabled;e=c.createElement("input");e.value="t";e.type="radio";u.radioValue=e.value==="t"})();var Ze,Je,$e=h.expr.attrHandle;h.fn.extend({attr:function(e,t){return F(this,h.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){h.removeAttr(this,e)})}});h.extend({attr:function(e,t,o){var r,i,n=e.nodeType;if(!e||n===3||n===8||n===2){return}if(typeof e.getAttribute===X){return h.prop(e,t,o)}if(n!==1||!h.isXMLDoc(e)){t=t.toLowerCase();r=h.attrHooks[t]||(h.expr.match.bool.test(t)?Je:Ze)}if(o!==undefined){if(o===null){h.removeAttr(e,t)}else if(r&&"set"in r&&(i=r.set(e,o,t))!==undefined){return i}else{e.setAttribute(t,o+"");return o}}else if(r&&"get"in r&&(i=r.get(e,t))!==null){return i}else{i=h.find.attr(e,t);return i==null?undefined:i}},removeAttr:function(e,t){var o,r,i=0,n=t&&t.match(L);if(n&&e.nodeType===1){while(o=n[i++]){r=h.propFix[o]||o;if(h.expr.match.bool.test(o)){e[r]=false}e.removeAttribute(o)}}},attrHooks:{type:{set:function(e,t){if(!u.radioValue&&t==="radio"&&h.nodeName(e,"input")){var o=e.value;e.setAttribute("type",t);if(o){e.value=o}return t}}}}});Je={set:function(e,t,o){if(t===false){h.removeAttr(e,o)}else{e.setAttribute(o,o)}return o}};h.each(h.expr.match.bool.source.match(/\w+/g),function(e,t){var o=$e[t]||h.find.attr;$e[t]=function(e,t,r){var i,n;if(!r){n=$e[t];$e[t]=i;i=o(e,t,r)!=null?t.toLowerCase():null;$e[t]=n}return i}});var Qe=/^(?:input|select|textarea|button)$/i;h.fn.extend({prop:function(e,t){return F(this,h.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[h.propFix[e]||e]})}});h.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,o){var r,i,n,a=e.nodeType;if(!e||a===3||a===8||a===2){return}n=a!==1||!h.isXMLDoc(e);if(n){t=h.propFix[t]||t;i=h.propHooks[t]}if(o!==undefined){return i&&"set"in i&&(r=i.set(e,o,t))!==undefined?r:e[t]=o}else{return i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]}},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Qe.test(e.nodeName)||e.href?e.tabIndex:-1}}}});if(!u.optSelected){h.propHooks.selected={get:function(e){var t=e.parentNode;if(t&&t.parentNode){t.parentNode.selectedIndex}return null}}}h.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){h.propFix[this.toLowerCase()]=this});var et=/[\t\r\n\f]/g;h.fn.extend({addClass:function(e){var t,o,r,i,n,a,l=typeof e==="string"&&e,s=0,p=this.length;if(h.isFunction(e)){return this.each(function(t){h(this).addClass(e.call(this,t,this.className))})}if(l){t=(e||"").match(L)||[];for(;s<p;s++){o=this[s];r=o.nodeType===1&&(o.className?(" "+o.className+" ").replace(et," "):" ");if(r){n=0;while(i=t[n++]){if(r.indexOf(" "+i+" ")<0){r+=i+" "}}a=h.trim(r);if(o.className!==a){o.className=a}}}}return this},removeClass:function(e){var t,o,r,i,n,a,l=arguments.length===0||typeof e==="string"&&e,s=0,p=this.length;if(h.isFunction(e)){return this.each(function(t){h(this).removeClass(e.call(this,t,this.className))})}if(l){t=(e||"").match(L)||[];for(;s<p;s++){o=this[s];r=o.nodeType===1&&(o.className?(" "+o.className+" ").replace(et," "):"");if(r){n=0;while(i=t[n++]){while(r.indexOf(" "+i+" ")>=0){r=r.replace(" "+i+" "," ")}}a=e?h.trim(r):"";if(o.className!==a){o.className=a}}}}return this},toggleClass:function(e,t){var o=typeof e;if(typeof t==="boolean"&&o==="string"){return t?this.addClass(e):this.removeClass(e)}if(h.isFunction(e)){return this.each(function(o){h(this).toggleClass(e.call(this,o,this.className,t),t)})}return this.each(function(){if(o==="string"){var t,r=0,i=h(this),n=e.match(L)||[];while(t=n[r++]){if(i.hasClass(t)){i.removeClass(t)}else{i.addClass(t)}}}else if(o===X||o==="boolean"){if(this.className){D.set(this,"__className__",this.className)}this.className=this.className||e===false?"":D.get(this,"__className__")||""}})},hasClass:function(e){var t=" "+e+" ",o=0,r=this.length;for(;o<r;o++){if(this[o].nodeType===1&&(" "+this[o].className+" ").replace(et," ").indexOf(t)>=0){return true}}return false}});var tt=/\r/g;h.fn.extend({val:function(e){var t,o,r,i=this[0];if(!arguments.length){if(i){t=h.valHooks[i.type]||h.valHooks[i.nodeName.toLowerCase()];if(t&&"get"in t&&(o=t.get(i,"value"))!==undefined){return o}o=i.value;return typeof o==="string"?o.replace(tt,""):o==null?"":o}return}r=h.isFunction(e);return this.each(function(o){var i;if(this.nodeType!==1){return}if(r){i=e.call(this,o,h(this).val())}else{i=e}if(i==null){i=""}else if(typeof i==="number"){i+=""}else if(h.isArray(i)){i=h.map(i,function(e){return e==null?"":e+""})}t=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined){this.value=i}})}});h.extend({valHooks:{option:{get:function(e){var t=h.find.attr(e,"value");return t!=null?t:h.trim(h.text(e))}},select:{get:function(e){var t,o,r=e.options,i=e.selectedIndex,n=e.type==="select-one"||i<0,a=n?null:[],l=n?i+1:r.length,s=i<0?l:n?i:0;for(;s<l;s++){o=r[s];if((o.selected||s===i)&&(u.optDisabled?!o.disabled:o.getAttribute("disabled")===null)&&(!o.parentNode.disabled||!h.nodeName(o.parentNode,"optgroup"))){t=h(o).val();if(n){return t}a.push(t)}}return a},set:function(e,t){var o,r,i=e.options,n=h.makeArray(t),a=i.length;while(a--){r=i[a];if(r.selected=h.inArray(r.value,n)>=0){o=true}}if(!o){e.selectedIndex=-1}return n}}}});h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(e,t){if(h.isArray(t)){return e.checked=h.inArray(h(e).val(),t)>=0}}};if(!u.checkOn){h.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value}}});h.each(("blur focus focusin focusout load resize scroll unload click dblclick "+"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave "+"change select submit keydown keypress keyup error contextmenu").split(" "),function(e,t){h.fn[t]=function(e,o){return arguments.length>0?this.on(t,null,e,o):this.trigger(t)}});h.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,o){return this.on(e,null,t,o)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,o,r){return this.on(t,e,o,r)},undelegate:function(e,t,o){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",o)}});var ot=h.now();var rt=/\?/;h.parseJSON=function(e){return JSON.parse(e+"")};h.parseXML=function(e){var t,o;if(!e||typeof e!=="string"){return null}try{o=new DOMParser;t=o.parseFromString(e,"text/xml")}catch(r){t=undefined}if(!t||t.getElementsByTagName("parsererror").length){h.error("Invalid XML: "+e)}return t};var it=/#.*$/,nt=/([?&])_=[^&]*/,at=/^(.*?):[ \t]*([^\r\n]*)$/gm,lt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,st=/^(?:GET|HEAD)$/,pt=/^\/\//,ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ct={},gt={},ht="*/".concat("*"),ft=e.location.href,dt=ut.exec(ft.toLowerCase())||[];function yt(e){return function(t,o){if(typeof t!=="string"){o=t;t="*"}var r,i=0,n=t.toLowerCase().match(L)||[];if(h.isFunction(o)){while(r=n[i++]){if(r[0]==="+"){r=r.slice(1)||"*";(e[r]=e[r]||[]).unshift(o)}else{(e[r]=e[r]||[]).push(o)}}}}}function mt(e,t,o,r){var i={},n=e===gt;function a(l){var s;i[l]=true;h.each(e[l]||[],function(e,l){var p=l(t,o,r);if(typeof p==="string"&&!n&&!i[p]){t.dataTypes.unshift(p);a(p);return false}else if(n){return!(s=p)}});return s}return a(t.dataTypes[0])||!i["*"]&&a("*")}function vt(e,t){var o,r,i=h.ajaxSettings.flatOptions||{};for(o in t){if(t[o]!==undefined){(i[o]?e:r||(r={}))[o]=t[o]}}if(r){h.extend(true,e,r)}return e}function _t(e,t,o){var r,i,n,a,l=e.contents,s=e.dataTypes;while(s[0]==="*"){s.shift();if(r===undefined){r=e.mimeType||t.getResponseHeader("Content-Type")}}if(r){for(i in l){if(l[i]&&l[i].test(r)){s.unshift(i);break}}}if(s[0]in o){n=s[0]}else{for(i in o){if(!s[0]||e.converters[i+" "+s[0]]){n=i;break}if(!a){a=i}}n=n||a}if(n){if(n!==s[0]){s.unshift(n)}return o[n]}}function xt(e,t,o,r){var i,n,a,l,s,p={},u=e.dataTypes.slice();if(u[1]){for(a in e.converters){p[a.toLowerCase()]=e.converters[a]}}n=u.shift();while(n){if(e.responseFields[n]){o[e.responseFields[n]]=t}if(!s&&r&&e.dataFilter){t=e.dataFilter(t,e.dataType)}s=n;n=u.shift();if(n){if(n==="*"){n=s}else if(s!=="*"&&s!==n){a=p[s+" "+n]||p["* "+n];if(!a){for(i in p){l=i.split(" ");
if(l[1]===n){a=p[s+" "+l[0]]||p["* "+l[0]];if(a){if(a===true){a=p[i]}else if(p[i]!==true){n=l[0];u.unshift(l[1])}break}}}}if(a!==true){if(a&&e["throws"]){t=a(t)}else{try{t=a(t)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+s+" to "+n}}}}}}}return{state:"success",data:t}}h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ft,type:"GET",isLocal:lt.test(dt[1]),global:true,processData:true,async:true,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ht,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":true,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:true,context:true}},ajaxSetup:function(e,t){return t?vt(vt(e,h.ajaxSettings),t):vt(h.ajaxSettings,e)},ajaxPrefilter:yt(ct),ajaxTransport:yt(gt),ajax:function(e,t){if(typeof e==="object"){t=e;e=undefined}t=t||{};var o,r,i,n,a,l,s,p,u=h.ajaxSetup({},t),c=u.context||u,g=u.context&&(c.nodeType||c.jquery)?h(c):h.event,f=h.Deferred(),d=h.Callbacks("once memory"),y=u.statusCode||{},m={},v={},_=0,x="canceled",S={readyState:0,getResponseHeader:function(e){var t;if(_===2){if(!n){n={};while(t=at.exec(i)){n[t[1].toLowerCase()]=t[2]}}t=n[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return _===2?i:null},setRequestHeader:function(e,t){var o=e.toLowerCase();if(!_){e=v[o]=v[o]||e;m[e]=t}return this},overrideMimeType:function(e){if(!_){u.mimeType=e}return this},statusCode:function(e){var t;if(e){if(_<2){for(t in e){y[t]=[y[t],e[t]]}}else{S.always(e[S.status])}}return this},abort:function(e){var t=e||x;if(o){o.abort(t)}E(0,t);return this}};f.promise(S).complete=d.add;S.success=S.done;S.error=S.fail;u.url=((e||u.url||ft)+"").replace(it,"").replace(pt,dt[1]+"//");u.type=t.method||t.type||u.method||u.type;u.dataTypes=h.trim(u.dataType||"*").toLowerCase().match(L)||[""];if(u.crossDomain==null){l=ut.exec(u.url.toLowerCase());u.crossDomain=!!(l&&(l[1]!==dt[1]||l[2]!==dt[2]||(l[3]||(l[1]==="http:"?"80":"443"))!==(dt[3]||(dt[1]==="http:"?"80":"443"))))}if(u.data&&u.processData&&typeof u.data!=="string"){u.data=h.param(u.data,u.traditional)}mt(ct,u,t,S);if(_===2){return S}s=h.event&&u.global;if(s&&h.active++===0){h.event.trigger("ajaxStart")}u.type=u.type.toUpperCase();u.hasContent=!st.test(u.type);r=u.url;if(!u.hasContent){if(u.data){r=u.url+=(rt.test(r)?"&":"?")+u.data;delete u.data}if(u.cache===false){u.url=nt.test(r)?r.replace(nt,"$1_="+ot++):r+(rt.test(r)?"&":"?")+"_="+ot++}}if(u.ifModified){if(h.lastModified[r]){S.setRequestHeader("If-Modified-Since",h.lastModified[r])}if(h.etag[r]){S.setRequestHeader("If-None-Match",h.etag[r])}}if(u.data&&u.hasContent&&u.contentType!==false||t.contentType){S.setRequestHeader("Content-Type",u.contentType)}S.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+(u.dataTypes[0]!=="*"?", "+ht+"; q=0.01":""):u.accepts["*"]);for(p in u.headers){S.setRequestHeader(p,u.headers[p])}if(u.beforeSend&&(u.beforeSend.call(c,S,u)===false||_===2)){return S.abort()}x="abort";for(p in{success:1,error:1,complete:1}){S[p](u[p])}o=mt(gt,u,t,S);if(!o){E(-1,"No Transport")}else{S.readyState=1;if(s){g.trigger("ajaxSend",[S,u])}if(u.async&&u.timeout>0){a=setTimeout(function(){S.abort("timeout")},u.timeout)}try{_=1;o.send(m,E)}catch(P){if(_<2){E(-1,P)}else{throw P}}}function E(e,t,n,l){var p,m,v,x,P,E=t;if(_===2){return}_=2;if(a){clearTimeout(a)}o=undefined;i=l||"";S.readyState=e>0?4:0;p=e>=200&&e<300||e===304;if(n){x=_t(u,S,n)}x=xt(u,x,S,p);if(p){if(u.ifModified){P=S.getResponseHeader("Last-Modified");if(P){h.lastModified[r]=P}P=S.getResponseHeader("etag");if(P){h.etag[r]=P}}if(e===204||u.type==="HEAD"){E="nocontent"}else if(e===304){E="notmodified"}else{E=x.state;m=x.data;v=x.error;p=!v}}else{v=E;if(e||!E){E="error";if(e<0){e=0}}}S.status=e;S.statusText=(t||E)+"";if(p){f.resolveWith(c,[m,E,S])}else{f.rejectWith(c,[S,E,v])}S.statusCode(y);y=undefined;if(s){g.trigger(p?"ajaxSuccess":"ajaxError",[S,u,p?m:v])}d.fireWith(c,[S,E]);if(s){g.trigger("ajaxComplete",[S,u]);if(!--h.active){h.event.trigger("ajaxStop")}}}return S},getJSON:function(e,t,o){return h.get(e,t,o,"json")},getScript:function(e,t){return h.get(e,undefined,t,"script")}});h.each(["get","post"],function(e,t){h[t]=function(e,o,r,i){if(h.isFunction(o)){i=i||r;r=o;o=undefined}return h.ajax({url:e,type:t,dataType:i,data:o,success:r})}});h._evalUrl=function(e){return h.ajax({url:e,type:"GET",dataType:"script",async:false,global:false,"throws":true})};h.fn.extend({wrapAll:function(e){var t;if(h.isFunction(e)){return this.each(function(t){h(this).wrapAll(e.call(this,t))})}if(this[0]){t=h(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){t.insertBefore(this[0])}t.map(function(){var e=this;while(e.firstElementChild){e=e.firstElementChild}return e}).append(this)}return this},wrapInner:function(e){if(h.isFunction(e)){return this.each(function(t){h(this).wrapInner(e.call(this,t))})}return this.each(function(){var t=h(this),o=t.contents();if(o.length){o.wrapAll(e)}else{t.append(e)}})},wrap:function(e){var t=h.isFunction(e);return this.each(function(o){h(this).wrapAll(t?e.call(this,o):e)})},unwrap:function(){return this.parent().each(function(){if(!h.nodeName(this,"body")){h(this).replaceWith(this.childNodes)}}).end()}});h.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0};h.expr.filters.visible=function(e){return!h.expr.filters.hidden(e)};var St=/%20/g,Pt=/\[\]$/,Et=/\r?\n/g,Tt=/^(?:submit|button|image|reset|file)$/i,bt=/^(?:input|select|textarea|keygen)/i;function Mt(e,t,o,r){var i;if(h.isArray(t)){h.each(t,function(t,i){if(o||Pt.test(e)){r(e,i)}else{Mt(e+"["+(typeof i==="object"?t:"")+"]",i,o,r)}})}else if(!o&&h.type(t)==="object"){for(i in t){Mt(e+"["+i+"]",t[i],o,r)}}else{r(e,t)}}h.param=function(e,t){var o,r=[],i=function(e,t){t=h.isFunction(t)?t():t==null?"":t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===undefined){t=h.ajaxSettings&&h.ajaxSettings.traditional}if(h.isArray(e)||e.jquery&&!h.isPlainObject(e)){h.each(e,function(){i(this.name,this.value)})}else{for(o in e){Mt(o,e[o],t,i)}}return r.join("&").replace(St,"+")};h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=h.prop(this,"elements");return e?h.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!h(this).is(":disabled")&&bt.test(this.nodeName)&&!Tt.test(e)&&(this.checked||!K.test(e))}).map(function(e,t){var o=h(this).val();return o==null?null:h.isArray(o)?h.map(o,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:o.replace(Et,"\r\n")}}).get()}});h.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ct=0,Rt={},wt={0:200,1223:204},Lt=h.ajaxSettings.xhr();if(e.attachEvent){e.attachEvent("onunload",function(){for(var e in Rt){Rt[e]()}})}u.cors=!!Lt&&"withCredentials"in Lt;u.ajax=Lt=!!Lt;h.ajaxTransport(function(e){var t;if(u.cors||Lt&&!e.crossDomain){return{send:function(o,r){var i,n=e.xhr(),a=++Ct;n.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields){for(i in e.xhrFields){n[i]=e.xhrFields[i]}}if(e.mimeType&&n.overrideMimeType){n.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!o["X-Requested-With"]){o["X-Requested-With"]="XMLHttpRequest"}for(i in o){n.setRequestHeader(i,o[i])}t=function(e){return function(){if(t){delete Rt[a];t=n.onload=n.onerror=null;if(e==="abort"){n.abort()}else if(e==="error"){r(n.status,n.statusText)}else{r(wt[n.status]||n.status,n.statusText,typeof n.responseText==="string"?{text:n.responseText}:undefined,n.getAllResponseHeaders())}}}};n.onload=t();n.onerror=t("error");t=Rt[a]=t("abort");try{n.send(e.hasContent&&e.data||null)}catch(l){if(t){throw l}}},abort:function(){if(t){t()}}}}});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){h.globalEval(e);return e}}});h.ajaxPrefilter("script",function(e){if(e.cache===undefined){e.cache=false}if(e.crossDomain){e.type="GET"}});h.ajaxTransport("script",function(e){if(e.crossDomain){var t,o;return{send:function(r,i){t=h("<script>").prop({async:true,charset:e.scriptCharset,src:e.url}).on("load error",o=function(e){t.remove();o=null;if(e){i(e.type==="error"?404:200,e.type)}});c.head.appendChild(t[0])},abort:function(){if(o){o()}}}}});var It=[],At=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=It.pop()||h.expando+"_"+ot++;this[e]=true;return e}});h.ajaxPrefilter("json jsonp",function(t,o,r){var i,n,a,l=t.jsonp!==false&&(At.test(t.url)?"url":typeof t.data==="string"&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(t.data)&&"data");if(l||t.dataTypes[0]==="jsonp"){i=t.jsonpCallback=h.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback;if(l){t[l]=t[l].replace(At,"$1"+i)}else if(t.jsonp!==false){t.url+=(rt.test(t.url)?"&":"?")+t.jsonp+"="+i}t.converters["script json"]=function(){if(!a){h.error(i+" was not called")}return a[0]};t.dataTypes[0]="json";n=e[i];e[i]=function(){a=arguments};r.always(function(){e[i]=n;if(t[i]){t.jsonpCallback=o.jsonpCallback;It.push(i)}if(a&&h.isFunction(n)){n(a[0])}a=n=undefined});return"script"}});h.parseHTML=function(e,t,o){if(!e||typeof e!=="string"){return null}if(typeof t==="boolean"){o=t;t=false}t=t||c;var r=S.exec(e),i=!o&&[];if(r){return[t.createElement(r[1])]}r=h.buildFragment([e],t,i);if(i&&i.length){h(i).remove()}return h.merge([],r.childNodes)};var Ot=h.fn.load;h.fn.load=function(e,t,o){if(typeof e!=="string"&&Ot){return Ot.apply(this,arguments)}var r,i,n,a=this,l=e.indexOf(" ");if(l>=0){r=h.trim(e.slice(l));e=e.slice(0,l)}if(h.isFunction(t)){o=t;t=undefined}else if(t&&typeof t==="object"){i="POST"}if(a.length>0){h.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){n=arguments;a.html(r?h("<div>").append(h.parseHTML(e)).find(r):e)}).complete(o&&function(e,t){a.each(o,n||[e.responseText,t,e])})}return this};h.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){h.fn[t]=function(e){return this.on(t,e)}});h.expr.filters.animated=function(e){return h.grep(h.timers,function(t){return e===t.elem}).length};var Nt=e.document.documentElement;function Ft(e){return h.isWindow(e)?e:e.nodeType===9&&e.defaultView}h.offset={setOffset:function(e,t,o){var r,i,n,a,l,s,p,u=h.css(e,"position"),c=h(e),g={};if(u==="static"){e.style.position="relative"}l=c.offset();n=h.css(e,"top");s=h.css(e,"left");p=(u==="absolute"||u==="fixed")&&(n+s).indexOf("auto")>-1;if(p){r=c.position();a=r.top;i=r.left}else{a=parseFloat(n)||0;i=parseFloat(s)||0}if(h.isFunction(t)){t=t.call(e,o,l)}if(t.top!=null){g.top=t.top-l.top+a}if(t.left!=null){g.left=t.left-l.left+i}if("using"in t){t.using.call(e,g)}else{c.css(g)}}};h.fn.extend({offset:function(e){if(arguments.length){return e===undefined?this:this.each(function(t){h.offset.setOffset(this,e,t)})}var t,o,r=this[0],i={top:0,left:0},n=r&&r.ownerDocument;if(!n){return}t=n.documentElement;if(!h.contains(t,r)){return i}if(typeof r.getBoundingClientRect!==X){i=r.getBoundingClientRect()}o=Ft(n);return{top:i.top+o.pageYOffset-t.clientTop,left:i.left+o.pageXOffset-t.clientLeft}},position:function(){if(!this[0]){return}var e,t,o=this[0],r={top:0,left:0};if(h.css(o,"position")==="fixed"){t=o.getBoundingClientRect()}else{e=this.offsetParent();t=this.offset();if(!h.nodeName(e[0],"html")){r=e.offset()}r.top+=h.css(e[0],"borderTopWidth",true);r.left+=h.css(e[0],"borderLeftWidth",true)}return{top:t.top-r.top-h.css(o,"marginTop",true),left:t.left-r.left-h.css(o,"marginLeft",true)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||Nt;while(e&&(!h.nodeName(e,"html")&&h.css(e,"position")==="static")){e=e.offsetParent}return e||Nt})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var r="pageYOffset"===o;h.fn[t]=function(i){return F(this,function(t,i,n){var a=Ft(t);if(n===undefined){return a?a[o]:t[i]}if(a){a.scrollTo(!r?n:e.pageXOffset,r?n:e.pageYOffset)}else{t[i]=n}},t,i,arguments.length,null)}});h.each(["top","left"],function(e,t){h.cssHooks[t]=Te(u.pixelPosition,function(e,o){if(o){o=Ee(e,t);return Se.test(o)?h(e).position()[t]+"px":o}})});h.each({Height:"height",Width:"width"},function(e,t){h.each({padding:"inner"+e,content:t,"":"outer"+e},function(o,r){h.fn[r]=function(r,i){var n=arguments.length&&(o||typeof r!=="boolean"),a=o||(r===true||i===true?"margin":"border");return F(this,function(t,o,r){var i;if(h.isWindow(t)){return t.document.documentElement["client"+e]}if(t.nodeType===9){i=t.documentElement;return Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])}return r===undefined?h.css(t,o,a):h.style(t,o,r,a)},t,n?r:undefined,n,null)}})});h.fn.size=function(){return this.length};h.fn.andSelf=h.fn.addBack;if(typeof define==="function"&&define.amd){define("jquery",[],function(){return h})}var Gt=e.jQuery,Dt=e.$;h.noConflict=function(t){if(e.$===h){e.$=Dt}if(t&&e.jQuery===h){e.jQuery=Gt}return h};if(typeof t===X){e.jQuery=e.$=h}return h})},{}],30:[function(require,module,exports){(function(global){(function(e,t){if(typeof exports==="object"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{e.ol=t()}})(this,function(){var OPENLAYERS={};var goog=this.goog={};this.CLOSURE_NO_DEPS=true;var COMPILED=false;var goog=goog||{};goog.global=this;goog.global.CLOSURE_UNCOMPILED_DEFINES;goog.global.CLOSURE_DEFINES;goog.isDef=function(e){return e!==void 0};goog.exportPath_=function(e,t,o){var r=e.split(".");var i=o||goog.global;if(!(r[0]in i)&&i.execScript){i.execScript("var "+r[0])}for(var n;r.length&&(n=r.shift());){if(!r.length&&goog.isDef(t)){i[n]=t}else if(i[n]){i=i[n]}else{i=i[n]={}}}};goog.define=function(e,t){var o=t;if(!COMPILED){if(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)){o=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]}else if(goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)){o=goog.global.CLOSURE_DEFINES[e]}}goog.exportPath_(e,o)};goog.define("goog.DEBUG",true);goog.define("goog.LOCALE","en");goog.define("goog.TRUSTED_SITE",true);goog.define("goog.STRICT_MODE_COMPATIBLE",false);goog.define("goog.DISALLOW_TEST_ONLY_CODE",COMPILED&&!goog.DEBUG);goog.define("goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING",false);goog.provide=function(e){if(goog.isInModuleLoader_()){throw Error("goog.provide can not be used within a goog.module.")}if(!COMPILED){if(goog.isProvided_(e)){throw Error('Namespace "'+e+'" already declared.')}}goog.constructNamespace_(e)};goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];var o=e;while(o=o.substring(0,o.lastIndexOf("."))){if(goog.getObjectByName(o)){break}goog.implicitNamespaces_[o]=true}}goog.exportPath_(e,t)};goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/;goog.module=function(e){if(!goog.isString(e)||!e||e.search(goog.VALID_MODULE_RE_)==-1){throw Error("Invalid module identifier")}if(!goog.isInModuleLoader_()){throw Error("Module "+e+" has been loaded incorrectly. Note, "+"modules cannot be loaded as normal scripts. They require some kind of "+"pre-processing step. You're likely trying to load a module via a "+"script tag or as a part of a concatenated bundle without rewriting the "+"module. For more info see: "+"https://github.com/google/closure-library/wiki/goog.module:-an-ES6-module-like-alternative-to-goog.provide.")}if(goog.moduleLoaderState_.moduleName){throw Error("goog.module may only be called once per module.")}goog.moduleLoaderState_.moduleName=e;if(!COMPILED){if(goog.isProvided_(e)){throw Error('Namespace "'+e+'" already declared.')}delete goog.implicitNamespaces_[e]}};goog.module.get=function(e){return goog.module.getInternal_(e)};goog.module.getInternal_=function(e){if(!COMPILED){if(e in goog.loadedModules_){return goog.loadedModules_[e]}else if(!goog.implicitNamespaces_[e]){var t=goog.getObjectByName(e);return t!=null?t:null}}return null};goog.moduleLoaderState_=null;goog.isInModuleLoader_=function(){return goog.moduleLoaderState_!=null};goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_()){throw new Error("goog.module.declareLegacyNamespace must be called from "+"within a goog.module")}if(!COMPILED&&!goog.moduleLoaderState_.moduleName){throw Error("goog.module must be called prior to "+"goog.module.declareLegacyNamespace.")}goog.moduleLoaderState_.declareLegacyNamespace=true};goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE){e=e||"";throw Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))}};goog.forwardDeclare=function(e){};goog.forwardDeclare("Document");goog.forwardDeclare("HTMLScriptElement");goog.forwardDeclare("XMLHttpRequest");if(!COMPILED){goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))};goog.implicitNamespaces_={"goog.module":true}}goog.getObjectByName=function(e,t){var o=e.split(".");var r=t||goog.global;for(var i;i=o.shift();){if(goog.isDefAndNotNull(r[i])){r=r[i]}else{return null}}return r};goog.globalize=function(e,t){var o=t||goog.global;for(var r in e){o[r]=e[r]}};goog.addDependency=function(e,t,o,r){if(goog.DEPENDENCIES_ENABLED){var i,n;var a=e.replace(/\\/g,"/");var l=goog.dependencies_;if(!r||typeof r==="boolean"){r=r?{module:"goog"}:{}}for(var s=0;i=t[s];s++){l.nameToPath[i]=a;l.loadFlags[a]=r}for(var p=0;n=o[p];p++){if(!(a in l.requires)){l.requires[a]={}}l.requires[a][n]=true}}};goog.define("goog.ENABLE_DEBUG_LOADER",true);goog.logToConsole_=function(e){if(goog.global.console){goog.global.console["error"](e)}};goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_){goog.maybeProcessDeferredDep_(e)}if(goog.isProvided_(e)){if(goog.isInModuleLoader_()){return goog.module.getInternal_(e)}}else if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t){goog.writeScripts_(t)}else{var o="goog.require could not find: "+e;goog.logToConsole_(o);throw Error(o)}}return null}};goog.basePath="";goog.global.CLOSURE_BASE_PATH;goog.global.CLOSURE_NO_DEPS;goog.global.CLOSURE_IMPORT_SCRIPT;goog.nullFunction=function(){};goog.abstractMethod=function(){throw Error("unimplemented abstract method")};goog.addSingletonGetter=function(e){e.instance_=undefined;e.getInstance=function(){if(e.instance_){return e.instance_}if(goog.DEBUG){goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e}return e.instance_=new e}};goog.instantiatedSingletons_=[];goog.define("goog.LOAD_MODULE_USING_EVAL",true);goog.define("goog.SEAL_MODULE_EXPORTS",goog.DEBUG);goog.loadedModules_={};goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER;goog.define("goog.TRANSPILE","detect");goog.define("goog.TRANSPILER","transpile.js");if(goog.DEPENDENCIES_ENABLED){goog.dependencies_={loadFlags:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}};goog.inHtmlDocument_=function(){var e=goog.global.document;return e!=null&&"write"in e};goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH)){goog.basePath=goog.global.CLOSURE_BASE_PATH;return}else if(!goog.inHtmlDocument_()){return}var e=goog.global.document;var t=e.getElementsByTagName("SCRIPT");for(var o=t.length-1;o>=0;--o){var r=t[o];var i=r.src;var n=i.lastIndexOf("?");var a=n==-1?i.length:n;if(i.substr(a-7,7)=="base.js"){goog.basePath=i.substr(0,a-7);return}}};goog.importScript_=function(e,t){var o=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;if(o(e,t)){goog.dependencies_.written[e]=true}};goog.IS_OLD_IE_=!!(!goog.global.atob&&goog.global.document&&goog.global.document.all);goog.importProcessedScript_=function(e,t,o){var r='goog.retrieveAndExec_("'+e+'", '+t+", "+o+");";goog.importScript_("",r)};goog.queuedModules_=[];goog.wrapModule_=function(e,t){if(!goog.LOAD_MODULE_USING_EVAL||!goog.isDef(goog.global.JSON)){return""+"goog.loadModule(function(exports) {"+'"use strict";'+t+"\n"+";return exports"+"});"+"\n//# sourceURL="+e+"\n"}else{return""+"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");"}};goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var t=goog.queuedModules_;goog.queuedModules_=[];for(var o=0;o<e;o++){var r=t[o];goog.maybeProcessDeferredPath_(r)}}};goog.maybeProcessDeferredDep_=function(e){if(goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)){var t=goog.getPathFromDeps_(e);goog.maybeProcessDeferredPath_(goog.basePath+t)}};goog.isDeferredModule_=function(e){var t=goog.getPathFromDeps_(e);var o=t&&goog.dependencies_.loadFlags[t]||{};var r=o["lang"]||"es3";if(t&&(o["module"]=="goog"||goog.needsTranspile_(r))){var i=goog.basePath+t;return i in goog.dependencies_.deferred}return false};goog.allDepsAreAvailable_=function(e){var t=goog.getPathFromDeps_(e);if(t&&t in goog.dependencies_.requires){for(var o in goog.dependencies_.requires[t]){if(!goog.isProvided_(o)&&!goog.isDeferredModule_(o)){return false}}}return true};goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e];goog.globalEval(t)}};goog.loadModuleFromUrl=function(e){goog.retrieveAndExec_(e,true,false)};goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"></'+"script>")};goog.appendScriptSrcNode_=function(e){var t=goog.global.document;var o=t.createElement("script");o.type="text/javascript";o.src=e;o.defer=false;o.async=false;t.head.appendChild(o)};goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var o=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&o.readyState=="complete"){var r=/\bdeps.js$/.test(e);if(r){return false}else{throw Error('Cannot write "'+e+'" after document load')}}if(t===undefined){if(!goog.IS_OLD_IE_){if(goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING){goog.appendScriptSrcNode_(e)}else{goog.writeScriptSrcNode_(e)}}else{var i=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ";o.write('<script type="text/javascript" src="'+e+'"'+i+"></"+"script>")}}else{o.write('<script type="text/javascript">'+goog.protectScriptTag_(t)+"</"+"script>")}return true}else{return false}};goog.protectScriptTag_=function(e){return e.replace(/<\/(SCRIPT)/gi,"\\x3c\\$1")};goog.needsTranspile_=function(e){if(goog.TRANSPILE=="always"){return true}else if(goog.TRANSPILE=="never"){return false}else if(!goog.requiresTranspilation_){goog.requiresTranspilation_=goog.createRequiresTranspilation_()}if(e in goog.requiresTranspilation_){return goog.requiresTranspilation_[e]}else{throw new Error("Unknown language mode: "+e)}};goog.requiresTranspilation_=null;goog.lastNonModuleScriptIndex_=0;goog.onScriptLoad_=function(e,t){if(e.readyState=="complete"&&goog.lastNonModuleScriptIndex_==t){goog.loadQueuedModules_()}return true};goog.writeScripts_=function(e){var t=[];var o={};var r=goog.dependencies_;function i(e){if(e in r.written){return}if(e in r.visited){return}r.visited[e]=true;if(e in r.requires){for(var n in r.requires[e]){if(!goog.isProvided_(n)){if(n in r.nameToPath){i(r.nameToPath[n])}else{throw Error("Undefined nameToPath for "+n)}}}}if(!(e in o)){o[e]=true;t.push(e)}}i(e);for(var n=0;n<t.length;n++){var a=t[n];goog.dependencies_.written[a]=true}var l=goog.moduleLoaderState_;goog.moduleLoaderState_=null;for(var n=0;n<t.length;n++){var a=t[n];if(a){var s=r.loadFlags[a]||{};var p=s["lang"]||"es3";var u=goog.needsTranspile_(p);if(s["module"]=="goog"||u){goog.importProcessedScript_(goog.basePath+a,s["module"]=="goog",u)}else{goog.importScript_(goog.basePath+a)}}else{goog.moduleLoaderState_=l;throw Error("Undefined script input")}}goog.moduleLoaderState_=l};goog.getPathFromDeps_=function(e){if(e in goog.dependencies_.nameToPath){return goog.dependencies_.nameToPath[e]}else{return null}};goog.findBasePath_();if(!goog.global.CLOSURE_NO_DEPS){goog.importScript_(goog.basePath+"deps.js")}}goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:undefined,declareLegacyNamespace:false};var o;if(goog.isFunction(e)){o=e.call(undefined,{})}else if(goog.isString(e)){o=goog.loadModuleFromSource_.call(undefined,e)}else{throw Error("Invalid module definition")}var r=goog.moduleLoaderState_.moduleName;if(!goog.isString(r)||!r){throw Error('Invalid module name "'+r+'"')}if(goog.moduleLoaderState_.declareLegacyNamespace){goog.constructNamespace_(r,o)}else if(goog.SEAL_MODULE_EXPORTS&&Object.seal&&goog.isObject(o)){Object.seal(o)}goog.loadedModules_[r]=o}finally{goog.moduleLoaderState_=t}};goog.loadModuleFromSource_=function(){"use strict";var exports={};eval(arguments[0]);return exports};goog.normalizePath_=function(e){var t=e.split("/");var o=0;while(o<t.length){if(t[o]=="."){t.splice(o,1)}else if(o&&t[o]==".."&&t[o-1]&&t[o-1]!=".."){t.splice(--o,2)}else{o++}}return t.join("/")};goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC){return goog.global.CLOSURE_LOAD_FILE_SYNC(e)}else{try{var t=new goog.global["XMLHttpRequest"];t.open("get",e,false);t.send();return t.status==0||t.status==200?t.responseText:null}catch(o){return null}}};goog.retrieveAndExec_=function(e,t,o){if(!COMPILED){var r=e;e=goog.normalizePath_(e);var i=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;var n=goog.loadFileSync_(e);if(n==null){throw new Error('Load of "'+e+'" failed')}if(o){n=goog.transpile_.call(goog.global,n,e)}if(t){n=goog.wrapModule_(e,n)}else{n+="\n//# sourceURL="+e}var a=goog.IS_OLD_IE_;if(a){goog.dependencies_.deferred[r]=n;goog.queuedModules_.push(r)}else{i(e,n)}}};goog.transpile_=function(code,path){var jscomp=goog.global["$jscomp"];if(!jscomp){goog.global["$jscomp"]=jscomp={}}var transpile=jscomp.transpile;if(!transpile){var transpilerPath=goog.basePath+goog.TRANSPILER;var transpilerCode=goog.loadFileSync_(transpilerPath);if(transpilerCode){eval(transpilerCode+"\n//# sourceURL="+transpilerPath);if(goog.global["$gwtExport"]&&goog.global["$gwtExport"]["$jscomp"]&&!goog.global["$gwtExport"]["$jscomp"]["transpile"]){throw new Error('The transpiler did not properly export the "transpile" '+"method. $gwtExport: "+JSON.stringify(goog.global["$gwtExport"]))}goog.global["$jscomp"].transpile=goog.global["$gwtExport"]["$jscomp"]["transpile"];jscomp=goog.global["$jscomp"];transpile=jscomp.transpile}}if(!transpile){var suffix=" requires transpilation but no transpiler was found.";transpile=jscomp.transpile=function(e,t){goog.logToConsole_(t+suffix);return e}}return transpile(code,path)};goog.typeOf=function(e){var t=typeof e;if(t=="object"){if(e){if(e instanceof Array){return"array"}else if(e instanceof Object){return t}var o=Object.prototype.toString.call(e);if(o=="[object Window]"){return"object"}if(o=="[object Array]"||typeof e.length=="number"&&typeof e.splice!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("splice")){return"array"}if(o=="[object Function]"||typeof e.call!="undefined"&&typeof e.propertyIsEnumerable!="undefined"&&!e.propertyIsEnumerable("call")){return"function"}}else{return"null"}}else if(t=="function"&&typeof e.call=="undefined"){return"object"}return t};goog.isNull=function(e){return e===null};goog.isDefAndNotNull=function(e){return e!=null};goog.isArray=function(e){return goog.typeOf(e)=="array"};goog.isArrayLike=function(e){var t=goog.typeOf(e);return t=="array"||t=="object"&&typeof e.length=="number"};goog.isDateLike=function(e){return goog.isObject(e)&&typeof e.getFullYear=="function"};goog.isString=function(e){return typeof e=="string"};goog.isBoolean=function(e){return typeof e=="boolean"};goog.isNumber=function(e){return typeof e=="number"};goog.isFunction=function(e){return goog.typeOf(e)=="function"};goog.isObject=function(e){var t=typeof e;return t=="object"&&e!=null||t=="function"};goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)};goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]};goog.removeUid=function(e){if(e!==null&&"removeAttribute"in e){e.removeAttribute(goog.UID_PROPERTY_)}try{delete e[goog.UID_PROPERTY_]}catch(t){}};goog.UID_PROPERTY_="closure_uid_"+(Math.random()*1e9>>>0);goog.uidCounter_=0;goog.getHashCode=goog.getUid;goog.removeHashCode=goog.removeUid;goog.cloneObject=function(e){var t=goog.typeOf(e);if(t=="object"||t=="array"){if(e.clone){return e.clone()}var o=t=="array"?[]:{};for(var r in e){o[r]=goog.cloneObject(e[r])}return o}return e};goog.bindNative_=function(e,t,o){return e.call.apply(e.bind,arguments)};goog.bindJs_=function(e,t,o){if(!e){throw new Error}if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(o,r);return e.apply(t,o)}}else{return function(){return e.apply(t,arguments)}}};goog.bind=function(e,t,o){if(Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1){goog.bind=goog.bindNative_}else{goog.bind=goog.bindJs_}return goog.bind.apply(null,arguments)};goog.partial=function(e,t){var o=Array.prototype.slice.call(arguments,1);return function(){var t=o.slice();t.push.apply(t,arguments);return e.apply(this,t)}};goog.mixin=function(e,t){for(var o in t){e[o]=t[o]}};goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date};goog.globalEval=function(e){if(goog.global.execScript){goog.global.execScript(e,"JavaScript")}else if(goog.global.eval){if(goog.evalWorksForGlobals_==null){goog.global.eval("var _evalTest_ = 1;");if(typeof goog.global["_evalTest_"]!="undefined"){try{delete goog.global["_evalTest_"]}catch(t){}goog.evalWorksForGlobals_=true}else{goog.evalWorksForGlobals_=false}}if(goog.evalWorksForGlobals_){goog.global.eval(e)}else{var o=goog.global.document;var r=o.createElement("SCRIPT");r.type="text/javascript";r.defer=false;r.appendChild(o.createTextNode(e));o.body.appendChild(r);o.body.removeChild(r)}}else{throw Error("goog.globalEval not available")}};goog.evalWorksForGlobals_=null;goog.cssNameMapping_;goog.cssNameMappingStyle_;goog.getCssName=function(e,t){if(String(e).charAt(0)=="."){throw new Error('className passed in goog.getCssName must not start with ".".'+" You passed: "+e)}var o=function(e){return goog.cssNameMapping_[e]||e};var r=function(e){var t=e.split("-");var r=[];for(var i=0;i<t.length;i++){r.push(o(t[i]))}return r.join("-")};var i;if(goog.cssNameMapping_){i=goog.cssNameMappingStyle_=="BY_WHOLE"?o:r}else{i=function(e){return e}}var n=t?e+"-"+i(t):i(e);if(goog.global.CLOSURE_CSS_NAME_MAP_FN){return goog.global.CLOSURE_CSS_NAME_MAP_FN(n)}return n};goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e;goog.cssNameMappingStyle_=t};goog.global.CLOSURE_CSS_NAME_MAPPING;if(!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING){goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING}goog.getMsg=function(e,t){if(t){e=e.replace(/\{\$([^}]+)}/g,function(e,o){return t!=null&&o in t?t[o]:e})}return e};goog.getMsgWithFallback=function(e,t){return e};goog.exportSymbol=function(e,t,o){goog.exportPath_(e,t,o)};goog.exportProperty=function(e,t,o){e[t]=o};goog.inherits=function(e,t){function o(){}o.prototype=t.prototype;e.superClass_=t.prototype;e.prototype=new o;e.prototype.constructor=e;e.base=function(e,o,r){var i=new Array(arguments.length-2);for(var n=2;n<arguments.length;n++){i[n-2]=arguments[n]}return t.prototype[o].apply(e,i)}};goog.base=function(e,t,o){var r=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!r){throw Error("arguments.caller not defined.  goog.base() cannot be used "+"with strict mode code. See "+"http://www.ecma-international.org/ecma-262/5.1/#sec-C");
}if(r.superClass_){var i=new Array(arguments.length-1);for(var n=1;n<arguments.length;n++){i[n-1]=arguments[n]}return r.superClass_.constructor.apply(e,i)}var a=new Array(arguments.length-2);for(var n=2;n<arguments.length;n++){a[n-2]=arguments[n]}var l=false;for(var s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor){if(s.prototype[t]===r){l=true}else if(l){return s.prototype[t].apply(e,a)}}if(e[t]===r){return e.constructor.prototype[t].apply(e,a)}else{throw Error("goog.base called from a method of one name "+"to a method of a different name")}};goog.scope=function(e){if(goog.isInModuleLoader_()){throw Error("goog.scope is not supported within a goog.module.")}e.call(goog.global)};if(!COMPILED){goog.global["COMPILED"]=COMPILED}goog.defineClass=function(e,t){var o=t.constructor;var r=t.statics;if(!o||o==Object.prototype.constructor){o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}}var i=goog.defineClass.createSealingConstructor_(o,e);if(e){goog.inherits(i,e)}delete t.constructor;delete t.statics;goog.defineClass.applyProperties_(i.prototype,t);if(r!=null){if(r instanceof Function){r(i)}else{goog.defineClass.applyProperties_(i,r)}}return i};goog.defineClass.ClassDescriptor;goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG);goog.defineClass.createSealingConstructor_=function(e,t){if(!goog.defineClass.SEAL_CLASS_INSTANCES){return e}var o=!goog.defineClass.isUnsealable_(t);var r=function(){var t=e.apply(this,arguments)||this;t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_];if(this.constructor===r&&o&&Object.seal instanceof Function){Object.seal(t)}return t};return r};goog.defineClass.isUnsealable_=function(e){return e&&e.prototype&&e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]};goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];goog.defineClass.applyProperties_=function(e,t){var o;for(o in t){if(Object.prototype.hasOwnProperty.call(t,o)){e[o]=t[o]}}for(var r=0;r<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;r++){o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[r];if(Object.prototype.hasOwnProperty.call(t,o)){e[o]=t[o]}}};goog.tagUnsealableClass=function(e){if(!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES){e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=true}};goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable";goog.createRequiresTranspilation_=function(){var requiresTranspilation={es3:false};var transpilationRequiredForAllLaterModes=false;function addNewerLanguageTranspilationCheck(e,t){if(transpilationRequiredForAllLaterModes){requiresTranspilation[e]=true}else if(t()){requiresTranspilation[e]=false}else{requiresTranspilation[e]=true;transpilationRequiredForAllLaterModes=true}}function evalCheck(code){try{return!!eval(code)}catch(ignored){return false}}addNewerLanguageTranspilationCheck("es5",function(){return evalCheck("[1,].length==1")});addNewerLanguageTranspilationCheck("es6",function(){var e="class X{constructor(){if(new.target!=String)throw 1;this.x=42}}"+"let q=Reflect.construct(X,[],String);if(q.x!=42||!(q instanceof "+"String))throw 1;for(const a of[2,3]){if(a==2)continue;function "+"f(z={a}){let a=0;return z.a}{function f(){return 0;}}return f()"+"==3}";return evalCheck('(()=>{"use strict";'+e+"})()")});addNewerLanguageTranspilationCheck("es6-impl",function(){return true});addNewerLanguageTranspilationCheck("es7",function(){return evalCheck("2 ** 2 == 4")});addNewerLanguageTranspilationCheck("es8",function(){return evalCheck("async () => 1, true")});return requiresTranspilation};goog.provide("ol.array");ol.array.binarySearch=function(e,t,o){var r,i;var n=o||ol.array.numberSafeCompareFunction;var a=0;var l=e.length;var s=false;while(a<l){r=a+(l-a>>1);i=+n(e[r],t);if(i<0){a=r+1}else{l=r;s=!i}}return s?a:~a};ol.array.numberSafeCompareFunction=function(e,t){return e>t?1:e<t?-1:0};ol.array.includes=function(e,t){return e.indexOf(t)>=0};ol.array.linearFindNearest=function(e,t,o){var r=e.length;if(e[0]<=t){return 0}else if(t<=e[r-1]){return r-1}else{var i;if(o>0){for(i=1;i<r;++i){if(e[i]<t){return i-1}}}else if(o<0){for(i=1;i<r;++i){if(e[i]<=t){return i}}}else{for(i=1;i<r;++i){if(e[i]==t){return i}else if(e[i]<t){if(e[i-1]-t<t-e[i]){return i-1}else{return i}}}}return r-1}};ol.array.reverseSubArray=function(e,t,o){while(t<o){var r=e[t];e[t]=e[o];e[o]=r;++t;--o}};ol.array.extend=function(e,t){var o;var r=Array.isArray(t)?t:[t];var i=r.length;for(o=0;o<i;o++){e[e.length]=r[o]}};ol.array.remove=function(e,t){var o=e.indexOf(t);var r=o>-1;if(r){e.splice(o,1)}return r};ol.array.find=function(e,t){var o=e.length>>>0;var r;for(var i=0;i<o;i++){r=e[i];if(t(r,i,e)){return r}}return null};ol.array.equals=function(e,t){var o=e.length;if(o!==t.length){return false}for(var r=0;r<o;r++){if(e[r]!==t[r]){return false}}return true};ol.array.stableSort=function(e,t){var o=e.length;var r=Array(e.length);var i;for(i=0;i<o;i++){r[i]={index:i,value:e[i]}}r.sort(function(e,o){return t(e.value,o.value)||e.index-o.index});for(i=0;i<e.length;i++){e[i]=r[i].value}};ol.array.findIndex=function(e,t){var o;var r=!e.every(function(r,i){o=i;return!t(r,i,e)});return r?o:-1};ol.array.isSorted=function(e,t,o){var r=t||ol.array.numberSafeCompareFunction;return e.every(function(t,i){if(i===0){return true}var n=r(e[i-1],t);return!(n>0||o&&n===0)})};goog.provide("ol");ol.ASSUME_TOUCH=false;ol.DEFAULT_MAX_ZOOM=42;ol.DEFAULT_MIN_ZOOM=0;ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD=.5;ol.DEFAULT_TILE_SIZE=256;ol.DEFAULT_WMS_VERSION="1.3.0";ol.DRAG_BOX_HYSTERESIS_PIXELS=8;ol.ENABLE_CANVAS=true;ol.ENABLE_PROJ4JS=true;ol.ENABLE_RASTER_REPROJECTION=true;ol.ENABLE_WEBGL=true;ol.DEBUG_WEBGL=true;ol.INITIAL_ATLAS_SIZE=256;ol.MAX_ATLAS_SIZE=-1;ol.MOUSEWHEELZOOM_MAXDELTA=1;ol.OVERVIEWMAP_MAX_RATIO=.75;ol.OVERVIEWMAP_MIN_RATIO=.1;ol.RASTER_REPROJECTION_MAX_SOURCE_TILES=100;ol.RASTER_REPROJECTION_MAX_SUBDIVISION=10;ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH=.25;ol.SIMPLIFY_TOLERANCE=.5;ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK=1024;ol.VERSION="";ol.WEBGL_MAX_TEXTURE_SIZE;ol.WEBGL_EXTENSIONS;ol.inherits=function(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e};ol.nullFunction=function(){};ol.getUid=function(e){return e.ol_uid||(e.ol_uid=++ol.uidCounter_)};ol.uidCounter_=0;goog.provide("ol.AssertionError");goog.require("ol");ol.AssertionError=function(e){this.message="Assertion failed. See "+(ol.VERSION?"https://openlayers.org/en/"+ol.VERSION.split("-")[0]:"")+"/doc/errors/#"+e+" for details.";this.code=e;this.name="AssertionError"};ol.inherits(ol.AssertionError,Error);goog.provide("ol.asserts");goog.require("ol.AssertionError");ol.asserts.assert=function(e,t){if(!e){throw new ol.AssertionError(t)}};goog.provide("ol.TileRange");ol.TileRange=function(e,t,o,r){this.minX=e;this.maxX=t;this.minY=o;this.maxY=r};ol.TileRange.createOrUpdate=function(e,t,o,r,i){if(i!==undefined){i.minX=e;i.maxX=t;i.minY=o;i.maxY=r;return i}else{return new ol.TileRange(e,t,o,r)}};ol.TileRange.prototype.contains=function(e){return this.containsXY(e[1],e[2])};ol.TileRange.prototype.containsTileRange=function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY};ol.TileRange.prototype.containsXY=function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY};ol.TileRange.prototype.equals=function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY};ol.TileRange.prototype.extend=function(e){if(e.minX<this.minX){this.minX=e.minX}if(e.maxX>this.maxX){this.maxX=e.maxX}if(e.minY<this.minY){this.minY=e.minY}if(e.maxY>this.maxY){this.maxY=e.maxY}};ol.TileRange.prototype.getHeight=function(){return this.maxY-this.minY+1};ol.TileRange.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]};ol.TileRange.prototype.getWidth=function(){return this.maxX-this.minX+1};ol.TileRange.prototype.intersects=function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY};goog.provide("ol.math");goog.require("ol.asserts");ol.math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)};ol.math.cosh=function(){var e;if("cosh"in Math){e=Math.cosh}else{e=function(e){var t=Math.exp(e);return(t+1/t)/2}}return e}();ol.math.roundUpToPowerOfTwo=function(e){ol.asserts.assert(0<e,29);return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))};ol.math.squaredSegmentDistance=function(e,t,o,r,i,n){var a=i-o;var l=n-r;if(a!==0||l!==0){var s=((e-o)*a+(t-r)*l)/(a*a+l*l);if(s>1){o=i;r=n}else if(s>0){o+=a*s;r+=l*s}}return ol.math.squaredDistance(e,t,o,r)};ol.math.squaredDistance=function(e,t,o,r){var i=o-e;var n=r-t;return i*i+n*n};ol.math.solveLinearSystem=function(e){var t=e.length;for(var o=0;o<t;o++){var r=o;var i=Math.abs(e[o][o]);for(var n=o+1;n<t;n++){var a=Math.abs(e[n][o]);if(a>i){i=a;r=n}}if(i===0){return null}var l=e[r];e[r]=e[o];e[o]=l;for(var s=o+1;s<t;s++){var p=-e[s][o]/e[o][o];for(var u=o;u<t+1;u++){if(o==u){e[s][u]=0}else{e[s][u]+=p*e[o][u]}}}}var c=new Array(t);for(var g=t-1;g>=0;g--){c[g]=e[g][t]/e[g][g];for(var h=g-1;h>=0;h--){e[h][t]-=e[h][g]*c[g]}}return c};ol.math.toDegrees=function(e){return e*180/Math.PI};ol.math.toRadians=function(e){return e*Math.PI/180};ol.math.modulo=function(e,t){var o=e%t;return o*t<0?o+t:o};ol.math.lerp=function(e,t,o){return e+o*(t-e)};goog.provide("ol.size");ol.size.buffer=function(e,t,o){if(o===undefined){o=[0,0]}o[0]=e[0]+2*t;o[1]=e[1]+2*t;return o};ol.size.hasArea=function(e){return e[0]>0&&e[1]>0};ol.size.scale=function(e,t,o){if(o===undefined){o=[0,0]}o[0]=e[0]*t+.5|0;o[1]=e[1]*t+.5|0;return o};ol.size.toSize=function(e,t){if(Array.isArray(e)){return e}else{if(t===undefined){t=[e,e]}else{t[0]=t[1]=e}return t}};goog.provide("ol.extent.Corner");ol.extent.Corner={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};goog.provide("ol.extent.Relationship");ol.extent.Relationship={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};goog.provide("ol.extent");goog.require("ol.asserts");goog.require("ol.extent.Corner");goog.require("ol.extent.Relationship");ol.extent.boundingExtent=function(e){var t=ol.extent.createEmpty();for(var o=0,r=e.length;o<r;++o){ol.extent.extendCoordinate(t,e[o])}return t};ol.extent.boundingExtentXYs_=function(e,t,o){var r=Math.min.apply(null,e);var i=Math.min.apply(null,t);var n=Math.max.apply(null,e);var a=Math.max.apply(null,t);return ol.extent.createOrUpdate(r,i,n,a,o)};ol.extent.buffer=function(e,t,o){if(o){o[0]=e[0]-t;o[1]=e[1]-t;o[2]=e[2]+t;o[3]=e[3]+t;return o}else{return[e[0]-t,e[1]-t,e[2]+t,e[3]+t]}};ol.extent.clone=function(e,t){if(t){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}else{return e.slice()}};ol.extent.closestSquaredDistanceXY=function(e,t,o){var r,i;if(t<e[0]){r=e[0]-t}else if(e[2]<t){r=t-e[2]}else{r=0}if(o<e[1]){i=e[1]-o}else if(e[3]<o){i=o-e[3]}else{i=0}return r*r+i*i};ol.extent.containsCoordinate=function(e,t){return ol.extent.containsXY(e,t[0],t[1])};ol.extent.containsExtent=function(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]};ol.extent.containsXY=function(e,t,o){return e[0]<=t&&t<=e[2]&&e[1]<=o&&o<=e[3]};ol.extent.coordinateRelationship=function(e,t){var o=e[0];var r=e[1];var i=e[2];var n=e[3];var a=t[0];var l=t[1];var s=ol.extent.Relationship.UNKNOWN;if(a<o){s=s|ol.extent.Relationship.LEFT}else if(a>i){s=s|ol.extent.Relationship.RIGHT}if(l<r){s=s|ol.extent.Relationship.BELOW}else if(l>n){s=s|ol.extent.Relationship.ABOVE}if(s===ol.extent.Relationship.UNKNOWN){s=ol.extent.Relationship.INTERSECTING}return s};ol.extent.createEmpty=function(){return[Infinity,Infinity,-Infinity,-Infinity]};ol.extent.createOrUpdate=function(e,t,o,r,i){if(i){i[0]=e;i[1]=t;i[2]=o;i[3]=r;return i}else{return[e,t,o,r]}};ol.extent.createOrUpdateEmpty=function(e){return ol.extent.createOrUpdate(Infinity,Infinity,-Infinity,-Infinity,e)};ol.extent.createOrUpdateFromCoordinate=function(e,t){var o=e[0];var r=e[1];return ol.extent.createOrUpdate(o,r,o,r,t)};ol.extent.createOrUpdateFromCoordinates=function(e,t){var o=ol.extent.createOrUpdateEmpty(t);return ol.extent.extendCoordinates(o,e)};ol.extent.createOrUpdateFromFlatCoordinates=function(e,t,o,r,i){var n=ol.extent.createOrUpdateEmpty(i);return ol.extent.extendFlatCoordinates(n,e,t,o,r)};ol.extent.createOrUpdateFromRings=function(e,t){var o=ol.extent.createOrUpdateEmpty(t);return ol.extent.extendRings(o,e)};ol.extent.equals=function(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]};ol.extent.extend=function(e,t){if(t[0]<e[0]){e[0]=t[0]}if(t[2]>e[2]){e[2]=t[2]}if(t[1]<e[1]){e[1]=t[1]}if(t[3]>e[3]){e[3]=t[3]}return e};ol.extent.extendCoordinate=function(e,t){if(t[0]<e[0]){e[0]=t[0]}if(t[0]>e[2]){e[2]=t[0]}if(t[1]<e[1]){e[1]=t[1]}if(t[1]>e[3]){e[3]=t[1]}};ol.extent.extendCoordinates=function(e,t){var o,r;for(o=0,r=t.length;o<r;++o){ol.extent.extendCoordinate(e,t[o])}return e};ol.extent.extendFlatCoordinates=function(e,t,o,r,i){for(;o<r;o+=i){ol.extent.extendXY(e,t[o],t[o+1])}return e};ol.extent.extendRings=function(e,t){var o,r;for(o=0,r=t.length;o<r;++o){ol.extent.extendCoordinates(e,t[o])}return e};ol.extent.extendXY=function(e,t,o){e[0]=Math.min(e[0],t);e[1]=Math.min(e[1],o);e[2]=Math.max(e[2],t);e[3]=Math.max(e[3],o)};ol.extent.forEachCorner=function(e,t,o){var r;r=t.call(o,ol.extent.getBottomLeft(e));if(r){return r}r=t.call(o,ol.extent.getBottomRight(e));if(r){return r}r=t.call(o,ol.extent.getTopRight(e));if(r){return r}r=t.call(o,ol.extent.getTopLeft(e));if(r){return r}return false};ol.extent.getArea=function(e){var t=0;if(!ol.extent.isEmpty(e)){t=ol.extent.getWidth(e)*ol.extent.getHeight(e)}return t};ol.extent.getBottomLeft=function(e){return[e[0],e[1]]};ol.extent.getBottomRight=function(e){return[e[2],e[1]]};ol.extent.getCenter=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]};ol.extent.getCorner=function(e,t){var o;if(t===ol.extent.Corner.BOTTOM_LEFT){o=ol.extent.getBottomLeft(e)}else if(t===ol.extent.Corner.BOTTOM_RIGHT){o=ol.extent.getBottomRight(e)}else if(t===ol.extent.Corner.TOP_LEFT){o=ol.extent.getTopLeft(e)}else if(t===ol.extent.Corner.TOP_RIGHT){o=ol.extent.getTopRight(e)}else{ol.asserts.assert(false,13)}return o};ol.extent.getEnlargedArea=function(e,t){var o=Math.min(e[0],t[0]);var r=Math.min(e[1],t[1]);var i=Math.max(e[2],t[2]);var n=Math.max(e[3],t[3]);return(i-o)*(n-r)};ol.extent.getForViewAndSize=function(e,t,o,r,i){var n=t*r[0]/2;var a=t*r[1]/2;var l=Math.cos(o);var s=Math.sin(o);var p=n*l;var u=n*s;var c=a*l;var g=a*s;var h=e[0];var f=e[1];var d=h-p+g;var y=h-p-g;var m=h+p-g;var v=h+p+g;var _=f-u-c;var x=f-u+c;var S=f+u+c;var P=f+u-c;return ol.extent.createOrUpdate(Math.min(d,y,m,v),Math.min(_,x,S,P),Math.max(d,y,m,v),Math.max(_,x,S,P),i)};ol.extent.getHeight=function(e){return e[3]-e[1]};ol.extent.getIntersectionArea=function(e,t){var o=ol.extent.getIntersection(e,t);return ol.extent.getArea(o)};ol.extent.getIntersection=function(e,t,o){var r=o?o:ol.extent.createEmpty();if(ol.extent.intersects(e,t)){if(e[0]>t[0]){r[0]=e[0]}else{r[0]=t[0]}if(e[1]>t[1]){r[1]=e[1]}else{r[1]=t[1]}if(e[2]<t[2]){r[2]=e[2]}else{r[2]=t[2]}if(e[3]<t[3]){r[3]=e[3]}else{r[3]=t[3]}}return r};ol.extent.getMargin=function(e){return ol.extent.getWidth(e)+ol.extent.getHeight(e)};ol.extent.getSize=function(e){return[e[2]-e[0],e[3]-e[1]]};ol.extent.getTopLeft=function(e){return[e[0],e[3]]};ol.extent.getTopRight=function(e){return[e[2],e[3]]};ol.extent.getWidth=function(e){return e[2]-e[0]};ol.extent.intersects=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]};ol.extent.isEmpty=function(e){return e[2]<e[0]||e[3]<e[1]};ol.extent.returnOrUpdate=function(e,t){if(t){t[0]=e[0];t[1]=e[1];t[2]=e[2];t[3]=e[3];return t}else{return e}};ol.extent.scaleFromCenter=function(e,t){var o=(e[2]-e[0])/2*(t-1);var r=(e[3]-e[1])/2*(t-1);e[0]-=o;e[2]+=o;e[1]-=r;e[3]+=r};ol.extent.intersectsSegment=function(e,t,o){var r=false;var i=ol.extent.coordinateRelationship(e,t);var n=ol.extent.coordinateRelationship(e,o);if(i===ol.extent.Relationship.INTERSECTING||n===ol.extent.Relationship.INTERSECTING){r=true}else{var a=e[0];var l=e[1];var s=e[2];var p=e[3];var u=t[0];var c=t[1];var g=o[0];var h=o[1];var f=(h-c)/(g-u);var d,y;if(!!(n&ol.extent.Relationship.ABOVE)&&!(i&ol.extent.Relationship.ABOVE)){d=g-(h-p)/f;r=d>=a&&d<=s}if(!r&&!!(n&ol.extent.Relationship.RIGHT)&&!(i&ol.extent.Relationship.RIGHT)){y=h-(g-s)*f;r=y>=l&&y<=p}if(!r&&!!(n&ol.extent.Relationship.BELOW)&&!(i&ol.extent.Relationship.BELOW)){d=g-(h-l)/f;r=d>=a&&d<=s}if(!r&&!!(n&ol.extent.Relationship.LEFT)&&!(i&ol.extent.Relationship.LEFT)){y=h-(g-a)*f;r=y>=l&&y<=p}}return r};ol.extent.applyTransform=function(e,t,o){var r=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];t(r,r,2);var i=[r[0],r[2],r[4],r[6]];var n=[r[1],r[3],r[5],r[7]];return ol.extent.boundingExtentXYs_(i,n,o)};goog.provide("ol.obj");ol.obj.assign=typeof Object.assign==="function"?Object.assign:function(e,t){if(e===undefined||e===null){throw new TypeError("Cannot convert undefined or null to object")}var o=Object(e);for(var r=1,i=arguments.length;r<i;++r){var n=arguments[r];if(n!==undefined&&n!==null){for(var a in n){if(n.hasOwnProperty(a)){o[a]=n[a]}}}}return o};ol.obj.clear=function(e){for(var t in e){delete e[t]}};ol.obj.getValues=function(e){var t=[];for(var o in e){t.push(e[o])}return t};ol.obj.isEmpty=function(e){var t;for(t in e){return false}return!t};goog.provide("ol.Sphere");goog.require("ol.math");ol.Sphere=function(e){this.radius=e};ol.Sphere.prototype.geodesicArea=function(e){var t=0,o=e.length;var r=e[o-1][0];var i=e[o-1][1];for(var n=0;n<o;n++){var a=e[n][0],l=e[n][1];t+=ol.math.toRadians(a-r)*(2+Math.sin(ol.math.toRadians(i))+Math.sin(ol.math.toRadians(l)));r=a;i=l}return t*this.radius*this.radius/2};ol.Sphere.prototype.haversineDistance=function(e,t){var o=ol.math.toRadians(e[1]);var r=ol.math.toRadians(t[1]);var i=(r-o)/2;var n=ol.math.toRadians(t[0]-e[0])/2;var a=Math.sin(i)*Math.sin(i)+Math.sin(n)*Math.sin(n)*Math.cos(o)*Math.cos(r);return 2*this.radius*Math.atan2(Math.sqrt(a),Math.sqrt(1-a))};ol.Sphere.prototype.offset=function(e,t,o){var r=ol.math.toRadians(e[1]);var i=ol.math.toRadians(e[0]);var n=t/this.radius;var a=Math.asin(Math.sin(r)*Math.cos(n)+Math.cos(r)*Math.sin(n)*Math.cos(o));var l=i+Math.atan2(Math.sin(o)*Math.sin(n)*Math.cos(r),Math.cos(n)-Math.sin(r)*Math.sin(a));return[ol.math.toDegrees(l),ol.math.toDegrees(a)]};goog.provide("ol.sphere.NORMAL");goog.require("ol.Sphere");ol.sphere.NORMAL=new ol.Sphere(6370997);goog.provide("ol.proj.Units");goog.require("ol.sphere.NORMAL");ol.proj.Units={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"};ol.proj.Units.METERS_PER_UNIT={};ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.DEGREES]=2*Math.PI*ol.sphere.NORMAL.radius/360;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.FEET]=.3048;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.METERS]=1;ol.proj.Units.METERS_PER_UNIT[ol.proj.Units.USFEET]=1200/3937;goog.provide("ol.proj.proj4");ol.proj.proj4.cache_=null;ol.proj.proj4.set=function(e){ol.proj.proj4.cache_=e};ol.proj.proj4.get=function(){return ol.proj.proj4.cache_||window["proj4"]};goog.provide("ol.proj.Projection");goog.require("ol");goog.require("ol.proj.Units");goog.require("ol.proj.proj4");ol.proj.Projection=function(e){this.code_=e.code;this.units_=e.units;this.extent_=e.extent!==undefined?e.extent:null;this.worldExtent_=e.worldExtent!==undefined?e.worldExtent:null;this.axisOrientation_=e.axisOrientation!==undefined?e.axisOrientation:"enu";this.global_=e.global!==undefined?e.global:false;this.canWrapX_=!!(this.global_&&this.extent_);this.getPointResolutionFunc_=e.getPointResolution;this.defaultTileGrid_=null;this.metersPerUnit_=e.metersPerUnit;var t=e.code;if(ol.ENABLE_PROJ4JS){var o=ol.proj.proj4.get();if(typeof o=="function"){var r=o.defs(t);if(r!==undefined){if(r.axis!==undefined&&e.axisOrientation===undefined){this.axisOrientation_=r.axis}if(e.metersPerUnit===undefined){this.metersPerUnit_=r.to_meter}if(e.units===undefined){this.units_=r.units}}}}};ol.proj.Projection.prototype.canWrapX=function(){return this.canWrapX_};ol.proj.Projection.prototype.getCode=function(){return this.code_};ol.proj.Projection.prototype.getExtent=function(){return this.extent_};ol.proj.Projection.prototype.getUnits=function(){return this.units_};ol.proj.Projection.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||ol.proj.Units.METERS_PER_UNIT[this.units_]};ol.proj.Projection.prototype.getWorldExtent=function(){return this.worldExtent_};ol.proj.Projection.prototype.getAxisOrientation=function(){return this.axisOrientation_};ol.proj.Projection.prototype.isGlobal=function(){return this.global_};ol.proj.Projection.prototype.setGlobal=function(e){this.global_=e;this.canWrapX_=!!(e&&this.extent_)};ol.proj.Projection.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_};ol.proj.Projection.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e};ol.proj.Projection.prototype.setExtent=function(e){this.extent_=e;this.canWrapX_=!!(this.global_&&e)};ol.proj.Projection.prototype.setWorldExtent=function(e){this.worldExtent_=e};ol.proj.Projection.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e};ol.proj.Projection.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};goog.provide("ol.proj.projections");ol.proj.projections.cache_={};ol.proj.projections.clear=function(){ol.proj.projections.cache_={}};ol.proj.projections.get=function(e){var t=ol.proj.projections.cache_;return t[e]||null};ol.proj.projections.add=function(e,t){var o=ol.proj.projections.cache_;o[e]=t};goog.provide("ol.proj.transforms");goog.require("ol.obj");ol.proj.transforms.cache_={};ol.proj.transforms.clear=function(){ol.proj.transforms.cache_={}};ol.proj.transforms.add=function(e,t,o){var r=e.getCode();var i=t.getCode();var n=ol.proj.transforms.cache_;if(!(r in n)){n[r]={}}n[r][i]=o};ol.proj.transforms.remove=function(e,t){var o=e.getCode();var r=t.getCode();var i=ol.proj.transforms.cache_;var n=i[o][r];delete i[o][r];if(ol.obj.isEmpty(i[o])){delete i[o]}return n};ol.proj.transforms.get=function(e,t){var o;var r=ol.proj.transforms.cache_;if(e in r&&t in r[e]){o=r[e][t]}return o};goog.provide("ol.proj");goog.require("ol");goog.require("ol.extent");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.proj.proj4");goog.require("ol.proj.projections");goog.require("ol.proj.transforms");goog.require("ol.sphere.NORMAL");ol.proj.METERS_PER_UNIT=ol.proj.Units.METERS_PER_UNIT;if(ol.ENABLE_PROJ4JS){ol.proj.setProj4=function(e){ol.proj.proj4.set(e)}}ol.proj.getPointResolution=function(e,t,o){var r;var i=e.getPointResolutionFunc();if(i){r=i(t,o)}else{var n=e.getUnits();if(n==ol.proj.Units.DEGREES){r=t}else{var a=ol.proj.getTransformFromProjections(e,ol.proj.get("EPSG:4326"));var l=[o[0]-t/2,o[1],o[0]+t/2,o[1],o[0],o[1]-t/2,o[0],o[1]+t/2];l=a(l,l,2);var s=ol.sphere.NORMAL.haversineDistance(l.slice(0,2),l.slice(2,4));var p=ol.sphere.NORMAL.haversineDistance(l.slice(4,6),l.slice(6,8));r=(s+p)/2;var u=e.getMetersPerUnit();if(u!==undefined){r/=u}}}return r};ol.proj.addEquivalentProjections=function(e){ol.proj.addProjections(e);e.forEach(function(t){e.forEach(function(e){if(t!==e){ol.proj.transforms.add(t,e,ol.proj.cloneTransform)}})})};ol.proj.addEquivalentTransforms=function(e,t,o,r){e.forEach(function(e){t.forEach(function(t){ol.proj.transforms.add(e,t,o);ol.proj.transforms.add(t,e,r)})})};ol.proj.addProjection=function(e){ol.proj.projections.add(e.getCode(),e);ol.proj.transforms.add(e,e,ol.proj.cloneTransform)};ol.proj.addProjections=function(e){var t=[];e.forEach(function(e){t.push(ol.proj.addProjection(e))})};ol.proj.clearAllProjections=function(){ol.proj.projections.clear();ol.proj.transforms.clear()};ol.proj.createProjection=function(e,t){if(!e){return ol.proj.get(t)}else if(typeof e==="string"){return ol.proj.get(e)}else{return e}};ol.proj.addCoordinateTransforms=function(e,t,o,r){var i=ol.proj.get(e);var n=ol.proj.get(t);ol.proj.transforms.add(i,n,ol.proj.createTransformFromCoordinateTransform(o));ol.proj.transforms.add(n,i,ol.proj.createTransformFromCoordinateTransform(r))};ol.proj.createTransformFromCoordinateTransform=function(e){return function(t,o,r){var i=t.length;var n=r!==undefined?r:2;var a=o!==undefined?o:new Array(i);var l,s,p;for(s=0;s<i;s+=n){l=e([t[s],t[s+1]]);a[s]=l[0];a[s+1]=l[1];for(p=n-1;p>=2;--p){a[s+p]=t[s+p]}}return a}};ol.proj.fromLonLat=function(e,t){return ol.proj.transform(e,"EPSG:4326",t!==undefined?t:"EPSG:3857")};ol.proj.toLonLat=function(e,t){return ol.proj.transform(e,t!==undefined?t:"EPSG:3857","EPSG:4326")};ol.proj.get=function(e){var t=null;if(e instanceof ol.proj.Projection){t=e}else if(typeof e==="string"){var o=e;t=ol.proj.projections.get(o);if(ol.ENABLE_PROJ4JS){var r=ol.proj.proj4.get();if(!t&&typeof r=="function"&&r.defs(o)!==undefined){t=new ol.proj.Projection({code:o});ol.proj.addProjection(t)}}}return t};ol.proj.equivalent=function(e,t){if(e===t){return true}var o=e.getUnits()===t.getUnits();if(e.getCode()===t.getCode()){return o}else{var r=ol.proj.getTransformFromProjections(e,t);return r===ol.proj.cloneTransform&&o}};ol.proj.getTransform=function(e,t){var o=ol.proj.get(e);var r=ol.proj.get(t);return ol.proj.getTransformFromProjections(o,r)};ol.proj.getTransformFromProjections=function(e,t){var o=e.getCode();var r=t.getCode();var i=ol.proj.transforms.get(o,r);if(ol.ENABLE_PROJ4JS&&!i){var n=ol.proj.proj4.get();if(typeof n=="function"){var a=n.defs(o);var l=n.defs(r);if(a!==undefined&&l!==undefined){if(a===l){ol.proj.addEquivalentProjections([t,e])}else{var s=n(r,o);ol.proj.addCoordinateTransforms(t,e,s.forward,s.inverse)}i=ol.proj.transforms.get(o,r)}}}if(!i){i=ol.proj.identityTransform}return i};ol.proj.identityTransform=function(e,t,o){if(t!==undefined&&e!==t){for(var r=0,i=e.length;r<i;++r){t[r]=e[r]}e=t}return e};ol.proj.cloneTransform=function(e,t,o){var r;if(t!==undefined){for(var i=0,n=e.length;i<n;++i){t[i]=e[i]}r=t}else{r=e.slice()}return r};ol.proj.transform=function(e,t,o){var r=ol.proj.getTransform(t,o);return r(e,undefined,e.length)};ol.proj.transformExtent=function(e,t,o){var r=ol.proj.getTransform(t,o);return ol.extent.applyTransform(e,r)};ol.proj.transformWithProjections=function(e,t,o){var r=ol.proj.getTransformFromProjections(t,o);return r(e)};goog.provide("ol.tilecoord");ol.tilecoord.createOrUpdate=function(e,t,o,r){if(r!==undefined){r[0]=e;r[1]=t;r[2]=o;return r}else{return[e,t,o]}};ol.tilecoord.getKeyZXY=function(e,t,o){return e+"/"+t+"/"+o};ol.tilecoord.hash=function(e){return(e[1]<<e[0])+e[2]};ol.tilecoord.quadKey=function(e){var t=e[0];var o=new Array(t);var r=1<<t-1;var i,n;for(i=0;i<t;++i){n=48;if(e[1]&r){n+=1}if(e[2]&r){n+=2}o[i]=String.fromCharCode(n);r>>=1}return o.join("")};ol.tilecoord.withinExtentAndZ=function(e,t){var o=e[0];var r=e[1];var i=e[2];if(t.getMinZoom()>o||o>t.getMaxZoom()){return false}var n=t.getExtent();var a;if(!n){a=t.getFullTileRange(o)}else{a=t.getTileRangeForExtentAndZ(n,o)}if(!a){return true}else{return a.containsXY(r,i)}};goog.provide("ol.tilegrid.TileGrid");goog.require("ol");goog.require("ol.asserts");goog.require("ol.TileRange");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.size");goog.require("ol.tilecoord");ol.tilegrid.TileGrid=function(e){this.minZoom=e.minZoom!==undefined?e.minZoom:0;this.resolutions_=e.resolutions;ol.asserts.assert(ol.array.isSorted(this.resolutions_,function(e,t){return t-e},true),17);this.maxZoom=this.resolutions_.length-1;this.origin_=e.origin!==undefined?e.origin:null;this.origins_=null;if(e.origins!==undefined){this.origins_=e.origins;ol.asserts.assert(this.origins_.length==this.resolutions_.length,20)}var t=e.extent;if(t!==undefined&&!this.origin_&&!this.origins_){this.origin_=ol.extent.getTopLeft(t)}ol.asserts.assert(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18);this.tileSizes_=null;if(e.tileSizes!==undefined){this.tileSizes_=e.tileSizes;ol.asserts.assert(this.tileSizes_.length==this.resolutions_.length,19)}this.tileSize_=e.tileSize!==undefined?e.tileSize:!this.tileSizes_?ol.DEFAULT_TILE_SIZE:null;ol.asserts.assert(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22);this.extent_=t!==undefined?t:null;this.fullTileRanges_=null;this.tmpSize_=[0,0];if(e.sizes!==undefined){this.fullTileRanges_=e.sizes.map(function(e,t){var o=new ol.TileRange(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));return o},this)}else if(t){this.calculateTileRanges_(t)}};ol.tilegrid.TileGrid.tmpTileCoord_=[0,0,0];ol.tilegrid.TileGrid.prototype.forEachTileCoord=function(e,t,o){var r=this.getTileRangeForExtentAndZ(e,t);for(var i=r.minX,n=r.maxX;i<=n;++i){for(var a=r.minY,l=r.maxY;a<=l;++a){o([t,i,a])}}};ol.tilegrid.TileGrid.prototype.forEachTileCoordParentTileRange=function(e,t,o,r,i){var n=this.getTileCoordExtent(e,i);var a=e[0]-1;while(a>=this.minZoom){if(t.call(o,a,this.getTileRangeForExtentAndZ(n,a,r))){return true}--a}return false};ol.tilegrid.TileGrid.prototype.getExtent=function(){return this.extent_};ol.tilegrid.TileGrid.prototype.getMaxZoom=function(){return this.maxZoom};ol.tilegrid.TileGrid.prototype.getMinZoom=function(){return this.minZoom};ol.tilegrid.TileGrid.prototype.getOrigin=function(e){if(this.origin_){return this.origin_}else{return this.origins_[e]}};ol.tilegrid.TileGrid.prototype.getResolution=function(e){return this.resolutions_[e]};ol.tilegrid.TileGrid.prototype.getResolutions=function(){return this.resolutions_};ol.tilegrid.TileGrid.prototype.getTileCoordChildTileRange=function(e,t,o){if(e[0]<this.maxZoom){var r=this.getTileCoordExtent(e,o);return this.getTileRangeForExtentAndZ(r,e[0]+1,t)}else{return null}};ol.tilegrid.TileGrid.prototype.getTileRangeExtent=function(e,t,o){var r=this.getOrigin(e);var i=this.getResolution(e);var n=ol.size.toSize(this.getTileSize(e),this.tmpSize_);var a=r[0]+t.minX*n[0]*i;var l=r[0]+(t.maxX+1)*n[0]*i;var s=r[1]+t.minY*n[1]*i;var p=r[1]+(t.maxY+1)*n[1]*i;return ol.extent.createOrUpdate(a,s,l,p,o)};ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndResolution=function(e,t,o){var r=ol.tilegrid.TileGrid.tmpTileCoord_;this.getTileCoordForXYAndResolution_(e[0],e[1],t,false,r);var i=r[1];var n=r[2];this.getTileCoordForXYAndResolution_(e[2],e[3],t,true,r);return ol.TileRange.createOrUpdate(i,r[1],n,r[2],o)};ol.tilegrid.TileGrid.prototype.getTileRangeForExtentAndZ=function(e,t,o){var r=this.getResolution(t);return this.getTileRangeForExtentAndResolution(e,r,o)};ol.tilegrid.TileGrid.prototype.getTileCoordCenter=function(e){var t=this.getOrigin(e[0]);var o=this.getResolution(e[0]);var r=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*r[0]*o,t[1]+(e[2]+.5)*r[1]*o]};ol.tilegrid.TileGrid.prototype.getTileCoordExtent=function(e,t){var o=this.getOrigin(e[0]);var r=this.getResolution(e[0]);var i=ol.size.toSize(this.getTileSize(e[0]),this.tmpSize_);var n=o[0]+e[1]*i[0]*r;var a=o[1]+e[2]*i[1]*r;var l=n+i[0]*r;var s=a+i[1]*r;return ol.extent.createOrUpdate(n,a,l,s,t)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution=function(e,t,o){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,false,o)};ol.tilegrid.TileGrid.prototype.getTileCoordForXYAndResolution_=function(e,t,o,r,i){var n=this.getZForResolution(o);var a=o/this.getResolution(n);var l=this.getOrigin(n);var s=ol.size.toSize(this.getTileSize(n),this.tmpSize_);var p=r?.5:0;var u=r?0:.5;var c=Math.floor((e-l[0])/o+p);var g=Math.floor((t-l[1])/o+u);var h=a*c/s[0];var f=a*g/s[1];if(r){h=Math.ceil(h)-1;f=Math.ceil(f)-1}else{h=Math.floor(h);f=Math.floor(f)}return ol.tilecoord.createOrUpdate(n,h,f,i)};ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ=function(e,t,o){var r=this.getResolution(t);return this.getTileCoordForXYAndResolution_(e[0],e[1],r,false,o)};ol.tilegrid.TileGrid.prototype.getTileCoordResolution=function(e){return this.resolutions_[e[0]]};ol.tilegrid.TileGrid.prototype.getTileSize=function(e){
if(this.tileSize_){return this.tileSize_}else{return this.tileSizes_[e]}};ol.tilegrid.TileGrid.prototype.getFullTileRange=function(e){if(!this.fullTileRanges_){return null}else{return this.fullTileRanges_[e]}};ol.tilegrid.TileGrid.prototype.getZForResolution=function(e,t){var o=ol.array.linearFindNearest(this.resolutions_,e,t||0);return ol.math.clamp(o,this.minZoom,this.maxZoom)};ol.tilegrid.TileGrid.prototype.calculateTileRanges_=function(e){var t=this.resolutions_.length;var o=new Array(t);for(var r=this.minZoom;r<t;++r){o[r]=this.getTileRangeForExtentAndZ(e,r)}this.fullTileRanges_=o};goog.provide("ol.tilegrid");goog.require("ol");goog.require("ol.size");goog.require("ol.extent");goog.require("ol.extent.Corner");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.proj.Units");goog.require("ol.tilegrid.TileGrid");ol.tilegrid.getForProjection=function(e){var t=e.getDefaultTileGrid();if(!t){t=ol.tilegrid.createForProjection(e);e.setDefaultTileGrid(t)}return t};ol.tilegrid.wrapX=function(e,t,o){var r=t[0];var i=e.getTileCoordCenter(t);var n=ol.tilegrid.extentFromProjection(o);if(!ol.extent.containsCoordinate(n,i)){var a=ol.extent.getWidth(n);var l=Math.ceil((n[0]-i[0])/a);i[0]+=a*l;return e.getTileCoordForCoordAndZ(i,r)}else{return t}};ol.tilegrid.createForExtent=function(e,t,o,r){var i=r!==undefined?r:ol.extent.Corner.TOP_LEFT;var n=ol.tilegrid.resolutionsFromExtent(e,t,o);return new ol.tilegrid.TileGrid({extent:e,origin:ol.extent.getCorner(e,i),resolutions:n,tileSize:o})};ol.tilegrid.createXYZ=function(e){var t={};ol.obj.assign(t,e!==undefined?e:{});if(t.extent===undefined){t.extent=ol.proj.get("EPSG:3857").getExtent()}t.resolutions=ol.tilegrid.resolutionsFromExtent(t.extent,t.maxZoom,t.tileSize);delete t.maxZoom;return new ol.tilegrid.TileGrid(t)};ol.tilegrid.resolutionsFromExtent=function(e,t,o){var r=t!==undefined?t:ol.DEFAULT_MAX_ZOOM;var i=ol.extent.getHeight(e);var n=ol.extent.getWidth(e);var a=ol.size.toSize(o!==undefined?o:ol.DEFAULT_TILE_SIZE);var l=Math.max(n/a[0],i/a[1]);var s=r+1;var p=new Array(s);for(var u=0;u<s;++u){p[u]=l/Math.pow(2,u)}return p};ol.tilegrid.createForProjection=function(e,t,o,r){var i=ol.tilegrid.extentFromProjection(e);return ol.tilegrid.createForExtent(i,t,o,r)};ol.tilegrid.extentFromProjection=function(e){e=ol.proj.get(e);var t=e.getExtent();if(!t){var o=180*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/e.getMetersPerUnit();t=ol.extent.createOrUpdate(-o,-o,o,o)}return t};goog.provide("ol.Attribution");goog.require("ol.TileRange");goog.require("ol.math");goog.require("ol.tilegrid");ol.Attribution=function(e){this.html_=e.html;this.tileRanges_=e.tileRanges?e.tileRanges:null};ol.Attribution.prototype.getHTML=function(){return this.html_};ol.Attribution.prototype.intersectsAnyTileRange=function(e,t,o){if(!this.tileRanges_){return true}var r,i,n,a;for(a in e){if(!(a in this.tileRanges_)){continue}n=e[a];var l;for(r=0,i=this.tileRanges_[a].length;r<i;++r){l=this.tileRanges_[a][r];if(l.intersects(n)){return true}var s=t.getTileRangeForExtentAndZ(ol.tilegrid.extentFromProjection(o),parseInt(a,10));var p=s.getWidth();if(n.minX<s.minX||n.maxX>s.maxX){if(l.intersects(new ol.TileRange(ol.math.modulo(n.minX,p),ol.math.modulo(n.maxX,p),n.minY,n.maxY))){return true}if(n.getWidth()>p&&l.intersects(s)){return true}}}}return false};goog.provide("ol.CenterConstraint");goog.require("ol.math");ol.CenterConstraint.createExtent=function(e){return function(t){if(t){return[ol.math.clamp(t[0],e[0],e[2]),ol.math.clamp(t[1],e[1],e[3])]}else{return undefined}}};ol.CenterConstraint.none=function(e){return e};goog.provide("ol.CollectionEventType");ol.CollectionEventType={ADD:"add",REMOVE:"remove"};goog.provide("ol.ObjectEventType");ol.ObjectEventType={PROPERTYCHANGE:"propertychange"};goog.provide("ol.events");goog.require("ol.obj");ol.events.bindListener_=function(e){var t=function(t){var o=e.listener;var r=e.bindTo||e.target;if(e.callOnce){ol.events.unlistenByKey(e)}return o.call(r,t)};e.boundListener=t;return t};ol.events.findListener_=function(e,t,o,r){var i;for(var n=0,a=e.length;n<a;++n){i=e[n];if(i.listener===t&&i.bindTo===o){if(r){i.deleteIndex=n}return i}}return undefined};ol.events.getListeners=function(e,t){var o=e.ol_lm;return o?o[t]:undefined};ol.events.getListenerMap_=function(e){var t=e.ol_lm;if(!t){t=e.ol_lm={}}return t};ol.events.removeListeners_=function(e,t){var o=ol.events.getListeners(e,t);if(o){for(var r=0,i=o.length;r<i;++r){e.removeEventListener(t,o[r].boundListener);ol.obj.clear(o[r])}o.length=0;var n=e.ol_lm;if(n){delete n[t];if(Object.keys(n).length===0){delete e.ol_lm}}}};ol.events.listen=function(e,t,o,r,i){var n=ol.events.getListenerMap_(e);var a=n[t];if(!a){a=n[t]=[]}var l=ol.events.findListener_(a,o,r,false);if(l){if(!i){l.callOnce=false}}else{l={bindTo:r,callOnce:!!i,listener:o,target:e,type:t};e.addEventListener(t,ol.events.bindListener_(l));a.push(l)}return l};ol.events.listenOnce=function(e,t,o,r){return ol.events.listen(e,t,o,r,true)};ol.events.unlisten=function(e,t,o,r){var i=ol.events.getListeners(e,t);if(i){var n=ol.events.findListener_(i,o,r,true);if(n){ol.events.unlistenByKey(n)}}};ol.events.unlistenByKey=function(e){if(e&&e.target){e.target.removeEventListener(e.type,e.boundListener);var t=ol.events.getListeners(e.target,e.type);if(t){var o="deleteIndex"in e?e.deleteIndex:t.indexOf(e);if(o!==-1){t.splice(o,1)}if(t.length===0){ol.events.removeListeners_(e.target,e.type)}}ol.obj.clear(e)}};ol.events.unlistenAll=function(e){var t=ol.events.getListenerMap_(e);for(var o in t){ol.events.removeListeners_(e,o)}};goog.provide("ol.Disposable");goog.require("ol");ol.Disposable=function(){};ol.Disposable.prototype.disposed_=false;ol.Disposable.prototype.dispose=function(){if(!this.disposed_){this.disposed_=true;this.disposeInternal()}};ol.Disposable.prototype.disposeInternal=ol.nullFunction;goog.provide("ol.events.Event");ol.events.Event=function(e){this.propagationStopped;this.type=e;this.target=null};ol.events.Event.prototype.preventDefault=ol.events.Event.prototype.stopPropagation=function(){this.propagationStopped=true};ol.events.Event.stopPropagation=function(e){e.stopPropagation()};ol.events.Event.preventDefault=function(e){e.preventDefault()};goog.provide("ol.events.EventTarget");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.events");goog.require("ol.events.Event");ol.events.EventTarget=function(){ol.Disposable.call(this);this.pendingRemovals_={};this.dispatching_={};this.listeners_={}};ol.inherits(ol.events.EventTarget,ol.Disposable);ol.events.EventTarget.prototype.addEventListener=function(e,t){var o=this.listeners_[e];if(!o){o=this.listeners_[e]=[]}if(o.indexOf(t)===-1){o.push(t)}};ol.events.EventTarget.prototype.dispatchEvent=function(e){var t=typeof e==="string"?new ol.events.Event(e):e;var o=t.type;t.target=this;var r=this.listeners_[o];var i;if(r){if(!(o in this.dispatching_)){this.dispatching_[o]=0;this.pendingRemovals_[o]=0}++this.dispatching_[o];for(var n=0,a=r.length;n<a;++n){if(r[n].call(this,t)===false||t.propagationStopped){i=false;break}}--this.dispatching_[o];if(this.dispatching_[o]===0){var l=this.pendingRemovals_[o];delete this.pendingRemovals_[o];while(l--){this.removeEventListener(o,ol.nullFunction)}delete this.dispatching_[o]}return i}};ol.events.EventTarget.prototype.disposeInternal=function(){ol.events.unlistenAll(this)};ol.events.EventTarget.prototype.getListeners=function(e){return this.listeners_[e]};ol.events.EventTarget.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0};ol.events.EventTarget.prototype.removeEventListener=function(e,t){var o=this.listeners_[e];if(o){var r=o.indexOf(t);if(e in this.pendingRemovals_){o[r]=ol.nullFunction;++this.pendingRemovals_[e]}else{o.splice(r,1);if(o.length===0){delete this.listeners_[e]}}}};goog.provide("ol.events.EventType");ol.events.EventType={CHANGE:"change",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"mspointerdown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};goog.provide("ol.Observable");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.Observable=function(){ol.events.EventTarget.call(this);this.revision_=0};ol.inherits(ol.Observable,ol.events.EventTarget);ol.Observable.unByKey=function(e){if(Array.isArray(e)){for(var t=0,o=e.length;t<o;++t){ol.events.unlistenByKey(e[t])}}else{ol.events.unlistenByKey(e)}};ol.Observable.prototype.changed=function(){++this.revision_;this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Observable.prototype.dispatchEvent;ol.Observable.prototype.getRevision=function(){return this.revision_};ol.Observable.prototype.on=function(e,t,o){if(Array.isArray(e)){var r=e.length;var i=new Array(r);for(var n=0;n<r;++n){i[n]=ol.events.listen(this,e[n],t,o)}return i}else{return ol.events.listen(this,e,t,o)}};ol.Observable.prototype.once=function(e,t,o){if(Array.isArray(e)){var r=e.length;var i=new Array(r);for(var n=0;n<r;++n){i[n]=ol.events.listenOnce(this,e[n],t,o)}return i}else{return ol.events.listenOnce(this,e,t,o)}};ol.Observable.prototype.un=function(e,t,o){if(Array.isArray(e)){for(var r=0,i=e.length;r<i;++r){ol.events.unlisten(this,e[r],t,o)}return}else{ol.events.unlisten(this,e,t,o)}};goog.provide("ol.Object");goog.require("ol");goog.require("ol.ObjectEventType");goog.require("ol.Observable");goog.require("ol.events.Event");goog.require("ol.obj");ol.Object=function(e){ol.Observable.call(this);ol.getUid(this);this.values_={};if(e!==undefined){this.setProperties(e)}};ol.inherits(ol.Object,ol.Observable);ol.Object.changeEventTypeCache_={};ol.Object.getChangeEventType=function(e){return ol.Object.changeEventTypeCache_.hasOwnProperty(e)?ol.Object.changeEventTypeCache_[e]:ol.Object.changeEventTypeCache_[e]="change:"+e};ol.Object.prototype.get=function(e){var t;if(this.values_.hasOwnProperty(e)){t=this.values_[e]}return t};ol.Object.prototype.getKeys=function(){return Object.keys(this.values_)};ol.Object.prototype.getProperties=function(){return ol.obj.assign({},this.values_)};ol.Object.prototype.notify=function(e,t){var o;o=ol.Object.getChangeEventType(e);this.dispatchEvent(new ol.Object.Event(o,e,t));o=ol.ObjectEventType.PROPERTYCHANGE;this.dispatchEvent(new ol.Object.Event(o,e,t))};ol.Object.prototype.set=function(e,t,o){if(o){this.values_[e]=t}else{var r=this.values_[e];this.values_[e]=t;if(r!==t){this.notify(e,r)}}};ol.Object.prototype.setProperties=function(e,t){var o;for(o in e){this.set(o,e[o],t)}};ol.Object.prototype.unset=function(e,t){if(e in this.values_){var o=this.values_[e];delete this.values_[e];if(!t){this.notify(e,o)}}};ol.Object.Event=function(e,t,o){ol.events.Event.call(this,e);this.key=t;this.oldValue=o};ol.inherits(ol.Object.Event,ol.events.Event);goog.provide("ol.Collection");goog.require("ol");goog.require("ol.CollectionEventType");goog.require("ol.Object");goog.require("ol.events.Event");ol.Collection=function(e){ol.Object.call(this);this.array_=e?e:[];this.updateLength_()};ol.inherits(ol.Collection,ol.Object);ol.Collection.prototype.clear=function(){while(this.getLength()>0){this.pop()}};ol.Collection.prototype.extend=function(e){var t,o;for(t=0,o=e.length;t<o;++t){this.push(e[t])}return this};ol.Collection.prototype.forEach=function(e,t){this.array_.forEach(e,t)};ol.Collection.prototype.getArray=function(){return this.array_};ol.Collection.prototype.item=function(e){return this.array_[e]};ol.Collection.prototype.getLength=function(){return this.get(ol.Collection.Property_.LENGTH)};ol.Collection.prototype.insertAt=function(e,t){this.array_.splice(e,0,t);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,t))};ol.Collection.prototype.pop=function(){return this.removeAt(this.getLength()-1)};ol.Collection.prototype.push=function(e){var t=this.getLength();this.insertAt(t,e);return this.getLength()};ol.Collection.prototype.remove=function(e){var t=this.array_;var o,r;for(o=0,r=t.length;o<r;++o){if(t[o]===e){return this.removeAt(o)}}return undefined};ol.Collection.prototype.removeAt=function(e){var t=this.array_[e];this.array_.splice(e,1);this.updateLength_();this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,t));return t};ol.Collection.prototype.setAt=function(e,t){var o=this.getLength();if(e<o){var r=this.array_[e];this.array_[e]=t;this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.REMOVE,r));this.dispatchEvent(new ol.Collection.Event(ol.CollectionEventType.ADD,t))}else{var i;for(i=o;i<e;++i){this.insertAt(i,undefined)}this.insertAt(e,t)}};ol.Collection.prototype.updateLength_=function(){this.set(ol.Collection.Property_.LENGTH,this.array_.length)};ol.Collection.Property_={LENGTH:"length"};ol.Collection.Event=function(e,t){ol.events.Event.call(this,e);this.element=t};ol.inherits(ol.Collection.Event,ol.events.Event);goog.provide("ol.color");goog.require("ol.asserts");goog.require("ol.math");ol.color.HEX_COLOR_RE_=/^#(?:[0-9a-f]{3}){1,2}$/i;ol.color.NAMED_COLOR_RE_=/^([a-z]*)$/i;ol.color.asArray=function(e){if(Array.isArray(e)){return e}else{return ol.color.fromString(e)}};ol.color.asString=function(e){if(typeof e==="string"){return e}else{return ol.color.toString(e)}};ol.color.fromNamed=function(e){var t=document.createElement("div");t.style.color=e;document.body.appendChild(t);var o=getComputedStyle(t).color;document.body.removeChild(t);return o};ol.color.fromString=function(){var e=1024;var t={};var o=0;return function(r){var i;if(t.hasOwnProperty(r)){i=t[r]}else{if(o>=e){var n=0;var a;for(a in t){if((n++&3)===0){delete t[a];--o}}}i=ol.color.fromStringInternal_(r);t[r]=i;++o}return i}}();ol.color.fromStringInternal_=function(e){var t,o,r,i,n,a;if(ol.color.NAMED_COLOR_RE_.exec(e)){e=ol.color.fromNamed(e)}if(ol.color.HEX_COLOR_RE_.exec(e)){var l=e.length-1;ol.asserts.assert(l==3||l==6,54);var s=l==3?1:2;t=parseInt(e.substr(1+0*s,s),16);o=parseInt(e.substr(1+1*s,s),16);r=parseInt(e.substr(1+2*s,s),16);if(s==1){t=(t<<4)+t;o=(o<<4)+o;r=(r<<4)+r}i=1;n=[t,o,r,i]}else if(e.indexOf("rgba(")==0){a=e.slice(5,-1).split(",").map(Number);n=ol.color.normalize(a)}else if(e.indexOf("rgb(")==0){a=e.slice(4,-1).split(",").map(Number);a.push(1);n=ol.color.normalize(a)}else{ol.asserts.assert(false,14)}return n};ol.color.normalize=function(e,t){var o=t||[];o[0]=ol.math.clamp(e[0]+.5|0,0,255);o[1]=ol.math.clamp(e[1]+.5|0,0,255);o[2]=ol.math.clamp(e[2]+.5|0,0,255);o[3]=ol.math.clamp(e[3],0,1);return o};ol.color.toString=function(e){var t=e[0];if(t!=(t|0)){t=t+.5|0}var o=e[1];if(o!=(o|0)){o=o+.5|0}var r=e[2];if(r!=(r|0)){r=r+.5|0}var i=e[3]===undefined?1:e[3];return"rgba("+t+","+o+","+r+","+i+")"};goog.provide("ol.colorlike");goog.require("ol.color");ol.colorlike.asColorLike=function(e){if(ol.colorlike.isColorLike(e)){return e}else{return ol.color.asString(e)}};ol.colorlike.isColorLike=function(e){return typeof e==="string"||e instanceof CanvasPattern||e instanceof CanvasGradient};goog.provide("ol.Constraints");ol.Constraints=function(e,t,o){this.center=e;this.resolution=t;this.rotation=o};goog.provide("ol.dom");ol.dom.createCanvasContext2D=function(e,t){var o=document.createElement("CANVAS");if(e){o.width=e}if(t){o.height=t}return o.getContext("2d")};ol.dom.outerWidth=function(e){var t=e.offsetWidth;var o=e.currentStyle||getComputedStyle(e);t+=parseInt(o.marginLeft,10)+parseInt(o.marginRight,10);return t};ol.dom.outerHeight=function(e){var t=e.offsetHeight;var o=e.currentStyle||getComputedStyle(e);t+=parseInt(o.marginTop,10)+parseInt(o.marginBottom,10);return t};ol.dom.replaceNode=function(e,t){var o=t.parentNode;if(o){o.replaceChild(e,t)}};ol.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null};ol.dom.removeChildren=function(e){while(e.lastChild){e.removeChild(e.lastChild)}};goog.provide("ol.MapEventType");ol.MapEventType={POSTRENDER:"postrender",MOVEEND:"moveend"};goog.provide("ol.control.Control");goog.require("ol");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.dom");goog.require("ol.events");ol.control.Control=function(e){ol.Object.call(this);this.element=e.element?e.element:null;this.target_=null;this.map_=null;this.listenerKeys=[];this.render=e.render?e.render:ol.nullFunction;if(e.target){this.setTarget(e.target)}};ol.inherits(ol.control.Control,ol.Object);ol.control.Control.prototype.disposeInternal=function(){ol.dom.removeNode(this.element);ol.Object.prototype.disposeInternal.call(this)};ol.control.Control.prototype.getMap=function(){return this.map_};ol.control.Control.prototype.setMap=function(e){if(this.map_){ol.dom.removeNode(this.element)}for(var t=0,o=this.listenerKeys.length;t<o;++t){ol.events.unlistenByKey(this.listenerKeys[t])}this.listenerKeys.length=0;this.map_=e;if(this.map_){var r=this.target_?this.target_:e.getOverlayContainerStopEvent();r.appendChild(this.element);if(this.render!==ol.nullFunction){this.listenerKeys.push(ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this))}e.render()}};ol.control.Control.prototype.setTarget=function(e){this.target_=typeof e==="string"?document.getElementById(e):e};goog.provide("ol.css");ol.css.CLASS_HIDDEN="ol-hidden";ol.css.CLASS_UNSELECTABLE="ol-unselectable";ol.css.CLASS_UNSUPPORTED="ol-unsupported";ol.css.CLASS_CONTROL="ol-control";goog.provide("ol.control.Attribution");goog.require("ol");goog.require("ol.dom");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.obj");ol.control.Attribution=function(e){var t=e?e:{};this.ulElement_=document.createElement("UL");this.logoLi_=document.createElement("LI");this.ulElement_.appendChild(this.logoLi_);this.logoLi_.style.display="none";this.collapsed_=t.collapsed!==undefined?t.collapsed:true;this.collapsible_=t.collapsible!==undefined?t.collapsible:true;if(!this.collapsible_){this.collapsed_=false}var o=t.className!==undefined?t.className:"ol-attribution";var r=t.tipLabel!==undefined?t.tipLabel:"Attributions";var i=t.collapseLabel!==undefined?t.collapseLabel:"";if(typeof i==="string"){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=i}else{this.collapseLabel_=i}var n=t.label!==undefined?t.label:"i";if(typeof n==="string"){this.label_=document.createElement("span");this.label_.textContent=n}else{this.label_=n}var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var l=document.createElement("button");l.setAttribute("type","button");l.title=r;l.appendChild(a);ol.events.listen(l,ol.events.EventType.CLICK,this.handleClick_,this);var s=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible");var p=document.createElement("div");p.className=s;p.appendChild(this.ulElement_);p.appendChild(l);var u=t.render?t.render:ol.control.Attribution.render;ol.control.Control.call(this,{element:p,render:u,target:t.target});this.renderedVisible_=true;this.attributionElements_={};this.attributionElementRenderedVisible_={};this.logoElements_={}};ol.inherits(ol.control.Attribution,ol.control.Control);ol.control.Attribution.prototype.getSourceAttributions=function(e){var t,o,r,i,n,a,l,s,p,u;var c;var g=e.layerStatesArray;var h=ol.obj.assign({},e.attributions);var f={};var d={};var y=e.viewState.projection;for(t=0,o=g.length;t<o;t++){a=g[t].layer.getSource();if(!a){continue}u=ol.getUid(a).toString();p=a.getAttributions();if(!p){continue}for(r=0,i=p.length;r<i;r++){l=p[r];s=ol.getUid(l).toString();if(s in h){continue}n=e.usedTiles[u];if(n){var m=a.getTileGridForProjection(y);c=l.intersectsAnyTileRange(n,m,y)}else{c=false}if(c){if(s in f){delete f[s]}var v=l.getHTML();if(!(v in d)){d[v]=true;h[s]=l}}else{f[s]=l}}}return[h,f]};ol.control.Attribution.render=function(e){this.updateElement_(e.frameState)};ol.control.Attribution.prototype.updateElement_=function(e){if(!e){if(this.renderedVisible_){this.element.style.display="none";this.renderedVisible_=false}return}var t=this.getSourceAttributions(e);var o=t[0];var r=t[1];var i,n;for(n in this.attributionElements_){if(n in o){if(!this.attributionElementRenderedVisible_[n]){this.attributionElements_[n].style.display="";this.attributionElementRenderedVisible_[n]=true}delete o[n]}else if(n in r){if(this.attributionElementRenderedVisible_[n]){this.attributionElements_[n].style.display="none";delete this.attributionElementRenderedVisible_[n]}delete r[n]}else{ol.dom.removeNode(this.attributionElements_[n]);delete this.attributionElements_[n];delete this.attributionElementRenderedVisible_[n]}}for(n in o){i=document.createElement("LI");i.innerHTML=o[n].getHTML();this.ulElement_.appendChild(i);this.attributionElements_[n]=i;this.attributionElementRenderedVisible_[n]=true}for(n in r){i=document.createElement("LI");i.innerHTML=r[n].getHTML();i.style.display="none";this.ulElement_.appendChild(i);this.attributionElements_[n]=i}var a=!ol.obj.isEmpty(this.attributionElementRenderedVisible_)||!ol.obj.isEmpty(e.logos);if(this.renderedVisible_!=a){this.element.style.display=a?"":"none";this.renderedVisible_=a}if(a&&ol.obj.isEmpty(this.attributionElementRenderedVisible_)){this.element.classList.add("ol-logo-only")}else{this.element.classList.remove("ol-logo-only")}this.insertLogos_(e)};ol.control.Attribution.prototype.insertLogos_=function(e){var t;var o=e.logos;var r=this.logoElements_;for(t in r){if(!(t in o)){ol.dom.removeNode(r[t]);delete r[t]}}var i,n,a;for(a in o){var l=o[a];if(l instanceof HTMLElement){this.logoLi_.appendChild(l);r[a]=l}if(!(a in r)){i=new Image;i.src=a;if(l===""){n=i}else{n=document.createElement("a");n.href=l;n.appendChild(i)}this.logoLi_.appendChild(n);r[a]=n}}this.logoLi_.style.display=!ol.obj.isEmpty(o)?"":"none"};ol.control.Attribution.prototype.handleClick_=function(e){e.preventDefault();this.handleToggle_()};ol.control.Attribution.prototype.handleToggle_=function(){this.element.classList.toggle("ol-collapsed");if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else{ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_};ol.control.Attribution.prototype.getCollapsible=function(){return this.collapsible_};ol.control.Attribution.prototype.setCollapsible=function(e){if(this.collapsible_===e){return}this.collapsible_=e;this.element.classList.toggle("ol-uncollapsible");if(!e&&this.collapsed_){this.handleToggle_()}};ol.control.Attribution.prototype.setCollapsed=function(e){if(!this.collapsible_||this.collapsed_===e){return}this.handleToggle_()};ol.control.Attribution.prototype.getCollapsed=function(){return this.collapsed_};goog.provide("ol.easing");ol.easing.easeIn=function(e){return Math.pow(e,3)};ol.easing.easeOut=function(e){return 1-ol.easing.easeIn(1-e)};ol.easing.inAndOut=function(e){return 3*e*e-2*e*e*e};ol.easing.linear=function(e){return e};ol.easing.upAndDown=function(e){if(e<.5){return ol.easing.inAndOut(2*e)}else{return 1-ol.easing.inAndOut(2*(e-.5))}};goog.provide("ol.control.Rotate");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");ol.control.Rotate=function(e){var t=e?e:{};var o=t.className!==undefined?t.className:"ol-rotate";var r=t.label!==undefined?t.label:"";this.label_=null;if(typeof r==="string"){this.label_=document.createElement("span");this.label_.className="ol-compass";this.label_.textContent=r}else{this.label_=r;this.label_.classList.add("ol-compass")}var i=t.tipLabel?t.tipLabel:"Reset rotation";var n=document.createElement("button");n.className=o+"-reset";n.setAttribute("type","button");n.title=i;n.appendChild(this.label_);ol.events.listen(n,ol.events.EventType.CLICK,ol.control.Rotate.prototype.handleClick_,this);var a=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;var l=document.createElement("div");l.className=a;l.appendChild(n);var s=t.render?t.render:ol.control.Rotate.render;this.callResetNorth_=t.resetNorth?t.resetNorth:undefined;ol.control.Control.call(this,{element:l,render:s,target:t.target});this.duration_=t.duration!==undefined?t.duration:250;this.autoHide_=t.autoHide!==undefined?t.autoHide:true;this.rotation_=undefined;if(this.autoHide_){this.element.classList.add(ol.css.CLASS_HIDDEN)}};ol.inherits(ol.control.Rotate,ol.control.Control);ol.control.Rotate.prototype.handleClick_=function(e){e.preventDefault();if(this.callResetNorth_!==undefined){this.callResetNorth_()}else{this.resetNorth_()}};ol.control.Rotate.prototype.resetNorth_=function(){var e=this.getMap();var t=e.getView();if(!t){return}var o=t.getRotation();if(o!==undefined){if(this.duration_>0){o=o%(2*Math.PI);if(o<-Math.PI){o+=2*Math.PI}if(o>Math.PI){o-=2*Math.PI}t.animate({rotation:0,duration:this.duration_,easing:ol.easing.easeOut})}else{t.setRotation(0)}}};ol.control.Rotate.render=function(e){var t=e.frameState;if(!t){return}var o=t.viewState.rotation;if(o!=this.rotation_){var r="rotate("+o+"rad)";if(this.autoHide_){var i=this.element.classList.contains(ol.css.CLASS_HIDDEN);if(!i&&o===0){this.element.classList.add(ol.css.CLASS_HIDDEN)}else if(i&&o!==0){this.element.classList.remove(ol.css.CLASS_HIDDEN)}}this.label_.style.msTransform=r;this.label_.style.webkitTransform=r;this.label_.style.transform=r}this.rotation_=o};goog.provide("ol.control.Zoom");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");ol.control.Zoom=function(e){var t=e?e:{};var o=t.className!==undefined?t.className:"ol-zoom";var r=t.delta!==undefined?t.delta:1;var i=t.zoomInLabel!==undefined?t.zoomInLabel:"+";var n=t.zoomOutLabel!==undefined?t.zoomOutLabel:"";var a=t.zoomInTipLabel!==undefined?t.zoomInTipLabel:"Zoom in";var l=t.zoomOutTipLabel!==undefined?t.zoomOutTipLabel:"Zoom out";var s=document.createElement("button");s.className=o+"-in";s.setAttribute("type","button");s.title=a;s.appendChild(typeof i==="string"?document.createTextNode(i):i);ol.events.listen(s,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,r));var p=document.createElement("button");p.className=o+"-out";p.setAttribute("type","button");p.title=l;p.appendChild(typeof n==="string"?document.createTextNode(n):n);ol.events.listen(p,ol.events.EventType.CLICK,ol.control.Zoom.prototype.handleClick_.bind(this,-r));var u=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;var c=document.createElement("div");c.className=u;c.appendChild(s);c.appendChild(p);ol.control.Control.call(this,{element:c,target:t.target});this.duration_=t.duration!==undefined?t.duration:250};ol.inherits(ol.control.Zoom,ol.control.Control);ol.control.Zoom.prototype.handleClick_=function(e,t){t.preventDefault();this.zoomByDelta_(e)};ol.control.Zoom.prototype.zoomByDelta_=function(e){var t=this.getMap();var o=t.getView();if(!o){return}var r=o.getResolution();if(r){var i=o.constrainResolution(r,e);if(this.duration_>0){if(o.getAnimating()){o.cancelAnimations()}o.animate({resolution:i,duration:this.duration_,easing:ol.easing.easeOut})}else{o.setResolution(i)}}};goog.provide("ol.control");goog.require("ol.Collection");goog.require("ol.control.Attribution");goog.require("ol.control.Rotate");goog.require("ol.control.Zoom");ol.control.defaults=function(e){var t=e?e:{};var o=new ol.Collection;var r=t.zoom!==undefined?t.zoom:true;if(r){o.push(new ol.control.Zoom(t.zoomOptions))}var i=t.rotate!==undefined?t.rotate:true;if(i){o.push(new ol.control.Rotate(t.rotateOptions))}var n=t.attribution!==undefined?t.attribution:true;if(n){o.push(new ol.control.Attribution(t.attributionOptions))}return o};goog.provide("ol.control.FullScreen");goog.require("ol");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");ol.control.FullScreen=function(e){var t=e?e:{};this.cssClassName_=t.className!==undefined?t.className:"ol-full-screen";var o=t.label!==undefined?t.label:"";this.labelNode_=typeof o==="string"?document.createTextNode(o):o;var r=t.labelActive!==undefined?t.labelActive:"";this.labelActiveNode_=typeof r==="string"?document.createTextNode(r):r;var i=t.tipLabel?t.tipLabel:"Toggle full-screen";var n=document.createElement("button");n.className=this.cssClassName_+"-"+ol.control.FullScreen.isFullScreen();n.setAttribute("type","button");n.title=i;n.appendChild(this.labelNode_);ol.events.listen(n,ol.events.EventType.CLICK,this.handleClick_,this);var a=this.cssClassName_+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+" "+(!ol.control.FullScreen.isFullScreenSupported()?ol.css.CLASS_UNSUPPORTED:"");var l=document.createElement("div");l.className=a;l.appendChild(n);ol.control.Control.call(this,{element:l,target:t.target});this.keys_=t.keys!==undefined?t.keys:false;this.source_=t.source};ol.inherits(ol.control.FullScreen,ol.control.Control);ol.control.FullScreen.prototype.handleClick_=function(e){e.preventDefault();this.handleFullScreen_()};ol.control.FullScreen.prototype.handleFullScreen_=function(){if(!ol.control.FullScreen.isFullScreenSupported()){return}var e=this.getMap();if(!e){return}if(ol.control.FullScreen.isFullScreen()){ol.control.FullScreen.exitFullScreen()}else{var t;if(this.source_){t=typeof this.source_==="string"?document.getElementById(this.source_):this.source_}else{t=e.getTargetElement()}if(this.keys_){ol.control.FullScreen.requestFullScreenWithKeys(t)}else{ol.control.FullScreen.requestFullScreen(t)}}};ol.control.FullScreen.prototype.handleFullScreenChange_=function(){var e=this.element.firstElementChild;var t=this.getMap();if(ol.control.FullScreen.isFullScreen()){e.className=this.cssClassName_+"-true";ol.dom.replaceNode(this.labelActiveNode_,this.labelNode_)}else{e.className=this.cssClassName_+"-false";ol.dom.replaceNode(this.labelNode_,this.labelActiveNode_)}if(t){t.updateSize()}};ol.control.FullScreen.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e);if(e){this.listenerKeys.push(ol.events.listen(document,ol.control.FullScreen.getChangeType_(),this.handleFullScreenChange_,this))}};ol.control.FullScreen.isFullScreenSupported=function(){var e=document.body;return!!(e.webkitRequestFullscreen||e.mozRequestFullScreen&&document.mozFullScreenEnabled||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)};ol.control.FullScreen.isFullScreen=function(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)};ol.control.FullScreen.requestFullScreen=function(e){if(e.requestFullscreen){e.requestFullscreen()}else if(e.msRequestFullscreen){e.msRequestFullscreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen()}};ol.control.FullScreen.requestFullScreenWithKeys=function(e){if(e.mozRequestFullScreenWithKeys){e.mozRequestFullScreenWithKeys()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}else{ol.control.FullScreen.requestFullScreen(e)}};ol.control.FullScreen.exitFullScreen=function(){if(document.exitFullscreen){document.exitFullscreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}};ol.control.FullScreen.getChangeType_=function(){var e;return function(){if(!e){var t=document.body;if(t.webkitRequestFullscreen){e="webkitfullscreenchange"}else if(t.mozRequestFullScreen){e="mozfullscreenchange"}else if(t.msRequestFullscreen){e="MSFullscreenChange"}else if(t.requestFullscreen){e="fullscreenchange"}}return e}}();goog.provide("ol.control.MousePosition");
goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.Object");goog.require("ol.control.Control");goog.require("ol.proj");ol.control.MousePosition=function(e){var t=e?e:{};var o=document.createElement("DIV");o.className=t.className!==undefined?t.className:"ol-mouse-position";var r=t.render?t.render:ol.control.MousePosition.render;ol.control.Control.call(this,{element:o,render:r,target:t.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.MousePosition.Property_.PROJECTION),this.handleProjectionChanged_,this);if(t.coordinateFormat){this.setCoordinateFormat(t.coordinateFormat)}if(t.projection){this.setProjection(ol.proj.get(t.projection))}this.undefinedHTML_=t.undefinedHTML!==undefined?t.undefinedHTML:"";this.renderedHTML_=o.innerHTML;this.mapProjection_=null;this.transform_=null;this.lastMouseMovePixel_=null};ol.inherits(ol.control.MousePosition,ol.control.Control);ol.control.MousePosition.render=function(e){var t=e.frameState;if(!t){this.mapProjection_=null}else{if(this.mapProjection_!=t.viewState.projection){this.mapProjection_=t.viewState.projection;this.transform_=null}}this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleProjectionChanged_=function(){this.transform_=null};ol.control.MousePosition.prototype.getCoordinateFormat=function(){return this.get(ol.control.MousePosition.Property_.COORDINATE_FORMAT)};ol.control.MousePosition.prototype.getProjection=function(){return this.get(ol.control.MousePosition.Property_.PROJECTION)};ol.control.MousePosition.prototype.handleMouseMove=function(e){var t=this.getMap();this.lastMouseMovePixel_=t.getEventPixel(e);this.updateHTML_(this.lastMouseMovePixel_)};ol.control.MousePosition.prototype.handleMouseOut=function(e){this.updateHTML_(null);this.lastMouseMovePixel_=null};ol.control.MousePosition.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e);if(e){var t=e.getViewport();this.listenerKeys.push(ol.events.listen(t,ol.events.EventType.MOUSEMOVE,this.handleMouseMove,this),ol.events.listen(t,ol.events.EventType.MOUSEOUT,this.handleMouseOut,this))}};ol.control.MousePosition.prototype.setCoordinateFormat=function(e){this.set(ol.control.MousePosition.Property_.COORDINATE_FORMAT,e)};ol.control.MousePosition.prototype.setProjection=function(e){this.set(ol.control.MousePosition.Property_.PROJECTION,e)};ol.control.MousePosition.prototype.updateHTML_=function(e){var t=this.undefinedHTML_;if(e&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();if(o){this.transform_=ol.proj.getTransformFromProjections(this.mapProjection_,o)}else{this.transform_=ol.proj.identityTransform}}var r=this.getMap();var i=r.getCoordinateFromPixel(e);if(i){this.transform_(i,i);var n=this.getCoordinateFormat();if(n){t=n(i)}else{t=i.toString()}}}if(!this.renderedHTML_||t!=this.renderedHTML_){this.element.innerHTML=t;this.renderedHTML_=t}};ol.control.MousePosition.Property_={PROJECTION:"projection",COORDINATE_FORMAT:"coordinateFormat"};goog.provide("ol.MapEvent");goog.require("ol");goog.require("ol.events.Event");ol.MapEvent=function(e,t,o){ol.events.Event.call(this,e);this.map=t;this.frameState=o!==undefined?o:null};ol.inherits(ol.MapEvent,ol.events.Event);goog.provide("ol.MapBrowserEvent");goog.require("ol");goog.require("ol.MapEvent");ol.MapBrowserEvent=function(e,t,o,r,i){ol.MapEvent.call(this,e,t,i);this.originalEvent=o;this.pixel=t.getEventPixel(o);this.coordinate=t.getCoordinateFromPixel(this.pixel);this.dragging=r!==undefined?r:false};ol.inherits(ol.MapBrowserEvent,ol.MapEvent);ol.MapBrowserEvent.prototype.preventDefault=function(){ol.MapEvent.prototype.preventDefault.call(this);this.originalEvent.preventDefault()};ol.MapBrowserEvent.prototype.stopPropagation=function(){ol.MapEvent.prototype.stopPropagation.call(this);this.originalEvent.stopPropagation()};goog.provide("ol.MapBrowserEventType");goog.require("ol.events.EventType");ol.MapBrowserEventType={SINGLECLICK:"singleclick",CLICK:ol.events.EventType.CLICK,DBLCLICK:ol.events.EventType.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};goog.provide("ol.MapBrowserPointerEvent");goog.require("ol");goog.require("ol.MapBrowserEvent");ol.MapBrowserPointerEvent=function(e,t,o,r,i){ol.MapBrowserEvent.call(this,e,t,o.originalEvent,r,i);this.pointerEvent=o};ol.inherits(ol.MapBrowserPointerEvent,ol.MapBrowserEvent);goog.provide("ol.pointer.EventType");ol.pointer.EventType={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};goog.provide("ol.webgl");goog.require("ol");if(ol.ENABLE_WEBGL){ol.webgl.ONE=1;ol.webgl.SRC_ALPHA=770;ol.webgl.COLOR_ATTACHMENT0=36064;ol.webgl.COLOR_BUFFER_BIT=16384;ol.webgl.TRIANGLES=4;ol.webgl.TRIANGLE_STRIP=5;ol.webgl.ONE_MINUS_SRC_ALPHA=771;ol.webgl.ARRAY_BUFFER=34962;ol.webgl.ELEMENT_ARRAY_BUFFER=34963;ol.webgl.STREAM_DRAW=35040;ol.webgl.STATIC_DRAW=35044;ol.webgl.DYNAMIC_DRAW=35048;ol.webgl.CULL_FACE=2884;ol.webgl.BLEND=3042;ol.webgl.STENCIL_TEST=2960;ol.webgl.DEPTH_TEST=2929;ol.webgl.SCISSOR_TEST=3089;ol.webgl.UNSIGNED_BYTE=5121;ol.webgl.UNSIGNED_SHORT=5123;ol.webgl.UNSIGNED_INT=5125;ol.webgl.FLOAT=5126;ol.webgl.RGBA=6408;ol.webgl.FRAGMENT_SHADER=35632;ol.webgl.VERTEX_SHADER=35633;ol.webgl.LINK_STATUS=35714;ol.webgl.LINEAR=9729;ol.webgl.TEXTURE_MAG_FILTER=10240;ol.webgl.TEXTURE_MIN_FILTER=10241;ol.webgl.TEXTURE_WRAP_S=10242;ol.webgl.TEXTURE_WRAP_T=10243;ol.webgl.TEXTURE_2D=3553;ol.webgl.TEXTURE0=33984;ol.webgl.CLAMP_TO_EDGE=33071;ol.webgl.COMPILE_STATUS=35713;ol.webgl.FRAMEBUFFER=36160;ol.webgl.CONTEXT_IDS_=["experimental-webgl","webgl","webkit-3d","moz-webgl"];ol.webgl.getContext=function(e,t){var o,r,i=ol.webgl.CONTEXT_IDS_.length;for(r=0;r<i;++r){try{o=e.getContext(ol.webgl.CONTEXT_IDS_[r],t);if(o){return o}}catch(n){}}return null}}goog.provide("ol.has");goog.require("ol");goog.require("ol.webgl");var ua=typeof navigator!=="undefined"?navigator.userAgent.toLowerCase():"";ol.has.FIREFOX=ua.indexOf("firefox")!==-1;ol.has.SAFARI=ua.indexOf("safari")!==-1&&ua.indexOf("chrom")==-1;ol.has.WEBKIT=ua.indexOf("webkit")!==-1&&ua.indexOf("edge")==-1;ol.has.MAC=ua.indexOf("macintosh")!==-1;ol.has.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1;ol.has.CANVAS_LINE_DASH=false;ol.has.CANVAS=ol.ENABLE_CANVAS&&function(){if(!("HTMLCanvasElement"in window)){return false}try{var e=document.createElement("CANVAS").getContext("2d");if(!e){return false}else{if(e.setLineDash!==undefined){ol.has.CANVAS_LINE_DASH=true}return true}}catch(t){return false}}();ol.has.DEVICE_ORIENTATION="DeviceOrientationEvent"in window;ol.has.GEOLOCATION="geolocation"in navigator;ol.has.TOUCH=ol.ASSUME_TOUCH||"ontouchstart"in window;ol.has.POINTER="PointerEvent"in window;ol.has.MSPOINTER=!!navigator.msPointerEnabled;ol.has.WEBGL;(function(){if(ol.ENABLE_WEBGL){var e=false;var t;var o=[];if("WebGLRenderingContext"in window){try{var r=document.createElement("CANVAS");var i=ol.webgl.getContext(r,{failIfMajorPerformanceCaveat:true});if(i){e=true;t=i.getParameter(i.MAX_TEXTURE_SIZE);o=i.getSupportedExtensions()}}catch(n){}}ol.has.WEBGL=e;ol.WEBGL_EXTENSIONS=o;ol.WEBGL_MAX_TEXTURE_SIZE=t}})();goog.provide("ol.pointer.EventSource");ol.pointer.EventSource=function(e,t){this.dispatcher=e;this.mapping_=t};ol.pointer.EventSource.prototype.getEvents=function(){return Object.keys(this.mapping_)};ol.pointer.EventSource.prototype.getMapping=function(){return this.mapping_};ol.pointer.EventSource.prototype.getHandlerForEvent=function(e){return this.mapping_[e]};goog.provide("ol.pointer.MouseSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.MouseSource=function(e){var t={mousedown:this.mousedown,mousemove:this.mousemove,mouseup:this.mouseup,mouseover:this.mouseover,mouseout:this.mouseout};ol.pointer.EventSource.call(this,e,t);this.pointerMap=e.pointerMap;this.lastTouches=[]};ol.inherits(ol.pointer.MouseSource,ol.pointer.EventSource);ol.pointer.MouseSource.POINTER_ID=1;ol.pointer.MouseSource.POINTER_TYPE="mouse";ol.pointer.MouseSource.DEDUP_DIST=25;ol.pointer.MouseSource.prototype.isEventSimulatedFromTouch_=function(e){var t=this.lastTouches;var o=e.clientX,r=e.clientY;for(var i=0,n=t.length,a;i<n&&(a=t[i]);i++){var l=Math.abs(o-a[0]),s=Math.abs(r-a[1]);if(l<=ol.pointer.MouseSource.DEDUP_DIST&&s<=ol.pointer.MouseSource.DEDUP_DIST){return true}}return false};ol.pointer.MouseSource.prepareEvent=function(e,t){var o=t.cloneEvent(e,e);var r=o.preventDefault;o.preventDefault=function(){e.preventDefault();r()};o.pointerId=ol.pointer.MouseSource.POINTER_ID;o.isPrimary=true;o.pointerType=ol.pointer.MouseSource.POINTER_TYPE;return o};ol.pointer.MouseSource.prototype.mousedown=function(e){if(!this.isEventSimulatedFromTouch_(e)){if(ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap){this.cancel(e)}var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]=e;this.dispatcher.down(t,e)}};ol.pointer.MouseSource.prototype.mousemove=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.move(t,e)}};ol.pointer.MouseSource.prototype.mouseup=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()];if(t&&t.button===e.button){var o=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.up(o,e);this.cleanupMouse()}}};ol.pointer.MouseSource.prototype.mouseover=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.enterOver(t,e)}};ol.pointer.MouseSource.prototype.mouseout=function(e){if(!this.isEventSimulatedFromTouch_(e)){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.leaveOut(t,e)}};ol.pointer.MouseSource.prototype.cancel=function(e){var t=ol.pointer.MouseSource.prepareEvent(e,this.dispatcher);this.dispatcher.cancel(t,e);this.cleanupMouse()};ol.pointer.MouseSource.prototype.cleanupMouse=function(){delete this.pointerMap[ol.pointer.MouseSource.POINTER_ID.toString()]};goog.provide("ol.pointer.MsSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.MsSource=function(e){var t={MSPointerDown:this.msPointerDown,MSPointerMove:this.msPointerMove,MSPointerUp:this.msPointerUp,MSPointerOut:this.msPointerOut,MSPointerOver:this.msPointerOver,MSPointerCancel:this.msPointerCancel,MSGotPointerCapture:this.msGotPointerCapture,MSLostPointerCapture:this.msLostPointerCapture};ol.pointer.EventSource.call(this,e,t);this.pointerMap=e.pointerMap;this.POINTER_TYPES=["","unavailable","touch","pen","mouse"]};ol.inherits(ol.pointer.MsSource,ol.pointer.EventSource);ol.pointer.MsSource.prototype.prepareEvent_=function(e){var t=e;if(typeof e.pointerType==="number"){t=this.dispatcher.cloneEvent(e,e);t.pointerType=this.POINTER_TYPES[e.pointerType]}return t};ol.pointer.MsSource.prototype.cleanup=function(e){delete this.pointerMap[e.toString()]};ol.pointer.MsSource.prototype.msPointerDown=function(e){this.pointerMap[e.pointerId.toString()]=e;var t=this.prepareEvent_(e);this.dispatcher.down(t,e)};ol.pointer.MsSource.prototype.msPointerMove=function(e){var t=this.prepareEvent_(e);this.dispatcher.move(t,e)};ol.pointer.MsSource.prototype.msPointerUp=function(e){var t=this.prepareEvent_(e);this.dispatcher.up(t,e);this.cleanup(e.pointerId)};ol.pointer.MsSource.prototype.msPointerOut=function(e){var t=this.prepareEvent_(e);this.dispatcher.leaveOut(t,e)};ol.pointer.MsSource.prototype.msPointerOver=function(e){var t=this.prepareEvent_(e);this.dispatcher.enterOver(t,e)};ol.pointer.MsSource.prototype.msPointerCancel=function(e){var t=this.prepareEvent_(e);this.dispatcher.cancel(t,e);this.cleanup(e.pointerId)};ol.pointer.MsSource.prototype.msLostPointerCapture=function(e){var t=this.dispatcher.makeEvent("lostpointercapture",e,e);this.dispatcher.dispatchEvent(t)};ol.pointer.MsSource.prototype.msGotPointerCapture=function(e){var t=this.dispatcher.makeEvent("gotpointercapture",e,e);this.dispatcher.dispatchEvent(t)};goog.provide("ol.pointer.NativeSource");goog.require("ol");goog.require("ol.pointer.EventSource");ol.pointer.NativeSource=function(e){var t={pointerdown:this.pointerDown,pointermove:this.pointerMove,pointerup:this.pointerUp,pointerout:this.pointerOut,pointerover:this.pointerOver,pointercancel:this.pointerCancel,gotpointercapture:this.gotPointerCapture,lostpointercapture:this.lostPointerCapture};ol.pointer.EventSource.call(this,e,t)};ol.inherits(ol.pointer.NativeSource,ol.pointer.EventSource);ol.pointer.NativeSource.prototype.pointerDown=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerMove=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerUp=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerOut=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerOver=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.pointerCancel=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.lostPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)};ol.pointer.NativeSource.prototype.gotPointerCapture=function(e){this.dispatcher.fireNativeEvent(e)};goog.provide("ol.pointer.PointerEvent");goog.require("ol");goog.require("ol.events.Event");ol.pointer.PointerEvent=function(e,t,o){ol.events.Event.call(this,e);this.originalEvent=t;var r=o?o:{};this.buttons=this.getButtons_(r);this.pressure=this.getPressure_(r,this.buttons);this.bubbles="bubbles"in r?r["bubbles"]:false;this.cancelable="cancelable"in r?r["cancelable"]:false;this.view="view"in r?r["view"]:null;this.detail="detail"in r?r["detail"]:null;this.screenX="screenX"in r?r["screenX"]:0;this.screenY="screenY"in r?r["screenY"]:0;this.clientX="clientX"in r?r["clientX"]:0;this.clientY="clientY"in r?r["clientY"]:0;this.ctrlKey="ctrlKey"in r?r["ctrlKey"]:false;this.altKey="altKey"in r?r["altKey"]:false;this.shiftKey="shiftKey"in r?r["shiftKey"]:false;this.metaKey="metaKey"in r?r["metaKey"]:false;this.button="button"in r?r["button"]:0;this.relatedTarget="relatedTarget"in r?r["relatedTarget"]:null;this.pointerId="pointerId"in r?r["pointerId"]:0;this.width="width"in r?r["width"]:0;this.height="height"in r?r["height"]:0;this.tiltX="tiltX"in r?r["tiltX"]:0;this.tiltY="tiltY"in r?r["tiltY"]:0;this.pointerType="pointerType"in r?r["pointerType"]:"";this.hwTimestamp="hwTimestamp"in r?r["hwTimestamp"]:0;this.isPrimary="isPrimary"in r?r["isPrimary"]:false;if(t.preventDefault){this.preventDefault=function(){t.preventDefault()}}};ol.inherits(ol.pointer.PointerEvent,ol.events.Event);ol.pointer.PointerEvent.prototype.getButtons_=function(e){var t;if(e.buttons||ol.pointer.PointerEvent.HAS_BUTTONS){t=e.buttons}else{switch(e.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}}return t};ol.pointer.PointerEvent.prototype.getPressure_=function(e,t){var o=0;if(e.pressure){o=e.pressure}else{o=t?.5:0}return o};ol.pointer.PointerEvent.HAS_BUTTONS=false;(function(){try{var e=new MouseEvent("click",{buttons:1});ol.pointer.PointerEvent.HAS_BUTTONS=e.buttons===1}catch(t){}})();goog.provide("ol.pointer.TouchSource");goog.require("ol");goog.require("ol.array");goog.require("ol.pointer.EventSource");goog.require("ol.pointer.MouseSource");ol.pointer.TouchSource=function(e,t){var o={touchstart:this.touchstart,touchmove:this.touchmove,touchend:this.touchend,touchcancel:this.touchcancel};ol.pointer.EventSource.call(this,e,o);this.pointerMap=e.pointerMap;this.mouseSource=t;this.firstTouchId_=undefined;this.clickCount_=0;this.resetId_=undefined};ol.inherits(ol.pointer.TouchSource,ol.pointer.EventSource);ol.pointer.TouchSource.DEDUP_TIMEOUT=2500;ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT=200;ol.pointer.TouchSource.POINTER_TYPE="touch";ol.pointer.TouchSource.prototype.isPrimaryTouch_=function(e){return this.firstTouchId_===e.identifier};ol.pointer.TouchSource.prototype.setPrimaryTouch_=function(e){var t=Object.keys(this.pointerMap).length;if(t===0||t===1&&ol.pointer.MouseSource.POINTER_ID.toString()in this.pointerMap){this.firstTouchId_=e.identifier;this.cancelResetClickCount_()}};ol.pointer.TouchSource.prototype.removePrimaryPointer_=function(e){if(e.isPrimary){this.firstTouchId_=undefined;this.resetClickCount_()}};ol.pointer.TouchSource.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),ol.pointer.TouchSource.CLICK_COUNT_TIMEOUT)};ol.pointer.TouchSource.prototype.resetClickCountHandler_=function(){this.clickCount_=0;this.resetId_=undefined};ol.pointer.TouchSource.prototype.cancelResetClickCount_=function(){if(this.resetId_!==undefined){clearTimeout(this.resetId_)}};ol.pointer.TouchSource.prototype.touchToPointer_=function(e,t){var o=this.dispatcher.cloneEvent(e,t);o.pointerId=t.identifier+2;o.bubbles=true;o.cancelable=true;o.detail=this.clickCount_;o.button=0;o.buttons=1;o.width=t.webkitRadiusX||t.radiusX||0;o.height=t.webkitRadiusY||t.radiusY||0;o.pressure=t.webkitForce||t.force||.5;o.isPrimary=this.isPrimaryTouch_(t);o.pointerType=ol.pointer.TouchSource.POINTER_TYPE;o.clientX=t.clientX;o.clientY=t.clientY;o.screenX=t.screenX;o.screenY=t.screenY;return o};ol.pointer.TouchSource.prototype.processTouches_=function(e,t){var o=Array.prototype.slice.call(e.changedTouches);var r=o.length;function i(){e.preventDefault()}var n,a;for(n=0;n<r;++n){a=this.touchToPointer_(e,o[n]);a.preventDefault=i;t.call(this,e,a)}};ol.pointer.TouchSource.prototype.findTouch_=function(e,t){var o=e.length;var r;for(var i=0;i<o;i++){r=e[i];if(r.identifier===t){return true}}return false};ol.pointer.TouchSource.prototype.vacuumTouches_=function(e){var t=e.touches;var o=Object.keys(this.pointerMap);var r=o.length;if(r>=t.length){var i=[];var n,a,l;for(n=0;n<r;++n){a=o[n];l=this.pointerMap[a];if(a!=ol.pointer.MouseSource.POINTER_ID&&!this.findTouch_(t,a-2)){i.push(l.out)}}for(n=0;n<i.length;++n){this.cancelOut_(e,i[n])}}};ol.pointer.TouchSource.prototype.touchstart=function(e){this.vacuumTouches_(e);this.setPrimaryTouch_(e.changedTouches[0]);this.dedupSynthMouse_(e);this.clickCount_++;this.processTouches_(e,this.overDown_)};ol.pointer.TouchSource.prototype.overDown_=function(e,t){this.pointerMap[t.pointerId]={target:t.target,out:t,outTarget:t.target};this.dispatcher.over(t,e);this.dispatcher.enter(t,e);this.dispatcher.down(t,e)};ol.pointer.TouchSource.prototype.touchmove=function(e){e.preventDefault();this.processTouches_(e,this.moveOverOut_)};ol.pointer.TouchSource.prototype.moveOverOut_=function(e,t){var o=t;var r=this.pointerMap[o.pointerId];if(!r){return}var i=r.out;var n=r.outTarget;this.dispatcher.move(o,e);if(i&&n!==o.target){i.relatedTarget=o.target;o.relatedTarget=n;i.target=n;if(o.target){this.dispatcher.leaveOut(i,e);this.dispatcher.enterOver(o,e)}else{o.target=n;o.relatedTarget=null;this.cancelOut_(e,o)}}r.out=o;r.outTarget=o.target};ol.pointer.TouchSource.prototype.touchend=function(e){this.dedupSynthMouse_(e);this.processTouches_(e,this.upOut_)};ol.pointer.TouchSource.prototype.upOut_=function(e,t){this.dispatcher.up(t,e);this.dispatcher.out(t,e);this.dispatcher.leave(t,e);this.cleanUpPointer_(t)};ol.pointer.TouchSource.prototype.touchcancel=function(e){this.processTouches_(e,this.cancelOut_)};ol.pointer.TouchSource.prototype.cancelOut_=function(e,t){this.dispatcher.cancel(t,e);this.dispatcher.out(t,e);this.dispatcher.leave(t,e);this.cleanUpPointer_(t)};ol.pointer.TouchSource.prototype.cleanUpPointer_=function(e){delete this.pointerMap[e.pointerId];this.removePrimaryPointer_(e)};ol.pointer.TouchSource.prototype.dedupSynthMouse_=function(e){var t=this.mouseSource.lastTouches;var o=e.changedTouches[0];if(this.isPrimaryTouch_(o)){var r=[o.clientX,o.clientY];t.push(r);setTimeout(function(){ol.array.remove(t,r)},ol.pointer.TouchSource.DEDUP_TIMEOUT)}};goog.provide("ol.pointer.PointerEventHandler");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.has");goog.require("ol.pointer.EventType");goog.require("ol.pointer.MouseSource");goog.require("ol.pointer.MsSource");goog.require("ol.pointer.NativeSource");goog.require("ol.pointer.PointerEvent");goog.require("ol.pointer.TouchSource");ol.pointer.PointerEventHandler=function(e){ol.events.EventTarget.call(this);this.element_=e;this.pointerMap={};this.eventMap_={};this.eventSourceList_=[];this.registerSources()};ol.inherits(ol.pointer.PointerEventHandler,ol.events.EventTarget);ol.pointer.PointerEventHandler.prototype.registerSources=function(){if(ol.has.POINTER){this.registerSource("native",new ol.pointer.NativeSource(this))}else if(ol.has.MSPOINTER){this.registerSource("ms",new ol.pointer.MsSource(this))}else{var e=new ol.pointer.MouseSource(this);this.registerSource("mouse",e);if(ol.has.TOUCH){this.registerSource("touch",new ol.pointer.TouchSource(this,e))}}this.register_()};ol.pointer.PointerEventHandler.prototype.registerSource=function(e,t){var o=t;var r=o.getEvents();if(r){r.forEach(function(e){var t=o.getHandlerForEvent(e);if(t){this.eventMap_[e]=t.bind(o)}},this);this.eventSourceList_.push(o)}};ol.pointer.PointerEventHandler.prototype.register_=function(){var e=this.eventSourceList_.length;var t;for(var o=0;o<e;o++){t=this.eventSourceList_[o];this.addEvents_(t.getEvents())}};ol.pointer.PointerEventHandler.prototype.unregister_=function(){var e=this.eventSourceList_.length;var t;for(var o=0;o<e;o++){t=this.eventSourceList_[o];this.removeEvents_(t.getEvents())}};ol.pointer.PointerEventHandler.prototype.eventHandler_=function(e){var t=e.type;var o=this.eventMap_[t];if(o){o(e)}};ol.pointer.PointerEventHandler.prototype.addEvents_=function(e){e.forEach(function(e){ol.events.listen(this.element_,e,this.eventHandler_,this)},this)};ol.pointer.PointerEventHandler.prototype.removeEvents_=function(e){e.forEach(function(e){ol.events.unlisten(this.element_,e,this.eventHandler_,this)},this)};ol.pointer.PointerEventHandler.prototype.cloneEvent=function(e,t){var o={},r;for(var i=0,n=ol.pointer.PointerEventHandler.CLONE_PROPS.length;i<n;i++){r=ol.pointer.PointerEventHandler.CLONE_PROPS[i][0];o[r]=e[r]||t[r]||ol.pointer.PointerEventHandler.CLONE_PROPS[i][1]}return o};ol.pointer.PointerEventHandler.prototype.down=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERDOWN,e,t)};ol.pointer.PointerEventHandler.prototype.move=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERMOVE,e,t)};ol.pointer.PointerEventHandler.prototype.up=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERUP,e,t)};ol.pointer.PointerEventHandler.prototype.enter=function(e,t){e.bubbles=false;this.fireEvent(ol.pointer.EventType.POINTERENTER,e,t)};ol.pointer.PointerEventHandler.prototype.leave=function(e,t){e.bubbles=false;this.fireEvent(ol.pointer.EventType.POINTERLEAVE,e,t)};ol.pointer.PointerEventHandler.prototype.over=function(e,t){e.bubbles=true;this.fireEvent(ol.pointer.EventType.POINTEROVER,e,t)};ol.pointer.PointerEventHandler.prototype.out=function(e,t){e.bubbles=true;this.fireEvent(ol.pointer.EventType.POINTEROUT,e,t)};ol.pointer.PointerEventHandler.prototype.cancel=function(e,t){this.fireEvent(ol.pointer.EventType.POINTERCANCEL,e,t)};ol.pointer.PointerEventHandler.prototype.leaveOut=function(e,t){this.out(e,t);if(!this.contains_(e.target,e.relatedTarget)){this.leave(e,t)}};ol.pointer.PointerEventHandler.prototype.enterOver=function(e,t){this.over(e,t);if(!this.contains_(e.target,e.relatedTarget)){this.enter(e,t)}};ol.pointer.PointerEventHandler.prototype.contains_=function(e,t){if(!e||!t){return false}return e.contains(t)};ol.pointer.PointerEventHandler.prototype.makeEvent=function(e,t,o){return new ol.pointer.PointerEvent(e,o,t)};ol.pointer.PointerEventHandler.prototype.fireEvent=function(e,t,o){var r=this.makeEvent(e,t,o);this.dispatchEvent(r)};ol.pointer.PointerEventHandler.prototype.fireNativeEvent=function(e){var t=this.makeEvent(e.type,e,e);this.dispatchEvent(t)};ol.pointer.PointerEventHandler.prototype.wrapMouseEvent=function(e,t){var o=this.makeEvent(e,ol.pointer.MouseSource.prepareEvent(t,this),t);return o};ol.pointer.PointerEventHandler.prototype.disposeInternal=function(){this.unregister_();ol.events.EventTarget.prototype.disposeInternal.call(this)};ol.pointer.PointerEventHandler.CLONE_PROPS=[["bubbles",false],["cancelable",false],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",false],["altKey",false],["shiftKey",false],["metaKey",false],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",false],["type",""],["target",null],["currentTarget",null],["which",0]];goog.provide("ol.MapBrowserEventHandler");goog.require("ol");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.pointer.EventType");goog.require("ol.pointer.PointerEventHandler");ol.MapBrowserEventHandler=function(e){ol.events.EventTarget.call(this);this.map_=e;this.clickTimeoutId_=0;this.dragging_=false;this.dragListenerKeys_=[];this.down_=null;var t=this.map_.getViewport();this.activePointers_=0;this.trackedTouches_={};this.pointerEventHandler_=new ol.pointer.PointerEventHandler(t);this.documentPointerEventHandler_=null;this.pointerdownListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERDOWN,this.handlePointerDown_,this);this.relayedListenerKey_=ol.events.listen(this.pointerEventHandler_,ol.pointer.EventType.POINTERMOVE,this.relayEvent_,this)};ol.inherits(ol.MapBrowserEventHandler,ol.events.EventTarget);ol.MapBrowserEventHandler.prototype.emulateClick_=function(e){var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.CLICK,this.map_,e);this.dispatchEvent(t);if(this.clickTimeoutId_!==0){clearTimeout(this.clickTimeoutId_);this.clickTimeoutId_=0;t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.DBLCLICK,this.map_,e);this.dispatchEvent(t)}else{this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=0;var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.SINGLECLICK,this.map_,e);this.dispatchEvent(t)}.bind(this),250)}};ol.MapBrowserEventHandler.prototype.updateActivePointers_=function(e){var t=e;if(t.type==ol.MapBrowserEventType.POINTERUP||t.type==ol.MapBrowserEventType.POINTERCANCEL){delete this.trackedTouches_[t.pointerId]}else if(t.type==ol.MapBrowserEventType.POINTERDOWN){this.trackedTouches_[t.pointerId]=true}this.activePointers_=Object.keys(this.trackedTouches_).length};ol.MapBrowserEventHandler.prototype.handlePointerUp_=function(e){this.updateActivePointers_(e);var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERUP,this.map_,e);this.dispatchEvent(t);if(!this.dragging_&&this.isMouseActionButton_(e)){this.emulateClick_(this.down_)}if(this.activePointers_===0){this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;this.dragging_=false;this.down_=null;this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}};ol.MapBrowserEventHandler.prototype.isMouseActionButton_=function(e){return e.button===0};ol.MapBrowserEventHandler.prototype.handlePointerDown_=function(e){this.updateActivePointers_(e);var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDOWN,this.map_,e);this.dispatchEvent(t);this.down_=e;if(this.dragListenerKeys_.length===0){this.documentPointerEventHandler_=new ol.pointer.PointerEventHandler(document);this.dragListenerKeys_.push(ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERMOVE,this.handlePointerMove_,this),ol.events.listen(this.documentPointerEventHandler_,ol.MapBrowserEventType.POINTERUP,this.handlePointerUp_,this),ol.events.listen(this.pointerEventHandler_,ol.MapBrowserEventType.POINTERCANCEL,this.handlePointerUp_,this))}};ol.MapBrowserEventHandler.prototype.handlePointerMove_=function(e){if(this.isMoving_(e)){this.dragging_=true;var t=new ol.MapBrowserPointerEvent(ol.MapBrowserEventType.POINTERDRAG,this.map_,e,this.dragging_);this.dispatchEvent(t)}e.preventDefault()};ol.MapBrowserEventHandler.prototype.relayEvent_=function(e){var t=!!(this.down_&&this.isMoving_(e));this.dispatchEvent(new ol.MapBrowserPointerEvent(e.type,this.map_,e,t))};ol.MapBrowserEventHandler.prototype.isMoving_=function(e){return e.clientX!=this.down_.clientX||e.clientY!=this.down_.clientY};ol.MapBrowserEventHandler.prototype.disposeInternal=function(){if(this.relayedListenerKey_){ol.events.unlistenByKey(this.relayedListenerKey_);this.relayedListenerKey_=null}if(this.pointerdownListenerKey_){ol.events.unlistenByKey(this.pointerdownListenerKey_);this.pointerdownListenerKey_=null}this.dragListenerKeys_.forEach(ol.events.unlistenByKey);this.dragListenerKeys_.length=0;if(this.documentPointerEventHandler_){this.documentPointerEventHandler_.dispose();this.documentPointerEventHandler_=null}if(this.pointerEventHandler_){this.pointerEventHandler_.dispose();this.pointerEventHandler_=null}ol.events.EventTarget.prototype.disposeInternal.call(this)};goog.provide("ol.MapProperty");ol.MapProperty={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};goog.provide("ol.TileState");ol.TileState={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};goog.provide("ol.structs.PriorityQueue");goog.require("ol.asserts");goog.require("ol.obj");ol.structs.PriorityQueue=function(e,t){this.priorityFunction_=e;this.keyFunction_=t;this.elements_=[];this.priorities_=[];this.queuedElements_={}};ol.structs.PriorityQueue.DROP=Infinity;ol.structs.PriorityQueue.prototype.clear=function(){this.elements_.length=0;this.priorities_.length=0;ol.obj.clear(this.queuedElements_)};ol.structs.PriorityQueue.prototype.dequeue=function(){var e=this.elements_;var t=this.priorities_;var o=e[0];if(e.length==1){e.length=0;t.length=0}else{e[0]=e.pop();t[0]=t.pop();this.siftUp_(0)}var r=this.keyFunction_(o);delete this.queuedElements_[r];return o};ol.structs.PriorityQueue.prototype.enqueue=function(e){ol.asserts.assert(!(this.keyFunction_(e)in this.queuedElements_),31);var t=this.priorityFunction_(e);if(t!=ol.structs.PriorityQueue.DROP){this.elements_.push(e);this.priorities_.push(t);this.queuedElements_[this.keyFunction_(e)]=true;this.siftDown_(0,this.elements_.length-1);return true}return false};ol.structs.PriorityQueue.prototype.getCount=function(){return this.elements_.length};ol.structs.PriorityQueue.prototype.getLeftChildIndex_=function(e){return e*2+1};ol.structs.PriorityQueue.prototype.getRightChildIndex_=function(e){return e*2+2};ol.structs.PriorityQueue.prototype.getParentIndex_=function(e){return e-1>>1};ol.structs.PriorityQueue.prototype.heapify_=function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--){this.siftUp_(e)}};ol.structs.PriorityQueue.prototype.isEmpty=function(){return this.elements_.length===0};ol.structs.PriorityQueue.prototype.isKeyQueued=function(e){return e in this.queuedElements_};ol.structs.PriorityQueue.prototype.isQueued=function(e){return this.isKeyQueued(this.keyFunction_(e))};ol.structs.PriorityQueue.prototype.siftUp_=function(e){var t=this.elements_;var o=this.priorities_;var r=t.length;var i=t[e];var n=o[e];var a=e;while(e<r>>1){var l=this.getLeftChildIndex_(e);var s=this.getRightChildIndex_(e);var p=s<r&&o[s]<o[l]?s:l;t[e]=t[p];o[e]=o[p];e=p}t[e]=i;o[e]=n;this.siftDown_(a,e)};ol.structs.PriorityQueue.prototype.siftDown_=function(e,t){var o=this.elements_;var r=this.priorities_;var i=o[t];var n=r[t];while(t>e){var a=this.getParentIndex_(t);if(r[a]>n){o[t]=o[a];r[t]=r[a];t=a}else{break}}o[t]=i;r[t]=n};ol.structs.PriorityQueue.prototype.reprioritize=function(){
var e=this.priorityFunction_;var t=this.elements_;var o=this.priorities_;var r=0;var i=t.length;var n,a,l;for(a=0;a<i;++a){n=t[a];l=e(n);if(l==ol.structs.PriorityQueue.DROP){delete this.queuedElements_[this.keyFunction_(n)]}else{o[r]=l;t[r++]=n}}t.length=r;o.length=r;this.heapify_()};goog.provide("ol.TileQueue");goog.require("ol");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.structs.PriorityQueue");ol.TileQueue=function(e,t){ol.structs.PriorityQueue.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()});this.tileChangeCallback_=t;this.tilesLoading_=0;this.tilesLoadingKeys_={}};ol.inherits(ol.TileQueue,ol.structs.PriorityQueue);ol.TileQueue.prototype.enqueue=function(e){var t=ol.structs.PriorityQueue.prototype.enqueue.call(this,e);if(t){var o=e[0];ol.events.listen(o,ol.events.EventType.CHANGE,this.handleTileChange,this)}return t};ol.TileQueue.prototype.getTilesLoading=function(){return this.tilesLoading_};ol.TileQueue.prototype.handleTileChange=function(e){var t=e.target;var o=t.getState();if(o===ol.TileState.LOADED||o===ol.TileState.ERROR||o===ol.TileState.EMPTY||o===ol.TileState.ABORT){ol.events.unlisten(t,ol.events.EventType.CHANGE,this.handleTileChange,this);var r=t.getKey();if(r in this.tilesLoadingKeys_){delete this.tilesLoadingKeys_[r];--this.tilesLoading_}this.tileChangeCallback_()}};ol.TileQueue.prototype.loadMoreTiles=function(e,t){var o=0;var r,i;while(this.tilesLoading_<e&&o<t&&this.getCount()>0){r=this.dequeue()[0];i=r.getKey();if(r.getState()===ol.TileState.IDLE&&!(i in this.tilesLoadingKeys_)){this.tilesLoadingKeys_[i]=true;++this.tilesLoading_;++o;r.load()}}};goog.provide("ol.ResolutionConstraint");goog.require("ol.array");goog.require("ol.math");ol.ResolutionConstraint.createSnapToResolutions=function(e){return function(t,o,r){if(t!==undefined){var i=ol.array.linearFindNearest(e,t,r);i=ol.math.clamp(i+o,0,e.length-1);var n=Math.floor(i);if(i!=n&&n<e.length-1){var a=e[n]/e[n+1];return e[n]/Math.pow(a,i-n)}else{return e[n]}}else{return undefined}}};ol.ResolutionConstraint.createSnapToPower=function(e,t,o){return function(r,i,n){if(r!==undefined){var a=-n/2+.5;var l=Math.floor(Math.log(t/r)/Math.log(e)+a);var s=Math.max(l+i,0);if(o!==undefined){s=Math.min(s,o)}return t/Math.pow(e,s)}else{return undefined}}};goog.provide("ol.RotationConstraint");goog.require("ol.math");ol.RotationConstraint.disable=function(e,t){if(e!==undefined){return 0}else{return undefined}};ol.RotationConstraint.none=function(e,t){if(e!==undefined){return e+t}else{return undefined}};ol.RotationConstraint.createSnapToN=function(e){var t=2*Math.PI/e;return function(e,o){if(e!==undefined){e=Math.floor((e+o)/t+.5)*t;return e}else{return undefined}}};ol.RotationConstraint.createSnapToZero=function(e){var t=e||ol.math.toRadians(5);return function(e,o){if(e!==undefined){if(Math.abs(e+o)<=t){return 0}else{return e+o}}else{return undefined}}};goog.provide("ol.ViewHint");ol.ViewHint={ANIMATING:0,INTERACTING:1};goog.provide("ol.ViewProperty");ol.ViewProperty={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};goog.provide("ol.string");ol.string.padNumber=function(e,t,o){var r=o!==undefined?e.toFixed(o):""+e;var i=r.indexOf(".");i=i===-1?r.length:i;return i>t?r:new Array(1+t-i).join("0")+r};ol.string.compareVersions=function(e,t){var o=(""+e).split(".");var r=(""+t).split(".");for(var i=0;i<Math.max(o.length,r.length);i++){var n=parseInt(o[i]||"0",10);var a=parseInt(r[i]||"0",10);if(n>a){return 1}if(a>n){return-1}}return 0};goog.provide("ol.coordinate");goog.require("ol.math");goog.require("ol.string");ol.coordinate.add=function(e,t){e[0]+=t[0];e[1]+=t[1];return e};ol.coordinate.closestOnSegment=function(e,t){var o=e[0];var r=e[1];var i=t[0];var n=t[1];var a=i[0];var l=i[1];var s=n[0];var p=n[1];var u=s-a;var c=p-l;var g=u===0&&c===0?0:(u*(o-a)+c*(r-l))/(u*u+c*c||0);var h,f;if(g<=0){h=a;f=l}else if(g>=1){h=s;f=p}else{h=a+g*u;f=l+g*c}return[h,f]};ol.coordinate.createStringXY=function(e){return function(t){return ol.coordinate.toStringXY(t,e)}};ol.coordinate.degreesToStringHDMS_=function(e,t,o){var r=ol.math.modulo(e+180,360)-180;var i=Math.abs(3600*r);var n=o||0;var a=Math.pow(10,n);var l=Math.floor(i/3600);var s=Math.floor((i-l*3600)/60);var p=i-l*3600-s*60;p=Math.ceil(p*a)/a;if(p>=60){p=0;s+=1}if(s>=60){s=0;l+=1}return l+" "+ol.string.padNumber(s,2)+" "+ol.string.padNumber(p,2,n)+" "+t.charAt(r<0?1:0)};ol.coordinate.format=function(e,t,o){if(e){return t.replace("{x}",e[0].toFixed(o)).replace("{y}",e[1].toFixed(o))}else{return""}};ol.coordinate.equals=function(e,t){var o=true;for(var r=e.length-1;r>=0;--r){if(e[r]!=t[r]){o=false;break}}return o};ol.coordinate.rotate=function(e,t){var o=Math.cos(t);var r=Math.sin(t);var i=e[0]*o-e[1]*r;var n=e[1]*o+e[0]*r;e[0]=i;e[1]=n;return e};ol.coordinate.scale=function(e,t){e[0]*=t;e[1]*=t;return e};ol.coordinate.sub=function(e,t){e[0]-=t[0];e[1]-=t[1];return e};ol.coordinate.squaredDistance=function(e,t){var o=e[0]-t[0];var r=e[1]-t[1];return o*o+r*r};ol.coordinate.distance=function(e,t){return Math.sqrt(ol.coordinate.squaredDistance(e,t))};ol.coordinate.squaredDistanceToSegment=function(e,t){return ol.coordinate.squaredDistance(e,ol.coordinate.closestOnSegment(e,t))};ol.coordinate.toStringHDMS=function(e,t){if(e){return ol.coordinate.degreesToStringHDMS_(e[1],"NS",t)+" "+ol.coordinate.degreesToStringHDMS_(e[0],"EW",t)}else{return""}};ol.coordinate.toStringXY=function(e,t){return ol.coordinate.format(e,"{x}, {y}",t)};goog.provide("ol.geom.GeometryType");ol.geom.GeometryType={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};goog.provide("ol.geom.GeometryLayout");ol.geom.GeometryLayout={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};goog.provide("ol.functions");ol.functions.TRUE=function(){return true};ol.functions.FALSE=function(){return false};goog.provide("ol.geom.Geometry");goog.require("ol");goog.require("ol.Object");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.proj");ol.geom.Geometry=function(){ol.Object.call(this);this.extent_=ol.extent.createEmpty();this.extentRevision_=-1;this.simplifiedGeometryCache={};this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=0};ol.inherits(ol.geom.Geometry,ol.Object);ol.geom.Geometry.prototype.clone=function(){};ol.geom.Geometry.prototype.closestPointXY=function(e,t,o,r){};ol.geom.Geometry.prototype.getClosestPoint=function(e,t){var o=t?t:[NaN,NaN];this.closestPointXY(e[0],e[1],o,Infinity);return o};ol.geom.Geometry.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])};ol.geom.Geometry.prototype.computeExtent=function(e){};ol.geom.Geometry.prototype.containsXY=ol.functions.FALSE;ol.geom.Geometry.prototype.getExtent=function(e){if(this.extentRevision_!=this.getRevision()){this.extent_=this.computeExtent(this.extent_);this.extentRevision_=this.getRevision()}return ol.extent.returnOrUpdate(this.extent_,e)};ol.geom.Geometry.prototype.rotate=function(e,t){};ol.geom.Geometry.prototype.scale=function(e,t,o){};ol.geom.Geometry.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)};ol.geom.Geometry.prototype.getSimplifiedGeometry=function(e){};ol.geom.Geometry.prototype.getType=function(){};ol.geom.Geometry.prototype.applyTransform=function(e){};ol.geom.Geometry.prototype.intersectsExtent=function(e){};ol.geom.Geometry.prototype.translate=function(e,t){};ol.geom.Geometry.prototype.transform=function(e,t){this.applyTransform(ol.proj.getTransform(e,t));return this};goog.provide("ol.geom.flat.transform");ol.geom.flat.transform.transform2D=function(e,t,o,r,i,n){var a=n?n:[];var l=0;var s;for(s=t;s<o;s+=r){var p=e[s];var u=e[s+1];a[l++]=i[0]*p+i[2]*u+i[4];a[l++]=i[1]*p+i[3]*u+i[5]}if(n&&a.length!=l){a.length=l}return a};ol.geom.flat.transform.rotate=function(e,t,o,r,i,n,a){var l=a?a:[];var s=Math.cos(i);var p=Math.sin(i);var u=n[0];var c=n[1];var g=0;for(var h=t;h<o;h+=r){var f=e[h]-u;var d=e[h+1]-c;l[g++]=u+f*s-d*p;l[g++]=c+f*p+d*s;for(var y=h+2;y<h+r;++y){l[g++]=e[y]}}if(a&&l.length!=g){l.length=g}return l};ol.geom.flat.transform.scale=function(e,t,o,r,i,n,a,l){var s=l?l:[];var p=a[0];var u=a[1];var c=0;for(var g=t;g<o;g+=r){var h=e[g]-p;var f=e[g+1]-u;s[c++]=p+i*h;s[c++]=u+n*f;for(var d=g+2;d<g+r;++d){s[c++]=e[d]}}if(l&&s.length!=c){s.length=c}return s};ol.geom.flat.transform.translate=function(e,t,o,r,i,n,a){var l=a?a:[];var s=0;var p,u;for(p=t;p<o;p+=r){l[s++]=e[p]+i;l[s++]=e[p+1]+n;for(u=p+2;u<p+r;++u){l[s++]=e[u]}}if(a&&l.length!=s){l.length=s}return l};goog.provide("ol.geom.SimpleGeometry");goog.require("ol");goog.require("ol.functions");goog.require("ol.extent");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.flat.transform");goog.require("ol.obj");ol.geom.SimpleGeometry=function(){ol.geom.Geometry.call(this);this.layout=ol.geom.GeometryLayout.XY;this.stride=2;this.flatCoordinates=null};ol.inherits(ol.geom.SimpleGeometry,ol.geom.Geometry);ol.geom.SimpleGeometry.getLayoutForStride_=function(e){var t;if(e==2){t=ol.geom.GeometryLayout.XY}else if(e==3){t=ol.geom.GeometryLayout.XYZ}else if(e==4){t=ol.geom.GeometryLayout.XYZM}return t};ol.geom.SimpleGeometry.getStrideForLayout=function(e){var t;if(e==ol.geom.GeometryLayout.XY){t=2}else if(e==ol.geom.GeometryLayout.XYZ||e==ol.geom.GeometryLayout.XYM){t=3}else if(e==ol.geom.GeometryLayout.XYZM){t=4}return t};ol.geom.SimpleGeometry.prototype.containsXY=ol.functions.FALSE;ol.geom.SimpleGeometry.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};ol.geom.SimpleGeometry.prototype.getCoordinates=function(){};ol.geom.SimpleGeometry.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.SimpleGeometry.prototype.getFlatCoordinates=function(){return this.flatCoordinates};ol.geom.SimpleGeometry.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)};ol.geom.SimpleGeometry.prototype.getLayout=function(){return this.layout};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<=this.simplifiedGeometryMaxMinSquaredTolerance){return this}var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t)){return this.simplifiedGeometryCache[t]}else{var o=this.getSimplifiedGeometryInternal(e);var r=o.getFlatCoordinates();if(r.length<this.flatCoordinates.length){this.simplifiedGeometryCache[t]=o;return o}else{this.simplifiedGeometryMaxMinSquaredTolerance=e;return this}}};ol.geom.SimpleGeometry.prototype.getSimplifiedGeometryInternal=function(e){return this};ol.geom.SimpleGeometry.prototype.getStride=function(){return this.stride};ol.geom.SimpleGeometry.prototype.setFlatCoordinatesInternal=function(e,t){this.stride=ol.geom.SimpleGeometry.getStrideForLayout(e);this.layout=e;this.flatCoordinates=t};ol.geom.SimpleGeometry.prototype.setCoordinates=function(e,t){};ol.geom.SimpleGeometry.prototype.setLayout=function(e,t,o){var r;if(e){r=ol.geom.SimpleGeometry.getStrideForLayout(e)}else{var i;for(i=0;i<o;++i){if(t.length===0){this.layout=ol.geom.GeometryLayout.XY;this.stride=2;return}else{t=t[0]}}r=t.length;e=ol.geom.SimpleGeometry.getLayoutForStride_(r)}this.layout=e;this.stride=r};ol.geom.SimpleGeometry.prototype.applyTransform=function(e){if(this.flatCoordinates){e(this.flatCoordinates,this.flatCoordinates,this.stride);this.changed()}};ol.geom.SimpleGeometry.prototype.rotate=function(e,t){var o=this.getFlatCoordinates();if(o){var r=this.getStride();ol.geom.flat.transform.rotate(o,0,o.length,r,e,t,o);this.changed()}};ol.geom.SimpleGeometry.prototype.scale=function(e,t,o){var r=t;if(r===undefined){r=e}var i=o;if(!i){i=ol.extent.getCenter(this.getExtent())}var n=this.getFlatCoordinates();if(n){var a=this.getStride();ol.geom.flat.transform.scale(n,0,n.length,a,e,r,i,n);this.changed()}};ol.geom.SimpleGeometry.prototype.translate=function(e,t){var o=this.getFlatCoordinates();if(o){var r=this.getStride();ol.geom.flat.transform.translate(o,0,o.length,r,e,t,o);this.changed()}};ol.geom.SimpleGeometry.transform2D=function(e,t,o){var r=e.getFlatCoordinates();if(!r){return null}else{var i=e.getStride();return ol.geom.flat.transform.transform2D(r,0,r.length,i,t,o)}};goog.provide("ol.geom.flat.area");ol.geom.flat.area.linearRing=function(e,t,o,r){var i=0;var n=e[o-r];var a=e[o-r+1];for(;t<o;t+=r){var l=e[t];var s=e[t+1];i+=a*l-n*s;n=l;a=s}return i/2};ol.geom.flat.area.linearRings=function(e,t,o,r){var i=0;var n,a;for(n=0,a=o.length;n<a;++n){var l=o[n];i+=ol.geom.flat.area.linearRing(e,t,l,r);t=l}return i};ol.geom.flat.area.linearRingss=function(e,t,o,r){var i=0;var n,a;for(n=0,a=o.length;n<a;++n){var l=o[n];i+=ol.geom.flat.area.linearRings(e,t,l,r);t=l[l.length-1]}return i};goog.provide("ol.geom.flat.closest");goog.require("ol.math");ol.geom.flat.closest.point=function(e,t,o,r,i,n,a){var l=e[t];var s=e[t+1];var p=e[o]-l;var u=e[o+1]-s;var c,g;if(p===0&&u===0){g=t}else{var h=((i-l)*p+(n-s)*u)/(p*p+u*u);if(h>1){g=o}else if(h>0){for(c=0;c<r;++c){a[c]=ol.math.lerp(e[t+c],e[o+c],h)}a.length=r;return}else{g=t}}for(c=0;c<r;++c){a[c]=e[g+c]}a.length=r};ol.geom.flat.closest.getMaxSquaredDelta=function(e,t,o,r,i){var n=e[t];var a=e[t+1];for(t+=r;t<o;t+=r){var l=e[t];var s=e[t+1];var p=ol.math.squaredDistance(n,a,l,s);if(p>i){i=p}n=l;a=s}return i};ol.geom.flat.closest.getsMaxSquaredDelta=function(e,t,o,r,i){var n,a;for(n=0,a=o.length;n<a;++n){var l=o[n];i=ol.geom.flat.closest.getMaxSquaredDelta(e,t,l,r,i);t=l}return i};ol.geom.flat.closest.getssMaxSquaredDelta=function(e,t,o,r,i){var n,a;for(n=0,a=o.length;n<a;++n){var l=o[n];i=ol.geom.flat.closest.getsMaxSquaredDelta(e,t,l,r,i);t=l[l.length-1]}return i};ol.geom.flat.closest.getClosestPoint=function(e,t,o,r,i,n,a,l,s,p,u){if(t==o){return p}var c,g;if(i===0){g=ol.math.squaredDistance(a,l,e[t],e[t+1]);if(g<p){for(c=0;c<r;++c){s[c]=e[t+c]}s.length=r;return g}else{return p}}var h=u?u:[NaN,NaN];var f=t+r;while(f<o){ol.geom.flat.closest.point(e,f-r,f,r,a,l,h);g=ol.math.squaredDistance(a,l,h[0],h[1]);if(g<p){p=g;for(c=0;c<r;++c){s[c]=h[c]}s.length=r;f+=r}else{f+=r*Math.max((Math.sqrt(g)-Math.sqrt(p))/i|0,1)}}if(n){ol.geom.flat.closest.point(e,o-r,t,r,a,l,h);g=ol.math.squaredDistance(a,l,h[0],h[1]);if(g<p){p=g;for(c=0;c<r;++c){s[c]=h[c]}s.length=r}}return p};ol.geom.flat.closest.getsClosestPoint=function(e,t,o,r,i,n,a,l,s,p,u){var c=u?u:[NaN,NaN];var g,h;for(g=0,h=o.length;g<h;++g){var f=o[g];p=ol.geom.flat.closest.getClosestPoint(e,t,f,r,i,n,a,l,s,p,c);t=f}return p};ol.geom.flat.closest.getssClosestPoint=function(e,t,o,r,i,n,a,l,s,p,u){var c=u?u:[NaN,NaN];var g,h;for(g=0,h=o.length;g<h;++g){var f=o[g];p=ol.geom.flat.closest.getsClosestPoint(e,t,f,r,i,n,a,l,s,p,c);t=f[f.length-1]}return p};goog.provide("ol.geom.flat.deflate");ol.geom.flat.deflate.coordinate=function(e,t,o,r){var i,n;for(i=0,n=o.length;i<n;++i){e[t++]=o[i]}return t};ol.geom.flat.deflate.coordinates=function(e,t,o,r){var i,n;for(i=0,n=o.length;i<n;++i){var a=o[i];var l;for(l=0;l<r;++l){e[t++]=a[l]}}return t};ol.geom.flat.deflate.coordinatess=function(e,t,o,r,i){var n=i?i:[];var a=0;var l,s;for(l=0,s=o.length;l<s;++l){var p=ol.geom.flat.deflate.coordinates(e,t,o[l],r);n[a++]=p;t=p}n.length=a;return n};ol.geom.flat.deflate.coordinatesss=function(e,t,o,r,i){var n=i?i:[];var a=0;var l,s;for(l=0,s=o.length;l<s;++l){var p=ol.geom.flat.deflate.coordinatess(e,t,o[l],r,n[a]);n[a++]=p;t=p[p.length-1]}n.length=a;return n};goog.provide("ol.geom.flat.inflate");ol.geom.flat.inflate.coordinates=function(e,t,o,r,i){var n=i!==undefined?i:[];var a=0;var l;for(l=t;l<o;l+=r){n[a++]=e.slice(l,l+r)}n.length=a;return n};ol.geom.flat.inflate.coordinatess=function(e,t,o,r,i){var n=i!==undefined?i:[];var a=0;var l,s;for(l=0,s=o.length;l<s;++l){var p=o[l];n[a++]=ol.geom.flat.inflate.coordinates(e,t,p,r,n[a]);t=p}n.length=a;return n};ol.geom.flat.inflate.coordinatesss=function(e,t,o,r,i){var n=i!==undefined?i:[];var a=0;var l,s;for(l=0,s=o.length;l<s;++l){var p=o[l];n[a++]=ol.geom.flat.inflate.coordinatess(e,t,p,r,n[a]);t=p[p.length-1]}n.length=a;return n};goog.provide("ol.geom.flat.simplify");goog.require("ol.math");ol.geom.flat.simplify.lineString=function(e,t,o,r,i,n,a){var l=a!==undefined?a:[];if(!n){o=ol.geom.flat.simplify.radialDistance(e,t,o,r,i,l,0);e=l;t=0;r=2}l.length=ol.geom.flat.simplify.douglasPeucker(e,t,o,r,i,l,0);return l};ol.geom.flat.simplify.douglasPeucker=function(e,t,o,r,i,n,a){var l=(o-t)/r;if(l<3){for(;t<o;t+=r){n[a++]=e[t];n[a++]=e[t+1]}return a}var s=new Array(l);s[0]=1;s[l-1]=1;var p=[t,o-r];var u=0;var c;while(p.length>0){var g=p.pop();var h=p.pop();var f=0;var d=e[h];var y=e[h+1];var m=e[g];var v=e[g+1];for(c=h+r;c<g;c+=r){var _=e[c];var x=e[c+1];var S=ol.math.squaredSegmentDistance(_,x,d,y,m,v);if(S>f){u=c;f=S}}if(f>i){s[(u-t)/r]=1;if(h+r<u){p.push(h,u)}if(u+r<g){p.push(u,g)}}}for(c=0;c<l;++c){if(s[c]){n[a++]=e[t+c*r];n[a++]=e[t+c*r+1]}}return a};ol.geom.flat.simplify.douglasPeuckers=function(e,t,o,r,i,n,a,l){var s,p;for(s=0,p=o.length;s<p;++s){var u=o[s];a=ol.geom.flat.simplify.douglasPeucker(e,t,u,r,i,n,a);l.push(a);t=u}return a};ol.geom.flat.simplify.douglasPeuckerss=function(e,t,o,r,i,n,a,l){var s,p;for(s=0,p=o.length;s<p;++s){var u=o[s];var c=[];a=ol.geom.flat.simplify.douglasPeuckers(e,t,u,r,i,n,a,c);l.push(c);t=u[u.length-1]}return a};ol.geom.flat.simplify.radialDistance=function(e,t,o,r,i,n,a){if(o<=t+r){for(;t<o;t+=r){n[a++]=e[t];n[a++]=e[t+1]}return a}var l=e[t];var s=e[t+1];n[a++]=l;n[a++]=s;var p=l;var u=s;for(t+=r;t<o;t+=r){p=e[t];u=e[t+1];if(ol.math.squaredDistance(l,s,p,u)>i){n[a++]=p;n[a++]=u;l=p;s=u}}if(p!=l||u!=s){n[a++]=p;n[a++]=u}return a};ol.geom.flat.simplify.snap=function(e,t){return t*Math.round(e/t)};ol.geom.flat.simplify.quantize=function(e,t,o,r,i,n,a){if(t==o){return a}var l=ol.geom.flat.simplify.snap(e[t],i);var s=ol.geom.flat.simplify.snap(e[t+1],i);t+=r;n[a++]=l;n[a++]=s;var p,u;do{p=ol.geom.flat.simplify.snap(e[t],i);u=ol.geom.flat.simplify.snap(e[t+1],i);t+=r;if(t==o){n[a++]=p;n[a++]=u;return a}}while(p==l&&u==s);while(t<o){var c,g;c=ol.geom.flat.simplify.snap(e[t],i);g=ol.geom.flat.simplify.snap(e[t+1],i);t+=r;if(c==p&&g==u){continue}var h=p-l;var f=u-s;var d=c-l;var y=g-s;if(h*y==f*d&&(h<0&&d<h||h==d||h>0&&d>h)&&(f<0&&y<f||f==y||f>0&&y>f)){p=c;u=g;continue}n[a++]=p;n[a++]=u;l=p;s=u;p=c;u=g}n[a++]=p;n[a++]=u;return a};ol.geom.flat.simplify.quantizes=function(e,t,o,r,i,n,a,l){var s,p;for(s=0,p=o.length;s<p;++s){var u=o[s];a=ol.geom.flat.simplify.quantize(e,t,u,r,i,n,a);l.push(a);t=u}return a};ol.geom.flat.simplify.quantizess=function(e,t,o,r,i,n,a,l){var s,p;for(s=0,p=o.length;s<p;++s){var u=o[s];var c=[];a=ol.geom.flat.simplify.quantizes(e,t,u,r,i,n,a,c);l.push(c);t=u[u.length-1]}return a};goog.provide("ol.geom.LinearRing");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.simplify");ol.geom.LinearRing=function(e,t){ol.geom.SimpleGeometry.call(this);this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,t)};ol.inherits(ol.geom.LinearRing,ol.geom.SimpleGeometry);ol.geom.LinearRing.prototype.clone=function(){var e=new ol.geom.LinearRing(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.LinearRing.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,true,e,t,o,r)};ol.geom.LinearRing.prototype.getArea=function(){return ol.geom.flat.area.linearRing(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LinearRing.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var o=new ol.geom.LinearRing(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XY,t);return o};ol.geom.LinearRing.prototype.getType=function(){return ol.geom.GeometryType.LINEAR_RING};ol.geom.LinearRing.prototype.intersectsExtent=function(e){};ol.geom.LinearRing.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.LinearRing.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.Point");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");goog.require("ol.math");ol.geom.Point=function(e,t){ol.geom.SimpleGeometry.call(this);this.setCoordinates(e,t)};ol.inherits(ol.geom.Point,ol.geom.SimpleGeometry);ol.geom.Point.prototype.clone=function(){var e=new ol.geom.Point(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.Point.prototype.closestPointXY=function(e,t,o,r){var i=this.flatCoordinates;var n=ol.math.squaredDistance(e,t,i[0],i[1]);if(n<r){var a=this.stride;var l;for(l=0;l<a;++l){o[l]=i[l]}o.length=a;return n}else{return r}};ol.geom.Point.prototype.getCoordinates=function(){return!this.flatCoordinates?[]:this.flatCoordinates.slice()};ol.geom.Point.prototype.computeExtent=function(e){return ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates,e)};ol.geom.Point.prototype.getType=function(){return ol.geom.GeometryType.POINT};ol.geom.Point.prototype.intersectsExtent=function(e){return ol.extent.containsXY(e,this.flatCoordinates[0],this.flatCoordinates[1])};ol.geom.Point.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,0);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinate(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.Point.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.flat.contains");goog.require("ol.extent");ol.geom.flat.contains.linearRingContainsExtent=function(e,t,o,r,i){var n=ol.extent.forEachCorner(i,function(i){return!ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[0],i[1])});return!n};ol.geom.flat.contains.linearRingContainsXY=function(e,t,o,r,i,n){var a=0;var l=e[o-r];var s=e[o-r+1];for(;t<o;t+=r){var p=e[t];var u=e[t+1];if(s<=n){if(u>n&&(p-l)*(n-s)-(i-l)*(u-s)>0){a++}}else if(u<=n&&(p-l)*(n-s)-(i-l)*(u-s)<0){a--}l=p;s=u}return a!==0};ol.geom.flat.contains.linearRingsContainsXY=function(e,t,o,r,i,n){if(o.length===0){return false}if(!ol.geom.flat.contains.linearRingContainsXY(e,t,o[0],r,i,n)){return false}var a,l;for(a=1,l=o.length;a<l;++a){if(ol.geom.flat.contains.linearRingContainsXY(e,o[a-1],o[a],r,i,n)){return false}}return true};ol.geom.flat.contains.linearRingssContainsXY=function(e,t,o,r,i,n){if(o.length===0){return false}var a,l;for(a=0,l=o.length;a<l;++a){var s=o[a];if(ol.geom.flat.contains.linearRingsContainsXY(e,t,s,r,i,n)){return true}t=s[s.length-1]}return false};goog.provide("ol.geom.flat.interiorpoint");goog.require("ol.array");goog.require("ol.geom.flat.contains");ol.geom.flat.interiorpoint.linearRings=function(e,t,o,r,i,n,a){var l,s,p,u,c,g,h;var f=i[n+1];var d=[];var y=o[0];u=e[y-r];g=e[y-r+1];for(l=t;l<y;l+=r){c=e[l];h=e[l+1];if(f<=g&&h<=f||g<=f&&f<=h){p=(f-g)/(h-g)*(c-u)+u;d.push(p)}u=c;g=h}var m=NaN;var v=-Infinity;d.sort(ol.array.numberSafeCompareFunction);u=d[0];for(l=1,s=d.length;l<s;++l){c=d[l];var _=Math.abs(c-u);if(_>v){p=(u+c)/2;if(ol.geom.flat.contains.linearRingsContainsXY(e,t,o,r,p,f)){m=p;v=_}}u=c}if(isNaN(m)){m=i[n]}if(a){a.push(m,f);return a}else{return[m,f]}};ol.geom.flat.interiorpoint.linearRingss=function(e,t,o,r,i){var n=[];var a,l;for(a=0,l=o.length;a<l;++a){var s=o[a];n=ol.geom.flat.interiorpoint.linearRings(e,t,s,r,i,2*a,n);t=s[s.length-1]}return n};goog.provide("ol.geom.flat.segments");ol.geom.flat.segments.forEach=function(e,t,o,r,i,n){var a=[e[t],e[t+1]];var l=[];var s;for(;t+r<o;t+=r){l[0]=e[t+r];l[1]=e[t+r+1];s=i.call(n,a,l);if(s){return s}a[0]=l[0];a[1]=l[1]}return false};goog.provide("ol.geom.flat.intersectsextent");goog.require("ol.extent");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.segments");ol.geom.flat.intersectsextent.lineString=function(e,t,o,r,i){var n=ol.extent.extendFlatCoordinates(ol.extent.createEmpty(),e,t,o,r);if(!ol.extent.intersects(i,n)){return false}if(ol.extent.containsExtent(i,n)){return true}if(n[0]>=i[0]&&n[2]<=i[2]){return true}if(n[1]>=i[1]&&n[3]<=i[3]){return true}return ol.geom.flat.segments.forEach(e,t,o,r,function(e,t){return ol.extent.intersectsSegment(i,e,t)})};ol.geom.flat.intersectsextent.lineStrings=function(e,t,o,r,i){var n,a;for(n=0,a=o.length;n<a;++n){if(ol.geom.flat.intersectsextent.lineString(e,t,o[n],r,i)){return true}t=o[n]}return false};ol.geom.flat.intersectsextent.linearRing=function(e,t,o,r,i){if(ol.geom.flat.intersectsextent.lineString(e,t,o,r,i)){return true}if(ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[0],i[1])){return true}if(ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[0],i[3])){return true}if(ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[2],i[1])){return true}if(ol.geom.flat.contains.linearRingContainsXY(e,t,o,r,i[2],i[3])){return true}return false};ol.geom.flat.intersectsextent.linearRings=function(e,t,o,r,i){if(!ol.geom.flat.intersectsextent.linearRing(e,t,o[0],r,i)){return false}if(o.length===1){return true}var n,a;for(n=1,a=o.length;n<a;++n){if(ol.geom.flat.contains.linearRingContainsExtent(e,o[n-1],o[n],r,i)){return false}}return true};ol.geom.flat.intersectsextent.linearRingss=function(e,t,o,r,i){var n,a;for(n=0,a=o.length;n<a;++n){var l=o[n];if(ol.geom.flat.intersectsextent.linearRings(e,t,l,r,i)){return true}t=l[l.length-1]}return false};goog.provide("ol.geom.flat.reverse");ol.geom.flat.reverse.coordinates=function(e,t,o,r){while(t<o-r){var i;for(i=0;i<r;++i){var n=e[t+i];e[t+i]=e[o-r+i];e[o-r+i]=n}t+=r;o-=r}};goog.provide("ol.geom.flat.orient");goog.require("ol.geom.flat.reverse");ol.geom.flat.orient.linearRingIsClockwise=function(e,t,o,r){var i=0;var n=e[o-r];var a=e[o-r+1];for(;t<o;t+=r){var l=e[t];var s=e[t+1];i+=(l-n)*(s+a);n=l;a=s}return i>0};ol.geom.flat.orient.linearRingsAreOriented=function(e,t,o,r,i){var n=i!==undefined?i:false;var a,l;for(a=0,l=o.length;a<l;++a){var s=o[a];var p=ol.geom.flat.orient.linearRingIsClockwise(e,t,s,r);if(a===0){if(n&&p||!n&&!p){return false}}else{if(n&&!p||!n&&p){return false}}t=s}return true};ol.geom.flat.orient.linearRingssAreOriented=function(e,t,o,r,i){var n,a;for(n=0,a=o.length;n<a;++n){if(!ol.geom.flat.orient.linearRingsAreOriented(e,t,o[n],r,i)){return false}}return true};ol.geom.flat.orient.orientLinearRings=function(e,t,o,r,i){var n=i!==undefined?i:false;var a,l;for(a=0,l=o.length;a<l;++a){var s=o[a];var p=ol.geom.flat.orient.linearRingIsClockwise(e,t,s,r);var u=a===0?n&&p||!n&&!p:n&&!p||!n&&p;if(u){ol.geom.flat.reverse.coordinates(e,t,s,r)}t=s}return t};ol.geom.flat.orient.orientLinearRingss=function(e,t,o,r,i){var n,a;for(n=0,a=o.length;n<a;++n){t=ol.geom.flat.orient.orientLinearRings(e,t,o[n],r,i)}return t};goog.provide("ol.geom.Polygon");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LinearRing");goog.require("ol.geom.Point");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.simplify");goog.require("ol.math");ol.geom.Polygon=function(e,t){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.flatInteriorPointRevision_=-1;this.flatInteriorPoint_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(e,t)};ol.inherits(ol.geom.Polygon,ol.geom.SimpleGeometry);ol.geom.Polygon.prototype.appendLinearRing=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,e.getFlatCoordinates())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.Polygon.prototype.clone=function(){var e=new ol.geom.Polygon(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return e};ol.geom.Polygon.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,true,e,t,o,r)};ol.geom.Polygon.prototype.containsXY=function(e,t){return ol.geom.flat.contains.linearRingsContainsXY(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)};ol.geom.Polygon.prototype.getArea=function(){return ol.geom.flat.area.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getCoordinates=function(e){var t;if(e!==undefined){t=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRings(t,0,this.ends_,this.stride,e)}else{t=this.flatCoordinates}return ol.geom.flat.inflate.coordinatess(t,0,this.ends_,this.stride)};ol.geom.Polygon.prototype.getEnds=function(){return this.ends_};ol.geom.Polygon.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=ol.extent.getCenter(this.getExtent());this.flatInteriorPoint_=ol.geom.flat.interiorpoint.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0);this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_};ol.geom.Polygon.prototype.getInteriorPoint=function(){return new ol.geom.Point(this.getFlatInteriorPoint())};ol.geom.Polygon.prototype.getLinearRingCount=function(){return this.ends_.length};ol.geom.Polygon.prototype.getLinearRing=function(e){if(e<0||this.ends_.length<=e){return null}var t=new ol.geom.LinearRing(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]));return t};ol.geom.Polygon.prototype.getLinearRings=function(){var e=this.layout;var t=this.flatCoordinates;var o=this.ends_;var r=[];var i=0;var n,a;for(n=0,a=o.length;n<a;++n){var l=o[n];var s=new ol.geom.LinearRing(null);s.setFlatCoordinates(e,t.slice(i,l));r.push(s);i=l}return r};ol.geom.Polygon.prototype.getOrientedFlatCoordinates=function(){
if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;if(ol.geom.flat.orient.linearRingsAreOriented(e,0,this.ends_,this.stride)){this.orientedFlatCoordinates_=e}else{this.orientedFlatCoordinates_=e.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRings(this.orientedFlatCoordinates_,0,this.ends_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.Polygon.prototype.getSimplifiedGeometryInternal=function(e){var t=[];var o=[];t.length=ol.geom.flat.simplify.quantizes(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,o);var r=new ol.geom.Polygon(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,o);return r};ol.geom.Polygon.prototype.getType=function(){return ol.geom.GeometryType.POLYGON};ol.geom.Polygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRings(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)};ol.geom.Polygon.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else{this.setLayout(t,e,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var o=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1];this.changed()}};ol.geom.Polygon.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t);this.ends_=o;this.changed()};ol.geom.Polygon.circular=function(e,t,o,r){var i=r?r:32;var n=[];var a;for(a=0;a<i;++a){ol.array.extend(n,e.offset(t,o,2*Math.PI*a/i))}n.push(n[0],n[1]);var l=new ol.geom.Polygon(null);l.setFlatCoordinates(ol.geom.GeometryLayout.XY,n,[n.length]);return l};ol.geom.Polygon.fromExtent=function(e){var t=e[0];var o=e[1];var r=e[2];var i=e[3];var n=[t,o,t,i,r,i,r,o,t,o];var a=new ol.geom.Polygon(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,n,[n.length]);return a};ol.geom.Polygon.fromCircle=function(e,t,o){var r=t?t:32;var i=e.getStride();var n=e.getLayout();var a=new ol.geom.Polygon(null,n);var l=i*(r+1);var s=new Array(l);for(var p=0;p<l;p++){s[p]=0}var u=[s.length];a.setFlatCoordinates(n,s,u);ol.geom.Polygon.makeRegular(a,e.getCenter(),e.getRadius(),o);return a};ol.geom.Polygon.makeRegular=function(e,t,o,r){var i=e.getFlatCoordinates();var n=e.getLayout();var a=e.getStride();var l=e.getEnds();var s=i.length/a-1;var p=r?r:0;var u,c;for(var g=0;g<=s;++g){c=g*a;u=p+ol.math.modulo(g,s)*2*Math.PI/s;i[c]=t[0]+o*Math.cos(u);i[c+1]=t[1]+o*Math.sin(u)}e.setFlatCoordinates(n,i,l)};goog.provide("ol.View");goog.require("ol");goog.require("ol.CenterConstraint");goog.require("ol.Constraints");goog.require("ol.Object");goog.require("ol.ResolutionConstraint");goog.require("ol.RotationConstraint");goog.require("ol.ViewHint");goog.require("ol.ViewProperty");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.proj");goog.require("ol.proj.Units");ol.View=function(e){ol.Object.call(this);var t=e||{};this.hints_=[0,0];this.animations_=[];this.updateAnimationKey_;this.updateAnimations_=this.updateAnimations_.bind(this);var o={};o[ol.ViewProperty.CENTER]=t.center!==undefined?t.center:null;this.projection_=ol.proj.createProjection(t.projection,"EPSG:3857");var r=ol.View.createResolutionConstraint_(t);this.maxResolution_=r.maxResolution;this.minResolution_=r.minResolution;this.zoomFactor_=r.zoomFactor;this.resolutions_=t.resolutions;this.minZoom_=r.minZoom;var i=ol.View.createCenterConstraint_(t);var n=r.constraint;var a=ol.View.createRotationConstraint_(t);this.constraints_=new ol.Constraints(i,n,a);if(t.resolution!==undefined){o[ol.ViewProperty.RESOLUTION]=t.resolution}else if(t.zoom!==undefined){o[ol.ViewProperty.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_)}o[ol.ViewProperty.ROTATION]=t.rotation!==undefined?t.rotation:0;this.setProperties(o)};ol.inherits(ol.View,ol.Object);ol.View.prototype.animate=function(e){var t=Date.now();var o=this.getCenter().slice();var r=this.getResolution();var i=this.getRotation();var n=arguments.length;var a;if(n>1&&typeof arguments[n-1]==="function"){a=arguments[n-1];--n}var l=[];for(var s=0;s<n;++s){var p=arguments[s];var u={start:t,complete:false,anchor:p.anchor,duration:p.duration!==undefined?p.duration:1e3,easing:p.easing||ol.easing.inAndOut};if(p.center){u.sourceCenter=o;u.targetCenter=p.center;o=u.targetCenter}if(p.zoom!==undefined){u.sourceResolution=r;u.targetResolution=this.constrainResolution(this.maxResolution_,p.zoom-this.minZoom_,0);r=u.targetResolution}else if(p.resolution){u.sourceResolution=r;u.targetResolution=p.resolution;r=u.targetResolution}if(p.rotation!==undefined){u.sourceRotation=i;u.targetRotation=p.rotation;i=u.targetRotation}u.callback=a;t+=u.duration;l.push(u)}this.animations_.push(l);this.setHint(ol.ViewHint.ANIMATING,1);this.updateAnimations_()};ol.View.prototype.getAnimating=function(){return this.getHints()[ol.ViewHint.ANIMATING]>0};ol.View.prototype.cancelAnimations=function(){this.setHint(ol.ViewHint.ANIMATING,-this.getHints()[ol.ViewHint.ANIMATING]);for(var e=0,t=this.animations_.length;e<t;++e){var o=this.animations_[e];if(o[0].callback){o[0].callback(false)}}this.animations_.length=0};ol.View.prototype.updateAnimations_=function(){if(this.updateAnimationKey_!==undefined){cancelAnimationFrame(this.updateAnimationKey_);this.updateAnimationKey_=undefined}if(!this.getAnimating()){return}var e=Date.now();var t=false;for(var o=this.animations_.length-1;o>=0;--o){var r=this.animations_[o];var i=true;for(var n=0,a=r.length;n<a;++n){var l=r[n];if(l.complete){continue}var s=e-l.start;var p=l.duration>0?s/l.duration:1;if(p>=1){l.complete=true;p=1}else{i=false}var u=l.easing(p);if(l.sourceCenter){var c=l.sourceCenter[0];var g=l.sourceCenter[1];var h=l.targetCenter[0];var f=l.targetCenter[1];var d=c+u*(h-c);var y=g+u*(f-g);this.set(ol.ViewProperty.CENTER,[d,y])}if(l.sourceResolution){var m=l.sourceResolution+u*(l.targetResolution-l.sourceResolution);if(l.anchor){this.set(ol.ViewProperty.CENTER,this.calculateCenterZoom(m,l.anchor))}this.set(ol.ViewProperty.RESOLUTION,m)}if(l.sourceRotation!==undefined){var v=l.sourceRotation+u*(l.targetRotation-l.sourceRotation);if(l.anchor){this.set(ol.ViewProperty.CENTER,this.calculateCenterRotate(v,l.anchor))}this.set(ol.ViewProperty.ROTATION,v)}t=true;if(!l.complete){break}}if(i){this.animations_[o]=null;this.setHint(ol.ViewHint.ANIMATING,-1);var _=r[0].callback;if(_){_(true)}}}this.animations_=this.animations_.filter(Boolean);if(t&&this.updateAnimationKey_===undefined){this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_)}};ol.View.prototype.calculateCenterRotate=function(e,t){var o;var r=this.getCenter();if(r!==undefined){o=[r[0]-t[0],r[1]-t[1]];ol.coordinate.rotate(o,e-this.getRotation());ol.coordinate.add(o,t)}return o};ol.View.prototype.calculateCenterZoom=function(e,t){var o;var r=this.getCenter();var i=this.getResolution();if(r!==undefined&&i!==undefined){var n=t[0]-e*(t[0]-r[0])/i;var a=t[1]-e*(t[1]-r[1])/i;o=[n,a]}return o};ol.View.prototype.getSizeFromViewport_=function(){var e=[100,100];var t='.ol-viewport[data-view="'+ol.getUid(this)+'"]';var o=document.querySelector(t);if(o){var r=getComputedStyle(o);e[0]=parseInt(r.width,10);e[1]=parseInt(r.height,10)}return e};ol.View.prototype.constrainCenter=function(e){return this.constraints_.center(e)};ol.View.prototype.constrainResolution=function(e,t,o){var r=t||0;var i=o||0;return this.constraints_.resolution(e,r,i)};ol.View.prototype.constrainRotation=function(e,t){var o=t||0;return this.constraints_.rotation(e,o)};ol.View.prototype.getCenter=function(){return this.get(ol.ViewProperty.CENTER)};ol.View.prototype.getHints=function(e){if(e!==undefined){e[0]=this.hints_[0];e[1]=this.hints_[1];return e}else{return this.hints_.slice()}};ol.View.prototype.calculateExtent=function(e){var t=e||this.getSizeFromViewport_();var o=this.getCenter();ol.asserts.assert(o,1);var r=this.getResolution();ol.asserts.assert(r!==undefined,2);var i=this.getRotation();ol.asserts.assert(i!==undefined,3);return ol.extent.getForViewAndSize(o,r,i,t)};ol.View.prototype.getMaxResolution=function(){return this.maxResolution_};ol.View.prototype.getMinResolution=function(){return this.minResolution_};ol.View.prototype.getProjection=function(){return this.projection_};ol.View.prototype.getResolution=function(){return this.get(ol.ViewProperty.RESOLUTION)};ol.View.prototype.getResolutions=function(){return this.resolutions_};ol.View.prototype.getResolutionForExtent=function(e,t){var o=ol.extent.getWidth(e)/t[0];var r=ol.extent.getHeight(e)/t[1];return Math.max(o,r)};ol.View.prototype.getResolutionForValueFunction=function(e){var t=e||2;var o=this.maxResolution_;var r=this.minResolution_;var i=Math.log(o/r)/Math.log(t);return function(e){var r=o/Math.pow(t,e*i);return r}};ol.View.prototype.getRotation=function(){return this.get(ol.ViewProperty.ROTATION)};ol.View.prototype.getValueForResolutionFunction=function(e){var t=e||2;var o=this.maxResolution_;var r=this.minResolution_;var i=Math.log(o/r)/Math.log(t);return function(e){var r=Math.log(o/e)/Math.log(t)/i;return r}};ol.View.prototype.getState=function(){var e=this.getCenter();var t=this.getProjection();var o=this.getResolution();var r=this.getRotation();return{center:e.slice(),projection:t!==undefined?t:null,resolution:o,rotation:r}};ol.View.prototype.getZoom=function(){var e;var t=this.getResolution();if(t!==undefined&&t>=this.minResolution_&&t<=this.maxResolution_){var o=this.minZoom_||0;var r,i;if(this.resolutions_){var n=ol.array.linearFindNearest(this.resolutions_,t,1);o+=n;if(n==this.resolutions_.length-1){return o}r=this.resolutions_[n];i=r/this.resolutions_[n+1]}else{r=this.maxResolution_;i=this.zoomFactor_}e=o+Math.log(r/t)/Math.log(i)}return e};ol.View.prototype.fit=function(e,t){var o=t||{};var r=o.size;if(!r){r=this.getSizeFromViewport_()}var i;if(!(e instanceof ol.geom.SimpleGeometry)){ol.asserts.assert(Array.isArray(e),24);ol.asserts.assert(!ol.extent.isEmpty(e),25);i=ol.geom.Polygon.fromExtent(e)}else if(e.getType()===ol.geom.GeometryType.CIRCLE){e=e.getExtent();i=ol.geom.Polygon.fromExtent(e);i.rotate(this.getRotation(),ol.extent.getCenter(e))}else{i=e}var n=o.padding!==undefined?o.padding:[0,0,0,0];var a=o.constrainResolution!==undefined?o.constrainResolution:true;var l=o.nearest!==undefined?o.nearest:false;var s;if(o.minResolution!==undefined){s=o.minResolution}else if(o.maxZoom!==undefined){s=this.constrainResolution(this.maxResolution_,o.maxZoom-this.minZoom_,0)}else{s=0}var p=i.getFlatCoordinates();var u=this.getRotation();var c=Math.cos(-u);var g=Math.sin(-u);var h=+Infinity;var f=+Infinity;var d=-Infinity;var y=-Infinity;var m=i.getStride();for(var v=0,_=p.length;v<_;v+=m){var x=p[v]*c-p[v+1]*g;var S=p[v]*g+p[v+1]*c;h=Math.min(h,x);f=Math.min(f,S);d=Math.max(d,x);y=Math.max(y,S)}var P=this.getResolutionForExtent([h,f,d,y],[r[0]-n[1]-n[3],r[1]-n[0]-n[2]]);P=isNaN(P)?s:Math.max(P,s);if(a){var E=this.constrainResolution(P,0,0);if(!l&&E<P){E=this.constrainResolution(E,-1,0)}P=E}g=-g;var T=(h+d)/2;var b=(f+y)/2;T+=(n[1]-n[3])/2*P;b+=(n[0]-n[2])/2*P;var M=T*c-b*g;var C=b*c+T*g;var R=[M,C];if(o.duration!==undefined){this.animate({resolution:P,center:R,duration:o.duration,easing:o.easing})}else{this.setResolution(P);this.setCenter(R)}};ol.View.prototype.centerOn=function(e,t,o){var r=this.getRotation();var i=Math.cos(-r);var n=Math.sin(-r);var a=e[0]*i-e[1]*n;var l=e[1]*i+e[0]*n;var s=this.getResolution();a+=(t[0]/2-o[0])*s;l+=(o[1]-t[1]/2)*s;n=-n;var p=a*i-l*n;var u=l*i+a*n;this.setCenter([p,u])};ol.View.prototype.isDef=function(){return!!this.getCenter()&&this.getResolution()!==undefined};ol.View.prototype.rotate=function(e,t){if(t!==undefined){var o=this.calculateCenterRotate(e,t);this.setCenter(o)}this.setRotation(e)};ol.View.prototype.setCenter=function(e){this.set(ol.ViewProperty.CENTER,e);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setHint=function(e,t){this.hints_[e]+=t;this.changed();return this.hints_[e]};ol.View.prototype.setResolution=function(e){this.set(ol.ViewProperty.RESOLUTION,e);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setRotation=function(e){this.set(ol.ViewProperty.ROTATION,e);if(this.getAnimating()){this.cancelAnimations()}};ol.View.prototype.setZoom=function(e){var t=this.constrainResolution(this.maxResolution_,e-this.minZoom_,0);this.setResolution(t)};ol.View.createCenterConstraint_=function(e){if(e.extent!==undefined){return ol.CenterConstraint.createExtent(e.extent)}else{return ol.CenterConstraint.none}};ol.View.createResolutionConstraint_=function(e){var t;var o;var r;var i=28;var n=2;var a=e.minZoom!==undefined?e.minZoom:ol.DEFAULT_MIN_ZOOM;var l=e.maxZoom!==undefined?e.maxZoom:i;var s=e.zoomFactor!==undefined?e.zoomFactor:n;if(e.resolutions!==undefined){var p=e.resolutions;o=p[0];r=p[p.length-1];t=ol.ResolutionConstraint.createSnapToResolutions(p)}else{var u=ol.proj.createProjection(e.projection,"EPSG:3857");var c=u.getExtent();var g=!c?360*ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES]/u.getMetersPerUnit():Math.max(ol.extent.getWidth(c),ol.extent.getHeight(c));var h=g/ol.DEFAULT_TILE_SIZE/Math.pow(n,ol.DEFAULT_MIN_ZOOM);var f=h/Math.pow(n,i-ol.DEFAULT_MIN_ZOOM);o=e.maxResolution;if(o!==undefined){a=0}else{o=h/Math.pow(s,a)}r=e.minResolution;if(r===undefined){if(e.maxZoom!==undefined){if(e.maxResolution!==undefined){r=o/Math.pow(s,l)}else{r=h/Math.pow(s,l)}}else{r=f}}l=a+Math.floor(Math.log(o/r)/Math.log(s));r=o/Math.pow(s,l-a);t=ol.ResolutionConstraint.createSnapToPower(s,o,l-a)}return{constraint:t,maxResolution:o,minResolution:r,minZoom:a,zoomFactor:s}};ol.View.createRotationConstraint_=function(e){var t=e.enableRotation!==undefined?e.enableRotation:true;if(t){var o=e.constrainRotation;if(o===undefined||o===true){return ol.RotationConstraint.createSnapToZero()}else if(o===false){return ol.RotationConstraint.none}else if(typeof o==="number"){return ol.RotationConstraint.createSnapToN(o)}else{return ol.RotationConstraint.none}}else{return ol.RotationConstraint.disable}};goog.provide("ol.Kinetic");ol.Kinetic=function(e,t,o){this.decay_=e;this.minVelocity_=t;this.delay_=o;this.points_=[];this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.begin=function(){this.points_.length=0;this.angle_=0;this.initialVelocity_=0};ol.Kinetic.prototype.update=function(e,t){this.points_.push(e,t,Date.now())};ol.Kinetic.prototype.end=function(){if(this.points_.length<6){return false}var e=Date.now()-this.delay_;var t=this.points_.length-3;if(this.points_[t+2]<e){return false}var o=t-3;while(o>0&&this.points_[o+2]>e){o-=3}var r=this.points_[t+2]-this.points_[o+2];var i=this.points_[t]-this.points_[o];var n=this.points_[t+1]-this.points_[o+1];this.angle_=Math.atan2(n,i);this.initialVelocity_=Math.sqrt(i*i+n*n)/r;return this.initialVelocity_>this.minVelocity_};ol.Kinetic.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_};ol.Kinetic.prototype.getAngle=function(){return this.angle_};goog.provide("ol.interaction.Property");ol.interaction.Property={ACTIVE:"active"};goog.provide("ol.interaction.Interaction");goog.require("ol");goog.require("ol.Object");goog.require("ol.easing");goog.require("ol.interaction.Property");ol.interaction.Interaction=function(e){ol.Object.call(this);this.map_=null;this.setActive(true);this.handleEvent=e.handleEvent};ol.inherits(ol.interaction.Interaction,ol.Object);ol.interaction.Interaction.prototype.getActive=function(){return this.get(ol.interaction.Property.ACTIVE)};ol.interaction.Interaction.prototype.getMap=function(){return this.map_};ol.interaction.Interaction.prototype.setActive=function(e){this.set(ol.interaction.Property.ACTIVE,e)};ol.interaction.Interaction.prototype.setMap=function(e){this.map_=e};ol.interaction.Interaction.pan=function(e,t,o){var r=e.getCenter();if(r){var i=e.constrainCenter([r[0]+t[0],r[1]+t[1]]);if(o){e.animate({duration:o,easing:ol.easing.linear,center:i})}else{e.setCenter(i)}}};ol.interaction.Interaction.rotate=function(e,t,o,r){t=e.constrainRotation(t,0);ol.interaction.Interaction.rotateWithoutConstraints(e,t,o,r)};ol.interaction.Interaction.rotateWithoutConstraints=function(e,t,o,r){if(t!==undefined){var i=e.getRotation();var n=e.getCenter();if(i!==undefined&&n&&r>0){e.animate({rotation:t,anchor:o,duration:r,easing:ol.easing.easeOut})}else{e.rotate(t,o)}}};ol.interaction.Interaction.zoom=function(e,t,o,r,i){t=e.constrainResolution(t,0,i);ol.interaction.Interaction.zoomWithoutConstraints(e,t,o,r)};ol.interaction.Interaction.zoomByDelta=function(e,t,o,r){var i=e.getResolution();var n=e.constrainResolution(i,t,0);if(o&&n!==undefined&&n!==i){var a=e.getCenter();var l=e.calculateCenterZoom(n,o);l=e.constrainCenter(l);o=[(n*a[0]-i*l[0])/(n-i),(n*a[1]-i*l[1])/(n-i)]}ol.interaction.Interaction.zoomWithoutConstraints(e,n,o,r)};ol.interaction.Interaction.zoomWithoutConstraints=function(e,t,o,r){if(t){var i=e.getResolution();var n=e.getCenter();if(i!==undefined&&n&&t!==i&&r){e.animate({resolution:t,anchor:o,duration:r,easing:ol.easing.easeOut})}else{if(o){var a=e.calculateCenterZoom(t,o);e.setCenter(a)}e.setResolution(t)}}};goog.provide("ol.interaction.DoubleClickZoom");goog.require("ol");goog.require("ol.MapBrowserEventType");goog.require("ol.interaction.Interaction");ol.interaction.DoubleClickZoom=function(e){var t=e?e:{};this.delta_=t.delta?t.delta:1;ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DoubleClickZoom.handleEvent});this.duration_=t.duration!==undefined?t.duration:250};ol.inherits(ol.interaction.DoubleClickZoom,ol.interaction.Interaction);ol.interaction.DoubleClickZoom.handleEvent=function(e){var t=false;var o=e.originalEvent;if(e.type==ol.MapBrowserEventType.DBLCLICK){var r=e.map;var i=e.coordinate;var n=o.shiftKey?-this.delta_:this.delta_;var a=r.getView();ol.interaction.Interaction.zoomByDelta(a,n,i,this.duration_);e.preventDefault();t=true}return!t};goog.provide("ol.events.condition");goog.require("ol.MapBrowserEventType");goog.require("ol.asserts");goog.require("ol.functions");goog.require("ol.has");ol.events.condition.altKeyOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};ol.events.condition.altShiftKeysOnly=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};ol.events.condition.always=ol.functions.TRUE;ol.events.condition.click=function(e){return e.type==ol.MapBrowserEventType.CLICK};ol.events.condition.mouseActionButton=function(e){var t=e.originalEvent;return t.button==0&&!(ol.has.WEBKIT&&ol.has.MAC&&t.ctrlKey)};ol.events.condition.never=ol.functions.FALSE;ol.events.condition.pointerMove=function(e){return e.type=="pointermove"};ol.events.condition.singleClick=function(e){return e.type==ol.MapBrowserEventType.SINGLECLICK};ol.events.condition.doubleClick=function(e){return e.type==ol.MapBrowserEventType.DBLCLICK};ol.events.condition.noModifierKeys=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};ol.events.condition.platformModifierKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&(ol.has.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};ol.events.condition.shiftKeyOnly=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};ol.events.condition.targetNotEditable=function(e){var t=e.originalEvent.target;var o=t.tagName;return o!=="INPUT"&&o!=="SELECT"&&o!=="TEXTAREA"};ol.events.condition.mouseOnly=function(e){ol.asserts.assert(e.pointerEvent,56);return e.pointerEvent.pointerType=="mouse"};ol.events.condition.primaryAction=function(e){var t=e.pointerEvent;return t.isPrimary&&t.button===0};goog.provide("ol.interaction.Pointer");goog.require("ol");goog.require("ol.functions");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.interaction.Interaction");goog.require("ol.obj");ol.interaction.Pointer=function(e){var t=e?e:{};var o=t.handleEvent?t.handleEvent:ol.interaction.Pointer.handleEvent;ol.interaction.Interaction.call(this,{handleEvent:o});this.handleDownEvent_=t.handleDownEvent?t.handleDownEvent:ol.interaction.Pointer.handleDownEvent;this.handleDragEvent_=t.handleDragEvent?t.handleDragEvent:ol.interaction.Pointer.handleDragEvent;this.handleMoveEvent_=t.handleMoveEvent?t.handleMoveEvent:ol.interaction.Pointer.handleMoveEvent;this.handleUpEvent_=t.handleUpEvent?t.handleUpEvent:ol.interaction.Pointer.handleUpEvent;this.handlingDownUpSequence=false;this.trackedPointers_={};this.targetPointers=[]};ol.inherits(ol.interaction.Pointer,ol.interaction.Interaction);ol.interaction.Pointer.centroid=function(e){var t=e.length;var o=0;var r=0;for(var i=0;i<t;i++){o+=e[i].clientX;r+=e[i].clientY}return[o/t,r/t]};ol.interaction.Pointer.prototype.isPointerDraggingEvent_=function(e){var t=e.type;return t===ol.MapBrowserEventType.POINTERDOWN||t===ol.MapBrowserEventType.POINTERDRAG||t===ol.MapBrowserEventType.POINTERUP};ol.interaction.Pointer.prototype.updateTrackedPointers_=function(e){if(this.isPointerDraggingEvent_(e)){var t=e.pointerEvent;if(e.type==ol.MapBrowserEventType.POINTERUP){delete this.trackedPointers_[t.pointerId]}else if(e.type==ol.MapBrowserEventType.POINTERDOWN){this.trackedPointers_[t.pointerId]=t}else if(t.pointerId in this.trackedPointers_){this.trackedPointers_[t.pointerId]=t}this.targetPointers=ol.obj.getValues(this.trackedPointers_)}};ol.interaction.Pointer.handleDragEvent=ol.nullFunction;ol.interaction.Pointer.handleUpEvent=ol.functions.FALSE;ol.interaction.Pointer.handleDownEvent=ol.functions.FALSE;ol.interaction.Pointer.handleMoveEvent=ol.nullFunction;ol.interaction.Pointer.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent)){return true}var t=false;this.updateTrackedPointers_(e);if(this.handlingDownUpSequence){if(e.type==ol.MapBrowserEventType.POINTERDRAG){this.handleDragEvent_(e)}else if(e.type==ol.MapBrowserEventType.POINTERUP){var o=this.handleUpEvent_(e);this.handlingDownUpSequence=o&&this.targetPointers.length>0}}else{if(e.type==ol.MapBrowserEventType.POINTERDOWN){var r=this.handleDownEvent_(e);this.handlingDownUpSequence=r;t=this.shouldStopEvent(r)}else if(e.type==ol.MapBrowserEventType.POINTERMOVE){this.handleMoveEvent_(e)}}return!t};ol.interaction.Pointer.prototype.shouldStopEvent=function(e){return e};goog.provide("ol.interaction.DragPan");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.interaction.Pointer");ol.interaction.DragPan=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragPan.handleDownEvent_,handleDragEvent:ol.interaction.DragPan.handleDragEvent_,handleUpEvent:ol.interaction.DragPan.handleUpEvent_});var t=e?e:{};this.kinetic_=t.kinetic;this.lastCentroid=null;this.lastPointersCount_;this.condition_=t.condition?t.condition:ol.events.condition.noModifierKeys;this.noKinetic_=false};ol.inherits(ol.interaction.DragPan,ol.interaction.Pointer);ol.interaction.DragPan.handleDragEvent_=function(e){var t=this.targetPointers;var o=ol.interaction.Pointer.centroid(t);if(t.length==this.lastPointersCount_){if(this.kinetic_){this.kinetic_.update(o[0],o[1])}if(this.lastCentroid){var r=this.lastCentroid[0]-o[0];var i=o[1]-this.lastCentroid[1];var n=e.map;var a=n.getView();var l=a.getState();var s=[r,i];ol.coordinate.scale(s,l.resolution);ol.coordinate.rotate(s,l.rotation);ol.coordinate.add(s,l.center);s=a.constrainCenter(s);a.setCenter(s)}}else if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=o;this.lastPointersCount_=t.length};ol.interaction.DragPan.handleUpEvent_=function(e){var t=e.map;var o=t.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var r=this.kinetic_.getDistance();var i=this.kinetic_.getAngle();var n=o.getCenter();var a=t.getPixelFromCoordinate(n);var l=t.getCoordinateFromPixel([a[0]-r*Math.cos(i),a[1]-r*Math.sin(i)]);o.animate({center:o.constrainCenter(l),duration:500,easing:ol.easing.easeOut})}o.setHint(ol.ViewHint.INTERACTING,-1);return false}else{if(this.kinetic_){this.kinetic_.begin()}this.lastCentroid=null;return true}};ol.interaction.DragPan.handleDownEvent_=function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map;var o=t.getView();this.lastCentroid=null;if(!this.handlingDownUpSequence){o.setHint(ol.ViewHint.INTERACTING,1)}if(o.getHints()[ol.ViewHint.ANIMATING]){o.setCenter(e.frameState.viewState.center)}if(this.kinetic_){this.kinetic_.begin()}this.noKinetic_=this.targetPointers.length>1;return true}else{return false}};ol.interaction.DragPan.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction.DragRotate");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.DragRotate=function(e){var t=e?e:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotate.handleDownEvent_,handleDragEvent:ol.interaction.DragRotate.handleDragEvent_,handleUpEvent:ol.interaction.DragRotate.handleUpEvent_});this.condition_=t.condition?t.condition:ol.events.condition.altShiftKeysOnly;this.lastAngle_=undefined;this.duration_=t.duration!==undefined?t.duration:250};ol.inherits(ol.interaction.DragRotate,ol.interaction.Pointer);ol.interaction.DragRotate.handleDragEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return}var t=e.map;var o=t.getSize();var r=e.pixel;var i=Math.atan2(o[1]/2-r[1],r[0]-o[0]/2);if(this.lastAngle_!==undefined){var n=i-this.lastAngle_;var a=t.getView();var l=a.getRotation();ol.interaction.Interaction.rotateWithoutConstraints(a,l-n)}this.lastAngle_=i};ol.interaction.DragRotate.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return true}var t=e.map;var o=t.getView();o.setHint(ol.ViewHint.INTERACTING,-1);var r=o.getRotation();ol.interaction.Interaction.rotate(o,r,undefined,this.duration_);return false};ol.interaction.DragRotate.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return false}if(ol.events.condition.mouseActionButton(e)&&this.condition_(e)){var t=e.map;t.getView().setHint(ol.ViewHint.INTERACTING,1);this.lastAngle_=undefined;return true}else{return false}};ol.interaction.DragRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.render.Box");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.geom.Polygon");ol.render.Box=function(e){this.geometry_=null;this.element_=document.createElement("div");this.element_.style.position="absolute";this.element_.className="ol-box "+e;this.map_=null;this.startPixel_=null;this.endPixel_=null};ol.inherits(ol.render.Box,ol.Disposable);ol.render.Box.prototype.disposeInternal=function(){this.setMap(null)};ol.render.Box.prototype.render_=function(){var e=this.startPixel_;var t=this.endPixel_;var o="px";var r=this.element_.style;r.left=Math.min(e[0],t[0])+o;r.top=Math.min(e[1],t[1])+o;r.width=Math.abs(t[0]-e[0])+o;r.height=Math.abs(t[1]-e[1])+o};ol.render.Box.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left=t.top=t.width=t.height="inherit"}this.map_=e;if(this.map_){this.map_.getOverlayContainer().appendChild(this.element_)}};ol.render.Box.prototype.setPixels=function(e,t){this.startPixel_=e;this.endPixel_=t;this.createOrUpdateGeometry();this.render_()};ol.render.Box.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_;var t=this.endPixel_;var o=[e,[e[0],t[1]],t,[t[0],e[1]]];var r=o.map(this.map_.getCoordinateFromPixel,this.map_);r[4]=r[0].slice();if(!this.geometry_){this.geometry_=new ol.geom.Polygon([r])}else{this.geometry_.setCoordinates([r])}};ol.render.Box.prototype.getGeometry=function(){return this.geometry_};goog.provide("ol.interaction.DragBox");goog.require("ol.events.Event");goog.require("ol");goog.require("ol.events.condition");goog.require("ol.interaction.Pointer");goog.require("ol.render.Box");ol.DRAG_BOX_HYSTERESIS_PIXELS_SQUARED=ol.DRAG_BOX_HYSTERESIS_PIXELS*ol.DRAG_BOX_HYSTERESIS_PIXELS;ol.interaction.DragBox=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragBox.handleDownEvent_,handleDragEvent:ol.interaction.DragBox.handleDragEvent_,handleUpEvent:ol.interaction.DragBox.handleUpEvent_});var t=e?e:{};this.box_=new ol.render.Box(t.className||"ol-dragbox");this.startPixel_=null;this.condition_=t.condition?t.condition:ol.events.condition.always;this.boxEndCondition_=t.boxEndCondition?t.boxEndCondition:ol.interaction.DragBox.defaultBoxEndCondition};ol.inherits(ol.interaction.DragBox,ol.interaction.Pointer);ol.interaction.DragBox.defaultBoxEndCondition=function(e,t,o){var r=o[0]-t[0];var i=o[1]-t[1];return r*r+i*i>=ol.DRAG_BOX_HYSTERESIS_PIXELS_SQUARED};ol.interaction.DragBox.handleDragEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return}this.box_.setPixels(this.startPixel_,e.pixel);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXDRAG,e.coordinate,e))};ol.interaction.DragBox.prototype.getGeometry=function(){return this.box_.getGeometry()};ol.interaction.DragBox.prototype.onBoxEnd=ol.nullFunction;ol.interaction.DragBox.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return true}this.box_.setMap(null);if(this.boxEndCondition_(e,this.startPixel_,e.pixel)){this.onBoxEnd(e);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXEND,e.coordinate,e))}return false};ol.interaction.DragBox.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return false}if(ol.events.condition.mouseActionButton(e)&&this.condition_(e)){this.startPixel_=e.pixel;this.box_.setMap(e.map);this.box_.setPixels(this.startPixel_,this.startPixel_);this.dispatchEvent(new ol.interaction.DragBox.Event(ol.interaction.DragBox.EventType_.BOXSTART,e.coordinate,e));return true}else{return false}};ol.interaction.DragBox.EventType_={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"};ol.interaction.DragBox.Event=function(e,t,o){ol.events.Event.call(this,e);this.coordinate=t;this.mapBrowserEvent=o};ol.inherits(ol.interaction.DragBox.Event,ol.events.Event);goog.provide("ol.interaction.DragZoom");goog.require("ol");goog.require("ol.easing");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.interaction.DragBox");ol.interaction.DragZoom=function(e){var t=e?e:{};var o=t.condition?t.condition:ol.events.condition.shiftKeyOnly;this.duration_=t.duration!==undefined?t.duration:200;this.out_=t.out!==undefined?t.out:false;ol.interaction.DragBox.call(this,{condition:o,className:t.className||"ol-dragzoom"})};ol.inherits(ol.interaction.DragZoom,ol.interaction.DragBox);ol.interaction.DragZoom.prototype.onBoxEnd=function(){var e=this.getMap();var t=e.getView();var o=e.getSize();var r=this.getGeometry().getExtent();if(this.out_){var i=t.calculateExtent(o);var n=ol.extent.createOrUpdateFromCoordinates([e.getPixelFromCoordinate(ol.extent.getBottomLeft(r)),e.getPixelFromCoordinate(ol.extent.getTopRight(r))]);var a=t.getResolutionForExtent(n,o);ol.extent.scaleFromCenter(i,1/a);r=i}var l=t.constrainResolution(t.getResolutionForExtent(r,o));var s=ol.extent.getCenter(r);s=t.constrainCenter(s);t.animate({resolution:l,center:s,duration:this.duration_,easing:ol.easing.easeOut})};goog.provide("ol.events.KeyCode");ol.events.KeyCode={LEFT:37,UP:38,RIGHT:39,DOWN:40};goog.provide("ol.interaction.KeyboardPan");goog.require("ol");goog.require("ol.coordinate");goog.require("ol.events.EventType");goog.require("ol.events.KeyCode");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");ol.interaction.KeyboardPan=function(e){ol.interaction.Interaction.call(this,{
handleEvent:ol.interaction.KeyboardPan.handleEvent});var t=e||{};this.defaultCondition_=function(e){return ol.events.condition.noModifierKeys(e)&&ol.events.condition.targetNotEditable(e)};this.condition_=t.condition!==undefined?t.condition:this.defaultCondition_;this.duration_=t.duration!==undefined?t.duration:100;this.pixelDelta_=t.pixelDelta!==undefined?t.pixelDelta:128};ol.inherits(ol.interaction.KeyboardPan,ol.interaction.Interaction);ol.interaction.KeyboardPan.handleEvent=function(e){var t=false;if(e.type==ol.events.EventType.KEYDOWN){var o=e.originalEvent;var r=o.keyCode;if(this.condition_(e)&&(r==ol.events.KeyCode.DOWN||r==ol.events.KeyCode.LEFT||r==ol.events.KeyCode.RIGHT||r==ol.events.KeyCode.UP)){var i=e.map;var n=i.getView();var a=n.getResolution()*this.pixelDelta_;var l=0,s=0;if(r==ol.events.KeyCode.DOWN){s=-a}else if(r==ol.events.KeyCode.LEFT){l=-a}else if(r==ol.events.KeyCode.RIGHT){l=a}else{s=a}var p=[l,s];ol.coordinate.rotate(p,n.getRotation());ol.interaction.Interaction.pan(n,p,this.duration_);e.preventDefault();t=true}}return!t};goog.provide("ol.interaction.KeyboardZoom");goog.require("ol");goog.require("ol.events.EventType");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");ol.interaction.KeyboardZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.KeyboardZoom.handleEvent});var t=e?e:{};this.condition_=t.condition?t.condition:ol.events.condition.targetNotEditable;this.delta_=t.delta?t.delta:1;this.duration_=t.duration!==undefined?t.duration:100};ol.inherits(ol.interaction.KeyboardZoom,ol.interaction.Interaction);ol.interaction.KeyboardZoom.handleEvent=function(e){var t=false;if(e.type==ol.events.EventType.KEYDOWN||e.type==ol.events.EventType.KEYPRESS){var o=e.originalEvent;var r=o.charCode;if(this.condition_(e)&&(r=="+".charCodeAt(0)||r=="-".charCodeAt(0))){var i=e.map;var n=r=="+".charCodeAt(0)?this.delta_:-this.delta_;var a=i.getView();ol.interaction.Interaction.zoomByDelta(a,n,undefined,this.duration_);e.preventDefault();t=true}}return!t};goog.provide("ol.interaction.MouseWheelZoom");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.easing");goog.require("ol.events.EventType");goog.require("ol.has");goog.require("ol.interaction.Interaction");goog.require("ol.math");ol.interaction.MouseWheelZoom=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.MouseWheelZoom.handleEvent});var t=e||{};this.delta_=0;this.duration_=t.duration!==undefined?t.duration:250;this.timeout_=t.timeout!==undefined?t.timeout:80;this.useAnchor_=t.useAnchor!==undefined?t.useAnchor:true;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined;this.mode_=undefined;this.trackpadEventGap_=400;this.trackpadTimeoutId_=undefined;this.trackpadDeltaPerZoom_=300;this.trackpadZoomBuffer_=1.5};ol.inherits(ol.interaction.MouseWheelZoom,ol.interaction.Interaction);ol.interaction.MouseWheelZoom.handleEvent=function(e){var t=e.type;if(t!==ol.events.EventType.WHEEL&&t!==ol.events.EventType.MOUSEWHEEL){return true}e.preventDefault();var o=e.map;var r=e.originalEvent;if(this.useAnchor_){this.lastAnchor_=e.coordinate}var i;if(e.type==ol.events.EventType.WHEEL){i=r.deltaY;if(ol.has.FIREFOX&&r.deltaMode===WheelEvent.DOM_DELTA_PIXEL){i/=ol.has.DEVICE_PIXEL_RATIO}if(r.deltaMode===WheelEvent.DOM_DELTA_LINE){i*=40}}else if(e.type==ol.events.EventType.MOUSEWHEEL){i=-r.wheelDeltaY;if(ol.has.SAFARI){i/=3}}if(i===0){return false}var n=Date.now();if(this.startTime_===undefined){this.startTime_=n}if(!this.mode_||n-this.startTime_>this.trackpadEventGap_){this.mode_=Math.abs(i)<4?ol.interaction.MouseWheelZoom.Mode_.TRACKPAD:ol.interaction.MouseWheelZoom.Mode_.WHEEL}if(this.mode_===ol.interaction.MouseWheelZoom.Mode_.TRACKPAD){var a=o.getView();if(this.trackpadTimeoutId_){clearTimeout(this.trackpadTimeoutId_)}else{a.setHint(ol.ViewHint.INTERACTING,1)}this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var l=a.getResolution()*Math.pow(2,i/this.trackpadDeltaPerZoom_);var s=a.getMinResolution();var p=a.getMaxResolution();var u=0;if(l<s){l=Math.max(l,s/this.trackpadZoomBuffer_);u=1}else if(l>p){l=Math.min(l,p*this.trackpadZoomBuffer_);u=-1}if(this.lastAnchor_){var c=a.calculateCenterZoom(l,this.lastAnchor_);a.setCenter(a.constrainCenter(c))}a.setResolution(l);if(u>0){a.animate({resolution:s,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500})}else if(u<0){a.animate({resolution:p,easing:ol.easing.easeOut,anchor:this.lastAnchor_,duration:500})}this.startTime_=n;return false}this.delta_+=i;var g=Math.max(this.timeout_-(n-this.startTime_),0);clearTimeout(this.timeoutId_);this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),g);return false};ol.interaction.MouseWheelZoom.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=undefined;var e=this.getMap().getView();e.setHint(ol.ViewHint.INTERACTING,-1)};ol.interaction.MouseWheelZoom.prototype.handleWheelZoom_=function(e){var t=e.getView();if(t.getAnimating()){t.cancelAnimations()}var o=ol.MOUSEWHEELZOOM_MAXDELTA;var r=ol.math.clamp(this.delta_,-o,o);ol.interaction.Interaction.zoomByDelta(t,-r,this.lastAnchor_,this.duration_);this.mode_=undefined;this.delta_=0;this.lastAnchor_=null;this.startTime_=undefined;this.timeoutId_=undefined};ol.interaction.MouseWheelZoom.prototype.setMouseAnchor=function(e){this.useAnchor_=e;if(!e){this.lastAnchor_=null}};ol.interaction.MouseWheelZoom.Mode_={TRACKPAD:"trackpad",WHEEL:"wheel"};goog.provide("ol.interaction.PinchRotate");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.PinchRotate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchRotate.handleDownEvent_,handleDragEvent:ol.interaction.PinchRotate.handleDragEvent_,handleUpEvent:ol.interaction.PinchRotate.handleUpEvent_});var t=e||{};this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;this.threshold_=t.threshold!==undefined?t.threshold:.3;this.duration_=t.duration!==undefined?t.duration:250};ol.inherits(ol.interaction.PinchRotate,ol.interaction.Pointer);ol.interaction.PinchRotate.handleDragEvent_=function(e){var t=0;var o=this.targetPointers[0];var r=this.targetPointers[1];var i=Math.atan2(r.clientY-o.clientY,r.clientX-o.clientX);if(this.lastAngle_!==undefined){var n=i-this.lastAngle_;this.rotationDelta_+=n;if(!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_){this.rotating_=true}t=n}this.lastAngle_=i;var a=e.map;var l=a.getViewport().getBoundingClientRect();var s=ol.interaction.Pointer.centroid(this.targetPointers);s[0]-=l.left;s[1]-=l.top;this.anchor_=a.getCoordinateFromPixel(s);if(this.rotating_){var p=a.getView();var u=p.getRotation();a.render();ol.interaction.Interaction.rotateWithoutConstraints(p,u+t,this.anchor_)}};ol.interaction.PinchRotate.handleUpEvent_=function(e){if(this.targetPointers.length<2){var t=e.map;var o=t.getView();o.setHint(ol.ViewHint.INTERACTING,-1);if(this.rotating_){var r=o.getRotation();ol.interaction.Interaction.rotate(o,r,this.anchor_,this.duration_)}return false}else{return true}};ol.interaction.PinchRotate.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var t=e.map;this.anchor_=null;this.lastAngle_=undefined;this.rotating_=false;this.rotationDelta_=0;if(!this.handlingDownUpSequence){t.getView().setHint(ol.ViewHint.INTERACTING,1)}return true}else{return false}};ol.interaction.PinchRotate.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction.PinchZoom");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.functions");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.PinchZoom=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.PinchZoom.handleDownEvent_,handleDragEvent:ol.interaction.PinchZoom.handleDragEvent_,handleUpEvent:ol.interaction.PinchZoom.handleUpEvent_});var t=e?e:{};this.constrainResolution_=t.constrainResolution||false;this.anchor_=null;this.duration_=t.duration!==undefined?t.duration:400;this.lastDistance_=undefined;this.lastScaleDelta_=1};ol.inherits(ol.interaction.PinchZoom,ol.interaction.Pointer);ol.interaction.PinchZoom.handleDragEvent_=function(e){var t=1;var o=this.targetPointers[0];var r=this.targetPointers[1];var i=o.clientX-r.clientX;var n=o.clientY-r.clientY;var a=Math.sqrt(i*i+n*n);if(this.lastDistance_!==undefined){t=this.lastDistance_/a}this.lastDistance_=a;var l=e.map;var s=l.getView();var p=s.getResolution();var u=s.getMaxResolution();var c=s.getMinResolution();var g=p*t;if(g>u){t=u/p;g=u}else if(g<c){t=c/p;g=c}if(t!=1){this.lastScaleDelta_=t}var h=l.getViewport().getBoundingClientRect();var f=ol.interaction.Pointer.centroid(this.targetPointers);f[0]-=h.left;f[1]-=h.top;this.anchor_=l.getCoordinateFromPixel(f);l.render();ol.interaction.Interaction.zoomWithoutConstraints(s,g,this.anchor_)};ol.interaction.PinchZoom.handleUpEvent_=function(e){if(this.targetPointers.length<2){var t=e.map;var o=t.getView();o.setHint(ol.ViewHint.INTERACTING,-1);var r=o.getResolution();if(this.constrainResolution_||r<o.getMinResolution()||r>o.getMaxResolution()){var i=this.lastScaleDelta_-1;ol.interaction.Interaction.zoom(o,r,this.anchor_,this.duration_,i)}return false}else{return true}};ol.interaction.PinchZoom.handleDownEvent_=function(e){if(this.targetPointers.length>=2){var t=e.map;this.anchor_=null;this.lastDistance_=undefined;this.lastScaleDelta_=1;if(!this.handlingDownUpSequence){t.getView().setHint(ol.ViewHint.INTERACTING,1)}return true}else{return false}};ol.interaction.PinchZoom.prototype.shouldStopEvent=ol.functions.FALSE;goog.provide("ol.interaction");goog.require("ol.Collection");goog.require("ol.Kinetic");goog.require("ol.interaction.DoubleClickZoom");goog.require("ol.interaction.DragPan");goog.require("ol.interaction.DragRotate");goog.require("ol.interaction.DragZoom");goog.require("ol.interaction.KeyboardPan");goog.require("ol.interaction.KeyboardZoom");goog.require("ol.interaction.MouseWheelZoom");goog.require("ol.interaction.PinchRotate");goog.require("ol.interaction.PinchZoom");ol.interaction.defaults=function(e){var t=e?e:{};var o=new ol.Collection;var r=new ol.Kinetic(-.005,.05,100);var i=t.altShiftDragRotate!==undefined?t.altShiftDragRotate:true;if(i){o.push(new ol.interaction.DragRotate)}var n=t.doubleClickZoom!==undefined?t.doubleClickZoom:true;if(n){o.push(new ol.interaction.DoubleClickZoom({delta:t.zoomDelta,duration:t.zoomDuration}))}var a=t.dragPan!==undefined?t.dragPan:true;if(a){o.push(new ol.interaction.DragPan({kinetic:r}))}var l=t.pinchRotate!==undefined?t.pinchRotate:true;if(l){o.push(new ol.interaction.PinchRotate)}var s=t.pinchZoom!==undefined?t.pinchZoom:true;if(s){o.push(new ol.interaction.PinchZoom({duration:t.zoomDuration}))}var p=t.keyboard!==undefined?t.keyboard:true;if(p){o.push(new ol.interaction.KeyboardPan);o.push(new ol.interaction.KeyboardZoom({delta:t.zoomDelta,duration:t.zoomDuration}))}var u=t.mouseWheelZoom!==undefined?t.mouseWheelZoom:true;if(u){o.push(new ol.interaction.MouseWheelZoom({duration:t.zoomDuration}))}var c=t.shiftDragZoom!==undefined?t.shiftDragZoom:true;if(c){o.push(new ol.interaction.DragZoom({duration:t.zoomDuration}))}return o};goog.provide("ol.layer.Property");ol.layer.Property={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};goog.provide("ol.layer.Base");goog.require("ol");goog.require("ol.Object");goog.require("ol.layer.Property");goog.require("ol.math");goog.require("ol.obj");ol.layer.Base=function(e){ol.Object.call(this);var t=ol.obj.assign({},e);t[ol.layer.Property.OPACITY]=e.opacity!==undefined?e.opacity:1;t[ol.layer.Property.VISIBLE]=e.visible!==undefined?e.visible:true;t[ol.layer.Property.Z_INDEX]=e.zIndex!==undefined?e.zIndex:0;t[ol.layer.Property.MAX_RESOLUTION]=e.maxResolution!==undefined?e.maxResolution:Infinity;t[ol.layer.Property.MIN_RESOLUTION]=e.minResolution!==undefined?e.minResolution:0;this.setProperties(t);this.state_={layer:this,managed:true}};ol.inherits(ol.layer.Base,ol.Object);ol.layer.Base.prototype.createRenderer=function(e){};ol.layer.Base.prototype.getLayerState=function(){this.state_.opacity=ol.math.clamp(this.getOpacity(),0,1);this.state_.sourceState=this.getSourceState();this.state_.visible=this.getVisible();this.state_.extent=this.getExtent();this.state_.zIndex=this.getZIndex();this.state_.maxResolution=this.getMaxResolution();this.state_.minResolution=Math.max(this.getMinResolution(),0);return this.state_};ol.layer.Base.prototype.getLayersArray=function(e){};ol.layer.Base.prototype.getLayerStatesArray=function(e){};ol.layer.Base.prototype.getExtent=function(){return this.get(ol.layer.Property.EXTENT)};ol.layer.Base.prototype.getMaxResolution=function(){return this.get(ol.layer.Property.MAX_RESOLUTION)};ol.layer.Base.prototype.getMinResolution=function(){return this.get(ol.layer.Property.MIN_RESOLUTION)};ol.layer.Base.prototype.getOpacity=function(){return this.get(ol.layer.Property.OPACITY)};ol.layer.Base.prototype.getSourceState=function(){};ol.layer.Base.prototype.getVisible=function(){return this.get(ol.layer.Property.VISIBLE)};ol.layer.Base.prototype.getZIndex=function(){return this.get(ol.layer.Property.Z_INDEX)};ol.layer.Base.prototype.setExtent=function(e){this.set(ol.layer.Property.EXTENT,e)};ol.layer.Base.prototype.setMaxResolution=function(e){this.set(ol.layer.Property.MAX_RESOLUTION,e)};ol.layer.Base.prototype.setMinResolution=function(e){this.set(ol.layer.Property.MIN_RESOLUTION,e)};ol.layer.Base.prototype.setOpacity=function(e){this.set(ol.layer.Property.OPACITY,e)};ol.layer.Base.prototype.setVisible=function(e){this.set(ol.layer.Property.VISIBLE,e)};ol.layer.Base.prototype.setZIndex=function(e){this.set(ol.layer.Property.Z_INDEX,e)};goog.provide("ol.source.State");ol.source.State={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};goog.provide("ol.layer.Group");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.layer.Base");goog.require("ol.obj");goog.require("ol.source.State");ol.layer.Group=function(e){var t=e||{};var o=ol.obj.assign({},t);delete o.layers;var r=t.layers;ol.layer.Base.call(this,o);this.layersListenerKeys_=[];this.listenerKeys_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Group.Property_.LAYERS),this.handleLayersChanged_,this);if(r){if(Array.isArray(r)){r=new ol.Collection(r.slice())}else{ol.asserts.assert(r instanceof ol.Collection,43);r=r}}else{r=new ol.Collection}this.setLayers(r)};ol.inherits(ol.layer.Group,ol.layer.Base);ol.layer.Group.prototype.createRenderer=function(e){};ol.layer.Group.prototype.handleLayerChange_=function(){if(this.getVisible()){this.changed()}};ol.layer.Group.prototype.handleLayersChanged_=function(e){this.layersListenerKeys_.forEach(ol.events.unlistenByKey);this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(ol.events.listen(t,ol.CollectionEventType.ADD,this.handleLayersAdd_,this),ol.events.listen(t,ol.CollectionEventType.REMOVE,this.handleLayersRemove_,this));for(var o in this.listenerKeys_){this.listenerKeys_[o].forEach(ol.events.unlistenByKey)}ol.obj.clear(this.listenerKeys_);var r=t.getArray();var i,n,a;for(i=0,n=r.length;i<n;i++){a=r[i];this.listenerKeys_[ol.getUid(a).toString()]=[ol.events.listen(a,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(a,ol.events.EventType.CHANGE,this.handleLayerChange_,this)]}this.changed()};ol.layer.Group.prototype.handleLayersAdd_=function(e){var t=e.element;var o=ol.getUid(t).toString();this.listenerKeys_[o]=[ol.events.listen(t,ol.ObjectEventType.PROPERTYCHANGE,this.handleLayerChange_,this),ol.events.listen(t,ol.events.EventType.CHANGE,this.handleLayerChange_,this)];this.changed()};ol.layer.Group.prototype.handleLayersRemove_=function(e){var t=e.element;var o=ol.getUid(t).toString();this.listenerKeys_[o].forEach(ol.events.unlistenByKey);delete this.listenerKeys_[o];this.changed()};ol.layer.Group.prototype.getLayers=function(){return this.get(ol.layer.Group.Property_.LAYERS)};ol.layer.Group.prototype.setLayers=function(e){this.set(ol.layer.Group.Property_.LAYERS,e)};ol.layer.Group.prototype.getLayersArray=function(e){var t=e!==undefined?e:[];this.getLayers().forEach(function(e){e.getLayersArray(t)});return t};ol.layer.Group.prototype.getLayerStatesArray=function(e){var t=e!==undefined?e:[];var o=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});var r=this.getLayerState();var i,n,a;for(i=o,n=t.length;i<n;i++){a=t[i];a.opacity*=r.opacity;a.visible=a.visible&&r.visible;a.maxResolution=Math.min(a.maxResolution,r.maxResolution);a.minResolution=Math.max(a.minResolution,r.minResolution);if(r.extent!==undefined){if(a.extent!==undefined){a.extent=ol.extent.getIntersection(a.extent,r.extent)}else{a.extent=r.extent}}}return t};ol.layer.Group.prototype.getSourceState=function(){return ol.source.State.READY};ol.layer.Group.Property_={LAYERS:"layers"};goog.provide("ol.proj.EPSG3857");goog.require("ol");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");ol.proj.EPSG3857_=function(e){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.METERS,extent:ol.proj.EPSG3857.EXTENT,global:true,worldExtent:ol.proj.EPSG3857.WORLD_EXTENT,getPointResolution:function(e,t){return e/ol.math.cosh(t[1]/ol.proj.EPSG3857.RADIUS)}})};ol.inherits(ol.proj.EPSG3857_,ol.proj.Projection);ol.proj.EPSG3857.RADIUS=6378137;ol.proj.EPSG3857.HALF_SIZE=Math.PI*ol.proj.EPSG3857.RADIUS;ol.proj.EPSG3857.EXTENT=[-ol.proj.EPSG3857.HALF_SIZE,-ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE,ol.proj.EPSG3857.HALF_SIZE];ol.proj.EPSG3857.WORLD_EXTENT=[-180,-85,180,85];ol.proj.EPSG3857.CODES=["EPSG:3857","EPSG:102100","EPSG:102113","EPSG:900913","urn:ogc:def:crs:EPSG:6.18:3:3857","urn:ogc:def:crs:EPSG::3857","http://www.opengis.net/gml/srs/epsg.xml#3857"];ol.proj.EPSG3857.PROJECTIONS=ol.proj.EPSG3857.CODES.map(function(e){return new ol.proj.EPSG3857_(e)});ol.proj.EPSG3857.fromEPSG4326=function(e,t,o){var r=e.length,i=o>1?o:2,n=t;if(n===undefined){if(i>2){n=e.slice()}else{n=new Array(r)}}var a=ol.proj.EPSG3857.HALF_SIZE;for(var l=0;l<r;l+=i){n[l]=a*e[l]/180;var s=ol.proj.EPSG3857.RADIUS*Math.log(Math.tan(Math.PI*(e[l+1]+90)/360));if(s>a){s=a}else if(s<-a){s=-a}n[l+1]=s}return n};ol.proj.EPSG3857.toEPSG4326=function(e,t,o){var r=e.length,i=o>1?o:2,n=t;if(n===undefined){if(i>2){n=e.slice()}else{n=new Array(r)}}for(var a=0;a<r;a+=i){n[a]=180*e[a]/ol.proj.EPSG3857.HALF_SIZE;n[a+1]=360*Math.atan(Math.exp(e[a+1]/ol.proj.EPSG3857.RADIUS))/Math.PI-90}return n};goog.provide("ol.sphere.WGS84");goog.require("ol.Sphere");ol.sphere.WGS84=new ol.Sphere(6378137);goog.provide("ol.proj.EPSG4326");goog.require("ol");goog.require("ol.proj");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.sphere.WGS84");ol.proj.EPSG4326_=function(e,t){ol.proj.Projection.call(this,{code:e,units:ol.proj.Units.DEGREES,extent:ol.proj.EPSG4326.EXTENT,axisOrientation:t,global:true,metersPerUnit:ol.proj.EPSG4326.METERS_PER_UNIT,worldExtent:ol.proj.EPSG4326.EXTENT})};ol.inherits(ol.proj.EPSG4326_,ol.proj.Projection);ol.proj.EPSG4326.EXTENT=[-180,-90,180,90];ol.proj.EPSG4326.METERS_PER_UNIT=Math.PI*ol.sphere.WGS84.radius/180;ol.proj.EPSG4326.PROJECTIONS=[new ol.proj.EPSG4326_("CRS:84"),new ol.proj.EPSG4326_("EPSG:4326","neu"),new ol.proj.EPSG4326_("urn:ogc:def:crs:EPSG::4326","neu"),new ol.proj.EPSG4326_("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ol.proj.EPSG4326_("urn:ogc:def:crs:OGC:1.3:CRS84"),new ol.proj.EPSG4326_("urn:ogc:def:crs:OGC:2:84"),new ol.proj.EPSG4326_("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ol.proj.EPSG4326_("urn:x-ogc:def:crs:EPSG:4326","neu")];goog.provide("ol.proj.common");goog.require("ol.proj");goog.require("ol.proj.EPSG3857");goog.require("ol.proj.EPSG4326");ol.proj.common.add=function(){ol.proj.addEquivalentProjections(ol.proj.EPSG3857.PROJECTIONS);ol.proj.addEquivalentProjections(ol.proj.EPSG4326.PROJECTIONS);ol.proj.addEquivalentTransforms(ol.proj.EPSG4326.PROJECTIONS,ol.proj.EPSG3857.PROJECTIONS,ol.proj.EPSG3857.fromEPSG4326,ol.proj.EPSG3857.toEPSG4326)};goog.provide("ol.render.EventType");ol.render.EventType={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render"};goog.provide("ol.layer.Layer");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.Object");goog.require("ol.layer.Base");goog.require("ol.layer.Property");goog.require("ol.obj");goog.require("ol.render.EventType");goog.require("ol.source.State");ol.layer.Layer=function(e){var t=ol.obj.assign({},e);delete t.source;ol.layer.Base.call(this,t);this.mapPrecomposeKey_=null;this.mapRenderKey_=null;this.sourceChangeKey_=null;if(e.map){this.setMap(e.map)}ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Property.SOURCE),this.handleSourcePropertyChange_,this);var o=e.source?e.source:null;this.setSource(o)};ol.inherits(ol.layer.Layer,ol.layer.Base);ol.layer.Layer.visibleAtResolution=function(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution};ol.layer.Layer.prototype.getLayersArray=function(e){var t=e?e:[];t.push(this);return t};ol.layer.Layer.prototype.getLayerStatesArray=function(e){var t=e?e:[];t.push(this.getLayerState());return t};ol.layer.Layer.prototype.getSource=function(){var e=this.get(ol.layer.Property.SOURCE);return e||null};ol.layer.Layer.prototype.getSourceState=function(){var e=this.getSource();return!e?ol.source.State.UNDEFINED:e.getState()};ol.layer.Layer.prototype.handleSourceChange_=function(){this.changed()};ol.layer.Layer.prototype.handleSourcePropertyChange_=function(){if(this.sourceChangeKey_){ol.events.unlistenByKey(this.sourceChangeKey_);this.sourceChangeKey_=null}var e=this.getSource();if(e){this.sourceChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleSourceChange_,this)}this.changed()};ol.layer.Layer.prototype.setMap=function(e){if(this.mapPrecomposeKey_){ol.events.unlistenByKey(this.mapPrecomposeKey_);this.mapPrecomposeKey_=null}if(!e){this.changed()}if(this.mapRenderKey_){ol.events.unlistenByKey(this.mapRenderKey_);this.mapRenderKey_=null}if(e){this.mapPrecomposeKey_=ol.events.listen(e,ol.render.EventType.PRECOMPOSE,function(e){var t=this.getLayerState();t.managed=false;t.zIndex=Infinity;e.frameState.layerStatesArray.push(t);e.frameState.layerStates[ol.getUid(this)]=t},this);this.mapRenderKey_=ol.events.listen(this,ol.events.EventType.CHANGE,e.render,e);this.changed()}};ol.layer.Layer.prototype.setSource=function(e){this.set(ol.layer.Property.SOURCE,e)};goog.provide("ol.style.IconImageCache");goog.require("ol.color");ol.style.IconImageCache=function(){this.cache_={};this.cacheSize_=0;this.maxCacheSize_=32};ol.style.IconImageCache.getKey=function(e,t,o){var r=o?ol.color.asString(o):"null";return t+":"+e+":"+r};ol.style.IconImageCache.prototype.clear=function(){this.cache_={};this.cacheSize_=0};ol.style.IconImageCache.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e=0;var t,o;for(t in this.cache_){o=this.cache_[t];if((e++&3)===0&&!o.hasListener()){delete this.cache_[t];--this.cacheSize_}}}};ol.style.IconImageCache.prototype.get=function(e,t,o){var r=ol.style.IconImageCache.getKey(e,t,o);return r in this.cache_?this.cache_[r]:null};ol.style.IconImageCache.prototype.set=function(e,t,o,r){var i=ol.style.IconImageCache.getKey(e,t,o);this.cache_[i]=r;++this.cacheSize_};goog.provide("ol.style");goog.require("ol.style.IconImageCache");ol.style.iconImageCache=new ol.style.IconImageCache;goog.provide("ol.transform");goog.require("ol.asserts");ol.transform.tmp_=new Array(6);ol.transform.create=function(){return[1,0,0,1,0,0]};ol.transform.reset=function(e){return ol.transform.set(e,1,0,0,1,0,0)};ol.transform.multiply=function(e,t){var o=e[0];var r=e[1];var i=e[2];var n=e[3];var a=e[4];var l=e[5];var s=t[0];var p=t[1];var u=t[2];var c=t[3];var g=t[4];var h=t[5];e[0]=o*s+i*p;e[1]=r*s+n*p;e[2]=o*u+i*c;e[3]=r*u+n*c;e[4]=o*g+i*h+a;e[5]=r*g+n*h+l;return e};ol.transform.set=function(e,t,o,r,i,n,a){e[0]=t;e[1]=o;e[2]=r;e[3]=i;e[4]=n;e[5]=a;return e};ol.transform.setFromArray=function(e,t){e[0]=t[0];e[1]=t[1];e[2]=t[2];e[3]=t[3];e[4]=t[4];e[5]=t[5];return e};ol.transform.apply=function(e,t){var o=t[0],r=t[1];t[0]=e[0]*o+e[2]*r+e[4];t[1]=e[1]*o+e[3]*r+e[5];return t};ol.transform.rotate=function(e,t){var o=Math.cos(t);var r=Math.sin(t);return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,o,r,-r,o,0,0))};ol.transform.scale=function(e,t,o){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,t,0,0,o,0,0))};ol.transform.translate=function(e,t,o){return ol.transform.multiply(e,ol.transform.set(ol.transform.tmp_,1,0,0,1,t,o))};ol.transform.compose=function(e,t,o,r,i,n,a,l){var s=Math.sin(n);var p=Math.cos(n);e[0]=r*p;e[1]=i*s;e[2]=-r*s;e[3]=i*p;e[4]=a*r*p-l*r*s+t;e[5]=a*i*s+l*i*p+o;return e};ol.transform.invert=function(e){var t=ol.transform.determinant(e);ol.asserts.assert(t!==0,32);var o=e[0];var r=e[1];var i=e[2];var n=e[3];var a=e[4];var l=e[5];e[0]=n/t;e[1]=-r/t;e[2]=-i/t;e[3]=o/t;e[4]=(i*l-n*a)/t;e[5]=-(o*l-r*a)/t;return e};ol.transform.determinant=function(e){return e[0]*e[3]-e[1]*e[2]};goog.provide("ol.renderer.Map");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.layer.Layer");goog.require("ol.style");goog.require("ol.transform");ol.renderer.Map=function(e,t){ol.Disposable.call(this);this.map_=t;this.layerRenderers_={};this.layerRendererListeners_={}};ol.inherits(ol.renderer.Map,ol.Disposable);ol.renderer.Map.prototype.calculateMatrices2D=function(e){var t=e.viewState;var o=e.coordinateToPixelTransform;var r=e.pixelToCoordinateTransform;ol.transform.compose(o,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]);ol.transform.invert(ol.transform.setFromArray(r,o))};ol.renderer.Map.prototype.disposeInternal=function(){for(var e in this.layerRenderers_){this.layerRenderers_[e].dispose()}};ol.renderer.Map.expireIconCache_=function(e,t){var o=ol.style.iconImageCache;o.expire()};ol.renderer.Map.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n,a){var l;var s=t.viewState;var p=s.resolution;function u(e,o){var n=ol.getUid(e).toString();var a=t.layerStates[ol.getUid(o)].managed;if(!(n in t.skippedFeatureUids&&!a)){return r.call(i,e,a?o:null)}}var c=s.projection;var g=e;if(c.canWrapX()){var h=c.getExtent();var f=ol.extent.getWidth(h);var d=e[0];if(d<h[0]||d>h[2]){var y=Math.ceil((h[0]-d)/f);g=[d+f*y,e[1]]}}var m=t.layerStatesArray;var v=m.length;var _;for(_=v-1;_>=0;--_){var x=m[_];var S=x.layer;if(ol.layer.Layer.visibleAtResolution(x,p)&&n.call(a,S)){var P=this.getLayerRenderer(S);if(S.getSource()){l=P.forEachFeatureAtCoordinate(S.getSource().getWrapX()?g:e,t,o,u,i)}if(l){return l}}}return undefined};ol.renderer.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,i,n){};ol.renderer.Map.prototype.hasFeatureAtCoordinate=function(e,t,o,r,i){var n=this.forEachFeatureAtCoordinate(e,t,o,ol.functions.TRUE,this,r,i);return n!==undefined};ol.renderer.Map.prototype.getLayerRenderer=function(e){var t=ol.getUid(e).toString();if(t in this.layerRenderers_){return this.layerRenderers_[t]}else{var o=e.createRenderer(this);this.layerRenderers_[t]=o;this.layerRendererListeners_[t]=ol.events.listen(o,ol.events.EventType.CHANGE,this.handleLayerRendererChange_,this);return o}};ol.renderer.Map.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]};ol.renderer.Map.prototype.getLayerRenderers=function(){return this.layerRenderers_};ol.renderer.Map.prototype.getMap=function(){return this.map_};ol.renderer.Map.prototype.getType=function(){};ol.renderer.Map.prototype.handleLayerRendererChange_=function(){this.map_.render()};ol.renderer.Map.prototype.removeLayerRendererByKey_=function(e){var t=this.layerRenderers_[e];delete this.layerRenderers_[e];ol.events.unlistenByKey(this.layerRendererListeners_[e]);delete this.layerRendererListeners_[e];return t};ol.renderer.Map.prototype.renderFrame=ol.nullFunction;ol.renderer.Map.prototype.removeUnusedLayerRenderers_=function(e,t){var o;for(o in this.layerRenderers_){if(!t||!(o in t.layerStates)){this.removeLayerRendererByKey_(o).dispose()}}};ol.renderer.Map.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(ol.renderer.Map.expireIconCache_)};ol.renderer.Map.prototype.scheduleRemoveUnusedLayerRenderers=function(e){var t;for(t in this.layerRenderers_){if(!(t in e.layerStates)){e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this));return}}};ol.renderer.Map.sortByZIndex=function(e,t){return e.zIndex-t.zIndex};goog.provide("ol.renderer.Type");ol.renderer.Type={CANVAS:"canvas",WEBGL:"webgl"};goog.provide("ol.render.Event");goog.require("ol");goog.require("ol.events.Event");ol.render.Event=function(e,t,o,r,i){ol.events.Event.call(this,e);this.vectorContext=t;this.frameState=o;this.context=r;this.glContext=i};ol.inherits(ol.render.Event,ol.events.Event);goog.provide("ol.render.canvas");ol.render.canvas.defaultFont="10px sans-serif";ol.render.canvas.defaultFillStyle=[0,0,0,1];ol.render.canvas.defaultLineCap="round";ol.render.canvas.defaultLineDash=[];ol.render.canvas.defaultLineDashOffset=0;ol.render.canvas.defaultLineJoin="round";ol.render.canvas.defaultMiterLimit=10;ol.render.canvas.defaultStrokeStyle=[0,0,0,1];ol.render.canvas.defaultTextAlign="center";ol.render.canvas.defaultTextBaseline="middle";ol.render.canvas.defaultLineWidth=1;ol.render.canvas.rotateAtOffset=function(e,t,o,r){if(t!==0){e.translate(o,r);e.rotate(t);e.translate(-o,-r)}};goog.provide("ol.render.VectorContext");ol.render.VectorContext=function(){};ol.render.VectorContext.prototype.drawGeometry=function(e){};ol.render.VectorContext.prototype.setStyle=function(e){};ol.render.VectorContext.prototype.drawCircle=function(e,t){};ol.render.VectorContext.prototype.drawFeature=function(e,t){};ol.render.VectorContext.prototype.drawGeometryCollection=function(e,t){};ol.render.VectorContext.prototype.drawLineString=function(e,t){};ol.render.VectorContext.prototype.drawMultiLineString=function(e,t){};ol.render.VectorContext.prototype.drawMultiPoint=function(e,t){};ol.render.VectorContext.prototype.drawMultiPolygon=function(e,t){};ol.render.VectorContext.prototype.drawPoint=function(e,t){};ol.render.VectorContext.prototype.drawPolygon=function(e,t){};ol.render.VectorContext.prototype.drawText=function(e,t,o,r,i,n){};ol.render.VectorContext.prototype.setFillStrokeStyle=function(e,t){};ol.render.VectorContext.prototype.setImageStyle=function(e){};ol.render.VectorContext.prototype.setTextStyle=function(e){};goog.provide("ol.render.canvas.Immediate");goog.require("ol");goog.require("ol.array");goog.require("ol.colorlike");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.transform");goog.require("ol.has");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas");goog.require("ol.transform");ol.render.canvas.Immediate=function(e,t,o,r,i){ol.render.VectorContext.call(this);this.context_=e;this.pixelRatio_=t;this.extent_=o;this.transform_=r;this.viewRotation_=i;this.contextFillState_=null;this.contextStrokeState_=null;this.contextTextState_=null;this.fillState_=null;this.strokeState_=null;this.image_=null;this.imageAnchorX_=0;this.imageAnchorY_=0;this.imageHeight_=0;this.imageOpacity_=0;this.imageOriginX_=0;this.imageOriginY_=0;this.imageRotateWithView_=false;this.imageRotation_=0;this.imageScale_=0;
this.imageSnapToPixel_=false;this.imageWidth_=0;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=false;this.textRotation_=0;this.textScale_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_=null;this.pixelCoordinates_=[];this.tmpLocalTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Immediate,ol.render.VectorContext);ol.render.canvas.Immediate.prototype.drawImages_=function(e,t,o,r){if(!this.image_){return}var i=ol.geom.flat.transform.transform2D(e,t,o,2,this.transform_,this.pixelCoordinates_);var n=this.context_;var a=this.tmpLocalTransform_;var l=n.globalAlpha;if(this.imageOpacity_!=1){n.globalAlpha=l*this.imageOpacity_}var s=this.imageRotation_;if(this.imageRotateWithView_){s+=this.viewRotation_}var p,u;for(p=0,u=i.length;p<u;p+=2){var c=i[p]-this.imageAnchorX_;var g=i[p+1]-this.imageAnchorY_;if(this.imageSnapToPixel_){c=Math.round(c);g=Math.round(g)}if(s!==0||this.imageScale_!=1){var h=c+this.imageAnchorX_;var f=g+this.imageAnchorY_;ol.transform.compose(a,h,f,this.imageScale_,this.imageScale_,s,-h,-f);n.setTransform.apply(n,a)}n.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,g,this.imageWidth_,this.imageHeight_)}if(s!==0||this.imageScale_!=1){n.setTransform(1,0,0,1,0,0)}if(this.imageOpacity_!=1){n.globalAlpha=l}};ol.render.canvas.Immediate.prototype.drawText_=function(e,t,o,r){if(!this.textState_||this.text_===""){return}if(this.textFillState_){this.setContextFillState_(this.textFillState_)}if(this.textStrokeState_){this.setContextStrokeState_(this.textStrokeState_)}this.setContextTextState_(this.textState_);var i=ol.geom.flat.transform.transform2D(e,t,o,r,this.transform_,this.pixelCoordinates_);var n=this.context_;var a=this.textRotation_;if(this.textRotateWithView_){a+=this.viewRotation_}for(;t<o;t+=r){var l=i[t]+this.textOffsetX_;var s=i[t+1]+this.textOffsetY_;if(a!==0||this.textScale_!=1){var p=ol.transform.compose(this.tmpLocalTransform_,l,s,this.textScale_,this.textScale_,a,-l,-s);n.setTransform.apply(n,p)}if(this.textStrokeState_){n.strokeText(this.text_,l,s)}if(this.textFillState_){n.fillText(this.text_,l,s)}}if(a!==0||this.textScale_!=1){n.setTransform(1,0,0,1,0,0)}};ol.render.canvas.Immediate.prototype.moveToLineTo_=function(e,t,o,r,i){var n=this.context_;var a=ol.geom.flat.transform.transform2D(e,t,o,r,this.transform_,this.pixelCoordinates_);n.moveTo(a[0],a[1]);var l=a.length;if(i){l-=2}for(var s=2;s<l;s+=2){n.lineTo(a[s],a[s+1])}if(i){n.closePath()}return o};ol.render.canvas.Immediate.prototype.drawRings_=function(e,t,o,r){var i,n;for(i=0,n=o.length;i<n;++i){t=this.moveToLineTo_(e,t,o[i],r,true)}return t};ol.render.canvas.Immediate.prototype.drawCircle=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.fillState_||this.strokeState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var t=ol.geom.SimpleGeometry.transform2D(e,this.transform_,this.pixelCoordinates_);var o=t[2]-t[0];var r=t[3]-t[1];var i=Math.sqrt(o*o+r*r);var n=this.context_;n.beginPath();n.arc(t[0],t[1],i,0,2*Math.PI);if(this.fillState_){n.fill()}if(this.strokeState_){n.stroke()}}if(this.text_!==""){this.drawText_(e.getCenter(),0,2,2)}};ol.render.canvas.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke());this.setImageStyle(e.getImage());this.setTextStyle(e.getText())};ol.render.canvas.Immediate.prototype.drawGeometry=function(e){var t=e.getType();switch(t){case ol.geom.GeometryType.POINT:this.drawPoint(e);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e);break;default:}};ol.render.canvas.Immediate.prototype.drawFeature=function(e,t){var o=t.getGeometryFunction()(e);if(!o||!ol.extent.intersects(this.extent_,o.getExtent())){return}this.setStyle(t);this.drawGeometry(o)};ol.render.canvas.Immediate.prototype.drawGeometryCollection=function(e){var t=e.getGeometriesArray();var o,r;for(o=0,r=t.length;o<r;++o){this.drawGeometry(t[o])}};ol.render.canvas.Immediate.prototype.drawPoint=function(e){var t=e.getFlatCoordinates();var o=e.getStride();if(this.image_){this.drawImages_(t,0,t.length,o)}if(this.text_!==""){this.drawText_(t,0,t.length,o)}};ol.render.canvas.Immediate.prototype.drawMultiPoint=function(e){var t=e.getFlatCoordinates();var o=e.getStride();if(this.image_){this.drawImages_(t,0,t.length,o)}if(this.text_!==""){this.drawText_(t,0,t.length,o)}};ol.render.canvas.Immediate.prototype.drawLineString=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var t=this.context_;var o=e.getFlatCoordinates();t.beginPath();this.moveToLineTo_(o,0,o.length,e.getStride(),false);t.stroke()}if(this.text_!==""){var r=e.getFlatMidpoint();this.drawText_(r,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiLineString=function(e){var t=e.getExtent();if(!ol.extent.intersects(this.extent_,t)){return}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var o=this.context_;var r=e.getFlatCoordinates();var i=0;var n=e.getEnds();var a=e.getStride();o.beginPath();var l,s;for(l=0,s=n.length;l<s;++l){i=this.moveToLineTo_(r,i,n[l],a,false)}o.stroke()}if(this.text_!==""){var p=e.getFlatMidpoints();this.drawText_(p,0,p.length,2)}};ol.render.canvas.Immediate.prototype.drawPolygon=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var t=this.context_;t.beginPath();this.drawRings_(e.getOrientedFlatCoordinates(),0,e.getEnds(),e.getStride());if(this.fillState_){t.fill()}if(this.strokeState_){t.stroke()}}if(this.text_!==""){var o=e.getFlatInteriorPoint();this.drawText_(o,0,2,2)}};ol.render.canvas.Immediate.prototype.drawMultiPolygon=function(e){if(!ol.extent.intersects(this.extent_,e.getExtent())){return}if(this.strokeState_||this.fillState_){if(this.fillState_){this.setContextFillState_(this.fillState_)}if(this.strokeState_){this.setContextStrokeState_(this.strokeState_)}var t=this.context_;var o=e.getOrientedFlatCoordinates();var r=0;var i=e.getEndss();var n=e.getStride();var a,l;t.beginPath();for(a=0,l=i.length;a<l;++a){var s=i[a];r=this.drawRings_(o,r,s,n)}if(this.fillState_){t.fill()}if(this.strokeState_){t.stroke()}}if(this.text_!==""){var p=e.getFlatInteriorPoints();this.drawText_(p,0,p.length,2)}};ol.render.canvas.Immediate.prototype.setContextFillState_=function(e){var t=this.context_;var o=this.contextFillState_;if(!o){t.fillStyle=e.fillStyle;this.contextFillState_={fillStyle:e.fillStyle}}else{if(o.fillStyle!=e.fillStyle){o.fillStyle=t.fillStyle=e.fillStyle}}};ol.render.canvas.Immediate.prototype.setContextStrokeState_=function(e){var t=this.context_;var o=this.contextStrokeState_;if(!o){t.lineCap=e.lineCap;if(ol.has.CANVAS_LINE_DASH){t.setLineDash(e.lineDash)}t.lineJoin=e.lineJoin;t.lineWidth=e.lineWidth;t.miterLimit=e.miterLimit;t.strokeStyle=e.strokeStyle;this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}}else{if(o.lineCap!=e.lineCap){o.lineCap=t.lineCap=e.lineCap}if(ol.has.CANVAS_LINE_DASH){if(!ol.array.equals(o.lineDash,e.lineDash)){t.setLineDash(o.lineDash=e.lineDash)}}if(o.lineJoin!=e.lineJoin){o.lineJoin=t.lineJoin=e.lineJoin}if(o.lineWidth!=e.lineWidth){o.lineWidth=t.lineWidth=e.lineWidth}if(o.miterLimit!=e.miterLimit){o.miterLimit=t.miterLimit=e.miterLimit}if(o.strokeStyle!=e.strokeStyle){o.strokeStyle=t.strokeStyle=e.strokeStyle}}};ol.render.canvas.Immediate.prototype.setContextTextState_=function(e){var t=this.context_;var o=this.contextTextState_;if(!o){t.font=e.font;t.textAlign=e.textAlign;t.textBaseline=e.textBaseline;this.contextTextState_={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline}}else{if(o.font!=e.font){o.font=t.font=e.font}if(o.textAlign!=e.textAlign){o.textAlign=t.textAlign=e.textAlign}if(o.textBaseline!=e.textBaseline){o.textBaseline=t.textBaseline=e.textBaseline}}};ol.render.canvas.Immediate.prototype.setFillStrokeStyle=function(e,t){if(!e){this.fillState_=null}else{var o=e.getColor();this.fillState_={fillStyle:ol.colorlike.asColorLike(o?o:ol.render.canvas.defaultFillStyle)}}if(!t){this.strokeState_=null}else{var r=t.getColor();var i=t.getLineCap();var n=t.getLineDash();var a=t.getLineDashOffset();var l=t.getLineJoin();var s=t.getWidth();var p=t.getMiterLimit();this.strokeState_={lineCap:i!==undefined?i:ol.render.canvas.defaultLineCap,lineDash:n?n:ol.render.canvas.defaultLineDash,lineDashOffset:a?a:ol.render.canvas.defaultLineDashOffset,lineJoin:l!==undefined?l:ol.render.canvas.defaultLineJoin,lineWidth:this.pixelRatio_*(s!==undefined?s:ol.render.canvas.defaultLineWidth),miterLimit:p!==undefined?p:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(r?r:ol.render.canvas.defaultStrokeStyle)}}};ol.render.canvas.Immediate.prototype.setImageStyle=function(e){if(!e){this.image_=null}else{var t=e.getAnchor();var o=e.getImage(1);var r=e.getOrigin();var i=e.getSize();this.imageAnchorX_=t[0];this.imageAnchorY_=t[1];this.imageHeight_=i[1];this.image_=o;this.imageOpacity_=e.getOpacity();this.imageOriginX_=r[0];this.imageOriginY_=r[1];this.imageRotateWithView_=e.getRotateWithView();this.imageRotation_=e.getRotation();this.imageScale_=e.getScale();this.imageSnapToPixel_=e.getSnapToPixel();this.imageWidth_=i[0]}};ol.render.canvas.Immediate.prototype.setTextStyle=function(e){if(!e){this.text_=""}else{var t=e.getFill();if(!t){this.textFillState_=null}else{var o=t.getColor();this.textFillState_={fillStyle:ol.colorlike.asColorLike(o?o:ol.render.canvas.defaultFillStyle)}}var r=e.getStroke();if(!r){this.textStrokeState_=null}else{var i=r.getColor();var n=r.getLineCap();var a=r.getLineDash();var l=r.getLineDashOffset();var s=r.getLineJoin();var p=r.getWidth();var u=r.getMiterLimit();this.textStrokeState_={lineCap:n!==undefined?n:ol.render.canvas.defaultLineCap,lineDash:a?a:ol.render.canvas.defaultLineDash,lineDashOffset:l?l:ol.render.canvas.defaultLineDashOffset,lineJoin:s!==undefined?s:ol.render.canvas.defaultLineJoin,lineWidth:p!==undefined?p:ol.render.canvas.defaultLineWidth,miterLimit:u!==undefined?u:ol.render.canvas.defaultMiterLimit,strokeStyle:ol.colorlike.asColorLike(i?i:ol.render.canvas.defaultStrokeStyle)}}var c=e.getFont();var g=e.getOffsetX();var h=e.getOffsetY();var f=e.getRotateWithView();var d=e.getRotation();var y=e.getScale();var m=e.getText();var v=e.getTextAlign();var _=e.getTextBaseline();this.textState_={font:c!==undefined?c:ol.render.canvas.defaultFont,textAlign:v!==undefined?v:ol.render.canvas.defaultTextAlign,textBaseline:_!==undefined?_:ol.render.canvas.defaultTextBaseline};this.text_=m!==undefined?m:"";this.textOffsetX_=g!==undefined?this.pixelRatio_*g:0;this.textOffsetY_=h!==undefined?this.pixelRatio_*h:0;this.textRotateWithView_=f!==undefined?f:false;this.textRotation_=d!==undefined?d:0;this.textScale_=this.pixelRatio_*(y!==undefined?y:1)}};goog.provide("ol.renderer.canvas.Map");goog.require("ol.transform");goog.require("ol");goog.require("ol.array");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.layer.Layer");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Immediate");goog.require("ol.renderer.Map");goog.require("ol.renderer.Type");goog.require("ol.source.State");ol.renderer.canvas.Map=function(e,t){ol.renderer.Map.call(this,e,t);this.context_=ol.dom.createCanvasContext2D();this.canvas_=this.context_.canvas;this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;e.insertBefore(this.canvas_,e.childNodes[0]||null);this.renderedVisible_=true;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Map,ol.renderer.Map);ol.renderer.canvas.Map.prototype.dispatchComposeEvent_=function(e,t){var o=this.getMap();var r=this.context_;if(o.hasListener(e)){var i=t.extent;var n=t.pixelRatio;var a=t.viewState;var l=a.rotation;var s=this.getTransform(t);var p=new ol.render.canvas.Immediate(r,n,i,s,l);var u=new ol.render.Event(e,p,t,r,null);o.dispatchEvent(u)}};ol.renderer.canvas.Map.prototype.getTransform=function(e){var t=e.viewState;var o=this.canvas_.width/2;var r=this.canvas_.height/2;var i=e.pixelRatio/t.resolution;var n=-i;var a=-t.rotation;var l=-t.center[0];var s=-t.center[1];return ol.transform.compose(this.transform_,o,r,i,n,a,l,s)};ol.renderer.canvas.Map.prototype.getType=function(){return ol.renderer.Type.CANVAS};ol.renderer.canvas.Map.prototype.renderFrame=function(e){if(!e){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=false}return}var t=this.context_;var o=e.pixelRatio;var r=Math.round(e.size[0]*o);var i=Math.round(e.size[1]*o);if(this.canvas_.width!=r||this.canvas_.height!=i){this.canvas_.width=r;this.canvas_.height=i}else{t.clearRect(0,0,r,i)}var n=e.viewState.rotation;this.calculateMatrices2D(e);this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var a=e.layerStatesArray;ol.array.stableSort(a,ol.renderer.Map.sortByZIndex);if(n){t.save();ol.render.canvas.rotateAtOffset(t,n,r/2,i/2)}var l=e.viewState.resolution;var s,p,u,c,g;for(s=0,p=a.length;s<p;++s){g=a[s];u=g.layer;c=this.getLayerRenderer(u);if(!ol.layer.Layer.visibleAtResolution(g,l)||g.sourceState!=ol.source.State.READY){continue}if(c.prepareFrame(e,g)){c.composeFrame(e,g,t)}}if(n){t.restore()}this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e);if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=true}this.scheduleRemoveUnusedLayerRenderers(e);this.scheduleExpireIconCache(e)};ol.renderer.canvas.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,i,n){var a;var l=t.viewState;var s=l.resolution;var p=t.layerStatesArray;var u=p.length;var c=ol.transform.apply(t.pixelToCoordinateTransform,e.slice());var g;for(g=u-1;g>=0;--g){var h=p[g];var f=h.layer;if(ol.layer.Layer.visibleAtResolution(h,s)&&i.call(n,f)){var d=this.getLayerRenderer(f);a=d.forEachLayerAtCoordinate(c,t,o,r);if(a){return a}}}return undefined};goog.provide("ol.render.ReplayType");ol.render.ReplayType={CIRCLE:"Circle",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};goog.provide("ol.render.replay");goog.require("ol.render.ReplayType");ol.render.replay.ORDER=[ol.render.ReplayType.POLYGON,ol.render.ReplayType.CIRCLE,ol.render.ReplayType.LINE_STRING,ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT];goog.provide("ol.render.ReplayGroup");ol.render.ReplayGroup=function(){};ol.render.ReplayGroup.prototype.getReplay=function(e,t){};ol.render.ReplayGroup.prototype.isEmpty=function(){};goog.provide("ol.webgl.Shader");goog.require("ol");goog.require("ol.functions");if(ol.ENABLE_WEBGL){ol.webgl.Shader=function(e){this.source_=e};ol.webgl.Shader.prototype.getType=function(){};ol.webgl.Shader.prototype.getSource=function(){return this.source_};ol.webgl.Shader.prototype.isAnimated=ol.functions.FALSE}goog.provide("ol.webgl.Fragment");goog.require("ol");goog.require("ol.webgl");goog.require("ol.webgl.Shader");if(ol.ENABLE_WEBGL){ol.webgl.Fragment=function(e){ol.webgl.Shader.call(this,e)};ol.inherits(ol.webgl.Fragment,ol.webgl.Shader);ol.webgl.Fragment.prototype.getType=function(){return ol.webgl.FRAGMENT_SHADER}}goog.provide("ol.webgl.Vertex");goog.require("ol");goog.require("ol.webgl");goog.require("ol.webgl.Shader");if(ol.ENABLE_WEBGL){ol.webgl.Vertex=function(e){ol.webgl.Shader.call(this,e)};ol.inherits(ol.webgl.Vertex,ol.webgl.Shader);ol.webgl.Vertex.prototype.getType=function(){return ol.webgl.VERTEX_SHADER}}goog.provide("ol.render.webgl.circlereplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");if(ol.ENABLE_WEBGL){ol.render.webgl.circlereplay.defaultshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.render.webgl.circlereplay.defaultshader.Fragment.SOURCE)};ol.inherits(ol.render.webgl.circlereplay.defaultshader.Fragment,ol.webgl.Fragment);ol.render.webgl.circlereplay.defaultshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n";ol.render.webgl.circlereplay.defaultshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}";ol.render.webgl.circlereplay.defaultshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.circlereplay.defaultshader.Fragment.DEBUG_SOURCE:ol.render.webgl.circlereplay.defaultshader.Fragment.OPTIMIZED_SOURCE;ol.render.webgl.circlereplay.defaultshader.fragment=new ol.render.webgl.circlereplay.defaultshader.Fragment;ol.render.webgl.circlereplay.defaultshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.render.webgl.circlereplay.defaultshader.Vertex.SOURCE)};ol.inherits(ol.render.webgl.circlereplay.defaultshader.Vertex,ol.webgl.Vertex);ol.render.webgl.circlereplay.defaultshader.Vertex.DEBUG_SOURCE="varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n";ol.render.webgl.circlereplay.defaultshader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}";ol.render.webgl.circlereplay.defaultshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.circlereplay.defaultshader.Vertex.DEBUG_SOURCE:ol.render.webgl.circlereplay.defaultshader.Vertex.OPTIMIZED_SOURCE;ol.render.webgl.circlereplay.defaultshader.vertex=new ol.render.webgl.circlereplay.defaultshader.Vertex;ol.render.webgl.circlereplay.defaultshader.Locations=function(e,t){this.u_fillColor=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_fillColor":"n");this.u_lineWidth=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_lineWidth":"k");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"m");this.u_pixelRatio=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_pixelRatio":"l");this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_size=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_size":"p");this.u_strokeColor=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_strokeColor":"o");this.a_instruction=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_instruction":"f");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"e");this.a_radius=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_radius":"g")}}goog.provide("ol.vec.Mat4");ol.vec.Mat4.create=function(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]};ol.vec.Mat4.fromTransform=function(e,t){e[0]=t[0];e[1]=t[1];e[4]=t[2];e[5]=t[3];e[12]=t[4];e[13]=t[5];return e};goog.provide("ol.render.webgl.Replay");goog.require("ol");goog.require("ol.extent");goog.require("ol.render.VectorContext");goog.require("ol.transform");goog.require("ol.vec.Mat4");goog.require("ol.webgl");if(ol.ENABLE_WEBGL){ol.render.webgl.Replay=function(e,t){ol.render.VectorContext.call(this);this.tolerance=e;this.maxExtent=t;this.origin=ol.extent.getCenter(t);this.projectionMatrix_=ol.transform.create();this.offsetRotateMatrix_=ol.transform.create();this.offsetScaleMatrix_=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.indices=[];this.indicesBuffer=null;this.startIndices=[];this.startIndicesFeature=[];this.vertices=[];this.verticesBuffer=null;this.lineStringReplay=undefined};ol.inherits(ol.render.webgl.Replay,ol.render.VectorContext);ol.render.webgl.Replay.prototype.getDeleteResourcesFunction=function(e){};ol.render.webgl.Replay.prototype.finish=function(e){};ol.render.webgl.Replay.prototype.setUpProgram=function(e,t,o,r){};ol.render.webgl.Replay.prototype.shutDownProgram=function(e,t){};ol.render.webgl.Replay.prototype.drawReplay=function(e,t,o,r){};ol.render.webgl.Replay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){};ol.render.webgl.Replay.prototype.drawHitDetectionReplay=function(e,t,o,r,i,n){if(!i){return this.drawHitDetectionReplayAll(e,t,o,r)}else{return this.drawHitDetectionReplayOneByOne(e,t,o,r,n)}};ol.render.webgl.Replay.prototype.drawHitDetectionReplayAll=function(e,t,o,r){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawReplay(e,t,o,true);var i=r(null);if(i){return i}else{return undefined}};ol.render.webgl.Replay.prototype.replay=function(e,t,o,r,i,n,a,l,s,p,u){var c=e.getGL();var g,h,f,d,y,m,v,_;if(this.lineStringReplay){g=c.isEnabled(c.STENCIL_TEST);h=c.getParameter(c.STENCIL_FUNC);f=c.getParameter(c.STENCIL_VALUE_MASK);d=c.getParameter(c.STENCIL_REF);y=c.getParameter(c.STENCIL_WRITEMASK);m=c.getParameter(c.STENCIL_FAIL);v=c.getParameter(c.STENCIL_PASS_DEPTH_PASS);_=c.getParameter(c.STENCIL_PASS_DEPTH_FAIL);c.enable(c.STENCIL_TEST);c.clear(c.STENCIL_BUFFER_BIT);c.stencilMask(255);c.stencilFunc(c.ALWAYS,1,255);c.stencilOp(c.KEEP,c.KEEP,c.REPLACE);this.lineStringReplay.replay(e,t,o,r,i,n,a,l,s,p,u);c.stencilMask(0);c.stencilFunc(c.NOTEQUAL,1,255)}e.bindBuffer(ol.webgl.ARRAY_BUFFER,this.verticesBuffer);e.bindBuffer(ol.webgl.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var x=this.setUpProgram(c,e,i,n);var S=ol.transform.reset(this.projectionMatrix_);ol.transform.scale(S,2/(o*i[0]),2/(o*i[1]));ol.transform.rotate(S,-r);ol.transform.translate(S,-(t[0]-this.origin[0]),-(t[1]-this.origin[1]));var P=ol.transform.reset(this.offsetScaleMatrix_);ol.transform.scale(P,2/i[0],2/i[1]);var E=ol.transform.reset(this.offsetRotateMatrix_);if(r!==0){ol.transform.rotate(E,-r)}c.uniformMatrix4fv(x.u_projectionMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,S));c.uniformMatrix4fv(x.u_offsetScaleMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,P));c.uniformMatrix4fv(x.u_offsetRotateMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,E));c.uniform1f(x.u_opacity,a);var T;if(s===undefined){this.drawReplay(c,e,l,false)}else{T=this.drawHitDetectionReplay(c,e,l,s,p,u)}this.shutDownProgram(c,x);if(this.lineStringReplay){if(!g){c.disable(c.STENCIL_TEST)}c.clear(c.STENCIL_BUFFER_BIT);c.stencilFunc(h,d,f);c.stencilMask(y);c.stencilOp(m,_,v)}return T};ol.render.webgl.Replay.prototype.drawElements=function(e,t,o,r){var i=t.hasOESElementIndexUint?ol.webgl.UNSIGNED_INT:ol.webgl.UNSIGNED_SHORT;var n=t.hasOESElementIndexUint?4:2;var a=r-o;var l=o*n;e.drawElements(ol.webgl.TRIANGLES,a,i,l)}}goog.provide("ol.render.webgl");goog.require("ol");if(ol.ENABLE_WEBGL){ol.render.webgl.defaultFillStyle=[0,0,0,1];ol.render.webgl.defaultLineCap="round";ol.render.webgl.defaultLineDash=[];ol.render.webgl.defaultLineDashOffset=0;ol.render.webgl.defaultLineJoin="round";ol.render.webgl.defaultMiterLimit=10;ol.render.webgl.defaultStrokeStyle=[0,0,0,1];ol.render.webgl.defaultLineWidth=1;ol.render.webgl.triangleIsCounterClockwise=function(e,t,o,r,i,n){var a=(o-e)*(n-t)-(i-e)*(r-t);return a<=ol.render.webgl.EPSILON&&a>=-ol.render.webgl.EPSILON?undefined:a>0};ol.render.webgl.EPSILON=Number.EPSILON||2.220446049250313e-16}goog.provide("ol.webgl.Buffer");goog.require("ol");goog.require("ol.webgl");if(ol.ENABLE_WEBGL){ol.webgl.Buffer=function(e,t){this.arr_=e!==undefined?e:[];this.usage_=t!==undefined?t:ol.webgl.Buffer.Usage_.STATIC_DRAW};ol.webgl.Buffer.prototype.getArray=function(){return this.arr_};ol.webgl.Buffer.prototype.getUsage=function(){return this.usage_};ol.webgl.Buffer.Usage_={STATIC_DRAW:ol.webgl.STATIC_DRAW,STREAM_DRAW:ol.webgl.STREAM_DRAW,DYNAMIC_DRAW:ol.webgl.DYNAMIC_DRAW}}goog.provide("ol.render.webgl.CircleReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.geom.flat.transform");goog.require("ol.render.webgl.circlereplay.defaultshader");goog.require("ol.render.webgl.Replay");goog.require("ol.render.webgl");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");if(ol.ENABLE_WEBGL){ol.render.webgl.CircleReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.radius_=0;this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:undefined,lineWidth:undefined,changed:false}};ol.inherits(ol.render.webgl.CircleReplay,ol.render.webgl.Replay);ol.render.webgl.CircleReplay.prototype.drawCoordinates_=function(e,t,o,r){var i=this.vertices.length;var n=this.indices.length;var a=i/4;var l,s;for(l=t,s=o;l<s;l+=r){this.vertices[i++]=e[l];this.vertices[i++]=e[l+1];this.vertices[i++]=0;this.vertices[i++]=this.radius_;this.vertices[i++]=e[l];this.vertices[i++]=e[l+1];this.vertices[i++]=1;this.vertices[i++]=this.radius_;this.vertices[i++]=e[l];this.vertices[i++]=e[l+1];this.vertices[i++]=2;this.vertices[i++]=this.radius_;this.vertices[i++]=e[l];this.vertices[i++]=e[l+1];this.vertices[i++]=3;this.vertices[i++]=this.radius_;this.indices[n++]=a;this.indices[n++]=a+1;this.indices[n++]=a+2;this.indices[n++]=a+2;this.indices[n++]=a+3;this.indices[n++]=a;a+=4}};ol.render.webgl.CircleReplay.prototype.drawCircle=function(e,t){var o=e.getRadius();var r=e.getStride();if(o){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=false}this.radius_=o;var i=e.getFlatCoordinates();i=ol.geom.flat.transform.translate(i,0,2,r,-this.origin[0],-this.origin[1]);this.drawCoordinates_(i,0,2,r)}else{if(this.state_.changed){this.styles_.pop();if(this.styles_.length){var n=this.styles_[this.styles_.length-1];this.state_.fillColor=n[0];this.state_.strokeColor=n[1];this.state_.lineWidth=n[2];this.state_.changed=false}}}};ol.render.webgl.CircleReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);if(this.styleIndices_.length===0&&this.styles_.length>0){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.CircleReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer;var o=this.indicesBuffer;return function(){e.deleteBuffer(t);e.deleteBuffer(o)}};ol.render.webgl.CircleReplay.prototype.setUpProgram=function(e,t,o,r){var i,n;i=ol.render.webgl.circlereplay.defaultshader.fragment;n=ol.render.webgl.circlereplay.defaultshader.vertex;var a=t.getProgram(i,n);var l;if(!this.defaultLocations_){l=new ol.render.webgl.circlereplay.defaultshader.Locations(e,a);this.defaultLocations_=l}else{l=this.defaultLocations_}t.useProgram(a);e.enableVertexAttribArray(l.a_position);e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,false,16,0);e.enableVertexAttribArray(l.a_instruction);e.vertexAttribPointer(l.a_instruction,1,ol.webgl.FLOAT,false,16,8);e.enableVertexAttribArray(l.a_radius);e.vertexAttribPointer(l.a_radius,1,ol.webgl.FLOAT,false,16,12);e.uniform2fv(l.u_size,o);e.uniform1f(l.u_pixelRatio,r);return l};ol.render.webgl.CircleReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position);
e.disableVertexAttribArray(t.a_instruction);e.disableVertexAttribArray(t.a_radius)};ol.render.webgl.CircleReplay.prototype.drawReplay=function(e,t,o,r){if(!ol.obj.isEmpty(o)){this.drawReplaySkipping_(e,t,o)}else{var i,n,a,l;a=this.startIndices[this.startIndices.length-1];for(i=this.styleIndices_.length-1;i>=0;--i){n=this.styleIndices_[i];l=this.styles_[i];this.setFillStyle_(e,l[0]);this.setStrokeStyle_(e,l[1],l[2]);this.drawElements(e,t,n,a);a=n}}};ol.render.webgl.CircleReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){var n,a,l,s,p,u,c,g;g=this.startIndices.length-2;l=this.startIndices[g+1];for(n=this.styleIndices_.length-1;n>=0;--n){s=this.styles_[n];this.setFillStyle_(e,s[0]);this.setStrokeStyle_(e,s[1],s[2]);p=this.styleIndices_[n];while(g>=0&&this.startIndices[g]>=p){a=this.startIndices[g];u=this.startIndicesFeature[g];c=ol.getUid(u).toString();if(o[c]===undefined&&u.getGeometry()&&(i===undefined||ol.extent.intersects(i,u.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,a,l);var h=r(u);if(h){return h}}g--;l=a}}return undefined};ol.render.webgl.CircleReplay.prototype.drawReplaySkipping_=function(e,t,o){var r,i,n,a,l,s,p,u,c;u=this.startIndices.length-2;n=i=this.startIndices[u+1];for(r=this.styleIndices_.length-1;r>=0;--r){a=this.styles_[r];this.setFillStyle_(e,a[0]);this.setStrokeStyle_(e,a[1],a[2]);l=this.styleIndices_[r];while(u>=0&&this.startIndices[u]>=l){c=this.startIndices[u];s=this.startIndicesFeature[u];p=ol.getUid(s).toString();if(o[p]){if(i!==n){this.drawElements(e,t,i,n)}n=c}u--;i=c}if(i!==n){this.drawElements(e,t,i,n)}i=n=l}};ol.render.webgl.CircleReplay.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_fillColor,t)};ol.render.webgl.CircleReplay.prototype.setStrokeStyle_=function(e,t,o){e.uniform4fv(this.defaultLocations_.u_strokeColor,t);e.uniform1f(this.defaultLocations_.u_lineWidth,o)};ol.render.webgl.CircleReplay.prototype.setFillStrokeStyle=function(e,t){var o,r;if(t){var i=t.getLineDash();this.state_.lineDash=i?i:ol.render.webgl.defaultLineDash;var n=t.getLineDashOffset();this.state_.lineDashOffset=n?n:ol.render.webgl.defaultLineDashOffset;o=t.getColor();if(!(o instanceof CanvasGradient)&&!(o instanceof CanvasPattern)){o=ol.color.asArray(o).map(function(e,t){return t!=3?e/255:e})||ol.render.webgl.defaultStrokeStyle}else{o=ol.render.webgl.defaultStrokeStyle}r=t.getWidth();r=r!==undefined?r:ol.render.webgl.defaultLineWidth}else{o=[0,0,0,0];r=0}var a=e?e.getColor():[0,0,0,0];if(!(a instanceof CanvasGradient)&&!(a instanceof CanvasPattern)){a=ol.color.asArray(a).map(function(e,t){return t!=3?e/255:e})||ol.render.webgl.defaultFillStyle}else{a=ol.render.webgl.defaultFillStyle}if(!this.state_.strokeColor||!ol.array.equals(this.state_.strokeColor,o)||!this.state_.fillColor||!ol.array.equals(this.state_.fillColor,a)||this.state_.lineWidth!==r){this.state_.changed=true;this.state_.fillColor=a;this.state_.strokeColor=o;this.state_.lineWidth=r;this.styles_.push([a,o,r])}}}goog.provide("ol.render.webgl.imagereplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");if(ol.ENABLE_WEBGL){ol.render.webgl.imagereplay.defaultshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.render.webgl.imagereplay.defaultshader.Fragment.SOURCE)};ol.inherits(ol.render.webgl.imagereplay.defaultshader.Fragment,ol.webgl.Fragment);ol.render.webgl.imagereplay.defaultshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n";ol.render.webgl.imagereplay.defaultshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}";ol.render.webgl.imagereplay.defaultshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.imagereplay.defaultshader.Fragment.DEBUG_SOURCE:ol.render.webgl.imagereplay.defaultshader.Fragment.OPTIMIZED_SOURCE;ol.render.webgl.imagereplay.defaultshader.fragment=new ol.render.webgl.imagereplay.defaultshader.Fragment;ol.render.webgl.imagereplay.defaultshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.render.webgl.imagereplay.defaultshader.Vertex.SOURCE)};ol.inherits(ol.render.webgl.imagereplay.defaultshader.Vertex,ol.webgl.Vertex);ol.render.webgl.imagereplay.defaultshader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n";ol.render.webgl.imagereplay.defaultshader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}";ol.render.webgl.imagereplay.defaultshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.imagereplay.defaultshader.Vertex.DEBUG_SOURCE:ol.render.webgl.imagereplay.defaultshader.Vertex.OPTIMIZED_SOURCE;ol.render.webgl.imagereplay.defaultshader.vertex=new ol.render.webgl.imagereplay.defaultshader.Vertex;ol.render.webgl.imagereplay.defaultshader.Locations=function(e,t){this.u_image=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_image":"l");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"k");this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.a_offsets=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_offsets":"e");this.a_opacity=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_opacity":"f");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"c");this.a_rotateWithView=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_rotateWithView":"g");this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"d")}}goog.provide("ol.webgl.ContextEventType");ol.webgl.ContextEventType={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};goog.provide("ol.webgl.Context");goog.require("ol");goog.require("ol.Disposable");goog.require("ol.array");goog.require("ol.events");goog.require("ol.obj");goog.require("ol.webgl");goog.require("ol.webgl.ContextEventType");if(ol.ENABLE_WEBGL){ol.webgl.Context=function(e,t){this.canvas_=e;this.gl_=t;this.bufferCache_={};this.shaderCache_={};this.programCache_={};this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null;this.hasOESElementIndexUint=ol.array.includes(ol.WEBGL_EXTENSIONS,"OES_element_index_uint");if(this.hasOESElementIndexUint){t.getExtension("OES_element_index_uint")}ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this)};ol.inherits(ol.webgl.Context,ol.Disposable);ol.webgl.Context.prototype.bindBuffer=function(e,t){var o=this.getGL();var r=t.getArray();var i=String(ol.getUid(t));if(i in this.bufferCache_){var n=this.bufferCache_[i];o.bindBuffer(e,n.buffer)}else{var a=o.createBuffer();o.bindBuffer(e,a);var l;if(e==ol.webgl.ARRAY_BUFFER){l=new Float32Array(r)}else if(e==ol.webgl.ELEMENT_ARRAY_BUFFER){l=this.hasOESElementIndexUint?new Uint32Array(r):new Uint16Array(r)}o.bufferData(e,l,t.getUsage());this.bufferCache_[i]={buf:t,buffer:a}}};ol.webgl.Context.prototype.deleteBuffer=function(e){var t=this.getGL();var o=String(ol.getUid(e));var r=this.bufferCache_[o];if(!t.isContextLost()){t.deleteBuffer(r.buffer)}delete this.bufferCache_[o]};ol.webgl.Context.prototype.disposeInternal=function(){ol.events.unlistenAll(this.canvas_);var e=this.getGL();if(!e.isContextLost()){var t;for(t in this.bufferCache_){e.deleteBuffer(this.bufferCache_[t].buffer)}for(t in this.programCache_){e.deleteProgram(this.programCache_[t])}for(t in this.shaderCache_){e.deleteShader(this.shaderCache_[t])}e.deleteFramebuffer(this.hitDetectionFramebuffer_);e.deleteRenderbuffer(this.hitDetectionRenderbuffer_);e.deleteTexture(this.hitDetectionTexture_)}};ol.webgl.Context.prototype.getCanvas=function(){return this.canvas_};ol.webgl.Context.prototype.getGL=function(){return this.gl_};ol.webgl.Context.prototype.getHitDetectionFramebuffer=function(){if(!this.hitDetectionFramebuffer_){this.initHitDetectionFramebuffer_()}return this.hitDetectionFramebuffer_};ol.webgl.Context.prototype.getShader=function(e){var t=String(ol.getUid(e));if(t in this.shaderCache_){return this.shaderCache_[t]}else{var o=this.getGL();var r=o.createShader(e.getType());o.shaderSource(r,e.getSource());o.compileShader(r);this.shaderCache_[t]=r;return r}};ol.webgl.Context.prototype.getProgram=function(e,t){var o=ol.getUid(e)+"/"+ol.getUid(t);if(o in this.programCache_){return this.programCache_[o]}else{var r=this.getGL();var i=r.createProgram();r.attachShader(i,this.getShader(e));r.attachShader(i,this.getShader(t));r.linkProgram(i);this.programCache_[o]=i;return i}};ol.webgl.Context.prototype.handleWebGLContextLost=function(){ol.obj.clear(this.bufferCache_);ol.obj.clear(this.shaderCache_);ol.obj.clear(this.programCache_);this.currentProgram_=null;this.hitDetectionFramebuffer_=null;this.hitDetectionTexture_=null;this.hitDetectionRenderbuffer_=null};ol.webgl.Context.prototype.handleWebGLContextRestored=function(){};ol.webgl.Context.prototype.initHitDetectionFramebuffer_=function(){var e=this.gl_;var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var o=ol.webgl.Context.createEmptyTexture(e,1,1);var r=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r);e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1);e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,o,0);e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,r);e.bindTexture(e.TEXTURE_2D,null);e.bindRenderbuffer(e.RENDERBUFFER,null);e.bindFramebuffer(e.FRAMEBUFFER,null);this.hitDetectionFramebuffer_=t;this.hitDetectionTexture_=o;this.hitDetectionRenderbuffer_=r};ol.webgl.Context.prototype.useProgram=function(e){if(e==this.currentProgram_){return false}else{var t=this.getGL();t.useProgram(e);this.currentProgram_=e;return true}};ol.webgl.Context.createTexture_=function(e,t,o){var r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR);e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR);if(t!==undefined){e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,t)}if(o!==undefined){e.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,o)}return r};ol.webgl.Context.createEmptyTexture=function(e,t,o,r,i){var n=ol.webgl.Context.createTexture_(e,r,i);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,o,0,e.RGBA,e.UNSIGNED_BYTE,null);return n};ol.webgl.Context.createTexture=function(e,t,o,r){var i=ol.webgl.Context.createTexture_(e,o,r);e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t);return i}}goog.provide("ol.render.webgl.ImageReplay");goog.require("ol");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.render.webgl.imagereplay.defaultshader");goog.require("ol.render.webgl.Replay");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");goog.require("ol.webgl.Context");if(ol.ENABLE_WEBGL){ol.render.webgl.ImageReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.anchorX_=undefined;this.anchorY_=undefined;this.groupIndices_=[];this.hitDetectionGroupIndices_=[];this.height_=undefined;this.images_=[];this.hitDetectionImages_=[];this.imageHeight_=undefined;this.imageWidth_=undefined;this.defaultLocations_=null;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.textures_=[];this.hitDetectionTextures_=[];this.width_=undefined};ol.inherits(ol.render.webgl.ImageReplay,ol.render.webgl.Replay);ol.render.webgl.ImageReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer;var o=this.indicesBuffer;var r=this.textures_;var i=this.hitDetectionTextures_;var n=e.getGL();return function(){if(!n.isContextLost()){var a,l;for(a=0,l=r.length;a<l;++a){n.deleteTexture(r[a])}for(a=0,l=i.length;a<l;++a){n.deleteTexture(i[a])}}e.deleteBuffer(t);e.deleteBuffer(o)}};ol.render.webgl.ImageReplay.prototype.drawCoordinates_=function(e,t,o,r){var i=this.anchorX_;var n=this.anchorY_;var a=this.height_;var l=this.imageHeight_;var s=this.imageWidth_;var p=this.opacity_;var u=this.originX_;var c=this.originY_;var g=this.rotateWithView_?1:0;var h=-this.rotation_;var f=this.scale_;var d=this.width_;var y=Math.cos(h);var m=Math.sin(h);var v=this.indices.length;var _=this.vertices.length;var x,S,P,E,T,b;for(x=t;x<o;x+=r){T=e[x]-this.origin[0];b=e[x+1]-this.origin[1];S=_/8;P=-f*i;E=-f*(a-n);this.vertices[_++]=T;this.vertices[_++]=b;this.vertices[_++]=P*y-E*m;this.vertices[_++]=P*m+E*y;this.vertices[_++]=u/s;this.vertices[_++]=(c+a)/l;this.vertices[_++]=p;this.vertices[_++]=g;P=f*(d-i);E=-f*(a-n);this.vertices[_++]=T;this.vertices[_++]=b;this.vertices[_++]=P*y-E*m;this.vertices[_++]=P*m+E*y;this.vertices[_++]=(u+d)/s;this.vertices[_++]=(c+a)/l;this.vertices[_++]=p;this.vertices[_++]=g;P=f*(d-i);E=f*n;this.vertices[_++]=T;this.vertices[_++]=b;this.vertices[_++]=P*y-E*m;this.vertices[_++]=P*m+E*y;this.vertices[_++]=(u+d)/s;this.vertices[_++]=c/l;this.vertices[_++]=p;this.vertices[_++]=g;P=-f*i;E=f*n;this.vertices[_++]=T;this.vertices[_++]=b;this.vertices[_++]=P*y-E*m;this.vertices[_++]=P*m+E*y;this.vertices[_++]=u/s;this.vertices[_++]=c/l;this.vertices[_++]=p;this.vertices[_++]=g;this.indices[v++]=S;this.indices[v++]=S+1;this.indices[v++]=S+2;this.indices[v++]=S;this.indices[v++]=S+2;this.indices[v++]=S+3}return _};ol.render.webgl.ImageReplay.prototype.drawMultiPoint=function(e,t){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);var o=e.getFlatCoordinates();var r=e.getStride();this.drawCoordinates_(o,0,o.length,r)};ol.render.webgl.ImageReplay.prototype.drawPoint=function(e,t){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);var o=e.getFlatCoordinates();var r=e.getStride();this.drawCoordinates_(o,0,o.length,r)};ol.render.webgl.ImageReplay.prototype.finish=function(e){var t=e.getGL();this.groupIndices_.push(this.indices.length);this.hitDetectionGroupIndices_.push(this.indices.length);this.verticesBuffer=new ol.webgl.Buffer(this.vertices);var o=this.indices;this.indicesBuffer=new ol.webgl.Buffer(o);var r={};this.createTextures_(this.textures_,this.images_,r,t);this.createTextures_(this.hitDetectionTextures_,this.hitDetectionImages_,r,t);this.anchorX_=undefined;this.anchorY_=undefined;this.height_=undefined;this.images_=null;this.hitDetectionImages_=null;this.imageHeight_=undefined;this.imageWidth_=undefined;this.indices=null;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.vertices=null;this.width_=undefined};ol.render.webgl.ImageReplay.prototype.createTextures_=function(e,t,o,r){var i,n,a,l;var s=t.length;for(l=0;l<s;++l){n=t[l];a=ol.getUid(n).toString();if(a in o){i=o[a]}else{i=ol.webgl.Context.createTexture(r,n,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE);o[a]=i}e[l]=i}};ol.render.webgl.ImageReplay.prototype.setUpProgram=function(e,t,o,r){var i=ol.render.webgl.imagereplay.defaultshader.fragment;var n=ol.render.webgl.imagereplay.defaultshader.vertex;var a=t.getProgram(i,n);var l;if(!this.defaultLocations_){l=new ol.render.webgl.imagereplay.defaultshader.Locations(e,a);this.defaultLocations_=l}else{l=this.defaultLocations_}t.useProgram(a);e.enableVertexAttribArray(l.a_position);e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,false,32,0);e.enableVertexAttribArray(l.a_offsets);e.vertexAttribPointer(l.a_offsets,2,ol.webgl.FLOAT,false,32,8);e.enableVertexAttribArray(l.a_texCoord);e.vertexAttribPointer(l.a_texCoord,2,ol.webgl.FLOAT,false,32,16);e.enableVertexAttribArray(l.a_opacity);e.vertexAttribPointer(l.a_opacity,1,ol.webgl.FLOAT,false,32,24);e.enableVertexAttribArray(l.a_rotateWithView);e.vertexAttribPointer(l.a_rotateWithView,1,ol.webgl.FLOAT,false,32,28);return l};ol.render.webgl.ImageReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position);e.disableVertexAttribArray(t.a_offsets);e.disableVertexAttribArray(t.a_texCoord);e.disableVertexAttribArray(t.a_opacity);e.disableVertexAttribArray(t.a_rotateWithView)};ol.render.webgl.ImageReplay.prototype.drawReplay=function(e,t,o,r){var i=r?this.hitDetectionTextures_:this.textures_;var n=r?this.hitDetectionGroupIndices_:this.groupIndices_;if(!ol.obj.isEmpty(o)){this.drawReplaySkipping_(e,t,o,i,n)}else{var a,l,s;for(a=0,l=i.length,s=0;a<l;++a){e.bindTexture(ol.webgl.TEXTURE_2D,i[a]);var p=n[a];this.drawElements(e,t,s,p);s=p}}};ol.render.webgl.ImageReplay.prototype.drawReplaySkipping_=function(e,t,o,r,i){var n=0;var a,l;for(a=0,l=r.length;a<l;++a){e.bindTexture(ol.webgl.TEXTURE_2D,r[a]);var s=a>0?i[a-1]:0;var p=i[a];var u=s;var c=s;while(n<this.startIndices.length&&this.startIndices[n]<=p){var g=this.startIndicesFeature[n];var h=ol.getUid(g).toString();if(o[h]!==undefined){if(u!==c){this.drawElements(e,t,u,c)}u=n===this.startIndices.length-1?p:this.startIndices[n+1];c=u}else{c=n===this.startIndices.length-1?p:this.startIndices[n+1]}n++}if(u!==c){this.drawElements(e,t,u,c)}}};ol.render.webgl.ImageReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){var n,a,l,s,p,u;var c=this.startIndices.length-1;for(n=this.hitDetectionTextures_.length-1;n>=0;--n){e.bindTexture(ol.webgl.TEXTURE_2D,this.hitDetectionTextures_[n]);a=n>0?this.hitDetectionGroupIndices_[n-1]:0;s=this.hitDetectionGroupIndices_[n];while(c>=0&&this.startIndices[c]>=a){l=this.startIndices[c];p=this.startIndicesFeature[c];u=ol.getUid(p).toString();if(o[u]===undefined&&p.getGeometry()&&(i===undefined||ol.extent.intersects(i,p.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,l,s);var g=r(p);if(g){return g}}s=l;c--}}return undefined};ol.render.webgl.ImageReplay.prototype.setImageStyle=function(e){var t=e.getAnchor();var o=e.getImage(1);var r=e.getImageSize();var i=e.getHitDetectionImage(1);var n=e.getOpacity();var a=e.getOrigin();var l=e.getRotateWithView();var s=e.getRotation();var p=e.getSize();var u=e.getScale();var c;if(this.images_.length===0){this.images_.push(o)}else{c=this.images_[this.images_.length-1];if(ol.getUid(c)!=ol.getUid(o)){this.groupIndices_.push(this.indices.length);this.images_.push(o)}}if(this.hitDetectionImages_.length===0){this.hitDetectionImages_.push(i)}else{c=this.hitDetectionImages_[this.hitDetectionImages_.length-1];if(ol.getUid(c)!=ol.getUid(i)){this.hitDetectionGroupIndices_.push(this.indices.length);this.hitDetectionImages_.push(i)}}this.anchorX_=t[0];this.anchorY_=t[1];this.height_=p[1];this.imageHeight_=r[1];this.imageWidth_=r[0];this.opacity_=n;this.originX_=a[0];this.originY_=a[1];this.rotation_=s;this.rotateWithView_=l;this.scale_=u;this.width_=p[0]}}goog.provide("ol.geom.flat.topology");goog.require("ol.geom.flat.area");ol.geom.flat.topology.lineStringIsClosed=function(e,t,o,r){var i=o-r;if(e[t]===e[i]&&e[t+1]===e[i+1]&&(o-t)/r>3){return!!ol.geom.flat.area.linearRing(e,t,o,r)}return false};goog.provide("ol.render.webgl.linestringreplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");if(ol.ENABLE_WEBGL){ol.render.webgl.linestringreplay.defaultshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.render.webgl.linestringreplay.defaultshader.Fragment.SOURCE)};ol.inherits(ol.render.webgl.linestringreplay.defaultshader.Fragment,ol.webgl.Fragment);ol.render.webgl.linestringreplay.defaultshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n";ol.render.webgl.linestringreplay.defaultshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}";ol.render.webgl.linestringreplay.defaultshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.linestringreplay.defaultshader.Fragment.DEBUG_SOURCE:ol.render.webgl.linestringreplay.defaultshader.Fragment.OPTIMIZED_SOURCE;ol.render.webgl.linestringreplay.defaultshader.fragment=new ol.render.webgl.linestringreplay.defaultshader.Fragment;ol.render.webgl.linestringreplay.defaultshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.render.webgl.linestringreplay.defaultshader.Vertex.SOURCE)};ol.inherits(ol.render.webgl.linestringreplay.defaultshader.Vertex,ol.webgl.Vertex);ol.render.webgl.linestringreplay.defaultshader.Vertex.DEBUG_SOURCE="varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n";ol.render.webgl.linestringreplay.defaultshader.Vertex.OPTIMIZED_SOURCE="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}";
ol.render.webgl.linestringreplay.defaultshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.linestringreplay.defaultshader.Vertex.DEBUG_SOURCE:ol.render.webgl.linestringreplay.defaultshader.Vertex.OPTIMIZED_SOURCE;ol.render.webgl.linestringreplay.defaultshader.vertex=new ol.render.webgl.linestringreplay.defaultshader.Vertex;ol.render.webgl.linestringreplay.defaultshader.Locations=function(e,t){this.u_color=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_color":"n");this.u_lineWidth=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_lineWidth":"k");this.u_miterLimit=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_miterLimit":"l");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"j");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"i");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"m");this.u_pixelRatio=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_pixelRatio":"p");this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"h");this.u_size=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_size":"o");this.a_direction=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_direction":"g");this.a_lastPos=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_lastPos":"d");this.a_nextPos=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_nextPos":"f");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"e")}}goog.provide("ol.render.webgl.LineStringReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.extent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.transform");goog.require("ol.geom.flat.topology");goog.require("ol.obj");goog.require("ol.render.webgl");goog.require("ol.render.webgl.Replay");goog.require("ol.render.webgl.linestringreplay.defaultshader");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");if(ol.ENABLE_WEBGL){ol.render.webgl.LineStringReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={strokeColor:null,lineCap:undefined,lineDash:null,lineDashOffset:undefined,lineJoin:undefined,lineWidth:undefined,miterLimit:undefined,changed:false}};ol.inherits(ol.render.webgl.LineStringReplay,ol.render.webgl.Replay);ol.render.webgl.LineStringReplay.prototype.drawCoordinates_=function(e,t,o,r){var i,n;var a=this.vertices.length;var l=this.indices.length;var s=this.state_.lineJoin==="bevel"?0:this.state_.lineJoin==="miter"?1:2;var p=this.state_.lineCap==="butt"?0:this.state_.lineCap==="square"?1:2;var u=ol.geom.flat.topology.lineStringIsClosed(e,t,o,r);var c,g,h;var f=l;var d=1;var y,m,v;for(i=t,n=o;i<n;i+=r){h=a/7;y=m;m=v||[e[i],e[i+1]];if(i===t){v=[e[i+r],e[i+r+1]];if(o-t===r*2&&ol.array.equals(m,v)){break}if(u){y=[e[o-r*2],e[o-r*2+1]];c=v}else{if(p){a=this.addVertices_([0,0],m,v,d*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*p,a);a=this.addVertices_([0,0],m,v,-d*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE_CAP*p,a);this.indices[l++]=h+2;this.indices[l++]=h;this.indices[l++]=h+1;this.indices[l++]=h+1;this.indices[l++]=h+3;this.indices[l++]=h+2}a=this.addVertices_([0,0],m,v,d*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(p||1),a);a=this.addVertices_([0,0],m,v,-d*ol.render.webgl.LineStringReplay.Instruction_.BEGIN_LINE*(p||1),a);f=a/7-1;continue}}else if(i===o-r){if(u){v=c;break}else{y=y||[0,0];a=this.addVertices_(y,m,[0,0],d*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(p||1),a);a=this.addVertices_(y,m,[0,0],-d*ol.render.webgl.LineStringReplay.Instruction_.END_LINE*(p||1),a);this.indices[l++]=h;this.indices[l++]=f-1;this.indices[l++]=f;this.indices[l++]=f;this.indices[l++]=h+1;this.indices[l++]=h;if(p){a=this.addVertices_(y,m,[0,0],d*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*p,a);a=this.addVertices_(y,m,[0,0],-d*ol.render.webgl.LineStringReplay.Instruction_.END_LINE_CAP*p,a);this.indices[l++]=h+2;this.indices[l++]=h;this.indices[l++]=h+1;this.indices[l++]=h+1;this.indices[l++]=h+3;this.indices[l++]=h+2}break}}else{v=[e[i+r],e[i+r+1]]}g=ol.render.webgl.triangleIsCounterClockwise(y[0],y[1],m[0],m[1],v[0],v[1])?-1:1;a=this.addVertices_(y,m,v,g*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(s||1),a);a=this.addVertices_(y,m,v,g*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_SECOND*(s||1),a);a=this.addVertices_(y,m,v,-g*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(s||1),a);if(i>t){this.indices[l++]=h;this.indices[l++]=f-1;this.indices[l++]=f;this.indices[l++]=h+2;this.indices[l++]=h;this.indices[l++]=d*g>0?f:f-1}this.indices[l++]=h;this.indices[l++]=h+2;this.indices[l++]=h+1;f=h+2;d=g;if(s){a=this.addVertices_(y,m,v,g*ol.render.webgl.LineStringReplay.Instruction_.MITER_TOP*s,a);this.indices[l++]=h+1;this.indices[l++]=h+3;this.indices[l++]=h}}if(u){h=h||a/7;g=ol.geom.flat.orient.linearRingIsClockwise([y[0],y[1],m[0],m[1],v[0],v[1]],0,6,2)?1:-1;a=this.addVertices_(y,m,v,g*ol.render.webgl.LineStringReplay.Instruction_.BEVEL_FIRST*(s||1),a);a=this.addVertices_(y,m,v,-g*ol.render.webgl.LineStringReplay.Instruction_.MITER_BOTTOM*(s||1),a);this.indices[l++]=h;this.indices[l++]=f-1;this.indices[l++]=f;this.indices[l++]=h+1;this.indices[l++]=h;this.indices[l++]=d*g>0?f:f-1}};ol.render.webgl.LineStringReplay.prototype.addVertices_=function(e,t,o,r,i){this.vertices[i++]=e[0];this.vertices[i++]=e[1];this.vertices[i++]=t[0];this.vertices[i++]=t[1];this.vertices[i++]=o[0];this.vertices[i++]=o[1];this.vertices[i++]=r;return i};ol.render.webgl.LineStringReplay.prototype.isValid_=function(e,t,o,r){var i=o-t;if(i<r*2){return false}else if(i===r*2){var n=[e[t],e[t+1]];var a=[e[t+r],e[t+r+1]];return!ol.array.equals(n,a)}return true};ol.render.webgl.LineStringReplay.prototype.drawLineString=function(e,t){var o=e.getFlatCoordinates();var r=e.getStride();if(this.isValid_(o,0,o.length,r)){o=ol.geom.flat.transform.translate(o,0,o.length,r,-this.origin[0],-this.origin[1]);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=false}this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);this.drawCoordinates_(o,0,o.length,r)}};ol.render.webgl.LineStringReplay.prototype.drawMultiLineString=function(e,t){var o=this.indices.length;var r=e.getLineStrings();var i,n;for(i=0,n=r.length;i<n;++i){var a=r[i].getFlatCoordinates();var l=r[i].getStride();if(this.isValid_(a,0,a.length,l)){a=ol.geom.flat.transform.translate(a,0,a.length,l,-this.origin[0],-this.origin[1]);this.drawCoordinates_(a,0,a.length,l)}}if(this.indices.length>o){this.startIndices.push(o);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(o);this.state_.changed=false}}};ol.render.webgl.LineStringReplay.prototype.drawPolygonCoordinates=function(e,t,o){if(!ol.geom.flat.topology.lineStringIsClosed(e,0,e.length,o)){e.push(e[0]);e.push(e[1])}this.drawCoordinates_(e,0,e.length,o);if(t.length){var r,i;for(r=0,i=t.length;r<i;++r){if(!ol.geom.flat.topology.lineStringIsClosed(t[r],0,t[r].length,o)){t[r].push(t[r][0]);t[r].push(t[r][1])}this.drawCoordinates_(t[r],0,t[r].length,o)}}};ol.render.webgl.LineStringReplay.prototype.setPolygonStyle=function(e,t){var o=t===undefined?this.indices.length:t;this.startIndices.push(o);this.startIndicesFeature.push(e);if(this.state_.changed){this.styleIndices_.push(o);this.state_.changed=false}};ol.render.webgl.LineStringReplay.prototype.getCurrentIndex=function(){return this.indices.length};ol.render.webgl.LineStringReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);if(this.styleIndices_.length===0&&this.styles_.length>0){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.LineStringReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer;var o=this.indicesBuffer;return function(){e.deleteBuffer(t);e.deleteBuffer(o)}};ol.render.webgl.LineStringReplay.prototype.setUpProgram=function(e,t,o,r){var i,n;i=ol.render.webgl.linestringreplay.defaultshader.fragment;n=ol.render.webgl.linestringreplay.defaultshader.vertex;var a=t.getProgram(i,n);var l;if(!this.defaultLocations_){l=new ol.render.webgl.linestringreplay.defaultshader.Locations(e,a);this.defaultLocations_=l}else{l=this.defaultLocations_}t.useProgram(a);e.enableVertexAttribArray(l.a_lastPos);e.vertexAttribPointer(l.a_lastPos,2,ol.webgl.FLOAT,false,28,0);e.enableVertexAttribArray(l.a_position);e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,false,28,8);e.enableVertexAttribArray(l.a_nextPos);e.vertexAttribPointer(l.a_nextPos,2,ol.webgl.FLOAT,false,28,16);e.enableVertexAttribArray(l.a_direction);e.vertexAttribPointer(l.a_direction,1,ol.webgl.FLOAT,false,28,24);e.uniform2fv(l.u_size,o);e.uniform1f(l.u_pixelRatio,r);return l};ol.render.webgl.LineStringReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_lastPos);e.disableVertexAttribArray(t.a_position);e.disableVertexAttribArray(t.a_nextPos);e.disableVertexAttribArray(t.a_direction)};ol.render.webgl.LineStringReplay.prototype.drawReplay=function(e,t,o,r){var i=e.getParameter(e.DEPTH_FUNC);var n=e.getParameter(e.DEPTH_WRITEMASK);if(!r){e.enable(e.DEPTH_TEST);e.depthMask(true);e.depthFunc(e.NOTEQUAL)}if(!ol.obj.isEmpty(o)){this.drawReplaySkipping_(e,t,o)}else{var a,l,s,p;s=this.startIndices[this.startIndices.length-1];for(a=this.styleIndices_.length-1;a>=0;--a){l=this.styleIndices_[a];p=this.styles_[a];this.setStrokeStyle_(e,p[0],p[1],p[2]);this.drawElements(e,t,l,s);e.clear(e.DEPTH_BUFFER_BIT);s=l}}if(!r){e.disable(e.DEPTH_TEST);e.clear(e.DEPTH_BUFFER_BIT);e.depthMask(n);e.depthFunc(i)}};ol.render.webgl.LineStringReplay.prototype.drawReplaySkipping_=function(e,t,o){var r,i,n,a,l,s,p,u,c;u=this.startIndices.length-2;n=i=this.startIndices[u+1];for(r=this.styleIndices_.length-1;r>=0;--r){a=this.styles_[r];this.setStrokeStyle_(e,a[0],a[1],a[2]);l=this.styleIndices_[r];while(u>=0&&this.startIndices[u]>=l){c=this.startIndices[u];s=this.startIndicesFeature[u];p=ol.getUid(s).toString();if(o[p]){if(i!==n){this.drawElements(e,t,i,n);e.clear(e.DEPTH_BUFFER_BIT)}n=c}u--;i=c}if(i!==n){this.drawElements(e,t,i,n);e.clear(e.DEPTH_BUFFER_BIT)}i=n=l}};ol.render.webgl.LineStringReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){var n,a,l,s,p,u,c,g;g=this.startIndices.length-2;l=this.startIndices[g+1];for(n=this.styleIndices_.length-1;n>=0;--n){s=this.styles_[n];this.setStrokeStyle_(e,s[0],s[1],s[2]);p=this.styleIndices_[n];while(g>=0&&this.startIndices[g]>=p){a=this.startIndices[g];u=this.startIndicesFeature[g];c=ol.getUid(u).toString();if(o[c]===undefined&&u.getGeometry()&&(i===undefined||ol.extent.intersects(i,u.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,a,l);var h=r(u);if(h){return h}}g--;l=a}}return undefined};ol.render.webgl.LineStringReplay.prototype.setStrokeStyle_=function(e,t,o,r){e.uniform4fv(this.defaultLocations_.u_color,t);e.uniform1f(this.defaultLocations_.u_lineWidth,o);e.uniform1f(this.defaultLocations_.u_miterLimit,r)};ol.render.webgl.LineStringReplay.prototype.setFillStrokeStyle=function(e,t){var o=t.getLineCap();this.state_.lineCap=o!==undefined?o:ol.render.webgl.defaultLineCap;var r=t.getLineDash();this.state_.lineDash=r?r:ol.render.webgl.defaultLineDash;var i=t.getLineDashOffset();this.state_.lineDashOffset=i?i:ol.render.webgl.defaultLineDashOffset;var n=t.getLineJoin();this.state_.lineJoin=n!==undefined?n:ol.render.webgl.defaultLineJoin;var a=t.getColor();if(!(a instanceof CanvasGradient)&&!(a instanceof CanvasPattern)){a=ol.color.asArray(a).map(function(e,t){return t!=3?e/255:e})||ol.render.webgl.defaultStrokeStyle}else{a=ol.render.webgl.defaultStrokeStyle}var l=t.getWidth();l=l!==undefined?l:ol.render.webgl.defaultLineWidth;var s=t.getMiterLimit();s=s!==undefined?s:ol.render.webgl.defaultMiterLimit;if(!this.state_.strokeColor||!ol.array.equals(this.state_.strokeColor,a)||this.state_.lineWidth!==l||this.state_.miterLimit!==s){this.state_.changed=true;this.state_.strokeColor=a;this.state_.lineWidth=l;this.state_.miterLimit=s;this.styles_.push([a,l,s])}};ol.render.webgl.LineStringReplay.Instruction_={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23}}goog.provide("ol.render.webgl.polygonreplay.defaultshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");if(ol.ENABLE_WEBGL){ol.render.webgl.polygonreplay.defaultshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.render.webgl.polygonreplay.defaultshader.Fragment.SOURCE)};ol.inherits(ol.render.webgl.polygonreplay.defaultshader.Fragment,ol.webgl.Fragment);ol.render.webgl.polygonreplay.defaultshader.Fragment.DEBUG_SOURCE="precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n";ol.render.webgl.polygonreplay.defaultshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}";ol.render.webgl.polygonreplay.defaultshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.polygonreplay.defaultshader.Fragment.DEBUG_SOURCE:ol.render.webgl.polygonreplay.defaultshader.Fragment.OPTIMIZED_SOURCE;ol.render.webgl.polygonreplay.defaultshader.fragment=new ol.render.webgl.polygonreplay.defaultshader.Fragment;ol.render.webgl.polygonreplay.defaultshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.render.webgl.polygonreplay.defaultshader.Vertex.SOURCE)};ol.inherits(ol.render.webgl.polygonreplay.defaultshader.Vertex,ol.webgl.Vertex);ol.render.webgl.polygonreplay.defaultshader.Vertex.DEBUG_SOURCE="\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n";ol.render.webgl.polygonreplay.defaultshader.Vertex.OPTIMIZED_SOURCE="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}";ol.render.webgl.polygonreplay.defaultshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.render.webgl.polygonreplay.defaultshader.Vertex.DEBUG_SOURCE:ol.render.webgl.polygonreplay.defaultshader.Vertex.OPTIMIZED_SOURCE;ol.render.webgl.polygonreplay.defaultshader.vertex=new ol.render.webgl.polygonreplay.defaultshader.Vertex;ol.render.webgl.polygonreplay.defaultshader.Locations=function(e,t){this.u_color=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_color":"e");this.u_offsetRotateMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetRotateMatrix":"d");this.u_offsetScaleMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_offsetScaleMatrix":"c");this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"f");this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"b");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"a")}}goog.provide("ol.style.Stroke");goog.require("ol");ol.style.Stroke=function(e){var t=e||{};this.color_=t.color!==undefined?t.color:null;this.lineCap_=t.lineCap;this.lineDash_=t.lineDash!==undefined?t.lineDash:null;this.lineDashOffset_=t.lineDashOffset;this.lineJoin_=t.lineJoin;this.miterLimit_=t.miterLimit;this.width_=t.width;this.checksum_=undefined};ol.style.Stroke.prototype.clone=function(){var e=this.getColor();return new ol.style.Stroke({color:e&&e.slice?e.slice():e||undefined,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():undefined,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})};ol.style.Stroke.prototype.getColor=function(){return this.color_};ol.style.Stroke.prototype.getLineCap=function(){return this.lineCap_};ol.style.Stroke.prototype.getLineDash=function(){return this.lineDash_};ol.style.Stroke.prototype.getLineDashOffset=function(){return this.lineDashOffset_};ol.style.Stroke.prototype.getLineJoin=function(){return this.lineJoin_};ol.style.Stroke.prototype.getMiterLimit=function(){return this.miterLimit_};ol.style.Stroke.prototype.getWidth=function(){return this.width_};ol.style.Stroke.prototype.setColor=function(e){this.color_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setLineCap=function(e){this.lineCap_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setLineDash=function(e){this.lineDash_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setLineJoin=function(e){this.lineJoin_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setMiterLimit=function(e){this.miterLimit_=e;this.checksum_=undefined};ol.style.Stroke.prototype.setWidth=function(e){this.width_=e;this.checksum_=undefined};ol.style.Stroke.prototype.getChecksum=function(){if(this.checksum_===undefined){this.checksum_="s";if(this.color_){if(typeof this.color_==="string"){this.checksum_+=this.color_}else{this.checksum_+=ol.getUid(this.color_).toString()}}else{this.checksum_+="-"}this.checksum_+=","+(this.lineCap_!==undefined?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(this.lineDashOffset_!==undefined?this.lineDashOffset_:"-")+","+(this.lineJoin_!==undefined?this.lineJoin_:"-")+","+(this.miterLimit_!==undefined?this.miterLimit_.toString():"-")+","+(this.width_!==undefined?this.width_.toString():"-")}return this.checksum_};goog.provide("ol.structs.LinkedList");ol.structs.LinkedList=function(e){this.first_=undefined;this.last_=undefined;this.head_=undefined;this.circular_=e===undefined?true:e;this.length_=0};ol.structs.LinkedList.prototype.insertItem=function(e){var t={prev:undefined,next:undefined,data:e};var o=this.head_;if(!o){this.first_=t;this.last_=t;if(this.circular_){t.next=t;t.prev=t}}else{var r=o.next;t.prev=o;t.next=r;o.next=t;if(r){r.prev=t}if(o===this.last_){this.last_=t}}this.head_=t;this.length_++};ol.structs.LinkedList.prototype.removeItem=function(){var e=this.head_;if(e){var t=e.next;var o=e.prev;if(t){t.prev=o}if(o){o.next=t}this.head_=t||o;if(this.first_===this.last_){this.head_=undefined;this.first_=undefined;this.last_=undefined}else if(this.first_===e){this.first_=this.head_}else if(this.last_===e){this.last_=o?this.head_.prev:this.head_}this.length_--}};ol.structs.LinkedList.prototype.firstItem=function(){this.head_=this.first_;if(this.head_){return this.head_.data}return undefined};ol.structs.LinkedList.prototype.lastItem=function(){this.head_=this.last_;if(this.head_){return this.head_.data}return undefined};ol.structs.LinkedList.prototype.nextItem=function(){if(this.head_&&this.head_.next){this.head_=this.head_.next;return this.head_.data}return undefined};ol.structs.LinkedList.prototype.getNextItem=function(){if(this.head_&&this.head_.next){return this.head_.next.data}return undefined};ol.structs.LinkedList.prototype.prevItem=function(){if(this.head_&&this.head_.prev){this.head_=this.head_.prev;return this.head_.data}return undefined};ol.structs.LinkedList.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev){return this.head_.prev.data}return undefined};ol.structs.LinkedList.prototype.getCurrItem=function(){if(this.head_){return this.head_.data}return undefined};ol.structs.LinkedList.prototype.setFirstItem=function(){if(this.circular_&&this.head_){this.first_=this.head_;this.last_=this.head_.prev}};ol.structs.LinkedList.prototype.concat=function(e){if(e.head_){if(this.head_){var t=this.head_.next;this.head_.next=e.first_;e.first_.prev=this.head_;t.prev=e.last_;e.last_.next=t;this.length_+=e.length_}else{this.head_=e.head_;this.first_=e.first_;this.last_=e.last_;this.length_=e.length_}e.head_=undefined;e.first_=undefined;e.last_=undefined;e.length_=0}};ol.structs.LinkedList.prototype.getLength=function(){return this.length_};goog.provide("ol.ext.rbush");ol.ext.rbush;(function(){var e={};var t={exports:e};var o;(function(r){if(typeof e==="object"&&typeof t!=="undefined"){t.exports=r()}else if(typeof o==="function"&&o.amd){o([],r)}else{var i;if(typeof window!=="undefined"){i=window}else if(typeof global!=="undefined"){i=global}else if(typeof self!=="undefined"){i=self}else{i=this}i.rbush=r()}})(function(){var e,t,o;return function r(e,t,o){function i(a,l){if(!t[a]){if(!e[a]){var s=typeof require=="function"&&require;if(!l&&s)return s(a,!0);if(n)return n(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=t[a]={exports:{}};e[a][0].call(u.exports,function(t){var o=e[a][1][t];return i(o?o:t)},u,u.exports,r,e,t,o)}return t[a].exports}var n=typeof require=="function"&&require;for(var a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,o){"use strict";t.exports=r;function r(e,t,o,a,l){o=o||0;a=a||e.length-1;l=l||n;while(a>o){if(a-o>600){var s=a-o+1;var p=t-o+1;var u=Math.log(s);var c=.5*Math.exp(2*u/3);var g=.5*Math.sqrt(u*c*(s-c)/s)*(p-s/2<0?-1:1);var h=Math.max(o,Math.floor(t-p*c/s+g));var f=Math.min(a,Math.floor(t+(s-p)*c/s+g));r(e,t,h,f,l)}var d=e[t];var y=o;var m=a;i(e,o,t);if(l(e[a],d)>0)i(e,o,a);while(y<m){i(e,y,m);y++;m--;while(l(e[y],d)<0)y++;while(l(e[m],d)>0)m--}if(l(e[o],d)===0)i(e,o,m);else{m++;i(e,m,a)}if(m<=t)o=m+1;if(t<=m)a=m-1}}function i(e,t,o){var r=e[t];e[t]=e[o];e[o]=r}function n(e,t){return e<t?-1:e>t?1:0}},{}],2:[function(e,t,o){"use strict";t.exports=i;var r=e("quickselect");function i(e,t){if(!(this instanceof i))return new i(e,t);this._maxEntries=Math.max(4,e||9);this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4));if(t){this._initFormat(t)}this.clear()}i.prototype={all:function(){return this._all(this.data,[])},search:function(e){var t=this.data,o=[],r=this.toBBox;if(!y(e,t))return o;var i=[],n,a,l,s;while(t){for(n=0,a=t.children.length;n<a;n++){l=t.children[n];s=t.leaf?r(l):l;if(y(e,s)){if(t.leaf)o.push(l);else if(d(e,s))this._all(l,o);else i.push(l)}}t=i.pop()}return o},collides:function(e){var t=this.data,o=this.toBBox;if(!y(e,t))return false;var r=[],i,n,a,l;while(t){for(i=0,n=t.children.length;i<n;i++){a=t.children[i];l=t.leaf?o(a):a;if(y(e,l)){if(t.leaf||d(e,l))return true;r.push(a)}}t=r.pop()}return false},load:function(e){if(!(e&&e.length))return this;if(e.length<this._minEntries){for(var t=0,o=e.length;t<o;t++){this.insert(e[t])}return this}var r=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length){this.data=r}else if(this.data.height===r.height){this._splitRoot(this.data,r)}else{if(this.data.height<r.height){var i=this.data;this.data=r;r=i}this._insert(r,this.data.height-r.height-1,true)}return this},insert:function(e){if(e)this._insert(e,this.data.height-1);return this},clear:function(){this.data=m([]);return this},remove:function(e,t){if(!e)return this;var o=this.data,r=this.toBBox(e),i=[],a=[],l,s,p,u;while(o||i.length){if(!o){o=i.pop();s=i[i.length-1];l=a.pop();u=true}if(o.leaf){p=n(e,o.children,t);if(p!==-1){o.children.splice(p,1);i.push(o);this._condense(i);return this}}if(!u&&!o.leaf&&d(o,r)){i.push(o);a.push(l);l=0;s=o;o=o.children[0]}else if(s){l++;o=s.children[l];u=false}else o=null}return this},toBBox:function(e){return e},compareMinX:p,compareMinY:u,toJSON:function(){return this.data},fromJSON:function(e){this.data=e;return this},_all:function(e,t){var o=[];while(e){if(e.leaf)t.push.apply(t,e.children);else o.push.apply(o,e.children);e=o.pop()}return t},_build:function(e,t,o,r){var i=o-t+1,n=this._maxEntries,l;if(i<=n){l=m(e.slice(t,o+1));a(l,this.toBBox);return l}if(!r){r=Math.ceil(Math.log(i)/Math.log(n));n=Math.ceil(i/Math.pow(n,r-1))}l=m([]);l.leaf=false;l.height=r;var s=Math.ceil(i/n),p=s*Math.ceil(Math.sqrt(n)),u,c,g,h;v(e,t,o,p,this.compareMinX);for(u=t;u<=o;u+=p){g=Math.min(u+p-1,o);v(e,u,g,s,this.compareMinY);for(c=u;c<=g;c+=s){h=Math.min(c+s-1,g);l.children.push(this._build(e,c,h,r-1))}}a(l,this.toBBox);return l},_chooseSubtree:function(e,t,o,r){var i,n,a,l,s,p,u,g;while(true){r.push(t);if(t.leaf||r.length-1===o)break;u=g=Infinity;for(i=0,n=t.children.length;i<n;i++){a=t.children[i];s=c(a);p=h(e,a)-s;if(p<g){g=p;u=s<u?s:u;l=a}else if(p===g){if(s<u){u=s;l=a}}}t=l||t.children[0]}return t},_insert:function(e,t,o){var r=this.toBBox,i=o?e:r(e),n=[];var a=this._chooseSubtree(i,this.data,t,n);a.children.push(e);s(a,i);while(t>=0){if(n[t].children.length>this._maxEntries){this._split(n,t);t--}else break}this._adjustParentBBoxes(i,n,t)},_split:function(e,t){var o=e[t],r=o.children.length,i=this._minEntries;this._chooseSplitAxis(o,i,r);var n=this._chooseSplitIndex(o,i,r);var l=m(o.children.splice(n,o.children.length-n));l.height=o.height;l.leaf=o.leaf;a(o,this.toBBox);a(l,this.toBBox);if(t)e[t-1].children.push(l);else this._splitRoot(o,l)},_splitRoot:function(e,t){this.data=m([e,t]);this.data.height=e.height+1;this.data.leaf=false;a(this.data,this.toBBox)},_chooseSplitIndex:function(e,t,o){var r,i,n,a,s,p,u,g;p=u=Infinity;for(r=t;r<=o-t;r++){i=l(e,0,r,this.toBBox);n=l(e,r,o,this.toBBox);a=f(i,n);s=c(i)+c(n);if(a<p){p=a;g=r;u=s<u?s:u}else if(a===p){if(s<u){u=s;g=r}}}return g},_chooseSplitAxis:function(e,t,o){var r=e.leaf?this.compareMinX:p,i=e.leaf?this.compareMinY:u,n=this._allDistMargin(e,t,o,r),a=this._allDistMargin(e,t,o,i);if(n<a)e.children.sort(r)},_allDistMargin:function(e,t,o,r){e.children.sort(r);var i=this.toBBox,n=l(e,0,t,i),a=l(e,o-t,o,i),p=g(n)+g(a),u,c;for(u=t;u<o-t;u++){c=e.children[u];s(n,e.leaf?i(c):c);p+=g(n)}for(u=o-t-1;u>=t;u--){c=e.children[u];s(a,e.leaf?i(c):c);p+=g(a)}return p},_adjustParentBBoxes:function(e,t,o){for(var r=o;r>=0;r--){s(t[r],e)}},_condense:function(e){for(var t=e.length-1,o;t>=0;t--){if(e[t].children.length===0){if(t>0){o=e[t-1].children;o.splice(o.indexOf(e[t]),1)}else this.clear()}else a(e[t],this.toBBox)}},_initFormat:function(e){var t=["return a"," - b",";"];this.compareMinX=new Function("a","b",t.join(e[0]));this.compareMinY=new Function("a","b",t.join(e[1]));this.toBBox=new Function("a","return {minX: a"+e[0]+", minY: a"+e[1]+", maxX: a"+e[2]+", maxY: a"+e[3]+"};")}};function n(e,t,o){if(!o)return t.indexOf(e);for(var r=0;r<t.length;r++){if(o(e,t[r]))return r}return-1}function a(e,t){l(e,0,e.children.length,t,e)}function l(e,t,o,r,i){if(!i)i=m(null);i.minX=Infinity;i.minY=Infinity;i.maxX=-Infinity;i.maxY=-Infinity;for(var n=t,a;n<o;n++){a=e.children[n];s(i,e.leaf?r(a):a)}return i}function s(e,t){e.minX=Math.min(e.minX,t.minX);e.minY=Math.min(e.minY,t.minY);e.maxX=Math.max(e.maxX,t.maxX);e.maxY=Math.max(e.maxY,t.maxY);return e}function p(e,t){return e.minX-t.minX}function u(e,t){return e.minY-t.minY}function c(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function g(e){return e.maxX-e.minX+(e.maxY-e.minY)}function h(e,t){return(Math.max(t.maxX,e.maxX)-Math.min(t.minX,e.minX))*(Math.max(t.maxY,e.maxY)-Math.min(t.minY,e.minY))}function f(e,t){var o=Math.max(e.minX,t.minX),r=Math.max(e.minY,t.minY),i=Math.min(e.maxX,t.maxX),n=Math.min(e.maxY,t.maxY);return Math.max(0,i-o)*Math.max(0,n-r)}function d(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function y(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function m(e){return{children:e,height:1,leaf:true,minX:Infinity,minY:Infinity,maxX:-Infinity,maxY:-Infinity}}function v(e,t,o,i,n){var a=[t,o],l;while(a.length){o=a.pop();t=a.pop();if(o-t<=i)continue;l=t+Math.ceil((o-t)/i/2)*i;r(e,l,t,o,n);a.push(t,l,l,o)}}},{quickselect:1}]},{},[2])(2)});ol.ext.rbush=t.exports})();goog.provide("ol.structs.RBush");goog.require("ol");goog.require("ol.ext.rbush");goog.require("ol.extent");goog.require("ol.obj");ol.structs.RBush=function(e){this.rbush_=ol.ext.rbush(e);this.items_={}};ol.structs.RBush.prototype.insert=function(e,t){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o);this.items_[ol.getUid(t)]=o};ol.structs.RBush.prototype.load=function(e,t){var o=new Array(t.length);for(var r=0,i=t.length;r<i;r++){var n=e[r];var a=t[r];var l={minX:n[0],minY:n[1],maxX:n[2],maxY:n[3],value:a};o[r]=l;this.items_[ol.getUid(a)]=l}this.rbush_.load(o)};ol.structs.RBush.prototype.remove=function(e){var t=ol.getUid(e);var o=this.items_[t];delete this.items_[t];return this.rbush_.remove(o)!==null};ol.structs.RBush.prototype.update=function(e,t){var o=this.items_[ol.getUid(t)];var r=[o.minX,o.minY,o.maxX,o.maxY];if(!ol.extent.equals(r,e)){this.remove(t);this.insert(e,t)}};ol.structs.RBush.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(e){return e.value})};ol.structs.RBush.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]};var o=this.rbush_.search(t);return o.map(function(e){return e.value})};ol.structs.RBush.prototype.forEach=function(e,t){return this.forEach_(this.getAll(),e,t)};ol.structs.RBush.prototype.forEachInExtent=function(e,t,o){return this.forEach_(this.getInExtent(e),t,o)};ol.structs.RBush.prototype.forEach_=function(e,t,o){var r;for(var i=0,n=e.length;i<n;i++){r=t.call(o,e[i]);if(r){return r}}return r};ol.structs.RBush.prototype.isEmpty=function(){return ol.obj.isEmpty(this.items_)};ol.structs.RBush.prototype.clear=function(){this.rbush_.clear();this.items_={}};ol.structs.RBush.prototype.getExtent=function(e){var t=this.rbush_.data;return[t.minX,t.minY,t.maxX,t.maxY]};goog.provide("ol.render.webgl.PolygonReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.transform");goog.require("ol.render.webgl.polygonreplay.defaultshader");goog.require("ol.render.webgl.LineStringReplay");goog.require("ol.render.webgl.Replay");goog.require("ol.render.webgl");goog.require("ol.style.Stroke");goog.require("ol.structs.LinkedList");goog.require("ol.structs.RBush");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");if(ol.ENABLE_WEBGL){ol.render.webgl.PolygonReplay=function(e,t){ol.render.webgl.Replay.call(this,e,t);this.lineStringReplay=new ol.render.webgl.LineStringReplay(e,t);this.defaultLocations_=null;this.styles_=[];this.styleIndices_=[];this.state_={fillColor:null,changed:false}};ol.inherits(ol.render.webgl.PolygonReplay,ol.render.webgl.Replay);ol.render.webgl.PolygonReplay.prototype.drawCoordinates_=function(e,t,o){var r=new ol.structs.LinkedList;var i=new ol.structs.RBush;var n=this.processFlatCoordinates_(e,o,r,i,true);if(t.length){var a,l;var s=[];for(a=0,l=t.length;a<l;++a){var p={list:new ol.structs.LinkedList,maxX:undefined};s.push(p);p.maxX=this.processFlatCoordinates_(t[a],o,p.list,i,false)}s.sort(function(e,t){return t.maxX-e.maxX});for(a=0;a<s.length;++a){this.bridgeHole_(s[a].list,s[a].maxX,r,n,i)}}this.classifyPoints_(r,i,false);this.triangulate_(r,i)};ol.render.webgl.PolygonReplay.prototype.processFlatCoordinates_=function(e,t,o,r,i){var n=ol.geom.flat.orient.linearRingIsClockwise(e,0,e.length,t);var a,l,s;var p=this.vertices.length/2;var u;var c;var g;var h=[];var f=[];if(i===n){u=this.createPoint_(e[0],e[1],p++);c=u;s=e[0];for(a=t,l=e.length;a<l;a+=t){g=this.createPoint_(e[a],e[a+1],p++);f.push(this.insertItem_(c,g,o));h.push([Math.min(c.x,g.x),Math.min(c.y,g.y),Math.max(c.x,g.x),Math.max(c.y,g.y)]);s=e[a]>s?e[a]:s;c=g}f.push(this.insertItem_(g,u,o));h.push([Math.min(c.x,g.x),Math.min(c.y,g.y),Math.max(c.x,g.x),Math.max(c.y,g.y)])}else{var d=e.length-t;u=this.createPoint_(e[d],e[d+1],p++);c=u;s=e[d];for(a=d-t,l=0;a>=l;a-=t){g=this.createPoint_(e[a],e[a+1],p++);f.push(this.insertItem_(c,g,o));h.push([Math.min(c.x,g.x),Math.min(c.y,g.y),Math.max(c.x,g.x),Math.max(c.y,g.y)]);s=e[a]>s?e[a]:s;c=g}f.push(this.insertItem_(g,u,o));h.push([Math.min(c.x,g.x),Math.min(c.y,g.y),Math.max(c.x,g.x),Math.max(c.y,g.y)])}r.load(h,f);return s};ol.render.webgl.PolygonReplay.prototype.classifyPoints_=function(e,t,o){var r=e.firstItem();var i=r;var n=e.nextItem();
var a=false;do{var l=o?ol.render.webgl.triangleIsCounterClockwise(n.p1.x,n.p1.y,i.p1.x,i.p1.y,i.p0.x,i.p0.y):ol.render.webgl.triangleIsCounterClockwise(i.p0.x,i.p0.y,i.p1.x,i.p1.y,n.p1.x,n.p1.y);if(l===undefined){this.removeItem_(i,n,e,t);a=true;if(n===r){r=e.getNextItem()}n=i;e.prevItem()}else if(i.p1.reflex!==l){i.p1.reflex=l;a=true}i=n;n=e.nextItem()}while(i!==r);return a};ol.render.webgl.PolygonReplay.prototype.bridgeHole_=function(e,t,o,r,i){this.classifyPoints_(e,i,true);var n=e.firstItem();while(n.p1.x!==t){n=e.nextItem()}var a=n.p1;var l={x:r,y:a.y,i:-1};var s=Infinity;var p,u,c;var g;var h=this.getIntersections_({p0:a,p1:l},i,true);for(p=0,u=h.length;p<u;++p){var f=h[p];if(f.p0.reflex===undefined){var d=this.calculateIntersection_(a,l,f.p0,f.p1,true);var y=Math.abs(a.x-d[0]);if(y<s){s=y;g={x:d[0],y:d[1],i:-1};n=f}}}if(s===Infinity){return}c=n.p1;if(s>0){var m=this.getPointsInTriangle_(a,g,n.p1,i);if(m.length){var v=Infinity;for(p=0,u=m.length;p<u;++p){var _=m[p];var x=Math.atan2(a.y-_.y,l.x-_.x);if(x<v||x===v&&_.x<c.x){v=x;c=_}}}}n=o.firstItem();while(n.p1!==c){n=o.nextItem()}var S={x:a.x,y:a.y,i:a.i,reflex:undefined};var P={x:n.p1.x,y:n.p1.y,i:n.p1.i,reflex:undefined};e.getNextItem().p0=S;this.insertItem_(a,n.p1,e,i);this.insertItem_(P,S,e,i);n.p1=P;e.setFirstItem();o.concat(e)};ol.render.webgl.PolygonReplay.prototype.triangulate_=function(e,t){var o=false;var r=this.isSimple_(e,t);while(e.getLength()>3){if(r){if(!this.clipEars_(e,t,r,o)){if(!this.classifyPoints_(e,t,o)){if(!this.resolveLocalSelfIntersections_(e,t,true)){break}}}}else{if(!this.clipEars_(e,t,r,o)){if(!this.classifyPoints_(e,t,o)){if(!this.resolveLocalSelfIntersections_(e,t)){r=this.isSimple_(e,t);if(!r){this.splitPolygon_(e,t);break}else{o=!this.isClockwise_(e);this.classifyPoints_(e,t,o)}}}}}}if(e.getLength()===3){var i=this.indices.length;this.indices[i++]=e.getPrevItem().p0.i;this.indices[i++]=e.getCurrItem().p0.i;this.indices[i++]=e.getNextItem().p0.i}};ol.render.webgl.PolygonReplay.prototype.clipEars_=function(e,t,o,r){var i=this.indices.length;var n=e.firstItem();var a=e.getPrevItem();var l=n;var s=e.nextItem();var p=e.getNextItem();var u,c,g;var h=false;do{u=l.p0;c=l.p1;g=s.p1;if(c.reflex===false){var f=r?this.diagonalIsInside_(p.p1,g,c,u,a.p0):this.diagonalIsInside_(a.p0,u,c,g,p.p1);if((o||this.getIntersections_({p0:u,p1:g},t).length===0)&&f&&this.getPointsInTriangle_(u,c,g,t,true).length===0){if(o||u.reflex===false||g.reflex===false||ol.geom.flat.orient.linearRingIsClockwise([a.p0.x,a.p0.y,u.x,u.y,c.x,c.y,g.x,g.y,p.p1.x,p.p1.y],0,10,2)===!r){this.indices[i++]=u.i;this.indices[i++]=c.i;this.indices[i++]=g.i;this.removeItem_(l,s,e,t);if(s===n){n=p}h=true}}}a=e.getPrevItem();l=e.getCurrItem();s=e.nextItem();p=e.getNextItem()}while(l!==n&&e.getLength()>3);return h};ol.render.webgl.PolygonReplay.prototype.resolveLocalSelfIntersections_=function(e,t,o){var r=e.firstItem();e.nextItem();var i=r;var n=e.nextItem();var a=false;do{var l=this.calculateIntersection_(i.p0,i.p1,n.p0,n.p1,o);if(l){var s=false;var p=this.vertices.length;var u=this.indices.length;var c=p/2;var g=e.prevItem();e.removeItem();t.remove(g);s=g===r;var h;if(o){if(l[0]===i.p0.x&&l[1]===i.p0.y){e.prevItem();h=i.p0;n.p0=h;t.remove(i);s=s||i===r}else{h=n.p1;i.p1=h;t.remove(n);s=s||n===r}e.removeItem()}else{h=this.createPoint_(l[0],l[1],c);i.p1=h;n.p0=h;t.update([Math.min(i.p0.x,i.p1.x),Math.min(i.p0.y,i.p1.y),Math.max(i.p0.x,i.p1.x),Math.max(i.p0.y,i.p1.y)],i);t.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n)}this.indices[u++]=g.p0.i;this.indices[u++]=g.p1.i;this.indices[u++]=h.i;a=true;if(s){break}}i=e.getPrevItem();n=e.nextItem()}while(i!==r);return a};ol.render.webgl.PolygonReplay.prototype.isSimple_=function(e,t){var o=e.firstItem();var r=o;do{if(this.getIntersections_(r,t).length){return false}r=e.nextItem()}while(r!==o);return true};ol.render.webgl.PolygonReplay.prototype.isClockwise_=function(e){var t=e.getLength()*2;var o=new Array(t);var r=e.firstItem();var i=r;var n=0;do{o[n++]=i.p0.x;o[n++]=i.p0.y;i=e.nextItem()}while(i!==r);return ol.geom.flat.orient.linearRingIsClockwise(o,0,t,2)};ol.render.webgl.PolygonReplay.prototype.splitPolygon_=function(e,t){var o=e.firstItem();var r=o;do{var i=this.getIntersections_(r,t);if(i.length){var n=i[0];var a=this.vertices.length/2;var l=this.calculateIntersection_(r.p0,r.p1,n.p0,n.p1);var s=this.createPoint_(l[0],l[1],a);var p=new ol.structs.LinkedList;var u=new ol.structs.RBush;this.insertItem_(s,r.p1,p,u);r.p1=s;t.update([Math.min(r.p0.x,s.x),Math.min(r.p0.y,s.y),Math.max(r.p0.x,s.x),Math.max(r.p0.y,s.y)],r);var c=e.nextItem();while(c!==n){this.insertItem_(c.p0,c.p1,p,u);t.remove(c);e.removeItem();c=e.getCurrItem()}this.insertItem_(n.p0,s,p,u);n.p0=s;t.update([Math.min(n.p1.x,s.x),Math.min(n.p1.y,s.y),Math.max(n.p1.x,s.x),Math.max(n.p1.y,s.y)],n);this.classifyPoints_(e,t,false);this.triangulate_(e,t);this.classifyPoints_(p,u,false);this.triangulate_(p,u);break}r=e.nextItem()}while(r!==o)};ol.render.webgl.PolygonReplay.prototype.createPoint_=function(e,t,o){var r=this.vertices.length;this.vertices[r++]=e;this.vertices[r++]=t;var i={x:e,y:t,i:o,reflex:undefined};return i};ol.render.webgl.PolygonReplay.prototype.insertItem_=function(e,t,o,r){var i={p0:e,p1:t};o.insertItem(i);if(r){r.insert([Math.min(e.x,t.x),Math.min(e.y,t.y),Math.max(e.x,t.x),Math.max(e.y,t.y)],i)}return i};ol.render.webgl.PolygonReplay.prototype.removeItem_=function(e,t,o,r){if(o.getCurrItem()===t){o.removeItem();e.p1=t.p1;r.remove(t);r.update([Math.min(e.p0.x,e.p1.x),Math.min(e.p0.y,e.p1.y),Math.max(e.p0.x,e.p1.x),Math.max(e.p0.y,e.p1.y)],e)}};ol.render.webgl.PolygonReplay.prototype.getPointsInTriangle_=function(e,t,o,r,i){var n,a,l,s;var p=[];var u=r.getInExtent([Math.min(e.x,t.x,o.x),Math.min(e.y,t.y,o.y),Math.max(e.x,t.x,o.x),Math.max(e.y,t.y,o.y)]);for(n=0,a=u.length;n<a;++n){for(l in u[n]){s=u[n][l];if(typeof s==="object"&&(!i||s.reflex)){if((s.x!==e.x||s.y!==e.y)&&(s.x!==t.x||s.y!==t.y)&&(s.x!==o.x||s.y!==o.y)&&p.indexOf(s)===-1&&ol.geom.flat.contains.linearRingContainsXY([e.x,e.y,t.x,t.y,o.x,o.y],0,6,2,s.x,s.y)){p.push(s)}}}}return p};ol.render.webgl.PolygonReplay.prototype.getIntersections_=function(e,t,o){var r=e.p0;var i=e.p1;var n=t.getInExtent([Math.min(r.x,i.x),Math.min(r.y,i.y),Math.max(r.x,i.x),Math.max(r.y,i.y)]);var a=[];var l,s;for(l=0,s=n.length;l<s;++l){var p=n[l];if(e!==p&&(o||p.p0!==i||p.p1!==r)&&this.calculateIntersection_(r,i,p.p0,p.p1,o)){a.push(p)}}return a};ol.render.webgl.PolygonReplay.prototype.calculateIntersection_=function(e,t,o,r,i){var n=(r.y-o.y)*(t.x-e.x)-(r.x-o.x)*(t.y-e.y);if(n!==0){var a=((r.x-o.x)*(e.y-o.y)-(r.y-o.y)*(e.x-o.x))/n;var l=((t.x-e.x)*(e.y-o.y)-(t.y-e.y)*(e.x-o.x))/n;if(!i&&a>ol.render.webgl.EPSILON&&a<1-ol.render.webgl.EPSILON&&l>ol.render.webgl.EPSILON&&l<1-ol.render.webgl.EPSILON||i&&a>=0&&a<=1&&l>=0&&l<=1){return[e.x+a*(t.x-e.x),e.y+a*(t.y-e.y)]}}return undefined};ol.render.webgl.PolygonReplay.prototype.diagonalIsInside_=function(e,t,o,r,i){if(t.reflex===undefined||r.reflex===undefined){return false}var n=(o.x-r.x)*(t.y-r.y)>(o.y-r.y)*(t.x-r.x);var a=(i.x-r.x)*(t.y-r.y)<(i.y-r.y)*(t.x-r.x);var l=(e.x-t.x)*(r.y-t.y)>(e.y-t.y)*(r.x-t.x);var s=(o.x-t.x)*(r.y-t.y)<(o.y-t.y)*(r.x-t.x);var p=r.reflex?a||n:a&&n;var u=t.reflex?s||l:s&&l;return p&&u};ol.render.webgl.PolygonReplay.prototype.drawMultiPolygon=function(e,t){var o=e.getPolygons();var r=e.getStride();var i=this.indices.length;var n=this.lineStringReplay.getCurrentIndex();var a,l,s,p;for(a=0,l=o.length;a<l;++a){var u=o[a].getLinearRings();if(u.length>0){var c=u[0].getFlatCoordinates();c=ol.geom.flat.transform.translate(c,0,c.length,r,-this.origin[0],-this.origin[1]);var g=[];var h;for(s=1,p=u.length;s<p;++s){h=u[s].getFlatCoordinates();h=ol.geom.flat.transform.translate(h,0,h.length,r,-this.origin[0],-this.origin[1]);g.push(h)}this.lineStringReplay.drawPolygonCoordinates(c,g,r);this.drawCoordinates_(c,g,r)}}if(this.indices.length>i){this.startIndices.push(i);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(i);this.state_.changed=false}}if(this.lineStringReplay.getCurrentIndex()>n){this.lineStringReplay.setPolygonStyle(t,n)}};ol.render.webgl.PolygonReplay.prototype.drawPolygon=function(e,t){var o=e.getLinearRings();var r=e.getStride();if(o.length>0){this.startIndices.push(this.indices.length);this.startIndicesFeature.push(t);if(this.state_.changed){this.styleIndices_.push(this.indices.length);this.state_.changed=false}this.lineStringReplay.setPolygonStyle(t);var i=o[0].getFlatCoordinates();i=ol.geom.flat.transform.translate(i,0,i.length,r,-this.origin[0],-this.origin[1]);var n=[];var a,l,s;for(a=1,l=o.length;a<l;++a){s=o[a].getFlatCoordinates();s=ol.geom.flat.transform.translate(s,0,s.length,r,-this.origin[0],-this.origin[1]);n.push(s)}this.lineStringReplay.drawPolygonCoordinates(i,n,r);this.drawCoordinates_(i,n,r)}};ol.render.webgl.PolygonReplay.prototype.finish=function(e){this.verticesBuffer=new ol.webgl.Buffer(this.vertices);this.indicesBuffer=new ol.webgl.Buffer(this.indices);this.startIndices.push(this.indices.length);this.lineStringReplay.finish(e);if(this.styleIndices_.length===0&&this.styles_.length>0){this.styles_=[]}this.vertices=null;this.indices=null};ol.render.webgl.PolygonReplay.prototype.getDeleteResourcesFunction=function(e){var t=this.verticesBuffer;var o=this.indicesBuffer;var r=this.lineStringReplay.getDeleteResourcesFunction(e);return function(){e.deleteBuffer(t);e.deleteBuffer(o);r()}};ol.render.webgl.PolygonReplay.prototype.setUpProgram=function(e,t,o,r){var i,n;i=ol.render.webgl.polygonreplay.defaultshader.fragment;n=ol.render.webgl.polygonreplay.defaultshader.vertex;var a=t.getProgram(i,n);var l;if(!this.defaultLocations_){l=new ol.render.webgl.polygonreplay.defaultshader.Locations(e,a);this.defaultLocations_=l}else{l=this.defaultLocations_}t.useProgram(a);e.enableVertexAttribArray(l.a_position);e.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,false,8,0);return l};ol.render.webgl.PolygonReplay.prototype.shutDownProgram=function(e,t){e.disableVertexAttribArray(t.a_position)};ol.render.webgl.PolygonReplay.prototype.drawReplay=function(e,t,o,r){var i=e.getParameter(e.DEPTH_FUNC);var n=e.getParameter(e.DEPTH_WRITEMASK);if(!r){e.enable(e.DEPTH_TEST);e.depthMask(true);e.depthFunc(e.NOTEQUAL)}if(!ol.obj.isEmpty(o)){this.drawReplaySkipping_(e,t,o)}else{var a,l,s,p;s=this.startIndices[this.startIndices.length-1];for(a=this.styleIndices_.length-1;a>=0;--a){l=this.styleIndices_[a];p=this.styles_[a];this.setFillStyle_(e,p);this.drawElements(e,t,l,s);s=l}}if(!r){e.disable(e.DEPTH_TEST);e.clear(e.DEPTH_BUFFER_BIT);e.depthMask(n);e.depthFunc(i)}};ol.render.webgl.PolygonReplay.prototype.drawHitDetectionReplayOneByOne=function(e,t,o,r,i){var n,a,l,s,p,u,c,g;g=this.startIndices.length-2;l=this.startIndices[g+1];for(n=this.styleIndices_.length-1;n>=0;--n){s=this.styles_[n];this.setFillStyle_(e,s);p=this.styleIndices_[n];while(g>=0&&this.startIndices[g]>=p){a=this.startIndices[g];u=this.startIndicesFeature[g];c=ol.getUid(u).toString();if(o[c]===undefined&&u.getGeometry()&&(i===undefined||ol.extent.intersects(i,u.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);this.drawElements(e,t,a,l);var h=r(u);if(h){return h}}g--;l=a}}return undefined};ol.render.webgl.PolygonReplay.prototype.drawReplaySkipping_=function(e,t,o){var r,i,n,a,l,s,p,u,c;u=this.startIndices.length-2;n=i=this.startIndices[u+1];for(r=this.styleIndices_.length-1;r>=0;--r){a=this.styles_[r];this.setFillStyle_(e,a);l=this.styleIndices_[r];while(u>=0&&this.startIndices[u]>=l){c=this.startIndices[u];s=this.startIndicesFeature[u];p=ol.getUid(s).toString();if(o[p]){if(i!==n){this.drawElements(e,t,i,n);e.clear(e.DEPTH_BUFFER_BIT)}n=c}u--;i=c}if(i!==n){this.drawElements(e,t,i,n);e.clear(e.DEPTH_BUFFER_BIT)}i=n=l}};ol.render.webgl.PolygonReplay.prototype.setFillStyle_=function(e,t){e.uniform4fv(this.defaultLocations_.u_color,t)};ol.render.webgl.PolygonReplay.prototype.setFillStrokeStyle=function(e,t){var o=e?e.getColor():[0,0,0,0];if(!(o instanceof CanvasGradient)&&!(o instanceof CanvasPattern)){o=ol.color.asArray(o).map(function(e,t){return t!=3?e/255:e})||ol.render.webgl.defaultFillStyle}else{o=ol.render.webgl.defaultFillStyle}if(!this.state_.fillColor||!ol.array.equals(o,this.state_.fillColor)){this.state_.fillColor=o;this.state_.changed=true;this.styles_.push(o)}if(t){this.lineStringReplay.setFillStrokeStyle(null,t)}else{var r=new ol.style.Stroke({color:[0,0,0,0],lineWidth:0});this.lineStringReplay.setFillStrokeStyle(null,r)}}}goog.provide("ol.render.webgl.TextReplay");goog.require("ol");if(ol.ENABLE_WEBGL){ol.render.webgl.TextReplay=function(e,t){};ol.render.webgl.TextReplay.prototype.setTextStyle=function(e){};ol.render.webgl.TextReplay.prototype.replay=function(e,t,o,r,i,n,a,l,s,p,u){return undefined};ol.render.webgl.TextReplay.prototype.drawText=function(e,t,o,r,i,n){};ol.render.webgl.TextReplay.prototype.finish=function(e){};ol.render.webgl.TextReplay.prototype.getDeleteResourcesFunction=function(e){return ol.nullFunction}}goog.provide("ol.render.webgl.ReplayGroup");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.render.replay");goog.require("ol.render.ReplayGroup");goog.require("ol.render.webgl.CircleReplay");goog.require("ol.render.webgl.ImageReplay");goog.require("ol.render.webgl.LineStringReplay");goog.require("ol.render.webgl.PolygonReplay");goog.require("ol.render.webgl.TextReplay");if(ol.ENABLE_WEBGL){ol.render.webgl.ReplayGroup=function(e,t,o){ol.render.ReplayGroup.call(this);this.maxExtent_=t;this.tolerance_=e;this.renderBuffer_=o;this.replaysByZIndex_={}};ol.inherits(ol.render.webgl.ReplayGroup,ol.render.ReplayGroup);ol.render.webgl.ReplayGroup.prototype.getDeleteResourcesFunction=function(e){var t=[];var o;for(o in this.replaysByZIndex_){var r=this.replaysByZIndex_[o];var i;for(i in r){t.push(r[i].getDeleteResourcesFunction(e))}}return function(){var e=t.length;var o;for(var r=0;r<e;r++){o=t[r].apply(this,arguments)}return o}};ol.render.webgl.ReplayGroup.prototype.finish=function(e){var t;for(t in this.replaysByZIndex_){var o=this.replaysByZIndex_[t];var r;for(r in o){o[r].finish(e)}}};ol.render.webgl.ReplayGroup.prototype.getReplay=function(e,t){var o=e!==undefined?e.toString():"0";var r=this.replaysByZIndex_[o];if(r===undefined){r={};this.replaysByZIndex_[o]=r}var i=r[t];if(i===undefined){var n=ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_[t];i=new n(this.tolerance_,this.maxExtent_);r[t]=i}return i};ol.render.webgl.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};ol.render.webgl.ReplayGroup.prototype.replay=function(e,t,o,r,i,n,a,l){var s=Object.keys(this.replaysByZIndex_).map(Number);s.sort(ol.array.numberSafeCompareFunction);var p,u,c,g,h,f;for(p=0,u=s.length;p<u;++p){h=this.replaysByZIndex_[s[p].toString()];for(c=0,g=ol.render.replay.ORDER.length;c<g;++c){f=h[ol.render.replay.ORDER[c]];if(f!==undefined){f.replay(e,t,o,r,i,n,a,l,undefined,false)}}}};ol.render.webgl.ReplayGroup.prototype.replayHitDetection_=function(e,t,o,r,i,n,a,l,s,p,u){var c=Object.keys(this.replaysByZIndex_).map(Number);c.sort(function(e,t){return t-e});var g,h,f,d,y,m;for(g=0,h=c.length;g<h;++g){d=this.replaysByZIndex_[c[g].toString()];for(f=ol.render.replay.ORDER.length-1;f>=0;--f){y=d[ol.render.replay.ORDER[f]];if(y!==undefined){m=y.replay(e,t,o,r,i,n,a,l,s,p,u);if(m){return m}}}}return undefined};ol.render.webgl.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n,a,l,s,p){var u=t.getGL();u.bindFramebuffer(u.FRAMEBUFFER,t.getHitDetectionFramebuffer());var c;if(this.renderBuffer_!==undefined){c=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(e),r*this.renderBuffer_)}return this.replayHitDetection_(t,e,r,i,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,a,l,s,function(e){var t=new Uint8Array(4);u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,t);if(t[3]>0){var o=p(e);if(o){return o}}},true,c)};ol.render.webgl.ReplayGroup.prototype.hasFeatureAtCoordinate=function(e,t,o,r,i,n,a,l,s){var p=t.getGL();p.bindFramebuffer(p.FRAMEBUFFER,t.getHitDetectionFramebuffer());var u=this.replayHitDetection_(t,e,r,i,ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_,a,l,s,function(e){var t=new Uint8Array(4);p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,t);return t[3]>0},false);return u!==undefined};ol.render.webgl.ReplayGroup.HIT_DETECTION_SIZE_=[1,1];ol.render.webgl.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.webgl.CircleReplay,Image:ol.render.webgl.ImageReplay,LineString:ol.render.webgl.LineStringReplay,Polygon:ol.render.webgl.PolygonReplay,Text:ol.render.webgl.TextReplay}}goog.provide("ol.render.webgl.Immediate");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.render.ReplayType");goog.require("ol.render.VectorContext");goog.require("ol.render.webgl.ReplayGroup");if(ol.ENABLE_WEBGL){ol.render.webgl.Immediate=function(e,t,o,r,i,n,a){ol.render.VectorContext.call(this);this.context_=e;this.center_=t;this.extent_=n;this.pixelRatio_=a;this.size_=i;this.rotation_=r;this.resolution_=o;this.imageStyle_=null;this.fillStyle_=null;this.strokeStyle_=null};ol.inherits(ol.render.webgl.Immediate,ol.render.VectorContext);ol.render.webgl.Immediate.prototype.setStyle=function(e){this.setFillStrokeStyle(e.getFill(),e.getStroke());this.setImageStyle(e.getImage())};ol.render.webgl.Immediate.prototype.drawGeometry=function(e){var t=e.getType();switch(t){case ol.geom.GeometryType.POINT:this.drawPoint(e,null);break;case ol.geom.GeometryType.LINE_STRING:this.drawLineString(e,null);break;case ol.geom.GeometryType.POLYGON:this.drawPolygon(e,null);break;case ol.geom.GeometryType.MULTI_POINT:this.drawMultiPoint(e,null);break;case ol.geom.GeometryType.MULTI_LINE_STRING:this.drawMultiLineString(e,null);break;case ol.geom.GeometryType.MULTI_POLYGON:this.drawMultiPolygon(e,null);break;case ol.geom.GeometryType.GEOMETRY_COLLECTION:this.drawGeometryCollection(e,null);break;case ol.geom.GeometryType.CIRCLE:this.drawCircle(e,null);break;default:}};ol.render.webgl.Immediate.prototype.drawFeature=function(e,t){var o=t.getGeometryFunction()(e);if(!o||!ol.extent.intersects(this.extent_,o.getExtent())){return}this.setStyle(t);this.drawGeometry(o)};ol.render.webgl.Immediate.prototype.drawGeometryCollection=function(e,t){var o=e.getGeometriesArray();var r,i;for(r=0,i=o.length;r<i;++r){this.drawGeometry(o[r])}};ol.render.webgl.Immediate.prototype.drawPoint=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.IMAGE);i.setImageStyle(this.imageStyle_);i.drawPoint(e,t);i.finish(o);var n=1;var a={};var l;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,a,l,s);i.getDeleteResourcesFunction(o)()};ol.render.webgl.Immediate.prototype.drawMultiPoint=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.IMAGE);i.setImageStyle(this.imageStyle_);i.drawMultiPoint(e,t);i.finish(o);var n=1;var a={};var l;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,a,l,s);i.getDeleteResourcesFunction(o)()};ol.render.webgl.Immediate.prototype.drawLineString=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_);i.drawLineString(e,t);i.finish(o);var n=1;var a={};var l;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,a,l,s);i.getDeleteResourcesFunction(o)()};ol.render.webgl.Immediate.prototype.drawMultiLineString=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.LINE_STRING);i.setFillStrokeStyle(null,this.strokeStyle_);i.drawMultiLineString(e,t);i.finish(o);var n=1;var a={};var l;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,a,l,s);i.getDeleteResourcesFunction(o)()};ol.render.webgl.Immediate.prototype.drawPolygon=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);i.drawPolygon(e,t);i.finish(o);var n=1;var a={};var l;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,a,l,s);i.getDeleteResourcesFunction(o)()};ol.render.webgl.Immediate.prototype.drawMultiPolygon=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.POLYGON);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);i.drawMultiPolygon(e,t);i.finish(o);var n=1;var a={};var l;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,a,l,s);i.getDeleteResourcesFunction(o)()};ol.render.webgl.Immediate.prototype.drawCircle=function(e,t){var o=this.context_;var r=new ol.render.webgl.ReplayGroup(1,this.extent_);var i=r.getReplay(0,ol.render.ReplayType.CIRCLE);i.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_);i.drawCircle(e,t);i.finish(o);var n=1;var a={};var l;var s=false;i.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,n,a,l,s);i.getDeleteResourcesFunction(o)()};ol.render.webgl.Immediate.prototype.setImageStyle=function(e){this.imageStyle_=e};ol.render.webgl.Immediate.prototype.setFillStrokeStyle=function(e,t){this.fillStyle_=e;this.strokeStyle_=t}}goog.provide("ol.structs.LRUCache");goog.require("ol.asserts");ol.structs.LRUCache=function(){this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null};ol.structs.LRUCache.prototype.clear=function(){this.count_=0;this.entries_={};this.oldest_=null;this.newest_=null};ol.structs.LRUCache.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)};ol.structs.LRUCache.prototype.forEach=function(e,t){var o=this.oldest_;while(o){e.call(t,o.value_,o.key_,this);o=o.newer}};ol.structs.LRUCache.prototype.get=function(e){var t=this.entries_[e];ol.asserts.assert(t!==undefined,15);if(t===this.newest_){return t.value_}else if(t===this.oldest_){this.oldest_=this.oldest_.newer;this.oldest_.older=null}else{t.newer.older=t.older;t.older.newer=t.newer}t.newer=null;t.older=this.newest_;this.newest_.newer=t;this.newest_=t;return t.value_};ol.structs.LRUCache.prototype.getCount=function(){return this.count_};ol.structs.LRUCache.prototype.getKeys=function(){var e=new Array(this.count_);var t=0;var o;for(o=this.newest_;o;o=o.older){e[t++]=o.key_}return e};ol.structs.LRUCache.prototype.getValues=function(){var e=new Array(this.count_);var t=0;var o;for(o=this.newest_;o;o=o.older){e[t++]=o.value_}return e};ol.structs.LRUCache.prototype.peekLast=function(){return this.oldest_.value_};ol.structs.LRUCache.prototype.peekLastKey=function(){return this.oldest_.key_};ol.structs.LRUCache.prototype.pop=function(){var e=this.oldest_;delete this.entries_[e.key_];if(e.newer){e.newer.older=null}this.oldest_=e.newer;if(!this.oldest_){this.newest_=null}--this.count_;return e.value_};ol.structs.LRUCache.prototype.replace=function(e,t){this.get(e);this.entries_[e].value_=t};ol.structs.LRUCache.prototype.set=function(e,t){ol.asserts.assert(!(e in this.entries_),16);var o={key_:e,newer:null,older:this.newest_,value_:t};if(!this.newest_){this.oldest_=o}else{this.newest_.newer=o}this.newest_=o;this.entries_[e]=o;++this.count_};goog.provide("ol.renderer.webgl.Map");goog.require("ol");goog.require("ol.array");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.layer.Layer");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.Map");goog.require("ol.renderer.Type");goog.require("ol.source.State");goog.require("ol.structs.LRUCache");goog.require("ol.structs.PriorityQueue");goog.require("ol.webgl");goog.require("ol.webgl.Context");goog.require("ol.webgl.ContextEventType");if(ol.ENABLE_WEBGL){ol.renderer.webgl.Map=function(e,t){ol.renderer.Map.call(this,e,t);this.canvas_=document.createElement("CANVAS");this.canvas_.style.width="100%";this.canvas_.style.height="100%";this.canvas_.style.display="block";this.canvas_.className=ol.css.CLASS_UNSELECTABLE;e.insertBefore(this.canvas_,e.childNodes[0]||null);this.clipTileCanvasWidth_=0;this.clipTileCanvasHeight_=0;this.clipTileContext_=ol.dom.createCanvasContext2D();this.renderedVisible_=true;this.gl_=ol.webgl.getContext(this.canvas_,{antialias:true,depth:true,failIfMajorPerformanceCaveat:true,preserveDrawingBuffer:false,stencil:true});this.context_=new ol.webgl.Context(this.canvas_,this.gl_);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.LOST,this.handleWebGLContextLost,this);ol.events.listen(this.canvas_,ol.webgl.ContextEventType.RESTORED,this.handleWebGLContextRestored,this);this.textureCache_=new ol.structs.LRUCache;this.focus_=null;this.tileTextureQueue_=new ol.structs.PriorityQueue(function(e){var t=e[1];var o=e[2];var r=t[0]-this.focus_[0];var i=t[1]-this.focus_[1];return 65536*Math.log(o)+Math.sqrt(r*r+i*i)/o}.bind(this),function(e){return e[0].getKey()});this.loadNextTileTexture_=function(e,t){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var o=this.tileTextureQueue_.dequeue();var r=o[0];var i=o[3];var n=o[4];this.bindTileTexture(r,i,n,ol.webgl.LINEAR,ol.webgl.LINEAR)}return false}.bind(this);this.textureCacheFrameMarkerCount_=0;this.initializeGL_()};ol.inherits(ol.renderer.webgl.Map,ol.renderer.Map);ol.renderer.webgl.Map.prototype.bindTileTexture=function(e,t,o,r,i){var n=this.getGL();var a=e.getKey();if(this.textureCache_.containsKey(a)){var l=this.textureCache_.get(a);n.bindTexture(ol.webgl.TEXTURE_2D,l.texture);if(l.magFilter!=r){n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,r);l.magFilter=r}if(l.minFilter!=i){n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,i);l.minFilter=i}}else{var s=n.createTexture();n.bindTexture(ol.webgl.TEXTURE_2D,s);if(o>0){var p=this.clipTileContext_.canvas;var u=this.clipTileContext_;if(this.clipTileCanvasWidth_!==t[0]||this.clipTileCanvasHeight_!==t[1]){p.width=t[0];p.height=t[1];this.clipTileCanvasWidth_=t[0];this.clipTileCanvasHeight_=t[1]}else{u.clearRect(0,0,t[0],t[1])}u.drawImage(e.getImage(),o,o,t[0],t[1],0,0,t[0],t[1]);n.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,p)}else{n.texImage2D(ol.webgl.TEXTURE_2D,0,ol.webgl.RGBA,ol.webgl.RGBA,ol.webgl.UNSIGNED_BYTE,e.getImage())}n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MAG_FILTER,r);n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_MIN_FILTER,i);n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_S,ol.webgl.CLAMP_TO_EDGE);n.texParameteri(ol.webgl.TEXTURE_2D,ol.webgl.TEXTURE_WRAP_T,ol.webgl.CLAMP_TO_EDGE);this.textureCache_.set(a,{texture:s,magFilter:r,minFilter:i})}};ol.renderer.webgl.Map.prototype.dispatchComposeEvent_=function(e,t){var o=this.getMap();if(o.hasListener(e)){var r=this.context_;var i=t.extent;var n=t.size;var a=t.viewState;var l=t.pixelRatio;var s=a.resolution;var p=a.center;var u=a.rotation;var c=new ol.render.webgl.Immediate(r,p,s,u,n,i,l);var g=new ol.render.Event(e,c,t,null,r);o.dispatchEvent(g)}};ol.renderer.webgl.Map.prototype.disposeInternal=function(){var e=this.getGL();if(!e.isContextLost()){this.textureCache_.forEach(function(t){if(t){e.deleteTexture(t.texture)}})}this.context_.dispose();ol.renderer.Map.prototype.disposeInternal.call(this)};ol.renderer.webgl.Map.prototype.expireCache_=function(e,t){var o=this.getGL();var r;while(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){r=this.textureCache_.peekLast();if(!r){if(+this.textureCache_.peekLastKey()==t.index){break}else{--this.textureCacheFrameMarkerCount_}}else{o.deleteTexture(r.texture)}this.textureCache_.pop()}};ol.renderer.webgl.Map.prototype.getContext=function(){return this.context_};ol.renderer.webgl.Map.prototype.getGL=function(){return this.gl_};ol.renderer.webgl.Map.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_};ol.renderer.webgl.Map.prototype.getType=function(){return ol.renderer.Type.WEBGL};ol.renderer.webgl.Map.prototype.handleWebGLContextLost=function(e){e.preventDefault();this.textureCache_.clear();this.textureCacheFrameMarkerCount_=0;var t=this.getLayerRenderers();for(var o in t){var r=t[o];r.handleWebGLContextLost()}};ol.renderer.webgl.Map.prototype.handleWebGLContextRestored=function(){this.initializeGL_();this.getMap().render()};ol.renderer.webgl.Map.prototype.initializeGL_=function(){var e=this.gl_;e.activeTexture(ol.webgl.TEXTURE0);e.blendFuncSeparate(ol.webgl.SRC_ALPHA,ol.webgl.ONE_MINUS_SRC_ALPHA,ol.webgl.ONE,ol.webgl.ONE_MINUS_SRC_ALPHA);e.disable(ol.webgl.CULL_FACE);e.disable(ol.webgl.DEPTH_TEST);e.disable(ol.webgl.SCISSOR_TEST);e.disable(ol.webgl.STENCIL_TEST)};ol.renderer.webgl.Map.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())};ol.renderer.webgl.Map.prototype.renderFrame=function(e){var t=this.getContext();var o=this.getGL();if(o.isContextLost()){return false}if(!e){if(this.renderedVisible_){this.canvas_.style.display="none";this.renderedVisible_=false}return false}this.focus_=e.focus;this.textureCache_.set((-e.index).toString(),null);++this.textureCacheFrameMarkerCount_;this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e);var r=[];var i=e.layerStatesArray;ol.array.stableSort(i,ol.renderer.Map.sortByZIndex);var n=e.viewState.resolution;var a,l,s,p;for(a=0,l=i.length;a<l;++a){p=i[a];if(ol.layer.Layer.visibleAtResolution(p,n)&&p.sourceState==ol.source.State.READY){s=this.getLayerRenderer(p.layer);if(s.prepareFrame(e,p,t)){r.push(p)}}}var u=e.size[0]*e.pixelRatio;var c=e.size[1]*e.pixelRatio;if(this.canvas_.width!=u||this.canvas_.height!=c){this.canvas_.width=u;this.canvas_.height=c}o.bindFramebuffer(ol.webgl.FRAMEBUFFER,null);o.clearColor(0,0,0,0);o.clear(ol.webgl.COLOR_BUFFER_BIT);o.enable(ol.webgl.BLEND);o.viewport(0,0,this.canvas_.width,this.canvas_.height);for(a=0,l=r.length;a<l;++a){p=r[a];s=this.getLayerRenderer(p.layer);s.composeFrame(e,p,t)}if(!this.renderedVisible_){this.canvas_.style.display="";this.renderedVisible_=true}this.calculateMatrices2D(e);if(this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>ol.WEBGL_TEXTURE_CACHE_HIGH_WATER_MARK){e.postRenderFunctions.push(this.expireCache_.bind(this))}if(!this.tileTextureQueue_.isEmpty()){e.postRenderFunctions.push(this.loadNextTileTexture_);e.animate=true}this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e);this.scheduleRemoveUnusedLayerRenderers(e);this.scheduleExpireIconCache(e)};ol.renderer.webgl.Map.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n,a){var l;if(this.getGL().isContextLost()){return false}var s=t.viewState;var p=t.layerStatesArray;var u=p.length;var c;for(c=u-1;c>=0;--c){var g=p[c];var h=g.layer;if(ol.layer.Layer.visibleAtResolution(g,s.resolution)&&n.call(a,h)){var f=this.getLayerRenderer(h);l=f.forEachFeatureAtCoordinate(e,t,o,r,i);if(l){return l}}}return undefined};ol.renderer.webgl.Map.prototype.hasFeatureAtCoordinate=function(e,t,o,r,i){var n=false;if(this.getGL().isContextLost()){return false}var a=t.viewState;var l=t.layerStatesArray;var s=l.length;var p;for(p=s-1;p>=0;--p){var u=l[p];var c=u.layer;if(ol.layer.Layer.visibleAtResolution(u,a.resolution)&&r.call(i,c)){var g=this.getLayerRenderer(c);n=g.hasFeatureAtCoordinate(e,t);if(n){return true}}}return n};ol.renderer.webgl.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,i,n){if(this.getGL().isContextLost()){return false}var a=t.viewState;var l;var s=t.layerStatesArray;
var p=s.length;var u;for(u=p-1;u>=0;--u){var c=s[u];var g=c.layer;if(ol.layer.Layer.visibleAtResolution(c,a.resolution)&&i.call(r,g)){var h=this.getLayerRenderer(g);l=h.forEachLayerAtPixel(e,t,o,r);if(l){return l}}}return undefined}}goog.provide("ol.Map");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.MapBrowserEvent");goog.require("ol.MapBrowserEventHandler");goog.require("ol.MapBrowserEventType");goog.require("ol.MapEvent");goog.require("ol.MapEventType");goog.require("ol.MapProperty");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.TileQueue");goog.require("ol.View");goog.require("ol.ViewHint");goog.require("ol.asserts");goog.require("ol.control");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.has");goog.require("ol.interaction");goog.require("ol.layer.Group");goog.require("ol.obj");goog.require("ol.proj.common");goog.require("ol.renderer.Map");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.Map");goog.require("ol.renderer.webgl.Map");goog.require("ol.size");goog.require("ol.structs.PriorityQueue");goog.require("ol.transform");ol.OL_URL="https://openlayers.org/";ol.OL_LOGO_URL="data:image/png;base64,"+"iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBI"+"WXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAA"+"AhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszW"+"WMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvY"+"asvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvX"+"H1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1Vk"+"bMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW"+"2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLP"+"VcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqT"+"acrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaar"+"ldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+Hi"+"zeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDn"+"BAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSF"+"hYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJ"+"REFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxC"+"Brb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe"+"0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8"+"a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7a"+"hgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCn"+"B3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDg"+"q82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC";ol.DEFAULT_RENDERER_TYPES=[ol.renderer.Type.CANVAS,ol.renderer.Type.WEBGL];ol.Map=function(e){ol.Object.call(this);var t=ol.Map.createOptionsInternal(e);this.loadTilesWhileAnimating_=e.loadTilesWhileAnimating!==undefined?e.loadTilesWhileAnimating:false;this.loadTilesWhileInteracting_=e.loadTilesWhileInteracting!==undefined?e.loadTilesWhileInteracting:false;this.pixelRatio_=e.pixelRatio!==undefined?e.pixelRatio:ol.has.DEVICE_PIXEL_RATIO;this.logos_=t.logos;this.animationDelayKey_;this.animationDelay_=function(){this.animationDelayKey_=undefined;this.renderFrame_.call(this,Date.now())}.bind(this);this.coordinateToPixelTransform_=ol.transform.create();this.pixelToCoordinateTransform_=ol.transform.create();this.frameIndex_=0;this.frameState_=null;this.previousExtent_=ol.extent.createEmpty();this.viewPropertyListenerKey_=null;this.viewChangeListenerKey_=null;this.layerGroupPropertyListenerKeys_=null;this.viewport_=document.createElement("DIV");this.viewport_.className="ol-viewport"+(ol.has.TOUCH?" ol-touch":"");this.viewport_.style.position="relative";this.viewport_.style.overflow="hidden";this.viewport_.style.width="100%";this.viewport_.style.height="100%";this.viewport_.style.msTouchAction="none";this.viewport_.style.touchAction="none";this.overlayContainer_=document.createElement("DIV");this.overlayContainer_.className="ol-overlaycontainer";this.viewport_.appendChild(this.overlayContainer_);this.overlayContainerStopEvent_=document.createElement("DIV");this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";var o=[ol.events.EventType.CLICK,ol.events.EventType.DBLCLICK,ol.events.EventType.MOUSEDOWN,ol.events.EventType.TOUCHSTART,ol.events.EventType.MSPOINTERDOWN,ol.MapBrowserEventType.POINTERDOWN,ol.events.EventType.MOUSEWHEEL,ol.events.EventType.WHEEL];for(var r=0,i=o.length;r<i;++r){ol.events.listen(this.overlayContainerStopEvent_,o[r],ol.events.Event.stopPropagation)}this.viewport_.appendChild(this.overlayContainerStopEvent_);this.mapBrowserEventHandler_=new ol.MapBrowserEventHandler(this);for(var n in ol.MapBrowserEventType){ol.events.listen(this.mapBrowserEventHandler_,ol.MapBrowserEventType[n],this.handleMapBrowserEvent,this)}this.keyboardEventTarget_=t.keyboardEventTarget;this.keyHandlerKeys_=null;ol.events.listen(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.listen(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);this.controls_=t.controls;this.interactions_=t.interactions;this.overlays_=t.overlays;this.overlayIdIndex_={};this.renderer_=new t.rendererConstructor(this.viewport_,this);this.handleResize_;this.focus_=null;this.postRenderFunctions_=[];this.tileQueue_=new ol.TileQueue(this.getTilePriority.bind(this),this.handleTileChange_.bind(this));this.skippedFeatureUids_={};ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.LAYERGROUP),this.handleLayerGroupChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.VIEW),this.handleViewChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.SIZE),this.handleSizeChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.MapProperty.TARGET),this.handleTargetChanged_,this);this.setProperties(t.values);this.controls_.forEach(function(e){e.setMap(this)},this);ol.events.listen(this.controls_,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this);ol.events.listen(this.controls_,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this);this.interactions_.forEach(function(e){e.setMap(this)},this);ol.events.listen(this.interactions_,ol.CollectionEventType.ADD,function(e){e.element.setMap(this)},this);ol.events.listen(this.interactions_,ol.CollectionEventType.REMOVE,function(e){e.element.setMap(null)},this);this.overlays_.forEach(this.addOverlayInternal_,this);ol.events.listen(this.overlays_,ol.CollectionEventType.ADD,function(e){this.addOverlayInternal_(e.element)},this);ol.events.listen(this.overlays_,ol.CollectionEventType.REMOVE,function(e){var t=e.element;var o=t.getId();if(o!==undefined){delete this.overlayIdIndex_[o.toString()]}e.element.setMap(null)},this)};ol.inherits(ol.Map,ol.Object);ol.Map.prototype.addControl=function(e){this.getControls().push(e)};ol.Map.prototype.addInteraction=function(e){this.getInteractions().push(e)};ol.Map.prototype.addLayer=function(e){var t=this.getLayerGroup().getLayers();t.push(e)};ol.Map.prototype.addOverlay=function(e){this.getOverlays().push(e)};ol.Map.prototype.addOverlayInternal_=function(e){var t=e.getId();if(t!==undefined){this.overlayIdIndex_[t.toString()]=e}e.setMap(this)};ol.Map.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose();this.renderer_.dispose();ol.events.unlisten(this.viewport_,ol.events.EventType.WHEEL,this.handleBrowserEvent,this);ol.events.unlisten(this.viewport_,ol.events.EventType.MOUSEWHEEL,this.handleBrowserEvent,this);if(this.handleResize_!==undefined){window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,false);this.handleResize_=undefined}if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_);this.animationDelayKey_=undefined}this.setTarget(null);ol.Object.prototype.disposeInternal.call(this)};ol.Map.prototype.forEachFeatureAtPixel=function(e,t,o){if(!this.frameState_){return}var r=this.getCoordinateFromPixel(e);o=o!==undefined?o:{};var i=o.hitTolerance!==undefined?o.hitTolerance*this.frameState_.pixelRatio:0;var n=o.layerFilter!==undefined?o.layerFilter:ol.functions.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,i,t,null,n,null)};ol.Map.prototype.forEachLayerAtPixel=function(e,t,o,r,i){if(!this.frameState_){return}var n=o!==undefined?o:null;var a=r!==undefined?r:ol.functions.TRUE;var l=i!==undefined?i:null;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,t,n,a,l)};ol.Map.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_){return false}var o=this.getCoordinateFromPixel(e);t=t!==undefined?t:{};var r=t.layerFilter!==undefined?t.layerFilter:ol.functions.TRUE;var i=t.hitTolerance!==undefined?t.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(o,this.frameState_,i,r,null)};ol.Map.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))};ol.Map.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect();var o=e.changedTouches?e.changedTouches[0]:e;return[o.clientX-t.left,o.clientY-t.top]};ol.Map.prototype.getTarget=function(){return this.get(ol.MapProperty.TARGET)};ol.Map.prototype.getTargetElement=function(){var e=this.getTarget();if(e!==undefined){return typeof e==="string"?document.getElementById(e):e}else{return null}};ol.Map.prototype.getCoordinateFromPixel=function(e){var t=this.frameState_;if(!t){return null}else{return ol.transform.apply(t.pixelToCoordinateTransform,e.slice())}};ol.Map.prototype.getControls=function(){return this.controls_};ol.Map.prototype.getOverlays=function(){return this.overlays_};ol.Map.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return t!==undefined?t:null};ol.Map.prototype.getInteractions=function(){return this.interactions_};ol.Map.prototype.getLayerGroup=function(){return this.get(ol.MapProperty.LAYERGROUP)};ol.Map.prototype.getLayers=function(){var e=this.getLayerGroup().getLayers();return e};ol.Map.prototype.getPixelFromCoordinate=function(e){var t=this.frameState_;if(!t){return null}else{return ol.transform.apply(t.coordinateToPixelTransform,e.slice(0,2))}};ol.Map.prototype.getRenderer=function(){return this.renderer_};ol.Map.prototype.getSize=function(){return this.get(ol.MapProperty.SIZE)};ol.Map.prototype.getView=function(){return this.get(ol.MapProperty.VIEW)};ol.Map.prototype.getViewport=function(){return this.viewport_};ol.Map.prototype.getOverlayContainer=function(){return this.overlayContainer_};ol.Map.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_};ol.Map.prototype.getTilePriority=function(e,t,o,r){var i=this.frameState_;if(!i||!(t in i.wantedTiles)){return ol.structs.PriorityQueue.DROP}if(!i.wantedTiles[t][e.getKey()]){return ol.structs.PriorityQueue.DROP}var n=o[0]-i.focus[0];var a=o[1]-i.focus[1];return 65536*Math.log(r)+Math.sqrt(n*n+a*a)/r};ol.Map.prototype.handleBrowserEvent=function(e,t){var o=t||e.type;var r=new ol.MapBrowserEvent(o,this,e);this.handleMapBrowserEvent(r)};ol.Map.prototype.handleMapBrowserEvent=function(e){if(!this.frameState_){return}this.focus_=e.coordinate;e.frameState=this.frameState_;var t=this.getInteractions().getArray();var o;if(this.dispatchEvent(e)!==false){for(o=t.length-1;o>=0;o--){var r=t[o];if(!r.getActive()){continue}var i=r.handleEvent(e);if(!i){break}}}};ol.Map.prototype.handlePostRender=function(){var e=this.frameState_;var t=this.tileQueue_;if(!t.isEmpty()){var o=16;var r=o;if(e){var i=e.viewHints;if(i[ol.ViewHint.ANIMATING]){o=this.loadTilesWhileAnimating_?8:0;r=2}if(i[ol.ViewHint.INTERACTING]){o=this.loadTilesWhileInteracting_?8:0;r=2}}if(t.getTilesLoading()<o){t.reprioritize();t.loadMoreTiles(o,r)}}var n=this.postRenderFunctions_;var a,l;for(a=0,l=n.length;a<l;++a){n[a](this,e)}n.length=0};ol.Map.prototype.handleSizeChanged_=function(){this.render()};ol.Map.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()){e=this.getTargetElement()}if(this.keyHandlerKeys_){for(var t=0,o=this.keyHandlerKeys_.length;t<o;++t){ol.events.unlistenByKey(this.keyHandlerKeys_[t])}this.keyHandlerKeys_=null}if(!e){ol.dom.removeNode(this.viewport_);if(this.handleResize_!==undefined){window.removeEventListener(ol.events.EventType.RESIZE,this.handleResize_,false);this.handleResize_=undefined}}else{e.appendChild(this.viewport_);var r=!this.keyboardEventTarget_?e:this.keyboardEventTarget_;this.keyHandlerKeys_=[ol.events.listen(r,ol.events.EventType.KEYDOWN,this.handleBrowserEvent,this),ol.events.listen(r,ol.events.EventType.KEYPRESS,this.handleBrowserEvent,this)];if(!this.handleResize_){this.handleResize_=this.updateSize.bind(this);window.addEventListener(ol.events.EventType.RESIZE,this.handleResize_,false)}}this.updateSize()};ol.Map.prototype.handleTileChange_=function(){this.render()};ol.Map.prototype.handleViewPropertyChanged_=function(){this.render()};ol.Map.prototype.handleViewChanged_=function(){if(this.viewPropertyListenerKey_){ol.events.unlistenByKey(this.viewPropertyListenerKey_);this.viewPropertyListenerKey_=null}if(this.viewChangeListenerKey_){ol.events.unlistenByKey(this.viewChangeListenerKey_);this.viewChangeListenerKey_=null}var e=this.getView();if(e){this.viewport_.setAttribute("data-view",ol.getUid(e));this.viewPropertyListenerKey_=ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleViewPropertyChanged_,this);this.viewChangeListenerKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleViewPropertyChanged_,this)}this.render()};ol.Map.prototype.handleLayerGroupChanged_=function(){if(this.layerGroupPropertyListenerKeys_){this.layerGroupPropertyListenerKeys_.forEach(ol.events.unlistenByKey);this.layerGroupPropertyListenerKeys_=null}var e=this.getLayerGroup();if(e){this.layerGroupPropertyListenerKeys_=[ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.render,this),ol.events.listen(e,ol.events.EventType.CHANGE,this.render,this)]}this.render()};ol.Map.prototype.isRendered=function(){return!!this.frameState_};ol.Map.prototype.renderSync=function(){if(this.animationDelayKey_){cancelAnimationFrame(this.animationDelayKey_)}this.animationDelay_()};ol.Map.prototype.render=function(){if(this.animationDelayKey_===undefined){this.animationDelayKey_=requestAnimationFrame(this.animationDelay_)}};ol.Map.prototype.removeControl=function(e){return this.getControls().remove(e)};ol.Map.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)};ol.Map.prototype.removeLayer=function(e){var t=this.getLayerGroup().getLayers();return t.remove(e)};ol.Map.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)};ol.Map.prototype.renderFrame_=function(e){var t,o,r;var i=this.getSize();var n=this.getView();var a=ol.extent.createEmpty();var l=null;if(i!==undefined&&ol.size.hasArea(i)&&n&&n.isDef()){var s=n.getHints(this.frameState_?this.frameState_.viewHints:undefined);var p=this.getLayerGroup().getLayerStatesArray();var u={};for(t=0,o=p.length;t<o;++t){u[ol.getUid(p[t].layer)]=p[t]}r=n.getState();l={animate:false,attributions:{},coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:a,focus:!this.focus_?r.center:this.focus_,index:this.frameIndex_++,layerStates:u,layerStatesArray:p,logos:ol.obj.assign({},this.logos_),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:i,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:r,viewHints:s,wantedTiles:{}}}if(l){l.extent=ol.extent.getForViewAndSize(r.center,r.resolution,r.rotation,l.size,a)}this.frameState_=l;this.renderer_.renderFrame(l);if(l){if(l.animate){this.render()}Array.prototype.push.apply(this.postRenderFunctions_,l.postRenderFunctions);var c=!l.viewHints[ol.ViewHint.ANIMATING]&&!l.viewHints[ol.ViewHint.INTERACTING]&&!ol.extent.equals(l.extent,this.previousExtent_);if(c){this.dispatchEvent(new ol.MapEvent(ol.MapEventType.MOVEEND,this,l));ol.extent.clone(l.extent,this.previousExtent_)}}this.dispatchEvent(new ol.MapEvent(ol.MapEventType.POSTRENDER,this,l));setTimeout(this.handlePostRender.bind(this),0)};ol.Map.prototype.setLayerGroup=function(e){this.set(ol.MapProperty.LAYERGROUP,e)};ol.Map.prototype.setSize=function(e){this.set(ol.MapProperty.SIZE,e)};ol.Map.prototype.setTarget=function(e){this.set(ol.MapProperty.TARGET,e)};ol.Map.prototype.setView=function(e){this.set(ol.MapProperty.VIEW,e)};ol.Map.prototype.skipFeature=function(e){var t=ol.getUid(e).toString();this.skippedFeatureUids_[t]=true;this.render()};ol.Map.prototype.updateSize=function(){var e=this.getTargetElement();if(!e){this.setSize(undefined)}else{var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t["borderLeftWidth"])-parseFloat(t["paddingLeft"])-parseFloat(t["paddingRight"])-parseFloat(t["borderRightWidth"]),e.offsetHeight-parseFloat(t["borderTopWidth"])-parseFloat(t["paddingTop"])-parseFloat(t["paddingBottom"])-parseFloat(t["borderBottomWidth"])])}};ol.Map.prototype.unskipFeature=function(e){var t=ol.getUid(e).toString();delete this.skippedFeatureUids_[t];this.render()};ol.Map.createOptionsInternal=function(e){var t=null;if(e.keyboardEventTarget!==undefined){t=typeof e.keyboardEventTarget==="string"?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget}var o={};var r={};if(e.logo===undefined||typeof e.logo==="boolean"&&e.logo){r[ol.OL_LOGO_URL]=ol.OL_URL}else{var i=e.logo;if(typeof i==="string"){r[i]=""}else if(i instanceof HTMLElement){r[ol.getUid(i).toString()]=i}else if(i){ol.asserts.assert(typeof i.href=="string",44);ol.asserts.assert(typeof i.src=="string",45);r[i.src]=i.href}}var n=e.layers instanceof ol.layer.Group?e.layers:new ol.layer.Group({layers:e.layers});o[ol.MapProperty.LAYERGROUP]=n;o[ol.MapProperty.TARGET]=e.target;o[ol.MapProperty.VIEW]=e.view!==undefined?e.view:new ol.View;var a=ol.renderer.Map;var l;if(e.renderer!==undefined){if(Array.isArray(e.renderer)){l=e.renderer}else if(typeof e.renderer==="string"){l=[e.renderer]}else{ol.asserts.assert(false,46)}if(l.indexOf("dom")>=0){l=l.concat(ol.DEFAULT_RENDERER_TYPES)}}else{l=ol.DEFAULT_RENDERER_TYPES}var s,p;for(s=0,p=l.length;s<p;++s){var u=l[s];if(ol.ENABLE_CANVAS&&u==ol.renderer.Type.CANVAS){if(ol.has.CANVAS){a=ol.renderer.canvas.Map;break}}else if(ol.ENABLE_WEBGL&&u==ol.renderer.Type.WEBGL){if(ol.has.WEBGL){a=ol.renderer.webgl.Map;break}}}var c;if(e.controls!==undefined){if(Array.isArray(e.controls)){c=new ol.Collection(e.controls.slice())}else{ol.asserts.assert(e.controls instanceof ol.Collection,47);c=e.controls}}else{c=ol.control.defaults()}var g;if(e.interactions!==undefined){if(Array.isArray(e.interactions)){g=new ol.Collection(e.interactions.slice())}else{ol.asserts.assert(e.interactions instanceof ol.Collection,48);g=e.interactions}}else{g=ol.interaction.defaults()}var h;if(e.overlays!==undefined){if(Array.isArray(e.overlays)){h=new ol.Collection(e.overlays.slice())}else{ol.asserts.assert(e.overlays instanceof ol.Collection,49);h=e.overlays}}else{h=new ol.Collection}return{controls:c,interactions:g,keyboardEventTarget:t,logos:r,overlays:h,rendererConstructor:a,values:o}};ol.proj.common.add();goog.provide("ol.OverlayPositioning");ol.OverlayPositioning={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};goog.provide("ol.Overlay");goog.require("ol");goog.require("ol.MapEventType");goog.require("ol.Object");goog.require("ol.OverlayPositioning");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.extent");ol.Overlay=function(e){ol.Object.call(this);this.id_=e.id;this.insertFirst_=e.insertFirst!==undefined?e.insertFirst:true;this.stopEvent_=e.stopEvent!==undefined?e.stopEvent:true;this.element_=document.createElement("DIV");this.element_.className="ol-overlay-container";this.element_.style.position="absolute";this.autoPan=e.autoPan!==undefined?e.autoPan:false;this.autoPanAnimation_=e.autoPanAnimation||{};this.autoPanMargin_=e.autoPanMargin!==undefined?e.autoPanMargin:20;this.rendered_={bottom_:"",left_:"",right_:"",top_:"",visible:true};this.mapPostrenderListenerKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.ELEMENT),this.handleElementChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.MAP),this.handleMapChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.OFFSET),this.handleOffsetChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.POSITION),this.handlePositionChanged,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.Overlay.Property_.POSITIONING),this.handlePositioningChanged,this);if(e.element!==undefined){this.setElement(e.element)}this.setOffset(e.offset!==undefined?e.offset:[0,0]);this.setPositioning(e.positioning!==undefined?e.positioning:ol.OverlayPositioning.TOP_LEFT);if(e.position!==undefined){this.setPosition(e.position)}};ol.inherits(ol.Overlay,ol.Object);ol.Overlay.prototype.getElement=function(){return this.get(ol.Overlay.Property_.ELEMENT)};ol.Overlay.prototype.getId=function(){return this.id_};ol.Overlay.prototype.getMap=function(){return this.get(ol.Overlay.Property_.MAP)};ol.Overlay.prototype.getOffset=function(){return this.get(ol.Overlay.Property_.OFFSET)};ol.Overlay.prototype.getPosition=function(){return this.get(ol.Overlay.Property_.POSITION)};ol.Overlay.prototype.getPositioning=function(){return this.get(ol.Overlay.Property_.POSITIONING)};ol.Overlay.prototype.handleElementChanged=function(){ol.dom.removeChildren(this.element_);var e=this.getElement();if(e){this.element_.appendChild(e)}};ol.Overlay.prototype.handleMapChanged=function(){if(this.mapPostrenderListenerKey_){ol.dom.removeNode(this.element_);ol.events.unlistenByKey(this.mapPostrenderListenerKey_);this.mapPostrenderListenerKey_=null}var e=this.getMap();if(e){this.mapPostrenderListenerKey_=ol.events.listen(e,ol.MapEventType.POSTRENDER,this.render,this);this.updatePixelPosition();var t=this.stopEvent_?e.getOverlayContainerStopEvent():e.getOverlayContainer();if(this.insertFirst_){t.insertBefore(this.element_,t.childNodes[0]||null)}else{t.appendChild(this.element_)}}};ol.Overlay.prototype.render=function(){this.updatePixelPosition()};ol.Overlay.prototype.handleOffsetChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.handlePositionChanged=function(){this.updatePixelPosition();if(this.get(ol.Overlay.Property_.POSITION)&&this.autoPan){this.panIntoView_()}};ol.Overlay.prototype.handlePositioningChanged=function(){this.updatePixelPosition()};ol.Overlay.prototype.setElement=function(e){this.set(ol.Overlay.Property_.ELEMENT,e)};ol.Overlay.prototype.setMap=function(e){this.set(ol.Overlay.Property_.MAP,e)};ol.Overlay.prototype.setOffset=function(e){this.set(ol.Overlay.Property_.OFFSET,e)};ol.Overlay.prototype.setPosition=function(e){this.set(ol.Overlay.Property_.POSITION,e)};ol.Overlay.prototype.panIntoView_=function(){var e=this.getMap();if(!e||!e.getTargetElement()){return}var t=this.getRect_(e.getTargetElement(),e.getSize());var o=this.getElement();var r=this.getRect_(o,[ol.dom.outerWidth(o),ol.dom.outerHeight(o)]);var i=this.autoPanMargin_;if(!ol.extent.containsExtent(t,r)){var n=r[0]-t[0];var a=t[2]-r[2];var l=r[1]-t[1];var s=t[3]-r[3];var p=[0,0];if(n<0){p[0]=n-i}else if(a<0){p[0]=Math.abs(a)+i}if(l<0){p[1]=l-i}else if(s<0){p[1]=Math.abs(s)+i}if(p[0]!==0||p[1]!==0){var u=e.getView().getCenter();var c=e.getPixelFromCoordinate(u);var g=[c[0]+p[0],c[1]+p[1]];e.getView().animate({center:e.getCoordinateFromPixel(g),duration:this.autoPanAnimation_.duration,easing:this.autoPanAnimation_.easing})}}};ol.Overlay.prototype.getRect_=function(e,t){var o=e.getBoundingClientRect();var r=o.left+window.pageXOffset;var i=o.top+window.pageYOffset;return[r,i,r+t[0],i+t[1]]};ol.Overlay.prototype.setPositioning=function(e){this.set(ol.Overlay.Property_.POSITIONING,e)};ol.Overlay.prototype.setVisible=function(e){if(this.rendered_.visible!==e){this.element_.style.display=e?"":"none";this.rendered_.visible=e}};ol.Overlay.prototype.updatePixelPosition=function(){var e=this.getMap();var t=this.getPosition();if(!e||!e.isRendered()||!t){this.setVisible(false);return}var o=e.getPixelFromCoordinate(t);var r=e.getSize();this.updateRenderedPosition(o,r)};ol.Overlay.prototype.updateRenderedPosition=function(e,t){var o=this.element_.style;var r=this.getOffset();var i=this.getPositioning();var n=r[0];var a=r[1];if(i==ol.OverlayPositioning.BOTTOM_RIGHT||i==ol.OverlayPositioning.CENTER_RIGHT||i==ol.OverlayPositioning.TOP_RIGHT){if(this.rendered_.left_!==""){this.rendered_.left_=o.left=""}var l=Math.round(t[0]-e[0]-n)+"px";if(this.rendered_.right_!=l){this.rendered_.right_=o.right=l}}else{if(this.rendered_.right_!==""){this.rendered_.right_=o.right=""}if(i==ol.OverlayPositioning.BOTTOM_CENTER||i==ol.OverlayPositioning.CENTER_CENTER||i==ol.OverlayPositioning.TOP_CENTER){n-=this.element_.offsetWidth/2}var s=Math.round(e[0]+n)+"px";if(this.rendered_.left_!=s){this.rendered_.left_=o.left=s}}if(i==ol.OverlayPositioning.BOTTOM_LEFT||i==ol.OverlayPositioning.BOTTOM_CENTER||i==ol.OverlayPositioning.BOTTOM_RIGHT){if(this.rendered_.top_!==""){this.rendered_.top_=o.top=""}var p=Math.round(t[1]-e[1]-a)+"px";if(this.rendered_.bottom_!=p){this.rendered_.bottom_=o.bottom=p}}else{if(this.rendered_.bottom_!==""){this.rendered_.bottom_=o.bottom=""}if(i==ol.OverlayPositioning.CENTER_LEFT||i==ol.OverlayPositioning.CENTER_CENTER||i==ol.OverlayPositioning.CENTER_RIGHT){a-=this.element_.offsetHeight/2}var u=Math.round(e[1]+a)+"px";if(this.rendered_.top_!=u){this.rendered_.top_=o.top=u}}this.setVisible(true)};ol.Overlay.Property_={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"};goog.provide("ol.control.OverviewMap");goog.require("ol");goog.require("ol.Collection");goog.require("ol.Map");goog.require("ol.MapEventType");goog.require("ol.MapProperty");goog.require("ol.Object");goog.require("ol.ObjectEventType");goog.require("ol.Overlay");goog.require("ol.OverlayPositioning");goog.require("ol.ViewProperty");goog.require("ol.control.Control");goog.require("ol.coordinate");goog.require("ol.css");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");ol.control.OverviewMap=function(e){var t=e?e:{};this.collapsed_=t.collapsed!==undefined?t.collapsed:true;this.collapsible_=t.collapsible!==undefined?t.collapsible:true;if(!this.collapsible_){this.collapsed_=false}var o=t.className!==undefined?t.className:"ol-overviewmap";var r=t.tipLabel!==undefined?t.tipLabel:"Overview map";var i=t.collapseLabel!==undefined?t.collapseLabel:"";if(typeof i==="string"){this.collapseLabel_=document.createElement("span");this.collapseLabel_.textContent=i}else{this.collapseLabel_=i}var n=t.label!==undefined?t.label:"";if(typeof n==="string"){this.label_=document.createElement("span");this.label_.textContent=n}else{this.label_=n}var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;var l=document.createElement("button");l.setAttribute("type","button");l.title=r;l.appendChild(a);ol.events.listen(l,ol.events.EventType.CLICK,this.handleClick_,this);this.ovmapDiv_=document.createElement("DIV");this.ovmapDiv_.className="ol-overviewmap-map";this.ovmap_=new ol.Map({controls:new ol.Collection,interactions:new ol.Collection,view:t.view});var s=this.ovmap_;if(t.layers){t.layers.forEach(function(e){s.addLayer(e)},this)}var p=document.createElement("DIV");p.className="ol-overviewmap-box";p.style.boxSizing="border-box";this.boxOverlay_=new ol.Overlay({position:[0,0],positioning:ol.OverlayPositioning.BOTTOM_LEFT,element:p});this.ovmap_.addOverlay(this.boxOverlay_);var u=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" ol-collapsed":"")+(this.collapsible_?"":" ol-uncollapsible");var c=document.createElement("div");c.className=u;c.appendChild(this.ovmapDiv_);c.appendChild(l);var g=t.render?t.render:ol.control.OverviewMap.render;ol.control.Control.call(this,{element:c,render:g,target:t.target})};ol.inherits(ol.control.OverviewMap,ol.control.Control);ol.control.OverviewMap.prototype.setMap=function(e){var t=this.getMap();if(e===t){return}if(t){var o=t.getView();if(o){this.unbindView_(o)}this.ovmap_.setTarget(null)}ol.control.Control.prototype.setMap.call(this,e);if(e){this.ovmap_.setTarget(this.ovmapDiv_);this.listenerKeys.push(ol.events.listen(e,ol.ObjectEventType.PROPERTYCHANGE,this.handleMapPropertyChange_,this));if(this.ovmap_.getLayers().getLength()===0){this.ovmap_.setLayerGroup(e.getLayerGroup())}var r=e.getView();if(r){this.bindView_(r);if(r.isDef()){this.ovmap_.updateSize();this.resetExtent_()}}}};ol.control.OverviewMap.prototype.handleMapPropertyChange_=function(e){if(e.key===ol.MapProperty.VIEW){var t=e.oldValue;if(t){this.unbindView_(t)}var o=this.getMap().getView();this.bindView_(o)}};ol.control.OverviewMap.prototype.bindView_=function(e){ol.events.listen(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.unbindView_=function(e){ol.events.unlisten(e,ol.Object.getChangeEventType(ol.ViewProperty.ROTATION),this.handleRotationChanged_,this)};ol.control.OverviewMap.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())};ol.control.OverviewMap.render=function(e){this.validateExtent_();this.updateBox_()};ol.control.OverviewMap.prototype.validateExtent_=function(){var e=this.getMap();var t=this.ovmap_;if(!e.isRendered()||!t.isRendered()){return}var o=e.getSize();var r=e.getView();var i=r.calculateExtent(o);var n=t.getSize();var a=t.getView();var l=a.calculateExtent(n);var s=t.getPixelFromCoordinate(ol.extent.getTopLeft(i));var p=t.getPixelFromCoordinate(ol.extent.getBottomRight(i));var u=Math.abs(s[0]-p[0]);var c=Math.abs(s[1]-p[1]);var g=n[0];var h=n[1];if(u<g*ol.OVERVIEWMAP_MIN_RATIO||c<h*ol.OVERVIEWMAP_MIN_RATIO||u>g*ol.OVERVIEWMAP_MAX_RATIO||c>h*ol.OVERVIEWMAP_MAX_RATIO){this.resetExtent_()}else if(!ol.extent.containsExtent(l,i)){this.recenter_()}};ol.control.OverviewMap.prototype.resetExtent_=function(){if(ol.OVERVIEWMAP_MAX_RATIO===0||ol.OVERVIEWMAP_MIN_RATIO===0){return}var e=this.getMap();var t=this.ovmap_;var o=e.getSize();var r=e.getView();var i=r.calculateExtent(o);var n=t.getView();var a=Math.log(ol.OVERVIEWMAP_MAX_RATIO/ol.OVERVIEWMAP_MIN_RATIO)/Math.LN2;var l=1/(Math.pow(2,a/2)*ol.OVERVIEWMAP_MIN_RATIO);ol.extent.scaleFromCenter(i,l);n.fit(i)};ol.control.OverviewMap.prototype.recenter_=function(){var e=this.getMap();var t=this.ovmap_;var o=e.getView();var r=t.getView();r.setCenter(o.getCenter())};ol.control.OverviewMap.prototype.updateBox_=function(){var e=this.getMap();var t=this.ovmap_;if(!e.isRendered()||!t.isRendered()){return}var o=e.getSize();var r=e.getView();var i=t.getView();var n=r.getRotation();var a=this.boxOverlay_;var l=this.boxOverlay_.getElement();var s=r.calculateExtent(o);var p=i.getResolution();var u=ol.extent.getBottomLeft(s);var c=ol.extent.getTopRight(s);var g=this.calculateCoordinateRotate_(n,u);a.setPosition(g);if(l){l.style.width=Math.abs((u[0]-c[0])/p)+"px";l.style.height=Math.abs((c[1]-u[1])/p)+"px"}};ol.control.OverviewMap.prototype.calculateCoordinateRotate_=function(e,t){var o;var r=this.getMap();var i=r.getView();var n=i.getCenter();if(n){o=[t[0]-n[0],t[1]-n[1]];ol.coordinate.rotate(o,e);ol.coordinate.add(o,n)}return o};ol.control.OverviewMap.prototype.handleClick_=function(e){e.preventDefault();this.handleToggle_()};ol.control.OverviewMap.prototype.handleToggle_=function(){
this.element.classList.toggle("ol-collapsed");if(this.collapsed_){ol.dom.replaceNode(this.collapseLabel_,this.label_)}else{ol.dom.replaceNode(this.label_,this.collapseLabel_)}this.collapsed_=!this.collapsed_;var e=this.ovmap_;if(!this.collapsed_&&!e.isRendered()){e.updateSize();this.resetExtent_();ol.events.listenOnce(e,ol.MapEventType.POSTRENDER,function(e){this.updateBox_()},this)}};ol.control.OverviewMap.prototype.getCollapsible=function(){return this.collapsible_};ol.control.OverviewMap.prototype.setCollapsible=function(e){if(this.collapsible_===e){return}this.collapsible_=e;this.element.classList.toggle("ol-uncollapsible");if(!e&&this.collapsed_){this.handleToggle_()}};ol.control.OverviewMap.prototype.setCollapsed=function(e){if(!this.collapsible_||this.collapsed_===e){return}this.handleToggle_()};ol.control.OverviewMap.prototype.getCollapsed=function(){return this.collapsed_};ol.control.OverviewMap.prototype.getOverviewMap=function(){return this.ovmap_};goog.provide("ol.control.ScaleLineUnits");ol.control.ScaleLineUnits={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};goog.provide("ol.control.ScaleLine");goog.require("ol");goog.require("ol.Object");goog.require("ol.asserts");goog.require("ol.control.Control");goog.require("ol.control.ScaleLineUnits");goog.require("ol.css");goog.require("ol.events");goog.require("ol.proj");goog.require("ol.proj.Units");ol.control.ScaleLine=function(e){var t=e?e:{};var o=t.className!==undefined?t.className:"ol-scale-line";this.innerElement_=document.createElement("DIV");this.innerElement_.className=o+"-inner";this.element_=document.createElement("DIV");this.element_.className=o+" "+ol.css.CLASS_UNSELECTABLE;this.element_.appendChild(this.innerElement_);this.viewState_=null;this.minWidth_=t.minWidth!==undefined?t.minWidth:64;this.renderedVisible_=false;this.renderedWidth_=undefined;this.renderedHTML_="";var r=t.render?t.render:ol.control.ScaleLine.render;ol.control.Control.call(this,{element:this.element_,render:r,target:t.target});ol.events.listen(this,ol.Object.getChangeEventType(ol.control.ScaleLine.Property_.UNITS),this.handleUnitsChanged_,this);this.setUnits(t.units||ol.control.ScaleLineUnits.METRIC)};ol.inherits(ol.control.ScaleLine,ol.control.Control);ol.control.ScaleLine.LEADING_DIGITS=[1,2,5];ol.control.ScaleLine.prototype.getUnits=function(){return this.get(ol.control.ScaleLine.Property_.UNITS)};ol.control.ScaleLine.render=function(e){var t=e.frameState;if(!t){this.viewState_=null}else{this.viewState_=t.viewState}this.updateElement_()};ol.control.ScaleLine.prototype.handleUnitsChanged_=function(){this.updateElement_()};ol.control.ScaleLine.prototype.setUnits=function(e){this.set(ol.control.ScaleLine.Property_.UNITS,e)};ol.control.ScaleLine.prototype.updateElement_=function(){var e=this.viewState_;if(!e){if(this.renderedVisible_){this.element_.style.display="none";this.renderedVisible_=false}return}var t=e.center;var o=e.projection;var r=o.getMetersPerUnit();var i=ol.proj.getPointResolution(o,e.resolution,t)*r;var n=this.minWidth_*i;var a="";var l=this.getUnits();if(l==ol.control.ScaleLineUnits.DEGREES){var s=ol.proj.METERS_PER_UNIT[ol.proj.Units.DEGREES];i/=s;if(n<s/60){a="";i*=3600}else if(n<s){a="";i*=60}else{a=""}}else if(l==ol.control.ScaleLineUnits.IMPERIAL){if(n<.9144){a="in";i/=.0254}else if(n<1609.344){a="ft";i/=.3048}else{a="mi";i/=1609.344}}else if(l==ol.control.ScaleLineUnits.NAUTICAL){i/=1852;a="nm"}else if(l==ol.control.ScaleLineUnits.METRIC){if(n<1){a="mm";i*=1e3}else if(n<1e3){a="m"}else{a="km";i/=1e3}}else if(l==ol.control.ScaleLineUnits.US){if(n<.9144){a="in";i*=39.37}else if(n<1609.344){a="ft";i/=.30480061}else{a="mi";i/=1609.3472}}else{ol.asserts.assert(false,33)}var p=3*Math.floor(Math.log(this.minWidth_*i)/Math.log(10));var u,c;while(true){u=ol.control.ScaleLine.LEADING_DIGITS[(p%3+3)%3]*Math.pow(10,Math.floor(p/3));c=Math.round(u/i);if(isNaN(c)){this.element_.style.display="none";this.renderedVisible_=false;return}else if(c>=this.minWidth_){break}++p}var g=u+" "+a;if(this.renderedHTML_!=g){this.innerElement_.innerHTML=g;this.renderedHTML_=g}if(this.renderedWidth_!=c){this.innerElement_.style.width=c+"px";this.renderedWidth_=c}if(!this.renderedVisible_){this.element_.style.display="";this.renderedVisible_=true}};ol.control.ScaleLine.Property_={UNITS:"units"};goog.provide("ol.control.ZoomSlider");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.control.Control");goog.require("ol.css");goog.require("ol.easing");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.math");goog.require("ol.pointer.EventType");goog.require("ol.pointer.PointerEventHandler");ol.control.ZoomSlider=function(e){var t=e?e:{};this.currentResolution_=undefined;this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL;this.dragging_;this.heightLimit_=0;this.widthLimit_=0;this.previousX_;this.previousY_;this.thumbSize_=null;this.sliderInitialized_=false;this.duration_=t.duration!==undefined?t.duration:200;var o=t.className!==undefined?t.className:"ol-zoomslider";var r=document.createElement("button");r.setAttribute("type","button");r.className=o+"-thumb "+ol.css.CLASS_UNSELECTABLE;var i=document.createElement("div");i.className=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;i.appendChild(r);this.dragger_=new ol.pointer.PointerEventHandler(i);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERDOWN,this.handleDraggerStart_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERMOVE,this.handleDraggerDrag_,this);ol.events.listen(this.dragger_,ol.pointer.EventType.POINTERUP,this.handleDraggerEnd_,this);ol.events.listen(i,ol.events.EventType.CLICK,this.handleContainerClick_,this);ol.events.listen(r,ol.events.EventType.CLICK,ol.events.Event.stopPropagation);var n=t.render?t.render:ol.control.ZoomSlider.render;ol.control.Control.call(this,{element:i,render:n})};ol.inherits(ol.control.ZoomSlider,ol.control.Control);ol.control.ZoomSlider.prototype.disposeInternal=function(){this.dragger_.dispose();ol.control.Control.prototype.disposeInternal.call(this)};ol.control.ZoomSlider.Direction_={VERTICAL:0,HORIZONTAL:1};ol.control.ZoomSlider.prototype.setMap=function(e){ol.control.Control.prototype.setMap.call(this,e);if(e){e.render()}};ol.control.ZoomSlider.prototype.initSlider_=function(){var e=this.element;var t={width:e.offsetWidth,height:e.offsetHeight};var o=e.firstElementChild;var r=getComputedStyle(o);var i=o.offsetWidth+parseFloat(r["marginRight"])+parseFloat(r["marginLeft"]);var n=o.offsetHeight+parseFloat(r["marginTop"])+parseFloat(r["marginBottom"]);this.thumbSize_=[i,n];if(t.width>t.height){this.direction_=ol.control.ZoomSlider.Direction_.HORIZONTAL;this.widthLimit_=t.width-i}else{this.direction_=ol.control.ZoomSlider.Direction_.VERTICAL;this.heightLimit_=t.height-n}this.sliderInitialized_=true};ol.control.ZoomSlider.render=function(e){if(!e.frameState){return}if(!this.sliderInitialized_){this.initSlider_()}var t=e.frameState.viewState.resolution;if(t!==this.currentResolution_){this.currentResolution_=t;this.setThumbPosition_(t)}};ol.control.ZoomSlider.prototype.handleContainerClick_=function(e){var t=this.getMap().getView();var o=this.getRelativePosition_(e.offsetX-this.thumbSize_[0]/2,e.offsetY-this.thumbSize_[1]/2);var r=this.getResolutionForPosition_(o);t.animate({resolution:t.constrainResolution(r),duration:this.duration_,easing:ol.easing.easeOut})};ol.control.ZoomSlider.prototype.handleDraggerStart_=function(e){if(!this.dragging_&&e.originalEvent.target===this.element.firstElementChild){this.getMap().getView().setHint(ol.ViewHint.INTERACTING,1);this.previousX_=e.clientX;this.previousY_=e.clientY;this.dragging_=true}};ol.control.ZoomSlider.prototype.handleDraggerDrag_=function(e){if(this.dragging_){var t=this.element.firstElementChild;var o=e.clientX-this.previousX_+parseInt(t.style.left,10);var r=e.clientY-this.previousY_+parseInt(t.style.top,10);var i=this.getRelativePosition_(o,r);this.currentResolution_=this.getResolutionForPosition_(i);this.getMap().getView().setResolution(this.currentResolution_);this.setThumbPosition_(this.currentResolution_);this.previousX_=e.clientX;this.previousY_=e.clientY}};ol.control.ZoomSlider.prototype.handleDraggerEnd_=function(e){if(this.dragging_){var t=this.getMap().getView();t.setHint(ol.ViewHint.INTERACTING,-1);t.animate({resolution:t.constrainResolution(this.currentResolution_),duration:this.duration_,easing:ol.easing.easeOut});this.dragging_=false;this.previousX_=undefined;this.previousY_=undefined}};ol.control.ZoomSlider.prototype.setThumbPosition_=function(e){var t=this.getPositionForResolution_(e);var o=this.element.firstElementChild;if(this.direction_==ol.control.ZoomSlider.Direction_.HORIZONTAL){o.style.left=this.widthLimit_*t+"px"}else{o.style.top=this.heightLimit_*t+"px"}};ol.control.ZoomSlider.prototype.getRelativePosition_=function(e,t){var o;if(this.direction_===ol.control.ZoomSlider.Direction_.HORIZONTAL){o=e/this.widthLimit_}else{o=t/this.heightLimit_}return ol.math.clamp(o,0,1)};ol.control.ZoomSlider.prototype.getResolutionForPosition_=function(e){var t=this.getMap().getView().getResolutionForValueFunction();return t(1-e)};ol.control.ZoomSlider.prototype.getPositionForResolution_=function(e){var t=this.getMap().getView().getValueForResolutionFunction();return 1-t(e)};goog.provide("ol.control.ZoomToExtent");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.control.Control");goog.require("ol.css");ol.control.ZoomToExtent=function(e){var t=e?e:{};this.extent_=t.extent?t.extent:null;var o=t.className!==undefined?t.className:"ol-zoom-extent";var r=t.label!==undefined?t.label:"E";var i=t.tipLabel!==undefined?t.tipLabel:"Fit to extent";var n=document.createElement("button");n.setAttribute("type","button");n.title=i;n.appendChild(typeof r==="string"?document.createTextNode(r):r);ol.events.listen(n,ol.events.EventType.CLICK,this.handleClick_,this);var a=o+" "+ol.css.CLASS_UNSELECTABLE+" "+ol.css.CLASS_CONTROL;var l=document.createElement("div");l.className=a;l.appendChild(n);ol.control.Control.call(this,{element:l,target:t.target})};ol.inherits(ol.control.ZoomToExtent,ol.control.Control);ol.control.ZoomToExtent.prototype.handleClick_=function(e){e.preventDefault();this.handleZoomToExtent_()};ol.control.ZoomToExtent.prototype.handleZoomToExtent_=function(){var e=this.getMap();var t=e.getView();var o=!this.extent_?t.getProjection().getExtent():this.extent_;t.fit(o)};goog.provide("ol.DeviceOrientation");goog.require("ol.events");goog.require("ol");goog.require("ol.Object");goog.require("ol.has");goog.require("ol.math");ol.DeviceOrientation=function(e){ol.Object.call(this);var t=e?e:{};this.listenerKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.DeviceOrientation.Property_.TRACKING),this.handleTrackingChanged_,this);this.setTracking(t.tracking!==undefined?t.tracking:false)};ol.inherits(ol.DeviceOrientation,ol.Object);ol.DeviceOrientation.prototype.disposeInternal=function(){this.setTracking(false);ol.Object.prototype.disposeInternal.call(this)};ol.DeviceOrientation.prototype.orientationChange_=function(e){var t=e;if(t.alpha!==null){var o=ol.math.toRadians(t.alpha);this.set(ol.DeviceOrientation.Property_.ALPHA,o);if(typeof t.absolute==="boolean"&&t.absolute){this.set(ol.DeviceOrientation.Property_.HEADING,o)}else if(typeof t.webkitCompassHeading==="number"&&t.webkitCompassAccuracy!=-1){var r=ol.math.toRadians(t.webkitCompassHeading);this.set(ol.DeviceOrientation.Property_.HEADING,r)}}if(t.beta!==null){this.set(ol.DeviceOrientation.Property_.BETA,ol.math.toRadians(t.beta))}if(t.gamma!==null){this.set(ol.DeviceOrientation.Property_.GAMMA,ol.math.toRadians(t.gamma))}this.changed()};ol.DeviceOrientation.prototype.getAlpha=function(){return this.get(ol.DeviceOrientation.Property_.ALPHA)};ol.DeviceOrientation.prototype.getBeta=function(){return this.get(ol.DeviceOrientation.Property_.BETA)};ol.DeviceOrientation.prototype.getGamma=function(){return this.get(ol.DeviceOrientation.Property_.GAMMA)};ol.DeviceOrientation.prototype.getHeading=function(){return this.get(ol.DeviceOrientation.Property_.HEADING)};ol.DeviceOrientation.prototype.getTracking=function(){return this.get(ol.DeviceOrientation.Property_.TRACKING)};ol.DeviceOrientation.prototype.handleTrackingChanged_=function(){if(ol.has.DEVICE_ORIENTATION){var e=this.getTracking();if(e&&!this.listenerKey_){this.listenerKey_=ol.events.listen(window,"deviceorientation",this.orientationChange_,this)}else if(!e&&this.listenerKey_!==null){ol.events.unlistenByKey(this.listenerKey_);this.listenerKey_=null}}};ol.DeviceOrientation.prototype.setTracking=function(e){this.set(ol.DeviceOrientation.Property_.TRACKING,e)};ol.DeviceOrientation.Property_={ALPHA:"alpha",BETA:"beta",GAMMA:"gamma",HEADING:"heading",TRACKING:"tracking"};goog.provide("ol.ImageState");ol.ImageState={IDLE:0,LOADING:1,LOADED:2,ERROR:3};goog.provide("ol.style.Image");ol.style.Image=function(e){this.opacity_=e.opacity;this.rotateWithView_=e.rotateWithView;this.rotation_=e.rotation;this.scale_=e.scale;this.snapToPixel_=e.snapToPixel};ol.style.Image.prototype.getOpacity=function(){return this.opacity_};ol.style.Image.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Image.prototype.getRotation=function(){return this.rotation_};ol.style.Image.prototype.getScale=function(){return this.scale_};ol.style.Image.prototype.getSnapToPixel=function(){return this.snapToPixel_};ol.style.Image.prototype.getAnchor=function(){};ol.style.Image.prototype.getImage=function(e){};ol.style.Image.prototype.getHitDetectionImage=function(e){};ol.style.Image.prototype.getImageState=function(){};ol.style.Image.prototype.getImageSize=function(){};ol.style.Image.prototype.getHitDetectionImageSize=function(){};ol.style.Image.prototype.getOrigin=function(){};ol.style.Image.prototype.getSize=function(){};ol.style.Image.prototype.setOpacity=function(e){this.opacity_=e};ol.style.Image.prototype.setRotateWithView=function(e){this.rotateWithView_=e};ol.style.Image.prototype.setRotation=function(e){this.rotation_=e};ol.style.Image.prototype.setScale=function(e){this.scale_=e};ol.style.Image.prototype.setSnapToPixel=function(e){this.snapToPixel_=e};ol.style.Image.prototype.listenImageChange=function(e,t){};ol.style.Image.prototype.load=function(){};ol.style.Image.prototype.unlistenImageChange=function(e,t){};goog.provide("ol.style.RegularShape");goog.require("ol");goog.require("ol.colorlike");goog.require("ol.dom");goog.require("ol.has");goog.require("ol.ImageState");goog.require("ol.render.canvas");goog.require("ol.style.Image");ol.style.RegularShape=function(e){this.checksums_=null;this.canvas_=null;this.hitDetectionCanvas_=null;this.fill_=e.fill!==undefined?e.fill:null;this.origin_=[0,0];this.points_=e.points;this.radius_=e.radius!==undefined?e.radius:e.radius1;this.radius2_=e.radius2!==undefined?e.radius2:this.radius_;this.angle_=e.angle!==undefined?e.angle:0;this.stroke_=e.stroke!==undefined?e.stroke:null;this.anchor_=null;this.size_=null;this.imageSize_=null;this.hitDetectionImageSize_=null;this.atlasManager_=e.atlasManager;this.render_(this.atlasManager_);var t=e.snapToPixel!==undefined?e.snapToPixel:true;var o=e.rotateWithView!==undefined?e.rotateWithView:false;ol.style.Image.call(this,{opacity:1,rotateWithView:o,rotation:e.rotation!==undefined?e.rotation:0,scale:1,snapToPixel:t})};ol.inherits(ol.style.RegularShape,ol.style.Image);ol.style.RegularShape.prototype.clone=function(){var e=new ol.style.RegularShape({fill:this.getFill()?this.getFill().clone():undefined,points:this.getRadius2()!==this.getRadius()?this.getPoints()/2:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),snapToPixel:this.getSnapToPixel(),stroke:this.getStroke()?this.getStroke().clone():undefined,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});e.setOpacity(this.getOpacity());e.setScale(this.getScale());return e};ol.style.RegularShape.prototype.getAnchor=function(){return this.anchor_};ol.style.RegularShape.prototype.getAngle=function(){return this.angle_};ol.style.RegularShape.prototype.getFill=function(){return this.fill_};ol.style.RegularShape.prototype.getHitDetectionImage=function(e){return this.hitDetectionCanvas_};ol.style.RegularShape.prototype.getImage=function(e){return this.canvas_};ol.style.RegularShape.prototype.getImageSize=function(){return this.imageSize_};ol.style.RegularShape.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_};ol.style.RegularShape.prototype.getImageState=function(){return ol.ImageState.LOADED};ol.style.RegularShape.prototype.getOrigin=function(){return this.origin_};ol.style.RegularShape.prototype.getPoints=function(){return this.points_};ol.style.RegularShape.prototype.getRadius=function(){return this.radius_};ol.style.RegularShape.prototype.getRadius2=function(){return this.radius2_};ol.style.RegularShape.prototype.getSize=function(){return this.size_};ol.style.RegularShape.prototype.getStroke=function(){return this.stroke_};ol.style.RegularShape.prototype.listenImageChange=function(e,t){};ol.style.RegularShape.prototype.load=function(){};ol.style.RegularShape.prototype.unlistenImageChange=function(e,t){};ol.style.RegularShape.prototype.render_=function(e){var t;var o="";var r="";var i=0;var n=null;var a;var l=0;if(this.stroke_){a=ol.colorlike.asColorLike(this.stroke_.getColor());l=this.stroke_.getWidth();if(l===undefined){l=ol.render.canvas.defaultLineWidth}n=this.stroke_.getLineDash();if(!ol.has.CANVAS_LINE_DASH){n=null}r=this.stroke_.getLineJoin();if(r===undefined){r=ol.render.canvas.defaultLineJoin}o=this.stroke_.getLineCap();if(o===undefined){o=ol.render.canvas.defaultLineCap}i=this.stroke_.getMiterLimit();if(i===undefined){i=ol.render.canvas.defaultMiterLimit}}var s=2*(this.radius_+l)+1;var p={strokeStyle:a,strokeWidth:l,size:s,lineCap:o,lineDash:n,lineJoin:r,miterLimit:i};if(e===undefined){var u=ol.dom.createCanvasContext2D(s,s);this.canvas_=u.canvas;s=this.canvas_.width;t=s;this.draw_(p,u,0,0);this.createHitDetectionCanvas_(p)}else{s=Math.round(s);var c=!this.fill_;var g;if(c){g=this.drawHitDetectionCanvas_.bind(this,p)}var h=this.getChecksum();var f=e.add(h,s,s,this.draw_.bind(this,p),g);this.canvas_=f.image;this.origin_=[f.offsetX,f.offsetY];t=f.image.width;if(c){this.hitDetectionCanvas_=f.hitImage;this.hitDetectionImageSize_=[f.hitImage.width,f.hitImage.height]}else{this.hitDetectionCanvas_=this.canvas_;this.hitDetectionImageSize_=[t,t]}}this.anchor_=[s/2,s/2];this.size_=[s,s];this.imageSize_=[t,t]};ol.style.RegularShape.prototype.draw_=function(e,t,o,r){var i,n,a;t.setTransform(1,0,0,1,0,0);t.translate(o,r);t.beginPath();if(this.points_===Infinity){t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,true)}else{if(this.radius2_!==this.radius_){this.points_=2*this.points_}for(i=0;i<=this.points_;i++){n=i*2*Math.PI/this.points_-Math.PI/2+this.angle_;a=i%2===0?this.radius_:this.radius2_;t.lineTo(e.size/2+a*Math.cos(n),e.size/2+a*Math.sin(n))}}if(this.fill_){t.fillStyle=ol.colorlike.asColorLike(this.fill_.getColor());t.fill()}if(this.stroke_){t.strokeStyle=e.strokeStyle;t.lineWidth=e.strokeWidth;if(e.lineDash){t.setLineDash(e.lineDash)}t.lineCap=e.lineCap;t.lineJoin=e.lineJoin;t.miterLimit=e.miterLimit;t.stroke()}t.closePath()};ol.style.RegularShape.prototype.createHitDetectionCanvas_=function(e){this.hitDetectionImageSize_=[e.size,e.size];if(this.fill_){this.hitDetectionCanvas_=this.canvas_;return}var t=ol.dom.createCanvasContext2D(e.size,e.size);this.hitDetectionCanvas_=t.canvas;this.drawHitDetectionCanvas_(e,t,0,0)};ol.style.RegularShape.prototype.drawHitDetectionCanvas_=function(e,t,o,r){t.setTransform(1,0,0,1,0,0);t.translate(o,r);t.beginPath();if(this.points_===Infinity){t.arc(e.size/2,e.size/2,this.radius_,0,2*Math.PI,true)}else{if(this.radius2_!==this.radius_){this.points_=2*this.points_}var i,n,a;for(i=0;i<=this.points_;i++){a=i*2*Math.PI/this.points_-Math.PI/2+this.angle_;n=i%2===0?this.radius_:this.radius2_;t.lineTo(e.size/2+n*Math.cos(a),e.size/2+n*Math.sin(a))}}t.fillStyle=ol.render.canvas.defaultFillStyle;t.fill();if(this.stroke_){t.strokeStyle=e.strokeStyle;t.lineWidth=e.strokeWidth;if(e.lineDash){t.setLineDash(e.lineDash)}t.stroke()}t.closePath()};ol.style.RegularShape.prototype.getChecksum=function(){var e=this.stroke_?this.stroke_.getChecksum():"-";var t=this.fill_?this.fill_.getChecksum():"-";var o=!this.checksums_||(e!=this.checksums_[1]||t!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]);if(o){var r="r"+e+t+(this.radius_!==undefined?this.radius_.toString():"-")+(this.radius2_!==undefined?this.radius2_.toString():"-")+(this.angle_!==undefined?this.angle_.toString():"-")+(this.points_!==undefined?this.points_.toString():"-");this.checksums_=[r,e,t,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]};goog.provide("ol.style.Circle");goog.require("ol");goog.require("ol.style.RegularShape");ol.style.Circle=function(e){var t=e||{};ol.style.RegularShape.call(this,{points:Infinity,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})};ol.inherits(ol.style.Circle,ol.style.RegularShape);ol.style.Circle.prototype.clone=function(){var e=new ol.style.Circle({fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,radius:this.getRadius(),snapToPixel:this.getSnapToPixel(),atlasManager:this.atlasManager_});e.setOpacity(this.getOpacity());e.setScale(this.getScale());return e};ol.style.Circle.prototype.setRadius=function(e){this.radius_=e;this.render_(this.atlasManager_)};goog.provide("ol.style.Fill");goog.require("ol");goog.require("ol.color");ol.style.Fill=function(e){var t=e||{};this.color_=t.color!==undefined?t.color:null;this.checksum_=undefined};ol.style.Fill.prototype.clone=function(){var e=this.getColor();return new ol.style.Fill({color:e&&e.slice?e.slice():e||undefined})};ol.style.Fill.prototype.getColor=function(){return this.color_};ol.style.Fill.prototype.setColor=function(e){this.color_=e;this.checksum_=undefined};ol.style.Fill.prototype.getChecksum=function(){if(this.checksum_===undefined){if(this.color_ instanceof CanvasPattern||this.color_ instanceof CanvasGradient){this.checksum_=ol.getUid(this.color_).toString()}else{this.checksum_="f"+(this.color_?ol.color.asString(this.color_):"-")}}return this.checksum_};goog.provide("ol.style.Style");goog.require("ol.asserts");goog.require("ol.geom.GeometryType");goog.require("ol.style.Circle");goog.require("ol.style.Fill");goog.require("ol.style.Stroke");ol.style.Style=function(e){var t=e||{};this.geometry_=null;this.geometryFunction_=ol.style.Style.defaultGeometryFunction;if(t.geometry!==undefined){this.setGeometry(t.geometry)}this.fill_=t.fill!==undefined?t.fill:null;this.image_=t.image!==undefined?t.image:null;this.stroke_=t.stroke!==undefined?t.stroke:null;this.text_=t.text!==undefined?t.text:null;this.zIndex_=t.zIndex};ol.style.Style.prototype.clone=function(){var e=this.getGeometry();if(e&&e.clone){e=e.clone()}return new ol.style.Style({geometry:e,fill:this.getFill()?this.getFill().clone():undefined,image:this.getImage()?this.getImage().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,text:this.getText()?this.getText().clone():undefined,zIndex:this.getZIndex()})};ol.style.Style.prototype.getGeometry=function(){return this.geometry_};ol.style.Style.prototype.getGeometryFunction=function(){return this.geometryFunction_};ol.style.Style.prototype.getFill=function(){return this.fill_};ol.style.Style.prototype.setFill=function(e){this.fill_=e};ol.style.Style.prototype.getImage=function(){return this.image_};ol.style.Style.prototype.setImage=function(e){this.image_=e};ol.style.Style.prototype.getStroke=function(){return this.stroke_};ol.style.Style.prototype.setStroke=function(e){this.stroke_=e};ol.style.Style.prototype.getText=function(){return this.text_};ol.style.Style.prototype.setText=function(e){this.text_=e};ol.style.Style.prototype.getZIndex=function(){return this.zIndex_};ol.style.Style.prototype.setGeometry=function(e){if(typeof e==="function"){this.geometryFunction_=e}else if(typeof e==="string"){this.geometryFunction_=function(t){return t.get(e)}}else if(!e){this.geometryFunction_=ol.style.Style.defaultGeometryFunction}else if(e!==undefined){this.geometryFunction_=function(){return e}}this.geometry_=e};ol.style.Style.prototype.setZIndex=function(e){this.zIndex_=e};ol.style.Style.createFunction=function(e){var t;if(typeof e==="function"){t=e}else{var o;if(Array.isArray(e)){o=e}else{ol.asserts.assert(e instanceof ol.style.Style,41);o=[e]}t=function(){return o}}return t};ol.style.Style.default_=null;ol.style.Style.defaultFunction=function(e,t){if(!ol.style.Style.default_){var o=new ol.style.Fill({color:"rgba(255,255,255,0.4)"});var r=new ol.style.Stroke({color:"#3399CC",width:1.25});ol.style.Style.default_=[new ol.style.Style({image:new ol.style.Circle({fill:o,stroke:r,radius:5}),fill:o,stroke:r})]}return ol.style.Style.default_};ol.style.Style.createDefaultEditing=function(){var e={};var t=[255,255,255,1];var o=[0,153,255,1];var r=3;e[ol.geom.GeometryType.POLYGON]=[new ol.style.Style({fill:new ol.style.Fill({color:[255,255,255,.5]})})];e[ol.geom.GeometryType.MULTI_POLYGON]=e[ol.geom.GeometryType.POLYGON];e[ol.geom.GeometryType.LINE_STRING]=[new ol.style.Style({stroke:new ol.style.Stroke({color:t,width:r+2})}),new ol.style.Style({stroke:new ol.style.Stroke({color:o,width:r})})];e[ol.geom.GeometryType.MULTI_LINE_STRING]=e[ol.geom.GeometryType.LINE_STRING];e[ol.geom.GeometryType.CIRCLE]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING]);e[ol.geom.GeometryType.POINT]=[new ol.style.Style({image:new ol.style.Circle({radius:r*2,fill:new ol.style.Fill({color:o}),stroke:new ol.style.Stroke({color:t,width:r/2})}),zIndex:Infinity})];e[ol.geom.GeometryType.MULTI_POINT]=e[ol.geom.GeometryType.POINT];e[ol.geom.GeometryType.GEOMETRY_COLLECTION]=e[ol.geom.GeometryType.POLYGON].concat(e[ol.geom.GeometryType.LINE_STRING],e[ol.geom.GeometryType.POINT]);return e};ol.style.Style.defaultGeometryFunction=function(e){return e.getGeometry()};goog.provide("ol.Feature");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol");goog.require("ol.Object");goog.require("ol.geom.Geometry");goog.require("ol.style.Style");ol.Feature=function(e){ol.Object.call(this);this.id_=undefined;this.geometryName_="geometry";this.style_=null;this.styleFunction_=undefined;this.geometryChangeKey_=null;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);if(e!==undefined){if(e instanceof ol.geom.Geometry||!e){var t=e;this.setGeometry(t)}else{var o=e;this.setProperties(o)}}};ol.inherits(ol.Feature,ol.Object);ol.Feature.prototype.clone=function(){var e=new ol.Feature(this.getProperties());e.setGeometryName(this.getGeometryName());var t=this.getGeometry();if(t){e.setGeometry(t.clone())}var o=this.getStyle();if(o){e.setStyle(o)}return e};ol.Feature.prototype.getGeometry=function(){return this.get(this.geometryName_)};ol.Feature.prototype.getId=function(){return this.id_};ol.Feature.prototype.getGeometryName=function(){return this.geometryName_};ol.Feature.prototype.getStyle=function(){return this.style_};ol.Feature.prototype.getStyleFunction=function(){return this.styleFunction_};ol.Feature.prototype.handleGeometryChange_=function(){this.changed()};ol.Feature.prototype.handleGeometryChanged_=function(){if(this.geometryChangeKey_){ol.events.unlistenByKey(this.geometryChangeKey_);this.geometryChangeKey_=null}var e=this.getGeometry();if(e){this.geometryChangeKey_=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleGeometryChange_,this)}this.changed()};ol.Feature.prototype.setGeometry=function(e){this.set(this.geometryName_,e)};ol.Feature.prototype.setStyle=function(e){this.style_=e;this.styleFunction_=!e?undefined:ol.Feature.createStyleFunction(e);this.changed()};ol.Feature.prototype.setId=function(e){this.id_=e;this.changed()};ol.Feature.prototype.setGeometryName=function(e){ol.events.unlisten(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.geometryName_=e;ol.events.listen(this,ol.Object.getChangeEventType(this.geometryName_),this.handleGeometryChanged_,this);this.handleGeometryChanged_()};ol.Feature.createStyleFunction=function(e){var t;if(typeof e==="function"){if(e.length==2){t=function(t){return e(this,t)}}else{t=e}}else{var o;if(Array.isArray(e)){o=e}else{ol.asserts.assert(e instanceof ol.style.Style,41);o=[e]}t=function(){return o}}return t};goog.provide("ol.format.FormatType");ol.format.FormatType={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};goog.provide("ol.xml");goog.require("ol.array");ol.xml.DOCUMENT=document.implementation.createDocument("","",null);ol.xml.createElementNS=function(e,t){return ol.xml.DOCUMENT.createElementNS(e,t)};ol.xml.getAllTextContent=function(e,t){return ol.xml.getAllTextContent_(e,t,[]).join("")};ol.xml.getAllTextContent_=function(e,t,o){if(e.nodeType==Node.CDATA_SECTION_NODE||e.nodeType==Node.TEXT_NODE){if(t){o.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,""))}else{o.push(e.nodeValue)}}else{var r;for(r=e.firstChild;r;r=r.nextSibling){ol.xml.getAllTextContent_(r,t,o)}}return o};ol.xml.isDocument=function(e){return e instanceof Document};ol.xml.isNode=function(e){return e instanceof Node};ol.xml.getAttributeNS=function(e,t,o){return e.getAttributeNS(t,o)||""};ol.xml.setAttributeNS=function(e,t,o,r){e.setAttributeNS(t,o,r)};ol.xml.parse=function(e){return(new DOMParser).parseFromString(e,"application/xml")};ol.xml.makeArrayExtender=function(e,t){return function(o,r){var i=e.call(t,o,r);if(i!==undefined){var n=r[r.length-1];ol.array.extend(n,i)}}};ol.xml.makeArrayPusher=function(e,t){return function(o,r){var i=e.call(t!==undefined?t:this,o,r);if(i!==undefined){var n=r[r.length-1];n.push(i)}}};ol.xml.makeReplacer=function(e,t){return function(o,r){var i=e.call(t!==undefined?t:this,o,r);if(i!==undefined){r[r.length-1]=i}}};ol.xml.makeObjectPropertyPusher=function(e,t,o){return function(r,i){var n=e.call(o!==undefined?o:this,r,i);if(n!==undefined){var a=i[i.length-1];var l=t!==undefined?t:r.localName;var s;if(l in a){s=a[l]}else{s=a[l]=[]}s.push(n)}}};ol.xml.makeObjectPropertySetter=function(e,t,o){return function(r,i){var n=e.call(o!==undefined?o:this,r,i);if(n!==undefined){var a=i[i.length-1];var l=t!==undefined?t:r.localName;a[l]=n}}};ol.xml.makeChildAppender=function(e,t){return function(o,r,i){e.call(t!==undefined?t:this,o,r,i);var n=i[i.length-1];var a=n.node;a.appendChild(o)}};ol.xml.makeArraySerializer=function(e,t){var o,r;return function(t,i,n){if(o===undefined){o={};var a={};a[t.localName]=e;o[t.namespaceURI]=a;r=ol.xml.makeSimpleNodeFactory(t.localName)}ol.xml.serialize(o,r,i,n)}};ol.xml.makeSimpleNodeFactory=function(e,t){var o=e;return function(e,r,i){var n=r[r.length-1];var a=n.node;var l=o;if(l===undefined){l=i}var s=t;if(t===undefined){s=a.namespaceURI}return ol.xml.createElementNS(s,l)}};ol.xml.OBJECT_PROPERTY_NODE_FACTORY=ol.xml.makeSimpleNodeFactory();ol.xml.makeSequence=function(e,t){var o=t.length;var r=new Array(o);for(var i=0;i<o;++i){r[i]=e[t[i]]}return r};ol.xml.makeStructureNS=function(e,t,o){var r=o!==undefined?o:{};var i,n;for(i=0,n=e.length;i<n;++i){r[e[i]]=t}return r};ol.xml.parseNode=function(e,t,o,r){var i;for(i=t.firstElementChild;i;i=i.nextElementSibling){var n=e[i.namespaceURI];if(n!==undefined){var a=n[i.localName];if(a!==undefined){a.call(r,i,o)}}}};ol.xml.pushParseAndPop=function(e,t,o,r,i){r.push(e);ol.xml.parseNode(t,o,r,i);return r.pop()};ol.xml.serialize=function(e,t,o,r,i,n){var a=(i!==undefined?i:o).length;var l,s;for(var p=0;p<a;++p){l=o[p];if(l!==undefined){
s=t.call(n,l,r,i!==undefined?i[p]:undefined);if(s!==undefined){e[s.namespaceURI][s.localName].call(n,s,l,r)}}}};ol.xml.pushSerializeAndPop=function(e,t,o,r,i,n,a){i.push(e);ol.xml.serialize(t,o,r,i,n,a);return i.pop()};goog.provide("ol.featureloader");goog.require("ol");goog.require("ol.format.FormatType");goog.require("ol.xml");ol.featureloader.loadFeaturesXhr=function(e,t,o,r){return function(i,n,a){var l=new XMLHttpRequest;l.open("GET",typeof e==="function"?e(i,n,a):e,true);if(t.getType()==ol.format.FormatType.ARRAY_BUFFER){l.responseType="arraybuffer"}l.onload=function(e){if(!l.status||l.status>=200&&l.status<300){var i=t.getType();var n;if(i==ol.format.FormatType.JSON||i==ol.format.FormatType.TEXT){n=l.responseText}else if(i==ol.format.FormatType.XML){n=l.responseXML;if(!n){n=ol.xml.parse(l.responseText)}}else if(i==ol.format.FormatType.ARRAY_BUFFER){n=l.response}if(n){o.call(this,t.readFeatures(n,{featureProjection:a}),t.readProjection(n))}else{r.call(this)}}else{r.call(this)}}.bind(this);l.send()}};ol.featureloader.xhr=function(e,t){return ol.featureloader.loadFeaturesXhr(e,t,function(e,t){this.addFeatures(e)},ol.nullFunction)};goog.provide("ol.format.Feature");goog.require("ol.geom.Geometry");goog.require("ol.obj");goog.require("ol.proj");ol.format.Feature=function(){this.defaultDataProjection=null;this.defaultFeatureProjection=null};ol.format.Feature.prototype.getReadOptions=function(e,t){var o;if(t){o={dataProjection:t.dataProjection?t.dataProjection:this.readProjection(e),featureProjection:t.featureProjection}}return this.adaptOptions(o)};ol.format.Feature.prototype.adaptOptions=function(e){return ol.obj.assign({dataProjection:this.defaultDataProjection,featureProjection:this.defaultFeatureProjection},e)};ol.format.Feature.prototype.getType=function(){};ol.format.Feature.prototype.readFeature=function(e,t){};ol.format.Feature.prototype.readFeatures=function(e,t){};ol.format.Feature.prototype.readGeometry=function(e,t){};ol.format.Feature.prototype.readProjection=function(e){};ol.format.Feature.prototype.writeFeature=function(e,t){};ol.format.Feature.prototype.writeFeatures=function(e,t){};ol.format.Feature.prototype.writeGeometry=function(e,t){};ol.format.Feature.transformWithOptions=function(e,t,o){var r=o?ol.proj.get(o.featureProjection):null;var i=o?ol.proj.get(o.dataProjection):null;var n;if(r&&i&&!ol.proj.equivalent(r,i)){if(e instanceof ol.geom.Geometry){n=(t?e.clone():e).transform(t?r:i,t?i:r)}else{n=ol.proj.transformExtent(t?e.slice():e,t?r:i,t?i:r)}}else{n=e}if(t&&o&&o.decimals){var a=Math.pow(10,o.decimals);var l=function(e){for(var t=0,o=e.length;t<o;++t){e[t]=Math.round(e[t]*a)/a}return e};if(Array.isArray(n)){l(n)}else{n.applyTransform(l)}}return n};goog.provide("ol.format.JSONFeature");goog.require("ol");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");ol.format.JSONFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.JSONFeature,ol.format.Feature);ol.format.JSONFeature.prototype.getObject_=function(e){if(typeof e==="string"){var t=JSON.parse(e);return t?t:null}else if(e!==null){return e}else{return null}};ol.format.JSONFeature.prototype.getType=function(){return ol.format.FormatType.JSON};ol.format.JSONFeature.prototype.readFeature=function(e,t){return this.readFeatureFromObject(this.getObject_(e),this.getReadOptions(e,t))};ol.format.JSONFeature.prototype.readFeatures=function(e,t){return this.readFeaturesFromObject(this.getObject_(e),this.getReadOptions(e,t))};ol.format.JSONFeature.prototype.readFeatureFromObject=function(e,t){};ol.format.JSONFeature.prototype.readFeaturesFromObject=function(e,t){};ol.format.JSONFeature.prototype.readGeometry=function(e,t){return this.readGeometryFromObject(this.getObject_(e),this.getReadOptions(e,t))};ol.format.JSONFeature.prototype.readGeometryFromObject=function(e,t){};ol.format.JSONFeature.prototype.readProjection=function(e){return this.readProjectionFromObject(this.getObject_(e))};ol.format.JSONFeature.prototype.readProjectionFromObject=function(e){};ol.format.JSONFeature.prototype.writeFeature=function(e,t){return JSON.stringify(this.writeFeatureObject(e,t))};ol.format.JSONFeature.prototype.writeFeatureObject=function(e,t){};ol.format.JSONFeature.prototype.writeFeatures=function(e,t){return JSON.stringify(this.writeFeaturesObject(e,t))};ol.format.JSONFeature.prototype.writeFeaturesObject=function(e,t){};ol.format.JSONFeature.prototype.writeGeometry=function(e,t){return JSON.stringify(this.writeGeometryObject(e,t))};ol.format.JSONFeature.prototype.writeGeometryObject=function(e,t){};goog.provide("ol.geom.flat.interpolate");goog.require("ol.array");goog.require("ol.math");ol.geom.flat.interpolate.lineString=function(e,t,o,r,i,n){var a=NaN;var l=NaN;var s=(o-t)/r;if(s===1){a=e[t];l=e[t+1]}else if(s==2){a=(1-i)*e[t]+i*e[t+r];l=(1-i)*e[t+1]+i*e[t+r+1]}else if(s!==0){var p=e[t];var u=e[t+1];var c=0;var g=[0];var h;for(h=t+r;h<o;h+=r){var f=e[h];var d=e[h+1];c+=Math.sqrt((f-p)*(f-p)+(d-u)*(d-u));g.push(c);p=f;u=d}var y=i*c;var m=ol.array.binarySearch(g,y);if(m<0){var v=(y-g[-m-2])/(g[-m-1]-g[-m-2]);var _=t+(-m-2)*r;a=ol.math.lerp(e[_],e[_+r],v);l=ol.math.lerp(e[_+1],e[_+r+1],v)}else{a=e[t+m*r];l=e[t+m*r+1]}}if(n){n[0]=a;n[1]=l;return n}else{return[a,l]}};ol.geom.flat.interpolate.lineStringCoordinateAtM=function(e,t,o,r,i,n){if(o==t){return null}var a;if(i<e[t+r-1]){if(n){a=e.slice(t,t+r);a[r-1]=i;return a}else{return null}}else if(e[o-1]<i){if(n){a=e.slice(o-r,o);a[r-1]=i;return a}else{return null}}if(i==e[t+r-1]){return e.slice(t,t+r)}var l=t/r;var s=o/r;while(l<s){var p=l+s>>1;if(i<e[(p+1)*r-1]){s=p}else{l=p+1}}var u=e[l*r-1];if(i==u){return e.slice((l-1)*r,(l-1)*r+r)}var c=e[(l+1)*r-1];var g=(i-u)/(c-u);a=[];var h;for(h=0;h<r-1;++h){a.push(ol.math.lerp(e[(l-1)*r+h],e[l*r+h],g))}a.push(i);return a};ol.geom.flat.interpolate.lineStringsCoordinateAtM=function(e,t,o,r,i,n,a){if(a){return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,t,o[o.length-1],r,i,n)}var l;if(i<e[r-1]){if(n){l=e.slice(0,r);l[r-1]=i;return l}else{return null}}if(e[e.length-1]<i){if(n){l=e.slice(e.length-r);l[r-1]=i;return l}else{return null}}var s,p;for(s=0,p=o.length;s<p;++s){var u=o[s];if(t==u){continue}if(i<e[t+r-1]){return null}else if(i<=e[u-1]){return ol.geom.flat.interpolate.lineStringCoordinateAtM(e,t,u,r,i,false)}t=u}return null};goog.provide("ol.geom.flat.length");ol.geom.flat.length.lineString=function(e,t,o,r){var i=e[t];var n=e[t+1];var a=0;var l;for(l=t+r;l<o;l+=r){var s=e[l];var p=e[l+1];a+=Math.sqrt((s-i)*(s-i)+(p-n)*(p-n));i=s;n=p}return a};ol.geom.flat.length.linearRing=function(e,t,o,r){var i=ol.geom.flat.length.lineString(e,t,o,r);var n=e[o-r]-e[t];var a=e[o-r+1]-e[t+1];i+=Math.sqrt(n*n+a*a);return i};goog.provide("ol.geom.LineString");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.length");goog.require("ol.geom.flat.segments");goog.require("ol.geom.flat.simplify");ol.geom.LineString=function(e,t){ol.geom.SimpleGeometry.call(this);this.flatMidpoint_=null;this.flatMidpointRevision_=-1;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,t)};ol.inherits(ol.geom.LineString,ol.geom.SimpleGeometry);ol.geom.LineString.prototype.appendCoordinate=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.slice()}else{ol.array.extend(this.flatCoordinates,e)}this.changed()};ol.geom.LineString.prototype.clone=function(){var e=new ol.geom.LineString(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.LineString.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getMaxSquaredDelta(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getClosestPoint(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,false,e,t,o,r)};ol.geom.LineString.prototype.forEachSegment=function(e,t){return ol.geom.flat.segments.forEach(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)};ol.geom.LineString.prototype.getCoordinateAtM=function(e,t){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM){return null}var o=t!==undefined?t:false;return ol.geom.flat.interpolate.lineStringCoordinateAtM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o)};ol.geom.LineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getCoordinateAt=function(e,t){return ol.geom.flat.interpolate.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)};ol.geom.LineString.prototype.getLength=function(){return ol.geom.flat.length.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.LineString.prototype.getFlatMidpoint=function(){if(this.flatMidpointRevision_!=this.getRevision()){this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_);this.flatMidpointRevision_=this.getRevision()}return this.flatMidpoint_};ol.geom.LineString.prototype.getSimplifiedGeometryInternal=function(e){var t=[];t.length=ol.geom.flat.simplify.douglasPeucker(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0);var o=new ol.geom.LineString(null);o.setFlatCoordinates(ol.geom.GeometryLayout.XY,t);return o};ol.geom.LineString.prototype.getType=function(){return ol.geom.GeometryType.LINE_STRING};ol.geom.LineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineString(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)};ol.geom.LineString.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.LineString.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.MultiLineString");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interpolate");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.simplify");ol.geom.MultiLineString=function(e,t){ol.geom.SimpleGeometry.call(this);this.ends_=[];this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.setCoordinates(e,t)};ol.inherits(ol.geom.MultiLineString,ol.geom.SimpleGeometry);ol.geom.MultiLineString.prototype.appendLineString=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,e.getFlatCoordinates().slice())}this.ends_.push(this.flatCoordinates.length);this.changed()};ol.geom.MultiLineString.prototype.clone=function(){var e=new ol.geom.MultiLineString(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),this.ends_.slice());return e};ol.geom.MultiLineString.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getsMaxSquaredDelta(this.flatCoordinates,0,this.ends_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getsClosestPoint(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,false,e,t,o,r)};ol.geom.MultiLineString.prototype.getCoordinateAtM=function(e,t,o){if(this.layout!=ol.geom.GeometryLayout.XYM&&this.layout!=ol.geom.GeometryLayout.XYZM||this.flatCoordinates.length===0){return null}var r=t!==undefined?t:false;var i=o!==undefined?o:false;return ol.geom.flat.interpolate.lineStringsCoordinateAtM(this.flatCoordinates,0,this.ends_,this.stride,e,r,i)};ol.geom.MultiLineString.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinatess(this.flatCoordinates,0,this.ends_,this.stride)};ol.geom.MultiLineString.prototype.getEnds=function(){return this.ends_};ol.geom.MultiLineString.prototype.getLineString=function(e){if(e<0||this.ends_.length<=e){return null}var t=new ol.geom.LineString(null);t.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e===0?0:this.ends_[e-1],this.ends_[e]));return t};ol.geom.MultiLineString.prototype.getLineStrings=function(){var e=this.flatCoordinates;var t=this.ends_;var o=this.layout;var r=[];var i=0;var n,a;for(n=0,a=t.length;n<a;++n){var l=t[n];var s=new ol.geom.LineString(null);s.setFlatCoordinates(o,e.slice(i,l));r.push(s);i=l}return r};ol.geom.MultiLineString.prototype.getFlatMidpoints=function(){var e=[];var t=this.flatCoordinates;var o=0;var r=this.ends_;var i=this.stride;var n,a;for(n=0,a=r.length;n<a;++n){var l=r[n];var s=ol.geom.flat.interpolate.lineString(t,o,l,i,.5);ol.array.extend(e,s);o=l}return e};ol.geom.MultiLineString.prototype.getSimplifiedGeometryInternal=function(e){var t=[];var o=[];t.length=ol.geom.flat.simplify.douglasPeuckers(this.flatCoordinates,0,this.ends_,this.stride,e,t,0,o);var r=new ol.geom.MultiLineString(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,o);return r};ol.geom.MultiLineString.prototype.getType=function(){return ol.geom.GeometryType.MULTI_LINE_STRING};ol.geom.MultiLineString.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.lineStrings(this.flatCoordinates,0,this.ends_,this.stride,e)};ol.geom.MultiLineString.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.ends_)}else{this.setLayout(t,e,2);if(!this.flatCoordinates){this.flatCoordinates=[]}var o=ol.geom.flat.deflate.coordinatess(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=o.length===0?0:o[o.length-1];this.changed()}};ol.geom.MultiLineString.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t);this.ends_=o;this.changed()};ol.geom.MultiLineString.prototype.setLineStrings=function(e){var t=this.getLayout();var o=[];var r=[];var i,n;for(i=0,n=e.length;i<n;++i){var a=e[i];if(i===0){t=a.getLayout()}ol.array.extend(o,a.getFlatCoordinates());r.push(o.length)}this.setFlatCoordinates(t,o,r)};goog.provide("ol.geom.MultiPoint");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.math");ol.geom.MultiPoint=function(e,t){ol.geom.SimpleGeometry.call(this);this.setCoordinates(e,t)};ol.inherits(ol.geom.MultiPoint,ol.geom.SimpleGeometry);ol.geom.MultiPoint.prototype.appendPoint=function(e){if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice()}else{ol.array.extend(this.flatCoordinates,e.getFlatCoordinates())}this.changed()};ol.geom.MultiPoint.prototype.clone=function(){var e=new ol.geom.MultiPoint(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.MultiPoint.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}var i=this.flatCoordinates;var n=this.stride;var a,l,s;for(a=0,l=i.length;a<l;a+=n){var p=ol.math.squaredDistance(e,t,i[a],i[a+1]);if(p<r){r=p;for(s=0;s<n;++s){o[s]=i[a+s]}o.length=n}}return r};ol.geom.MultiPoint.prototype.getCoordinates=function(){return ol.geom.flat.inflate.coordinates(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)};ol.geom.MultiPoint.prototype.getPoint=function(e){var t=!this.flatCoordinates?0:this.flatCoordinates.length/this.stride;if(e<0||t<=e){return null}var o=new ol.geom.Point(null);o.setFlatCoordinates(this.layout,this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride));return o};ol.geom.MultiPoint.prototype.getPoints=function(){var e=this.flatCoordinates;var t=this.layout;var o=this.stride;var r=[];var i,n;for(i=0,n=e.length;i<n;i+=o){var a=new ol.geom.Point(null);a.setFlatCoordinates(t,e.slice(i,i+o));r.push(a)}return r};ol.geom.MultiPoint.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POINT};ol.geom.MultiPoint.prototype.intersectsExtent=function(e){var t=this.flatCoordinates;var o=this.stride;var r,i,n,a;for(r=0,i=t.length;r<i;r+=o){n=t[r];a=t[r+1];if(ol.extent.containsXY(e,n,a)){return true}}return false};ol.geom.MultiPoint.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(t,e,1);if(!this.flatCoordinates){this.flatCoordinates=[]}this.flatCoordinates.length=ol.geom.flat.deflate.coordinates(this.flatCoordinates,0,e,this.stride);this.changed()}};ol.geom.MultiPoint.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};goog.provide("ol.geom.flat.center");goog.require("ol.extent");ol.geom.flat.center.linearRingss=function(e,t,o,r){var i=[];var n,a;var l=ol.extent.createEmpty();for(n=0,a=o.length;n<a;++n){var s=o[n];l=ol.extent.createOrUpdateFromFlatCoordinates(e,t,s[0],r);i.push((l[0]+l[2])/2,(l[1]+l[3])/2);t=s[s.length-1]}return i};goog.provide("ol.geom.MultiPolygon");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.area");goog.require("ol.geom.flat.center");goog.require("ol.geom.flat.closest");goog.require("ol.geom.flat.contains");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.inflate");goog.require("ol.geom.flat.interiorpoint");goog.require("ol.geom.flat.intersectsextent");goog.require("ol.geom.flat.orient");goog.require("ol.geom.flat.simplify");ol.geom.MultiPolygon=function(e,t){ol.geom.SimpleGeometry.call(this);this.endss_=[];this.flatInteriorPointsRevision_=-1;this.flatInteriorPoints_=null;this.maxDelta_=-1;this.maxDeltaRevision_=-1;this.orientedRevision_=-1;this.orientedFlatCoordinates_=null;this.setCoordinates(e,t)};ol.inherits(ol.geom.MultiPolygon,ol.geom.SimpleGeometry);ol.geom.MultiPolygon.prototype.appendPolygon=function(e){var t;if(!this.flatCoordinates){this.flatCoordinates=e.getFlatCoordinates().slice();t=e.getEnds().slice();this.endss_.push()}else{var o=this.flatCoordinates.length;ol.array.extend(this.flatCoordinates,e.getFlatCoordinates());t=e.getEnds().slice();var r,i;for(r=0,i=t.length;r<i;++r){t[r]+=o}}this.endss_.push(t);this.changed()};ol.geom.MultiPolygon.prototype.clone=function(){var e=new ol.geom.MultiPolygon(null);var t=this.endss_.length;var o=new Array(t);for(var r=0;r<t;++r){o[r]=this.endss_[r].slice()}e.setFlatCoordinates(this.layout,this.flatCoordinates.slice(),o);return e};ol.geom.MultiPolygon.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}if(this.maxDeltaRevision_!=this.getRevision()){this.maxDelta_=Math.sqrt(ol.geom.flat.closest.getssMaxSquaredDelta(this.flatCoordinates,0,this.endss_,this.stride,0));this.maxDeltaRevision_=this.getRevision()}return ol.geom.flat.closest.getssClosestPoint(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,true,e,t,o,r)};ol.geom.MultiPolygon.prototype.containsXY=function(e,t){return ol.geom.flat.contains.linearRingssContainsXY(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)};ol.geom.MultiPolygon.prototype.getArea=function(){return ol.geom.flat.area.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getCoordinates=function(e){var t;if(e!==undefined){t=this.getOrientedFlatCoordinates().slice();ol.geom.flat.orient.orientLinearRingss(t,0,this.endss_,this.stride,e)}else{t=this.flatCoordinates}return ol.geom.flat.inflate.coordinatesss(t,0,this.endss_,this.stride)};ol.geom.MultiPolygon.prototype.getEndss=function(){return this.endss_};ol.geom.MultiPolygon.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=ol.geom.flat.center.linearRingss(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=ol.geom.flat.interiorpoint.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e);this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_};ol.geom.MultiPolygon.prototype.getInteriorPoints=function(){var e=new ol.geom.MultiPoint(null);e.setFlatCoordinates(ol.geom.GeometryLayout.XY,this.getFlatInteriorPoints().slice());return e};ol.geom.MultiPolygon.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;if(ol.geom.flat.orient.linearRingssAreOriented(e,0,this.endss_,this.stride)){this.orientedFlatCoordinates_=e}else{this.orientedFlatCoordinates_=e.slice();this.orientedFlatCoordinates_.length=ol.geom.flat.orient.orientLinearRingss(this.orientedFlatCoordinates_,0,this.endss_,this.stride)}this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_};ol.geom.MultiPolygon.prototype.getSimplifiedGeometryInternal=function(e){var t=[];var o=[];t.length=ol.geom.flat.simplify.quantizess(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(e),t,0,o);var r=new ol.geom.MultiPolygon(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XY,t,o);return r};ol.geom.MultiPolygon.prototype.getPolygon=function(e){if(e<0||this.endss_.length<=e){return null}var t;if(e===0){t=0}else{var o=this.endss_[e-1];t=o[o.length-1]}var r=this.endss_[e].slice();var i=r[r.length-1];if(t!==0){var n,a;for(n=0,a=r.length;n<a;++n){r[n]-=t}}var l=new ol.geom.Polygon(null);l.setFlatCoordinates(this.layout,this.flatCoordinates.slice(t,i),r);return l};ol.geom.MultiPolygon.prototype.getPolygons=function(){var e=this.layout;var t=this.flatCoordinates;var o=this.endss_;var r=[];var i=0;var n,a,l,s;for(n=0,a=o.length;n<a;++n){var p=o[n].slice();var u=p[p.length-1];if(i!==0){for(l=0,s=p.length;l<s;++l){p[l]-=i}}var c=new ol.geom.Polygon(null);c.setFlatCoordinates(e,t.slice(i,u),p);r.push(c);i=u}return r};ol.geom.MultiPolygon.prototype.getType=function(){return ol.geom.GeometryType.MULTI_POLYGON};ol.geom.MultiPolygon.prototype.intersectsExtent=function(e){return ol.geom.flat.intersectsextent.linearRingss(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)};ol.geom.MultiPolygon.prototype.setCoordinates=function(e,t){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null,this.endss_)}else{this.setLayout(t,e,3);if(!this.flatCoordinates){this.flatCoordinates=[]}var o=ol.geom.flat.deflate.coordinatesss(this.flatCoordinates,0,e,this.stride,this.endss_);if(o.length===0){this.flatCoordinates.length=0}else{var r=o[o.length-1];this.flatCoordinates.length=r.length===0?0:r[r.length-1]}this.changed()}};ol.geom.MultiPolygon.prototype.setFlatCoordinates=function(e,t,o){this.setFlatCoordinatesInternal(e,t);this.endss_=o;this.changed()};ol.geom.MultiPolygon.prototype.setPolygons=function(e){var t=this.getLayout();var o=[];var r=[];var i,n,a;for(i=0,n=e.length;i<n;++i){var l=e[i];if(i===0){t=l.getLayout()}var s=o.length;a=l.getEnds();var p,u;for(p=0,u=a.length;p<u;++p){a[p]+=s}ol.array.extend(o,l.getFlatCoordinates());r.push(a)}this.setFlatCoordinates(t,o,r)};goog.provide("ol.format.EsriJSON");goog.require("ol");goog.require("ol.Feature");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.flat.deflate");goog.require("ol.geom.flat.orient");goog.require("ol.obj");goog.require("ol.proj");ol.format.EsriJSON=function(e){var t=e?e:{};ol.format.JSONFeature.call(this);this.geometryName_=t.geometryName};ol.inherits(ol.format.EsriJSON,ol.format.JSONFeature);ol.format.EsriJSON.readGeometry_=function(e,t){if(!e){return null}var o;if(typeof e.x==="number"&&typeof e.y==="number"){o=ol.geom.GeometryType.POINT}else if(e.points){o=ol.geom.GeometryType.MULTI_POINT}else if(e.paths){if(e.paths.length===1){o=ol.geom.GeometryType.LINE_STRING}else{o=ol.geom.GeometryType.MULTI_LINE_STRING}}else if(e.rings){var r=ol.format.EsriJSON.getGeometryLayout_(e);var i=ol.format.EsriJSON.convertRings_(e.rings,r);e=ol.obj.assign({},e);if(i.length===1){o=ol.geom.GeometryType.POLYGON;e.rings=i[0]}else{o=ol.geom.GeometryType.MULTI_POLYGON;e.rings=i}}var n=ol.format.EsriJSON.GEOMETRY_READERS_[o];return ol.format.Feature.transformWithOptions(n(e),false,t)};ol.format.EsriJSON.convertRings_=function(e,t){var o=[];var r=[];var i=[];var n,a;for(n=0,a=e.length;n<a;++n){o.length=0;ol.geom.flat.deflate.coordinates(o,0,e[n],t.length);var l=ol.geom.flat.orient.linearRingIsClockwise(o,0,o.length,t.length);if(l){r.push([e[n]])}else{i.push(e[n])}}while(i.length){var s=i.shift();var p=false;for(n=r.length-1;n>=0;n--){var u=r[n][0];if(ol.extent.containsExtent(new ol.geom.LinearRing(u).getExtent(),new ol.geom.LinearRing(s).getExtent())){r[n].push(s);p=true;break}}if(!p){r.push([s.reverse()])}}return r};ol.format.EsriJSON.readPointGeometry_=function(e){var t;if(e.m!==undefined&&e.z!==undefined){t=new ol.geom.Point([e.x,e.y,e.z,e.m],ol.geom.GeometryLayout.XYZM)}else if(e.z!==undefined){t=new ol.geom.Point([e.x,e.y,e.z],ol.geom.GeometryLayout.XYZ)}else if(e.m!==undefined){t=new ol.geom.Point([e.x,e.y,e.m],ol.geom.GeometryLayout.XYM)}else{t=new ol.geom.Point([e.x,e.y])}return t};ol.format.EsriJSON.readLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.LineString(e.paths[0],t)};ol.format.EsriJSON.readMultiLineStringGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiLineString(e.paths,t)};ol.format.EsriJSON.getGeometryLayout_=function(e){var t=ol.geom.GeometryLayout.XY;if(e.hasZ===true&&e.hasM===true){t=ol.geom.GeometryLayout.XYZM}else if(e.hasZ===true){t=ol.geom.GeometryLayout.XYZ}else if(e.hasM===true){t=ol.geom.GeometryLayout.XYM}return t};ol.format.EsriJSON.readMultiPointGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPoint(e.points,t)};ol.format.EsriJSON.readMultiPolygonGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.MultiPolygon(e.rings,t)};ol.format.EsriJSON.readPolygonGeometry_=function(e){var t=ol.format.EsriJSON.getGeometryLayout_(e);return new ol.geom.Polygon(e.rings,t)};ol.format.EsriJSON.writePointGeometry_=function(e,t){var o=e.getCoordinates();var r;var i=e.getLayout();if(i===ol.geom.GeometryLayout.XYZ){r={x:o[0],y:o[1],z:o[2]}}else if(i===ol.geom.GeometryLayout.XYM){r={x:o[0],y:o[1],m:o[2]}}else if(i===ol.geom.GeometryLayout.XYZM){r={x:o[0],y:o[1],z:o[2],m:o[3]}}else if(i===ol.geom.GeometryLayout.XY){r={x:o[0],y:o[1]}}else{ol.asserts.assert(false,34)}return r};ol.format.EsriJSON.getHasZM_=function(e){var t=e.getLayout();return{hasZ:t===ol.geom.GeometryLayout.XYZ||t===ol.geom.GeometryLayout.XYZM,hasM:t===ol.geom.GeometryLayout.XYM||t===ol.geom.GeometryLayout.XYZM}};ol.format.EsriJSON.writeLineStringGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,paths:[e.getCoordinates()]}};ol.format.EsriJSON.writePolygonGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,rings:e.getCoordinates(false)}};ol.format.EsriJSON.writeMultiLineStringGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,paths:e.getCoordinates()}};ol.format.EsriJSON.writeMultiPointGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);return{hasZ:o.hasZ,hasM:o.hasM,points:e.getCoordinates()}};ol.format.EsriJSON.writeMultiPolygonGeometry_=function(e,t){var o=ol.format.EsriJSON.getHasZM_(e);var r=e.getCoordinates(false);var i=[];for(var n=0;n<r.length;n++){for(var a=r[n].length-1;a>=0;a--){i.push(r[n][a])}}return{hasZ:o.hasZ,hasM:o.hasM,rings:i}};ol.format.EsriJSON.GEOMETRY_READERS_={};ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.readPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.readLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.readPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.readMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.readMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_READERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.readMultiPolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_={};ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POINT]=ol.format.EsriJSON.writePointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.LINE_STRING]=ol.format.EsriJSON.writeLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.POLYGON]=ol.format.EsriJSON.writePolygonGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POINT]=ol.format.EsriJSON.writeMultiPointGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_LINE_STRING]=ol.format.EsriJSON.writeMultiLineStringGeometry_;ol.format.EsriJSON.GEOMETRY_WRITERS_[ol.geom.GeometryType.MULTI_POLYGON]=ol.format.EsriJSON.writeMultiPolygonGeometry_;ol.format.EsriJSON.prototype.readFeature;ol.format.EsriJSON.prototype.readFeatures;ol.format.EsriJSON.prototype.readFeatureFromObject=function(e,t){var o=e;var r=ol.format.EsriJSON.readGeometry_(o.geometry,t);var i=new ol.Feature;if(this.geometryName_){i.setGeometryName(this.geometryName_)}i.setGeometry(r);if(t&&t.idField&&o.attributes[t.idField]){i.setId(o.attributes[t.idField])}if(o.attributes){i.setProperties(o.attributes)}return i};ol.format.EsriJSON.prototype.readFeaturesFromObject=function(e,t){var o=e;var r=t?t:{};if(o.features){var i=e;var n=[];var a=i.features;var l,s;r.idField=e.objectIdFieldName;for(l=0,s=a.length;l<s;++l){n.push(this.readFeatureFromObject(a[l],r))}return n}else{return[this.readFeatureFromObject(e,r)]}};ol.format.EsriJSON.prototype.readGeometry;ol.format.EsriJSON.prototype.readGeometryFromObject=function(e,t){return ol.format.EsriJSON.readGeometry_(e,t)};ol.format.EsriJSON.prototype.readProjection;ol.format.EsriJSON.prototype.readProjectionFromObject=function(e){var t=e;if(t.spatialReference&&t.spatialReference.wkid){var o=t.spatialReference.wkid;return ol.proj.get("EPSG:"+o)}else{return null}};ol.format.EsriJSON.writeGeometry_=function(e,t){var o=ol.format.EsriJSON.GEOMETRY_WRITERS_[e.getType()];return o(ol.format.Feature.transformWithOptions(e,true,t),t)};ol.format.EsriJSON.prototype.writeGeometry;ol.format.EsriJSON.prototype.writeGeometryObject=function(e,t){return ol.format.EsriJSON.writeGeometry_(e,this.adaptOptions(t))};ol.format.EsriJSON.prototype.writeFeature;ol.format.EsriJSON.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var o={};var r=e.getGeometry();if(r){o["geometry"]=ol.format.EsriJSON.writeGeometry_(r,t)}var i=e.getProperties();
delete i[e.getGeometryName()];if(!ol.obj.isEmpty(i)){o["attributes"]=i}else{o["attributes"]={}}if(t&&t.featureProjection){o["spatialReference"]={wkid:ol.proj.get(t.featureProjection).getCode().split(":").pop()}}return o};ol.format.EsriJSON.prototype.writeFeatures;ol.format.EsriJSON.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);var o=[];var r,i;for(r=0,i=e.length;r<i;++r){o.push(this.writeFeatureObject(e[r],t))}return{features:o}};goog.provide("ol.format.filter.Filter");ol.format.filter.Filter=function(e){this.tagName_=e};ol.format.filter.Filter.prototype.getTagName=function(){return this.tagName_};goog.provide("ol.format.filter.LogicalNary");goog.require("ol");goog.require("ol.asserts");goog.require("ol.format.filter.Filter");ol.format.filter.LogicalNary=function(e,t){ol.format.filter.Filter.call(this,e);this.conditions=Array.prototype.slice.call(arguments,1);ol.asserts.assert(this.conditions.length>=2,57)};ol.inherits(ol.format.filter.LogicalNary,ol.format.filter.Filter);goog.provide("ol.format.filter.And");goog.require("ol");goog.require("ol.format.filter.LogicalNary");ol.format.filter.And=function(e){var t=["And"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,t)};ol.inherits(ol.format.filter.And,ol.format.filter.LogicalNary);goog.provide("ol.format.filter.Bbox");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Bbox=function(e,t,o){ol.format.filter.Filter.call(this,"BBOX");this.geometryName=e;this.extent=t;this.srsName=o};ol.inherits(ol.format.filter.Bbox,ol.format.filter.Filter);goog.provide("ol.format.filter.Comparison");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Comparison=function(e,t){ol.format.filter.Filter.call(this,e);this.propertyName=t};ol.inherits(ol.format.filter.Comparison,ol.format.filter.Filter);goog.provide("ol.format.filter.ComparisonBinary");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.ComparisonBinary=function(e,t,o,r){ol.format.filter.Comparison.call(this,e,t);this.expression=o;this.matchCase=r};ol.inherits(ol.format.filter.ComparisonBinary,ol.format.filter.Comparison);goog.provide("ol.format.filter.EqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.EqualTo=function(e,t,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsEqualTo",e,t,o)};ol.inherits(ol.format.filter.EqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.GreaterThan");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.GreaterThan=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThan",e,t)};ol.inherits(ol.format.filter.GreaterThan,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.GreaterThanOrEqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.GreaterThanOrEqualTo=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsGreaterThanOrEqualTo",e,t)};ol.inherits(ol.format.filter.GreaterThanOrEqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.Spatial");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Spatial=function(e,t,o,r){ol.format.filter.Filter.call(this,e);this.geometryName=t||"the_geom";this.geometry=o;this.srsName=r};ol.inherits(ol.format.filter.Spatial,ol.format.filter.Filter);goog.provide("ol.format.filter.Intersects");goog.require("ol");goog.require("ol.format.filter.Spatial");ol.format.filter.Intersects=function(e,t,o){ol.format.filter.Spatial.call(this,"Intersects",e,t,o)};ol.inherits(ol.format.filter.Intersects,ol.format.filter.Spatial);goog.provide("ol.format.filter.IsBetween");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.IsBetween=function(e,t,o){ol.format.filter.Comparison.call(this,"PropertyIsBetween",e);this.lowerBoundary=t;this.upperBoundary=o};ol.inherits(ol.format.filter.IsBetween,ol.format.filter.Comparison);goog.provide("ol.format.filter.IsLike");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.IsLike=function(e,t,o,r,i,n){ol.format.filter.Comparison.call(this,"PropertyIsLike",e);this.pattern=t;this.wildCard=o!==undefined?o:"*";this.singleChar=r!==undefined?r:".";this.escapeChar=i!==undefined?i:"!";this.matchCase=n};ol.inherits(ol.format.filter.IsLike,ol.format.filter.Comparison);goog.provide("ol.format.filter.IsNull");goog.require("ol");goog.require("ol.format.filter.Comparison");ol.format.filter.IsNull=function(e){ol.format.filter.Comparison.call(this,"PropertyIsNull",e)};ol.inherits(ol.format.filter.IsNull,ol.format.filter.Comparison);goog.provide("ol.format.filter.LessThan");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.LessThan=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThan",e,t)};ol.inherits(ol.format.filter.LessThan,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.LessThanOrEqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.LessThanOrEqualTo=function(e,t){ol.format.filter.ComparisonBinary.call(this,"PropertyIsLessThanOrEqualTo",e,t)};ol.inherits(ol.format.filter.LessThanOrEqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.Not");goog.require("ol");goog.require("ol.format.filter.Filter");ol.format.filter.Not=function(e){ol.format.filter.Filter.call(this,"Not");this.condition=e};ol.inherits(ol.format.filter.Not,ol.format.filter.Filter);goog.provide("ol.format.filter.NotEqualTo");goog.require("ol");goog.require("ol.format.filter.ComparisonBinary");ol.format.filter.NotEqualTo=function(e,t,o){ol.format.filter.ComparisonBinary.call(this,"PropertyIsNotEqualTo",e,t,o)};ol.inherits(ol.format.filter.NotEqualTo,ol.format.filter.ComparisonBinary);goog.provide("ol.format.filter.Or");goog.require("ol");goog.require("ol.format.filter.LogicalNary");ol.format.filter.Or=function(e){var t=["Or"].concat(Array.prototype.slice.call(arguments));ol.format.filter.LogicalNary.apply(this,t)};ol.inherits(ol.format.filter.Or,ol.format.filter.LogicalNary);goog.provide("ol.format.filter.Within");goog.require("ol");goog.require("ol.format.filter.Spatial");ol.format.filter.Within=function(e,t,o){ol.format.filter.Spatial.call(this,"Within",e,t,o)};ol.inherits(ol.format.filter.Within,ol.format.filter.Spatial);goog.provide("ol.format.filter");goog.require("ol.format.filter.And");goog.require("ol.format.filter.Bbox");goog.require("ol.format.filter.EqualTo");goog.require("ol.format.filter.GreaterThan");goog.require("ol.format.filter.GreaterThanOrEqualTo");goog.require("ol.format.filter.Intersects");goog.require("ol.format.filter.IsBetween");goog.require("ol.format.filter.IsLike");goog.require("ol.format.filter.IsNull");goog.require("ol.format.filter.LessThan");goog.require("ol.format.filter.LessThanOrEqualTo");goog.require("ol.format.filter.Not");goog.require("ol.format.filter.NotEqualTo");goog.require("ol.format.filter.Or");goog.require("ol.format.filter.Within");ol.format.filter.and=function(e){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.And,t))};ol.format.filter.or=function(e){var t=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(ol.format.filter.Or,t))};ol.format.filter.not=function(e){return new ol.format.filter.Not(e)};ol.format.filter.bbox=function(e,t,o){return new ol.format.filter.Bbox(e,t,o)};ol.format.filter.intersects=function(e,t,o){return new ol.format.filter.Intersects(e,t,o)};ol.format.filter.within=function(e,t,o){return new ol.format.filter.Within(e,t,o)};ol.format.filter.equalTo=function(e,t,o){return new ol.format.filter.EqualTo(e,t,o)};ol.format.filter.notEqualTo=function(e,t,o){return new ol.format.filter.NotEqualTo(e,t,o)};ol.format.filter.lessThan=function(e,t){return new ol.format.filter.LessThan(e,t)};ol.format.filter.lessThanOrEqualTo=function(e,t){return new ol.format.filter.LessThanOrEqualTo(e,t)};ol.format.filter.greaterThan=function(e,t){return new ol.format.filter.GreaterThan(e,t)};ol.format.filter.greaterThanOrEqualTo=function(e,t){return new ol.format.filter.GreaterThanOrEqualTo(e,t)};ol.format.filter.isNull=function(e){return new ol.format.filter.IsNull(e)};ol.format.filter.between=function(e,t,o){return new ol.format.filter.IsBetween(e,t,o)};ol.format.filter.like=function(e,t,o,r,i,n){return new ol.format.filter.IsLike(e,t,o,r,i,n)};goog.provide("ol.geom.GeometryCollection");goog.require("ol");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryType");goog.require("ol.obj");ol.geom.GeometryCollection=function(e){ol.geom.Geometry.call(this);this.geometries_=e?e:null;this.listenGeometriesChange_()};ol.inherits(ol.geom.GeometryCollection,ol.geom.Geometry);ol.geom.GeometryCollection.cloneGeometries_=function(e){var t=[];var o,r;for(o=0,r=e.length;o<r;++o){t.push(e[o].clone())}return t};ol.geom.GeometryCollection.prototype.unlistenGeometriesChange_=function(){var e,t;if(!this.geometries_){return}for(e=0,t=this.geometries_.length;e<t;++e){ol.events.unlisten(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.listenGeometriesChange_=function(){var e,t;if(!this.geometries_){return}for(e=0,t=this.geometries_.length;e<t;++e){ol.events.listen(this.geometries_[e],ol.events.EventType.CHANGE,this.changed,this)}};ol.geom.GeometryCollection.prototype.clone=function(){var e=new ol.geom.GeometryCollection(null);e.setGeometries(this.geometries_);return e};ol.geom.GeometryCollection.prototype.closestPointXY=function(e,t,o,r){if(r<ol.extent.closestSquaredDistanceXY(this.getExtent(),e,t)){return r}var i=this.geometries_;var n,a;for(n=0,a=i.length;n<a;++n){r=i[n].closestPointXY(e,t,o,r)}return r};ol.geom.GeometryCollection.prototype.containsXY=function(e,t){var o=this.geometries_;var r,i;for(r=0,i=o.length;r<i;++r){if(o[r].containsXY(e,t)){return true}}return false};ol.geom.GeometryCollection.prototype.computeExtent=function(e){ol.extent.createOrUpdateEmpty(e);var t=this.geometries_;for(var o=0,r=t.length;o<r;++o){ol.extent.extend(e,t[o].getExtent())}return e};ol.geom.GeometryCollection.prototype.getGeometries=function(){return ol.geom.GeometryCollection.cloneGeometries_(this.geometries_)};ol.geom.GeometryCollection.prototype.getGeometriesArray=function(){return this.geometries_};ol.geom.GeometryCollection.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()){ol.obj.clear(this.simplifiedGeometryCache);this.simplifiedGeometryMaxMinSquaredTolerance=0;this.simplifiedGeometryRevision=this.getRevision()}if(e<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&e<this.simplifiedGeometryMaxMinSquaredTolerance){return this}var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t)){return this.simplifiedGeometryCache[t]}else{var o=[];var r=this.geometries_;var i=false;var n,a;for(n=0,a=r.length;n<a;++n){var l=r[n];var s=l.getSimplifiedGeometry(e);o.push(s);if(s!==l){i=true}}if(i){var p=new ol.geom.GeometryCollection(null);p.setGeometriesArray(o);this.simplifiedGeometryCache[t]=p;return p}else{this.simplifiedGeometryMaxMinSquaredTolerance=e;return this}}};ol.geom.GeometryCollection.prototype.getType=function(){return ol.geom.GeometryType.GEOMETRY_COLLECTION};ol.geom.GeometryCollection.prototype.intersectsExtent=function(e){var t=this.geometries_;var o,r;for(o=0,r=t.length;o<r;++o){if(t[o].intersectsExtent(e)){return true}}return false};ol.geom.GeometryCollection.prototype.isEmpty=function(){return this.geometries_.length===0};ol.geom.GeometryCollection.prototype.rotate=function(e,t){var o=this.geometries_;for(var r=0,i=o.length;r<i;++r){o[r].rotate(e,t)}this.changed()};ol.geom.GeometryCollection.prototype.scale=function(e,t,o){var r=o;if(!r){r=ol.extent.getCenter(this.getExtent())}var i=this.geometries_;for(var n=0,a=i.length;n<a;++n){i[n].scale(e,t,r)}this.changed()};ol.geom.GeometryCollection.prototype.setGeometries=function(e){this.setGeometriesArray(ol.geom.GeometryCollection.cloneGeometries_(e))};ol.geom.GeometryCollection.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_();this.geometries_=e;this.listenGeometriesChange_();this.changed()};ol.geom.GeometryCollection.prototype.applyTransform=function(e){var t=this.geometries_;var o,r;for(o=0,r=t.length;o<r;++o){t[o].applyTransform(e)}this.changed()};ol.geom.GeometryCollection.prototype.translate=function(e,t){var o=this.geometries_;var r,i;for(r=0,i=o.length;r<i;++r){o[r].translate(e,t)}this.changed()};ol.geom.GeometryCollection.prototype.disposeInternal=function(){this.unlistenGeometriesChange_();ol.geom.Geometry.prototype.disposeInternal.call(this)};goog.provide("ol.format.GeoJSON");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");ol.format.GeoJSON=function(e){var t=e?e:{};ol.format.JSONFeature.call(this);this.defaultDataProjection=ol.proj.get(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326");if(t.featureProjection){this.defaultFeatureProjection=ol.proj.get(t.featureProjection)}this.geometryName_=t.geometryName};ol.inherits(ol.format.GeoJSON,ol.format.JSONFeature);ol.format.GeoJSON.readGeometry_=function(e,t){if(!e){return null}var o=ol.format.GeoJSON.GEOMETRY_READERS_[e.type];return ol.format.Feature.transformWithOptions(o(e),false,t)};ol.format.GeoJSON.readGeometryCollectionGeometry_=function(e,t){var o=e.geometries.map(function(e){return ol.format.GeoJSON.readGeometry_(e,t)});return new ol.geom.GeometryCollection(o)};ol.format.GeoJSON.readPointGeometry_=function(e){return new ol.geom.Point(e.coordinates)};ol.format.GeoJSON.readLineStringGeometry_=function(e){return new ol.geom.LineString(e.coordinates)};ol.format.GeoJSON.readMultiLineStringGeometry_=function(e){return new ol.geom.MultiLineString(e.coordinates)};ol.format.GeoJSON.readMultiPointGeometry_=function(e){return new ol.geom.MultiPoint(e.coordinates)};ol.format.GeoJSON.readMultiPolygonGeometry_=function(e){return new ol.geom.MultiPolygon(e.coordinates)};ol.format.GeoJSON.readPolygonGeometry_=function(e){return new ol.geom.Polygon(e.coordinates)};ol.format.GeoJSON.writeGeometry_=function(e,t){var o=ol.format.GeoJSON.GEOMETRY_WRITERS_[e.getType()];return o(ol.format.Feature.transformWithOptions(e,true,t),t)};ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_=function(e){return{type:"GeometryCollection",geometries:[]}};ol.format.GeoJSON.writeGeometryCollectionGeometry_=function(e,t){var o=e.getGeometriesArray().map(function(e){var o=ol.obj.assign({},t);delete o.featureProjection;return ol.format.GeoJSON.writeGeometry_(e,o)});return{type:"GeometryCollection",geometries:o}};ol.format.GeoJSON.writeLineStringGeometry_=function(e,t){return{type:"LineString",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writeMultiLineStringGeometry_=function(e,t){return{type:"MultiLineString",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writeMultiPointGeometry_=function(e,t){return{type:"MultiPoint",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writeMultiPolygonGeometry_=function(e,t){var o;if(t){o=t.rightHanded}return{type:"MultiPolygon",coordinates:e.getCoordinates(o)}};ol.format.GeoJSON.writePointGeometry_=function(e,t){return{type:"Point",coordinates:e.getCoordinates()}};ol.format.GeoJSON.writePolygonGeometry_=function(e,t){var o;if(t){o=t.rightHanded}return{type:"Polygon",coordinates:e.getCoordinates(o)}};ol.format.GeoJSON.GEOMETRY_READERS_={Point:ol.format.GeoJSON.readPointGeometry_,LineString:ol.format.GeoJSON.readLineStringGeometry_,Polygon:ol.format.GeoJSON.readPolygonGeometry_,MultiPoint:ol.format.GeoJSON.readMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.readMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.readGeometryCollectionGeometry_};ol.format.GeoJSON.GEOMETRY_WRITERS_={Point:ol.format.GeoJSON.writePointGeometry_,LineString:ol.format.GeoJSON.writeLineStringGeometry_,Polygon:ol.format.GeoJSON.writePolygonGeometry_,MultiPoint:ol.format.GeoJSON.writeMultiPointGeometry_,MultiLineString:ol.format.GeoJSON.writeMultiLineStringGeometry_,MultiPolygon:ol.format.GeoJSON.writeMultiPolygonGeometry_,GeometryCollection:ol.format.GeoJSON.writeGeometryCollectionGeometry_,Circle:ol.format.GeoJSON.writeEmptyGeometryCollectionGeometry_};ol.format.GeoJSON.prototype.readFeature;ol.format.GeoJSON.prototype.readFeatures;ol.format.GeoJSON.prototype.readFeatureFromObject=function(e,t){var o=null;if(e.type==="Feature"){o=e}else{o={type:"Feature",geometry:e}}var r=ol.format.GeoJSON.readGeometry_(o.geometry,t);var i=new ol.Feature;if(this.geometryName_){i.setGeometryName(this.geometryName_)}i.setGeometry(r);if(o.id!==undefined){i.setId(o.id)}if(o.properties){i.setProperties(o.properties)}return i};ol.format.GeoJSON.prototype.readFeaturesFromObject=function(e,t){var o=e;var r=null;if(o.type==="FeatureCollection"){var i=e;r=[];var n=i.features;var a,l;for(a=0,l=n.length;a<l;++a){r.push(this.readFeatureFromObject(n[a],t))}}else{r=[this.readFeatureFromObject(e,t)]}return r};ol.format.GeoJSON.prototype.readGeometry;ol.format.GeoJSON.prototype.readGeometryFromObject=function(e,t){return ol.format.GeoJSON.readGeometry_(e,t)};ol.format.GeoJSON.prototype.readProjection;ol.format.GeoJSON.prototype.readProjectionFromObject=function(e){var t=e;var o=t.crs;var r;if(o){if(o.type=="name"){r=ol.proj.get(o.properties.name)}else if(o.type=="EPSG"){r=ol.proj.get("EPSG:"+o.properties.code)}else{ol.asserts.assert(false,36)}}else{r=this.defaultDataProjection}return r};ol.format.GeoJSON.prototype.writeFeature;ol.format.GeoJSON.prototype.writeFeatureObject=function(e,t){t=this.adaptOptions(t);var o={type:"Feature"};var r=e.getId();if(r!==undefined){o.id=r}var i=e.getGeometry();if(i){o.geometry=ol.format.GeoJSON.writeGeometry_(i,t)}else{o.geometry=null}var n=e.getProperties();delete n[e.getGeometryName()];if(!ol.obj.isEmpty(n)){o.properties=n}else{o.properties=null}return o};ol.format.GeoJSON.prototype.writeFeatures;ol.format.GeoJSON.prototype.writeFeaturesObject=function(e,t){t=this.adaptOptions(t);var o=[];var r,i;for(r=0,i=e.length;r<i;++r){o.push(this.writeFeatureObject(e[r],t))}return{type:"FeatureCollection",features:o}};ol.format.GeoJSON.prototype.writeGeometry;ol.format.GeoJSON.prototype.writeGeometryObject=function(e,t){return ol.format.GeoJSON.writeGeometry_(e,this.adaptOptions(t))};goog.provide("ol.format.XMLFeature");goog.require("ol");goog.require("ol.array");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");goog.require("ol.xml");ol.format.XMLFeature=function(){this.xmlSerializer_=new XMLSerializer;ol.format.Feature.call(this)};ol.inherits(ol.format.XMLFeature,ol.format.Feature);ol.format.XMLFeature.prototype.getType=function(){return ol.format.FormatType.XML};ol.format.XMLFeature.prototype.readFeature=function(e,t){if(ol.xml.isDocument(e)){return this.readFeatureFromDocument(e,t)}else if(ol.xml.isNode(e)){return this.readFeatureFromNode(e,t)}else if(typeof e==="string"){var o=ol.xml.parse(e);return this.readFeatureFromDocument(o,t)}else{return null}};ol.format.XMLFeature.prototype.readFeatureFromDocument=function(e,t){var o=this.readFeaturesFromDocument(e,t);if(o.length>0){return o[0]}else{return null}};ol.format.XMLFeature.prototype.readFeatureFromNode=function(e,t){return null};ol.format.XMLFeature.prototype.readFeatures=function(e,t){if(ol.xml.isDocument(e)){return this.readFeaturesFromDocument(e,t)}else if(ol.xml.isNode(e)){return this.readFeaturesFromNode(e,t)}else if(typeof e==="string"){var o=ol.xml.parse(e);return this.readFeaturesFromDocument(o,t)}else{return[]}};ol.format.XMLFeature.prototype.readFeaturesFromDocument=function(e,t){var o=[];var r;for(r=e.firstChild;r;r=r.nextSibling){if(r.nodeType==Node.ELEMENT_NODE){ol.array.extend(o,this.readFeaturesFromNode(r,t))}}return o};ol.format.XMLFeature.prototype.readFeaturesFromNode=function(e,t){};ol.format.XMLFeature.prototype.readGeometry=function(e,t){if(ol.xml.isDocument(e)){return this.readGeometryFromDocument(e,t)}else if(ol.xml.isNode(e)){return this.readGeometryFromNode(e,t)}else if(typeof e==="string"){var o=ol.xml.parse(e);return this.readGeometryFromDocument(o,t)}else{return null}};ol.format.XMLFeature.prototype.readGeometryFromDocument=function(e,t){return null};ol.format.XMLFeature.prototype.readGeometryFromNode=function(e,t){return null};ol.format.XMLFeature.prototype.readProjection=function(e){if(ol.xml.isDocument(e)){return this.readProjectionFromDocument(e)}else if(ol.xml.isNode(e)){return this.readProjectionFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readProjectionFromDocument(t)}else{return null}};ol.format.XMLFeature.prototype.readProjectionFromDocument=function(e){return this.defaultDataProjection};ol.format.XMLFeature.prototype.readProjectionFromNode=function(e){return this.defaultDataProjection};ol.format.XMLFeature.prototype.writeFeature=function(e,t){var o=this.writeFeatureNode(e,t);return this.xmlSerializer_.serializeToString(o)};ol.format.XMLFeature.prototype.writeFeatureNode=function(e,t){return null};ol.format.XMLFeature.prototype.writeFeatures=function(e,t){var o=this.writeFeaturesNode(e,t);return this.xmlSerializer_.serializeToString(o)};ol.format.XMLFeature.prototype.writeFeaturesNode=function(e,t){return null};ol.format.XMLFeature.prototype.writeGeometry=function(e,t){var o=this.writeGeometryNode(e,t);return this.xmlSerializer_.serializeToString(o)};ol.format.XMLFeature.prototype.writeGeometryNode=function(e,t){return null};goog.provide("ol.format.GMLBase");goog.require("ol");goog.require("ol.array");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GMLBase=function(e){var t=e?e:{};this.featureType=t.featureType;this.featureNS=t.featureNS;this.srsName=t.srsName;this.schemaLocation="";this.FEATURE_COLLECTION_PARSERS={};this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]={featureMember:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal),featureMembers:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFeaturesInternal)};ol.format.XMLFeature.call(this)};ol.inherits(ol.format.GMLBase,ol.format.XMLFeature);ol.format.GMLBase.GMLNS="http://www.opengis.net/gml";ol.format.GMLBase.ONLY_WHITESPACE_RE_=/^[\s\xa0]*$/;ol.format.GMLBase.prototype.readFeaturesInternal=function(e,t){var o=e.localName;var r=null;if(o=="FeatureCollection"){if(e.namespaceURI==="http://www.opengis.net/wfs"){r=ol.xml.pushParseAndPop([],this.FEATURE_COLLECTION_PARSERS,e,t,this)}else{r=ol.xml.pushParseAndPop(null,this.FEATURE_COLLECTION_PARSERS,e,t,this)}}else if(o=="featureMembers"||o=="featureMember"){var i=t[0];var n=i["featureType"];var a=i["featureNS"];var l,s,p="p",u="p0";if(!n&&e.childNodes){n=[],a={};for(l=0,s=e.childNodes.length;l<s;++l){var c=e.childNodes[l];if(c.nodeType===1){var g=c.nodeName.split(":").pop();if(n.indexOf(g)===-1){var h="";var f=0;var d=c.namespaceURI;for(var y in a){if(a[y]===d){h=y;break}++f}if(!h){h=p+f;a[h]=d}n.push(h+":"+g)}}}if(o!="featureMember"){i["featureType"]=n;i["featureNS"]=a}}if(typeof a==="string"){var m=a;a={};a[u]=m}var v={};var _=Array.isArray(n)?n:[n];for(var x in a){var S={};for(l=0,s=_.length;l<s;++l){var P=_[l].indexOf(":")===-1?u:_[l].split(":")[0];if(P===x){S[_[l].split(":").pop()]=o=="featureMembers"?ol.xml.makeArrayPusher(this.readFeatureElement,this):ol.xml.makeReplacer(this.readFeatureElement,this)}}v[a[x]]=S}if(o=="featureMember"){r=ol.xml.pushParseAndPop(undefined,v,e,t)}else{r=ol.xml.pushParseAndPop([],v,e,t)}}if(r===null){r=[]}return r};ol.format.GMLBase.prototype.readGeometryElement=function(e,t){var o=t[0];o["srsName"]=e.firstElementChild.getAttribute("srsName");var r=ol.xml.pushParseAndPop(null,this.GEOMETRY_PARSERS_,e,t,this);if(r){return ol.format.Feature.transformWithOptions(r,false,o)}else{return undefined}};ol.format.GMLBase.prototype.readFeatureElement=function(e,t){var o;var r=e.getAttribute("fid")||ol.xml.getAttributeNS(e,ol.format.GMLBase.GMLNS,"id");var i={},n;for(o=e.firstElementChild;o;o=o.nextElementSibling){var a=o.localName;if(o.childNodes.length===0||o.childNodes.length===1&&(o.firstChild.nodeType===3||o.firstChild.nodeType===4)){var l=ol.xml.getAllTextContent(o,false);if(ol.format.GMLBase.ONLY_WHITESPACE_RE_.test(l)){l=undefined}i[a]=l}else{if(a!=="boundedBy"){n=a}i[a]=this.readGeometryElement(o,t)}}var s=new ol.Feature(i);if(n){s.setGeometryName(n)}if(r){s.setId(r)}return s};ol.format.GMLBase.prototype.readPoint=function(e,t){var o=this.readFlatCoordinatesFromNode_(e,t);if(o){var r=new ol.geom.Point(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);return r}};ol.format.GMLBase.prototype.readMultiPoint=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTIPOINT_PARSERS_,e,t,this);if(o){return new ol.geom.MultiPoint(o)}else{return undefined}};ol.format.GMLBase.prototype.readMultiLineString=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTILINESTRING_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiLineString(null);r.setLineStrings(o);return r}else{return undefined}};ol.format.GMLBase.prototype.readMultiPolygon=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTIPOLYGON_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiPolygon(null);r.setPolygons(o);return r}else{return undefined}};ol.format.GMLBase.prototype.pointMemberParser_=function(e,t){ol.xml.parseNode(this.POINTMEMBER_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.lineStringMemberParser_=function(e,t){ol.xml.parseNode(this.LINESTRINGMEMBER_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.polygonMemberParser_=function(e,t){ol.xml.parseNode(this.POLYGONMEMBER_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.readLineString=function(e,t){var o=this.readFlatCoordinatesFromNode_(e,t);if(o){var r=new ol.geom.LineString(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);return r}else{return undefined}};ol.format.GMLBase.prototype.readFlatLinearRing_=function(e,t){var o=ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this);if(o){return o}else{return undefined}};ol.format.GMLBase.prototype.readLinearRing=function(e,t){var o=this.readFlatCoordinatesFromNode_(e,t);if(o){var r=new ol.geom.LinearRing(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);return r}else{return undefined}};ol.format.GMLBase.prototype.readPolygon=function(e,t){var o=ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this);if(o&&o[0]){var r=new ol.geom.Polygon(null);var i=o[0];var n=[i.length];var a,l;for(a=1,l=o.length;a<l;++a){ol.array.extend(i,o[a]);n.push(i.length)}r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,i,n);return r}else{return undefined}};ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_=function(e,t){return ol.xml.pushParseAndPop(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)};ol.format.GMLBase.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_),pointMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.pointMemberParser_)}};ol.format.GMLBase.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_),lineStringMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.lineStringMemberParser_)}};ol.format.GMLBase.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_),polygonMembers:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.polygonMemberParser_)}};ol.format.GMLBase.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFlatCoordinatesFromNode_)}};ol.format.GMLBase.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString)}};ol.format.GMLBase.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon)}};ol.format.GMLBase.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readFlatLinearRing_)}};ol.format.GMLBase.prototype.readGeometryFromNode=function(e,t){var o=this.readGeometryElement(e,[this.getReadOptions(e,t?t:{})]);return o?o:null};ol.format.GMLBase.prototype.readFeatures;ol.format.GMLBase.prototype.readFeaturesFromNode=function(e,t){var o={featureType:this.featureType,featureNS:this.featureNS};if(t){ol.obj.assign(o,this.getReadOptions(e,t))}var r=this.readFeaturesInternal(e,[o]);return r||[]};ol.format.GMLBase.prototype.readProjectionFromNode=function(e){return ol.proj.get(this.srsName?this.srsName:e.firstElementChild.getAttribute("srsName"))};goog.provide("ol.format.XSD");goog.require("ol.xml");goog.require("ol.string");ol.format.XSD.NAMESPACE_URI="http://www.w3.org/2001/XMLSchema";ol.format.XSD.readBoolean=function(e){var t=ol.xml.getAllTextContent(e,false);return ol.format.XSD.readBooleanString(t)};ol.format.XSD.readBooleanString=function(e){var t=/^\s*(true|1)|(false|0)\s*$/.exec(e);if(t){return t[1]!==undefined||false}else{return undefined}};ol.format.XSD.readDateTime=function(e){var t=ol.xml.getAllTextContent(e,false);var o=Date.parse(t);return isNaN(o)?undefined:o/1e3};ol.format.XSD.readDecimal=function(e){var t=ol.xml.getAllTextContent(e,false);return ol.format.XSD.readDecimalString(t)};ol.format.XSD.readDecimalString=function(e){var t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(e);if(t){return parseFloat(t[1])}else{return undefined}};ol.format.XSD.readNonNegativeInteger=function(e){var t=ol.xml.getAllTextContent(e,false);return ol.format.XSD.readNonNegativeIntegerString(t)};ol.format.XSD.readNonNegativeIntegerString=function(e){var t=/^\s*(\d+)\s*$/.exec(e);if(t){return parseInt(t[1],10)}else{return undefined}};ol.format.XSD.readString=function(e){return ol.xml.getAllTextContent(e,false).trim()};ol.format.XSD.writeBooleanTextNode=function(e,t){ol.format.XSD.writeStringTextNode(e,t?"1":"0")};ol.format.XSD.writeCDATASection=function(e,t){e.appendChild(ol.xml.DOCUMENT.createCDATASection(t))};ol.format.XSD.writeDateTimeTextNode=function(e,t){var o=new Date(t*1e3);var r=o.getUTCFullYear()+"-"+ol.string.padNumber(o.getUTCMonth()+1,2)+"-"+ol.string.padNumber(o.getUTCDate(),2)+"T"+ol.string.padNumber(o.getUTCHours(),2)+":"+ol.string.padNumber(o.getUTCMinutes(),2)+":"+ol.string.padNumber(o.getUTCSeconds(),2)+"Z";e.appendChild(ol.xml.DOCUMENT.createTextNode(r))};ol.format.XSD.writeDecimalTextNode=function(e,t){var o=t.toPrecision();e.appendChild(ol.xml.DOCUMENT.createTextNode(o))};ol.format.XSD.writeNonNegativeIntegerTextNode=function(e,t){var o=t.toString();e.appendChild(ol.xml.DOCUMENT.createTextNode(o))};ol.format.XSD.writeStringTextNode=function(e,t){e.appendChild(ol.xml.DOCUMENT.createTextNode(t))};goog.provide("ol.format.GML3");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.format.Feature");goog.require("ol.format.GMLBase");goog.require("ol.format.XSD");
goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.GML3=function(e){var t=e?e:{};ol.format.GMLBase.call(this,t);this.surface_=t.surface!==undefined?t.surface:false;this.curve_=t.curve!==undefined?t.curve:false;this.multiCurve_=t.multiCurve!==undefined?t.multiCurve:true;this.multiSurface_=t.multiSurface!==undefined?t.multiSurface:true;this.schemaLocation=t.schemaLocation?t.schemaLocation:ol.format.GML3.schemaLocation_};ol.inherits(ol.format.GML3,ol.format.GMLBase);ol.format.GML3.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/"+"1.0.0/gmlsf.xsd";ol.format.GML3.prototype.readMultiCurve_=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTICURVE_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiLineString(null);r.setLineStrings(o);return r}else{return undefined}};ol.format.GML3.prototype.readMultiSurface_=function(e,t){var o=ol.xml.pushParseAndPop([],this.MULTISURFACE_PARSERS_,e,t,this);if(o){var r=new ol.geom.MultiPolygon(null);r.setPolygons(o);return r}else{return undefined}};ol.format.GML3.prototype.curveMemberParser_=function(e,t){ol.xml.parseNode(this.CURVEMEMBER_PARSERS_,e,t,this)};ol.format.GML3.prototype.surfaceMemberParser_=function(e,t){ol.xml.parseNode(this.SURFACEMEMBER_PARSERS_,e,t,this)};ol.format.GML3.prototype.readPatch_=function(e,t){return ol.xml.pushParseAndPop([null],this.PATCHES_PARSERS_,e,t,this)};ol.format.GML3.prototype.readSegment_=function(e,t){return ol.xml.pushParseAndPop([null],this.SEGMENTS_PARSERS_,e,t,this)};ol.format.GML3.prototype.readPolygonPatch_=function(e,t){return ol.xml.pushParseAndPop([null],this.FLAT_LINEAR_RINGS_PARSERS_,e,t,this)};ol.format.GML3.prototype.readLineStringSegment_=function(e,t){return ol.xml.pushParseAndPop([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t,this)};ol.format.GML3.prototype.interiorParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,e,t,this);if(o){var r=t[t.length-1];r.push(o)}};ol.format.GML3.prototype.exteriorParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,e,t,this);if(o){var r=t[t.length-1];r[0]=o}};ol.format.GML3.prototype.readSurface_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.SURFACE_PARSERS_,e,t,this);if(o&&o[0]){var r=new ol.geom.Polygon(null);var i=o[0];var n=[i.length];var a,l;for(a=1,l=o.length;a<l;++a){ol.array.extend(i,o[a]);n.push(i.length)}r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,i,n);return r}else{return undefined}};ol.format.GML3.prototype.readCurve_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.CURVE_PARSERS_,e,t,this);if(o){var r=new ol.geom.LineString(null);r.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,o);return r}else{return undefined}};ol.format.GML3.prototype.readEnvelope_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.ENVELOPE_PARSERS_,e,t,this);return ol.extent.createOrUpdate(o[1][0],o[1][1],o[2][0],o[2][1])};ol.format.GML3.prototype.readFlatPos_=function(e,t){var o=ol.xml.getAllTextContent(e,false);var r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/;var i=[];var n;while(n=r.exec(o)){i.push(parseFloat(n[1]));o=o.substr(n[0].length)}if(o!==""){return undefined}var a=t[0];var l=a["srsName"];var s="enu";if(l){var p=ol.proj.get(l);s=p.getAxisOrientation()}if(s==="neu"){var u,c;for(u=0,c=i.length;u<c;u+=3){var g=i[u];var h=i[u+1];i[u]=h;i[u+1]=g}}var f=i.length;if(f==2){i.push(0)}if(f===0){return undefined}return i};ol.format.GML3.prototype.readFlatPosList_=function(e,t){var o=ol.xml.getAllTextContent(e,false).replace(/^\s*|\s*$/g,"");var r=t[0];var i=r["srsName"];var n=e.parentNode.getAttribute("srsDimension");var a="enu";if(i){var l=ol.proj.get(i);a=l.getAxisOrientation()}var s=o.split(/\s+/);var p=2;if(e.getAttribute("srsDimension")){p=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("srsDimension"))}else if(e.getAttribute("dimension")){p=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("dimension"))}else if(n){p=ol.format.XSD.readNonNegativeIntegerString(n)}var u,c,g;var h=[];for(var f=0,d=s.length;f<d;f+=p){u=parseFloat(s[f]);c=parseFloat(s[f+1]);g=p===3?parseFloat(s[f+2]):0;if(a.substr(0,2)==="en"){h.push(u,c,g)}else{h.push(c,u,g)}}return h};ol.format.GML3.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{pos:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPos_),posList:ol.xml.makeReplacer(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{interior:ol.format.GML3.prototype.interiorParser_,exterior:ol.format.GML3.prototype.exteriorParser_}};ol.format.GML3.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Surface:ol.xml.makeReplacer(ol.format.GML3.prototype.readSurface_),MultiSurface:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiSurface_),Curve:ol.xml.makeReplacer(ol.format.GML3.prototype.readCurve_),MultiCurve:ol.xml.makeReplacer(ol.format.GML3.prototype.readMultiCurve_),Envelope:ol.xml.makeReplacer(ol.format.GML3.prototype.readEnvelope_)}};ol.format.GML3.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_),curveMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.curveMemberParser_)}};ol.format.GML3.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_),surfaceMembers:ol.xml.makeArrayPusher(ol.format.GML3.prototype.surfaceMemberParser_)}};ol.format.GML3.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readLineString),Curve:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readCurve_)}};ol.format.GML3.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readPolygon),Surface:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readSurface_)}};ol.format.GML3.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:ol.xml.makeReplacer(ol.format.GML3.prototype.readPatch_)}};ol.format.GML3.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:ol.xml.makeReplacer(ol.format.GML3.prototype.readSegment_)}};ol.format.GML3.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_),upperCorner:ol.xml.makeArrayPusher(ol.format.GML3.prototype.readFlatPosList_)}};ol.format.GML3.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:ol.xml.makeReplacer(ol.format.GML3.prototype.readPolygonPatch_)}};ol.format.GML3.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:ol.xml.makeReplacer(ol.format.GML3.prototype.readLineStringSegment_)}};ol.format.GML3.prototype.writePos_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];var n="enu";if(i){n=ol.proj.get(i).getAxisOrientation()}var a=t.getCoordinates();var l;if(n.substr(0,2)==="en"){l=a[0]+" "+a[1]}else{l=a[1]+" "+a[0]}ol.format.XSD.writeStringTextNode(e,l)};ol.format.GML3.prototype.getCoords_=function(e,t){var o="enu";if(t){o=ol.proj.get(t).getAxisOrientation()}return o.substr(0,2)==="en"?e[0]+" "+e[1]:e[1]+" "+e[0]};ol.format.GML3.prototype.writePosList_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];var n=t.getCoordinates();var a=n.length;var l=new Array(a);var s;for(var p=0;p<a;++p){s=n[p];l[p]=this.getCoords_(s,i)}ol.format.XSD.writeStringTextNode(e,l.join(" "))};ol.format.GML3.prototype.writePoint_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(i){e.setAttribute("srsName",i)}var n=ol.xml.createElementNS(e.namespaceURI,"pos");e.appendChild(n);this.writePos_(n,t,o)};ol.format.GML3.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),upperCorner:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.GML3.prototype.writeEnvelope=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(i){e.setAttribute("srsName",i)}var n=["lowerCorner","upperCorner"];var a=[t[0]+" "+t[1],t[2]+" "+t[3]];ol.xml.pushSerializeAndPop({node:e},ol.format.GML3.ENVELOPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,o,n,this)};ol.format.GML3.prototype.writeLinearRing_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(i){e.setAttribute("srsName",i)}var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n);this.writePosList_(n,t,o)};ol.format.GML3.prototype.RING_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1];var i=r.node;var n=r["exteriorWritten"];if(n===undefined){r["exteriorWritten"]=true}return ol.xml.createElementNS(i.namespaceURI,n!==undefined?"interior":"exterior")};ol.format.GML3.prototype.writeSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(e.nodeName!=="PolygonPatch"&&i){e.setAttribute("srsName",i)}if(e.nodeName==="Polygon"||e.nodeName==="PolygonPatch"){var n=t.getLinearRings();ol.xml.pushSerializeAndPop({node:e,srsName:i},ol.format.GML3.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,n,o,undefined,this)}else if(e.nodeName==="Surface"){var a=ol.xml.createElementNS(e.namespaceURI,"patches");e.appendChild(a);this.writeSurfacePatches_(a,t,o)}};ol.format.GML3.prototype.writeCurveOrLineString_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(e.nodeName!=="LineStringSegment"&&i){e.setAttribute("srsName",i)}if(e.nodeName==="LineString"||e.nodeName==="LineStringSegment"){var n=ol.xml.createElementNS(e.namespaceURI,"posList");e.appendChild(n);this.writePosList_(n,t,o)}else if(e.nodeName==="Curve"){var a=ol.xml.createElementNS(e.namespaceURI,"segments");e.appendChild(a);this.writeCurveSegments_(a,t,o)}};ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];var n=r["surface"];if(i){e.setAttribute("srsName",i)}var a=t.getPolygons();ol.xml.pushSerializeAndPop({node:e,srsName:i,surface:n},ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,undefined,this)};ol.format.GML3.prototype.writeMultiPoint_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];if(i){e.setAttribute("srsName",i)}var n=t.getPoints();ol.xml.pushSerializeAndPop({node:e,srsName:i},ol.format.GML3.POINTMEMBER_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("pointMember"),n,o,undefined,this)};ol.format.GML3.prototype.writeMultiCurveOrLineString_=function(e,t,o){var r=o[o.length-1];var i=r["srsName"];var n=r["curve"];if(i){e.setAttribute("srsName",i)}var a=t.getLineStrings();ol.xml.pushSerializeAndPop({node:e,srsName:i,curve:n},ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,o,undefined,this)};ol.format.GML3.prototype.writeRing_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LinearRing");e.appendChild(r);this.writeLinearRing_(r,t,o)};ol.format.GML3.prototype.writeSurfaceOrPolygonMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);if(r){e.appendChild(r);this.writeSurfaceOrPolygon_(r,t,o)}};ol.format.GML3.prototype.writePointMember_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"Point");e.appendChild(r);this.writePoint_(r,t,o)};ol.format.GML3.prototype.writeLineStringOrCurveMember_=function(e,t,o){var r=this.GEOMETRY_NODE_FACTORY_(t,o);if(r){e.appendChild(r);this.writeCurveOrLineString_(r,t,o)}};ol.format.GML3.prototype.writeSurfacePatches_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"PolygonPatch");e.appendChild(r);this.writeSurfaceOrPolygon_(r,t,o)};ol.format.GML3.prototype.writeCurveSegments_=function(e,t,o){var r=ol.xml.createElementNS(e.namespaceURI,"LineStringSegment");e.appendChild(r);this.writeCurveOrLineString_(r,t,o)};ol.format.GML3.prototype.writeGeometryElement=function(e,t,o){var r=o[o.length-1];var i=ol.obj.assign({},r);i.node=e;var n;if(Array.isArray(t)){if(r.dataProjection){n=ol.proj.transformExtent(t,r.featureProjection,r.dataProjection)}else{n=t}}else{n=ol.format.Feature.transformWithOptions(t,true,r)}ol.xml.pushSerializeAndPop(i,ol.format.GML3.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[n],o,undefined,this)};ol.format.GML3.prototype.writeFeatureElement=function(e,t,o){var r=t.getId();if(r){e.setAttribute("fid",r)}var i=o[o.length-1];var n=i["featureNS"];var a=t.getGeometryName();if(!i.serializers){i.serializers={};i.serializers[n]={}}var l=t.getProperties();var s=[],p=[];for(var u in l){var c=l[u];if(c!==null){s.push(u);p.push(c);if(u==a||c instanceof ol.geom.Geometry){if(!(u in i.serializers[n])){i.serializers[n][u]=ol.xml.makeChildAppender(this.writeGeometryElement,this)}}else{if(!(u in i.serializers[n])){i.serializers[n][u]=ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}}}}var g=ol.obj.assign({},i);g.node=e;ol.xml.pushSerializeAndPop(g,i.serializers,ol.xml.makeSimpleNodeFactory(undefined,n),p,o,s)};ol.format.GML3.prototype.writeFeatureMembers_=function(e,t,o){var r=o[o.length-1];var i=r["featureType"];var n=r["featureNS"];var a={};a[n]={};a[n][i]=ol.xml.makeChildAppender(this.writeFeatureElement,this);var l=ol.obj.assign({},r);l.node=e;ol.xml.pushSerializeAndPop(l,a,ol.xml.makeSimpleNodeFactory(i,n),t,o)};ol.format.GML3.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_),polygonMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygonMember_)}};ol.format.GML3.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePointMember_)}};ol.format.GML3.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_),curveMember:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLineStringOrCurveMember_)}};ol.format.GML3.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_),interior:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeRing_)}};ol.format.GML3.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiCurve:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),Point:ol.xml.makeChildAppender(ol.format.GML3.prototype.writePoint_),MultiPoint:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiPoint_),LineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeCurveOrLineString_),MultiLineString:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiCurveOrLineString_),LinearRing:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeLinearRing_),Polygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiPolygon:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Surface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeSurfaceOrPolygon_),MultiSurface:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeMultiSurfaceOrPolygon_),Envelope:ol.xml.makeChildAppender(ol.format.GML3.prototype.writeEnvelope)}};ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};ol.format.GML3.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1].node;return ol.xml.createElementNS("http://www.opengis.net/gml",ol.format.GML3.MULTIGEOMETRY_TO_MEMBER_NODENAME_[r.nodeName])};ol.format.GML3.prototype.GEOMETRY_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1];var i=r["multiSurface"];var n=r["surface"];var a=r["curve"];var l=r["multiCurve"];var s;if(!Array.isArray(e)){s=e.getType();if(s==="MultiPolygon"&&i===true){s="MultiSurface"}else if(s==="Polygon"&&n===true){s="Surface"}else if(s==="LineString"&&a===true){s="Curve"}else if(s==="MultiLineString"&&l===true){s="MultiCurve"}}else{s="Envelope"}return ol.xml.createElementNS("http://www.opengis.net/gml",s)};ol.format.GML3.prototype.writeGeometryNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS("http://www.opengis.net/gml","geom");var r={node:o,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};if(t){ol.obj.assign(r,t)}this.writeGeometryElement(o,e,[r]);return o};ol.format.GML3.prototype.writeFeatures;ol.format.GML3.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS("http://www.opengis.net/gml","featureMembers");ol.xml.setAttributeNS(o,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var r={srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};if(t){ol.obj.assign(r,t)}this.writeFeatureMembers_(o,e,[r]);return o};goog.provide("ol.format.GML");goog.require("ol.format.GML3");ol.format.GML=ol.format.GML3;ol.format.GML.prototype.writeFeatures;ol.format.GML.prototype.writeFeaturesNode;goog.provide("ol.format.GML2");goog.require("ol");goog.require("ol.extent");goog.require("ol.format.GMLBase");goog.require("ol.format.XSD");goog.require("ol.proj");goog.require("ol.xml");ol.format.GML2=function(e){var t=e?e:{};ol.format.GMLBase.call(this,t);this.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]["featureMember"]=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);this.schemaLocation=t.schemaLocation?t.schemaLocation:ol.format.GML2.schemaLocation_};ol.inherits(ol.format.GML2,ol.format.GMLBase);ol.format.GML2.schemaLocation_=ol.format.GMLBase.GMLNS+" http://schemas.opengis.net/gml/2.1.2/feature.xsd";ol.format.GML2.prototype.readFlatCoordinates_=function(e,t){var o=ol.xml.getAllTextContent(e,false).replace(/^\s*|\s*$/g,"");var r=t[0];var i=r["srsName"];var n=e.parentNode.getAttribute("srsDimension");var a="enu";if(i){var l=ol.proj.get(i);if(l){a=l.getAxisOrientation()}}var s=o.split(/[\s,]+/);var p=2;if(e.getAttribute("srsDimension")){p=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("srsDimension"))}else if(e.getAttribute("dimension")){p=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("dimension"))}else if(n){p=ol.format.XSD.readNonNegativeIntegerString(n)}var u,c,g;var h=[];for(var f=0,d=s.length;f<d;f+=p){u=parseFloat(s[f]);c=parseFloat(s[f+1]);g=p===3?parseFloat(s[f+2]):0;if(a.substr(0,2)==="en"){h.push(u,c,g)}else{h.push(c,u,g)}}return h};ol.format.GML2.prototype.readBox_=function(e,t){var o=ol.xml.pushParseAndPop([null],this.BOX_PARSERS_,e,t,this);return ol.extent.createOrUpdate(o[1][0],o[1][1],o[1][3],o[1][4])};ol.format.GML2.prototype.innerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,e,t,this);if(o){var r=t[t.length-1];r.push(o)}};ol.format.GML2.prototype.outerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,this.RING_PARSERS,e,t,this);if(o){var r=t[t.length-1];r[0]=o}};ol.format.GML2.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeReplacer(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.FLAT_LINEAR_RINGS_PARSERS_={"http://www.opengis.net/gml":{innerBoundaryIs:ol.format.GML2.prototype.innerBoundaryIsParser_,outerBoundaryIs:ol.format.GML2.prototype.outerBoundaryIsParser_}};ol.format.GML2.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:ol.xml.makeArrayPusher(ol.format.GML2.prototype.readFlatCoordinates_)}};ol.format.GML2.prototype.GEOMETRY_PARSERS_={"http://www.opengis.net/gml":{Point:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPoint),MultiPoint:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPoint),LineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLineString),MultiLineString:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiLineString),LinearRing:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readLinearRing),Polygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readPolygon),MultiPolygon:ol.xml.makeReplacer(ol.format.GMLBase.prototype.readMultiPolygon),Box:ol.xml.makeReplacer(ol.format.GML2.prototype.readBox_)}};goog.provide("ol.format.GPX");goog.require("ol");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.Point");goog.require("ol.proj");goog.require("ol.xml");ol.format.GPX=function(e){var t=e?e:{};ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.readExtensions_=t.readExtensions};ol.inherits(ol.format.GPX,ol.format.XMLFeature);ol.format.GPX.NAMESPACE_URIS_=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];ol.format.GPX.SCHEMA_LOCATION_="http://www.topografix.com/GPX/1/1 "+"http://www.topografix.com/GPX/1/1/gpx.xsd";ol.format.GPX.appendCoordinate_=function(e,t,o,r){e.push(parseFloat(o.getAttribute("lon")),parseFloat(o.getAttribute("lat")));if("ele"in r){e.push(r["ele"]);delete r["ele"];t.hasZ=true}else{e.push(0)}if("time"in r){e.push(r["time"]);delete r["time"];t.hasM=true}else{e.push(0)}return e};ol.format.GPX.applyLayoutOptions_=function(e,t,o){var r=ol.geom.GeometryLayout.XY;var i=2;if(e.hasZ&&e.hasM){r=ol.geom.GeometryLayout.XYZM;i=4}else if(e.hasZ){r=ol.geom.GeometryLayout.XYZ;i=3}else if(e.hasM){r=ol.geom.GeometryLayout.XYM;i=3}if(i!==4){var n,a;for(n=0,a=t.length/4;n<a;n++){t[n*i]=t[n*4];t[n*i+1]=t[n*4+1];if(e.hasZ){t[n*i+2]=t[n*4+2]}if(e.hasM){t[n*i+2]=t[n*4+3]}}t.length=t.length/4*i;if(o){for(n=0,a=o.length;n<a;n++){o[n]=o[n]/4*i}}}return r};ol.format.GPX.parseLink_=function(e,t){var o=t[t.length-1];var r=e.getAttribute("href");if(r!==null){o["link"]=r}ol.xml.parseNode(ol.format.GPX.LINK_PARSERS_,e,t)};ol.format.GPX.parseExtensions_=function(e,t){var o=t[t.length-1];o["extensionsNode_"]=e};ol.format.GPX.parseRtePt_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.GPX.RTEPT_PARSERS_,e,t);if(o){var r=t[t.length-1];var i=r["flatCoordinates"];var n=r["layoutOptions"];ol.format.GPX.appendCoordinate_(i,n,e,o)}};ol.format.GPX.parseTrkPt_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.GPX.TRKPT_PARSERS_,e,t);if(o){var r=t[t.length-1];var i=r["flatCoordinates"];var n=r["layoutOptions"];ol.format.GPX.appendCoordinate_(i,n,e,o)}};ol.format.GPX.parseTrkSeg_=function(e,t){var o=t[t.length-1];ol.xml.parseNode(ol.format.GPX.TRKSEG_PARSERS_,e,t);var r=o["flatCoordinates"];var i=o["ends"];i.push(r.length)};ol.format.GPX.readRte_=function(e,t){var o=t[0];var r=ol.xml.pushParseAndPop({flatCoordinates:[],layoutOptions:{}},ol.format.GPX.RTE_PARSERS_,e,t);if(!r){return undefined}var i=r["flatCoordinates"];delete r["flatCoordinates"];var n=r["layoutOptions"];delete r["layoutOptions"];var a=ol.format.GPX.applyLayoutOptions_(n,i);var l=new ol.geom.LineString(null);l.setFlatCoordinates(a,i);ol.format.Feature.transformWithOptions(l,false,o);var s=new ol.Feature(l);s.setProperties(r);return s};ol.format.GPX.readTrk_=function(e,t){var o=t[0];var r=ol.xml.pushParseAndPop({flatCoordinates:[],ends:[],layoutOptions:{}},ol.format.GPX.TRK_PARSERS_,e,t);if(!r){return undefined}var i=r["flatCoordinates"];delete r["flatCoordinates"];var n=r["ends"];delete r["ends"];var a=r["layoutOptions"];delete r["layoutOptions"];var l=ol.format.GPX.applyLayoutOptions_(a,i,n);var s=new ol.geom.MultiLineString(null);s.setFlatCoordinates(l,i,n);ol.format.Feature.transformWithOptions(s,false,o);var p=new ol.Feature(s);p.setProperties(r);return p};ol.format.GPX.readWpt_=function(e,t){var o=t[0];var r=ol.xml.pushParseAndPop({},ol.format.GPX.WPT_PARSERS_,e,t);if(!r){return undefined}var i={};var n=ol.format.GPX.appendCoordinate_([],i,e,r);var a=ol.format.GPX.applyLayoutOptions_(i,n);var l=new ol.geom.Point(n,a);ol.format.Feature.transformWithOptions(l,false,o);var s=new ol.Feature(l);s.setProperties(r);return s};ol.format.GPX.FEATURE_READER_={rte:ol.format.GPX.readRte_,trk:ol.format.GPX.readTrk_,wpt:ol.format.GPX.readWpt_};ol.format.GPX.GPX_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeArrayPusher(ol.format.GPX.readRte_),trk:ol.xml.makeArrayPusher(ol.format.GPX.readTrk_),wpt:ol.xml.makeArrayPusher(ol.format.GPX.readWpt_)});ol.format.GPX.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkText"),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString,"linkType")});ol.format.GPX.RTE_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_,type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),rtept:ol.format.GPX.parseRtePt_});ol.format.GPX.RTEPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.TRK_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,number:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),extensions:ol.format.GPX.parseExtensions_,trkseg:ol.format.GPX.parseTrkSeg_});ol.format.GPX.TRKSEG_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.format.GPX.parseTrkPt_});ol.format.GPX.TRKPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime)});ol.format.GPX.WPT_PARSERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),time:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDateTime),magvar:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),geoidheight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),cmt:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),desc:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),src:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),link:ol.format.GPX.parseLink_,sym:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),type:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),fix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),sat:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),hdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),vdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),pdop:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),ageofdgpsdata:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),dgpsid:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),extensions:ol.format.GPX.parseExtensions_});ol.format.GPX.prototype.handleReadExtensions_=function(e){if(!e){e=[]}for(var t=0,o=e.length;t<o;++t){var r=e[t];if(this.readExtensions_){var i=r.get("extensionsNode_")||null;this.readExtensions_(r,i)}r.set("extensionsNode_",undefined)}};ol.format.GPX.prototype.readFeature;ol.format.GPX.prototype.readFeatureFromNode=function(e,t){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI)){return null}var o=ol.format.GPX.FEATURE_READER_[e.localName];if(!o){return null}var r=o(e,[this.getReadOptions(e,t)]);if(!r){return null}this.handleReadExtensions_([r]);return r};ol.format.GPX.prototype.readFeatures;ol.format.GPX.prototype.readFeaturesFromNode=function(e,t){if(!ol.array.includes(ol.format.GPX.NAMESPACE_URIS_,e.namespaceURI)){return[]}if(e.localName=="gpx"){var o=ol.xml.pushParseAndPop([],ol.format.GPX.GPX_PARSERS_,e,[this.getReadOptions(e,t)]);if(o){this.handleReadExtensions_(o);return o}else{return[]}}return[]};ol.format.GPX.prototype.readProjection;ol.format.GPX.writeLink_=function(e,t,o){e.setAttribute("href",t);var r=o[o.length-1];var i=r["properties"];var n=[i["linkText"],i["linkType"]];ol.xml.pushSerializeAndPop({node:e},ol.format.GPX.LINK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,n,o,ol.format.GPX.LINK_SEQUENCE_)};ol.format.GPX.writeWptType_=function(e,t,o){var r=o[o.length-1];var i=r.node;var n=i.namespaceURI;var a=r["properties"];ol.xml.setAttributeNS(e,null,"lat",t[1]);ol.xml.setAttributeNS(e,null,"lon",t[0]);var l=r["geometryLayout"];switch(l){case ol.geom.GeometryLayout.XYZM:if(t[3]!==0){a["time"]=t[3]}case ol.geom.GeometryLayout.XYZ:if(t[2]!==0){a["ele"]=t[2]}break;case ol.geom.GeometryLayout.XYM:if(t[2]!==0){a["time"]=t[2]}break;default:}var s=e.nodeName=="rtept"?ol.format.GPX.RTEPT_TYPE_SEQUENCE_[n]:ol.format.GPX.WPT_TYPE_SEQUENCE_[n];var p=ol.xml.makeSequence(a,s);ol.xml.pushSerializeAndPop({node:e,properties:a},ol.format.GPX.WPT_TYPE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,o,s)};ol.format.GPX.writeRte_=function(e,t,o){var r=o[0];var i=t.getProperties();var n={node:e,properties:i};var a=t.getGeometry();if(a){a=ol.format.Feature.transformWithOptions(a,true,r);n["geometryLayout"]=a.getLayout();i["rtept"]=a.getCoordinates()}var l=o[o.length-1].node;var s=ol.format.GPX.RTE_SEQUENCE_[l.namespaceURI];var p=ol.xml.makeSequence(i,s);ol.xml.pushSerializeAndPop(n,ol.format.GPX.RTE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,o,s)};ol.format.GPX.writeTrk_=function(e,t,o){var r=o[0];var i=t.getProperties();var n={node:e,properties:i};var a=t.getGeometry();if(a){a=ol.format.Feature.transformWithOptions(a,true,r);i["trkseg"]=a.getLineStrings()}var l=o[o.length-1].node;var s=ol.format.GPX.TRK_SEQUENCE_[l.namespaceURI];var p=ol.xml.makeSequence(i,s);ol.xml.pushSerializeAndPop(n,ol.format.GPX.TRK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,o,s)};ol.format.GPX.writeTrkSeg_=function(e,t,o){var r={node:e,geometryLayout:t.getLayout(),properties:{}};ol.xml.pushSerializeAndPop(r,ol.format.GPX.TRKSEG_SERIALIZERS_,ol.format.GPX.TRKSEG_NODE_FACTORY_,t.getCoordinates(),o)};ol.format.GPX.writeWpt_=function(e,t,o){var r=o[0];var i=o[o.length-1];i["properties"]=t.getProperties();var n=t.getGeometry();if(n){n=ol.format.Feature.transformWithOptions(n,true,r);i["geometryLayout"]=n.getLayout();ol.format.GPX.writeWptType_(e,n.getCoordinates(),o)}};ol.format.GPX.LINK_SEQUENCE_=["text","type"];ol.format.GPX.LINK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{text:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)});ol.format.GPX.RTE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","rtept"]);
ol.format.GPX.RTE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),rtept:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeWptType_))});ol.format.GPX.RTEPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time"]);ol.format.GPX.TRK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["name","cmt","desc","src","link","number","type","trkseg"]);ol.format.GPX.TRK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),number:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),trkseg:ol.xml.makeArraySerializer(ol.xml.makeChildAppender(ol.format.GPX.writeTrkSeg_))});ol.format.GPX.TRKSEG_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("trkpt");ol.format.GPX.TRKSEG_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{trkpt:ol.xml.makeChildAppender(ol.format.GPX.writeWptType_)});ol.format.GPX.WPT_TYPE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,["ele","time","magvar","geoidheight","name","cmt","desc","src","link","sym","type","fix","sat","hdop","vdop","pdop","ageofdgpsdata","dgpsid"]);ol.format.GPX.WPT_TYPE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{ele:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),time:ol.xml.makeChildAppender(ol.format.XSD.writeDateTimeTextNode),magvar:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),geoidheight:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),cmt:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),desc:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),src:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),link:ol.xml.makeChildAppender(ol.format.GPX.writeLink_),sym:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),type:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),fix:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),sat:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode),hdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),vdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),pdop:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),ageofdgpsdata:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),dgpsid:ol.xml.makeChildAppender(ol.format.XSD.writeNonNegativeIntegerTextNode)});ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_={Point:"wpt",LineString:"rte",MultiLineString:"trk"};ol.format.GPX.GPX_NODE_FACTORY_=function(e,t,o){var r=e.getGeometry();if(r){var i=ol.format.GPX.GEOMETRY_TYPE_TO_NODENAME_[r.getType()];if(i){var n=t[t.length-1].node;return ol.xml.createElementNS(n.namespaceURI,i)}}};ol.format.GPX.GPX_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.GPX.NAMESPACE_URIS_,{rte:ol.xml.makeChildAppender(ol.format.GPX.writeRte_),trk:ol.xml.makeChildAppender(ol.format.GPX.writeTrk_),wpt:ol.xml.makeChildAppender(ol.format.GPX.writeWpt_)});ol.format.GPX.prototype.writeFeatures;ol.format.GPX.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS("http://www.topografix.com/GPX/1/1","gpx");var r="http://www.w3.org/2000/xmlns/";var i="http://www.w3.org/2001/XMLSchema-instance";ol.xml.setAttributeNS(o,r,"xmlns:xsi",i);ol.xml.setAttributeNS(o,i,"xsi:schemaLocation",ol.format.GPX.SCHEMA_LOCATION_);o.setAttribute("version","1.1");o.setAttribute("creator","OpenLayers");ol.xml.pushSerializeAndPop({node:o},ol.format.GPX.GPX_SERIALIZERS_,ol.format.GPX.GPX_NODE_FACTORY_,e,[t]);return o};goog.provide("ol.format.IGCZ");ol.format.IGCZ={BAROMETRIC:"barometric",GPS:"gps",NONE:"none"};goog.provide("ol.format.TextFeature");goog.require("ol");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");ol.format.TextFeature=function(){ol.format.Feature.call(this)};ol.inherits(ol.format.TextFeature,ol.format.Feature);ol.format.TextFeature.prototype.getText_=function(e){if(typeof e==="string"){return e}else{return""}};ol.format.TextFeature.prototype.getType=function(){return ol.format.FormatType.TEXT};ol.format.TextFeature.prototype.readFeature=function(e,t){return this.readFeatureFromText(this.getText_(e),this.adaptOptions(t))};ol.format.TextFeature.prototype.readFeatureFromText=function(e,t){};ol.format.TextFeature.prototype.readFeatures=function(e,t){return this.readFeaturesFromText(this.getText_(e),this.adaptOptions(t))};ol.format.TextFeature.prototype.readFeaturesFromText=function(e,t){};ol.format.TextFeature.prototype.readGeometry=function(e,t){return this.readGeometryFromText(this.getText_(e),this.adaptOptions(t))};ol.format.TextFeature.prototype.readGeometryFromText=function(e,t){};ol.format.TextFeature.prototype.readProjection=function(e){return this.readProjectionFromText(this.getText_(e))};ol.format.TextFeature.prototype.readProjectionFromText=function(e){return this.defaultDataProjection};ol.format.TextFeature.prototype.writeFeature=function(e,t){return this.writeFeatureText(e,this.adaptOptions(t))};ol.format.TextFeature.prototype.writeFeatureText=function(e,t){};ol.format.TextFeature.prototype.writeFeatures=function(e,t){return this.writeFeaturesText(e,this.adaptOptions(t))};ol.format.TextFeature.prototype.writeFeaturesText=function(e,t){};ol.format.TextFeature.prototype.writeGeometry=function(e,t){return this.writeGeometryText(e,this.adaptOptions(t))};ol.format.TextFeature.prototype.writeGeometryText=function(e,t){};goog.provide("ol.format.IGC");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.IGCZ");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.proj");ol.format.IGC=function(e){var t=e?e:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.altitudeMode_=t.altitudeMode?t.altitudeMode:ol.format.IGCZ.NONE};ol.inherits(ol.format.IGC,ol.format.TextFeature);ol.format.IGC.B_RECORD_RE_=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/;ol.format.IGC.H_RECORD_RE_=/^H.([A-Z]{3}).*?:(.*)/;ol.format.IGC.HFDTE_RECORD_RE_=/^HFDTE(\d{2})(\d{2})(\d{2})/;ol.format.IGC.NEWLINE_RE_=/\r\n|\r|\n/;ol.format.IGC.prototype.readFeature;ol.format.IGC.prototype.readFeatureFromText=function(e,t){var o=this.altitudeMode_;var r=e.split(ol.format.IGC.NEWLINE_RE_);var i={};var n=[];var a=2e3;var l=0;var s=1;var p=-1;var u,c;for(u=0,c=r.length;u<c;++u){var g=r[u];var h;if(g.charAt(0)=="B"){h=ol.format.IGC.B_RECORD_RE_.exec(g);if(h){var f=parseInt(h[1],10);var d=parseInt(h[2],10);var y=parseInt(h[3],10);var m=parseInt(h[4],10)+parseInt(h[5],10)/6e4;if(h[6]=="S"){m=-m}var v=parseInt(h[7],10)+parseInt(h[8],10)/6e4;if(h[9]=="W"){v=-v}n.push(v,m);if(o!=ol.format.IGCZ.NONE){var _;if(o==ol.format.IGCZ.GPS){_=parseInt(h[11],10)}else if(o==ol.format.IGCZ.BAROMETRIC){_=parseInt(h[12],10)}else{_=0}n.push(_)}var x=Date.UTC(a,l,s,f,d,y);if(x<p){x=Date.UTC(a,l,s+1,f,d,y)}n.push(x/1e3);p=x}}else if(g.charAt(0)=="H"){h=ol.format.IGC.HFDTE_RECORD_RE_.exec(g);if(h){s=parseInt(h[1],10);l=parseInt(h[2],10)-1;a=2e3+parseInt(h[3],10)}else{h=ol.format.IGC.H_RECORD_RE_.exec(g);if(h){i[h[1]]=h[2].trim()}}}}if(n.length===0){return null}var S=new ol.geom.LineString(null);var P=o==ol.format.IGCZ.NONE?ol.geom.GeometryLayout.XYM:ol.geom.GeometryLayout.XYZM;S.setFlatCoordinates(P,n);var E=new ol.Feature(ol.format.Feature.transformWithOptions(S,false,t));E.setProperties(i);return E};ol.format.IGC.prototype.readFeatures;ol.format.IGC.prototype.readFeaturesFromText=function(e,t){var o=this.readFeatureFromText(e,t);if(o){return[o]}else{return[]}};ol.format.IGC.prototype.readProjection;ol.format.IGC.prototype.writeFeatureText=function(e,t){};ol.format.IGC.prototype.writeFeaturesText=function(e,t){};ol.format.IGC.prototype.writeGeometryText=function(e,t){};ol.format.IGC.prototype.readGeometryFromText=function(e,t){};goog.provide("ol.style.IconAnchorUnits");ol.style.IconAnchorUnits={FRACTION:"fraction",PIXELS:"pixels"};goog.provide("ol.style.IconImage");goog.require("ol");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");goog.require("ol.ImageState");goog.require("ol.style");ol.style.IconImage=function(e,t,o,r,i,n){ol.events.EventTarget.call(this);this.hitDetectionImage_=null;this.image_=!e?new Image:e;if(r!==null){this.image_.crossOrigin=r}this.canvas_=n?document.createElement("CANVAS"):null;this.color_=n;this.imageListenerKeys_=null;this.imageState_=i;this.size_=o;this.src_=t;this.tainting_=false;if(this.imageState_==ol.ImageState.LOADED){this.determineTainting_()}};ol.inherits(ol.style.IconImage,ol.events.EventTarget);ol.style.IconImage.get=function(e,t,o,r,i,n){var a=ol.style.iconImageCache;var l=a.get(t,r,n);if(!l){l=new ol.style.IconImage(e,t,o,r,i,n);a.set(t,r,n,l)}return l};ol.style.IconImage.prototype.determineTainting_=function(){var e=ol.dom.createCanvasContext2D(1,1);try{e.drawImage(this.image_,0,0);e.getImageData(0,0,1,1)}catch(t){this.tainting_=true}};ol.style.IconImage.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.style.IconImage.prototype.handleImageError_=function(){this.imageState_=ol.ImageState.ERROR;this.unlistenImage_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.handleImageLoad_=function(){this.imageState_=ol.ImageState.LOADED;if(this.size_){this.image_.width=this.size_[0];this.image_.height=this.size_[1]}this.size_=[this.image_.width,this.image_.height];this.unlistenImage_();this.determineTainting_();this.replaceColor_();this.dispatchChangeEvent_()};ol.style.IconImage.prototype.getImage=function(e){return this.canvas_?this.canvas_:this.image_};ol.style.IconImage.prototype.getImageState=function(){return this.imageState_};ol.style.IconImage.prototype.getHitDetectionImage=function(e){if(!this.hitDetectionImage_){if(this.tainting_){var t=this.size_[0];var o=this.size_[1];var r=ol.dom.createCanvasContext2D(t,o);r.fillRect(0,0,t,o);this.hitDetectionImage_=r.canvas}else{this.hitDetectionImage_=this.image_}}return this.hitDetectionImage_};ol.style.IconImage.prototype.getSize=function(){return this.size_};ol.style.IconImage.prototype.getSrc=function(){return this.src_};ol.style.IconImage.prototype.load=function(){if(this.imageState_==ol.ImageState.IDLE){this.imageState_=ol.ImageState.LOADING;this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(e){this.handleImageError_()}}};ol.style.IconImage.prototype.replaceColor_=function(){if(this.tainting_||this.color_===null){return}this.canvas_.width=this.image_.width;this.canvas_.height=this.image_.height;var e=this.canvas_.getContext("2d");e.drawImage(this.image_,0,0);var t=e.getImageData(0,0,this.image_.width,this.image_.height);var o=t.data;var r=this.color_[0]/255;var i=this.color_[1]/255;var n=this.color_[2]/255;for(var a=0,l=o.length;a<l;a+=4){o[a]*=r;o[a+1]*=i;o[a+2]*=n}e.putImageData(t,0,0)};ol.style.IconImage.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.style.IconOrigin");ol.style.IconOrigin={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};goog.provide("ol.style.Icon");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.asserts");goog.require("ol.color");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.style.IconAnchorUnits");goog.require("ol.style.IconImage");goog.require("ol.style.IconOrigin");goog.require("ol.style.Image");ol.style.Icon=function(e){var t=e||{};this.anchor_=t.anchor!==undefined?t.anchor:[.5,.5];this.normalizedAnchor_=null;this.anchorOrigin_=t.anchorOrigin!==undefined?t.anchorOrigin:ol.style.IconOrigin.TOP_LEFT;this.anchorXUnits_=t.anchorXUnits!==undefined?t.anchorXUnits:ol.style.IconAnchorUnits.FRACTION;this.anchorYUnits_=t.anchorYUnits!==undefined?t.anchorYUnits:ol.style.IconAnchorUnits.FRACTION;this.crossOrigin_=t.crossOrigin!==undefined?t.crossOrigin:null;var o=t.img!==undefined?t.img:null;var r=t.imgSize!==undefined?t.imgSize:null;var i=t.src;ol.asserts.assert(!(i!==undefined&&o),4);ol.asserts.assert(!o||o&&r,5);if((i===undefined||i.length===0)&&o){i=o.src||ol.getUid(o).toString()}ol.asserts.assert(i!==undefined&&i.length>0,6);var n=t.src!==undefined?ol.ImageState.IDLE:ol.ImageState.LOADED;this.color_=t.color!==undefined?ol.color.asArray(t.color):null;this.iconImage_=ol.style.IconImage.get(o,i,r,this.crossOrigin_,n,this.color_);this.offset_=t.offset!==undefined?t.offset:[0,0];this.offsetOrigin_=t.offsetOrigin!==undefined?t.offsetOrigin:ol.style.IconOrigin.TOP_LEFT;this.origin_=null;this.size_=t.size!==undefined?t.size:null;var a=t.opacity!==undefined?t.opacity:1;var l=t.rotateWithView!==undefined?t.rotateWithView:false;var s=t.rotation!==undefined?t.rotation:0;var p=t.scale!==undefined?t.scale:1;var u=t.snapToPixel!==undefined?t.snapToPixel:true;ol.style.Image.call(this,{opacity:a,rotation:s,scale:p,snapToPixel:u,rotateWithView:l})};ol.inherits(ol.style.Icon,ol.style.Image);ol.style.Icon.prototype.clone=function(){var e=this.getImage(1);var t;if(this.iconImage_.getImageState()===ol.ImageState.LOADED){if(e.tagName.toUpperCase()==="IMG"){t=e.cloneNode(true)}else{t=document.createElement("canvas");var o=t.getContext("2d");t.width=e.width;t.height=e.height;o.drawImage(e,0,0)}}return new ol.style.Icon({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||undefined,img:t?t:undefined,imgSize:t?this.iconImage_.getSize().slice():undefined,src:t?undefined:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:this.size_!==null?this.size_.slice():undefined,opacity:this.getOpacity(),scale:this.getScale(),snapToPixel:this.getSnapToPixel(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})};ol.style.Icon.prototype.getAnchor=function(){if(this.normalizedAnchor_){return this.normalizedAnchor_}var e=this.anchor_;var t=this.getSize();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION||this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){if(!t){return null}e=this.anchor_.slice();if(this.anchorXUnits_==ol.style.IconAnchorUnits.FRACTION){e[0]*=t[0]}if(this.anchorYUnits_==ol.style.IconAnchorUnits.FRACTION){e[1]*=t[1]}}if(this.anchorOrigin_!=ol.style.IconOrigin.TOP_LEFT){if(!t){return null}if(e===this.anchor_){e=this.anchor_.slice()}if(this.anchorOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[0]=-e[0]+t[0]}if(this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.anchorOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[1]=-e[1]+t[1]}}this.normalizedAnchor_=e;return this.normalizedAnchor_};ol.style.Icon.prototype.getColor=function(){return this.color_};ol.style.Icon.prototype.getImage=function(e){return this.iconImage_.getImage(e)};ol.style.Icon.prototype.getImageSize=function(){return this.iconImage_.getSize()};ol.style.Icon.prototype.getHitDetectionImageSize=function(){return this.getImageSize()};ol.style.Icon.prototype.getImageState=function(){return this.iconImage_.getImageState()};ol.style.Icon.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)};ol.style.Icon.prototype.getOrigin=function(){if(this.origin_){return this.origin_}var e=this.offset_;if(this.offsetOrigin_!=ol.style.IconOrigin.TOP_LEFT){var t=this.getSize();var o=this.iconImage_.getSize();if(!t||!o){return null}e=e.slice();if(this.offsetOrigin_==ol.style.IconOrigin.TOP_RIGHT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[0]=o[0]-t[0]-e[0]}if(this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_LEFT||this.offsetOrigin_==ol.style.IconOrigin.BOTTOM_RIGHT){e[1]=o[1]-t[1]-e[1]}}this.origin_=e;return this.origin_};ol.style.Icon.prototype.getSrc=function(){return this.iconImage_.getSrc()};ol.style.Icon.prototype.getSize=function(){return!this.size_?this.iconImage_.getSize():this.size_};ol.style.Icon.prototype.listenImageChange=function(e,t){return ol.events.listen(this.iconImage_,ol.events.EventType.CHANGE,e,t)};ol.style.Icon.prototype.load=function(){this.iconImage_.load()};ol.style.Icon.prototype.unlistenImageChange=function(e,t){ol.events.unlisten(this.iconImage_,ol.events.EventType.CHANGE,e,t)};goog.provide("ol.style.Text");goog.require("ol.style.Fill");ol.style.Text=function(e){var t=e||{};this.font_=t.font;this.rotation_=t.rotation;this.rotateWithView_=t.rotateWithView;this.scale_=t.scale;this.text_=t.text;this.textAlign_=t.textAlign;this.textBaseline_=t.textBaseline;this.fill_=t.fill!==undefined?t.fill:new ol.style.Fill({color:ol.style.Text.DEFAULT_FILL_COLOR_});this.stroke_=t.stroke!==undefined?t.stroke:null;this.offsetX_=t.offsetX!==undefined?t.offsetX:0;this.offsetY_=t.offsetY!==undefined?t.offsetY:0};ol.style.Text.DEFAULT_FILL_COLOR_="#333";ol.style.Text.prototype.clone=function(){return new ol.style.Text({font:this.getFont(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():undefined,stroke:this.getStroke()?this.getStroke().clone():undefined,offsetX:this.getOffsetX(),offsetY:this.getOffsetY()})};ol.style.Text.prototype.getFont=function(){return this.font_};ol.style.Text.prototype.getOffsetX=function(){return this.offsetX_};ol.style.Text.prototype.getOffsetY=function(){return this.offsetY_};ol.style.Text.prototype.getFill=function(){return this.fill_};ol.style.Text.prototype.getRotateWithView=function(){return this.rotateWithView_};ol.style.Text.prototype.getRotation=function(){return this.rotation_};ol.style.Text.prototype.getScale=function(){return this.scale_};ol.style.Text.prototype.getStroke=function(){return this.stroke_};ol.style.Text.prototype.getText=function(){return this.text_};ol.style.Text.prototype.getTextAlign=function(){return this.textAlign_};ol.style.Text.prototype.getTextBaseline=function(){return this.textBaseline_};ol.style.Text.prototype.setFont=function(e){this.font_=e};ol.style.Text.prototype.setOffsetX=function(e){this.offsetX_=e};ol.style.Text.prototype.setOffsetY=function(e){this.offsetY_=e};ol.style.Text.prototype.setFill=function(e){this.fill_=e};ol.style.Text.prototype.setRotation=function(e){this.rotation_=e};ol.style.Text.prototype.setScale=function(e){this.scale_=e};ol.style.Text.prototype.setStroke=function(e){this.stroke_=e};ol.style.Text.prototype.setText=function(e){this.text_=e};ol.style.Text.prototype.setTextAlign=function(e){this.textAlign_=e};ol.style.Text.prototype.setTextBaseline=function(e){this.textBaseline_=e};goog.provide("ol.format.KML");goog.require("ol");goog.require("ol.Feature");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.color");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.style.Fill");goog.require("ol.style.Icon");goog.require("ol.style.IconAnchorUnits");goog.require("ol.style.IconOrigin");goog.require("ol.style.Stroke");goog.require("ol.style.Style");goog.require("ol.style.Text");goog.require("ol.xml");ol.format.KML=function(e){var t=e?e:{};ol.format.XMLFeature.call(this);if(!ol.format.KML.DEFAULT_STYLE_ARRAY_){ol.format.KML.createStyleDefaults_()}this.defaultDataProjection=ol.proj.get("EPSG:4326");this.defaultStyle_=t.defaultStyle?t.defaultStyle:ol.format.KML.DEFAULT_STYLE_ARRAY_;this.extractStyles_=t.extractStyles!==undefined?t.extractStyles:true;this.writeStyles_=t.writeStyles!==undefined?t.writeStyles:true;this.sharedStyles_={};this.showPointNames_=t.showPointNames!==undefined?t.showPointNames:true};ol.inherits(ol.format.KML,ol.format.XMLFeature);ol.format.KML.GX_NAMESPACE_URIS_=["http://www.google.com/kml/ext/2.2"];ol.format.KML.NAMESPACE_URIS_=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"];ol.format.KML.SCHEMA_LOCATION_="http://www.opengis.net/kml/2.2 "+"https://developers.google.com/kml/schema/kml22gx.xsd";ol.format.KML.createStyleDefaults_=function(){ol.format.KML.DEFAULT_COLOR_=[255,255,255,1];ol.format.KML.DEFAULT_FILL_STYLE_=new ol.style.Fill({color:ol.format.KML.DEFAULT_COLOR_});ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_=[20,2];ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_=ol.style.IconAnchorUnits.PIXELS;ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_=[64,64];ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_="https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png";ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_=.5;ol.format.KML.DEFAULT_IMAGE_STYLE_=new ol.style.Icon({anchor:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_,anchorYUnits:ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_,crossOrigin:"anonymous",rotation:0,scale:ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_,size:ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_,src:ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_});ol.format.KML.DEFAULT_NO_IMAGE_STYLE_="NO_IMAGE";ol.format.KML.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:ol.format.KML.DEFAULT_COLOR_,width:1});ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_=new ol.style.Stroke({color:[51,51,51,1],width:2});ol.format.KML.DEFAULT_TEXT_STYLE_=new ol.style.Text({font:"bold 16px Helvetica",fill:ol.format.KML.DEFAULT_FILL_STYLE_,stroke:ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_,scale:.8});ol.format.KML.DEFAULT_STYLE_=new ol.style.Style({fill:ol.format.KML.DEFAULT_FILL_STYLE_,image:ol.format.KML.DEFAULT_IMAGE_STYLE_,text:ol.format.KML.DEFAULT_TEXT_STYLE_,stroke:ol.format.KML.DEFAULT_STROKE_STYLE_,zIndex:0});ol.format.KML.DEFAULT_STYLE_ARRAY_=[ol.format.KML.DEFAULT_STYLE_];return ol.format.KML.DEFAULT_STYLE_ARRAY_};ol.format.KML.ICON_ANCHOR_UNITS_MAP_={fraction:ol.style.IconAnchorUnits.FRACTION,pixels:ol.style.IconAnchorUnits.PIXELS};ol.format.KML.createNameStyleFunction_=function(e,t){var o=null;var r=[0,0];var i="start";if(e.getImage()){var n=e.getImage().getImageSize();if(n===null){n=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_}if(n.length==2){var a=e.getImage().getScale();r[0]=a*n[0]/2;r[1]=-a*n[1]/2;i="left"}}if(e.getText()!==null){var l=e.getText();o=l.clone();o.setFont(l.getFont()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFont());o.setScale(l.getScale()||ol.format.KML.DEFAULT_TEXT_STYLE_.getScale());o.setFill(l.getFill()||ol.format.KML.DEFAULT_TEXT_STYLE_.getFill());o.setStroke(l.getStroke()||ol.format.KML.DEFAULT_TEXT_STROKE_STYLE_)}else{o=ol.format.KML.DEFAULT_TEXT_STYLE_.clone()}o.setText(t);o.setOffsetX(r[0]);o.setOffsetY(r[1]);o.setTextAlign(i);var s=new ol.style.Style({text:o});return s};ol.format.KML.createFeatureStyleFunction_=function(e,t,o,r,i){return function(n){var a=i;var l;var s="";if(a){if(this.getGeometry()){a=this.getGeometry().getType()===ol.geom.GeometryType.POINT}}if(a){s=this.get("name");a=a&&s}if(e){if(a){l=ol.format.KML.createNameStyleFunction_(e[0],s);return e.concat(l)}return e}if(t){var p=ol.format.KML.findStyle_(t,o,r);if(a){l=ol.format.KML.createNameStyleFunction_(p[0],s);return p.concat(l)}return p}if(a){l=ol.format.KML.createNameStyleFunction_(o[0],s);return o.concat(l)}return o}};ol.format.KML.findStyle_=function(e,t,o){if(Array.isArray(e)){return e}else if(typeof e==="string"){if(!(e in o)&&"#"+e in o){e="#"+e}return ol.format.KML.findStyle_(o[e],t,o)}else{return t}};ol.format.KML.readColor_=function(e){var t=ol.xml.getAllTextContent(e,false);var o=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t);if(o){var r=o[1];return[parseInt(r.substr(6,2),16),parseInt(r.substr(4,2),16),parseInt(r.substr(2,2),16),parseInt(r.substr(0,2),16)/255]}else{return undefined}};ol.format.KML.readFlatCoordinates_=function(e){var t=ol.xml.getAllTextContent(e,false);var o=[];var r=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;var i;while(i=r.exec(t)){var n=parseFloat(i[1]);var a=parseFloat(i[2]);var l=i[3]?parseFloat(i[3]):0;o.push(n,a,l);t=t.substr(i[0].length)}if(t!==""){return undefined}return o};ol.format.KML.readURI_=function(e){var t=ol.xml.getAllTextContent(e,false).trim();if(e.baseURI){var o=new URL(t,e.baseURI);return o.href}else{return t}};ol.format.KML.readVec2_=function(e){var t=e.getAttribute("xunits");var o=e.getAttribute("yunits");return{x:parseFloat(e.getAttribute("x")),xunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[t],y:parseFloat(e.getAttribute("y")),yunits:ol.format.KML.ICON_ANCHOR_UNITS_MAP_[o]}};ol.format.KML.readScale_=function(e){return ol.format.XSD.readDecimal(e)};ol.format.KML.readStyleMapValue_=function(e,t){return ol.xml.pushParseAndPop(undefined,ol.format.KML.STYLE_MAP_PARSERS_,e,t)};ol.format.KML.IconStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.ICON_STYLE_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i="Icon"in o?o["Icon"]:{};var n=!("Icon"in o)||Object.keys(i).length>0;var a;var l=i["href"];if(l){a=l}else if(n){a=ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_}var s,p,u;var c=o["hotSpot"];if(c){s=[c.x,c.y];p=c.xunits;u=c.yunits}else if(a===ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){s=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_;p=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_X_UNITS_;u=ol.format.KML.DEFAULT_IMAGE_STYLE_ANCHOR_Y_UNITS_}else if(/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(a)){s=[.5,0];p=ol.style.IconAnchorUnits.FRACTION;u=ol.style.IconAnchorUnits.FRACTION}var g;var h=i["x"];var f=i["y"];if(h!==undefined&&f!==undefined){g=[h,f]}var d;var y=i["w"];var m=i["h"];if(y!==undefined&&m!==undefined){d=[y,m]}var v;var _=o["heading"];if(_!==undefined){v=ol.math.toRadians(_)}var x=o["scale"];if(n){if(a==ol.format.KML.DEFAULT_IMAGE_STYLE_SRC_){d=ol.format.KML.DEFAULT_IMAGE_STYLE_SIZE_;if(x===undefined){x=ol.format.KML.DEFAULT_IMAGE_SCALE_MULTIPLIER_}}var S=new ol.style.Icon({anchor:s,anchorOrigin:ol.style.IconOrigin.BOTTOM_LEFT,anchorXUnits:p,anchorYUnits:u,crossOrigin:"anonymous",offset:g,offsetOrigin:ol.style.IconOrigin.BOTTOM_LEFT,rotation:v,scale:x,size:d,src:a});r["imageStyle"]=S}else{r["imageStyle"]=ol.format.KML.DEFAULT_NO_IMAGE_STYLE_}};ol.format.KML.LabelStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LABEL_STYLE_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i=new ol.style.Text({fill:new ol.style.Fill({color:"color"in o?o["color"]:ol.format.KML.DEFAULT_COLOR_}),scale:o["scale"]});r["textStyle"]=i};ol.format.KML.LineStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LINE_STYLE_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i=new ol.style.Stroke({color:"color"in o?o["color"]:ol.format.KML.DEFAULT_COLOR_,width:"width"in o?o["width"]:1});r["strokeStyle"]=i};ol.format.KML.PolyStyleParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.POLY_STYLE_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i=new ol.style.Fill({color:"color"in o?o["color"]:ol.format.KML.DEFAULT_COLOR_});r["fillStyle"]=i;var n=o["fill"];if(n!==undefined){r["fill"]=n}var a=o["outline"];if(a!==undefined){r["outline"]=a}};ol.format.KML.readFlatLinearRing_=function(e,t){return ol.xml.pushParseAndPop(null,ol.format.KML.FLAT_LINEAR_RING_PARSERS_,e,t)};ol.format.KML.gxCoordParser_=function(e,t){var o=t[t.length-1];var r=o.flatCoordinates;var i=ol.xml.getAllTextContent(e,false);var n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i;var a=n.exec(i);if(a){var l=parseFloat(a[1]);var s=parseFloat(a[2]);var p=parseFloat(a[3]);r.push(l,s,p,0)}else{r.push(0,0,0,0)}};ol.format.KML.readGxMultiTrack_=function(e,t){var o=ol.xml.pushParseAndPop([],ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_,e,t);if(!o){return undefined}var r=new ol.geom.MultiLineString(null);r.setLineStrings(o);return r};ol.format.KML.readGxTrack_=function(e,t){var o=ol.xml.pushParseAndPop({flatCoordinates:[],whens:[]},ol.format.KML.GX_TRACK_PARSERS_,e,t);if(!o){return undefined}var r=o.flatCoordinates;var i=o.whens;var n,a;for(n=0,a=Math.min(r.length,i.length);n<a;++n){r[4*n+3]=i[n]}var l=new ol.geom.LineString(null);l.setFlatCoordinates(ol.geom.GeometryLayout.XYZM,r);return l};ol.format.KML.readIcon_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.ICON_PARSERS_,e,t);if(o){return o}else{return null}};ol.format.KML.readFlatCoordinatesFromNode_=function(e,t){return ol.xml.pushParseAndPop(null,ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_,e,t)};ol.format.KML.readLineString_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t);var r=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(r){var i=new ol.geom.LineString(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r);i.setProperties(o);return i}else{return undefined}};ol.format.KML.readLinearRing_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t);var r=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(r){var i=new ol.geom.Polygon(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r,[r.length]);i.setProperties(o);return i}else{return undefined}};ol.format.KML.readMultiGeometry_=function(e,t){var o=ol.xml.pushParseAndPop([],ol.format.KML.MULTI_GEOMETRY_PARSERS_,e,t);if(!o){return null}if(o.length===0){return new ol.geom.GeometryCollection(o)}var r;var i=true;var n=o[0].getType();var a,l,s;for(l=1,s=o.length;l<s;++l){a=o[l];if(a.getType()!=n){i=false;break}}if(i){var p;var u;if(n==ol.geom.GeometryType.POINT){var c=o[0];p=c.getLayout();u=c.getFlatCoordinates();for(l=1,s=o.length;l<s;++l){a=o[l];ol.array.extend(u,a.getFlatCoordinates())}r=new ol.geom.MultiPoint(null);r.setFlatCoordinates(p,u);ol.format.KML.setCommonGeometryProperties_(r,o)}else if(n==ol.geom.GeometryType.LINE_STRING){r=new ol.geom.MultiLineString(null);r.setLineStrings(o);ol.format.KML.setCommonGeometryProperties_(r,o)}else if(n==ol.geom.GeometryType.POLYGON){r=new ol.geom.MultiPolygon(null);r.setPolygons(o);ol.format.KML.setCommonGeometryProperties_(r,o)}else if(n==ol.geom.GeometryType.GEOMETRY_COLLECTION){r=new ol.geom.GeometryCollection(o)}else{ol.asserts.assert(false,37)}}else{r=new ol.geom.GeometryCollection(o)}return r};ol.format.KML.readPoint_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t);var r=ol.format.KML.readFlatCoordinatesFromNode_(e,t);if(r){
var i=new ol.geom.Point(null);i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,r);i.setProperties(o);return i}else{return undefined}};ol.format.KML.readPolygon_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_,e,t);var r=ol.xml.pushParseAndPop([null],ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_,e,t);if(r&&r[0]){var i=new ol.geom.Polygon(null);var n=r[0];var a=[n.length];var l,s;for(l=1,s=r.length;l<s;++l){ol.array.extend(n,r[l]);a.push(n.length)}i.setFlatCoordinates(ol.geom.GeometryLayout.XYZ,n,a);i.setProperties(o);return i}else{return undefined}};ol.format.KML.readStyle_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.STYLE_PARSERS_,e,t);if(!o){return null}var r="fillStyle"in o?o["fillStyle"]:ol.format.KML.DEFAULT_FILL_STYLE_;var i=o["fill"];if(i!==undefined&&!i){r=null}var n="imageStyle"in o?o["imageStyle"]:ol.format.KML.DEFAULT_IMAGE_STYLE_;if(n==ol.format.KML.DEFAULT_NO_IMAGE_STYLE_){n=undefined}var a="textStyle"in o?o["textStyle"]:ol.format.KML.DEFAULT_TEXT_STYLE_;var l="strokeStyle"in o?o["strokeStyle"]:ol.format.KML.DEFAULT_STROKE_STYLE_;var s=o["outline"];if(s!==undefined&&!s){l=null}return[new ol.style.Style({fill:r,image:n,stroke:l,text:a,zIndex:undefined})]};ol.format.KML.setCommonGeometryProperties_=function(e,t){var o=t.length;var r=new Array(t.length);var i=new Array(t.length);var n,a,l,s;l=s=false;for(a=0;a<o;++a){n=t[a];r[a]=n.get("extrude");i[a]=n.get("altitudeMode");l=l||r[a]!==undefined;s=s||i[a]}if(l){e.set("extrude",r)}if(s){e.set("altitudeMode",i)}};ol.format.KML.DataParser_=function(e,t){var o=e.getAttribute("name");ol.xml.parseNode(ol.format.KML.DATA_PARSERS_,e,t);var r=t[t.length-1];if(o!==null){r[o]=r.value}else if(r.displayName!==null){r[r.displayName]=r.value}};ol.format.KML.ExtendedDataParser_=function(e,t){ol.xml.parseNode(ol.format.KML.EXTENDED_DATA_PARSERS_,e,t)};ol.format.KML.RegionParser_=function(e,t){ol.xml.parseNode(ol.format.KML.REGION_PARSERS_,e,t)};ol.format.KML.PairDataParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.PAIR_PARSERS_,e,t);if(!o){return}var r=o["key"];if(r&&r=="normal"){var i=o["styleUrl"];if(i){t[t.length-1]=i}var n=o["Style"];if(n){t[t.length-1]=n}}};ol.format.KML.PlacemarkStyleMapParser_=function(e,t){var o=ol.format.KML.readStyleMapValue_(e,t);if(!o){return}var r=t[t.length-1];if(Array.isArray(o)){r["Style"]=o}else if(typeof o==="string"){r["styleUrl"]=o}else{ol.asserts.assert(false,38)}};ol.format.KML.SchemaDataParser_=function(e,t){ol.xml.parseNode(ol.format.KML.SCHEMA_DATA_PARSERS_,e,t)};ol.format.KML.SimpleDataParser_=function(e,t){var o=e.getAttribute("name");if(o!==null){var r=ol.format.XSD.readString(e);var i=t[t.length-1];i[o]=r}};ol.format.KML.LatLonAltBoxParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LAT_LON_ALT_BOX_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];var i=[parseFloat(o["west"]),parseFloat(o["south"]),parseFloat(o["east"]),parseFloat(o["north"])];r["extent"]=i;r["altitudeMode"]=o["altitudeMode"];r["minAltitude"]=parseFloat(o["minAltitude"]);r["maxAltitude"]=parseFloat(o["maxAltitude"])};ol.format.KML.LodParser_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.KML.LOD_PARSERS_,e,t);if(!o){return}var r=t[t.length-1];r["minLodPixels"]=parseFloat(o["minLodPixels"]);r["maxLodPixels"]=parseFloat(o["maxLodPixels"]);r["minFadeExtent"]=parseFloat(o["minFadeExtent"]);r["maxFadeExtent"]=parseFloat(o["maxFadeExtent"])};ol.format.KML.innerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,ol.format.KML.INNER_BOUNDARY_IS_PARSERS_,e,t);if(o){var r=t[t.length-1];r.push(o)}};ol.format.KML.outerBoundaryIsParser_=function(e,t){var o=ol.xml.pushParseAndPop(undefined,ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_,e,t);if(o){var r=t[t.length-1];r[0]=o}};ol.format.KML.LinkParser_=function(e,t){ol.xml.parseNode(ol.format.KML.LINK_PARSERS_,e,t)};ol.format.KML.whenParser_=function(e,t){var o=t[t.length-1];var r=o.whens;var i=ol.xml.getAllTextContent(e,false);var n=Date.parse(i);r.push(isNaN(n)?0:n)};ol.format.KML.DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{displayName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),value:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.KML.EXTENDED_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.format.KML.DataParser_,SchemaData:ol.format.KML.SchemaDataParser_});ol.format.KML.REGION_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LatLonAltBox:ol.format.KML.LatLonAltBoxParser_,Lod:ol.format.KML.LodParser_});ol.format.KML.LAT_LON_ALT_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),minAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxAltitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),north:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),south:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),east:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),west:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.LOD_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{minLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxLodPixels:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),minFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),maxFadeExtent:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.EXTRUDE_AND_ALTITUDE_MODE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{extrude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),altitudeMode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.KML.FLAT_LINEAR_RING_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.FLAT_LINEAR_RINGS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{innerBoundaryIs:ol.format.KML.innerBoundaryIsParser_,outerBoundaryIs:ol.format.KML.outerBoundaryIsParser_});ol.format.KML.GX_TRACK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{when:ol.format.KML.whenParser_},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{coord:ol.format.KML.gxCoordParser_}));ol.format.KML.GEOMETRY_FLAT_COORDINATES_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeReplacer(ol.format.KML.readFlatCoordinates_)});ol.format.KML.ICON_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),y:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),w:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),h:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)}));ol.format.KML.ICON_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeObjectPropertySetter(ol.format.KML.readIcon_),heading:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),hotSpot:ol.xml.makeObjectPropertySetter(ol.format.KML.readVec2_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.INNER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.LABEL_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),scale:ol.xml.makeObjectPropertySetter(ol.format.KML.readScale_)});ol.format.KML.LINE_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),width:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.KML.MULTI_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeArrayPusher(ol.format.KML.readLineString_),LinearRing:ol.xml.makeArrayPusher(ol.format.KML.readLinearRing_),MultiGeometry:ol.xml.makeArrayPusher(ol.format.KML.readMultiGeometry_),Point:ol.xml.makeArrayPusher(ol.format.KML.readPoint_),Polygon:ol.xml.makeArrayPusher(ol.format.KML.readPolygon_)});ol.format.KML.GX_MULTITRACK_GEOMETRY_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{Track:ol.xml.makeArrayPusher(ol.format.KML.readGxTrack_)});ol.format.KML.NETWORK_LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,Link:ol.format.KML.LinkParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.LINK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.OUTER_BOUNDARY_IS_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeReplacer(ol.format.KML.readFlatLinearRing_)});ol.format.KML.PAIR_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),key:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_)});ol.format.KML.PLACEMARK_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.format.KML.ExtendedDataParser_,Region:ol.format.KML.RegionParser_,MultiGeometry:ol.xml.makeObjectPropertySetter(ol.format.KML.readMultiGeometry_,"geometry"),LineString:ol.xml.makeObjectPropertySetter(ol.format.KML.readLineString_,"geometry"),LinearRing:ol.xml.makeObjectPropertySetter(ol.format.KML.readLinearRing_,"geometry"),Point:ol.xml.makeObjectPropertySetter(ol.format.KML.readPoint_,"geometry"),Polygon:ol.xml.makeObjectPropertySetter(ol.format.KML.readPolygon_,"geometry"),Style:ol.xml.makeObjectPropertySetter(ol.format.KML.readStyle_),StyleMap:ol.format.KML.PlacemarkStyleMapParser_,address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),description:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),open:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),phoneNumber:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),styleUrl:ol.xml.makeObjectPropertySetter(ol.format.KML.readURI_),visibility:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{MultiTrack:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxMultiTrack_,"geometry"),Track:ol.xml.makeObjectPropertySetter(ol.format.KML.readGxTrack_,"geometry")}));ol.format.KML.POLY_STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeObjectPropertySetter(ol.format.KML.readColor_),fill:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean),outline:ol.xml.makeObjectPropertySetter(ol.format.XSD.readBoolean)});ol.format.KML.SCHEMA_DATA_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{SimpleData:ol.format.KML.SimpleDataParser_});ol.format.KML.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.format.KML.IconStyleParser_,LabelStyle:ol.format.KML.LabelStyleParser_,LineStyle:ol.format.KML.LineStyleParser_,PolyStyle:ol.format.KML.PolyStyleParser_});ol.format.KML.STYLE_MAP_PARSERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Pair:ol.format.KML.PairDataParser_});ol.format.KML.prototype.readDocumentOrFolder_=function(e,t){var o=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Folder:ol.xml.makeArrayExtender(this.readDocumentOrFolder_,this),Placemark:ol.xml.makeArrayPusher(this.readPlacemark_,this),Style:this.readSharedStyle_.bind(this),StyleMap:this.readSharedStyleMap_.bind(this)});var r=ol.xml.pushParseAndPop([],o,e,t,this);if(r){return r}else{return undefined}};ol.format.KML.prototype.readPlacemark_=function(e,t){var o=ol.xml.pushParseAndPop({geometry:null},ol.format.KML.PLACEMARK_PARSERS_,e,t);if(!o){return undefined}var r=new ol.Feature;var i=e.getAttribute("id");if(i!==null){r.setId(i)}var n=t[0];var a=o["geometry"];if(a){ol.format.Feature.transformWithOptions(a,false,n)}r.setGeometry(a);delete o["geometry"];if(this.extractStyles_){var l=o["Style"];var s=o["styleUrl"];var p=ol.format.KML.createFeatureStyleFunction_(l,s,this.defaultStyle_,this.sharedStyles_,this.showPointNames_);r.setStyle(p)}delete o["Style"];r.setProperties(o);return r};ol.format.KML.prototype.readSharedStyle_=function(e,t){var o=e.getAttribute("id");if(o!==null){var r=ol.format.KML.readStyle_(e,t);if(r){var i;if(e.baseURI){var n=new URL("#"+o,e.baseURI);i=n.href}else{i="#"+o}this.sharedStyles_[i]=r}}};ol.format.KML.prototype.readSharedStyleMap_=function(e,t){var o=e.getAttribute("id");if(o===null){return}var r=ol.format.KML.readStyleMapValue_(e,t);if(!r){return}var i;if(e.baseURI){var n=new URL("#"+o,e.baseURI);i=n.href}else{i="#"+o}this.sharedStyles_[i]=r};ol.format.KML.prototype.readFeature;ol.format.KML.prototype.readFeatureFromNode=function(e,t){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI)){return null}var o=this.readPlacemark_(e,[this.getReadOptions(e,t)]);if(o){return o}else{return null}};ol.format.KML.prototype.readFeatures;ol.format.KML.prototype.readFeaturesFromNode=function(e,t){if(!ol.array.includes(ol.format.KML.NAMESPACE_URIS_,e.namespaceURI)){return[]}var o;var r=e.localName;if(r=="Document"||r=="Folder"){o=this.readDocumentOrFolder_(e,[this.getReadOptions(e,t)]);if(o){return o}else{return[]}}else if(r=="Placemark"){var i=this.readPlacemark_(e,[this.getReadOptions(e,t)]);if(i){return[i]}else{return[]}}else if(r=="kml"){o=[];var n;for(n=e.firstElementChild;n;n=n.nextElementSibling){var a=this.readFeaturesFromNode(n,t);if(a){ol.array.extend(o,a)}}return o}else{return[]}};ol.format.KML.prototype.readName=function(e){if(ol.xml.isDocument(e)){return this.readNameFromDocument(e)}else if(ol.xml.isNode(e)){return this.readNameFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readNameFromDocument(t)}else{return undefined}};ol.format.KML.prototype.readNameFromDocument=function(e){var t;for(t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){var o=this.readNameFromNode(t);if(o){return o}}}return undefined};ol.format.KML.prototype.readNameFromNode=function(e){var t;for(t=e.firstElementChild;t;t=t.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&t.localName=="name"){return ol.format.XSD.readString(t)}}for(t=e.firstElementChild;t;t=t.nextElementSibling){var o=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&(o=="Document"||o=="Folder"||o=="Placemark"||o=="kml")){var r=this.readNameFromNode(t);if(r){return r}}}return undefined};ol.format.KML.prototype.readNetworkLinks=function(e){var t=[];if(ol.xml.isDocument(e)){ol.array.extend(t,this.readNetworkLinksFromDocument(e))}else if(ol.xml.isNode(e)){ol.array.extend(t,this.readNetworkLinksFromNode(e))}else if(typeof e==="string"){var o=ol.xml.parse(e);ol.array.extend(t,this.readNetworkLinksFromDocument(o))}return t};ol.format.KML.prototype.readNetworkLinksFromDocument=function(e){var t,o=[];for(t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){ol.array.extend(o,this.readNetworkLinksFromNode(t))}}return o};ol.format.KML.prototype.readNetworkLinksFromNode=function(e){var t,o=[];for(t=e.firstElementChild;t;t=t.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&t.localName=="NetworkLink"){var r=ol.xml.pushParseAndPop({},ol.format.KML.NETWORK_LINK_PARSERS_,t,[]);o.push(r)}}for(t=e.firstElementChild;t;t=t.nextElementSibling){var i=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")){ol.array.extend(o,this.readNetworkLinksFromNode(t))}}return o};ol.format.KML.prototype.readRegion=function(e){var t=[];if(ol.xml.isDocument(e)){ol.array.extend(t,this.readRegionFromDocument(e))}else if(ol.xml.isNode(e)){ol.array.extend(t,this.readRegionFromNode(e))}else if(typeof e==="string"){var o=ol.xml.parse(e);ol.array.extend(t,this.readRegionFromDocument(o))}return t};ol.format.KML.prototype.readRegionFromDocument=function(e){var t,o=[];for(t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){ol.array.extend(o,this.readRegionFromNode(t))}}return o};ol.format.KML.prototype.readRegionFromNode=function(e){var t,o=[];for(t=e.firstElementChild;t;t=t.nextElementSibling){if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&t.localName=="Region"){var r=ol.xml.pushParseAndPop({},ol.format.KML.REGION_PARSERS_,t,[]);o.push(r)}}for(t=e.firstElementChild;t;t=t.nextElementSibling){var i=t.localName;if(ol.array.includes(ol.format.KML.NAMESPACE_URIS_,t.namespaceURI)&&(i=="Document"||i=="Folder"||i=="kml")){ol.array.extend(o,this.readRegionFromNode(t))}}return o};ol.format.KML.prototype.readProjection;ol.format.KML.writeColorTextNode_=function(e,t){var o=ol.color.asArray(t);var r=o.length==4?o[3]:1;var i=[r*255,o[2],o[1],o[0]];var n;for(n=0;n<4;++n){var a=parseInt(i[n],10).toString(16);i[n]=a.length==1?"0"+a:a}ol.format.XSD.writeStringTextNode(e,i.join(""))};ol.format.KML.writeCoordinatesTextNode_=function(e,t,o){var r=o[o.length-1];var i=r["layout"];var n=r["stride"];var a;if(i==ol.geom.GeometryLayout.XY||i==ol.geom.GeometryLayout.XYM){a=2}else if(i==ol.geom.GeometryLayout.XYZ||i==ol.geom.GeometryLayout.XYZM){a=3}else{ol.asserts.assert(false,34)}var l,s;var p=t.length;var u="";if(p>0){u+=t[0];for(l=1;l<a;++l){u+=","+t[l]}for(s=n;s<p;s+=n){u+=" "+t[s];for(l=1;l<a;++l){u+=","+t[s+l]}}}ol.format.XSD.writeStringTextNode(e,u)};ol.format.KML.writeDataNode_=function(e,t,o){e.setAttribute("name",t.name);var r={node:e};var i=t.value;if(typeof i=="object"){if(i!==null&&i.displayName){ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i.displayName],o,["displayName"])}if(i!==null&&i.value){ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i.value],o,["value"])}}else{ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,[i],o,["value"])}};ol.format.KML.writeDataNodeName_=function(e,t){ol.format.XSD.writeCDATASection(e,t)};ol.format.KML.writeDataNodeValue_=function(e,t){ol.format.XSD.writeStringTextNode(e,t)};ol.format.KML.writeDocument_=function(e,t,o){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.DOCUMENT_SERIALIZERS_,ol.format.KML.DOCUMENT_NODE_FACTORY_,t,o,undefined,this)};ol.format.KML.writeExtendedData_=function(e,t,o){var r={node:e};var i=t.names,n=t.values;var a=i.length;for(var l=0;l<a;l++){ol.xml.pushSerializeAndPop(r,ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_,ol.format.KML.DATA_NODE_FACTORY_,[{name:i[l],value:n[l]}],o)}};ol.format.KML.writeIcon_=function(e,t,o){var r={node:e};var i=o[o.length-1].node;var n=ol.format.KML.ICON_SEQUENCE_[i.namespaceURI];var a=ol.xml.makeSequence(t,n);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,a,o,n);n=ol.format.KML.ICON_SEQUENCE_[ol.format.KML.GX_NAMESPACE_URIS_[0]];a=ol.xml.makeSequence(t,n);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_SERIALIZERS_,ol.format.KML.GX_NODE_FACTORY_,a,o,n)};ol.format.KML.writeIconStyle_=function(e,t,o){var r={node:e};var i={};var n=t.getSrc();var a=t.getSize();var l=t.getImageSize();var s={href:n};if(a){s["w"]=a[0];s["h"]=a[1];var p=t.getAnchor();var u=t.getOrigin();if(u&&l&&u[0]!==0&&u[1]!==a[1]){s["x"]=u[0];s["y"]=l[1]-(u[1]+a[1])}if(p&&p[0]!==0&&p[1]!==a[1]){var c={x:p[0],xunits:ol.style.IconAnchorUnits.PIXELS,y:a[1]-p[1],yunits:ol.style.IconAnchorUnits.PIXELS};i["hotSpot"]=c}}i["Icon"]=s;var g=t.getScale();if(g!==1){i["scale"]=g}var h=t.getRotation();if(h!==0){i["heading"]=h}var f=o[o.length-1].node;var d=ol.format.KML.ICON_STYLE_SEQUENCE_[f.namespaceURI];var y=ol.xml.makeSequence(i,d);ol.xml.pushSerializeAndPop(r,ol.format.KML.ICON_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,y,o,d)};ol.format.KML.writeLabelStyle_=function(e,t,o){var r={node:e};var i={};var n=t.getFill();if(n){i["color"]=n.getColor()}var a=t.getScale();if(a&&a!==1){i["scale"]=a}var l=o[o.length-1].node;var s=ol.format.KML.LABEL_STYLE_SEQUENCE_[l.namespaceURI];var p=ol.xml.makeSequence(i,s);ol.xml.pushSerializeAndPop(r,ol.format.KML.LABEL_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,p,o,s)};ol.format.KML.writeLineStyle_=function(e,t,o){var r={node:e};var i={color:t.getColor(),width:t.getWidth()};var n=o[o.length-1].node;var a=ol.format.KML.LINE_STYLE_SEQUENCE_[n.namespaceURI];var l=ol.xml.makeSequence(i,a);ol.xml.pushSerializeAndPop(r,ol.format.KML.LINE_STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,l,o,a)};ol.format.KML.writeMultiGeometry_=function(e,t,o){var r={node:e};var i=t.getType();var n;var a;if(i==ol.geom.GeometryType.GEOMETRY_COLLECTION){n=t.getGeometries();a=ol.format.KML.GEOMETRY_NODE_FACTORY_}else if(i==ol.geom.GeometryType.MULTI_POINT){n=t.getPoints();a=ol.format.KML.POINT_NODE_FACTORY_}else if(i==ol.geom.GeometryType.MULTI_LINE_STRING){n=t.getLineStrings();a=ol.format.KML.LINE_STRING_NODE_FACTORY_}else if(i==ol.geom.GeometryType.MULTI_POLYGON){n=t.getPolygons();a=ol.format.KML.POLYGON_NODE_FACTORY_}else{ol.asserts.assert(false,39)}ol.xml.pushSerializeAndPop(r,ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_,a,n,o)};ol.format.KML.writeBoundaryIs_=function(e,t,o){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.BOUNDARY_IS_SERIALIZERS_,ol.format.KML.LINEAR_RING_NODE_FACTORY_,[t],o)};ol.format.KML.writePlacemark_=function(e,t,o){var r={node:e};if(t.getId()){e.setAttribute("id",t.getId())}var i=t.getProperties();var n={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};n[t.getGeometryName()]=1;var a=Object.keys(i||{}).sort().filter(function(e){return!n[e]});if(a.length>0){var l=ol.xml.makeSequence(i,a);var s={names:a,values:l};ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.EXTENDEDDATA_NODE_FACTORY_,[s],o)}var p=t.getStyleFunction();if(p){var u=p.call(t,0);if(u){var c=Array.isArray(u)?u[0]:u;if(this.writeStyles_){i["Style"]=c}var g=c.getText();if(g){i["name"]=g.getText()}}}var h=o[o.length-1].node;var f=ol.format.KML.PLACEMARK_SEQUENCE_[h.namespaceURI];var d=ol.xml.makeSequence(i,f);ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,d,o,f);var y=o[0];var m=t.getGeometry();if(m){m=ol.format.Feature.transformWithOptions(m,true,y)}ol.xml.pushSerializeAndPop(r,ol.format.KML.PLACEMARK_SERIALIZERS_,ol.format.KML.GEOMETRY_NODE_FACTORY_,[m],o)};ol.format.KML.writePrimitiveGeometry_=function(e,t,o){var r=t.getFlatCoordinates();var i={node:e};i["layout"]=t.getLayout();i["stride"]=t.getStride();ol.xml.pushSerializeAndPop(i,ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_,ol.format.KML.COORDINATES_NODE_FACTORY_,[r],o)};ol.format.KML.writePolygon_=function(e,t,o){var r=t.getLinearRings();var i=r.shift();var n={node:e};ol.xml.pushSerializeAndPop(n,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_,r,o);ol.xml.pushSerializeAndPop(n,ol.format.KML.POLYGON_SERIALIZERS_,ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_,[i],o)};ol.format.KML.writePolyStyle_=function(e,t,o){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.KML.POLY_STYLE_SERIALIZERS_,ol.format.KML.COLOR_NODE_FACTORY_,[t.getColor()],o)};ol.format.KML.writeScaleTextNode_=function(e,t){ol.format.XSD.writeDecimalTextNode(e,Math.round(t*1e6)/1e6)};ol.format.KML.writeStyle_=function(e,t,o){var r={node:e};var i={};var n=t.getFill();var a=t.getStroke();var l=t.getImage();var s=t.getText();if(l instanceof ol.style.Icon){i["IconStyle"]=l}if(s){i["LabelStyle"]=s}if(a){i["LineStyle"]=a}if(n){i["PolyStyle"]=n}var p=o[o.length-1].node;var u=ol.format.KML.STYLE_SEQUENCE_[p.namespaceURI];var c=ol.xml.makeSequence(i,u);ol.xml.pushSerializeAndPop(r,ol.format.KML.STYLE_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,c,o,u)};ol.format.KML.writeVec2_=function(e,t){e.setAttribute("x",t.x);e.setAttribute("y",t.y);e.setAttribute("xunits",t.xunits);e.setAttribute("yunits",t.yunits)};ol.format.KML.KML_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["Document","Placemark"]);ol.format.KML.KML_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Document:ol.xml.makeChildAppender(ol.format.KML.writeDocument_),Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.DOCUMENT_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Placemark:ol.xml.makeChildAppender(ol.format.KML.writePlacemark_)});ol.format.KML.EXTENDEDDATA_NODE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Data:ol.xml.makeChildAppender(ol.format.KML.writeDataNode_),value:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeValue_),displayName:ol.xml.makeChildAppender(ol.format.KML.writeDataNodeName_)});ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"};ol.format.KML.ICON_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["href"],ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,["x","y","w","h"]));ol.format.KML.ICON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{href:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)},ol.xml.makeStructureNS(ol.format.KML.GX_NAMESPACE_URIS_,{x:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),y:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),w:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),h:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)}));ol.format.KML.ICON_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["scale","heading","Icon","hotSpot"]);ol.format.KML.ICON_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{Icon:ol.xml.makeChildAppender(ol.format.KML.writeIcon_),heading:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode),hotSpot:ol.xml.makeChildAppender(ol.format.KML.writeVec2_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LABEL_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","scale"]);ol.format.KML.LABEL_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),scale:ol.xml.makeChildAppender(ol.format.KML.writeScaleTextNode_)});ol.format.KML.LINE_STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["color","width"]);ol.format.KML.LINE_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_),width:ol.xml.makeChildAppender(ol.format.XSD.writeDecimalTextNode)});ol.format.KML.BOUNDARY_IS_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_)});ol.format.KML.MULTI_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),GeometryCollection:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_)});ol.format.KML.PLACEMARK_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["name","open","visibility","address","phoneNumber","description","styleUrl","Style"]);ol.format.KML.PLACEMARK_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{ExtendedData:ol.xml.makeChildAppender(ol.format.KML.writeExtendedData_),MultiGeometry:ol.xml.makeChildAppender(ol.format.KML.writeMultiGeometry_),LineString:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),LinearRing:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Point:ol.xml.makeChildAppender(ol.format.KML.writePrimitiveGeometry_),Polygon:ol.xml.makeChildAppender(ol.format.KML.writePolygon_),Style:ol.xml.makeChildAppender(ol.format.KML.writeStyle_),address:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),description:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),name:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),open:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode),phoneNumber:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),styleUrl:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode),visibility:ol.xml.makeChildAppender(ol.format.XSD.writeBooleanTextNode)});ol.format.KML.PRIMITIVE_GEOMETRY_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{coordinates:ol.xml.makeChildAppender(ol.format.KML.writeCoordinatesTextNode_)});ol.format.KML.POLYGON_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{outerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_),innerBoundaryIs:ol.xml.makeChildAppender(ol.format.KML.writeBoundaryIs_)});ol.format.KML.POLY_STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{color:ol.xml.makeChildAppender(ol.format.KML.writeColorTextNode_)});ol.format.KML.STYLE_SEQUENCE_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,["IconStyle","LabelStyle","LineStyle","PolyStyle"]);ol.format.KML.STYLE_SERIALIZERS_=ol.xml.makeStructureNS(ol.format.KML.NAMESPACE_URIS_,{IconStyle:ol.xml.makeChildAppender(ol.format.KML.writeIconStyle_),LabelStyle:ol.xml.makeChildAppender(ol.format.KML.writeLabelStyle_),LineStyle:ol.xml.makeChildAppender(ol.format.KML.writeLineStyle_),PolyStyle:ol.xml.makeChildAppender(ol.format.KML.writePolyStyle_)});ol.format.KML.GX_NODE_FACTORY_=function(e,t,o){return ol.xml.createElementNS(ol.format.KML.GX_NAMESPACE_URIS_[0],"gx:"+o)};ol.format.KML.DOCUMENT_NODE_FACTORY_=function(e,t,o){var r=t[t.length-1].node;return ol.xml.createElementNS(r.namespaceURI,"Placemark")};ol.format.KML.GEOMETRY_NODE_FACTORY_=function(e,t,o){if(e){var r=t[t.length-1].node;return ol.xml.createElementNS(r.namespaceURI,ol.format.KML.GEOMETRY_TYPE_TO_NODENAME_[e.getType()])}};ol.format.KML.COLOR_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("color");ol.format.KML.COORDINATES_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("coordinates");ol.format.KML.DATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Data");ol.format.KML.EXTENDEDDATA_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("ExtendedData");ol.format.KML.INNER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("innerBoundaryIs");ol.format.KML.POINT_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Point");ol.format.KML.LINE_STRING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LineString");ol.format.KML.LINEAR_RING_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("LinearRing");ol.format.KML.POLYGON_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("Polygon");ol.format.KML.OUTER_BOUNDARY_NODE_FACTORY_=ol.xml.makeSimpleNodeFactory("outerBoundaryIs");ol.format.KML.prototype.writeFeatures;ol.format.KML.prototype.writeFeaturesNode=function(e,t){t=this.adaptOptions(t);var o=ol.xml.createElementNS(ol.format.KML.NAMESPACE_URIS_[4],"kml");var r="http://www.w3.org/2000/xmlns/";var i="http://www.w3.org/2001/XMLSchema-instance";ol.xml.setAttributeNS(o,r,"xmlns:gx",ol.format.KML.GX_NAMESPACE_URIS_[0]);ol.xml.setAttributeNS(o,r,"xmlns:xsi",i);
ol.xml.setAttributeNS(o,i,"xsi:schemaLocation",ol.format.KML.SCHEMA_LOCATION_);var n={node:o};var a={};if(e.length>1){a["Document"]=e}else if(e.length==1){a["Placemark"]=e[0]}var l=ol.format.KML.KML_SEQUENCE_[o.namespaceURI];var s=ol.xml.makeSequence(a,l);ol.xml.pushSerializeAndPop(n,ol.format.KML.KML_SERIALIZERS_,ol.xml.OBJECT_PROPERTY_NODE_FACTORY,s,[t],l,this);return o};goog.provide("ol.ext.pbf");ol.ext.pbf;(function(){var e={};var t={exports:e};var o;(function(r){if(typeof e==="object"&&typeof t!=="undefined"){t.exports=r()}else if(typeof o==="function"&&o.amd){o([],r)}else{var i;if(typeof window!=="undefined"){i=window}else if(typeof global!=="undefined"){i=global}else if(typeof self!=="undefined"){i=self}else{i=this}i.pbf=r()}})(function(){var e,t,o;return function r(e,t,o){function i(a,l){if(!t[a]){if(!e[a]){var s=typeof require=="function"&&require;if(!l&&s)return s(a,!0);if(n)return n(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=t[a]={exports:{}};e[a][0].call(u.exports,function(t){var o=e[a][1][t];return i(o?o:t)},u,u.exports,r,e,t,o)}return t[a].exports}var n=typeof require=="function"&&require;for(var a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,o){o.read=function(e,t,o,r,i){var n,a;var l=i*8-r-1;var s=(1<<l)-1;var p=s>>1;var u=-7;var c=o?i-1:0;var g=o?-1:1;var h=e[t+c];c+=g;n=h&(1<<-u)-1;h>>=-u;u+=l;for(;u>0;n=n*256+e[t+c],c+=g,u-=8){}a=n&(1<<-u)-1;n>>=-u;u+=r;for(;u>0;a=a*256+e[t+c],c+=g,u-=8){}if(n===0){n=1-p}else if(n===s){return a?NaN:(h?-1:1)*Infinity}else{a=a+Math.pow(2,r);n=n-p}return(h?-1:1)*a*Math.pow(2,n-r)};o.write=function(e,t,o,r,i,n){var a,l,s;var p=n*8-i-1;var u=(1<<p)-1;var c=u>>1;var g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0;var h=r?0:n-1;var f=r?1:-1;var d=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){l=isNaN(t)?1:0;a=u}else{a=Math.floor(Math.log(t)/Math.LN2);if(t*(s=Math.pow(2,-a))<1){a--;s*=2}if(a+c>=1){t+=g/s}else{t+=g*Math.pow(2,1-c)}if(t*s>=2){a++;s/=2}if(a+c>=u){l=0;a=u}else if(a+c>=1){l=(t*s-1)*Math.pow(2,i);a=a+c}else{l=t*Math.pow(2,c-1)*Math.pow(2,i);a=0}}for(;i>=8;e[o+h]=l&255,h+=f,l/=256,i-=8){}a=a<<i|l;p+=i;for(;p>0;e[o+h]=a&255,h+=f,a/=256,p-=8){}e[o+h-f]|=d*128}},{}],2:[function(e,t,o){"use strict";t.exports=i;var r=e("ieee754");function i(e){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(e)?e:new Uint8Array(e||0);this.pos=0;this.type=0;this.length=this.buf.length}i.Varint=0;i.Fixed64=1;i.Bytes=2;i.Fixed32=5;var n=(1<<16)*(1<<16),a=1/n;i.prototype={destroy:function(){this.buf=null},readFields:function(e,t,o){o=o||this.length;while(this.pos<o){var r=this.readVarint(),i=r>>3,n=this.pos;this.type=r&7;e(i,t,this);if(this.pos===n)this.skip(r)}return t},readMessage:function(e,t){return this.readFields(e,t,this.readVarint()+this.pos)},readFixed32:function(){var e=E(this.buf,this.pos);this.pos+=4;return e},readSFixed32:function(){var e=b(this.buf,this.pos);this.pos+=4;return e},readFixed64:function(){var e=E(this.buf,this.pos)+E(this.buf,this.pos+4)*n;this.pos+=8;return e},readSFixed64:function(){var e=E(this.buf,this.pos)+b(this.buf,this.pos+4)*n;this.pos+=8;return e},readFloat:function(){var e=r.read(this.buf,this.pos,true,23,4);this.pos+=4;return e},readDouble:function(){var e=r.read(this.buf,this.pos,true,52,8);this.pos+=8;return e},readVarint:function(e){var t=this.buf,o,r;r=t[this.pos++];o=r&127;if(r<128)return o;r=t[this.pos++];o|=(r&127)<<7;if(r<128)return o;r=t[this.pos++];o|=(r&127)<<14;if(r<128)return o;r=t[this.pos++];o|=(r&127)<<21;if(r<128)return o;r=t[this.pos];o|=(r&15)<<28;return l(o,e,this)},readVarint64:function(){return this.readVarint(true)},readSVarint:function(){var e=this.readVarint();return e%2===1?(e+1)/-2:e/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var e=this.readVarint()+this.pos,t=M(this.buf,this.pos,e);this.pos=e;return t},readBytes:function(){var e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);this.pos=e;return t},readPackedVarint:function(e,t){var o=s(this);e=e||[];while(this.pos<o)e.push(this.readVarint(t));return e},readPackedSVarint:function(e){var t=s(this);e=e||[];while(this.pos<t)e.push(this.readSVarint());return e},readPackedBoolean:function(e){var t=s(this);e=e||[];while(this.pos<t)e.push(this.readBoolean());return e},readPackedFloat:function(e){var t=s(this);e=e||[];while(this.pos<t)e.push(this.readFloat());return e},readPackedDouble:function(e){var t=s(this);e=e||[];while(this.pos<t)e.push(this.readDouble());return e},readPackedFixed32:function(e){var t=s(this);e=e||[];while(this.pos<t)e.push(this.readFixed32());return e},readPackedSFixed32:function(e){var t=s(this);e=e||[];while(this.pos<t)e.push(this.readSFixed32());return e},readPackedFixed64:function(e){var t=s(this);e=e||[];while(this.pos<t)e.push(this.readFixed64());return e},readPackedSFixed64:function(e){var t=s(this);e=e||[];while(this.pos<t)e.push(this.readSFixed64());return e},skip:function(e){var t=e&7;if(t===i.Varint)while(this.buf[this.pos++]>127){}else if(t===i.Bytes)this.pos=this.readVarint()+this.pos;else if(t===i.Fixed32)this.pos+=4;else if(t===i.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+t)},writeTag:function(e,t){this.writeVarint(e<<3|t)},realloc:function(e){var t=this.length||16;while(t<this.pos+e)t*=2;if(t!==this.length){var o=new Uint8Array(t);o.set(this.buf);this.buf=o;this.length=t}},finish:function(){this.length=this.pos;this.pos=0;return this.buf.subarray(0,this.length)},writeFixed32:function(e){this.realloc(4);T(this.buf,e,this.pos);this.pos+=4},writeSFixed32:function(e){this.realloc(4);T(this.buf,e,this.pos);this.pos+=4},writeFixed64:function(e){this.realloc(8);T(this.buf,e&-1,this.pos);T(this.buf,Math.floor(e*a),this.pos+4);this.pos+=8},writeSFixed64:function(e){this.realloc(8);T(this.buf,e&-1,this.pos);T(this.buf,Math.floor(e*a),this.pos+4);this.pos+=8},writeVarint:function(e){e=+e||0;if(e>268435455||e<0){u(e,this);return}this.realloc(4);this.buf[this.pos++]=e&127|(e>127?128:0);if(e<=127)return;this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0);if(e<=127)return;this.buf[this.pos++]=(e>>>=7)&127|(e>127?128:0);if(e<=127)return;this.buf[this.pos++]=e>>>7&127},writeSVarint:function(e){this.writeVarint(e<0?-e*2-1:e*2)},writeBoolean:function(e){this.writeVarint(Boolean(e))},writeString:function(e){e=String(e);this.realloc(e.length*4);this.pos++;var t=this.pos;this.pos=C(this.buf,e,this.pos);var o=this.pos-t;if(o>=128)h(t,o,this);this.pos=t-1;this.writeVarint(o);this.pos+=o},writeFloat:function(e){this.realloc(4);r.write(this.buf,e,this.pos,true,23,4);this.pos+=4},writeDouble:function(e){this.realloc(8);r.write(this.buf,e,this.pos,true,52,8);this.pos+=8},writeBytes:function(e){var t=e.length;this.writeVarint(t);this.realloc(t);for(var o=0;o<t;o++)this.buf[this.pos++]=e[o]},writeRawMessage:function(e,t){this.pos++;var o=this.pos;e(t,this);var r=this.pos-o;if(r>=128)h(o,r,this);this.pos=o-1;this.writeVarint(r);this.pos+=r},writeMessage:function(e,t,o){this.writeTag(e,i.Bytes);this.writeRawMessage(t,o)},writePackedVarint:function(e,t){this.writeMessage(e,f,t)},writePackedSVarint:function(e,t){this.writeMessage(e,d,t)},writePackedBoolean:function(e,t){this.writeMessage(e,v,t)},writePackedFloat:function(e,t){this.writeMessage(e,y,t)},writePackedDouble:function(e,t){this.writeMessage(e,m,t)},writePackedFixed32:function(e,t){this.writeMessage(e,_,t)},writePackedSFixed32:function(e,t){this.writeMessage(e,x,t)},writePackedFixed64:function(e,t){this.writeMessage(e,S,t)},writePackedSFixed64:function(e,t){this.writeMessage(e,P,t)},writeBytesField:function(e,t){this.writeTag(e,i.Bytes);this.writeBytes(t)},writeFixed32Field:function(e,t){this.writeTag(e,i.Fixed32);this.writeFixed32(t)},writeSFixed32Field:function(e,t){this.writeTag(e,i.Fixed32);this.writeSFixed32(t)},writeFixed64Field:function(e,t){this.writeTag(e,i.Fixed64);this.writeFixed64(t)},writeSFixed64Field:function(e,t){this.writeTag(e,i.Fixed64);this.writeSFixed64(t)},writeVarintField:function(e,t){this.writeTag(e,i.Varint);this.writeVarint(t)},writeSVarintField:function(e,t){this.writeTag(e,i.Varint);this.writeSVarint(t)},writeStringField:function(e,t){this.writeTag(e,i.Bytes);this.writeString(t)},writeFloatField:function(e,t){this.writeTag(e,i.Fixed32);this.writeFloat(t)},writeDoubleField:function(e,t){this.writeTag(e,i.Fixed64);this.writeDouble(t)},writeBooleanField:function(e,t){this.writeVarintField(e,Boolean(t))}};function l(e,t,o){var r=o.buf,i,n;n=r[o.pos++];i=(n&112)>>4;if(n<128)return p(e,i,t);n=r[o.pos++];i|=(n&127)<<3;if(n<128)return p(e,i,t);n=r[o.pos++];i|=(n&127)<<10;if(n<128)return p(e,i,t);n=r[o.pos++];i|=(n&127)<<17;if(n<128)return p(e,i,t);n=r[o.pos++];i|=(n&127)<<24;if(n<128)return p(e,i,t);n=r[o.pos++];i|=(n&1)<<31;if(n<128)return p(e,i,t);throw new Error("Expected varint not more than 10 bytes")}function s(e){return e.type===i.Bytes?e.readVarint()+e.pos:e.pos+1}function p(e,t,o){if(o){return t*4294967296+(e>>>0)}return(t>>>0)*4294967296+(e>>>0)}function u(e,t){var o,r;if(e>=0){o=e%4294967296|0;r=e/4294967296|0}else{o=~(-e%4294967296);r=~(-e/4294967296);if(o^4294967295){o=o+1|0}else{o=0;r=r+1|0}}if(e>=0x10000000000000000||e<-0x10000000000000000){throw new Error("Given varint doesn't fit into 10 bytes")}t.realloc(10);c(o,r,t);g(r,t)}function c(e,t,o){o.buf[o.pos++]=e&127|128;e>>>=7;o.buf[o.pos++]=e&127|128;e>>>=7;o.buf[o.pos++]=e&127|128;e>>>=7;o.buf[o.pos++]=e&127|128;e>>>=7;o.buf[o.pos]=e&127}function g(e,t){var o=(e&7)<<4;t.buf[t.pos++]|=o|((e>>>=3)?128:0);if(!e)return;t.buf[t.pos++]=e&127|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=e&127|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=e&127|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=e&127|((e>>>=7)?128:0);if(!e)return;t.buf[t.pos++]=e&127}function h(e,t,o){var r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.ceil(Math.log(t)/(Math.LN2*7));o.realloc(r);for(var i=o.pos-1;i>=e;i--)o.buf[i+r]=o.buf[i]}function f(e,t){for(var o=0;o<e.length;o++)t.writeVarint(e[o])}function d(e,t){for(var o=0;o<e.length;o++)t.writeSVarint(e[o])}function y(e,t){for(var o=0;o<e.length;o++)t.writeFloat(e[o])}function m(e,t){for(var o=0;o<e.length;o++)t.writeDouble(e[o])}function v(e,t){for(var o=0;o<e.length;o++)t.writeBoolean(e[o])}function _(e,t){for(var o=0;o<e.length;o++)t.writeFixed32(e[o])}function x(e,t){for(var o=0;o<e.length;o++)t.writeSFixed32(e[o])}function S(e,t){for(var o=0;o<e.length;o++)t.writeFixed64(e[o])}function P(e,t){for(var o=0;o<e.length;o++)t.writeSFixed64(e[o])}function E(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+e[t+3]*16777216}function T(e,t,o){e[o]=t;e[o+1]=t>>>8;e[o+2]=t>>>16;e[o+3]=t>>>24}function b(e,t){return(e[t]|e[t+1]<<8|e[t+2]<<16)+(e[t+3]<<24)}function M(e,t,o){var r="";var i=t;while(i<o){var n=e[i];var a=null;var l=n>239?4:n>223?3:n>191?2:1;if(i+l>o)break;var s,p,u;if(l===1){if(n<128){a=n}}else if(l===2){s=e[i+1];if((s&192)===128){a=(n&31)<<6|s&63;if(a<=127){a=null}}}else if(l===3){s=e[i+1];p=e[i+2];if((s&192)===128&&(p&192)===128){a=(n&15)<<12|(s&63)<<6|p&63;if(a<=2047||a>=55296&&a<=57343){a=null}}}else if(l===4){s=e[i+1];p=e[i+2];u=e[i+3];if((s&192)===128&&(p&192)===128&&(u&192)===128){a=(n&15)<<18|(s&63)<<12|(p&63)<<6|u&63;if(a<=65535||a>=1114112){a=null}}}if(a===null){a=65533;l=1}else if(a>65535){a-=65536;r+=String.fromCharCode(a>>>10&1023|55296);a=56320|a&1023}r+=String.fromCharCode(a);i+=l}return r}function C(e,t,o){for(var r=0,i,n;r<t.length;r++){i=t.charCodeAt(r);if(i>55295&&i<57344){if(n){if(i<56320){e[o++]=239;e[o++]=191;e[o++]=189;n=i;continue}else{i=n-55296<<10|i-56320|65536;n=null}}else{if(i>56319||r+1===t.length){e[o++]=239;e[o++]=191;e[o++]=189}else{n=i}continue}}else if(n){e[o++]=239;e[o++]=191;e[o++]=189;n=null}if(i<128){e[o++]=i}else{if(i<2048){e[o++]=i>>6|192}else{if(i<65536){e[o++]=i>>12|224}else{e[o++]=i>>18|240;e[o++]=i>>12&63|128}e[o++]=i>>6&63|128}e[o++]=i&63|128}}return o}},{ieee754:1}]},{},[2])(2)});ol.ext.pbf=t.exports})();goog.provide("ol.ext.vectortile");ol.ext.vectortile;(function(){var e={};var t={exports:e};var o;(function(r){if(typeof e==="object"&&typeof t!=="undefined"){t.exports=r()}else if(typeof o==="function"&&o.amd){o([],r)}else{var i;if(typeof window!=="undefined"){i=window}else if(typeof global!=="undefined"){i=global}else if(typeof self!=="undefined"){i=self}else{i=this}i.vectortile=r()}})(function(){var e,t,o;return function r(e,t,o){function i(a,l){if(!t[a]){if(!e[a]){var s=typeof require=="function"&&require;if(!l&&s)return s(a,!0);if(n)return n(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=t[a]={exports:{}};e[a][0].call(u.exports,function(t){var o=e[a][1][t];return i(o?o:t)},u,u.exports,r,e,t,o)}return t[a].exports}var n=typeof require=="function"&&require;for(var a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,o){"use strict";t.exports=r;function r(e,t){this.x=e;this.y=t}r.prototype={clone:function(){return new r(this.x,this.y)},add:function(e){return this.clone()._add(e)},sub:function(e){return this.clone()._sub(e)},mult:function(e){return this.clone()._mult(e)},div:function(e){return this.clone()._div(e)},rotate:function(e){return this.clone()._rotate(e)},matMult:function(e){return this.clone()._matMult(e)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(e){return this.x===e.x&&this.y===e.y},dist:function(e){return Math.sqrt(this.distSqr(e))},distSqr:function(e){var t=e.x-this.x,o=e.y-this.y;return t*t+o*o},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith:function(e){return this.angleWithSep(e.x,e.y)},angleWithSep:function(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult:function(e){var t=e[0]*this.x+e[1]*this.y,o=e[2]*this.x+e[3]*this.y;this.x=t;this.y=o;return this},_add:function(e){this.x+=e.x;this.y+=e.y;return this},_sub:function(e){this.x-=e.x;this.y-=e.y;return this},_mult:function(e){this.x*=e;this.y*=e;return this},_div:function(e){this.x/=e;this.y/=e;return this},_unit:function(){this._div(this.mag());return this},_perp:function(){var e=this.y;this.y=this.x;this.x=-e;return this},_rotate:function(e){var t=Math.cos(e),o=Math.sin(e),r=t*this.x-o*this.y,i=o*this.x+t*this.y;this.x=r;this.y=i;return this},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this}};r.convert=function(e){if(e instanceof r){return e}if(Array.isArray(e)){return new r(e[0],e[1])}return e}},{}],2:[function(e,t,o){t.exports.VectorTile=e("./lib/vectortile.js");t.exports.VectorTileFeature=e("./lib/vectortilefeature.js");t.exports.VectorTileLayer=e("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(e,t,o){"use strict";var r=e("./vectortilelayer");t.exports=i;function i(e,t){this.layers=e.readFields(n,{},t)}function n(e,t,o){if(e===3){var i=new r(o,o.readVarint()+o.pos);if(i.length)t[i.name]=i}}},{"./vectortilelayer":5}],4:[function(e,t,o){"use strict";var r=e("point-geometry");t.exports=i;function i(e,t,o,r,i){this.properties={};this.extent=o;this.type=0;this._pbf=e;this._geometry=-1;this._keys=r;this._values=i;e.readFields(n,this,t)}function n(e,t,o){if(e==1)t.id=o.readVarint();else if(e==2)a(o,t);else if(e==3)t.type=o.readVarint();else if(e==4)t._geometry=o.pos}function a(e,t){var o=e.readVarint()+e.pos;while(e.pos<o){var r=t._keys[e.readVarint()],i=t._values[e.readVarint()];t.properties[r]=i}}i.types=["Unknown","Point","LineString","Polygon"];i.prototype.loadGeometry=function(){var e=this._pbf;e.pos=this._geometry;var t=e.readVarint()+e.pos,o=1,i=0,n=0,a=0,l=[],s;while(e.pos<t){if(!i){var p=e.readVarint();o=p&7;i=p>>3}i--;if(o===1||o===2){n+=e.readSVarint();a+=e.readSVarint();if(o===1){if(s)l.push(s);s=[]}s.push(new r(n,a))}else if(o===7){if(s){s.push(s[0].clone())}}else{throw new Error("unknown command "+o)}}if(s)l.push(s);return l};i.prototype.bbox=function(){var e=this._pbf;e.pos=this._geometry;var t=e.readVarint()+e.pos,o=1,r=0,i=0,n=0,a=Infinity,l=-Infinity,s=Infinity,p=-Infinity;while(e.pos<t){if(!r){var u=e.readVarint();o=u&7;r=u>>3}r--;if(o===1||o===2){i+=e.readSVarint();n+=e.readSVarint();if(i<a)a=i;if(i>l)l=i;if(n<s)s=n;if(n>p)p=n}else if(o!==7){throw new Error("unknown command "+o)}}return[a,s,l,p]};i.prototype.toGeoJSON=function(e,t,o){var r=this.extent*Math.pow(2,o),n=this.extent*e,a=this.extent*t,s=this.loadGeometry(),p=i.types[this.type],u,c;function g(e){for(var t=0;t<e.length;t++){var o=e[t],i=180-(o.y+a)*360/r;e[t]=[(o.x+n)*360/r-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}switch(this.type){case 1:var h=[];for(u=0;u<s.length;u++){h[u]=s[u][0]}s=h;g(s);break;case 2:for(u=0;u<s.length;u++){g(s[u])}break;case 3:s=l(s);for(u=0;u<s.length;u++){for(c=0;c<s[u].length;c++){g(s[u][c])}}break}if(s.length===1){s=s[0]}else{p="Multi"+p}var f={type:"Feature",geometry:{type:p,coordinates:s},properties:this.properties};if("id"in this){f.id=this.id}return f};function l(e){var t=e.length;if(t<=1)return[e];var o=[],r,i;for(var n=0;n<t;n++){var a=s(e[n]);if(a===0)continue;if(i===undefined)i=a<0;if(i===a<0){if(r)o.push(r);r=[e[n]]}else{r.push(e[n])}}if(r)o.push(r);return o}function s(e){var t=0;for(var o=0,r=e.length,i=r-1,n,a;o<r;i=o++){n=e[o];a=e[i];t+=(a.x-n.x)*(n.y+a.y)}return t}},{"point-geometry":1}],5:[function(e,t,o){"use strict";var r=e("./vectortilefeature.js");t.exports=i;function i(e,t){this.version=1;this.name=null;this.extent=4096;this.length=0;this._pbf=e;this._keys=[];this._values=[];this._features=[];e.readFields(n,this,t);this.length=this._features.length}function n(e,t,o){if(e===15)t.version=o.readVarint();else if(e===1)t.name=o.readString();else if(e===5)t.extent=o.readVarint();else if(e===2)t._features.push(o.pos);else if(e===3)t._keys.push(o.readString());else if(e===4)t._values.push(a(o))}function a(e){var t=null,o=e.readVarint()+e.pos;while(e.pos<o){var r=e.readVarint()>>3;t=r===1?e.readString():r===2?e.readFloat():r===3?e.readDouble():r===4?e.readVarint64():r===5?e.readVarint():r===6?e.readSVarint():r===7?e.readBoolean():null}return t}i.prototype.feature=function(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];var t=this._pbf.readVarint()+this._pbf.pos;return new r(this._pbf,t,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":4}]},{},[2])(2)});ol.ext.vectortile=t.exports})();goog.provide("ol.render.Feature");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryType");ol.render.Feature=function(e,t,o,r){this.extent_;this.type_=e;this.flatCoordinates_=t;this.ends_=o;this.properties_=r};ol.render.Feature.prototype.get=function(e){return this.properties_[e]};ol.render.Feature.prototype.getEnds=function(){return this.ends_};ol.render.Feature.prototype.getExtent=function(){if(!this.extent_){this.extent_=this.type_===ol.geom.GeometryType.POINT?ol.extent.createOrUpdateFromCoordinate(this.flatCoordinates_):ol.extent.createOrUpdateFromFlatCoordinates(this.flatCoordinates_,0,this.flatCoordinates_.length,2)}return this.extent_};ol.render.Feature.prototype.getOrientedFlatCoordinates=function(){return this.flatCoordinates_};ol.render.Feature.prototype.getFlatCoordinates=ol.render.Feature.prototype.getOrientedFlatCoordinates;ol.render.Feature.prototype.getGeometry=function(){return this};ol.render.Feature.prototype.getProperties=function(){return this.properties_};ol.render.Feature.prototype.getSimplifiedGeometry=ol.render.Feature.prototype.getGeometry;ol.render.Feature.prototype.getStride=function(){return 2};ol.render.Feature.prototype.getStyleFunction=ol.nullFunction;ol.render.Feature.prototype.getType=function(){return this.type_};goog.provide("ol.format.MVT");goog.require("ol");goog.require("ol.ext.pbf");goog.require("ol.ext.vectortile");goog.require("ol.format.Feature");goog.require("ol.format.FormatType");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.render.Feature");ol.format.MVT=function(e){ol.format.Feature.call(this);var t=e?e:{};this.defaultDataProjection=new ol.proj.Projection({code:"",units:ol.proj.Units.TILE_PIXELS});this.featureClass_=t.featureClass?t.featureClass:ol.render.Feature;this.geometryName_=t.geometryName;this.layerName_=t.layerName?t.layerName:"layer";this.layers_=t.layers?t.layers:null};ol.inherits(ol.format.MVT,ol.format.Feature);ol.format.MVT.prototype.getType=function(){return ol.format.FormatType.ARRAY_BUFFER};ol.format.MVT.prototype.readFeature_=function(e,t,o){var r=new this.featureClass_;var i=e.id;var n=e.properties;n[this.layerName_]=t;if(this.geometryName_){r.setGeometryName(this.geometryName_)}var a=ol.format.Feature.transformWithOptions(ol.format.MVT.readGeometry_(e),false,this.adaptOptions(o));r.setGeometry(a);r.setId(i);r.setProperties(n);return r};ol.format.MVT.prototype.readRenderFeature_=function(e,t){var o=e.loadGeometry();var r=[];var i=[];ol.format.MVT.calculateFlatCoordinates_(o,i,r);var n=e.type;var a;if(n===1){a=o.length===1?ol.geom.GeometryType.POINT:ol.geom.GeometryType.MULTI_POINT}else if(n===2){if(o.length===1){a=ol.geom.GeometryType.LINE_STRING}else{a=ol.geom.GeometryType.MULTI_LINE_STRING}}else if(n===3){a=ol.geom.GeometryType.POLYGON}var l=e.properties;l[this.layerName_]=t;return new this.featureClass_(a,i,r,l)};ol.format.MVT.prototype.readFeatures=function(e,t){var o=this.layers_;var r=new ol.ext.pbf(e);var i=new ol.ext.vectortile.VectorTile(r);var n=[];var a=this.featureClass_;var l,s;for(var p in i.layers){if(o&&o.indexOf(p)==-1){continue}l=i.layers[p];for(var u=0,c=l.length;u<c;++u){if(a===ol.render.Feature){s=this.readRenderFeature_(l.feature(u),p)}else{s=this.readFeature_(l.feature(u),p,t)}n.push(s)}}return n};ol.format.MVT.prototype.readProjection=function(e){return this.defaultDataProjection};ol.format.MVT.prototype.setLayers=function(e){this.layers_=e};ol.format.MVT.calculateFlatCoordinates_=function(e,t,o){var r=0;for(var i=0,n=e.length;i<n;++i){var a=e[i];var l,s;for(l=0,s=a.length;l<s;++l){var p=a[l];t.push(p.x,p.y)}r+=2*l;o.push(r)}};ol.format.MVT.readGeometry_=function(e){var t=e.type;if(t===0){return null}var o=e.loadGeometry();var r=[];var i=[];ol.format.MVT.calculateFlatCoordinates_(o,i,r);var n;if(t===1){n=o.length===1?new ol.geom.Point(null):new ol.geom.MultiPoint(null)}else if(t===2){if(o.length===1){n=new ol.geom.LineString(null)}else{n=new ol.geom.MultiLineString(null)}}else if(t===3){n=new ol.geom.Polygon(null)}n.setFlatCoordinates(ol.geom.GeometryLayout.XY,i,r);return n};ol.format.MVT.prototype.readFeature=function(){};ol.format.MVT.prototype.readGeometry=function(){};ol.format.MVT.prototype.writeFeature=function(){};ol.format.MVT.prototype.writeGeometry=function(){};ol.format.MVT.prototype.writeFeatures=function(){};goog.provide("ol.format.OSMXML");goog.require("ol");goog.require("ol.array");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.XMLFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.OSMXML=function(){ol.format.XMLFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326")};ol.inherits(ol.format.OSMXML,ol.format.XMLFeature);ol.format.OSMXML.readNode_=function(e,t){var o=t[0];var r=t[t.length-1];var i=e.getAttribute("id");var n=[parseFloat(e.getAttribute("lon")),parseFloat(e.getAttribute("lat"))];r.nodes[i]=n;var a=ol.xml.pushParseAndPop({tags:{}},ol.format.OSMXML.NODE_PARSERS_,e,t);if(!ol.obj.isEmpty(a.tags)){var l=new ol.geom.Point(n);ol.format.Feature.transformWithOptions(l,false,o);var s=new ol.Feature(l);s.setId(i);s.setProperties(a.tags);r.features.push(s)}};ol.format.OSMXML.readWay_=function(e,t){var o=t[0];var r=e.getAttribute("id");var i=ol.xml.pushParseAndPop({ndrefs:[],tags:{}},ol.format.OSMXML.WAY_PARSERS_,e,t);var n=t[t.length-1];var a=[];for(var l=0,s=i.ndrefs.length;l<s;l++){var p=n.nodes[i.ndrefs[l]];ol.array.extend(a,p)}var u;if(i.ndrefs[0]==i.ndrefs[i.ndrefs.length-1]){u=new ol.geom.Polygon(null);u.setFlatCoordinates(ol.geom.GeometryLayout.XY,a,[a.length])}else{u=new ol.geom.LineString(null);u.setFlatCoordinates(ol.geom.GeometryLayout.XY,a)}ol.format.Feature.transformWithOptions(u,false,o);var c=new ol.Feature(u);c.setId(r);c.setProperties(i.tags);n.features.push(c)};ol.format.OSMXML.readNd_=function(e,t){var o=t[t.length-1];o.ndrefs.push(e.getAttribute("ref"))};ol.format.OSMXML.readTag_=function(e,t){var o=t[t.length-1];o.tags[e.getAttribute("k")]=e.getAttribute("v")};ol.format.OSMXML.NAMESPACE_URIS_=[null];ol.format.OSMXML.WAY_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{nd:ol.format.OSMXML.readNd_,tag:ol.format.OSMXML.readTag_});ol.format.OSMXML.PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{node:ol.format.OSMXML.readNode_,way:ol.format.OSMXML.readWay_});ol.format.OSMXML.NODE_PARSERS_=ol.xml.makeStructureNS(ol.format.OSMXML.NAMESPACE_URIS_,{tag:ol.format.OSMXML.readTag_});ol.format.OSMXML.prototype.readFeatures;ol.format.OSMXML.prototype.readFeaturesFromNode=function(e,t){var o=this.getReadOptions(e,t);if(e.localName=="osm"){var r=ol.xml.pushParseAndPop({nodes:{},features:[]},ol.format.OSMXML.PARSERS_,e,[o]);if(r.features){return r.features}}return[]};ol.format.OSMXML.prototype.readProjection;ol.format.OSMXML.prototype.writeFeatureNode=function(e,t){};ol.format.OSMXML.prototype.writeFeaturesNode=function(e,t){};ol.format.OSMXML.prototype.writeGeometryNode=function(e,t){};goog.provide("ol.format.XLink");ol.format.XLink.NAMESPACE_URI="http://www.w3.org/1999/xlink";ol.format.XLink.readHref=function(e){return e.getAttributeNS(ol.format.XLink.NAMESPACE_URI,"href")};goog.provide("ol.format.XML");goog.require("ol.xml");ol.format.XML=function(){};ol.format.XML.prototype.read=function(e){if(ol.xml.isDocument(e)){return this.readFromDocument(e)}else if(ol.xml.isNode(e)){return this.readFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readFromDocument(t)}else{return null}};ol.format.XML.prototype.readFromDocument=function(e){};ol.format.XML.prototype.readFromNode=function(e){};goog.provide("ol.format.OWS");goog.require("ol");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.OWS=function(){ol.format.XML.call(this)};ol.inherits(ol.format.OWS,ol.format.XML);ol.format.OWS.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFromNode(t)}}return null};ol.format.OWS.prototype.readFromNode=function(e){var t=ol.xml.pushParseAndPop({},ol.format.OWS.PARSERS_,e,[]);return t?t:null};ol.format.OWS.readAddress_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.ADDRESS_PARSERS_,e,t)};ol.format.OWS.readAllowedValues_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.ALLOWED_VALUES_PARSERS_,e,t)};ol.format.OWS.readConstraint_=function(e,t){var o=e.getAttribute("name");if(!o){return undefined}return ol.xml.pushParseAndPop({name:o},ol.format.OWS.CONSTRAINT_PARSERS_,e,t)};ol.format.OWS.readContactInfo_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.CONTACT_INFO_PARSERS_,e,t)};ol.format.OWS.readDcp_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.DCP_PARSERS_,e,t)};ol.format.OWS.readGet_=function(e,t){var o=ol.format.XLink.readHref(e);if(!o){return undefined}return ol.xml.pushParseAndPop({href:o},ol.format.OWS.REQUEST_METHOD_PARSERS_,e,t)};ol.format.OWS.readHttp_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.HTTP_PARSERS_,e,t)};ol.format.OWS.readOperation_=function(e,t){var o=e.getAttribute("name");var r=ol.xml.pushParseAndPop({},ol.format.OWS.OPERATION_PARSERS_,e,t);if(!r){return undefined}var i=t[t.length-1];i[o]=r};ol.format.OWS.readOperationsMetadata_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.OPERATIONS_METADATA_PARSERS_,e,t)};ol.format.OWS.readPhone_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.PHONE_PARSERS_,e,t)};ol.format.OWS.readServiceIdentification_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_,e,t)};ol.format.OWS.readServiceContact_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_CONTACT_PARSERS_,e,t)};ol.format.OWS.readServiceProvider_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.OWS.SERVICE_PROVIDER_PARSERS_,e,t)};ol.format.OWS.readValue_=function(e,t){return ol.format.XSD.readString(e)};ol.format.OWS.NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"];ol.format.OWS.PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{ServiceIdentification:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceIdentification_),ServiceProvider:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceProvider_),OperationsMetadata:ol.xml.makeObjectPropertySetter(ol.format.OWS.readOperationsMetadata_)});ol.format.OWS.ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DeliveryPoint:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AdministrativeArea:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostalCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.ALLOWED_VALUES_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Value:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readValue_)});ol.format.OWS.CONSTRAINT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{AllowedValues:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAllowedValues_)});ol.format.OWS.CONTACT_INFO_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Phone:ol.xml.makeObjectPropertySetter(ol.format.OWS.readPhone_),Address:ol.xml.makeObjectPropertySetter(ol.format.OWS.readAddress_)});ol.format.OWS.DCP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readHttp_)});ol.format.OWS.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readGet_),Post:undefined});ol.format.OWS.OPERATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{DCP:ol.xml.makeObjectPropertySetter(ol.format.OWS.readDcp_)});ol.format.OWS.OPERATIONS_METADATA_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Operation:ol.format.OWS.readOperation_});ol.format.OWS.PHONE_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Voice:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Facsimile:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.REQUEST_METHOD_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Constraint:ol.xml.makeObjectPropertyPusher(ol.format.OWS.readConstraint_)});ol.format.OWS.SERVICE_CONTACT_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{IndividualName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PositionName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactInfo:ol.xml.makeObjectPropertySetter(ol.format.OWS.readContactInfo_)});ol.format.OWS.SERVICE_IDENTIFICATION_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceTypeVersion:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ServiceType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.OWS.SERVICE_PROVIDER_PARSERS_=ol.xml.makeStructureNS(ol.format.OWS.NAMESPACE_URIS_,{
ProviderName:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ProviderSite:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ServiceContact:ol.xml.makeObjectPropertySetter(ol.format.OWS.readServiceContact_)});goog.provide("ol.geom.flat.flip");ol.geom.flat.flip.flipXY=function(e,t,o,r,i,n){var a,l;if(i!==undefined){a=i;l=n!==undefined?n:0}else{a=[];l=0}var s=t;while(s<o){var p=e[s++];a[l++]=e[s++];a[l++]=p;for(var u=2;u<r;++u){a[l++]=e[s++]}}a.length=l;return a};goog.provide("ol.format.Polyline");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.SimpleGeometry");goog.require("ol.geom.flat.flip");goog.require("ol.geom.flat.inflate");goog.require("ol.proj");ol.format.Polyline=function(e){var t=e?e:{};ol.format.TextFeature.call(this);this.defaultDataProjection=ol.proj.get("EPSG:4326");this.factor_=t.factor?t.factor:1e5;this.geometryLayout_=t.geometryLayout?t.geometryLayout:ol.geom.GeometryLayout.XY};ol.inherits(ol.format.Polyline,ol.format.TextFeature);ol.format.Polyline.encodeDeltas=function(e,t,o){var r=o?o:1e5;var i;var n=new Array(t);for(i=0;i<t;++i){n[i]=0}var a,l;for(a=0,l=e.length;a<l;){for(i=0;i<t;++i,++a){var s=e[a];var p=s-n[i];n[i]=s;e[a]=p}}return ol.format.Polyline.encodeFloats(e,r)};ol.format.Polyline.decodeDeltas=function(e,t,o){var r=o?o:1e5;var i;var n=new Array(t);for(i=0;i<t;++i){n[i]=0}var a=ol.format.Polyline.decodeFloats(e,r);var l,s;for(l=0,s=a.length;l<s;){for(i=0;i<t;++i,++l){n[i]+=a[l];a[l]=n[i]}}return a};ol.format.Polyline.encodeFloats=function(e,t){var o=t?t:1e5;var r,i;for(r=0,i=e.length;r<i;++r){e[r]=Math.round(e[r]*o)}return ol.format.Polyline.encodeSignedIntegers(e)};ol.format.Polyline.decodeFloats=function(e,t){var o=t?t:1e5;var r=ol.format.Polyline.decodeSignedIntegers(e);var i,n;for(i=0,n=r.length;i<n;++i){r[i]/=o}return r};ol.format.Polyline.encodeSignedIntegers=function(e){var t,o;for(t=0,o=e.length;t<o;++t){var r=e[t];e[t]=r<0?~(r<<1):r<<1}return ol.format.Polyline.encodeUnsignedIntegers(e)};ol.format.Polyline.decodeSignedIntegers=function(e){var t=ol.format.Polyline.decodeUnsignedIntegers(e);var o,r;for(o=0,r=t.length;o<r;++o){var i=t[o];t[o]=i&1?~(i>>1):i>>1}return t};ol.format.Polyline.encodeUnsignedIntegers=function(e){var t="";var o,r;for(o=0,r=e.length;o<r;++o){t+=ol.format.Polyline.encodeUnsignedInteger(e[o])}return t};ol.format.Polyline.decodeUnsignedIntegers=function(e){var t=[];var o=0;var r=0;var i,n;for(i=0,n=e.length;i<n;++i){var a=e.charCodeAt(i)-63;o|=(a&31)<<r;if(a<32){t.push(o);o=0;r=0}else{r+=5}}return t};ol.format.Polyline.encodeUnsignedInteger=function(e){var t,o="";while(e>=32){t=(32|e&31)+63;o+=String.fromCharCode(t);e>>=5}t=e+63;o+=String.fromCharCode(t);return o};ol.format.Polyline.prototype.readFeature;ol.format.Polyline.prototype.readFeatureFromText=function(e,t){var o=this.readGeometryFromText(e,t);return new ol.Feature(o)};ol.format.Polyline.prototype.readFeatures;ol.format.Polyline.prototype.readFeaturesFromText=function(e,t){var o=this.readFeatureFromText(e,t);return[o]};ol.format.Polyline.prototype.readGeometry;ol.format.Polyline.prototype.readGeometryFromText=function(e,t){var o=ol.geom.SimpleGeometry.getStrideForLayout(this.geometryLayout_);var r=ol.format.Polyline.decodeDeltas(e,o,this.factor_);ol.geom.flat.flip.flipXY(r,0,r.length,o,r);var i=ol.geom.flat.inflate.coordinates(r,0,r.length,o);return ol.format.Feature.transformWithOptions(new ol.geom.LineString(i,this.geometryLayout_),false,this.adaptOptions(t))};ol.format.Polyline.prototype.readProjection;ol.format.Polyline.prototype.writeFeatureText=function(e,t){var o=e.getGeometry();if(o){return this.writeGeometryText(o,t)}else{ol.asserts.assert(false,40);return""}};ol.format.Polyline.prototype.writeFeaturesText=function(e,t){return this.writeFeatureText(e[0],t)};ol.format.Polyline.prototype.writeGeometry;ol.format.Polyline.prototype.writeGeometryText=function(e,t){e=ol.format.Feature.transformWithOptions(e,true,this.adaptOptions(t));var o=e.getFlatCoordinates();var r=e.getStride();ol.geom.flat.flip.flipXY(o,0,o.length,r,o);return ol.format.Polyline.encodeDeltas(o,r,this.factor_)};goog.provide("ol.format.TopoJSON");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.JSONFeature");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.obj");goog.require("ol.proj");ol.format.TopoJSON=function(e){var t=e?e:{};ol.format.JSONFeature.call(this);this.defaultDataProjection=ol.proj.get(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326")};ol.inherits(ol.format.TopoJSON,ol.format.JSONFeature);ol.format.TopoJSON.concatenateArcs_=function(e,t){var o=[];var r,i;var n,a;var l,s;for(n=0,a=e.length;n<a;++n){r=e[n];if(n>0){o.pop()}if(r>=0){i=t[r]}else{i=t[~r].slice().reverse()}o.push.apply(o,i)}for(l=0,s=o.length;l<s;++l){o[l]=o[l].slice()}return o};ol.format.TopoJSON.readPointGeometry_=function(e,t,o){var r=e.coordinates;if(t&&o){ol.format.TopoJSON.transformVertex_(r,t,o)}return new ol.geom.Point(r)};ol.format.TopoJSON.readMultiPointGeometry_=function(e,t,o){var r=e.coordinates;var i,n;if(t&&o){for(i=0,n=r.length;i<n;++i){ol.format.TopoJSON.transformVertex_(r[i],t,o)}}return new ol.geom.MultiPoint(r)};ol.format.TopoJSON.readLineStringGeometry_=function(e,t){var o=ol.format.TopoJSON.concatenateArcs_(e.arcs,t);return new ol.geom.LineString(o)};ol.format.TopoJSON.readMultiLineStringGeometry_=function(e,t){var o=[];var r,i;for(r=0,i=e.arcs.length;r<i;++r){o[r]=ol.format.TopoJSON.concatenateArcs_(e.arcs[r],t)}return new ol.geom.MultiLineString(o)};ol.format.TopoJSON.readPolygonGeometry_=function(e,t){var o=[];var r,i;for(r=0,i=e.arcs.length;r<i;++r){o[r]=ol.format.TopoJSON.concatenateArcs_(e.arcs[r],t)}return new ol.geom.Polygon(o)};ol.format.TopoJSON.readMultiPolygonGeometry_=function(e,t){var o=[];var r,i,n,a;var l,s;for(l=0,s=e.arcs.length;l<s;++l){r=e.arcs[l];i=[];for(n=0,a=r.length;n<a;++n){i[n]=ol.format.TopoJSON.concatenateArcs_(r[n],t)}o[l]=i}return new ol.geom.MultiPolygon(o)};ol.format.TopoJSON.readFeaturesFromGeometryCollection_=function(e,t,o,r,i){var n=e.geometries;var a=[];var l,s;for(l=0,s=n.length;l<s;++l){a[l]=ol.format.TopoJSON.readFeatureFromGeometry_(n[l],t,o,r,i)}return a};ol.format.TopoJSON.readFeatureFromGeometry_=function(e,t,o,r,i){var n;var a=e.type;var l=ol.format.TopoJSON.GEOMETRY_READERS_[a];if(a==="Point"||a==="MultiPoint"){n=l(e,o,r)}else{n=l(e,t)}var s=new ol.Feature;s.setGeometry(ol.format.Feature.transformWithOptions(n,false,i));if(e.id!==undefined){s.setId(e.id)}if(e.properties){s.setProperties(e.properties)}return s};ol.format.TopoJSON.prototype.readFeatures;ol.format.TopoJSON.prototype.readFeaturesFromObject=function(e,t){if(e.type=="Topology"){var o=e;var r,i=null,n=null;if(o.transform){r=o.transform;i=r.scale;n=r.translate}var a=o.arcs;if(r){ol.format.TopoJSON.transformArcs_(a,i,n)}var l=[];var s=ol.obj.getValues(o.objects);var p,u;var c;for(p=0,u=s.length;p<u;++p){if(s[p].type==="GeometryCollection"){c=s[p];l.push.apply(l,ol.format.TopoJSON.readFeaturesFromGeometryCollection_(c,a,i,n,t))}else{c=s[p];l.push(ol.format.TopoJSON.readFeatureFromGeometry_(c,a,i,n,t))}}return l}else{return[]}};ol.format.TopoJSON.transformArcs_=function(e,t,o){var r,i;for(r=0,i=e.length;r<i;++r){ol.format.TopoJSON.transformArc_(e[r],t,o)}};ol.format.TopoJSON.transformArc_=function(e,t,o){var r=0;var i=0;var n;var a,l;for(a=0,l=e.length;a<l;++a){n=e[a];r+=n[0];i+=n[1];n[0]=r;n[1]=i;ol.format.TopoJSON.transformVertex_(n,t,o)}};ol.format.TopoJSON.transformVertex_=function(e,t,o){e[0]=e[0]*t[0]+o[0];e[1]=e[1]*t[1]+o[1]};ol.format.TopoJSON.prototype.readProjection;ol.format.TopoJSON.prototype.readProjectionFromObject=function(e){return this.defaultDataProjection};ol.format.TopoJSON.GEOMETRY_READERS_={Point:ol.format.TopoJSON.readPointGeometry_,LineString:ol.format.TopoJSON.readLineStringGeometry_,Polygon:ol.format.TopoJSON.readPolygonGeometry_,MultiPoint:ol.format.TopoJSON.readMultiPointGeometry_,MultiLineString:ol.format.TopoJSON.readMultiLineStringGeometry_,MultiPolygon:ol.format.TopoJSON.readMultiPolygonGeometry_};ol.format.TopoJSON.prototype.writeFeatureObject=function(e,t){};ol.format.TopoJSON.prototype.writeFeaturesObject=function(e,t){};ol.format.TopoJSON.prototype.writeGeometryObject=function(e,t){};ol.format.TopoJSON.prototype.readGeometryFromObject=function(){};ol.format.TopoJSON.prototype.readFeatureFromObject=function(){};goog.provide("ol.format.WFS");goog.require("ol");goog.require("ol.asserts");goog.require("ol.format.GML3");goog.require("ol.format.GMLBase");goog.require("ol.format.filter");goog.require("ol.format.XMLFeature");goog.require("ol.format.XSD");goog.require("ol.geom.Geometry");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.xml");ol.format.WFS=function(e){var t=e?e:{};this.featureType_=t.featureType;this.featureNS_=t.featureNS;this.gmlFormat_=t.gmlFormat?t.gmlFormat:new ol.format.GML3;this.schemaLocation_=t.schemaLocation?t.schemaLocation:ol.format.WFS.SCHEMA_LOCATION;ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WFS,ol.format.XMLFeature);ol.format.WFS.FEATURE_PREFIX="feature";ol.format.WFS.XMLNS="http://www.w3.org/2000/xmlns/";ol.format.WFS.OGCNS="http://www.opengis.net/ogc";ol.format.WFS.WFSNS="http://www.opengis.net/wfs";ol.format.WFS.SCHEMA_LOCATION="http://www.opengis.net/wfs "+"http://schemas.opengis.net/wfs/1.1.0/wfs.xsd";ol.format.WFS.prototype.readFeatures;ol.format.WFS.prototype.readFeaturesFromNode=function(e,t){var o={featureType:this.featureType_,featureNS:this.featureNS_};ol.obj.assign(o,this.getReadOptions(e,t?t:{}));var r=[o];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[ol.format.GMLBase.GMLNS]["featureMember"]=ol.xml.makeArrayPusher(ol.format.GMLBase.prototype.readFeaturesInternal);var i=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,r,this.gmlFormat_);if(!i){i=[]}return i};ol.format.WFS.prototype.readTransactionResponse=function(e){if(ol.xml.isDocument(e)){return this.readTransactionResponseFromDocument(e)}else if(ol.xml.isNode(e)){return this.readTransactionResponseFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readTransactionResponseFromDocument(t)}else{return undefined}};ol.format.WFS.prototype.readFeatureCollectionMetadata=function(e){if(ol.xml.isDocument(e)){return this.readFeatureCollectionMetadataFromDocument(e)}else if(ol.xml.isNode(e)){return this.readFeatureCollectionMetadataFromNode(e)}else if(typeof e==="string"){var t=ol.xml.parse(e);return this.readFeatureCollectionMetadataFromDocument(t)}else{return undefined}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFeatureCollectionMetadataFromNode(t)}}return undefined};ol.format.WFS.FEATURE_COLLECTION_PARSERS_={"http://www.opengis.net/gml":{boundedBy:ol.xml.makeObjectPropertySetter(ol.format.GMLBase.prototype.readGeometryElement,"bounds")}};ol.format.WFS.prototype.readFeatureCollectionMetadataFromNode=function(e){var t={};var o=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("numberOfFeatures"));t["numberOfFeatures"]=o;return ol.xml.pushParseAndPop(t,ol.format.WFS.FEATURE_COLLECTION_PARSERS_,e,[],this.gmlFormat_)};ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_={"http://www.opengis.net/wfs":{totalInserted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalUpdated:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),totalDeleted:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)}};ol.format.WFS.readTransactionSummary_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_SUMMARY_PARSERS_,e,t)};ol.format.WFS.OGC_FID_PARSERS_={"http://www.opengis.net/ogc":{FeatureId:ol.xml.makeArrayPusher(function(e,t){return e.getAttribute("fid")})}};ol.format.WFS.fidParser_=function(e,t){ol.xml.parseNode(ol.format.WFS.OGC_FID_PARSERS_,e,t)};ol.format.WFS.INSERT_RESULTS_PARSERS_={"http://www.opengis.net/wfs":{Feature:ol.format.WFS.fidParser_}};ol.format.WFS.readInsertResults_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WFS.INSERT_RESULTS_PARSERS_,e,t)};ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_={"http://www.opengis.net/wfs":{TransactionSummary:ol.xml.makeObjectPropertySetter(ol.format.WFS.readTransactionSummary_,"transactionSummary"),InsertResults:ol.xml.makeObjectPropertySetter(ol.format.WFS.readInsertResults_,"insertIds")}};ol.format.WFS.prototype.readTransactionResponseFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readTransactionResponseFromNode(t)}}return undefined};ol.format.WFS.prototype.readTransactionResponseFromNode=function(e){return ol.xml.pushParseAndPop({},ol.format.WFS.TRANSACTION_RESPONSE_PARSERS_,e,[])};ol.format.WFS.QUERY_SERIALIZERS_={"http://www.opengis.net/wfs":{PropertyName:ol.xml.makeChildAppender(ol.format.XSD.writeStringTextNode)}};ol.format.WFS.writeFeature_=function(e,t,o){var r=o[o.length-1];var i=r["featureType"];var n=r["featureNS"];var a=ol.xml.createElementNS(n,i);e.appendChild(a);ol.format.GML3.prototype.writeFeatureElement(a,t,o)};ol.format.WFS.writeOgcFidFilter_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");var i=ol.xml.createElementNS(ol.format.WFS.OGCNS,"FeatureId");r.appendChild(i);i.setAttribute("fid",t);e.appendChild(r)};ol.format.WFS.writeDelete_=function(e,t,o){var r=o[o.length-1];ol.asserts.assert(t.getId()!==undefined,26);var i=r["featureType"];var n=r["featurePrefix"];n=n?n:ol.format.WFS.FEATURE_PREFIX;var a=r["featureNS"];e.setAttribute("typeName",n+":"+i);ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,a);var l=t.getId();if(l!==undefined){ol.format.WFS.writeOgcFidFilter_(e,l,o)}};ol.format.WFS.writeUpdate_=function(e,t,o){var r=o[o.length-1];ol.asserts.assert(t.getId()!==undefined,27);var i=r["featureType"];var n=r["featurePrefix"];n=n?n:ol.format.WFS.FEATURE_PREFIX;var a=r["featureNS"];e.setAttribute("typeName",n+":"+i);ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+n,a);var l=t.getId();if(l!==undefined){var s=t.getKeys();var p=[];for(var u=0,c=s.length;u<c;u++){var g=t.get(s[u]);if(g!==undefined){p.push({name:s[u],value:g})}}ol.xml.pushSerializeAndPop({node:e,srsName:r["srsName"]},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Property"),p,o);ol.format.WFS.writeOgcFidFilter_(e,l,o)}};ol.format.WFS.writeProperty_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Name");e.appendChild(r);ol.format.XSD.writeStringTextNode(r,t.name);if(t.value!==undefined&&t.value!==null){var i=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Value");e.appendChild(i);if(t.value instanceof ol.geom.Geometry){ol.format.GML3.prototype.writeGeometryElement(i,t.value,o)}else{ol.format.XSD.writeStringTextNode(i,t.value)}}};ol.format.WFS.writeNative_=function(e,t,o){if(t.vendorId){e.setAttribute("vendorId",t.vendorId)}if(t.safeToIgnore!==undefined){e.setAttribute("safeToIgnore",t.safeToIgnore)}if(t.value!==undefined){ol.format.XSD.writeStringTextNode(e,t.value)}};ol.format.WFS.TRANSACTION_SERIALIZERS_={"http://www.opengis.net/wfs":{Insert:ol.xml.makeChildAppender(ol.format.WFS.writeFeature_),Update:ol.xml.makeChildAppender(ol.format.WFS.writeUpdate_),Delete:ol.xml.makeChildAppender(ol.format.WFS.writeDelete_),Property:ol.xml.makeChildAppender(ol.format.WFS.writeProperty_),Native:ol.xml.makeChildAppender(ol.format.WFS.writeNative_)}};ol.format.WFS.writeQuery_=function(e,t,o){var r=o[o.length-1];var i=r["featurePrefix"];var n=r["featureNS"];var a=r["propertyNames"];var l=r["srsName"];var s=i?i+":":"";e.setAttribute("typeName",s+t);if(l){e.setAttribute("srsName",l)}if(n){ol.xml.setAttributeNS(e,ol.format.WFS.XMLNS,"xmlns:"+i,n)}var p=ol.obj.assign({},r);p.node=e;ol.xml.pushSerializeAndPop(p,ol.format.WFS.QUERY_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("PropertyName"),a,o);var u=r["filter"];if(u){var c=ol.xml.createElementNS(ol.format.WFS.OGCNS,"Filter");e.appendChild(c);ol.format.WFS.writeFilterCondition_(c,u,o)}};ol.format.WFS.writeFilterCondition_=function(e,t,o){var r={node:e};ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(t.getTagName()),[t],o)};ol.format.WFS.writeBboxFilter_=function(e,t,o){var r=o[o.length-1];r["srsName"]=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.extent,o)};ol.format.WFS.writeIntersectsFilter_=function(e,t,o){var r=o[o.length-1];r["srsName"]=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,o)};ol.format.WFS.writeWithinFilter_=function(e,t,o){var r=o[o.length-1];r["srsName"]=t.srsName;ol.format.WFS.writeOgcPropertyName_(e,t.geometryName);ol.format.GML3.prototype.writeGeometryElement(e,t.geometry,o)};ol.format.WFS.writeLogicalFilter_=function(e,t,o){var r={node:e};t.conditions.forEach(function(e){ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(e.getTagName()),[e],o)})};ol.format.WFS.writeNotFilter_=function(e,t,o){var r={node:e};var i=t.condition;ol.xml.pushSerializeAndPop(r,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory(i.getTagName()),[i],o)};ol.format.WFS.writeComparisonFilter_=function(e,t,o){if(t.matchCase!==undefined){e.setAttribute("matchCase",t.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);ol.format.WFS.writeOgcLiteral_(e,""+t.expression)};ol.format.WFS.writeIsNullFilter_=function(e,t,o){ol.format.WFS.writeOgcPropertyName_(e,t.propertyName)};ol.format.WFS.writeIsBetweenFilter_=function(e,t,o){ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,"LowerBoundary");e.appendChild(r);ol.format.WFS.writeOgcLiteral_(r,""+t.lowerBoundary);var i=ol.xml.createElementNS(ol.format.WFS.OGCNS,"UpperBoundary");e.appendChild(i);ol.format.WFS.writeOgcLiteral_(i,""+t.upperBoundary)};ol.format.WFS.writeIsLikeFilter_=function(e,t,o){e.setAttribute("wildCard",t.wildCard);e.setAttribute("singleChar",t.singleChar);e.setAttribute("escapeChar",t.escapeChar);if(t.matchCase!==undefined){e.setAttribute("matchCase",t.matchCase.toString())}ol.format.WFS.writeOgcPropertyName_(e,t.propertyName);ol.format.WFS.writeOgcLiteral_(e,""+t.pattern)};ol.format.WFS.writeOgcExpression_=function(e,t,o){var r=ol.xml.createElementNS(ol.format.WFS.OGCNS,e);ol.format.XSD.writeStringTextNode(r,o);t.appendChild(r)};ol.format.WFS.writeOgcPropertyName_=function(e,t){ol.format.WFS.writeOgcExpression_("PropertyName",e,t)};ol.format.WFS.writeOgcLiteral_=function(e,t){ol.format.WFS.writeOgcExpression_("Literal",e,t)};ol.format.WFS.GETFEATURE_SERIALIZERS_={"http://www.opengis.net/wfs":{Query:ol.xml.makeChildAppender(ol.format.WFS.writeQuery_)},"http://www.opengis.net/ogc":{And:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Or:ol.xml.makeChildAppender(ol.format.WFS.writeLogicalFilter_),Not:ol.xml.makeChildAppender(ol.format.WFS.writeNotFilter_),BBOX:ol.xml.makeChildAppender(ol.format.WFS.writeBboxFilter_),Intersects:ol.xml.makeChildAppender(ol.format.WFS.writeIntersectsFilter_),Within:ol.xml.makeChildAppender(ol.format.WFS.writeWithinFilter_),PropertyIsEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNotEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsLessThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThan:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsGreaterThanOrEqualTo:ol.xml.makeChildAppender(ol.format.WFS.writeComparisonFilter_),PropertyIsNull:ol.xml.makeChildAppender(ol.format.WFS.writeIsNullFilter_),PropertyIsBetween:ol.xml.makeChildAppender(ol.format.WFS.writeIsBetweenFilter_),PropertyIsLike:ol.xml.makeChildAppender(ol.format.WFS.writeIsLikeFilter_)}};ol.format.WFS.writeGetFeature_=function(e,t,o){var r=o[o.length-1];var i=ol.obj.assign({},r);i.node=e;ol.xml.pushSerializeAndPop(i,ol.format.WFS.GETFEATURE_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Query"),t,o)};ol.format.WFS.prototype.writeGetFeature=function(e){var t=ol.xml.createElementNS(ol.format.WFS.WFSNS,"GetFeature");t.setAttribute("service","WFS");t.setAttribute("version","1.1.0");var o;if(e){if(e.handle){t.setAttribute("handle",e.handle)}if(e.outputFormat){t.setAttribute("outputFormat",e.outputFormat)}if(e.maxFeatures!==undefined){t.setAttribute("maxFeatures",e.maxFeatures)}if(e.resultType){t.setAttribute("resultType",e.resultType)}if(e.startIndex!==undefined){t.setAttribute("startIndex",e.startIndex)}if(e.count!==undefined){t.setAttribute("count",e.count)}o=e.filter;if(e.bbox){ol.asserts.assert(e.geometryName,12);var r=ol.format.filter.bbox(e.geometryName,e.bbox,e.srsName);if(o){o=ol.format.filter.and(o,r)}else{o=r}}}ol.xml.setAttributeNS(t,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var i={node:t,srsName:e.srsName,featureNS:e.featureNS?e.featureNS:this.featureNS_,featurePrefix:e.featurePrefix,geometryName:e.geometryName,filter:o,propertyNames:e.propertyNames?e.propertyNames:[]};ol.asserts.assert(Array.isArray(e.featureTypes),11);ol.format.WFS.writeGetFeature_(t,e.featureTypes,[i]);return t};ol.format.WFS.prototype.writeTransaction=function(e,t,o,r){var i=[];var n=ol.xml.createElementNS(ol.format.WFS.WFSNS,"Transaction");n.setAttribute("service","WFS");n.setAttribute("version","1.1.0");var a;var l;if(r){a=r.gmlOptions?r.gmlOptions:{};if(r.handle){n.setAttribute("handle",r.handle)}}ol.xml.setAttributeNS(n,"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);if(e){l={node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:r.featurePrefix,srsName:r.srsName};ol.obj.assign(l,a);ol.xml.pushSerializeAndPop(l,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Insert"),e,i)}if(t){l={node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:r.featurePrefix,srsName:r.srsName};ol.obj.assign(l,a);ol.xml.pushSerializeAndPop(l,ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Update"),t,i)}if(o){ol.xml.pushSerializeAndPop({node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:r.featurePrefix,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Delete"),o,i)}if(r.nativeElements){ol.xml.pushSerializeAndPop({node:n,featureNS:r.featureNS,featureType:r.featureType,featurePrefix:r.featurePrefix,srsName:r.srsName},ol.format.WFS.TRANSACTION_SERIALIZERS_,ol.xml.makeSimpleNodeFactory("Native"),r.nativeElements,i)}return n};ol.format.WFS.prototype.readProjection;ol.format.WFS.prototype.readProjectionFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readProjectionFromNode(t)}}return null};ol.format.WFS.prototype.readProjectionFromNode=function(e){if(e.firstElementChild&&e.firstElementChild.firstElementChild){e=e.firstElementChild.firstElementChild;for(var t=e.firstElementChild;t;t=t.nextElementSibling){if(!(t.childNodes.length===0||t.childNodes.length===1&&t.firstChild.nodeType===3)){var o=[{}];this.gmlFormat_.readGeometryElement(t,o);return ol.proj.get(o.pop().srsName)}}}return null};goog.provide("ol.format.WKT");goog.require("ol");goog.require("ol.Feature");goog.require("ol.format.Feature");goog.require("ol.format.TextFeature");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.GeometryType");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");ol.format.WKT=function(e){var t=e?e:{};ol.format.TextFeature.call(this);this.splitCollection_=t.splitCollection!==undefined?t.splitCollection:false};ol.inherits(ol.format.WKT,ol.format.TextFeature);ol.format.WKT.EMPTY="EMPTY";ol.format.WKT.Z="Z";ol.format.WKT.M="M";ol.format.WKT.ZM="ZM";ol.format.WKT.encodePointGeometry_=function(e){var t=e.getCoordinates();if(t.length===0){return""}return t.join(" ")};ol.format.WKT.encodeMultiPointGeometry_=function(e){var t=[];var o=e.getPoints();for(var r=0,i=o.length;r<i;++r){t.push("("+ol.format.WKT.encodePointGeometry_(o[r])+")")}return t.join(",")};ol.format.WKT.encodeGeometryCollectionGeometry_=function(e){var t=[];var o=e.getGeometries();for(var r=0,i=o.length;r<i;++r){t.push(ol.format.WKT.encode_(o[r]))}return t.join(",")};ol.format.WKT.encodeLineStringGeometry_=function(e){var t=e.getCoordinates();var o=[];for(var r=0,i=t.length;r<i;++r){o.push(t[r].join(" "))}return o.join(",")};ol.format.WKT.encodeMultiLineStringGeometry_=function(e){var t=[];var o=e.getLineStrings();for(var r=0,i=o.length;r<i;++r){t.push("("+ol.format.WKT.encodeLineStringGeometry_(o[r])+")")}return t.join(",")};ol.format.WKT.encodePolygonGeometry_=function(e){var t=[];var o=e.getLinearRings();for(var r=0,i=o.length;r<i;++r){t.push("("+ol.format.WKT.encodeLineStringGeometry_(o[r])+")")}return t.join(",")};ol.format.WKT.encodeMultiPolygonGeometry_=function(e){var t=[];var o=e.getPolygons();for(var r=0,i=o.length;r<i;++r){t.push("("+ol.format.WKT.encodePolygonGeometry_(o[r])+")")}return t.join(",")};ol.format.WKT.encodeGeometryLayout_=function(e){var t=e.getLayout();var o="";if(t===ol.geom.GeometryLayout.XYZ||t===ol.geom.GeometryLayout.XYZM){o+=ol.format.WKT.Z}if(t===ol.geom.GeometryLayout.XYM||t===ol.geom.GeometryLayout.XYZM){o+=ol.format.WKT.M}return o};ol.format.WKT.encode_=function(e){var t=e.getType();var o=ol.format.WKT.GeometryEncoder_[t];var r=o(e);t=t.toUpperCase();if(e instanceof ol.geom.SimpleGeometry){var i=ol.format.WKT.encodeGeometryLayout_(e);if(i.length>0){t+=" "+i}}if(r.length===0){return t+" "+ol.format.WKT.EMPTY}return t+"("+r+")"};ol.format.WKT.GeometryEncoder_={Point:ol.format.WKT.encodePointGeometry_,LineString:ol.format.WKT.encodeLineStringGeometry_,Polygon:ol.format.WKT.encodePolygonGeometry_,MultiPoint:ol.format.WKT.encodeMultiPointGeometry_,MultiLineString:ol.format.WKT.encodeMultiLineStringGeometry_,MultiPolygon:ol.format.WKT.encodeMultiPolygonGeometry_,GeometryCollection:ol.format.WKT.encodeGeometryCollectionGeometry_};ol.format.WKT.prototype.parse_=function(e){var t=new ol.format.WKT.Lexer(e);var o=new ol.format.WKT.Parser(t);return o.parse()};ol.format.WKT.prototype.readFeature;ol.format.WKT.prototype.readFeatureFromText=function(e,t){var o=this.readGeometryFromText(e,t);if(o){var r=new ol.Feature;r.setGeometry(o);return r}return null};ol.format.WKT.prototype.readFeatures;ol.format.WKT.prototype.readFeaturesFromText=function(e,t){var o=[];var r=this.readGeometryFromText(e,t);if(this.splitCollection_&&r.getType()==ol.geom.GeometryType.GEOMETRY_COLLECTION){o=r.getGeometriesArray()}else{o=[r]}var i,n=[];for(var a=0,l=o.length;a<l;++a){i=new ol.Feature;i.setGeometry(o[a]);n.push(i)}return n};ol.format.WKT.prototype.readGeometry;ol.format.WKT.prototype.readGeometryFromText=function(e,t){var o=this.parse_(e);if(o){return ol.format.Feature.transformWithOptions(o,false,t)}else{return null}};ol.format.WKT.prototype.writeFeature;ol.format.WKT.prototype.writeFeatureText=function(e,t){var o=e.getGeometry();if(o){return this.writeGeometryText(o,t)}return""};ol.format.WKT.prototype.writeFeatures;ol.format.WKT.prototype.writeFeaturesText=function(e,t){if(e.length==1){return this.writeFeatureText(e[0],t)}var o=[];for(var r=0,i=e.length;r<i;++r){o.push(e[r].getGeometry())}var n=new ol.geom.GeometryCollection(o);return this.writeGeometryText(n,t)};ol.format.WKT.prototype.writeGeometry;ol.format.WKT.prototype.writeGeometryText=function(e,t){return ol.format.WKT.encode_(ol.format.Feature.transformWithOptions(e,true,t))};ol.format.WKT.TokenType_={TEXT:1,LEFT_PAREN:2,RIGHT_PAREN:3,NUMBER:4,COMMA:5,EOF:6};ol.format.WKT.Lexer=function(e){this.wkt=e;this.index_=-1};ol.format.WKT.Lexer.prototype.isAlpha_=function(e){return e>="a"&&e<="z"||e>="A"&&e<="Z"};ol.format.WKT.Lexer.prototype.isNumeric_=function(e,t){var o=t!==undefined?t:false;return e>="0"&&e<="9"||e=="."&&!o};ol.format.WKT.Lexer.prototype.isWhiteSpace_=function(e){return e==" "||e=="	"||e=="\r"||e=="\n"};ol.format.WKT.Lexer.prototype.nextChar_=function(){return this.wkt.charAt(++this.index_)};ol.format.WKT.Lexer.prototype.nextToken=function(){var e=this.nextChar_();var t={position:this.index_,value:e};if(e=="("){t.type=ol.format.WKT.TokenType_.LEFT_PAREN}else if(e==","){t.type=ol.format.WKT.TokenType_.COMMA}else if(e==")"){t.type=ol.format.WKT.TokenType_.RIGHT_PAREN}else if(this.isNumeric_(e)||e=="-"){t.type=ol.format.WKT.TokenType_.NUMBER;t.value=this.readNumber_()}else if(this.isAlpha_(e)){t.type=ol.format.WKT.TokenType_.TEXT;t.value=this.readText_()}else if(this.isWhiteSpace_(e)){return this.nextToken()}else if(e===""){t.type=ol.format.WKT.TokenType_.EOF}else{throw new Error("Unexpected character: "+e)}return t};ol.format.WKT.Lexer.prototype.readNumber_=function(){var e,t=this.index_;var o=false;var r=false;do{if(e=="."){o=true}else if(e=="e"||e=="E"){r=true}e=this.nextChar_()}while(this.isNumeric_(e,o)||!r&&(e=="e"||e=="E")||r&&(e=="-"||e=="+"));return parseFloat(this.wkt.substring(t,this.index_--))};ol.format.WKT.Lexer.prototype.readText_=function(){var e,t=this.index_;do{e=this.nextChar_()}while(this.isAlpha_(e));return this.wkt.substring(t,this.index_--).toUpperCase()};ol.format.WKT.Parser=function(e){this.lexer_=e;this.token_;this.layout_=ol.geom.GeometryLayout.XY};ol.format.WKT.Parser.prototype.consume_=function(){this.token_=this.lexer_.nextToken()};ol.format.WKT.Parser.prototype.isTokenType=function(e){var t=this.token_.type==e;return t};ol.format.WKT.Parser.prototype.match=function(e){var t=this.isTokenType(e);if(t){this.consume_()}return t};ol.format.WKT.Parser.prototype.parse=function(){this.consume_();var e=this.parseGeometry_();return e};ol.format.WKT.Parser.prototype.parseGeometryLayout_=function(){var e=ol.geom.GeometryLayout.XY;var t=this.token_;if(this.isTokenType(ol.format.WKT.TokenType_.TEXT)){var o=t.value;if(o===ol.format.WKT.Z){e=ol.geom.GeometryLayout.XYZ}else if(o===ol.format.WKT.M){e=ol.geom.GeometryLayout.XYM}else if(o===ol.format.WKT.ZM){e=ol.geom.GeometryLayout.XYZM}if(e!==ol.geom.GeometryLayout.XY){this.consume_()}}return e};ol.format.WKT.Parser.prototype.parseGeometry_=function(){var e=this.token_;if(this.match(ol.format.WKT.TokenType_.TEXT)){var t=e.value;this.layout_=this.parseGeometryLayout_();if(t==ol.geom.GeometryType.GEOMETRY_COLLECTION.toUpperCase()){var o=this.parseGeometryCollectionText_();return new ol.geom.GeometryCollection(o)}else{var r=ol.format.WKT.Parser.GeometryParser_[t];var i=ol.format.WKT.Parser.GeometryConstructor_[t];if(!r||!i){throw new Error("Invalid geometry type: "+t)}var n=r.call(this);return new i(n,this.layout_)}}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseGeometryCollectionText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=[];do{e.push(this.parseGeometry_())}while(this.match(ol.format.WKT.TokenType_.COMMA));if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePoint_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return null}throw new Error(this.formatErrorMessage_());
};ol.format.WKT.Parser.prototype.parseLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePointList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPointText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e;if(this.token_.type==ol.format.WKT.TokenType_.LEFT_PAREN){e=this.parsePointTextList_()}else{e=this.parsePointList_()}if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiLineStringText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parseLineStringTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parseMultiPolygonText_=function(){if(this.match(ol.format.WKT.TokenType_.LEFT_PAREN)){var e=this.parsePolygonTextList_();if(this.match(ol.format.WKT.TokenType_.RIGHT_PAREN)){return e}}else if(this.isEmptyGeometry_()){return[]}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePoint_=function(){var e=[];var t=this.layout_.length;for(var o=0;o<t;++o){var r=this.token_;if(this.match(ol.format.WKT.TokenType_.NUMBER)){e.push(r.value)}else{break}}if(e.length==t){return e}throw new Error(this.formatErrorMessage_())};ol.format.WKT.Parser.prototype.parsePointList_=function(){var e=[this.parsePoint_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parsePoint_())}return e};ol.format.WKT.Parser.prototype.parsePointTextList_=function(){var e=[this.parsePointText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parsePointText_())}return e};ol.format.WKT.Parser.prototype.parseLineStringTextList_=function(){var e=[this.parseLineStringText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parseLineStringText_())}return e};ol.format.WKT.Parser.prototype.parsePolygonTextList_=function(){var e=[this.parsePolygonText_()];while(this.match(ol.format.WKT.TokenType_.COMMA)){e.push(this.parsePolygonText_())}return e};ol.format.WKT.Parser.prototype.isEmptyGeometry_=function(){var e=this.isTokenType(ol.format.WKT.TokenType_.TEXT)&&this.token_.value==ol.format.WKT.EMPTY;if(e){this.consume_()}return e};ol.format.WKT.Parser.prototype.formatErrorMessage_=function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"};ol.format.WKT.Parser.GeometryConstructor_={POINT:ol.geom.Point,LINESTRING:ol.geom.LineString,POLYGON:ol.geom.Polygon,MULTIPOINT:ol.geom.MultiPoint,MULTILINESTRING:ol.geom.MultiLineString,MULTIPOLYGON:ol.geom.MultiPolygon};ol.format.WKT.Parser.GeometryParser_={POINT:ol.format.WKT.Parser.prototype.parsePointText_,LINESTRING:ol.format.WKT.Parser.prototype.parseLineStringText_,POLYGON:ol.format.WKT.Parser.prototype.parsePolygonText_,MULTIPOINT:ol.format.WKT.Parser.prototype.parseMultiPointText_,MULTILINESTRING:ol.format.WKT.Parser.prototype.parseMultiLineStringText_,MULTIPOLYGON:ol.format.WKT.Parser.prototype.parseMultiPolygonText_};goog.provide("ol.format.WMSCapabilities");goog.require("ol");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.WMSCapabilities=function(){ol.format.XML.call(this);this.version=undefined};ol.inherits(ol.format.WMSCapabilities,ol.format.XML);ol.format.WMSCapabilities.prototype.read;ol.format.WMSCapabilities.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFromNode(t)}}return null};ol.format.WMSCapabilities.prototype.readFromNode=function(e){this.version=e.getAttribute("version").trim();var t=ol.xml.pushParseAndPop({version:this.version},ol.format.WMSCapabilities.PARSERS_,e,[]);return t?t:null};ol.format.WMSCapabilities.readAttribution_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_,e,t)};ol.format.WMSCapabilities.readBoundingBox_=function(e,t){var o=[ol.format.XSD.readDecimalString(e.getAttribute("minx")),ol.format.XSD.readDecimalString(e.getAttribute("miny")),ol.format.XSD.readDecimalString(e.getAttribute("maxx")),ol.format.XSD.readDecimalString(e.getAttribute("maxy"))];var r=[ol.format.XSD.readDecimalString(e.getAttribute("resx")),ol.format.XSD.readDecimalString(e.getAttribute("resy"))];return{crs:e.getAttribute("CRS"),extent:o,res:r}};ol.format.WMSCapabilities.readEXGeographicBoundingBox_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_,e,t);if(!o){return undefined}var r=o["westBoundLongitude"];var i=o["southBoundLatitude"];var n=o["eastBoundLongitude"];var a=o["northBoundLatitude"];if(r===undefined||i===undefined||n===undefined||a===undefined){return undefined}return[r,i,n,a]};ol.format.WMSCapabilities.readCapability_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CAPABILITY_PARSERS_,e,t)};ol.format.WMSCapabilities.readService_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.SERVICE_PARSERS_,e,t)};ol.format.WMSCapabilities.readContactInformation_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_,e,t)};ol.format.WMSCapabilities.readContactPersonPrimary_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_,e,t)};ol.format.WMSCapabilities.readContactAddress_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_,e,t)};ol.format.WMSCapabilities.readException_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.EXCEPTION_PARSERS_,e,t)};ol.format.WMSCapabilities.readCapabilityLayer_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,t)};ol.format.WMSCapabilities.readLayer_=function(e,t){var o=t[t.length-1];var r=ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.LAYER_PARSERS_,e,t);if(!r){return undefined}var i=ol.format.XSD.readBooleanString(e.getAttribute("queryable"));if(i===undefined){i=o["queryable"]}r["queryable"]=i!==undefined?i:false;var n=ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("cascaded"));if(n===undefined){n=o["cascaded"]}r["cascaded"]=n;var a=ol.format.XSD.readBooleanString(e.getAttribute("opaque"));if(a===undefined){a=o["opaque"]}r["opaque"]=a!==undefined?a:false;var l=ol.format.XSD.readBooleanString(e.getAttribute("noSubsets"));if(l===undefined){l=o["noSubsets"]}r["noSubsets"]=l!==undefined?l:false;var s=ol.format.XSD.readDecimalString(e.getAttribute("fixedWidth"));if(!s){s=o["fixedWidth"]}r["fixedWidth"]=s;var p=ol.format.XSD.readDecimalString(e.getAttribute("fixedHeight"));if(!p){p=o["fixedHeight"]}r["fixedHeight"]=p;var u=["Style","CRS","AuthorityURL"];u.forEach(function(e){if(e in o){var t=r[e]||[];r[e]=t.concat(o[e])}});var c=["EX_GeographicBoundingBox","BoundingBox","Dimension","Attribution","MinScaleDenominator","MaxScaleDenominator"];c.forEach(function(e){if(!(e in r)){var t=o[e];r[e]=t}});return r};ol.format.WMSCapabilities.readDimension_=function(e,t){var o={name:e.getAttribute("name"),units:e.getAttribute("units"),unitSymbol:e.getAttribute("unitSymbol"),"default":e.getAttribute("default"),multipleValues:ol.format.XSD.readBooleanString(e.getAttribute("multipleValues")),nearestValue:ol.format.XSD.readBooleanString(e.getAttribute("nearestValue")),current:ol.format.XSD.readBooleanString(e.getAttribute("current")),values:ol.format.XSD.readString(e)};return o};ol.format.WMSCapabilities.readFormatOnlineresource_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_,e,t)};ol.format.WMSCapabilities.readRequest_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.REQUEST_PARSERS_,e,t)};ol.format.WMSCapabilities.readDCPType_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.DCPTYPE_PARSERS_,e,t)};ol.format.WMSCapabilities.readHTTP_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.HTTP_PARSERS_,e,t)};ol.format.WMSCapabilities.readOperationType_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_,e,t)};ol.format.WMSCapabilities.readSizedFormatOnlineresource_=function(e,t){var o=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(o){var r=[ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("width")),ol.format.XSD.readNonNegativeIntegerString(e.getAttribute("height"))];o["size"]=r;return o}return undefined};ol.format.WMSCapabilities.readAuthorityURL_=function(e,t){var o=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(o){o["name"]=e.getAttribute("name");return o}return undefined};ol.format.WMSCapabilities.readMetadataURL_=function(e,t){var o=ol.format.WMSCapabilities.readFormatOnlineresource_(e,t);if(o){o["type"]=e.getAttribute("type");return o}return undefined};ol.format.WMSCapabilities.readStyle_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMSCapabilities.STYLE_PARSERS_,e,t)};ol.format.WMSCapabilities.readKeywordList_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_,e,t)};ol.format.WMSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wms"];ol.format.WMSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Service:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readService_),Capability:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapability_)});ol.format.WMSCapabilities.CAPABILITY_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Request:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readRequest_),Exception:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readException_),Layer:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readCapabilityLayer_)});ol.format.WMSCapabilities.SERVICE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),ContactInformation:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactInformation_),Fees:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),AccessConstraints:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LayerLimit:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)});ol.format.WMSCapabilities.CONTACT_INFORMATION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPersonPrimary:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactPersonPrimary_),ContactPosition:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactAddress:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readContactAddress_),ContactVoiceTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactFacsimileTelephone:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactElectronicMailAddress:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_PERSON_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{ContactPerson:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),ContactOrganization:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.CONTACT_ADDRESS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{AddressType:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Address:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),City:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),StateOrProvince:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),PostCode:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Country:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)});ol.format.WMSCapabilities.EXCEPTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeArrayPusher(ol.format.XSD.readString)});ol.format.WMSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),KeywordList:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readKeywordList_),CRS:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),EX_GeographicBoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readEXGeographicBoundingBox_),BoundingBox:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readBoundingBox_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDimension_),Attribution:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readAttribution_),AuthorityURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readAuthorityURL_),Identifier:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),MetadataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readMetadataURL_),DataURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),FeatureListURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readFormatOnlineresource_),Style:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readStyle_),MinScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),MaxScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readLayer_)});ol.format.WMSCapabilities.ATTRIBUTION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref),LogoURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readSizedFormatOnlineresource_)});ol.format.WMSCapabilities.EX_GEOGRAPHIC_BOUNDING_BOX_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{westBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),eastBoundLongitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),southBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),northBoundLatitude:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal)});ol.format.WMSCapabilities.REQUEST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{GetCapabilities:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetMap:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_),GetFeatureInfo:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readOperationType_)});ol.format.WMSCapabilities.OPERATIONTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),DCPType:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readDCPType_)});ol.format.WMSCapabilities.DCPTYPE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{HTTP:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readHTTP_)});ol.format.WMSCapabilities.HTTP_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Get:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),Post:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Name:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMSCapabilities.readSizedFormatOnlineresource_),StyleSheetURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_),StyleURL:ol.xml.makeObjectPropertySetter(ol.format.WMSCapabilities.readFormatOnlineresource_)});ol.format.WMSCapabilities.FORMAT_ONLINERESOURCE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Format:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),OnlineResource:ol.xml.makeObjectPropertySetter(ol.format.XLink.readHref)});ol.format.WMSCapabilities.KEYWORDLIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMSCapabilities.NAMESPACE_URIS_,{Keyword:ol.xml.makeArrayPusher(ol.format.XSD.readString)});goog.provide("ol.format.WMSGetFeatureInfo");goog.require("ol");goog.require("ol.array");goog.require("ol.format.GML2");goog.require("ol.format.XMLFeature");goog.require("ol.obj");goog.require("ol.xml");ol.format.WMSGetFeatureInfo=function(e){var t=e?e:{};this.featureNS_="http://mapserver.gis.umn.edu/mapserver";this.gmlFormat_=new ol.format.GML2;this.layers_=t.layers?t.layers:null;ol.format.XMLFeature.call(this)};ol.inherits(ol.format.WMSGetFeatureInfo,ol.format.XMLFeature);ol.format.WMSGetFeatureInfo.featureIdentifier_="_feature";ol.format.WMSGetFeatureInfo.layerIdentifier_="_layer";ol.format.WMSGetFeatureInfo.prototype.readFeatures_=function(e,t){e.setAttribute("namespaceURI",this.featureNS_);var o=e.localName;var r=[];if(e.childNodes.length===0){return r}if(o=="msGMLOutput"){for(var i=0,n=e.childNodes.length;i<n;i++){var a=e.childNodes[i];if(a.nodeType!==Node.ELEMENT_NODE){continue}var l=t[0];var s=ol.format.WMSGetFeatureInfo.layerIdentifier_;var p=a.localName.replace(s,"");if(this.layers_&&!ol.array.includes(this.layers_,p)){continue}var u=p+ol.format.WMSGetFeatureInfo.featureIdentifier_;l["featureType"]=u;l["featureNS"]=this.featureNS_;var c={};c[u]=ol.xml.makeArrayPusher(this.gmlFormat_.readFeatureElement,this.gmlFormat_);var g=ol.xml.makeStructureNS([l["featureNS"],null],c);a.setAttribute("namespaceURI",this.featureNS_);var h=ol.xml.pushParseAndPop([],g,a,t,this.gmlFormat_);if(h){ol.array.extend(r,h)}}}if(o=="FeatureCollection"){var f=ol.xml.pushParseAndPop([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,e,[{}],this.gmlFormat_);if(f){r=f}}return r};ol.format.WMSGetFeatureInfo.prototype.readFeatures;ol.format.WMSGetFeatureInfo.prototype.readFeaturesFromNode=function(e,t){var o={};if(t){ol.obj.assign(o,this.getReadOptions(e,t))}return this.readFeatures_(e,[o])};ol.format.WMSGetFeatureInfo.prototype.writeFeatureNode=function(e,t){};ol.format.WMSGetFeatureInfo.prototype.writeFeaturesNode=function(e,t){};ol.format.WMSGetFeatureInfo.prototype.writeGeometryNode=function(e,t){};goog.provide("ol.format.WMTSCapabilities");goog.require("ol");goog.require("ol.extent");goog.require("ol.format.OWS");goog.require("ol.format.XLink");goog.require("ol.format.XML");goog.require("ol.format.XSD");goog.require("ol.xml");ol.format.WMTSCapabilities=function(){ol.format.XML.call(this);this.owsParser_=new ol.format.OWS};ol.inherits(ol.format.WMTSCapabilities,ol.format.XML);ol.format.WMTSCapabilities.prototype.read;ol.format.WMTSCapabilities.prototype.readFromDocument=function(e){for(var t=e.firstChild;t;t=t.nextSibling){if(t.nodeType==Node.ELEMENT_NODE){return this.readFromNode(t)}}return null};ol.format.WMTSCapabilities.prototype.readFromNode=function(e){var t=e.getAttribute("version").trim();var o=this.owsParser_.readFromNode(e);if(!o){return null}o["version"]=t;o=ol.xml.pushParseAndPop(o,ol.format.WMTSCapabilities.PARSERS_,e,[]);return o?o:null};ol.format.WMTSCapabilities.readContents_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.CONTENTS_PARSERS_,e,t)};ol.format.WMTSCapabilities.readLayer_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.LAYER_PARSERS_,e,t)};ol.format.WMTSCapabilities.readTileMatrixSet_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_PARSERS_,e,t)};ol.format.WMTSCapabilities.readStyle_=function(e,t){var o=ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.STYLE_PARSERS_,e,t);if(!o){return undefined}var r=e.getAttribute("isDefault")==="true";o["isDefault"]=r;return o};ol.format.WMTSCapabilities.readTileMatrixSetLink_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_,e,t)};ol.format.WMTSCapabilities.readDimensions_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.DIMENSION_PARSERS_,e,t)};ol.format.WMTSCapabilities.readResourceUrl_=function(e,t){var o=e.getAttribute("format");var r=e.getAttribute("template");var i=e.getAttribute("resourceType");var n={};if(o){n["format"]=o}if(r){n["template"]=r}if(i){n["resourceType"]=i}return n};ol.format.WMTSCapabilities.readWgs84BoundingBox_=function(e,t){var o=ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.WGS84_BBOX_READERS_,e,t);if(o.length!=2){return undefined}return ol.extent.boundingExtent(o)};ol.format.WMTSCapabilities.readLegendUrl_=function(e,t){var o={};o["format"]=e.getAttribute("format");o["href"]=ol.format.XLink.readHref(e);return o};ol.format.WMTSCapabilities.readCoordinates_=function(e,t){var o=ol.format.XSD.readString(e).split(" ");if(!o||o.length!=2){return undefined}var r=+o[0];var i=+o[1];if(isNaN(r)||isNaN(i)){return undefined}return[r,i]};ol.format.WMTSCapabilities.readTileMatrix_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TM_PARSERS_,e,t)};ol.format.WMTSCapabilities.readTileMatrixLimitsList_=function(e,t){return ol.xml.pushParseAndPop([],ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_,e,t)};ol.format.WMTSCapabilities.readTileMatrixLimits_=function(e,t){return ol.xml.pushParseAndPop({},ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_,e,t)};ol.format.WMTSCapabilities.NAMESPACE_URIS_=[null,"http://www.opengis.net/wmts/1.0"];ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_=[null,"http://www.opengis.net/ows/1.1"];ol.format.WMTSCapabilities.PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Contents:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readContents_)});ol.format.WMTSCapabilities.CONTENTS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Layer:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLayer_),TileMatrixSet:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSet_)});ol.format.WMTSCapabilities.LAYER_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Style:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readStyle_),Format:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString),TileMatrixSetLink:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrixSetLink_),Dimension:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readDimensions_),ResourceURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readResourceUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Abstract:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),WGS84BoundingBox:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readWgs84BoundingBox_),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.STYLE_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{LegendURL:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readLegendUrl_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Title:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TMS_LINKS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrixSetLimits:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readTileMatrixLimitsList_)});ol.format.WMTSCapabilities.TMS_LIMITS_LIST_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrixLimits:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readTileMatrixLimits_)});ol.format.WMTSCapabilities.TMS_LIMITS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TileMatrix:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),MinTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileRow:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MinTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MaxTileCol:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)});ol.format.WMTSCapabilities.DIMENSION_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{Default:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Value:ol.xml.makeObjectPropertyPusher(ol.format.XSD.readString)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.WGS84_BBOX_READERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{LowerCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_),UpperCorner:ol.xml.makeArrayPusher(ol.format.WMTSCapabilities.readCoordinates_)});ol.format.WMTSCapabilities.TMS_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{WellKnownScaleSet:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),TileMatrix:ol.xml.makeObjectPropertyPusher(ol.format.WMTSCapabilities.readTileMatrix_)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{SupportedCRS:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString),Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));ol.format.WMTSCapabilities.TM_PARSERS_=ol.xml.makeStructureNS(ol.format.WMTSCapabilities.NAMESPACE_URIS_,{TopLeftCorner:ol.xml.makeObjectPropertySetter(ol.format.WMTSCapabilities.readCoordinates_),ScaleDenominator:ol.xml.makeObjectPropertySetter(ol.format.XSD.readDecimal),TileWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),TileHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixWidth:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger),MatrixHeight:ol.xml.makeObjectPropertySetter(ol.format.XSD.readNonNegativeInteger)},ol.xml.makeStructureNS(ol.format.WMTSCapabilities.OWS_NAMESPACE_URIS_,{Identifier:ol.xml.makeObjectPropertySetter(ol.format.XSD.readString)}));goog.provide("ol.GeolocationProperty");ol.GeolocationProperty={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"};goog.provide("ol.Geolocation");goog.require("ol");goog.require("ol.Object");goog.require("ol.GeolocationProperty");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.geom.Polygon");goog.require("ol.has");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.sphere.WGS84");ol.Geolocation=function(e){ol.Object.call(this);var t=e||{};this.position_=null;this.transform_=ol.proj.identityTransform;this.watchId_=undefined;ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.PROJECTION),this.handleProjectionChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.GeolocationProperty.TRACKING),this.handleTrackingChanged_,this);if(t.projection!==undefined){this.setProjection(ol.proj.get(t.projection))}if(t.trackingOptions!==undefined){this.setTrackingOptions(t.trackingOptions)}this.setTracking(t.tracking!==undefined?t.tracking:false)};ol.inherits(ol.Geolocation,ol.Object);ol.Geolocation.prototype.disposeInternal=function(){this.setTracking(false);ol.Object.prototype.disposeInternal.call(this)};ol.Geolocation.prototype.handleProjectionChanged_=function(){var e=this.getProjection();if(e){this.transform_=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),e);if(this.position_){this.set(ol.GeolocationProperty.POSITION,this.transform_(this.position_))}}};ol.Geolocation.prototype.handleTrackingChanged_=function(){if(ol.has.GEOLOCATION){var e=this.getTracking();if(e&&this.watchId_===undefined){this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions())}else if(!e&&this.watchId_!==undefined){navigator.geolocation.clearWatch(this.watchId_);this.watchId_=undefined}}};ol.Geolocation.prototype.positionChange_=function(e){var t=e.coords;this.set(ol.GeolocationProperty.ACCURACY,t.accuracy);this.set(ol.GeolocationProperty.ALTITUDE,t.altitude===null?undefined:t.altitude);this.set(ol.GeolocationProperty.ALTITUDE_ACCURACY,t.altitudeAccuracy===null?undefined:t.altitudeAccuracy);this.set(ol.GeolocationProperty.HEADING,t.heading===null?undefined:ol.math.toRadians(t.heading));if(!this.position_){this.position_=[t.longitude,t.latitude]}else{this.position_[0]=t.longitude;this.position_[1]=t.latitude}var o=this.transform_(this.position_);this.set(ol.GeolocationProperty.POSITION,o);this.set(ol.GeolocationProperty.SPEED,t.speed===null?undefined:t.speed);var r=ol.geom.Polygon.circular(ol.sphere.WGS84,this.position_,t.accuracy);r.applyTransform(this.transform_);this.set(ol.GeolocationProperty.ACCURACY_GEOMETRY,r);this.changed()};ol.Geolocation.prototype.positionError_=function(e){e.type=ol.events.EventType.ERROR;this.setTracking(false);this.dispatchEvent(e)};ol.Geolocation.prototype.getAccuracy=function(){return this.get(ol.GeolocationProperty.ACCURACY)};ol.Geolocation.prototype.getAccuracyGeometry=function(){return this.get(ol.GeolocationProperty.ACCURACY_GEOMETRY)||null};ol.Geolocation.prototype.getAltitude=function(){return this.get(ol.GeolocationProperty.ALTITUDE)};ol.Geolocation.prototype.getAltitudeAccuracy=function(){return this.get(ol.GeolocationProperty.ALTITUDE_ACCURACY)};ol.Geolocation.prototype.getHeading=function(){return this.get(ol.GeolocationProperty.HEADING)};ol.Geolocation.prototype.getPosition=function(){return this.get(ol.GeolocationProperty.POSITION)};ol.Geolocation.prototype.getProjection=function(){return this.get(ol.GeolocationProperty.PROJECTION)};ol.Geolocation.prototype.getSpeed=function(){return this.get(ol.GeolocationProperty.SPEED)};ol.Geolocation.prototype.getTracking=function(){return this.get(ol.GeolocationProperty.TRACKING)};ol.Geolocation.prototype.getTrackingOptions=function(){return this.get(ol.GeolocationProperty.TRACKING_OPTIONS)};ol.Geolocation.prototype.setProjection=function(e){this.set(ol.GeolocationProperty.PROJECTION,e)};ol.Geolocation.prototype.setTracking=function(e){this.set(ol.GeolocationProperty.TRACKING,e)};ol.Geolocation.prototype.setTrackingOptions=function(e){this.set(ol.GeolocationProperty.TRACKING_OPTIONS,e)};goog.provide("ol.geom.Circle");goog.require("ol");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.GeometryType");goog.require("ol.geom.SimpleGeometry");
goog.require("ol.geom.flat.deflate");ol.geom.Circle=function(e,t,o){ol.geom.SimpleGeometry.call(this);var r=t?t:0;this.setCenterAndRadius(e,r,o)};ol.inherits(ol.geom.Circle,ol.geom.SimpleGeometry);ol.geom.Circle.prototype.clone=function(){var e=new ol.geom.Circle(null);e.setFlatCoordinates(this.layout,this.flatCoordinates.slice());return e};ol.geom.Circle.prototype.closestPointXY=function(e,t,o,r){var i=this.flatCoordinates;var n=e-i[0];var a=t-i[1];var l=n*n+a*a;if(l<r){var s;if(l===0){for(s=0;s<this.stride;++s){o[s]=i[s]}}else{var p=this.getRadius()/Math.sqrt(l);o[0]=i[0]+p*n;o[1]=i[1]+p*a;for(s=2;s<this.stride;++s){o[s]=i[s]}}o.length=this.stride;return l}else{return r}};ol.geom.Circle.prototype.containsXY=function(e,t){var o=this.flatCoordinates;var r=e-o[0];var i=t-o[1];return r*r+i*i<=this.getRadiusSquared_()};ol.geom.Circle.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)};ol.geom.Circle.prototype.computeExtent=function(e){var t=this.flatCoordinates;var o=t[this.stride]-t[0];return ol.extent.createOrUpdate(t[0]-o,t[1]-o,t[0]+o,t[1]+o,e)};ol.geom.Circle.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())};ol.geom.Circle.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0];var t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t};ol.geom.Circle.prototype.getType=function(){return ol.geom.GeometryType.CIRCLE};ol.geom.Circle.prototype.intersectsExtent=function(e){var t=this.getExtent();if(ol.extent.intersects(e,t)){var o=this.getCenter();if(e[0]<=o[0]&&e[2]>=o[0]){return true}if(e[1]<=o[1]&&e[3]>=o[1]){return true}return ol.extent.forEachCorner(e,this.intersectsCoordinate,this)}return false};ol.geom.Circle.prototype.setCenter=function(e){var t=this.stride;var o=this.flatCoordinates[t]-this.flatCoordinates[0];var r=e.slice();r[t]=r[0]+o;var i;for(i=1;i<t;++i){r[t+i]=e[i]}this.setFlatCoordinates(this.layout,r)};ol.geom.Circle.prototype.setCenterAndRadius=function(e,t,o){if(!e){this.setFlatCoordinates(ol.geom.GeometryLayout.XY,null)}else{this.setLayout(o,e,0);if(!this.flatCoordinates){this.flatCoordinates=[]}var r=this.flatCoordinates;var i=ol.geom.flat.deflate.coordinate(r,0,e,this.stride);r[i++]=r[0]+t;var n,a;for(n=1,a=this.stride;n<a;++n){r[i++]=r[n]}r.length=i;this.changed()}};ol.geom.Circle.prototype.getCoordinates=function(){};ol.geom.Circle.prototype.setCoordinates=function(e,t){};ol.geom.Circle.prototype.setFlatCoordinates=function(e,t){this.setFlatCoordinatesInternal(e,t);this.changed()};ol.geom.Circle.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e;this.changed()};ol.geom.Circle.prototype.transform;goog.provide("ol.geom.flat.geodesic");goog.require("ol.math");goog.require("ol.proj");ol.geom.flat.geodesic.line_=function(e,t,o){var r=[];var i=e(0);var n=e(1);var a=t(i);var l=t(n);var s=[n,i];var p=[l,a];var u=[1,0];var c={};var g=1e5;var h,f,d,y,m,v;while(--g>0&&u.length>0){d=u.pop();i=s.pop();a=p.pop();v=d.toString();if(!(v in c)){r.push(a[0],a[1]);c[v]=true}y=u.pop();n=s.pop();l=p.pop();m=(d+y)/2;h=e(m);f=t(h);if(ol.math.squaredSegmentDistance(f[0],f[1],a[0],a[1],l[0],l[1])<o){r.push(l[0],l[1]);v=y.toString();c[v]=true}else{u.push(y,m,m,d);p.push(l,f,f,a);s.push(n,h,h,i)}}return r};ol.geom.flat.geodesic.greatCircleArc=function(e,t,o,r,i,n){var a=ol.proj.get("EPSG:4326");var l=Math.cos(ol.math.toRadians(t));var s=Math.sin(ol.math.toRadians(t));var p=Math.cos(ol.math.toRadians(r));var u=Math.sin(ol.math.toRadians(r));var c=Math.cos(ol.math.toRadians(o-e));var g=Math.sin(ol.math.toRadians(o-e));var h=s*u+l*p*c;return ol.geom.flat.geodesic.line_(function(t){if(1<=h){return[o,r]}var i=t*Math.acos(h);var n=Math.cos(i);var a=Math.sin(i);var f=g*p;var d=l*u-s*p*c;var y=Math.atan2(f,d);var m=Math.asin(s*n+l*a*Math.cos(y));var v=ol.math.toRadians(e)+Math.atan2(Math.sin(y)*a*l,n-s*Math.sin(m));return[ol.math.toDegrees(v),ol.math.toDegrees(m)]},ol.proj.getTransform(a,i),n)};ol.geom.flat.geodesic.meridian=function(e,t,o,r,i){var n=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[e,t+(o-t)*r]},ol.proj.getTransform(n,r),i)};ol.geom.flat.geodesic.parallel=function(e,t,o,r,i){var n=ol.proj.get("EPSG:4326");return ol.geom.flat.geodesic.line_(function(r){return[t+(o-t)*r,e]},ol.proj.getTransform(n,r),i)};goog.provide("ol.Graticule");goog.require("ol.extent");goog.require("ol.geom.GeometryLayout");goog.require("ol.geom.LineString");goog.require("ol.geom.flat.geodesic");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.render.EventType");goog.require("ol.style.Stroke");ol.Graticule=function(e){var t=e||{};this.map_=null;this.projection_=null;this.maxLat_=Infinity;this.maxLon_=Infinity;this.minLat_=-Infinity;this.minLon_=-Infinity;this.maxLatP_=Infinity;this.maxLonP_=Infinity;this.minLatP_=-Infinity;this.minLonP_=-Infinity;this.targetSize_=t.targetSize!==undefined?t.targetSize:100;this.maxLines_=t.maxLines!==undefined?t.maxLines:100;this.meridians_=[];this.parallels_=[];this.strokeStyle_=t.strokeStyle!==undefined?t.strokeStyle:ol.Graticule.DEFAULT_STROKE_STYLE_;this.fromLonLatTransform_=undefined;this.toLonLatTransform_=undefined;this.projectionCenterLonLat_=null;this.setMap(t.map!==undefined?t.map:null)};ol.Graticule.DEFAULT_STROKE_STYLE_=new ol.style.Stroke({color:"rgba(0,0,0,0.2)"});ol.Graticule.intervals_=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];ol.Graticule.prototype.addMeridian_=function(e,t,o,r,i,n){var a=this.getMeridian_(e,t,o,r,n);if(ol.extent.intersects(a.getExtent(),i)){this.meridians_[n++]=a}return n};ol.Graticule.prototype.addParallel_=function(e,t,o,r,i,n){var a=this.getParallel_(e,t,o,r,n);if(ol.extent.intersects(a.getExtent(),i)){this.parallels_[n++]=a}return n};ol.Graticule.prototype.createGraticule_=function(e,t,o,r){var i=this.getInterval_(o);if(i==-1){this.meridians_.length=this.parallels_.length=0;return}var n=this.toLonLatTransform_(t);var a=n[0];var l=n[1];var s=this.maxLines_;var p,u,c,g;var h=[Math.max(e[0],this.minLonP_),Math.max(e[1],this.minLatP_),Math.min(e[2],this.maxLonP_),Math.min(e[3],this.maxLatP_)];h=ol.proj.transformExtent(h,this.projection_,"EPSG:4326");var f=h[3];var d=h[2];var y=h[1];var m=h[0];a=Math.floor(a/i)*i;g=ol.math.clamp(a,this.minLon_,this.maxLon_);u=this.addMeridian_(g,y,f,r,e,0);p=0;while(g!=this.minLon_&&p++<s){g=Math.max(g-i,this.minLon_);u=this.addMeridian_(g,y,f,r,e,u)}g=ol.math.clamp(a,this.minLon_,this.maxLon_);p=0;while(g!=this.maxLon_&&p++<s){g=Math.min(g+i,this.maxLon_);u=this.addMeridian_(g,y,f,r,e,u)}this.meridians_.length=u;l=Math.floor(l/i)*i;c=ol.math.clamp(l,this.minLat_,this.maxLat_);u=this.addParallel_(c,m,d,r,e,0);p=0;while(c!=this.minLat_&&p++<s){c=Math.max(c-i,this.minLat_);u=this.addParallel_(c,m,d,r,e,u)}c=ol.math.clamp(l,this.minLat_,this.maxLat_);p=0;while(c!=this.maxLat_&&p++<s){c=Math.min(c+i,this.maxLat_);u=this.addParallel_(c,m,d,r,e,u)}this.parallels_.length=u};ol.Graticule.prototype.getInterval_=function(e){var t=this.projectionCenterLonLat_[0];var o=this.projectionCenterLonLat_[1];var r=-1;var i,n,a,l;var s=Math.pow(this.targetSize_*e,2);var p=[];var u=[];for(i=0,n=ol.Graticule.intervals_.length;i<n;++i){a=ol.Graticule.intervals_[i]/2;p[0]=t-a;p[1]=o-a;u[0]=t+a;u[1]=o+a;this.fromLonLatTransform_(p,p);this.fromLonLatTransform_(u,u);l=Math.pow(u[0]-p[0],2)+Math.pow(u[1]-p[1],2);if(l<=s){break}r=ol.Graticule.intervals_[i]}return r};ol.Graticule.prototype.getMap=function(){return this.map_};ol.Graticule.prototype.getMeridian_=function(e,t,o,r,i){var n=ol.geom.flat.geodesic.meridian(e,t,o,this.projection_,r);var a=this.meridians_[i]!==undefined?this.meridians_[i]:new ol.geom.LineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,n);return a};ol.Graticule.prototype.getMeridians=function(){return this.meridians_};ol.Graticule.prototype.getParallel_=function(e,t,o,r,i){var n=ol.geom.flat.geodesic.parallel(e,this.minLon_,this.maxLon_,this.projection_,r);var a=this.parallels_[i]!==undefined?this.parallels_[i]:new ol.geom.LineString(null);a.setFlatCoordinates(ol.geom.GeometryLayout.XY,n);return a};ol.Graticule.prototype.getParallels=function(){return this.parallels_};ol.Graticule.prototype.handlePostCompose_=function(e){var t=e.vectorContext;var o=e.frameState;var r=o.extent;var i=o.viewState;var n=i.center;var a=i.projection;var l=i.resolution;var s=o.pixelRatio;var p=l*l/(4*s*s);var u=!this.projection_||!ol.proj.equivalent(this.projection_,a);if(u){this.updateProjectionInfo_(a)}var c=0;if(a.canWrapX()){var g=a.getExtent();var h=ol.extent.getWidth(g);var f=o.focus[0];if(f<g[0]||f>g[2]){var d=Math.ceil((g[0]-f)/h);c=h*d;r=[r[0]+c,r[1],r[2]+c,r[3]]}}this.createGraticule_(r,n,l,p);t.setFillStrokeStyle(null,this.strokeStyle_);var y,m,v;for(y=0,m=this.meridians_.length;y<m;++y){v=this.meridians_[y];t.drawLineString(v,null)}for(y=0,m=this.parallels_.length;y<m;++y){v=this.parallels_[y];t.drawLineString(v,null)}};ol.Graticule.prototype.updateProjectionInfo_=function(e){var t=ol.proj.get("EPSG:4326");var o=e.getExtent();var r=e.getWorldExtent();var i=ol.proj.transformExtent(r,t,e);var n=r[3];var a=r[2];var l=r[1];var s=r[0];var p=i[3];var u=i[2];var c=i[1];var g=i[0];this.maxLat_=n;this.maxLon_=a;this.minLat_=l;this.minLon_=s;this.maxLatP_=p;this.maxLonP_=u;this.minLatP_=c;this.minLonP_=g;this.fromLonLatTransform_=ol.proj.getTransform(t,e);this.toLonLatTransform_=ol.proj.getTransform(e,t);this.projectionCenterLonLat_=this.toLonLatTransform_(ol.extent.getCenter(o));this.projection_=e};ol.Graticule.prototype.setMap=function(e){if(this.map_){this.map_.un(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);this.map_.render()}if(e){e.on(ol.render.EventType.POSTCOMPOSE,this.handlePostCompose_,this);e.render()}this.map_=e};goog.provide("ol.ImageBase");goog.require("ol");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.ImageBase=function(e,t,o,r,i){ol.events.EventTarget.call(this);this.attributions_=i;this.extent=e;this.pixelRatio_=o;this.resolution=t;this.state=r};ol.inherits(ol.ImageBase,ol.events.EventTarget);ol.ImageBase.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.ImageBase.prototype.getAttributions=function(){return this.attributions_};ol.ImageBase.prototype.getExtent=function(){return this.extent};ol.ImageBase.prototype.getImage=function(e){};ol.ImageBase.prototype.getPixelRatio=function(){return this.pixelRatio_};ol.ImageBase.prototype.getResolution=function(){return this.resolution};ol.ImageBase.prototype.getState=function(){return this.state};ol.ImageBase.prototype.load=function(){};goog.provide("ol.Image");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");ol.Image=function(e,t,o,r,i,n,a){ol.ImageBase.call(this,e,t,o,ol.ImageState.IDLE,r);this.src_=i;this.image_=new Image;if(n!==null){this.image_.crossOrigin=n}this.imageByContext_={};this.imageListenerKeys_=null;this.state=ol.ImageState.IDLE;this.imageLoadFunction_=a};ol.inherits(ol.Image,ol.ImageBase);ol.Image.prototype.getImage=function(e){if(e!==undefined){var t;var o=ol.getUid(e);if(o in this.imageByContext_){return this.imageByContext_[o]}else if(ol.obj.isEmpty(this.imageByContext_)){t=this.image_}else{t=this.image_.cloneNode(false)}this.imageByContext_[o]=t;return t}else{return this.image_}};ol.Image.prototype.handleImageError_=function(){this.state=ol.ImageState.ERROR;this.unlistenImage_();this.changed()};ol.Image.prototype.handleImageLoad_=function(){if(this.resolution===undefined){this.resolution=ol.extent.getHeight(this.extent)/this.image_.height}this.state=ol.ImageState.LOADED;this.unlistenImage_();this.changed()};ol.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE||this.state==ol.ImageState.ERROR){this.state=ol.ImageState.LOADING;this.changed();this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.imageLoadFunction_(this,this.src_)}};ol.Image.prototype.setImage=function(e){this.image_=e};ol.Image.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.ImageCanvas");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");ol.ImageCanvas=function(e,t,o,r,i,n){this.loader_=n!==undefined?n:null;var a=n!==undefined?ol.ImageState.IDLE:ol.ImageState.LOADED;ol.ImageBase.call(this,e,t,o,a,r);this.canvas_=i;this.error_=null};ol.inherits(ol.ImageCanvas,ol.ImageBase);ol.ImageCanvas.prototype.getError=function(){return this.error_};ol.ImageCanvas.prototype.handleLoad_=function(e){if(e){this.error_=e;this.state=ol.ImageState.ERROR}else{this.state=ol.ImageState.LOADED}this.changed()};ol.ImageCanvas.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();this.loader_(this.handleLoad_.bind(this))}};ol.ImageCanvas.prototype.getImage=function(e){return this.canvas_};goog.provide("ol.Tile");goog.require("ol");goog.require("ol.TileState");goog.require("ol.events.EventTarget");goog.require("ol.events.EventType");ol.Tile=function(e,t){ol.events.EventTarget.call(this);this.tileCoord=e;this.state=t;this.interimTile=null;this.key=""};ol.inherits(ol.Tile,ol.events.EventTarget);ol.Tile.prototype.changed=function(){this.dispatchEvent(ol.events.EventType.CHANGE)};ol.Tile.prototype.getImage=function(){};ol.Tile.prototype.getKey=function(){return this.key+"/"+this.tileCoord};ol.Tile.prototype.getInterimTile=function(){if(!this.interimTile){return this}var e=this.interimTile;do{if(e.getState()==ol.TileState.LOADED){return e}e=e.interimTile}while(e);return this};ol.Tile.prototype.refreshInterimChain=function(){if(!this.interimTile){return}var e=this.interimTile;var t=this;do{if(e.getState()==ol.TileState.LOADED){e.interimTile=null;break}else if(e.getState()==ol.TileState.LOADING){t=e}else if(e.getState()==ol.TileState.IDLE){t.interimTile=e.interimTile}else{t=e}e=t.interimTile}while(e)};ol.Tile.prototype.getTileCoord=function(){return this.tileCoord};ol.Tile.prototype.getState=function(){return this.state};ol.Tile.prototype.load=function(){};goog.provide("ol.ImageTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");ol.ImageTile=function(e,t,o,r,i){ol.Tile.call(this,e,t);this.src_=o;this.image_=new Image;if(r!==null){this.image_.crossOrigin=r}this.imageListenerKeys_=null;this.tileLoadFunction_=i};ol.inherits(ol.ImageTile,ol.Tile);ol.ImageTile.prototype.disposeInternal=function(){if(this.state==ol.TileState.LOADING){this.unlistenImage_()}if(this.interimTile){this.interimTile.dispose()}this.state=ol.TileState.ABORT;this.changed();ol.Tile.prototype.disposeInternal.call(this)};ol.ImageTile.prototype.getImage=function(){return this.image_};ol.ImageTile.prototype.getKey=function(){return this.src_};ol.ImageTile.prototype.handleImageError_=function(){this.state=ol.TileState.ERROR;this.unlistenImage_();this.changed()};ol.ImageTile.prototype.handleImageLoad_=function(){if(this.image_.naturalWidth&&this.image_.naturalHeight){this.state=ol.TileState.LOADED}else{this.state=ol.TileState.EMPTY}this.unlistenImage_();this.changed()};ol.ImageTile.prototype.load=function(){if(this.state==ol.TileState.IDLE||this.state==ol.TileState.ERROR){this.state=ol.TileState.LOADING;this.changed();this.imageListenerKeys_=[ol.events.listenOnce(this.image_,ol.events.EventType.ERROR,this.handleImageError_,this),ol.events.listenOnce(this.image_,ol.events.EventType.LOAD,this.handleImageLoad_,this)];this.tileLoadFunction_(this,this.src_)}};ol.ImageTile.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(ol.events.unlistenByKey);this.imageListenerKeys_=null};goog.provide("ol.interaction.DragAndDrop");goog.require("ol");goog.require("ol.functions");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.interaction.Interaction");goog.require("ol.proj");ol.interaction.DragAndDrop=function(e){var t=e?e:{};ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.DragAndDrop.handleEvent});this.formatConstructors_=t.formatConstructors?t.formatConstructors:[];this.projection_=t.projection?ol.proj.get(t.projection):null;this.dropListenKeys_=null;this.target=t.target?t.target:null};ol.inherits(ol.interaction.DragAndDrop,ol.interaction.Interaction);ol.interaction.DragAndDrop.handleDrop_=function(e){var t=e.dataTransfer.files;var o,r,i;for(o=0,r=t.length;o<r;++o){i=t.item(o);var n=new FileReader;n.addEventListener(ol.events.EventType.LOAD,this.handleResult_.bind(this,i));n.readAsText(i)}};ol.interaction.DragAndDrop.handleStop_=function(e){e.stopPropagation();e.preventDefault();e.dataTransfer.dropEffect="copy"};ol.interaction.DragAndDrop.prototype.handleResult_=function(e,t){var o=t.target.result;var r=this.getMap();var i=this.projection_;if(!i){var n=r.getView();i=n.getProjection()}var a=this.formatConstructors_;var l=[];var s,p;for(s=0,p=a.length;s<p;++s){var u=a[s];var c=new u;l=this.tryReadFeatures_(c,o,{featureProjection:i});if(l&&l.length>0){break}}this.dispatchEvent(new ol.interaction.DragAndDrop.Event(ol.interaction.DragAndDrop.EventType_.ADD_FEATURES,e,l,i))};ol.interaction.DragAndDrop.handleEvent=ol.functions.TRUE;ol.interaction.DragAndDrop.prototype.setMap=function(e){if(this.dropListenKeys_){this.dropListenKeys_.forEach(ol.events.unlistenByKey);this.dropListenKeys_=null}ol.interaction.Interaction.prototype.setMap.call(this,e);if(e){var t=this.target?this.target:e.getViewport();this.dropListenKeys_=[ol.events.listen(t,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleDrop_,this),ol.events.listen(t,ol.events.EventType.DRAGENTER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(t,ol.events.EventType.DRAGOVER,ol.interaction.DragAndDrop.handleStop_,this),ol.events.listen(t,ol.events.EventType.DROP,ol.interaction.DragAndDrop.handleStop_,this)]}};ol.interaction.DragAndDrop.prototype.tryReadFeatures_=function(e,t,o){try{return e.readFeatures(t,o)}catch(r){return null}};ol.interaction.DragAndDrop.EventType_={ADD_FEATURES:"addfeatures"};ol.interaction.DragAndDrop.Event=function(e,t,o,r){ol.events.Event.call(this,e);this.features=o;this.file=t;this.projection=r};ol.inherits(ol.interaction.DragAndDrop.Event,ol.events.Event);goog.provide("ol.interaction.DragRotateAndZoom");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.events.condition");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.Pointer");ol.interaction.DragRotateAndZoom=function(e){var t=e?e:{};ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.DragRotateAndZoom.handleDownEvent_,handleDragEvent:ol.interaction.DragRotateAndZoom.handleDragEvent_,handleUpEvent:ol.interaction.DragRotateAndZoom.handleUpEvent_});this.condition_=t.condition?t.condition:ol.events.condition.shiftKeyOnly;this.lastAngle_=undefined;this.lastMagnitude_=undefined;this.lastScaleDelta_=0;this.duration_=t.duration!==undefined?t.duration:400};ol.inherits(ol.interaction.DragRotateAndZoom,ol.interaction.Pointer);ol.interaction.DragRotateAndZoom.handleDragEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return}var t=e.map;var o=t.getSize();var r=e.pixel;var i=r[0]-o[0]/2;var n=o[1]/2-r[1];var a=Math.atan2(n,i);var l=Math.sqrt(i*i+n*n);var s=t.getView();if(this.lastAngle_!==undefined){var p=a-this.lastAngle_;ol.interaction.Interaction.rotateWithoutConstraints(s,s.getRotation()-p)}this.lastAngle_=a;if(this.lastMagnitude_!==undefined){var u=this.lastMagnitude_*(s.getResolution()/l);ol.interaction.Interaction.zoomWithoutConstraints(s,u)}if(this.lastMagnitude_!==undefined){this.lastScaleDelta_=this.lastMagnitude_/l}this.lastMagnitude_=l};ol.interaction.DragRotateAndZoom.handleUpEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return true}var t=e.map;var o=t.getView();o.setHint(ol.ViewHint.INTERACTING,-1);var r=this.lastScaleDelta_-1;ol.interaction.Interaction.rotate(o,o.getRotation());ol.interaction.Interaction.zoom(o,o.getResolution(),undefined,this.duration_,r);this.lastScaleDelta_=0;return false};ol.interaction.DragRotateAndZoom.handleDownEvent_=function(e){if(!ol.events.condition.mouseOnly(e)){return false}if(this.condition_(e)){e.map.getView().setHint(ol.ViewHint.INTERACTING,1);this.lastAngle_=undefined;this.lastMagnitude_=undefined;return true}else{return false}};goog.provide("ol.interaction.DrawEventType");ol.interaction.DrawEventType={DRAWSTART:"drawstart",DRAWEND:"drawend"};goog.provide("ol.render.canvas.Instruction");ol.render.canvas.Instruction={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,DRAW_IMAGE:4,DRAW_TEXT:5,END_GEOMETRY:6,FILL:7,MOVE_TO_LINE_TO:8,SET_FILL_STYLE:9,SET_STROKE_STYLE:10,SET_TEXT_STYLE:11,STROKE:12};goog.provide("ol.render.canvas.Replay");goog.require("ol");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.extent.Relationship");goog.require("ol.geom.flat.transform");goog.require("ol.has");goog.require("ol.obj");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas.Instruction");goog.require("ol.transform");ol.render.canvas.Replay=function(e,t,o,r){ol.render.VectorContext.call(this);this.tolerance=e;this.maxExtent=t;this.overlaps=r;this.maxLineWidth=0;this.resolution=o;this.fillOrigin_;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_=null;this.instructions=[];this.coordinates=[];this.renderedTransform_=ol.transform.create();this.hitDetectionInstructions=[];this.pixelCoordinates_=null;this.tmpLocalTransform_=ol.transform.create();this.resetTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.Replay,ol.render.VectorContext);ol.render.canvas.Replay.prototype.appendFlatCoordinates=function(e,t,o,r,i,n){var a=this.coordinates.length;var l=this.getBufferedMaxExtent();if(n){t+=r}var s=[e[t],e[t+1]];var p=[NaN,NaN];var u=true;var c,g,h;for(c=t+r;c<o;c+=r){p[0]=e[c];p[1]=e[c+1];h=ol.extent.coordinateRelationship(l,p);if(h!==g){if(u){this.coordinates[a++]=s[0];this.coordinates[a++]=s[1]}this.coordinates[a++]=p[0];this.coordinates[a++]=p[1];u=false}else if(h===ol.extent.Relationship.INTERSECTING){this.coordinates[a++]=p[0];this.coordinates[a++]=p[1];u=false}else{u=true}s[0]=p[0];s[1]=p[1];g=h}if(i&&u||c===t+r){this.coordinates[a++]=s[0];this.coordinates[a++]=s[1]}return a};ol.render.canvas.Replay.prototype.beginGeometry=function(e,t){this.beginGeometryInstruction1_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,t,0];this.instructions.push(this.beginGeometryInstruction1_);this.beginGeometryInstruction2_=[ol.render.canvas.Instruction.BEGIN_GEOMETRY,t,0];this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)};ol.render.canvas.Replay.prototype.fill_=function(e,t){if(this.fillOrigin_){var o=ol.transform.apply(this.renderedTransform_,this.fillOrigin_.slice());e.translate(o[0],o[1]);e.rotate(t)}e.fill();if(this.fillOrigin_){e.setTransform.apply(e,this.resetTransform_)}};ol.render.canvas.Replay.prototype.replay_=function(e,t,o,r,i,n,a,l){var s;if(this.pixelCoordinates_&&ol.array.equals(o,this.renderedTransform_)){s=this.pixelCoordinates_}else{if(!this.pixelCoordinates_){this.pixelCoordinates_=[]}s=ol.geom.flat.transform.transform2D(this.coordinates,0,this.coordinates.length,2,o,this.pixelCoordinates_);ol.transform.setFromArray(this.renderedTransform_,o)}var p=!ol.obj.isEmpty(i);var u=0;var c=n.length;var g=0;var h;var f=this.tmpLocalTransform_;var d=this.resetTransform_;var y,m,v,_;var x=0;var S=0;var P=this.instructions!=n||this.overlaps?0:200;while(u<c){var E=n[u];var T=E[0];var b,M,C,R,w,L;switch(T){case ol.render.canvas.Instruction.BEGIN_GEOMETRY:b=E[1];if(p&&i[ol.getUid(b).toString()]||!b.getGeometry()){u=E[2]}else if(l!==undefined&&!ol.extent.intersects(l,b.getGeometry().getExtent())){u=E[2]+1}else{++u}break;case ol.render.canvas.Instruction.BEGIN_PATH:if(x>P){this.fill_(e,r);x=0}if(S>P){e.stroke();S=0}if(!x&&!S){e.beginPath();y=m=NaN}++u;break;case ol.render.canvas.Instruction.CIRCLE:g=E[1];var I=s[g];var A=s[g+1];var O=s[g+2];var N=s[g+3];var F=O-I;var G=N-A;var D=Math.sqrt(F*F+G*G);e.moveTo(I+D,A);e.arc(I,A,D,0,2*Math.PI,true);++u;break;case ol.render.canvas.Instruction.CLOSE_PATH:e.closePath();++u;break;case ol.render.canvas.Instruction.DRAW_IMAGE:g=E[1];h=E[2];var k=E[3];var q=E[4]*t;var j=E[5]*t;var W=E[6];var U=E[7];var B=E[8];var V=E[9];var K=E[10];var X=E[11];var Y=E[12];var z=E[13];var H=E[14];if(K){X+=r}for(;g<h;g+=2){w=s[g]-q;L=s[g+1]-j;if(z){w=Math.round(w);L=Math.round(L)}if(Y!=1||X!==0){var Z=w+q;var J=L+j;ol.transform.compose(f,Z,J,Y,Y,X,-Z,-J);e.setTransform.apply(e,f)}var $=e.globalAlpha;if(U!=1){e.globalAlpha=$*U}var Q=H+B>k.width?k.width-B:H;var ee=W+V>k.height?k.height-V:W;e.drawImage(k,B,V,Q,ee,w,L,Q*t,ee*t);if(U!=1){e.globalAlpha=$}if(Y!=1||X!==0){e.setTransform.apply(e,d)}}++u;break;case ol.render.canvas.Instruction.DRAW_TEXT:g=E[1];h=E[2];R=E[3];var te=E[4]*t;var oe=E[5]*t;X=E[6];Y=E[7]*t;M=E[8];C=E[9];K=E[10];if(K){X+=r}for(;g<h;g+=2){w=s[g]+te;L=s[g+1]+oe;if(Y!=1||X!==0){ol.transform.compose(f,w,L,Y,Y,X,-w,-L);e.setTransform.apply(e,f)}var re=R.split("\n");var ie=re.length;var ne,ae;if(ie>1){ne=Math.round(e.measureText("M").width*1.5);ae=L-(ie-1)/2*ne}else{ne=0;ae=L}for(var le=0;le<ie;le++){var se=re[le];if(C){e.strokeText(se,w,ae)}if(M){e.fillText(se,w,ae)}ae=ae+ne}if(Y!=1||X!==0){e.setTransform.apply(e,d)}}++u;break;case ol.render.canvas.Instruction.END_GEOMETRY:if(a!==undefined){b=E[1];var pe=a(b);if(pe){return pe}}++u;break;case ol.render.canvas.Instruction.FILL:if(P){x++}else{this.fill_(e,r)}++u;break;case ol.render.canvas.Instruction.MOVE_TO_LINE_TO:g=E[1];h=E[2];w=s[g];L=s[g+1];v=w+.5|0;_=L+.5|0;if(v!==y||_!==m){e.moveTo(w,L);y=v;m=_}for(g+=2;g<h;g+=2){w=s[g];L=s[g+1];v=w+.5|0;_=L+.5|0;if(g==h-2||v!==y||_!==m){e.lineTo(w,L);y=v;m=_}}++u;break;case ol.render.canvas.Instruction.SET_FILL_STYLE:this.fillOrigin_=E[2];if(x){this.fill_(e,r);x=0;if(S){e.stroke();S=0}}e.fillStyle=E[1];++u;break;case ol.render.canvas.Instruction.SET_STROKE_STYLE:var ue=E[8]!==undefined?E[8]:true;var ce=E[9];var ge=E[2];if(S){e.stroke();S=0}e.strokeStyle=E[1];e.lineWidth=ue?ge*t:ge;e.lineCap=E[3];e.lineJoin=E[4];e.miterLimit=E[5];if(ol.has.CANVAS_LINE_DASH){var he=E[6];var fe=E[7];if(ue&&t!==ce){he=he.map(function(e){return e*t/ce});fe*=t/ce;E[6]=he;E[7]=fe;E[9]=t}e.lineDashOffset=fe;e.setLineDash(he)}++u;break;case ol.render.canvas.Instruction.SET_TEXT_STYLE:e.font=E[1];e.textAlign=E[2];e.textBaseline=E[3];++u;break;case ol.render.canvas.Instruction.STROKE:if(P){S++}else{e.stroke()}++u;break;default:++u;break}}if(x){this.fill_(e,r)}if(S){e.stroke()}return undefined};ol.render.canvas.Replay.prototype.replay=function(e,t,o,r,i){var n=this.instructions;this.replay_(e,t,o,r,i,n,undefined,undefined)};ol.render.canvas.Replay.prototype.replayHitDetection=function(e,t,o,r,i,n){var a=this.hitDetectionInstructions;return this.replay_(e,1,t,o,r,a,i,n)};ol.render.canvas.Replay.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var t;var o=e.length;var r;var i;var n=-1;for(t=0;t<o;++t){r=e[t];i=r[0];if(i==ol.render.canvas.Instruction.END_GEOMETRY){n=t}else if(i==ol.render.canvas.Instruction.BEGIN_GEOMETRY){r[2]=t;ol.array.reverseSubArray(this.hitDetectionInstructions,n,t);n=-1}}};ol.render.canvas.Replay.prototype.endGeometry=function(e,t){this.beginGeometryInstruction1_[2]=this.instructions.length;this.beginGeometryInstruction1_=null;this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length;this.beginGeometryInstruction2_=null;var o=[ol.render.canvas.Instruction.END_GEOMETRY,t];this.instructions.push(o);this.hitDetectionInstructions.push(o)};ol.render.canvas.Replay.prototype.finish=ol.nullFunction;ol.render.canvas.Replay.prototype.getBufferedMaxExtent=function(){return this.maxExtent};goog.provide("ol.render.canvas.ImageReplay");goog.require("ol");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.ImageReplay=function(e,t,o,r){ol.render.canvas.Replay.call(this,e,t,o,r);this.hitDetectionImage_=null;this.image_=null;this.anchorX_=undefined;this.anchorY_=undefined;this.height_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.scale_=undefined;this.snapToPixel_=undefined;this.width_=undefined};ol.inherits(ol.render.canvas.ImageReplay,ol.render.canvas.Replay);ol.render.canvas.ImageReplay.prototype.drawCoordinates_=function(e,t,o,r){return this.appendFlatCoordinates(e,t,o,r,false,false)};ol.render.canvas.ImageReplay.prototype.drawPoint=function(e,t){if(!this.image_){return}this.beginGeometry(e,t);var o=e.getFlatCoordinates();var r=e.getStride();var i=this.coordinates.length;var n=this.drawCoordinates_(o,0,o.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(e,t)};ol.render.canvas.ImageReplay.prototype.drawMultiPoint=function(e,t){if(!this.image_){return}this.beginGeometry(e,t);var o=e.getFlatCoordinates();var r=e.getStride();var i=this.coordinates.length;var n=this.drawCoordinates_(o,0,o.length,r);this.instructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.image_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.DRAW_IMAGE,i,n,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.snapToPixel_,this.width_]);this.endGeometry(e,t)};ol.render.canvas.ImageReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.anchorX_=undefined;this.anchorY_=undefined;this.hitDetectionImage_=null;this.image_=null;this.height_=undefined;this.scale_=undefined;this.opacity_=undefined;this.originX_=undefined;this.originY_=undefined;this.rotateWithView_=undefined;this.rotation_=undefined;this.snapToPixel_=undefined;this.width_=undefined};ol.render.canvas.ImageReplay.prototype.setImageStyle=function(e){var t=e.getAnchor();var o=e.getSize();var r=e.getHitDetectionImage(1);var i=e.getImage(1);var n=e.getOrigin();this.anchorX_=t[0];this.anchorY_=t[1];this.hitDetectionImage_=r;this.image_=i;this.height_=o[1];this.opacity_=e.getOpacity();this.originX_=n[0];this.originY_=n[1];this.rotateWithView_=e.getRotateWithView();this.rotation_=e.getRotation();this.scale_=e.getScale();this.snapToPixel_=e.getSnapToPixel();this.width_=o[0]};goog.provide("ol.render.canvas.LineStringReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.colorlike");goog.require("ol.extent");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.LineStringReplay=function(e,t,o,r){ol.render.canvas.Replay.call(this,e,t,o,r);this.bufferedMaxExtent_=null;this.state_={currentStrokeStyle:undefined,currentLineCap:undefined,currentLineDash:null,currentLineDashOffset:undefined,currentLineJoin:undefined,currentLineWidth:undefined,currentMiterLimit:undefined,lastStroke:0,strokeStyle:undefined,lineCap:undefined,lineDash:null,lineDashOffset:undefined,lineJoin:undefined,lineWidth:undefined,miterLimit:undefined}};ol.inherits(ol.render.canvas.LineStringReplay,ol.render.canvas.Replay);
ol.render.canvas.LineStringReplay.prototype.drawFlatCoordinates_=function(e,t,o,r){var i=this.coordinates.length;var n=this.appendFlatCoordinates(e,t,o,r,false,false);var a=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,i,n];this.instructions.push(a);this.hitDetectionInstructions.push(a);return o};ol.render.canvas.LineStringReplay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_){this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent);if(this.maxLineWidth>0){var e=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}}return this.bufferedMaxExtent_};ol.render.canvas.LineStringReplay.prototype.setStrokeStyle_=function(){var e=this.state_;var t=e.strokeStyle;var o=e.lineCap;var r=e.lineDash;var i=e.lineDashOffset;var n=e.lineJoin;var a=e.lineWidth;var l=e.miterLimit;if(e.currentStrokeStyle!=t||e.currentLineCap!=o||!ol.array.equals(e.currentLineDash,r)||e.currentLineDashOffset!=i||e.currentLineJoin!=n||e.currentLineWidth!=a||e.currentMiterLimit!=l){if(e.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE]);e.lastStroke=this.coordinates.length}this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,t,a,o,n,l,r,i,true,1],[ol.render.canvas.Instruction.BEGIN_PATH]);e.currentStrokeStyle=t;e.currentLineCap=o;e.currentLineDash=r;e.currentLineDashOffset=i;e.currentLineJoin=n;e.currentLineWidth=a;e.currentMiterLimit=l}};ol.render.canvas.LineStringReplay.prototype.drawLineString=function(e,t){var o=this.state_;var r=o.strokeStyle;var i=o.lineWidth;if(r===undefined||i===undefined){return}this.setStrokeStyle_();this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,true,1],[ol.render.canvas.Instruction.BEGIN_PATH]);var n=e.getFlatCoordinates();var a=e.getStride();this.drawFlatCoordinates_(n,0,n.length,a);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(e,t)};ol.render.canvas.LineStringReplay.prototype.drawMultiLineString=function(e,t){var o=this.state_;var r=o.strokeStyle;var i=o.lineWidth;if(r===undefined||i===undefined){return}this.setStrokeStyle_();this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,true,1],[ol.render.canvas.Instruction.BEGIN_PATH]);var n=e.getEnds();var a=e.getFlatCoordinates();var l=e.getStride();var s=0;var p,u;for(p=0,u=n.length;p<u;++p){s=this.drawFlatCoordinates_(a,s,n[p],l)}this.hitDetectionInstructions.push([ol.render.canvas.Instruction.STROKE]);this.endGeometry(e,t)};ol.render.canvas.LineStringReplay.prototype.finish=function(){var e=this.state_;if(e.lastStroke!=this.coordinates.length){this.instructions.push([ol.render.canvas.Instruction.STROKE])}this.reverseHitDetectionInstructions();this.state_=null};ol.render.canvas.LineStringReplay.prototype.setFillStrokeStyle=function(e,t){var o=t.getColor();this.state_.strokeStyle=ol.colorlike.asColorLike(o?o:ol.render.canvas.defaultStrokeStyle);var r=t.getLineCap();this.state_.lineCap=r!==undefined?r:ol.render.canvas.defaultLineCap;var i=t.getLineDash();this.state_.lineDash=i?i:ol.render.canvas.defaultLineDash;var n=t.getLineDashOffset();this.state_.lineDashOffset=n?n:ol.render.canvas.defaultLineDashOffset;var a=t.getLineJoin();this.state_.lineJoin=a!==undefined?a:ol.render.canvas.defaultLineJoin;var l=t.getWidth();this.state_.lineWidth=l!==undefined?l:ol.render.canvas.defaultLineWidth;var s=t.getMiterLimit();this.state_.miterLimit=s!==undefined?s:ol.render.canvas.defaultMiterLimit;if(this.state_.lineWidth>this.maxLineWidth){this.maxLineWidth=this.state_.lineWidth;this.bufferedMaxExtent_=null}};goog.provide("ol.render.canvas.PolygonReplay");goog.require("ol");goog.require("ol.array");goog.require("ol.color");goog.require("ol.colorlike");goog.require("ol.extent");goog.require("ol.geom.flat.simplify");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.PolygonReplay=function(e,t,o,r){ol.render.canvas.Replay.call(this,e,t,o,r);this.bufferedMaxExtent_=null;this.state_={currentFillStyle:undefined,currentStrokeStyle:undefined,currentLineCap:undefined,currentLineDash:null,currentLineDashOffset:undefined,currentLineJoin:undefined,currentLineWidth:undefined,currentMiterLimit:undefined,fillStyle:undefined,strokeStyle:undefined,lineCap:undefined,lineDash:null,lineDashOffset:undefined,lineJoin:undefined,lineWidth:undefined,miterLimit:undefined}};ol.inherits(ol.render.canvas.PolygonReplay,ol.render.canvas.Replay);ol.render.canvas.PolygonReplay.prototype.drawFlatCoordinatess_=function(e,t,o,r){var i=this.state_;var n=i.fillStyle!==undefined;var a=i.strokeStyle!=undefined;var l=o.length;var s=[ol.render.canvas.Instruction.BEGIN_PATH];this.instructions.push(s);this.hitDetectionInstructions.push(s);for(var p=0;p<l;++p){var u=o[p];var c=this.coordinates.length;var g=this.appendFlatCoordinates(e,t,u,r,true,!a);var h=[ol.render.canvas.Instruction.MOVE_TO_LINE_TO,c,g];this.instructions.push(h);this.hitDetectionInstructions.push(h);if(a){var f=[ol.render.canvas.Instruction.CLOSE_PATH];this.instructions.push(f);this.hitDetectionInstructions.push(f)}t=u}var d=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(d);if(n){this.instructions.push(d)}if(a){var y=[ol.render.canvas.Instruction.STROKE];this.instructions.push(y);this.hitDetectionInstructions.push(y)}return t};ol.render.canvas.PolygonReplay.prototype.drawCircle=function(e,t){var o=this.state_;var r=o.fillStyle;var i=o.strokeStyle;if(r===undefined&&i===undefined){return}this.setFillStrokeStyles_(e);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(o.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,true,1])}var n=e.getFlatCoordinates();var a=e.getStride();var l=this.coordinates.length;this.appendFlatCoordinates(n,0,n.length,a,false,false);var s=[ol.render.canvas.Instruction.BEGIN_PATH];var p=[ol.render.canvas.Instruction.CIRCLE,l];this.instructions.push(s,p);this.hitDetectionInstructions.push(s,p);var u=[ol.render.canvas.Instruction.FILL];this.hitDetectionInstructions.push(u);if(o.fillStyle!==undefined){this.instructions.push(u)}if(o.strokeStyle!==undefined){var c=[ol.render.canvas.Instruction.STROKE];this.instructions.push(c);this.hitDetectionInstructions.push(c)}this.endGeometry(e,t)};ol.render.canvas.PolygonReplay.prototype.drawPolygon=function(e,t){var o=this.state_;this.setFillStrokeStyles_(e);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(o.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,true,1])}var r=e.getEnds();var i=e.getOrientedFlatCoordinates();var n=e.getStride();this.drawFlatCoordinatess_(i,0,r,n);this.endGeometry(e,t)};ol.render.canvas.PolygonReplay.prototype.drawMultiPolygon=function(e,t){var o=this.state_;var r=o.fillStyle;var i=o.strokeStyle;if(r===undefined&&i===undefined){return}this.setFillStrokeStyles_(e);this.beginGeometry(e,t);this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_FILL_STYLE,ol.color.asString(ol.render.canvas.defaultFillStyle)]);if(o.strokeStyle!==undefined){this.hitDetectionInstructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset,true,1])}var n=e.getEndss();var a=e.getOrientedFlatCoordinates();var l=e.getStride();var s=0;var p,u;for(p=0,u=n.length;p<u;++p){s=this.drawFlatCoordinatess_(a,s,n[p],l)}this.endGeometry(e,t)};ol.render.canvas.PolygonReplay.prototype.finish=function(){this.reverseHitDetectionInstructions();this.state_=null;var e=this.tolerance;if(e!==0){var t=this.coordinates;var o,r;for(o=0,r=t.length;o<r;++o){t[o]=ol.geom.flat.simplify.snap(t[o],e)}}};ol.render.canvas.PolygonReplay.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_){this.bufferedMaxExtent_=ol.extent.clone(this.maxExtent);if(this.maxLineWidth>0){var e=this.resolution*(this.maxLineWidth+1)/2;ol.extent.buffer(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}}return this.bufferedMaxExtent_};ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyle=function(e,t){var o=this.state_;if(e){var r=e.getColor();o.fillStyle=ol.colorlike.asColorLike(r?r:ol.render.canvas.defaultFillStyle)}else{o.fillStyle=undefined}if(t){var i=t.getColor();o.strokeStyle=ol.colorlike.asColorLike(i?i:ol.render.canvas.defaultStrokeStyle);var n=t.getLineCap();o.lineCap=n!==undefined?n:ol.render.canvas.defaultLineCap;var a=t.getLineDash();o.lineDash=a?a.slice():ol.render.canvas.defaultLineDash;var l=t.getLineDashOffset();o.lineDashOffset=l?l:ol.render.canvas.defaultLineDashOffset;var s=t.getLineJoin();o.lineJoin=s!==undefined?s:ol.render.canvas.defaultLineJoin;var p=t.getWidth();o.lineWidth=p!==undefined?p:ol.render.canvas.defaultLineWidth;var u=t.getMiterLimit();o.miterLimit=u!==undefined?u:ol.render.canvas.defaultMiterLimit;if(o.lineWidth>this.maxLineWidth){this.maxLineWidth=o.lineWidth;this.bufferedMaxExtent_=null}}else{o.strokeStyle=undefined;o.lineCap=undefined;o.lineDash=null;o.lineDashOffset=undefined;o.lineJoin=undefined;o.lineWidth=undefined;o.miterLimit=undefined}};ol.render.canvas.PolygonReplay.prototype.setFillStrokeStyles_=function(e){var t=this.state_;var o=t.fillStyle;var r=t.strokeStyle;var i=t.lineCap;var n=t.lineDash;var a=t.lineDashOffset;var l=t.lineJoin;var s=t.lineWidth;var p=t.miterLimit;if(o!==undefined&&(typeof o!=="string"||t.currentFillStyle!=o)){var u=[ol.render.canvas.Instruction.SET_FILL_STYLE,o];if(typeof o!=="string"){var c=e.getExtent();u.push([c[0],c[3]])}this.instructions.push(u);t.currentFillStyle=t.fillStyle}if(r!==undefined){if(t.currentStrokeStyle!=r||t.currentLineCap!=i||!ol.array.equals(t.currentLineDash,n)||t.currentLineDashOffset!=a||t.currentLineJoin!=l||t.currentLineWidth!=s||t.currentMiterLimit!=p){this.instructions.push([ol.render.canvas.Instruction.SET_STROKE_STYLE,r,s,i,l,p,n,a,true,1]);t.currentStrokeStyle=r;t.currentLineCap=i;t.currentLineDash=n;t.currentLineDashOffset=a;t.currentLineJoin=l;t.currentLineWidth=s;t.currentMiterLimit=p}}};goog.provide("ol.render.canvas.TextReplay");goog.require("ol");goog.require("ol.colorlike");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Instruction");goog.require("ol.render.canvas.Replay");ol.render.canvas.TextReplay=function(e,t,o,r){ol.render.canvas.Replay.call(this,e,t,o,r);this.replayFillState_=null;this.replayStrokeState_=null;this.replayTextState_=null;this.text_="";this.textOffsetX_=0;this.textOffsetY_=0;this.textRotateWithView_=undefined;this.textRotation_=0;this.textScale_=0;this.textFillState_=null;this.textStrokeState_=null;this.textState_=null};ol.inherits(ol.render.canvas.TextReplay,ol.render.canvas.Replay);ol.render.canvas.TextReplay.prototype.drawText=function(e,t,o,r,i,n){if(this.text_===""||!this.textState_||!this.textFillState_&&!this.textStrokeState_){return}if(this.textFillState_){this.setReplayFillState_(this.textFillState_)}if(this.textStrokeState_){this.setReplayStrokeState_(this.textStrokeState_)}this.setReplayTextState_(this.textState_);this.beginGeometry(i,n);var a=this.coordinates.length;var l=this.appendFlatCoordinates(e,t,o,r,false,false);var s=!!this.textFillState_;var p=!!this.textStrokeState_;var u=[ol.render.canvas.Instruction.DRAW_TEXT,a,l,this.text_,this.textOffsetX_,this.textOffsetY_,this.textRotation_,this.textScale_,s,p,this.textRotateWithView_];this.instructions.push(u);this.hitDetectionInstructions.push(u);this.endGeometry(i,n)};ol.render.canvas.TextReplay.prototype.setReplayFillState_=function(e){var t=this.replayFillState_;if(t&&t.fillStyle==e.fillStyle){return}var o=[ol.render.canvas.Instruction.SET_FILL_STYLE,e.fillStyle];this.instructions.push(o);this.hitDetectionInstructions.push(o);if(!t){this.replayFillState_={fillStyle:e.fillStyle}}else{t.fillStyle=e.fillStyle}};ol.render.canvas.TextReplay.prototype.setReplayStrokeState_=function(e){var t=this.replayStrokeState_;if(t&&t.lineCap==e.lineCap&&t.lineDash==e.lineDash&&t.lineDashOffset==e.lineDashOffset&&t.lineJoin==e.lineJoin&&t.lineWidth==e.lineWidth&&t.miterLimit==e.miterLimit&&t.strokeStyle==e.strokeStyle){return}var o=[ol.render.canvas.Instruction.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth,e.lineCap,e.lineJoin,e.miterLimit,e.lineDash,e.lineDashOffset,false,1];this.instructions.push(o);this.hitDetectionInstructions.push(o);if(!t){this.replayStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle}}else{t.lineCap=e.lineCap;t.lineDash=e.lineDash;t.lineDashOffset=e.lineDashOffset;t.lineJoin=e.lineJoin;t.lineWidth=e.lineWidth;t.miterLimit=e.miterLimit;t.strokeStyle=e.strokeStyle}};ol.render.canvas.TextReplay.prototype.setReplayTextState_=function(e){var t=this.replayTextState_;if(t&&t.font==e.font&&t.textAlign==e.textAlign&&t.textBaseline==e.textBaseline){return}var o=[ol.render.canvas.Instruction.SET_TEXT_STYLE,e.font,e.textAlign,e.textBaseline];this.instructions.push(o);this.hitDetectionInstructions.push(o);if(!t){this.replayTextState_={font:e.font,textAlign:e.textAlign,textBaseline:e.textBaseline}}else{t.font=e.font;t.textAlign=e.textAlign;t.textBaseline=e.textBaseline}};ol.render.canvas.TextReplay.prototype.setTextStyle=function(e){if(!e){this.text_=""}else{var t=e.getFill();if(!t){this.textFillState_=null}else{var o=t.getColor();var r=ol.colorlike.asColorLike(o?o:ol.render.canvas.defaultFillStyle);if(!this.textFillState_){this.textFillState_={fillStyle:r}}else{var i=this.textFillState_;i.fillStyle=r}}var n=e.getStroke();if(!n){this.textStrokeState_=null}else{var a=n.getColor();var l=n.getLineCap();var s=n.getLineDash();var p=n.getLineDashOffset();var u=n.getLineJoin();var c=n.getWidth();var g=n.getMiterLimit();var h=l!==undefined?l:ol.render.canvas.defaultLineCap;var f=s?s.slice():ol.render.canvas.defaultLineDash;var d=p!==undefined?p:ol.render.canvas.defaultLineDashOffset;var y=u!==undefined?u:ol.render.canvas.defaultLineJoin;var m=c!==undefined?c:ol.render.canvas.defaultLineWidth;var v=g!==undefined?g:ol.render.canvas.defaultMiterLimit;var _=ol.colorlike.asColorLike(a?a:ol.render.canvas.defaultStrokeStyle);if(!this.textStrokeState_){this.textStrokeState_={lineCap:h,lineDash:f,lineDashOffset:d,lineJoin:y,lineWidth:m,miterLimit:v,strokeStyle:_}}else{var x=this.textStrokeState_;x.lineCap=h;x.lineDash=f;x.lineDashOffset=d;x.lineJoin=y;x.lineWidth=m;x.miterLimit=v;x.strokeStyle=_}}var S=e.getFont();var P=e.getOffsetX();var E=e.getOffsetY();var T=e.getRotateWithView();var b=e.getRotation();var M=e.getScale();var C=e.getText();var R=e.getTextAlign();var w=e.getTextBaseline();var L=S!==undefined?S:ol.render.canvas.defaultFont;var I=R!==undefined?R:ol.render.canvas.defaultTextAlign;var A=w!==undefined?w:ol.render.canvas.defaultTextBaseline;if(!this.textState_){this.textState_={font:L,textAlign:I,textBaseline:A}}else{var O=this.textState_;O.font=L;O.textAlign=I;O.textBaseline=A}this.text_=C!==undefined?C:"";this.textOffsetX_=P!==undefined?P:0;this.textOffsetY_=E!==undefined?E:0;this.textRotateWithView_=T!==undefined?T:false;this.textRotation_=b!==undefined?b:0;this.textScale_=M!==undefined?M:1}};goog.provide("ol.render.canvas.ReplayGroup");goog.require("ol");goog.require("ol.array");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.geom.flat.transform");goog.require("ol.obj");goog.require("ol.render.ReplayGroup");goog.require("ol.render.canvas.ImageReplay");goog.require("ol.render.canvas.LineStringReplay");goog.require("ol.render.canvas.PolygonReplay");goog.require("ol.render.canvas.TextReplay");goog.require("ol.render.replay");goog.require("ol.transform");ol.render.canvas.ReplayGroup=function(e,t,o,r,i){ol.render.ReplayGroup.call(this);this.tolerance_=e;this.maxExtent_=t;this.overlaps_=r;this.resolution_=o;this.renderBuffer_=i;this.replaysByZIndex_={};this.hitDetectionContext_=ol.dom.createCanvasContext2D(1,1);this.hitDetectionTransform_=ol.transform.create()};ol.inherits(ol.render.canvas.ReplayGroup,ol.render.ReplayGroup);ol.render.canvas.ReplayGroup.circleArrayCache_={0:[[true]]};ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_=function(e,t,o){var r;var i=Math.floor(e.length/2);if(t>=i){for(r=i;r<t;r++){e[r][o]=true}}else if(t<i){for(r=t+1;r<i;r++){e[r][o]=true}}};ol.render.canvas.ReplayGroup.getCircleArray_=function(e){if(ol.render.canvas.ReplayGroup.circleArrayCache_[e]!==undefined){return ol.render.canvas.ReplayGroup.circleArrayCache_[e]}var t=e*2+1;var o=new Array(t);for(var r=0;r<t;r++){o[r]=new Array(t)}var i=e;var n=0;var a=0;while(i>=n){ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+i,e+n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+n,e+i);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-n,e+i);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-i,e+n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-i,e-n);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e-n,e-i);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+n,e-i);ol.render.canvas.ReplayGroup.fillCircleArrayRowToMiddle_(o,e+i,e-n);n++;a+=1+2*n;if(2*(a-i)+1>0){i-=1;a+=1-2*i}}ol.render.canvas.ReplayGroup.circleArrayCache_[e]=o;return o};ol.render.canvas.ReplayGroup.prototype.finish=function(){var e;for(e in this.replaysByZIndex_){var t=this.replaysByZIndex_[e];var o;for(o in t){t[o].finish()}}};ol.render.canvas.ReplayGroup.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n){r=Math.round(r);var a=r*2+1;var l=ol.transform.compose(this.hitDetectionTransform_,r+.5,r+.5,1/t,-1/t,-o,-e[0],-e[1]);var s=this.hitDetectionContext_;if(s.canvas.width!==a||s.canvas.height!==a){s.canvas.width=a;s.canvas.height=a}else{s.clearRect(0,0,a,a)}var p;if(this.renderBuffer_!==undefined){p=ol.extent.createEmpty();ol.extent.extendCoordinate(p,e);ol.extent.buffer(p,t*(this.renderBuffer_+r),p)}var u=ol.render.canvas.ReplayGroup.getCircleArray_(r);return this.replayHitDetection_(s,l,o,i,function(e){var t=s.getImageData(0,0,a,a).data;for(var o=0;o<a;o++){for(var r=0;r<a;r++){if(u[o][r]){if(t[(r*a+o)*4+3]>0){var i=n(e);if(i){return i}else{s.clearRect(0,0,a,a);return undefined}}}}}},p)};ol.render.canvas.ReplayGroup.prototype.getClipCoords=function(e){var t=this.maxExtent_;var o=t[0];var r=t[1];var i=t[2];var n=t[3];var a=[o,r,o,n,i,n,i,r];ol.geom.flat.transform.transform2D(a,0,8,2,e,a);return a};ol.render.canvas.ReplayGroup.prototype.getReplay=function(e,t){var o=e!==undefined?e.toString():"0";var r=this.replaysByZIndex_[o];if(r===undefined){r={};this.replaysByZIndex_[o]=r}var i=r[t];if(i===undefined){var n=ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_[t];i=new n(this.tolerance_,this.maxExtent_,this.resolution_,this.overlaps_);r[t]=i}return i};ol.render.canvas.ReplayGroup.prototype.isEmpty=function(){return ol.obj.isEmpty(this.replaysByZIndex_)};ol.render.canvas.ReplayGroup.prototype.replay=function(e,t,o,r,i,n){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(ol.array.numberSafeCompareFunction);var l=this.getClipCoords(o);e.save();e.beginPath();e.moveTo(l[0],l[1]);e.lineTo(l[2],l[3]);e.lineTo(l[4],l[5]);e.lineTo(l[6],l[7]);e.clip();var s=n?n:ol.render.replay.ORDER;var p,u,c,g,h,f;for(p=0,u=a.length;p<u;++p){h=this.replaysByZIndex_[a[p].toString()];for(c=0,g=s.length;c<g;++c){f=h[s[c]];if(f!==undefined){f.replay(e,t,o,r,i)}}}e.restore()};ol.render.canvas.ReplayGroup.prototype.replayHitDetection_=function(e,t,o,r,i,n){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(function(e,t){return t-e});var l,s,p,u,c,g;for(l=0,s=a.length;l<s;++l){u=this.replaysByZIndex_[a[l].toString()];for(p=ol.render.replay.ORDER.length-1;p>=0;--p){c=u[ol.render.replay.ORDER[p]];if(c!==undefined){g=c.replayHitDetection(e,t,o,r,i,n);if(g){return g}}}}return undefined};ol.render.canvas.ReplayGroup.BATCH_CONSTRUCTORS_={Circle:ol.render.canvas.PolygonReplay,Image:ol.render.canvas.ImageReplay,LineString:ol.render.canvas.LineStringReplay,Polygon:ol.render.canvas.PolygonReplay,Text:ol.render.canvas.TextReplay};goog.provide("ol.renderer.Layer");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.Observable");goog.require("ol.TileState");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.functions");goog.require("ol.source.State");ol.renderer.Layer=function(e){ol.Observable.call(this);this.layer_=e};ol.inherits(ol.renderer.Layer,ol.Observable);ol.renderer.Layer.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.renderer.Layer.prototype.hasFeatureAtCoordinate=ol.functions.FALSE;ol.renderer.Layer.prototype.createLoadedTileFinder=function(e,t,o){return function(r,i){function n(e){if(!o[r]){o[r]={}}o[r][e.tileCoord.toString()]=e}return e.forEachLoadedTile(t,r,i,n)}};ol.renderer.Layer.prototype.getLayer=function(){return this.layer_};ol.renderer.Layer.prototype.handleImageChange_=function(e){var t=e.target;if(t.getState()===ol.ImageState.LOADED){this.renderIfReadyAndVisible()}};ol.renderer.Layer.prototype.loadImage=function(e){var t=e.getState();if(t!=ol.ImageState.LOADED&&t!=ol.ImageState.ERROR){ol.events.listen(e,ol.events.EventType.CHANGE,this.handleImageChange_,this)}if(t==ol.ImageState.IDLE){e.load();t=e.getState()}return t==ol.ImageState.LOADED};ol.renderer.Layer.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();if(e.getVisible()&&e.getSourceState()==ol.source.State.READY){this.changed()}};ol.renderer.Layer.prototype.scheduleExpireCache=function(e,t){if(t.canExpireCache()){var o=function(e,t,o){var r=ol.getUid(e).toString();e.expireCache(o.viewState.projection,o.usedTiles[r])}.bind(null,t);e.postRenderFunctions.push(o)}};ol.renderer.Layer.prototype.updateAttributions=function(e,t){if(t){var o,r,i;for(r=0,i=t.length;r<i;++r){o=t[r];e[ol.getUid(o).toString()]=o}}};ol.renderer.Layer.prototype.updateLogos=function(e,t){var o=t.getLogo();if(o!==undefined){if(typeof o==="string"){e.logos[o]=""}else if(o){ol.asserts.assert(typeof o.href=="string",44);ol.asserts.assert(typeof o.src=="string",45);e.logos[o.src]=o.href}}};ol.renderer.Layer.prototype.updateUsedTiles=function(e,t,o,r){var i=ol.getUid(t).toString();var n=o.toString();if(i in e){if(n in e[i]){e[i][n].extend(r)}else{e[i][n]=r}}else{e[i]={};e[i][n]=r}};ol.renderer.Layer.prototype.manageTilePyramid=function(e,t,o,r,i,n,a,l,s,p){var u=ol.getUid(t).toString();if(!(u in e.wantedTiles)){e.wantedTiles[u]={}}var c=e.wantedTiles[u];var g=e.tileQueue;var h=o.getMinZoom();var f,d,y,m,v,_;for(_=a;_>=h;--_){d=o.getTileRangeForExtentAndZ(n,_,d);y=o.getResolution(_);for(m=d.minX;m<=d.maxX;++m){for(v=d.minY;v<=d.maxY;++v){if(a-_<=l){f=t.getTile(_,m,v,r,i);if(f.getState()==ol.TileState.IDLE){c[f.getKey()]=true;if(!g.isKeyQueued(f.getKey())){g.enqueue([f,u,o.getTileCoordCenter(f.tileCoord),y])}}if(s!==undefined){s.call(p,f)}}else{t.useTile(_,m,v,i)}}}}};goog.provide("ol.renderer.canvas.Layer");goog.require("ol");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.Immediate");goog.require("ol.renderer.Layer");goog.require("ol.transform");ol.renderer.canvas.Layer=function(e){ol.renderer.Layer.call(this,e);this.renderedResolution;this.transform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.Layer,ol.renderer.Layer);ol.renderer.canvas.Layer.prototype.clip=function(e,t,o){var r=t.pixelRatio;var i=t.size[0]*r;var n=t.size[1]*r;var a=t.viewState.rotation;var l=ol.extent.getTopLeft(o);var s=ol.extent.getTopRight(o);var p=ol.extent.getBottomRight(o);var u=ol.extent.getBottomLeft(o);ol.transform.apply(t.coordinateToPixelTransform,l);ol.transform.apply(t.coordinateToPixelTransform,s);ol.transform.apply(t.coordinateToPixelTransform,p);ol.transform.apply(t.coordinateToPixelTransform,u);e.save();ol.render.canvas.rotateAtOffset(e,-a,i/2,n/2);e.beginPath();e.moveTo(l[0]*r,l[1]*r);e.lineTo(s[0]*r,s[1]*r);e.lineTo(p[0]*r,p[1]*r);e.lineTo(u[0]*r,u[1]*r);e.clip();ol.render.canvas.rotateAtOffset(e,a,i/2,n/2)};ol.renderer.canvas.Layer.prototype.dispatchComposeEvent_=function(e,t,o,r){var i=this.getLayer();if(i.hasListener(e)){var n=o.size[0]*o.pixelRatio;var a=o.size[1]*o.pixelRatio;var l=o.viewState.rotation;ol.render.canvas.rotateAtOffset(t,-l,n/2,a/2);var s=r!==undefined?r:this.getTransform(o,0);var p=new ol.render.canvas.Immediate(t,o.pixelRatio,o.extent,s,o.viewState.rotation);var u=new ol.render.Event(e,p,o,t,null);i.dispatchEvent(u);ol.render.canvas.rotateAtOffset(t,l,n/2,a/2)}};ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate=function(e,t,o,r){var i=this.forEachFeatureAtCoordinate(e,t,0,ol.functions.TRUE,this);if(i){return o.call(r,this.getLayer(),null)}else{return undefined}};ol.renderer.canvas.Layer.prototype.postCompose=function(e,t,o,r){this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,e,t,r)};ol.renderer.canvas.Layer.prototype.preCompose=function(e,t,o){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,e,t,o)};ol.renderer.canvas.Layer.prototype.dispatchRenderEvent=function(e,t,o){this.dispatchComposeEvent_(ol.render.EventType.RENDER,e,t,o)};ol.renderer.canvas.Layer.prototype.getTransform=function(e,t){var o=e.viewState;var r=e.pixelRatio;var i=r*e.size[0]/2;var n=r*e.size[1]/2;var a=r/o.resolution;var l=-a;var s=-o.rotation;var p=-o.center[0]+t;var u=-o.center[1];return ol.transform.compose(this.transform_,i,n,a,l,s,p,u)};ol.renderer.canvas.Layer.prototype.composeFrame=function(e,t,o){};ol.renderer.canvas.Layer.prototype.prepareFrame=function(e,t){};goog.provide("ol.renderer.vector");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.render.ReplayType");ol.renderer.vector.defaultOrder=function(e,t){return ol.getUid(e)-ol.getUid(t)};ol.renderer.vector.getSquaredTolerance=function(e,t){var o=ol.renderer.vector.getTolerance(e,t);return o*o};ol.renderer.vector.getTolerance=function(e,t){return ol.SIMPLIFY_TOLERANCE*e/t};ol.renderer.vector.renderCircleGeometry_=function(e,t,o,r){var i=o.getFill();var n=o.getStroke();if(i||n){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.CIRCLE);a.setFillStrokeStyle(i,n);a.drawCircle(t,r)}var l=o.getText();if(l){var s=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(l);s.drawText(t.getCenter(),0,2,2,t,r)}};ol.renderer.vector.renderFeature=function(e,t,o,r,i,n){var a=false;var l,s;l=o.getImage();if(l){s=l.getImageState();if(s==ol.ImageState.LOADED||s==ol.ImageState.ERROR){l.unlistenImageChange(i,n)}else{if(s==ol.ImageState.IDLE){l.load()}s=l.getImageState();l.listenImageChange(i,n);a=true}}ol.renderer.vector.renderFeature_(e,t,o,r);return a};ol.renderer.vector.renderFeature_=function(e,t,o,r){var i=o.getGeometryFunction()(t);if(!i){return}var n=i.getSimplifiedGeometry(r);var a=ol.renderer.vector.GEOMETRY_RENDERERS_[n.getType()];a(e,n,o,t)};ol.renderer.vector.renderGeometryCollectionGeometry_=function(e,t,o,r){var i=t.getGeometriesArray();var n,a;for(n=0,a=i.length;n<a;++n){var l=ol.renderer.vector.GEOMETRY_RENDERERS_[i[n].getType()];l(e,i[n],o,r)}};ol.renderer.vector.renderLineStringGeometry_=function(e,t,o,r){var i=o.getStroke();if(i){var n=e.getReplay(o.getZIndex(),ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,i);n.drawLineString(t,r)}var a=o.getText();if(a){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);l.setTextStyle(a);l.drawText(t.getFlatMidpoint(),0,2,2,t,r)}};ol.renderer.vector.renderMultiLineStringGeometry_=function(e,t,o,r){var i=o.getStroke();if(i){var n=e.getReplay(o.getZIndex(),ol.render.ReplayType.LINE_STRING);n.setFillStrokeStyle(null,i);n.drawMultiLineString(t,r)}var a=o.getText();if(a){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);l.setTextStyle(a);var s=t.getFlatMidpoints();l.drawText(s,0,s.length,2,t,r)}};ol.renderer.vector.renderMultiPolygonGeometry_=function(e,t,o,r){var i=o.getFill();var n=o.getStroke();if(n||i){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.POLYGON);a.setFillStrokeStyle(i,n);a.drawMultiPolygon(t,r)}var l=o.getText();if(l){var s=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(l);var p=t.getFlatInteriorPoints();s.drawText(p,0,p.length,2,t,r)}};ol.renderer.vector.renderPointGeometry_=function(e,t,o,r){var i=o.getImage();if(i){if(i.getImageState()!=ol.ImageState.LOADED){return}var n=e.getReplay(o.getZIndex(),ol.render.ReplayType.IMAGE);n.setImageStyle(i);n.drawPoint(t,r)}var a=o.getText();if(a){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);l.setTextStyle(a);l.drawText(t.getFlatCoordinates(),0,2,2,t,r)}};ol.renderer.vector.renderMultiPointGeometry_=function(e,t,o,r){var i=o.getImage();if(i){if(i.getImageState()!=ol.ImageState.LOADED){return}var n=e.getReplay(o.getZIndex(),ol.render.ReplayType.IMAGE);n.setImageStyle(i);n.drawMultiPoint(t,r)}var a=o.getText();if(a){var l=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);l.setTextStyle(a);var s=t.getFlatCoordinates();l.drawText(s,0,s.length,t.getStride(),t,r)}};ol.renderer.vector.renderPolygonGeometry_=function(e,t,o,r){var i=o.getFill();var n=o.getStroke();if(i||n){var a=e.getReplay(o.getZIndex(),ol.render.ReplayType.POLYGON);a.setFillStrokeStyle(i,n);a.drawPolygon(t,r)}var l=o.getText();if(l){var s=e.getReplay(o.getZIndex(),ol.render.ReplayType.TEXT);s.setTextStyle(l);s.drawText(t.getFlatInteriorPoint(),0,2,2,t,r)}};ol.renderer.vector.GEOMETRY_RENDERERS_={Point:ol.renderer.vector.renderPointGeometry_,LineString:ol.renderer.vector.renderLineStringGeometry_,Polygon:ol.renderer.vector.renderPolygonGeometry_,MultiPoint:ol.renderer.vector.renderMultiPointGeometry_,MultiLineString:ol.renderer.vector.renderMultiLineStringGeometry_,MultiPolygon:ol.renderer.vector.renderMultiPolygonGeometry_,GeometryCollection:ol.renderer.vector.renderGeometryCollectionGeometry_,Circle:ol.renderer.vector.renderCircleGeometry_};goog.provide("ol.renderer.canvas.VectorLayer");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.render.EventType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.renderer.canvas.Layer");goog.require("ol.renderer.vector");ol.renderer.canvas.VectorLayer=function(e){ol.renderer.canvas.Layer.call(this,e);this.dirty_=false;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.context_=ol.dom.createCanvasContext2D()};ol.inherits(ol.renderer.canvas.VectorLayer,ol.renderer.canvas.Layer);ol.renderer.canvas.VectorLayer.prototype.composeFrame=function(e,t,o){var r=e.extent;var i=e.pixelRatio;var n=t.managed?e.skippedFeatureUids:{};var a=e.viewState;var l=a.projection;var s=a.rotation;var p=l.getExtent();var u=this.getLayer().getSource();var c=this.getTransform(e,0);this.preCompose(o,e,c);var g=t.extent;var h=g!==undefined;if(h){this.clip(o,e,g)}var f=this.replayGroup_;if(f&&!f.isEmpty()){var d=this.getLayer();var y=0;var m=0;var v;if(d.hasListener(ol.render.EventType.RENDER)){var _=o.canvas.width;var x=o.canvas.height;if(s){var S=Math.round(Math.sqrt(_*_+x*x));y=(S-_)/2;m=(S-x)/2;_=x=S}this.context_.canvas.width=_;this.context_.canvas.height=x;v=this.context_}else{v=o}var P=v.globalAlpha;v.globalAlpha=t.opacity;if(v!=o){v.translate(y,m)}var E=e.size[0]*i;var T=e.size[1]*i;
ol.render.canvas.rotateAtOffset(v,-s,E/2,T/2);f.replay(v,i,c,s,n);if(u.getWrapX()&&l.canWrapX()&&!ol.extent.containsExtent(p,r)){var b=r[0];var M=ol.extent.getWidth(p);var C=0;var R;while(b<p[0]){--C;R=M*C;c=this.getTransform(e,R);f.replay(v,i,c,s,n);b+=M}C=0;b=r[2];while(b>p[2]){++C;R=M*C;c=this.getTransform(e,R);f.replay(v,i,c,s,n);b-=M}c=this.getTransform(e,0)}ol.render.canvas.rotateAtOffset(v,s,E/2,T/2);if(v!=o){this.dispatchRenderEvent(v,e,c);o.drawImage(v.canvas,-y,-m);v.translate(-y,-m)}v.globalAlpha=P}if(h){o.restore()}this.postCompose(o,e,t,c)};ol.renderer.canvas.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){if(!this.replayGroup_){return undefined}else{var n=t.viewState.resolution;var a=t.viewState.rotation;var l=this.getLayer();var s={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,a,o,{},function(e){var t=ol.getUid(e).toString();if(!(t in s)){s[t]=true;return r.call(i,e,l)}})}};ol.renderer.canvas.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorLayer.prototype.prepareFrame=function(e,t){var o=this.getLayer();var r=o.getSource();this.updateAttributions(e.attributions,r.getAttributions());this.updateLogos(e,r);var i=e.viewHints[ol.ViewHint.ANIMATING];var n=e.viewHints[ol.ViewHint.INTERACTING];var a=o.getUpdateWhileAnimating();var l=o.getUpdateWhileInteracting();if(!this.dirty_&&(!a&&i)||!l&&n){return true}var s=e.extent;var p=e.viewState;var u=p.projection;var c=p.resolution;var g=e.pixelRatio;var h=o.getRevision();var f=o.getRenderBuffer();var d=o.getRenderOrder();if(d===undefined){d=ol.renderer.vector.defaultOrder}var y=ol.extent.buffer(s,f*c);var m=p.projection.getExtent();if(r.getWrapX()&&p.projection.canWrapX()&&!ol.extent.containsExtent(m,e.extent)){var v=ol.extent.getWidth(m);var _=Math.max(ol.extent.getWidth(y)/2,v);y[0]=m[0]-_;y[2]=m[2]+_}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==h&&this.renderedRenderOrder_==d&&ol.extent.containsExtent(this.renderedExtent_,y)){return true}this.replayGroup_=null;this.dirty_=false;var x=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(c,g),y,c,r.getOverlaps(),o.getRenderBuffer());r.loadFeatures(y,c,u);var S=function(e){var t;var r=e.getStyleFunction();if(r){t=r.call(e,c)}else{r=o.getStyleFunction();if(r){t=r(e,c)}}if(t){var i=this.renderFeature(e,c,g,t,x);this.dirty_=this.dirty_||i}};if(d){var P=[];r.forEachFeatureInExtent(y,function(e){P.push(e)},this);P.sort(d);P.forEach(S,this)}else{r.forEachFeatureInExtent(y,S,this)}x.finish();this.renderedResolution_=c;this.renderedRevision_=h;this.renderedRenderOrder_=d;this.renderedExtent_=y;this.replayGroup_=x;return true};ol.renderer.canvas.VectorLayer.prototype.renderFeature=function(e,t,o,r,i){if(!r){return false}var n=false;if(Array.isArray(r)){for(var a=0,l=r.length;a<l;++a){n=ol.renderer.vector.renderFeature(i,e,r[a],ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||n}}else{n=ol.renderer.vector.renderFeature(i,e,r,ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||n}return n};goog.provide("ol.renderer.webgl.defaultmapshader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");if(ol.ENABLE_WEBGL){ol.renderer.webgl.defaultmapshader.Fragment=function(){ol.webgl.Fragment.call(this,ol.renderer.webgl.defaultmapshader.Fragment.SOURCE)};ol.inherits(ol.renderer.webgl.defaultmapshader.Fragment,ol.webgl.Fragment);ol.renderer.webgl.defaultmapshader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n";ol.renderer.webgl.defaultmapshader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}";ol.renderer.webgl.defaultmapshader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.renderer.webgl.defaultmapshader.Fragment.DEBUG_SOURCE:ol.renderer.webgl.defaultmapshader.Fragment.OPTIMIZED_SOURCE;ol.renderer.webgl.defaultmapshader.fragment=new ol.renderer.webgl.defaultmapshader.Fragment;ol.renderer.webgl.defaultmapshader.Vertex=function(){ol.webgl.Vertex.call(this,ol.renderer.webgl.defaultmapshader.Vertex.SOURCE)};ol.inherits(ol.renderer.webgl.defaultmapshader.Vertex,ol.webgl.Vertex);ol.renderer.webgl.defaultmapshader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n";ol.renderer.webgl.defaultmapshader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}";ol.renderer.webgl.defaultmapshader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.renderer.webgl.defaultmapshader.Vertex.DEBUG_SOURCE:ol.renderer.webgl.defaultmapshader.Vertex.OPTIMIZED_SOURCE;ol.renderer.webgl.defaultmapshader.vertex=new ol.renderer.webgl.defaultmapshader.Vertex;ol.renderer.webgl.defaultmapshader.Locations=function(e,t){this.u_opacity=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_opacity":"f");this.u_projectionMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_projectionMatrix":"e");this.u_texCoordMatrix=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texCoordMatrix":"d");this.u_texture=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texture":"g");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"b");this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"c")}}goog.provide("ol.renderer.webgl.Layer");goog.require("ol");goog.require("ol.render.Event");goog.require("ol.render.EventType");goog.require("ol.render.webgl.Immediate");goog.require("ol.renderer.Layer");goog.require("ol.renderer.webgl.defaultmapshader");goog.require("ol.transform");goog.require("ol.vec.Mat4");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");goog.require("ol.webgl.Context");if(ol.ENABLE_WEBGL){ol.renderer.webgl.Layer=function(e,t){ol.renderer.Layer.call(this,t);this.mapRenderer=e;this.arrayBuffer_=new ol.webgl.Buffer([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]);this.texture=null;this.framebuffer=null;this.framebufferDimension=undefined;this.texCoordMatrix=ol.transform.create();this.projectionMatrix=ol.transform.create();this.tmpMat4_=ol.vec.Mat4.create();this.defaultLocations_=null};ol.inherits(ol.renderer.webgl.Layer,ol.renderer.Layer);ol.renderer.webgl.Layer.prototype.bindFramebuffer=function(e,t){var o=this.mapRenderer.getGL();if(this.framebufferDimension===undefined||this.framebufferDimension!=t){var r=function(e,t,o){if(!e.isContextLost()){e.deleteFramebuffer(t);e.deleteTexture(o)}}.bind(null,o,this.framebuffer,this.texture);e.postRenderFunctions.push(r);var i=ol.webgl.Context.createEmptyTexture(o,t,t);var n=o.createFramebuffer();o.bindFramebuffer(ol.webgl.FRAMEBUFFER,n);o.framebufferTexture2D(ol.webgl.FRAMEBUFFER,ol.webgl.COLOR_ATTACHMENT0,ol.webgl.TEXTURE_2D,i,0);this.texture=i;this.framebuffer=n;this.framebufferDimension=t}else{o.bindFramebuffer(ol.webgl.FRAMEBUFFER,this.framebuffer)}};ol.renderer.webgl.Layer.prototype.composeFrame=function(e,t,o){this.dispatchComposeEvent_(ol.render.EventType.PRECOMPOSE,o,e);o.bindBuffer(ol.webgl.ARRAY_BUFFER,this.arrayBuffer_);var r=o.getGL();var i=ol.renderer.webgl.defaultmapshader.fragment;var n=ol.renderer.webgl.defaultmapshader.vertex;var a=o.getProgram(i,n);var l;if(!this.defaultLocations_){l=new ol.renderer.webgl.defaultmapshader.Locations(r,a);this.defaultLocations_=l}else{l=this.defaultLocations_}if(o.useProgram(a)){r.enableVertexAttribArray(l.a_position);r.vertexAttribPointer(l.a_position,2,ol.webgl.FLOAT,false,16,0);r.enableVertexAttribArray(l.a_texCoord);r.vertexAttribPointer(l.a_texCoord,2,ol.webgl.FLOAT,false,16,8);r.uniform1i(l.u_texture,0)}r.uniformMatrix4fv(l.u_texCoordMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getTexCoordMatrix()));r.uniformMatrix4fv(l.u_projectionMatrix,false,ol.vec.Mat4.fromTransform(this.tmpMat4_,this.getProjectionMatrix()));r.uniform1f(l.u_opacity,t.opacity);r.bindTexture(ol.webgl.TEXTURE_2D,this.getTexture());r.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4);this.dispatchComposeEvent_(ol.render.EventType.POSTCOMPOSE,o,e)};ol.renderer.webgl.Layer.prototype.dispatchComposeEvent_=function(e,t,o){var r=this.getLayer();if(r.hasListener(e)){var i=o.viewState;var n=i.resolution;var a=o.pixelRatio;var l=o.extent;var s=i.center;var p=i.rotation;var u=o.size;var c=new ol.render.webgl.Immediate(t,s,n,p,u,l,a);var g=new ol.render.Event(e,c,o,null,t);r.dispatchEvent(g)}};ol.renderer.webgl.Layer.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix};ol.renderer.webgl.Layer.prototype.getTexture=function(){return this.texture};ol.renderer.webgl.Layer.prototype.getProjectionMatrix=function(){return this.projectionMatrix};ol.renderer.webgl.Layer.prototype.handleWebGLContextLost=function(){this.texture=null;this.framebuffer=null;this.framebufferDimension=undefined};ol.renderer.webgl.Layer.prototype.prepareFrame=function(e,t,o){};ol.renderer.webgl.Layer.prototype.forEachLayerAtPixel=function(e,t,o,r){}}goog.provide("ol.renderer.webgl.VectorLayer");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.extent");goog.require("ol.render.webgl.ReplayGroup");goog.require("ol.renderer.vector");goog.require("ol.renderer.webgl.Layer");goog.require("ol.transform");if(ol.ENABLE_WEBGL){ol.renderer.webgl.VectorLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t);this.dirty_=false;this.renderedRevision_=-1;this.renderedResolution_=NaN;this.renderedExtent_=ol.extent.createEmpty();this.renderedRenderOrder_=null;this.replayGroup_=null;this.layerState_=null};ol.inherits(ol.renderer.webgl.VectorLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.VectorLayer.prototype.composeFrame=function(e,t,o){this.layerState_=t;var r=e.viewState;var i=this.replayGroup_;var n=e.size;var a=e.pixelRatio;var l=this.mapRenderer.getGL();if(i&&!i.isEmpty()){l.enable(l.SCISSOR_TEST);l.scissor(0,0,n[0]*a,n[1]*a);i.replay(o,r.center,r.resolution,r.rotation,n,a,t.opacity,t.managed?e.skippedFeatureUids:{});l.disable(l.SCISSOR_TEST)}};ol.renderer.webgl.VectorLayer.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var t=this.mapRenderer.getContext();e.getDeleteResourcesFunction(t)();this.replayGroup_=null}ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.VectorLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){if(!this.replayGroup_||!this.layerState_){return undefined}else{var n=this.mapRenderer.getContext();var a=t.viewState;var l=this.getLayer();var s=this.layerState_;var p={};return this.replayGroup_.forEachFeatureAtCoordinate(e,n,a.center,a.resolution,a.rotation,t.size,t.pixelRatio,s.opacity,{},function(e){var t=ol.getUid(e).toString();if(!(t in p)){p[t]=true;return r.call(i,e,l)}})}};ol.renderer.webgl.VectorLayer.prototype.hasFeatureAtCoordinate=function(e,t){if(!this.replayGroup_||!this.layerState_){return false}else{var o=this.mapRenderer.getContext();var r=t.viewState;var i=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(e,o,r.center,r.resolution,r.rotation,t.size,t.pixelRatio,i.opacity,t.skippedFeatureUids)}};ol.renderer.webgl.VectorLayer.prototype.forEachLayerAtPixel=function(e,t,o,r){var i=ol.transform.apply(t.pixelToCoordinateTransform,e.slice());var n=this.hasFeatureAtCoordinate(i,t);if(n){return o.call(r,this.getLayer(),null)}else{return undefined}};ol.renderer.webgl.VectorLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()};ol.renderer.webgl.VectorLayer.prototype.prepareFrame=function(e,t,o){var r=this.getLayer();var i=r.getSource();this.updateAttributions(e.attributions,i.getAttributions());this.updateLogos(e,i);var n=e.viewHints[ol.ViewHint.ANIMATING];var a=e.viewHints[ol.ViewHint.INTERACTING];var l=r.getUpdateWhileAnimating();var s=r.getUpdateWhileInteracting();if(!this.dirty_&&(!l&&n)||!s&&a){return true}var p=e.extent;var u=e.viewState;var c=u.projection;var g=u.resolution;var h=e.pixelRatio;var f=r.getRevision();var d=r.getRenderBuffer();var y=r.getRenderOrder();if(y===undefined){y=ol.renderer.vector.defaultOrder}var m=ol.extent.buffer(p,d*g);if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==f&&this.renderedRenderOrder_==y&&ol.extent.containsExtent(this.renderedExtent_,m)){return true}if(this.replayGroup_){e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(o))}this.dirty_=false;var v=new ol.render.webgl.ReplayGroup(ol.renderer.vector.getTolerance(g,h),m,r.getRenderBuffer());i.loadFeatures(m,g,c);var _=function(e){var t;var o=e.getStyleFunction();if(o){t=o.call(e,g)}else{o=r.getStyleFunction();if(o){t=o(e,g)}}if(t){var i=this.renderFeature(e,g,h,t,v);this.dirty_=this.dirty_||i}};if(y){var x=[];i.forEachFeatureInExtent(m,function(e){x.push(e)},this);x.sort(y);x.forEach(_,this)}else{i.forEachFeatureInExtent(m,_,this)}v.finish(o);this.renderedResolution_=g;this.renderedRevision_=f;this.renderedRenderOrder_=y;this.renderedExtent_=m;this.replayGroup_=v;return true};ol.renderer.webgl.VectorLayer.prototype.renderFeature=function(e,t,o,r,i){if(!r){return false}var n=false;if(Array.isArray(r)){for(var a=r.length-1,l=0;a>=l;--a){n=ol.renderer.vector.renderFeature(i,e,r[a],ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||n}}else{n=ol.renderer.vector.renderFeature(i,e,r,ol.renderer.vector.getSquaredTolerance(t,o),this.handleStyleImageChange_,this)||n}return n}}goog.provide("ol.layer.Vector");goog.require("ol");goog.require("ol.layer.Layer");goog.require("ol.obj");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.VectorLayer");goog.require("ol.renderer.webgl.VectorLayer");goog.require("ol.style.Style");ol.layer.Vector=function(e){var t=e?e:{};var o=ol.obj.assign({},t);delete o.style;delete o.renderBuffer;delete o.updateWhileAnimating;delete o.updateWhileInteracting;ol.layer.Layer.call(this,o);this.renderBuffer_=t.renderBuffer!==undefined?t.renderBuffer:100;this.style_=null;this.styleFunction_=undefined;this.setStyle(t.style);this.updateWhileAnimating_=t.updateWhileAnimating!==undefined?t.updateWhileAnimating:false;this.updateWhileInteracting_=t.updateWhileInteracting!==undefined?t.updateWhileInteracting:false};ol.inherits(ol.layer.Vector,ol.layer.Layer);ol.layer.Vector.prototype.createRenderer=function(e){var t=null;var o=e.getType();if(ol.ENABLE_CANVAS&&o===ol.renderer.Type.CANVAS){t=new ol.renderer.canvas.VectorLayer(this)}else if(ol.ENABLE_WEBGL&&o===ol.renderer.Type.WEBGL){t=new ol.renderer.webgl.VectorLayer(e,this)}return t};ol.layer.Vector.prototype.getRenderBuffer=function(){return this.renderBuffer_};ol.layer.Vector.prototype.getRenderOrder=function(){return this.get(ol.layer.Vector.Property_.RENDER_ORDER)};ol.layer.Vector.prototype.getSource;ol.layer.Vector.prototype.getStyle=function(){return this.style_};ol.layer.Vector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.layer.Vector.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_};ol.layer.Vector.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_};ol.layer.Vector.prototype.setRenderOrder=function(e){this.set(ol.layer.Vector.Property_.RENDER_ORDER,e)};ol.layer.Vector.prototype.setStyle=function(e){this.style_=e!==undefined?e:ol.style.Style.defaultFunction;this.styleFunction_=e===null?undefined:ol.style.Style.createFunction(this.style_);this.changed()};ol.layer.Vector.Property_={RENDER_ORDER:"renderOrder"};goog.provide("ol.loadingstrategy");ol.loadingstrategy.all=function(e,t){return[[-Infinity,-Infinity,Infinity,Infinity]]};ol.loadingstrategy.bbox=function(e,t){return[e]};ol.loadingstrategy.tile=function(e){return function(t,o){var r=e.getZForResolution(o);var i=e.getTileRangeForExtentAndZ(t,r);var n=[];var a=[r,0,0];for(a[1]=i.minX;a[1]<=i.maxX;++a[1]){for(a[2]=i.minY;a[2]<=i.maxY;++a[2]){n.push(e.getTileCoordExtent(a))}}return n}};goog.provide("ol.source.Source");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.Object");goog.require("ol.proj");goog.require("ol.source.State");ol.source.Source=function(e){ol.Object.call(this);this.projection_=ol.proj.get(e.projection);this.attributions_=ol.source.Source.toAttributionsArray_(e.attributions);this.logo_=e.logo;this.state_=e.state!==undefined?e.state:ol.source.State.READY;this.wrapX_=e.wrapX!==undefined?e.wrapX:false};ol.inherits(ol.source.Source,ol.Object);ol.source.Source.toAttributionsArray_=function(e){if(typeof e==="string"){return[new ol.Attribution({html:e})]}else if(e instanceof ol.Attribution){return[e]}else if(Array.isArray(e)){var t=e.length;var o=new Array(t);for(var r=0;r<t;r++){var i=e[r];if(typeof i==="string"){o[r]=new ol.Attribution({html:i})}else{o[r]=i}}return o}else{return null}};ol.source.Source.prototype.forEachFeatureAtCoordinate=ol.nullFunction;ol.source.Source.prototype.getAttributions=function(){return this.attributions_};ol.source.Source.prototype.getLogo=function(){return this.logo_};ol.source.Source.prototype.getProjection=function(){return this.projection_};ol.source.Source.prototype.getResolutions=function(){};ol.source.Source.prototype.getState=function(){return this.state_};ol.source.Source.prototype.getWrapX=function(){return this.wrapX_};ol.source.Source.prototype.refresh=function(){this.changed()};ol.source.Source.prototype.setAttributions=function(e){this.attributions_=ol.source.Source.toAttributionsArray_(e);this.changed()};ol.source.Source.prototype.setLogo=function(e){this.logo_=e};ol.source.Source.prototype.setState=function(e){this.state_=e;this.changed()};goog.provide("ol.source.VectorEventType");ol.source.VectorEventType={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};goog.provide("ol.source.Vector");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.ObjectEventType");goog.require("ol.array");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.featureloader");goog.require("ol.functions");goog.require("ol.loadingstrategy");goog.require("ol.obj");goog.require("ol.source.Source");goog.require("ol.source.State");goog.require("ol.source.VectorEventType");goog.require("ol.structs.RBush");ol.source.Vector=function(e){var t=e||{};ol.source.Source.call(this,{attributions:t.attributions,logo:t.logo,projection:undefined,state:ol.source.State.READY,wrapX:t.wrapX!==undefined?t.wrapX:true});this.loader_=ol.nullFunction;this.format_=t.format;this.overlaps_=t.overlaps==undefined?true:t.overlaps;this.url_=t.url;if(t.loader!==undefined){this.loader_=t.loader}else if(this.url_!==undefined){ol.asserts.assert(this.format_,7);this.loader_=ol.featureloader.xhr(this.url_,this.format_)}this.strategy_=t.strategy!==undefined?t.strategy:ol.loadingstrategy.all;var o=t.useSpatialIndex!==undefined?t.useSpatialIndex:true;this.featuresRtree_=o?new ol.structs.RBush:null;this.loadedExtentsRtree_=new ol.structs.RBush;this.nullGeometryFeatures_={};this.idIndex_={};this.undefIdIndex_={};this.featureChangeKeys_={};this.featuresCollection_=null;var r,i;if(t.features instanceof ol.Collection){r=t.features;i=r.getArray()}else if(Array.isArray(t.features)){i=t.features}if(!o&&r===undefined){r=new ol.Collection(i)}if(i!==undefined){this.addFeaturesInternal(i)}if(r!==undefined){this.bindFeaturesCollection_(r)}};ol.inherits(ol.source.Vector,ol.source.Source);ol.source.Vector.prototype.addFeature=function(e){this.addFeatureInternal(e);this.changed()};ol.source.Vector.prototype.addFeatureInternal=function(e){var t=ol.getUid(e).toString();if(!this.addToIndex_(t,e)){return}this.setupChangeEvents_(t,e);var o=e.getGeometry();if(o){var r=o.getExtent();if(this.featuresRtree_){this.featuresRtree_.insert(r,e)}}else{this.nullGeometryFeatures_[t]=e}this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,e))};ol.source.Vector.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[ol.events.listen(t,ol.events.EventType.CHANGE,this.handleFeatureChange_,this),ol.events.listen(t,ol.ObjectEventType.PROPERTYCHANGE,this.handleFeatureChange_,this)]};ol.source.Vector.prototype.addToIndex_=function(e,t){var o=true;var r=t.getId();if(r!==undefined){if(!(r.toString()in this.idIndex_)){this.idIndex_[r.toString()]=t}else{o=false}}else{ol.asserts.assert(!(e in this.undefIdIndex_),30);this.undefIdIndex_[e]=t}return o};ol.source.Vector.prototype.addFeatures=function(e){this.addFeaturesInternal(e);this.changed()};ol.source.Vector.prototype.addFeaturesInternal=function(e){var t,o,r,i;var n=[];var a=[];var l=[];for(o=0,r=e.length;o<r;o++){i=e[o];t=ol.getUid(i).toString();if(this.addToIndex_(t,i)){a.push(i)}}for(o=0,r=a.length;o<r;o++){i=a[o];t=ol.getUid(i).toString();this.setupChangeEvents_(t,i);var s=i.getGeometry();if(s){var p=s.getExtent();n.push(p);l.push(i)}else{this.nullGeometryFeatures_[t]=i}}if(this.featuresRtree_){this.featuresRtree_.load(n,l)}for(o=0,r=a.length;o<r;o++){this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.ADDFEATURE,a[o]))}};ol.source.Vector.prototype.bindFeaturesCollection_=function(e){var t=false;ol.events.listen(this,ol.source.VectorEventType.ADDFEATURE,function(o){if(!t){t=true;e.push(o.feature);t=false}});ol.events.listen(this,ol.source.VectorEventType.REMOVEFEATURE,function(o){if(!t){t=true;e.remove(o.feature);t=false}});ol.events.listen(e,ol.CollectionEventType.ADD,function(e){if(!t){t=true;this.addFeature(e.element);t=false}},this);ol.events.listen(e,ol.CollectionEventType.REMOVE,function(e){if(!t){t=true;this.removeFeature(e.element);t=false}},this);this.featuresCollection_=e};ol.source.Vector.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){var o=this.featureChangeKeys_[t];o.forEach(ol.events.unlistenByKey)}if(!this.featuresCollection_){this.featureChangeKeys_={};this.idIndex_={};this.undefIdIndex_={}}}else{if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var r in this.nullGeometryFeatures_){this.removeFeatureInternal(this.nullGeometryFeatures_[r])}}}if(this.featuresCollection_){this.featuresCollection_.clear()}if(this.featuresRtree_){this.featuresRtree_.clear()}this.loadedExtentsRtree_.clear();this.nullGeometryFeatures_={};var i=new ol.source.Vector.Event(ol.source.VectorEventType.CLEAR);this.dispatchEvent(i);this.changed()};ol.source.Vector.prototype.forEachFeature=function(e,t){if(this.featuresRtree_){return this.featuresRtree_.forEach(e,t)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(e,t)}};ol.source.Vector.prototype.forEachFeatureAtCoordinateDirect=function(e,t,o){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){var i=r.getGeometry();if(i.intersectsCoordinate(e)){return t.call(o,r)}else{return undefined}})};ol.source.Vector.prototype.forEachFeatureInExtent=function(e,t,o){if(this.featuresRtree_){return this.featuresRtree_.forEachInExtent(e,t,o)}else if(this.featuresCollection_){return this.featuresCollection_.forEach(t,o)}};ol.source.Vector.prototype.forEachFeatureIntersectingExtent=function(e,t,o){return this.forEachFeatureInExtent(e,function(r){var i=r.getGeometry();if(i.intersectsExtent(e)){var n=t.call(o,r);if(n){return n}}})};ol.source.Vector.prototype.getFeaturesCollection=function(){return this.featuresCollection_};ol.source.Vector.prototype.getFeatures=function(){var e;if(this.featuresCollection_){e=this.featuresCollection_.getArray()}else if(this.featuresRtree_){e=this.featuresRtree_.getAll();if(!ol.obj.isEmpty(this.nullGeometryFeatures_)){ol.array.extend(e,ol.obj.getValues(this.nullGeometryFeatures_))}}return e};ol.source.Vector.prototype.getFeaturesAtCoordinate=function(e){var t=[];this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)});return t};ol.source.Vector.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)};ol.source.Vector.prototype.getClosestFeatureToCoordinate=function(e,t){var o=e[0];var r=e[1];var i=null;var n=[NaN,NaN];var a=Infinity;var l=[-Infinity,-Infinity,Infinity,Infinity];var s=t?t:ol.functions.TRUE;this.featuresRtree_.forEachInExtent(l,function(e){if(s(e)){var t=e.getGeometry();var p=a;a=t.closestPointXY(o,r,n,a);if(a<p){i=e;var u=Math.sqrt(a);l[0]=o-u;l[1]=r-u;l[2]=o+u;l[3]=r+u}}});return i};ol.source.Vector.prototype.getExtent=function(){return this.featuresRtree_.getExtent()};ol.source.Vector.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return t!==undefined?t:null};ol.source.Vector.prototype.getFormat=function(){return this.format_};ol.source.Vector.prototype.getOverlaps=function(){return this.overlaps_};ol.source.Vector.prototype.getResolutions=function(){};ol.source.Vector.prototype.getUrl=function(){return this.url_};ol.source.Vector.prototype.handleFeatureChange_=function(e){var t=e.target;var o=ol.getUid(t).toString();var r=t.getGeometry();if(!r){if(!(o in this.nullGeometryFeatures_)){if(this.featuresRtree_){this.featuresRtree_.remove(t)}this.nullGeometryFeatures_[o]=t}}else{var i=r.getExtent();if(o in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[o];if(this.featuresRtree_){this.featuresRtree_.insert(i,t)}}else{if(this.featuresRtree_){this.featuresRtree_.update(i,t)}}}var n=t.getId();if(n!==undefined){var a=n.toString();if(o in this.undefIdIndex_){delete this.undefIdIndex_[o];this.idIndex_[a]=t}else{if(this.idIndex_[a]!==t){this.removeFromIdIndex_(t);this.idIndex_[a]=t}}}else{if(!(o in this.undefIdIndex_)){this.removeFromIdIndex_(t);this.undefIdIndex_[o]=t}}this.changed();this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.CHANGEFEATURE,t))};ol.source.Vector.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&ol.obj.isEmpty(this.nullGeometryFeatures_)};ol.source.Vector.prototype.loadFeatures=function(e,t,o){var r=this.loadedExtentsRtree_;var i=this.strategy_(e,t);var n,a;for(n=0,a=i.length;n<a;++n){var l=i[n];var s=r.forEachInExtent(l,function(e){return ol.extent.containsExtent(e.extent,l)});if(!s){this.loader_.call(this,l,t,o);r.insert(l,{extent:l.slice()})}}};ol.source.Vector.prototype.removeFeature=function(e){var t=ol.getUid(e).toString();if(t in this.nullGeometryFeatures_){delete this.nullGeometryFeatures_[t]}else{if(this.featuresRtree_){this.featuresRtree_.remove(e)}}this.removeFeatureInternal(e);this.changed()};ol.source.Vector.prototype.removeFeatureInternal=function(e){var t=ol.getUid(e).toString();this.featureChangeKeys_[t].forEach(ol.events.unlistenByKey);delete this.featureChangeKeys_[t];var o=e.getId();if(o!==undefined){delete this.idIndex_[o.toString()]}else{delete this.undefIdIndex_[t]}this.dispatchEvent(new ol.source.Vector.Event(ol.source.VectorEventType.REMOVEFEATURE,e))};ol.source.Vector.prototype.removeFromIdIndex_=function(e){var t=false;for(var o in this.idIndex_){if(this.idIndex_[o]===e){delete this.idIndex_[o];t=true;break}}return t};ol.source.Vector.Event=function(e,t){ol.events.Event.call(this,e);this.feature=t};ol.inherits(ol.source.Vector.Event,ol.events.Event);goog.provide("ol.interaction.Draw");goog.require("ol");goog.require("ol.Feature");goog.require("ol.MapBrowserEventType");goog.require("ol.Object");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.geom.Circle");goog.require("ol.geom.GeometryType");goog.require("ol.geom.LineString");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.interaction.DrawEventType");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.Property");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.Draw=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Draw.handleDownEvent_,handleEvent:ol.interaction.Draw.handleEvent,handleUpEvent:ol.interaction.Draw.handleUpEvent_});this.downPx_=null;this.freehand_=false;this.source_=e.source?e.source:null;this.features_=e.features?e.features:null;this.snapTolerance_=e.snapTolerance?e.snapTolerance:12;this.type_=e.type;this.mode_=ol.interaction.Draw.getMode_(this.type_);this.minPoints_=e.minPoints?e.minPoints:this.mode_===ol.interaction.Draw.Mode_.POLYGON?3:2;this.maxPoints_=e.maxPoints?e.maxPoints:Infinity;this.finishCondition_=e.finishCondition?e.finishCondition:ol.functions.TRUE;var t=e.geometryFunction;if(!t){if(this.type_===ol.geom.GeometryType.CIRCLE){t=function(e,t){var o=t?t:new ol.geom.Circle([NaN,NaN]);var r=ol.coordinate.squaredDistance(e[0],e[1]);o.setCenterAndRadius(e[0],Math.sqrt(r));return o}}else{var o;var r=this.mode_;if(r===ol.interaction.Draw.Mode_.POINT){o=ol.geom.Point}else if(r===ol.interaction.Draw.Mode_.LINE_STRING){o=ol.geom.LineString}else if(r===ol.interaction.Draw.Mode_.POLYGON){o=ol.geom.Polygon}t=function(e,t){var i=t;if(i){if(r===ol.interaction.Draw.Mode_.POLYGON){i.setCoordinates([e[0].concat([e[0][0]])])}else{i.setCoordinates(e)}}else{i=new o(e)}return i}}}this.geometryFunction_=t;this.finishCoordinate_=null;this.sketchFeature_=null;this.sketchPoint_=null;this.sketchCoords_=null;this.sketchLine_=null;this.sketchLineCoords_=null;this.squaredClickTolerance_=e.clickTolerance?e.clickTolerance*e.clickTolerance:36;this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:e.wrapX?e.wrapX:false}),style:e.style?e.style:ol.interaction.Draw.getDefaultStyleFunction()});this.geometryName_=e.geometryName;this.condition_=e.condition?e.condition:ol.events.condition.noModifierKeys;this.freehandCondition_;if(e.freehand){this.freehandCondition_=ol.events.condition.always}else{this.freehandCondition_=e.freehandCondition?e.freehandCondition:ol.events.condition.shiftKeyOnly}ol.events.listen(this,ol.Object.getChangeEventType(ol.interaction.Property.ACTIVE),this.updateState_,this)};ol.inherits(ol.interaction.Draw,ol.interaction.Pointer);ol.interaction.Draw.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[t.getGeometry().getType()]}};ol.interaction.Draw.prototype.setMap=function(e){ol.interaction.Pointer.prototype.setMap.call(this,e);this.updateState_()};ol.interaction.Draw.handleEvent=function(e){this.freehand_=this.mode_!==ol.interaction.Draw.Mode_.POINT&&this.freehandCondition_(e);var t=!this.freehand_;if(this.freehand_&&e.type===ol.MapBrowserEventType.POINTERDRAG&&this.sketchFeature_!==null){this.addToDrawing_(e);t=false}else if(e.type===ol.MapBrowserEventType.POINTERMOVE){t=this.handlePointerMove_(e)}else if(e.type===ol.MapBrowserEventType.DBLCLICK){t=false}return ol.interaction.Pointer.handleEvent.call(this,e)&&t};ol.interaction.Draw.handleDownEvent_=function(e){if(this.freehand_){this.downPx_=e.pixel;if(!this.finishCoordinate_){this.startDrawing_(e)}return true}else if(this.condition_(e)){this.downPx_=e.pixel;return true}else{return false}};ol.interaction.Draw.handleUpEvent_=function(e){var t=this.downPx_;var o=e.pixel;var r=t[0]-o[0];var i=t[1]-o[1];var n=r*r+i*i;var a=true;var l=this.freehand_?n>this.squaredClickTolerance_:n<=this.squaredClickTolerance_;var s=this.mode_===ol.interaction.Draw.Mode_.CIRCLE;if(l){this.handlePointerMove_(e);if(!this.finishCoordinate_){this.startDrawing_(e);if(this.mode_===ol.interaction.Draw.Mode_.POINT){this.finishDrawing()}}else if(this.freehand_||s){this.finishDrawing();
}else if(this.atFinish_(e)){if(this.finishCondition_(e)){this.finishDrawing()}}else{this.addToDrawing_(e)}a=false}else if(s){this.finishCoordinate_=null}return a};ol.interaction.Draw.prototype.handlePointerMove_=function(e){if(this.finishCoordinate_){this.modifyDrawing_(e)}else{this.createOrUpdateSketchPoint_(e)}return true};ol.interaction.Draw.prototype.atFinish_=function(e){var t=false;if(this.sketchFeature_){var o=false;var r=[this.finishCoordinate_];if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){o=this.sketchCoords_.length>this.minPoints_}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){o=this.sketchCoords_[0].length>this.minPoints_;r=[this.sketchCoords_[0][0],this.sketchCoords_[0][this.sketchCoords_[0].length-2]]}if(o){var i=e.map;for(var n=0,a=r.length;n<a;n++){var l=r[n];var s=i.getPixelFromCoordinate(l);var p=e.pixel;var u=p[0]-s[0];var c=p[1]-s[1];var g=this.freehand_?1:this.snapTolerance_;t=Math.sqrt(u*u+c*c)<=g;if(t){this.finishCoordinate_=l;break}}}}return t};ol.interaction.Draw.prototype.createOrUpdateSketchPoint_=function(e){var t=e.coordinate.slice();if(!this.sketchPoint_){this.sketchPoint_=new ol.Feature(new ol.geom.Point(t));this.updateSketchFeatures_()}else{var o=this.sketchPoint_.getGeometry();o.setCoordinates(t)}};ol.interaction.Draw.prototype.startDrawing_=function(e){var t=e.coordinate;this.finishCoordinate_=t;if(this.mode_===ol.interaction.Draw.Mode_.POINT){this.sketchCoords_=t.slice()}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){this.sketchCoords_=[[t.slice(),t.slice()]];this.sketchLineCoords_=this.sketchCoords_[0]}else{this.sketchCoords_=[t.slice(),t.slice()];if(this.mode_===ol.interaction.Draw.Mode_.CIRCLE){this.sketchLineCoords_=this.sketchCoords_}}if(this.sketchLineCoords_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(this.sketchLineCoords_))}var o=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new ol.Feature;if(this.geometryName_){this.sketchFeature_.setGeometryName(this.geometryName_)}this.sketchFeature_.setGeometry(o);this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.modifyDrawing_=function(e){var t=e.coordinate;var o=this.sketchFeature_.getGeometry();var r,i;if(this.mode_===ol.interaction.Draw.Mode_.POINT){i=this.sketchCoords_}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){r=this.sketchCoords_[0];i=r[r.length-1];if(this.atFinish_(e)){t=this.finishCoordinate_.slice()}}else{r=this.sketchCoords_;i=r[r.length-1]}i[0]=t[0];i[1]=t[1];this.geometryFunction_(this.sketchCoords_,o);if(this.sketchPoint_){var n=this.sketchPoint_.getGeometry();n.setCoordinates(t)}var a;if(o instanceof ol.geom.Polygon&&this.mode_!==ol.interaction.Draw.Mode_.POLYGON){if(!this.sketchLine_){this.sketchLine_=new ol.Feature(new ol.geom.LineString(null))}var l=o.getLinearRing(0);a=this.sketchLine_.getGeometry();a.setFlatCoordinates(l.getLayout(),l.getFlatCoordinates())}else if(this.sketchLineCoords_){a=this.sketchLine_.getGeometry();a.setCoordinates(this.sketchLineCoords_)}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.addToDrawing_=function(e){var t=e.coordinate;var o=this.sketchFeature_.getGeometry();var r;var i;if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){this.finishCoordinate_=t.slice();i=this.sketchCoords_;if(i.length>=this.maxPoints_){if(this.freehand_){i.pop()}else{r=true}}i.push(t.slice());this.geometryFunction_(i,o)}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){i=this.sketchCoords_[0];if(i.length>=this.maxPoints_){if(this.freehand_){i.pop()}else{r=true}}i.push(t.slice());if(r){this.finishCoordinate_=i[0]}this.geometryFunction_(this.sketchCoords_,o)}this.updateSketchFeatures_();if(r){this.finishDrawing()}};ol.interaction.Draw.prototype.removeLastPoint=function(){var e=this.sketchFeature_.getGeometry();var t,o;if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){t=this.sketchCoords_;t.splice(-2,1);this.geometryFunction_(t,e)}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){t=this.sketchCoords_[0];t.splice(-2,1);o=this.sketchLine_.getGeometry();o.setCoordinates(t);this.geometryFunction_(this.sketchCoords_,e)}if(t.length===0){this.finishCoordinate_=null}this.updateSketchFeatures_()};ol.interaction.Draw.prototype.finishDrawing=function(){var e=this.abortDrawing_();var t=this.sketchCoords_;var o=e.getGeometry();if(this.mode_===ol.interaction.Draw.Mode_.LINE_STRING){t.pop();this.geometryFunction_(t,o)}else if(this.mode_===ol.interaction.Draw.Mode_.POLYGON){t[0].pop();this.geometryFunction_(t,o);t=o.getCoordinates()}if(this.type_===ol.geom.GeometryType.MULTI_POINT){e.setGeometry(new ol.geom.MultiPoint([t]))}else if(this.type_===ol.geom.GeometryType.MULTI_LINE_STRING){e.setGeometry(new ol.geom.MultiLineString([t]))}else if(this.type_===ol.geom.GeometryType.MULTI_POLYGON){e.setGeometry(new ol.geom.MultiPolygon([t]))}this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWEND,e));if(this.features_){this.features_.push(e)}if(this.source_){this.source_.addFeature(e)}};ol.interaction.Draw.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;if(e){this.sketchFeature_=null;this.sketchPoint_=null;this.sketchLine_=null;this.overlay_.getSource().clear(true)}return e};ol.interaction.Draw.prototype.extend=function(e){var t=e.getGeometry();var o=t;this.sketchFeature_=e;this.sketchCoords_=o.getCoordinates();var r=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=r.slice();this.sketchCoords_.push(r.slice());this.updateSketchFeatures_();this.dispatchEvent(new ol.interaction.Draw.Event(ol.interaction.DrawEventType.DRAWSTART,this.sketchFeature_))};ol.interaction.Draw.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Draw.prototype.updateSketchFeatures_=function(){var e=[];if(this.sketchFeature_){e.push(this.sketchFeature_)}if(this.sketchLine_){e.push(this.sketchLine_)}if(this.sketchPoint_){e.push(this.sketchPoint_)}var t=this.overlay_.getSource();t.clear(true);t.addFeatures(e)};ol.interaction.Draw.prototype.updateState_=function(){var e=this.getMap();var t=this.getActive();if(!e||!t){this.abortDrawing_()}this.overlay_.setMap(t?e:null)};ol.interaction.Draw.createRegularPolygon=function(e,t){return function(o,r){var i=o[0];var n=o[1];var a=Math.sqrt(ol.coordinate.squaredDistance(i,n));var l=r?r:ol.geom.Polygon.fromCircle(new ol.geom.Circle(i),e);var s=t?t:Math.atan((n[1]-i[1])/(n[0]-i[0]));ol.geom.Polygon.makeRegular(l,i,a,s);return l}};ol.interaction.Draw.createBox=function(){return function(e,t){var o=ol.extent.boundingExtent(e);var r=t||new ol.geom.Polygon(null);r.setCoordinates([[ol.extent.getBottomLeft(o),ol.extent.getBottomRight(o),ol.extent.getTopRight(o),ol.extent.getTopLeft(o),ol.extent.getBottomLeft(o)]]);return r}};ol.interaction.Draw.getMode_=function(e){var t;if(e===ol.geom.GeometryType.POINT||e===ol.geom.GeometryType.MULTI_POINT){t=ol.interaction.Draw.Mode_.POINT}else if(e===ol.geom.GeometryType.LINE_STRING||e===ol.geom.GeometryType.MULTI_LINE_STRING){t=ol.interaction.Draw.Mode_.LINE_STRING}else if(e===ol.geom.GeometryType.POLYGON||e===ol.geom.GeometryType.MULTI_POLYGON){t=ol.interaction.Draw.Mode_.POLYGON}else if(e===ol.geom.GeometryType.CIRCLE){t=ol.interaction.Draw.Mode_.CIRCLE}return t};ol.interaction.Draw.Mode_={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"};ol.interaction.Draw.Event=function(e,t){ol.events.Event.call(this,e);this.feature=t};ol.inherits(ol.interaction.Draw.Event,ol.events.Event);goog.provide("ol.interaction.Extent");goog.require("ol");goog.require("ol.Feature");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.coordinate");goog.require("ol.events.Event");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.interaction.Pointer");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.Extent=function(e){this.extent_=null;this.pointerHandler_=null;this.pixelTolerance_=10;this.snappedToVertex_=false;this.extentFeature_=null;this.vertexFeature_=null;if(!e){e={}}if(e.extent){this.setExtent(e.extent)}ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Extent.handleDownEvent_,handleDragEvent:ol.interaction.Extent.handleDragEvent_,handleEvent:ol.interaction.Extent.handleEvent_,handleUpEvent:ol.interaction.Extent.handleUpEvent_});this.extentOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:ol.interaction.Extent.getDefaultExtentStyleFunction_(),updateWhileAnimating:true,updateWhileInteracting:true});this.vertexOverlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:ol.interaction.Extent.getDefaultPointerStyleFunction_(),updateWhileAnimating:true,updateWhileInteracting:true})};ol.inherits(ol.interaction.Extent,ol.interaction.Pointer);ol.interaction.Extent.handleEvent_=function(e){if(!(e instanceof ol.MapBrowserPointerEvent)){return true}if(e.type==ol.MapBrowserEventType.POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(e)}ol.interaction.Pointer.handleEvent.call(this,e);return false};ol.interaction.Extent.handleDownEvent_=function(e){var t=e.pixel;var o=e.map;var r=this.getExtent();var i=this.snapToVertex_(t,o);var n=function(e){var t=null;var o=null;if(e[0]==r[0]){t=r[2]}else if(e[0]==r[2]){t=r[0]}if(e[1]==r[1]){o=r[3]}else if(e[1]==r[3]){o=r[1]}if(t!==null&&o!==null){return[t,o]}return null};if(i&&r){var a=i[0]==r[0]||i[0]==r[2]?i[0]:null;var l=i[1]==r[1]||i[1]==r[3]?i[1]:null;if(a!==null&&l!==null){this.pointerHandler_=ol.interaction.Extent.getPointHandler_(n(i))}else if(a!==null){this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(n([a,r[1]]),n([a,r[3]]))}else if(l!==null){this.pointerHandler_=ol.interaction.Extent.getEdgeHandler_(n([r[0],l]),n([r[2],l]))}}else{i=o.getCoordinateFromPixel(t);this.setExtent([i[0],i[1],i[0],i[1]]);this.pointerHandler_=ol.interaction.Extent.getPointHandler_(i)}return true};ol.interaction.Extent.handleDragEvent_=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t));this.createOrUpdatePointerFeature_(t)}return true};ol.interaction.Extent.handleUpEvent_=function(e){this.pointerHandler_=null;var t=this.getExtent();if(!t||ol.extent.getArea(t)===0){this.setExtent(null)}return false};ol.interaction.Extent.getDefaultExtentStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[ol.geom.GeometryType.POLYGON]}};ol.interaction.Extent.getDefaultPointerStyleFunction_=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[ol.geom.GeometryType.POINT]}};ol.interaction.Extent.getPointHandler_=function(e){return function(t){return ol.extent.boundingExtent([e,t])}};ol.interaction.Extent.getEdgeHandler_=function(e,t){if(e[0]==t[0]){return function(o){return ol.extent.boundingExtent([e,[o[0],t[1]]])}}else if(e[1]==t[1]){return function(o){return ol.extent.boundingExtent([e,[t[0],o[1]]])}}else{return null}};ol.interaction.Extent.getSegments_=function(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]};ol.interaction.Extent.prototype.snapToVertex_=function(e,t){var o=t.getCoordinateFromPixel(e);var r=function(e,t){return ol.coordinate.squaredDistanceToSegment(o,e)-ol.coordinate.squaredDistanceToSegment(o,t)};var i=this.getExtent();if(i){var n=ol.interaction.Extent.getSegments_(i);n.sort(r);var a=n[0];var l=ol.coordinate.closestOnSegment(o,a);var s=t.getPixelFromCoordinate(l);if(ol.coordinate.distance(e,s)<=this.pixelTolerance_){var p=t.getPixelFromCoordinate(a[0]);var u=t.getPixelFromCoordinate(a[1]);var c=ol.coordinate.squaredDistance(s,p);var g=ol.coordinate.squaredDistance(s,u);var h=Math.sqrt(Math.min(c,g));this.snappedToVertex_=h<=this.pixelTolerance_;if(this.snappedToVertex_){l=c>g?a[1]:a[0]}return l}}return null};ol.interaction.Extent.prototype.handlePointerMove_=function(e){var t=e.pixel;var o=e.map;var r=this.snapToVertex_(t,o);if(!r){r=o.getCoordinateFromPixel(t)}this.createOrUpdatePointerFeature_(r)};ol.interaction.Extent.prototype.createOrUpdateExtentFeature_=function(e){var t=this.extentFeature_;if(!t){if(!e){t=new ol.Feature({})}else{t=new ol.Feature(ol.geom.Polygon.fromExtent(e))}this.extentFeature_=t;this.extentOverlay_.getSource().addFeature(t)}else{if(!e){t.setGeometry(undefined)}else{t.setGeometry(ol.geom.Polygon.fromExtent(e))}}return t};ol.interaction.Extent.prototype.createOrUpdatePointerFeature_=function(e){var t=this.vertexFeature_;if(!t){t=new ol.Feature(new ol.geom.Point(e));this.vertexFeature_=t;this.vertexOverlay_.getSource().addFeature(t)}else{var o=t.getGeometry();o.setCoordinates(e)}return t};ol.interaction.Extent.prototype.setMap=function(e){this.extentOverlay_.setMap(e);this.vertexOverlay_.setMap(e);ol.interaction.Pointer.prototype.setMap.call(this,e)};ol.interaction.Extent.prototype.getExtent=function(){return this.extent_};ol.interaction.Extent.prototype.setExtent=function(e){this.extent_=e?e:null;this.createOrUpdateExtentFeature_(e);this.dispatchEvent(new ol.interaction.Extent.Event(this.extent_))};ol.interaction.Extent.Event=function(e){ol.events.Event.call(this,ol.interaction.Extent.EventType_.EXTENTCHANGED);this.extent_=e};ol.inherits(ol.interaction.Extent.Event,ol.events.Event);ol.interaction.Extent.EventType_={EXTENTCHANGED:"extentchanged"};goog.provide("ol.interaction.ModifyEventType");ol.interaction.ModifyEventType={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"};goog.provide("ol.interaction.Modify");goog.require("ol");goog.require("ol.CollectionEventType");goog.require("ol.Feature");goog.require("ol.MapBrowserEventType");goog.require("ol.MapBrowserPointerEvent");goog.require("ol.ViewHint");goog.require("ol.array");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.geom.GeometryType");goog.require("ol.geom.Point");goog.require("ol.interaction.ModifyEventType");goog.require("ol.interaction.Pointer");goog.require("ol.layer.Vector");goog.require("ol.source.Vector");goog.require("ol.structs.RBush");goog.require("ol.style.Style");ol.interaction.Modify=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Modify.handleDownEvent_,handleDragEvent:ol.interaction.Modify.handleDragEvent_,handleEvent:ol.interaction.Modify.handleEvent,handleUpEvent:ol.interaction.Modify.handleUpEvent_});this.condition_=e.condition?e.condition:ol.events.condition.primaryAction;this.defaultDeleteCondition_=function(e){return ol.events.condition.noModifierKeys(e)&&ol.events.condition.singleClick(e)};this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_;this.vertexFeature_=null;this.vertexSegments_=null;this.lastPixel_=[0,0];this.ignoreNextSingleClick_=false;this.modified_=false;this.rBush_=new ol.structs.RBush;this.pixelTolerance_=e.pixelTolerance!==undefined?e.pixelTolerance:10;this.snappedToVertex_=false;this.changingFeature_=false;this.dragSegments_=[];this.overlay_=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,wrapX:!!e.wrapX}),style:e.style?e.style:ol.interaction.Modify.getDefaultStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_};this.features_=e.features;this.features_.forEach(this.addFeature_,this);ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this);ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this);this.lastPointerEvent_=null};ol.inherits(ol.interaction.Modify,ol.interaction.Pointer);ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX=0;ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX=1;ol.interaction.Modify.prototype.addFeature_=function(e){var t=e.getGeometry();if(t&&t.getType()in this.SEGMENT_WRITERS_){this.SEGMENT_WRITERS_[t.getType()].call(this,e,t)}var o=this.getMap();if(o&&o.isRendered()&&this.getActive()){this.handlePointerAtPixel_(this.lastPixel_,o)}ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.willModifyFeatures_=function(e){if(!this.modified_){this.modified_=true;this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYSTART,this.features_,e))}};ol.interaction.Modify.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e);if(this.vertexFeature_&&this.features_.getLength()===0){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}ol.events.unlisten(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)};ol.interaction.Modify.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_;var o=[];t.forEach(function(t){if(e===t.feature){o.push(t)}});for(var r=o.length-1;r>=0;--r){t.remove(o[r])}};ol.interaction.Modify.prototype.setActive=function(e){if(this.vertexFeature_&&!e){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}ol.interaction.Pointer.prototype.setActive.call(this,e)};ol.interaction.Modify.prototype.setMap=function(e){this.overlay_.setMap(e);ol.interaction.Pointer.prototype.setMap.call(this,e)};ol.interaction.Modify.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)};ol.interaction.Modify.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t);this.addFeature_(t)}};ol.interaction.Modify.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)};ol.interaction.Modify.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates();var r={feature:e,geometry:t,segment:[o,o]};this.rBush_.insert(t.getExtent(),r)};ol.interaction.Modify.prototype.writeMultiPointGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a;for(i=0,n=o.length;i<n;++i){r=o[i];a={feature:e,geometry:t,depth:[i],index:i,segment:[r,r]};this.rBush_.insert(t.getExtent(),a)}};ol.interaction.Modify.prototype.writeLineStringGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a;for(r=0,i=o.length-1;r<i;++r){n=o.slice(r,r+2);a={feature:e,geometry:t,index:r,segment:n};this.rBush_.insert(ol.extent.boundingExtent(n),a)}};ol.interaction.Modify.prototype.writeMultiLineStringGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a,l,s,p;for(a=0,l=o.length;a<l;++a){r=o[a];for(i=0,n=r.length-1;i<n;++i){s=r.slice(i,i+2);p={feature:e,geometry:t,depth:[a],index:i,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),p)}}};ol.interaction.Modify.prototype.writePolygonGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a,l,s,p;for(a=0,l=o.length;a<l;++a){r=o[a];for(i=0,n=r.length-1;i<n;++i){s=r.slice(i,i+2);p={feature:e,geometry:t,depth:[a],index:i,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),p)}}};ol.interaction.Modify.prototype.writeMultiPolygonGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a,l,s,p,u,c,g;for(s=0,p=o.length;s<p;++s){u=o[s];for(a=0,l=u.length;a<l;++a){r=u[a];for(i=0,n=r.length-1;i<n;++i){c=r.slice(i,i+2);g={feature:e,geometry:t,depth:[a,s],index:i,segment:c};this.rBush_.insert(ol.extent.boundingExtent(c),g)}}}};ol.interaction.Modify.prototype.writeCircleGeometry_=function(e,t){var o=t.getCenter();var r={feature:e,geometry:t,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX,segment:[o,o]};var i={feature:e,geometry:t,index:ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX,segment:[o,o]};var n=[r,i];r.featureSegments=i.featureSegments=n;this.rBush_.insert(ol.extent.createOrUpdateFromCoordinate(o),r);this.rBush_.insert(t.getExtent(),i)};ol.interaction.Modify.prototype.writeGeometryCollectionGeometry_=function(e,t){var o,r=t.getGeometriesArray();for(o=0;o<r.length;++o){this.SEGMENT_WRITERS_[r[o].getType()].call(this,e,r[o])}};ol.interaction.Modify.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;if(!t){t=new ol.Feature(new ol.geom.Point(e));this.vertexFeature_=t;this.overlay_.getSource().addFeature(t)}else{var o=t.getGeometry();o.setCoordinates(e)}return t};ol.interaction.Modify.compareIndexes_=function(e,t){return e.index-t.index};ol.interaction.Modify.handleDownEvent_=function(e){if(!this.condition_(e)){return false}this.handlePointerAtPixel_(e.pixel,e.map);this.dragSegments_.length=0;this.modified_=false;var t=this.vertexFeature_;if(t){var o=[];var r=t.getGeometry();var i=r.getCoordinates();var n=ol.extent.boundingExtent([i]);var a=this.rBush_.getInExtent(n);var l={};a.sort(ol.interaction.Modify.compareIndexes_);for(var s=0,p=a.length;s<p;++s){var u=a[s];var c=u.segment;var g=ol.getUid(u.feature);var h=u.depth;if(h){g+="-"+h.join("-")}if(!l[g]){l[g]=new Array(2)}if(u.geometry.getType()===ol.geom.GeometryType.CIRCLE&&u.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var f=ol.interaction.Modify.closestOnSegmentData_(i,u);if(ol.coordinate.equals(f,i)&&!l[g][0]){this.dragSegments_.push([u,0]);l[g][0]=u}}else if(ol.coordinate.equals(c[0],i)&&!l[g][0]){this.dragSegments_.push([u,0]);l[g][0]=u}else if(ol.coordinate.equals(c[1],i)&&!l[g][1]){if((u.geometry.getType()===ol.geom.GeometryType.LINE_STRING||u.geometry.getType()===ol.geom.GeometryType.MULTI_LINE_STRING)&&l[g][0]&&l[g][0].index===0){continue}this.dragSegments_.push([u,1]);l[g][1]=u}else if(ol.getUid(c)in this.vertexSegments_&&(!l[g][0]&&!l[g][1])){o.push([u,i])}}if(o.length){this.willModifyFeatures_(e)}for(var d=o.length-1;d>=0;--d){this.insertVertex_.apply(this,o[d])}}return!!this.vertexFeature_};ol.interaction.Modify.handleDragEvent_=function(e){this.ignoreNextSingleClick_=false;this.willModifyFeatures_(e);var t=e.coordinate;for(var o=0,r=this.dragSegments_.length;o<r;++o){var i=this.dragSegments_[o];var n=i[0];var a=n.depth;var l=n.geometry;var s;var p=n.segment;var u=i[1];while(t.length<l.getStride()){t.push(p[u][t.length])}switch(l.getType()){case ol.geom.GeometryType.POINT:s=t;p[0]=p[1]=t;break;case ol.geom.GeometryType.MULTI_POINT:s=l.getCoordinates();s[n.index]=t;p[0]=p[1]=t;break;case ol.geom.GeometryType.LINE_STRING:s=l.getCoordinates();s[n.index+u]=t;p[u]=t;break;case ol.geom.GeometryType.MULTI_LINE_STRING:s=l.getCoordinates();s[a[0]][n.index+u]=t;p[u]=t;break;case ol.geom.GeometryType.POLYGON:s=l.getCoordinates();s[a[0]][n.index+u]=t;p[u]=t;break;case ol.geom.GeometryType.MULTI_POLYGON:s=l.getCoordinates();s[a[1]][a[0]][n.index+u]=t;p[u]=t;break;case ol.geom.GeometryType.CIRCLE:p[0]=p[1]=t;if(n.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CENTER_INDEX){this.changingFeature_=true;l.setCenter(t);this.changingFeature_=false}else{this.changingFeature_=true;l.setRadius(ol.coordinate.distance(l.getCenter(),t));this.changingFeature_=false}break;default:}if(s){this.setGeometryCoordinates_(l,s)}}this.createOrUpdateVertexFeature_(t)};ol.interaction.Modify.handleUpEvent_=function(e){var t;var o;for(var r=this.dragSegments_.length-1;r>=0;--r){t=this.dragSegments_[r][0];o=t.geometry;if(o.getType()===ol.geom.GeometryType.CIRCLE){var i=o.getCenter();var n=t.featureSegments[0];var a=t.featureSegments[1];n.segment[0]=n.segment[1]=i;a.segment[0]=a.segment[1]=i;this.rBush_.update(ol.extent.createOrUpdateFromCoordinate(i),n);this.rBush_.update(o.getExtent(),a)}else{this.rBush_.update(ol.extent.boundingExtent(t.segment),t)}}if(this.modified_){this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e));this.modified_=false}return false};ol.interaction.Modify.handleEvent=function(e){if(!(e instanceof ol.MapBrowserPointerEvent)){return true}this.lastPointerEvent_=e;var t;if(!e.map.getView().getHints()[ol.ViewHint.INTERACTING]&&e.type==ol.MapBrowserEventType.POINTERMOVE&&!this.handlingDownUpSequence){this.handlePointerMove_(e)}if(this.vertexFeature_&&this.deleteCondition_(e)){if(e.type!=ol.MapBrowserEventType.SINGLECLICK||!this.ignoreNextSingleClick_){t=this.removePoint()}else{t=true}}if(e.type==ol.MapBrowserEventType.SINGLECLICK){this.ignoreNextSingleClick_=false}return ol.interaction.Pointer.handleEvent.call(this,e)&&!t};ol.interaction.Modify.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel;this.handlePointerAtPixel_(e.pixel,e.map)};ol.interaction.Modify.prototype.handlePointerAtPixel_=function(e,t){var o=t.getCoordinateFromPixel(e);var r=function(e,t){return ol.interaction.Modify.pointDistanceToSegmentDataSquared_(o,e)-ol.interaction.Modify.pointDistanceToSegmentDataSquared_(o,t)};var i=ol.extent.buffer(ol.extent.createOrUpdateFromCoordinate(o),t.getView().getResolution()*this.pixelTolerance_);var n=this.rBush_;var a=n.getInExtent(i);if(a.length>0){a.sort(r);var l=a[0];var s=l.segment;var p=ol.interaction.Modify.closestOnSegmentData_(o,l);var u=t.getPixelFromCoordinate(p);var c=ol.coordinate.distance(e,u);if(c<=this.pixelTolerance_){var g={};if(l.geometry.getType()===ol.geom.GeometryType.CIRCLE&&l.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){this.snappedToVertex_=true;this.createOrUpdateVertexFeature_(p)}else{var h=t.getPixelFromCoordinate(s[0]);var f=t.getPixelFromCoordinate(s[1]);var d=ol.coordinate.squaredDistance(u,h);var y=ol.coordinate.squaredDistance(u,f);c=Math.sqrt(Math.min(d,y));this.snappedToVertex_=c<=this.pixelTolerance_;if(this.snappedToVertex_){p=d>y?s[1]:s[0]}this.createOrUpdateVertexFeature_(p);var m;for(var v=1,_=a.length;v<_;++v){m=a[v].segment;if(ol.coordinate.equals(s[0],m[0])&&ol.coordinate.equals(s[1],m[1])||ol.coordinate.equals(s[0],m[1])&&ol.coordinate.equals(s[1],m[0])){g[ol.getUid(m)]=true}else{break}}}g[ol.getUid(s)]=true;this.vertexSegments_=g;return}}if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}};ol.interaction.Modify.pointDistanceToSegmentDataSquared_=function(e,t){var o=t.geometry;if(o.getType()===ol.geom.GeometryType.CIRCLE){var r=o;if(t.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){var i=ol.coordinate.squaredDistance(r.getCenter(),e);var n=Math.sqrt(i)-r.getRadius();return n*n}}return ol.coordinate.squaredDistanceToSegment(e,t.segment)};ol.interaction.Modify.closestOnSegmentData_=function(e,t){var o=t.geometry;if(o.getType()===ol.geom.GeometryType.CIRCLE&&t.index===ol.interaction.Modify.MODIFY_SEGMENT_CIRCLE_CIRCUMFERENCE_INDEX){return o.getClosestPoint(e)}return ol.coordinate.closestOnSegment(e,t.segment)};ol.interaction.Modify.prototype.insertVertex_=function(e,t){var o=e.segment;var r=e.feature;var i=e.geometry;var n=e.depth;var a=e.index;var l;while(t.length<i.getStride()){t.push(0)}switch(i.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:l=i.getCoordinates();l[n[0]].splice(a+1,0,t);break;case ol.geom.GeometryType.POLYGON:l=i.getCoordinates();l[n[0]].splice(a+1,0,t);break;case ol.geom.GeometryType.MULTI_POLYGON:l=i.getCoordinates();l[n[1]][n[0]].splice(a+1,0,t);break;case ol.geom.GeometryType.LINE_STRING:l=i.getCoordinates();l.splice(a+1,0,t);break;default:return}this.setGeometryCoordinates_(i,l);var s=this.rBush_;s.remove(e);this.updateSegmentIndices_(i,a,n,1);var p={segment:[o[0],t],feature:r,geometry:i,depth:n,index:a};s.insert(ol.extent.boundingExtent(p.segment),p);this.dragSegments_.push([p,1]);var u={segment:[t,o[1]],feature:r,geometry:i,depth:n,index:a+1};s.insert(ol.extent.boundingExtent(u.segment),u);this.dragSegments_.push([u,0]);this.ignoreNextSingleClick_=true};ol.interaction.Modify.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=ol.MapBrowserEventType.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e);this.removeVertex_();this.dispatchEvent(new ol.interaction.Modify.Event(ol.interaction.ModifyEventType.MODIFYEND,this.features_,e));this.modified_=false;return true}return false};ol.interaction.Modify.prototype.removeVertex_=function(){var e=this.dragSegments_;var t={};var o=false;var r,i,n,a,l,s,p;var u,c,g,h;for(l=e.length-1;l>=0;--l){n=e[l];g=n[0];h=ol.getUid(g.feature);if(g.depth){h+="-"+g.depth.join("-")}if(!(h in t)){t[h]={}}if(n[1]===0){t[h].right=g;t[h].index=g.index}else if(n[1]==1){t[h].left=g;t[h].index=g.index+1}}for(h in t){c=t[h].right;p=t[h].left;s=t[h].index;u=s-1;if(p!==undefined){g=p}else{g=c}if(u<0){u=0}a=g.geometry;i=a.getCoordinates();r=i;o=false;switch(a.getType()){case ol.geom.GeometryType.MULTI_LINE_STRING:if(i[g.depth[0]].length>2){i[g.depth[0]].splice(s,1);o=true}break;case ol.geom.GeometryType.LINE_STRING:if(i.length>2){i.splice(s,1);o=true}break;case ol.geom.GeometryType.MULTI_POLYGON:r=r[g.depth[1]];case ol.geom.GeometryType.POLYGON:r=r[g.depth[0]];if(r.length>4){if(s==r.length-1){s=0}r.splice(s,1);o=true;if(s===0){r.pop();r.push(r[0]);u=r.length-1}}break;default:}if(o){this.setGeometryCoordinates_(a,i);var f=[];if(p!==undefined){this.rBush_.remove(p);f.push(p.segment[0])}if(c!==undefined){this.rBush_.remove(c);f.push(c.segment[1])}if(p!==undefined&&c!==undefined){var d={depth:g.depth,feature:g.feature,geometry:g.geometry,index:u,segment:f};this.rBush_.insert(ol.extent.boundingExtent(d.segment),d)}this.updateSegmentIndices_(a,s,g.depth,-1);if(this.vertexFeature_){this.overlay_.getSource().removeFeature(this.vertexFeature_);this.vertexFeature_=null}}}return o};ol.interaction.Modify.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=true;e.setCoordinates(t);this.changingFeature_=false};ol.interaction.Modify.prototype.updateSegmentIndices_=function(e,t,o,r){this.rBush_.forEachInExtent(e.getExtent(),function(i){if(i.geometry===e&&(o===undefined||i.depth===undefined||ol.array.equals(i.depth,o))&&i.index>t){i.index+=r}})};ol.interaction.Modify.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();return function(t,o){return e[ol.geom.GeometryType.POINT]}};ol.interaction.Modify.Event=function(e,t,o){ol.events.Event.call(this,e);this.features=t;this.mapBrowserEvent=o};ol.inherits(ol.interaction.Modify.Event,ol.events.Event);goog.provide("ol.interaction.Select");goog.require("ol");goog.require("ol.CollectionEventType");goog.require("ol.array");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.functions");goog.require("ol.geom.GeometryType");goog.require("ol.interaction.Interaction");goog.require("ol.layer.Vector");goog.require("ol.obj");goog.require("ol.source.Vector");goog.require("ol.style.Style");ol.interaction.Select=function(e){ol.interaction.Interaction.call(this,{handleEvent:ol.interaction.Select.handleEvent});var t=e?e:{};this.condition_=t.condition?t.condition:ol.events.condition.singleClick;this.addCondition_=t.addCondition?t.addCondition:ol.events.condition.never;this.removeCondition_=t.removeCondition?t.removeCondition:ol.events.condition.never;this.toggleCondition_=t.toggleCondition?t.toggleCondition:ol.events.condition.shiftKeyOnly;this.multi_=t.multi?t.multi:false;this.filter_=t.filter?t.filter:ol.functions.TRUE;this.hitTolerance_=t.hitTolerance?t.hitTolerance:0;var o=new ol.layer.Vector({source:new ol.source.Vector({useSpatialIndex:false,features:t.features,wrapX:t.wrapX}),style:t.style?t.style:ol.interaction.Select.getDefaultStyleFunction(),updateWhileAnimating:true,updateWhileInteracting:true});this.featureOverlay_=o;var r;if(t.layers){if(typeof t.layers==="function"){r=t.layers}else{var i=t.layers;r=function(e){return ol.array.includes(i,e)}}}else{r=ol.functions.TRUE;
}this.layerFilter_=r;this.featureLayerAssociation_={};var n=this.featureOverlay_.getSource().getFeaturesCollection();ol.events.listen(n,ol.CollectionEventType.ADD,this.addFeature_,this);ol.events.listen(n,ol.CollectionEventType.REMOVE,this.removeFeature_,this)};ol.inherits(ol.interaction.Select,ol.interaction.Interaction);ol.interaction.Select.prototype.addFeatureLayerAssociation_=function(e,t){var o=ol.getUid(e);this.featureLayerAssociation_[o]=t};ol.interaction.Select.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()};ol.interaction.Select.prototype.getHitTolerance=function(){return this.hitTolerance_};ol.interaction.Select.prototype.getLayer=function(e){var t=ol.getUid(e);return this.featureLayerAssociation_[t]};ol.interaction.Select.handleEvent=function(e){if(!this.condition_(e)){return true}var t=this.addCondition_(e);var o=this.removeCondition_(e);var r=this.toggleCondition_(e);var i=!t&&!o&&!r;var n=e.map;var a=this.featureOverlay_.getSource().getFeaturesCollection();var l=[];var s=[];if(i){ol.obj.clear(this.featureLayerAssociation_);n.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t)){s.push(e);this.addFeatureLayerAssociation_(e,t);return!this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var p;for(p=a.getLength()-1;p>=0;--p){var u=a.item(p);var c=s.indexOf(u);if(c>-1){s.splice(c,1)}else{a.remove(u);l.push(u)}}if(s.length!==0){a.extend(s)}}else{n.forEachFeatureAtPixel(e.pixel,function(e,i){if(this.filter_(e,i)){if((t||r)&&!ol.array.includes(a.getArray(),e)){s.push(e);this.addFeatureLayerAssociation_(e,i)}else if((o||r)&&ol.array.includes(a.getArray(),e)){l.push(e);this.removeFeatureLayerAssociation_(e)}return!this.multi_}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});var g;for(g=l.length-1;g>=0;--g){a.remove(l[g])}a.extend(s)}if(s.length>0||l.length>0){this.dispatchEvent(new ol.interaction.Select.Event(ol.interaction.Select.EventType_.SELECT,s,l,e))}return ol.events.condition.pointerMove(e)};ol.interaction.Select.prototype.setHitTolerance=function(e){this.hitTolerance_=e};ol.interaction.Select.prototype.setMap=function(e){var t=this.getMap();var o=this.featureOverlay_.getSource().getFeaturesCollection();if(t){o.forEach(t.unskipFeature,t)}ol.interaction.Interaction.prototype.setMap.call(this,e);this.featureOverlay_.setMap(e);if(e){o.forEach(e.skipFeature,e)}};ol.interaction.Select.getDefaultStyleFunction=function(){var e=ol.style.Style.createDefaultEditing();ol.array.extend(e[ol.geom.GeometryType.POLYGON],e[ol.geom.GeometryType.LINE_STRING]);ol.array.extend(e[ol.geom.GeometryType.GEOMETRY_COLLECTION],e[ol.geom.GeometryType.LINE_STRING]);return function(t,o){if(!t.getGeometry()){return null}return e[t.getGeometry().getType()]}};ol.interaction.Select.prototype.addFeature_=function(e){var t=this.getMap();if(t){t.skipFeature(e.element)}};ol.interaction.Select.prototype.removeFeature_=function(e){var t=this.getMap();if(t){t.unskipFeature(e.element)}};ol.interaction.Select.prototype.removeFeatureLayerAssociation_=function(e){var t=ol.getUid(e);delete this.featureLayerAssociation_[t]};ol.interaction.Select.Event=function(e,t,o,r){ol.events.Event.call(this,e);this.selected=t;this.deselected=o;this.mapBrowserEvent=r};ol.inherits(ol.interaction.Select.Event,ol.events.Event);ol.interaction.Select.EventType_={SELECT:"select"};goog.provide("ol.interaction.Snap");goog.require("ol");goog.require("ol.Collection");goog.require("ol.CollectionEventType");goog.require("ol.coordinate");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.interaction.Pointer");goog.require("ol.obj");goog.require("ol.source.Vector");goog.require("ol.source.VectorEventType");goog.require("ol.structs.RBush");ol.interaction.Snap=function(e){ol.interaction.Pointer.call(this,{handleEvent:ol.interaction.Snap.handleEvent_,handleDownEvent:ol.functions.TRUE,handleUpEvent:ol.interaction.Snap.handleUpEvent_});var t=e?e:{};this.source_=t.source?t.source:null;this.vertex_=t.vertex!==undefined?t.vertex:true;this.edge_=t.edge!==undefined?t.edge:true;this.features_=t.features?t.features:null;this.featuresListenerKeys_=[];this.featureChangeListenerKeys_={};this.indexedFeaturesExtents_={};this.pendingFeatures_={};this.pixelCoordinate_=null;this.pixelTolerance_=t.pixelTolerance!==undefined?t.pixelTolerance:10;this.sortByDistance_=ol.interaction.Snap.sortByDistance.bind(this);this.rBush_=new ol.structs.RBush;this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_}};ol.inherits(ol.interaction.Snap,ol.interaction.Pointer);ol.interaction.Snap.prototype.addFeature=function(e,t){var o=t!==undefined?t:true;var r=ol.getUid(e);var i=e.getGeometry();if(i){var n=this.SEGMENT_WRITERS_[i.getType()];if(n){this.indexedFeaturesExtents_[r]=i.getExtent(ol.extent.createEmpty());n.call(this,e,i)}}if(o){this.featureChangeListenerKeys_[r]=ol.events.listen(e,ol.events.EventType.CHANGE,this.handleFeatureChange_,this)}};ol.interaction.Snap.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)};ol.interaction.Snap.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)};ol.interaction.Snap.prototype.getFeatures_=function(){var e;if(this.features_){e=this.features_}else if(this.source_){e=this.source_.getFeatures()}return e};ol.interaction.Snap.prototype.handleFeatureAdd_=function(e){var t;if(e instanceof ol.source.Vector.Event){t=e.feature}else if(e instanceof ol.Collection.Event){t=e.element}this.addFeature(t)};ol.interaction.Snap.prototype.handleFeatureRemove_=function(e){var t;if(e instanceof ol.source.Vector.Event){t=e.feature}else if(e instanceof ol.Collection.Event){t=e.element}this.removeFeature(t)};ol.interaction.Snap.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var o=ol.getUid(t);if(!(o in this.pendingFeatures_)){this.pendingFeatures_[o]=t}}else{this.updateFeature_(t)}};ol.interaction.Snap.prototype.removeFeature=function(e,t){var o=t!==undefined?t:true;var r=ol.getUid(e);var i=this.indexedFeaturesExtents_[r];if(i){var n=this.rBush_;var a,l=[];n.forEachInExtent(i,function(t){if(e===t.feature){l.push(t)}});for(a=l.length-1;a>=0;--a){n.remove(l[a])}}if(o){ol.events.unlistenByKey(this.featureChangeListenerKeys_[r]);delete this.featureChangeListenerKeys_[r]}};ol.interaction.Snap.prototype.setMap=function(e){var t=this.getMap();var o=this.featuresListenerKeys_;var r=this.getFeatures_();if(t){o.forEach(ol.events.unlistenByKey);o.length=0;r.forEach(this.forEachFeatureRemove_,this)}ol.interaction.Pointer.prototype.setMap.call(this,e);if(e){if(this.features_){o.push(ol.events.listen(this.features_,ol.CollectionEventType.ADD,this.handleFeatureAdd_,this),ol.events.listen(this.features_,ol.CollectionEventType.REMOVE,this.handleFeatureRemove_,this))}else if(this.source_){o.push(ol.events.listen(this.source_,ol.source.VectorEventType.ADDFEATURE,this.handleFeatureAdd_,this),ol.events.listen(this.source_,ol.source.VectorEventType.REMOVEFEATURE,this.handleFeatureRemove_,this))}r.forEach(this.forEachFeatureAdd_,this)}};ol.interaction.Snap.prototype.shouldStopEvent=ol.functions.FALSE;ol.interaction.Snap.prototype.snapTo=function(e,t,o){var r=o.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]);var i=o.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]);var n=ol.extent.boundingExtent([r,i]);var a=this.rBush_.getInExtent(n);var l=false;var s=false;var p=null;var u=null;var c,g,h,f,d;if(a.length>0){this.pixelCoordinate_=t;a.sort(this.sortByDistance_);var y=a[0].segment;if(this.vertex_&&!this.edge_){g=o.getPixelFromCoordinate(y[0]);h=o.getPixelFromCoordinate(y[1]);f=ol.coordinate.squaredDistance(e,g);d=ol.coordinate.squaredDistance(e,h);c=Math.sqrt(Math.min(f,d));l=c<=this.pixelTolerance_;if(l){s=true;p=f>d?y[1]:y[0];u=o.getPixelFromCoordinate(p)}}else if(this.edge_){p=ol.coordinate.closestOnSegment(t,y);u=o.getPixelFromCoordinate(p);if(ol.coordinate.distance(e,u)<=this.pixelTolerance_){s=true;if(this.vertex_){g=o.getPixelFromCoordinate(y[0]);h=o.getPixelFromCoordinate(y[1]);f=ol.coordinate.squaredDistance(u,g);d=ol.coordinate.squaredDistance(u,h);c=Math.sqrt(Math.min(f,d));l=c<=this.pixelTolerance_;if(l){p=f>d?y[1]:y[0];u=o.getPixelFromCoordinate(p)}}}}if(s){u=[Math.round(u[0]),Math.round(u[1])]}}return{snapped:s,vertex:p,vertexPixel:u}};ol.interaction.Snap.prototype.updateFeature_=function(e){this.removeFeature(e,false);this.addFeature(e,false)};ol.interaction.Snap.prototype.writeGeometryCollectionGeometry_=function(e,t){var o,r=t.getGeometriesArray();for(o=0;o<r.length;++o){this.SEGMENT_WRITERS_[r[o].getType()].call(this,e,r[o])}};ol.interaction.Snap.prototype.writeLineStringGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a;for(r=0,i=o.length-1;r<i;++r){n=o.slice(r,r+2);a={feature:e,segment:n};this.rBush_.insert(ol.extent.boundingExtent(n),a)}};ol.interaction.Snap.prototype.writeMultiLineStringGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a,l,s,p;for(a=0,l=o.length;a<l;++a){r=o[a];for(i=0,n=r.length-1;i<n;++i){s=r.slice(i,i+2);p={feature:e,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),p)}}};ol.interaction.Snap.prototype.writeMultiPointGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a;for(i=0,n=o.length;i<n;++i){r=o[i];a={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),a)}};ol.interaction.Snap.prototype.writeMultiPolygonGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a,l,s,p,u,c,g;for(s=0,p=o.length;s<p;++s){u=o[s];for(a=0,l=u.length;a<l;++a){r=u[a];for(i=0,n=r.length-1;i<n;++i){c=r.slice(i,i+2);g={feature:e,segment:c};this.rBush_.insert(ol.extent.boundingExtent(c),g)}}}};ol.interaction.Snap.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates();var r={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),r)};ol.interaction.Snap.prototype.writePolygonGeometry_=function(e,t){var o=t.getCoordinates();var r,i,n,a,l,s,p;for(a=0,l=o.length;a<l;++a){r=o[a];for(i=0,n=r.length-1;i<n;++i){s=r.slice(i,i+2);p={feature:e,segment:s};this.rBush_.insert(ol.extent.boundingExtent(s),p)}}};ol.interaction.Snap.handleEvent_=function(e){var t=this.snapTo(e.pixel,e.coordinate,e.map);if(t.snapped){e.coordinate=t.vertex.slice(0,2);e.pixel=t.vertexPixel}return ol.interaction.Pointer.handleEvent.call(this,e)};ol.interaction.Snap.handleUpEvent_=function(e){var t=ol.obj.getValues(this.pendingFeatures_);if(t.length){t.forEach(this.updateFeature_,this);this.pendingFeatures_={}}return false};ol.interaction.Snap.sortByDistance=function(e,t){return ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,e.segment)-ol.coordinate.squaredDistanceToSegment(this.pixelCoordinate_,t.segment)};goog.provide("ol.interaction.TranslateEventType");ol.interaction.TranslateEventType={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"};goog.provide("ol.interaction.Translate");goog.require("ol");goog.require("ol.Collection");goog.require("ol.events.Event");goog.require("ol.functions");goog.require("ol.array");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.TranslateEventType");ol.interaction.Translate=function(e){ol.interaction.Pointer.call(this,{handleDownEvent:ol.interaction.Translate.handleDownEvent_,handleDragEvent:ol.interaction.Translate.handleDragEvent_,handleMoveEvent:ol.interaction.Translate.handleMoveEvent_,handleUpEvent:ol.interaction.Translate.handleUpEvent_});var t=e?e:{};this.previousCursor_=undefined;this.lastCoordinate_=null;this.features_=t.features!==undefined?t.features:null;var o;if(t.layers){if(typeof t.layers==="function"){o=t.layers}else{var r=t.layers;o=function(e){return ol.array.includes(r,e)}}}else{o=ol.functions.TRUE}this.layerFilter_=o;this.hitTolerance_=t.hitTolerance?t.hitTolerance:0;this.lastFeature_=null};ol.inherits(ol.interaction.Translate,ol.interaction.Pointer);ol.interaction.Translate.handleDownEvent_=function(e){this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map);if(!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate;ol.interaction.Translate.handleMoveEvent_.call(this,e);var t=this.features_||new ol.Collection([this.lastFeature_]);this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATESTART,t,e.coordinate));return true}return false};ol.interaction.Translate.handleUpEvent_=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null;ol.interaction.Translate.handleMoveEvent_.call(this,e);var t=this.features_||new ol.Collection([this.lastFeature_]);this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATEEND,t,e.coordinate));return true}return false};ol.interaction.Translate.handleDragEvent_=function(e){if(this.lastCoordinate_){var t=e.coordinate;var o=t[0]-this.lastCoordinate_[0];var r=t[1]-this.lastCoordinate_[1];var i=this.features_||new ol.Collection([this.lastFeature_]);i.forEach(function(e){var t=e.getGeometry();t.translate(o,r);e.setGeometry(t)});this.lastCoordinate_=t;this.dispatchEvent(new ol.interaction.Translate.Event(ol.interaction.TranslateEventType.TRANSLATING,i,t))}};ol.interaction.Translate.handleMoveEvent_=function(e){var t=e.map.getTargetElement();if(this.featuresAtPixel_(e.pixel,e.map)){this.previousCursor_=this.previousCursor_!==undefined?this.previousCursor_:t.style.cursor;t.style.cursor=this.lastCoordinate_?"-webkit-grabbing":"-webkit-grab";t.style.cursor=this.lastCoordinate_?"grabbing":"grab"}else if(this.previousCursor_!==undefined){t.style.cursor=this.previousCursor_;this.previousCursor_=undefined}};ol.interaction.Translate.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e){if(!this.features_||ol.array.includes(this.features_.getArray(),e)){return e}}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})};ol.interaction.Translate.prototype.getHitTolerance=function(){return this.hitTolerance_};ol.interaction.Translate.prototype.setHitTolerance=function(e){this.hitTolerance_=e};ol.interaction.Translate.Event=function(e,t,o){ol.events.Event.call(this,e);this.features=t;this.coordinate=o};ol.inherits(ol.interaction.Translate.Event,ol.events.Event);goog.provide("ol.layer.Heatmap");goog.require("ol.events");goog.require("ol");goog.require("ol.Object");goog.require("ol.dom");goog.require("ol.layer.Vector");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.render.EventType");goog.require("ol.style.Icon");goog.require("ol.style.Style");ol.layer.Heatmap=function(e){var t=e?e:{};var o=ol.obj.assign({},t);delete o.gradient;delete o.radius;delete o.blur;delete o.shadow;delete o.weight;ol.layer.Vector.call(this,o);this.gradient_=null;this.shadow_=t.shadow!==undefined?t.shadow:250;this.circleImage_=undefined;this.styleCache_=null;ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.GRADIENT),this.handleGradientChanged_,this);this.setGradient(t.gradient?t.gradient:ol.layer.Heatmap.DEFAULT_GRADIENT);this.setBlur(t.blur!==undefined?t.blur:15);this.setRadius(t.radius!==undefined?t.radius:8);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.BLUR),this.handleStyleChanged_,this);ol.events.listen(this,ol.Object.getChangeEventType(ol.layer.Heatmap.Property_.RADIUS),this.handleStyleChanged_,this);this.handleStyleChanged_();var r=t.weight?t.weight:"weight";var i;if(typeof r==="string"){i=function(e){return e.get(r)}}else{i=r}this.setStyle(function(e,t){var o=i(e);var r=o!==undefined?ol.math.clamp(o,0,1):1;var n=255*r|0;var a=this.styleCache_[n];if(!a){a=[new ol.style.Style({image:new ol.style.Icon({opacity:r,src:this.circleImage_})})];this.styleCache_[n]=a}return a}.bind(this));this.setRenderOrder(null);ol.events.listen(this,ol.render.EventType.RENDER,this.handleRender_,this)};ol.inherits(ol.layer.Heatmap,ol.layer.Vector);ol.layer.Heatmap.DEFAULT_GRADIENT=["#00f","#0ff","#0f0","#ff0","#f00"];ol.layer.Heatmap.createGradient_=function(e){var t=1;var o=256;var r=ol.dom.createCanvasContext2D(t,o);var i=r.createLinearGradient(0,0,t,o);var n=1/(e.length-1);for(var a=0,l=e.length;a<l;++a){i.addColorStop(a*n,e[a])}r.fillStyle=i;r.fillRect(0,0,t,o);return r.getImageData(0,0,t,o).data};ol.layer.Heatmap.prototype.createCircle_=function(){var e=this.getRadius();var t=this.getBlur();var o=e+t+1;var r=2*o;var i=ol.dom.createCanvasContext2D(r,r);i.shadowOffsetX=i.shadowOffsetY=this.shadow_;i.shadowBlur=t;i.shadowColor="#000";i.beginPath();var n=o-this.shadow_;i.arc(n,n,e,0,Math.PI*2,true);i.fill();return i.canvas.toDataURL()};ol.layer.Heatmap.prototype.getBlur=function(){return this.get(ol.layer.Heatmap.Property_.BLUR)};ol.layer.Heatmap.prototype.getGradient=function(){return this.get(ol.layer.Heatmap.Property_.GRADIENT)};ol.layer.Heatmap.prototype.getRadius=function(){return this.get(ol.layer.Heatmap.Property_.RADIUS)};ol.layer.Heatmap.prototype.handleGradientChanged_=function(){this.gradient_=ol.layer.Heatmap.createGradient_(this.getGradient())};ol.layer.Heatmap.prototype.handleStyleChanged_=function(){this.circleImage_=this.createCircle_();this.styleCache_=new Array(256);this.changed()};ol.layer.Heatmap.prototype.handleRender_=function(e){var t=e.context;var o=t.canvas;var r=t.getImageData(0,0,o.width,o.height);var i=r.data;var n,a,l;for(n=0,a=i.length;n<a;n+=4){l=i[n+3]*4;if(l){i[n]=this.gradient_[l];i[n+1]=this.gradient_[l+1];i[n+2]=this.gradient_[l+2]}}t.putImageData(r,0,0)};ol.layer.Heatmap.prototype.setBlur=function(e){this.set(ol.layer.Heatmap.Property_.BLUR,e)};ol.layer.Heatmap.prototype.setGradient=function(e){this.set(ol.layer.Heatmap.Property_.GRADIENT,e)};ol.layer.Heatmap.prototype.setRadius=function(e){this.set(ol.layer.Heatmap.Property_.RADIUS,e)};ol.layer.Heatmap.Property_={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"};goog.provide("ol.renderer.canvas.IntermediateCanvas");goog.require("ol");goog.require("ol.coordinate");goog.require("ol.dom");goog.require("ol.renderer.canvas.Layer");goog.require("ol.transform");ol.renderer.canvas.IntermediateCanvas=function(e){ol.renderer.canvas.Layer.call(this,e);this.coordinateToCanvasPixelTransform=ol.transform.create();this.hitCanvasContext_=null;this.renderedResolution};ol.inherits(ol.renderer.canvas.IntermediateCanvas,ol.renderer.canvas.Layer);ol.renderer.canvas.IntermediateCanvas.prototype.composeFrame=function(e,t,o){this.preCompose(o,e);var r=this.getImage();if(r){var i=t.extent;var n=i!==undefined;if(n){this.clip(o,e,i)}var a=this.getImageTransform();var l=o.globalAlpha;o.globalAlpha=t.opacity;var s=a[4];var p=a[5];var u=r.width*a[0];var c=r.height*a[3];o.drawImage(r,0,0,+r.width,+r.height,Math.round(s),Math.round(p),Math.round(u),Math.round(c));o.globalAlpha=l;if(n){o.restore()}}this.postCompose(o,e,t)};ol.renderer.canvas.IntermediateCanvas.prototype.getImage=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.getImageTransform=function(){};ol.renderer.canvas.IntermediateCanvas.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){var n=this.getLayer();var a=n.getSource();var l=t.viewState.resolution;var s=t.viewState.rotation;var p=t.skippedFeatureUids;return a.forEachFeatureAtCoordinate(e,l,s,o,p,function(e){return r.call(i,e,n)})};ol.renderer.canvas.IntermediateCanvas.prototype.forEachLayerAtCoordinate=function(e,t,o,r){if(!this.getImage()){return undefined}if(this.getLayer().getSource().forEachFeatureAtCoordinate!==ol.nullFunction){return ol.renderer.canvas.Layer.prototype.forEachLayerAtCoordinate.apply(this,arguments)}else{var i=ol.transform.apply(this.coordinateToCanvasPixelTransform,e.slice());ol.coordinate.scale(i,t.viewState.resolution/this.renderedResolution);if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.getImage(),i[0],i[1],1,1,0,0,1,1);var n=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(n[3]>0){return o.call(r,this.getLayer(),n)}else{return undefined}}};goog.provide("ol.renderer.canvas.ImageLayer");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.extent");goog.require("ol.renderer.canvas.IntermediateCanvas");goog.require("ol.transform");ol.renderer.canvas.ImageLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e);this.image_=null;this.imageTransform_=ol.transform.create()};ol.inherits(ol.renderer.canvas.ImageLayer,ol.renderer.canvas.IntermediateCanvas);ol.renderer.canvas.ImageLayer.prototype.getImage=function(){return!this.image_?null:this.image_.getImage()};ol.renderer.canvas.ImageLayer.prototype.getImageTransform=function(){return this.imageTransform_};ol.renderer.canvas.ImageLayer.prototype.prepareFrame=function(e,t){var o=e.pixelRatio;var r=e.size;var i=e.viewState;var n=i.center;var a=i.resolution;var l;var s=this.getLayer();var p=s.getSource();var u=e.viewHints;var c=e.extent;if(t.extent!==undefined){c=ol.extent.getIntersection(c,t.extent)}if(!u[ol.ViewHint.ANIMATING]&&!u[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(c)){var g=i.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var h=p.getProjection();if(h){g=h}}l=p.getImage(c,a,o,g);if(l){var f=this.loadImage(l);if(f){this.image_=l}}}if(this.image_){l=this.image_;var d=l.getExtent();var y=l.getResolution();var m=l.getPixelRatio();var v=o*y/(a*m);var _=ol.transform.compose(this.imageTransform_,o*r[0]/2,o*r[1]/2,v,v,0,m*(d[0]-n[0])/y,m*(n[1]-d[3])/y);ol.transform.compose(this.coordinateToCanvasPixelTransform,o*r[0]/2-_[4],o*r[1]/2-_[5],o/a,-o/a,0,-n[0],-n[1]);this.updateAttributions(e.attributions,l.getAttributions());this.updateLogos(e,p);this.renderedResolution=a*o/m}return!!this.image_};goog.provide("ol.reproj");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj");ol.reproj.calculateSourceResolution=function(e,t,o,r){var i=ol.proj.transform(o,t,e);var n=ol.proj.getPointResolution(t,r,o);var a=t.getMetersPerUnit();if(a!==undefined){n*=a}var l=e.getMetersPerUnit();if(l!==undefined){n/=l}var s=ol.proj.getPointResolution(e,n,i)/n;if(isFinite(s)&&s>0){n/=s}return n};ol.reproj.enlargeClipPoint_=function(e,t,o,r){var i=o-e,n=r-t;var a=Math.sqrt(i*i+n*n);return[Math.round(o+i/a),Math.round(r+n/a)]};ol.reproj.render=function(e,t,o,r,i,n,a,l,s,p,u){var c=ol.dom.createCanvasContext2D(Math.round(o*e),Math.round(o*t));if(s.length===0){return c.canvas}c.scale(o,o);var g=ol.extent.createEmpty();s.forEach(function(e,t,o){ol.extent.extend(g,e.extent)});var h=ol.extent.getWidth(g);var f=ol.extent.getHeight(g);var d=ol.dom.createCanvasContext2D(Math.round(o*h/r),Math.round(o*f/r));var y=o/r;s.forEach(function(e,t,o){var r=e.extent[0]-g[0];var i=-(e.extent[3]-g[3]);var n=ol.extent.getWidth(e.extent);var a=ol.extent.getHeight(e.extent);d.drawImage(e.image,p,p,e.image.width-2*p,e.image.height-2*p,r*y,i*y,n*y,a*y)});var m=ol.extent.getTopLeft(a);l.getTriangles().forEach(function(e,t,i){var a=e.source,l=e.target;var s=a[0][0],p=a[0][1],u=a[1][0],h=a[1][1],f=a[2][0],y=a[2][1];var v=(l[0][0]-m[0])/n,_=-(l[0][1]-m[1])/n;var x=(l[1][0]-m[0])/n,S=-(l[1][1]-m[1])/n;var P=(l[2][0]-m[0])/n,E=-(l[2][1]-m[1])/n;var T=s,b=p;s=0;p=0;u-=T;h-=b;f-=T;y-=b;var M=[[u,h,0,0,x-v],[f,y,0,0,P-v],[0,0,u,h,S-_],[0,0,f,y,E-_]];var C=ol.math.solveLinearSystem(M);if(!C){return}c.save();c.beginPath();var R=(v+x+P)/3,w=(_+S+E)/3;var L=ol.reproj.enlargeClipPoint_(R,w,v,_);var I=ol.reproj.enlargeClipPoint_(R,w,x,S);var A=ol.reproj.enlargeClipPoint_(R,w,P,E);c.moveTo(I[0],I[1]);c.lineTo(L[0],L[1]);c.lineTo(A[0],A[1]);c.clip();c.transform(C[0],C[2],C[1],C[3],v,_);c.translate(g[0]-T,g[3]-b);c.scale(r/o,-r/o);c.drawImage(d.canvas,0,0);c.restore()});if(u){c.save();c.strokeStyle="black";c.lineWidth=1;l.getTriangles().forEach(function(e,t,o){var r=e.target;var i=(r[0][0]-m[0])/n,a=-(r[0][1]-m[1])/n;var l=(r[1][0]-m[0])/n,s=-(r[1][1]-m[1])/n;var p=(r[2][0]-m[0])/n,u=-(r[2][1]-m[1])/n;c.beginPath();c.moveTo(l,s);c.lineTo(i,a);c.lineTo(p,u);c.closePath();c.stroke()});c.restore()}return c.canvas};goog.provide("ol.reproj.Triangulation");goog.require("ol");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.proj");ol.reproj.Triangulation=function(e,t,o,r,i){this.sourceProj_=e;this.targetProj_=t;var n={};var a=ol.proj.getTransform(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];if(!n[t]){n[t]=a(e)}return n[t]};this.maxSourceExtent_=r;this.errorThresholdSquared_=i*i;this.triangles_=[];this.wrapsXInSource_=false;this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&ol.extent.getWidth(r)==ol.extent.getWidth(this.sourceProj_.getExtent());this.sourceWorldWidth_=this.sourceProj_.getExtent()?ol.extent.getWidth(this.sourceProj_.getExtent()):null;this.targetWorldWidth_=this.targetProj_.getExtent()?ol.extent.getWidth(this.targetProj_.getExtent()):null;var l=ol.extent.getTopLeft(o);var s=ol.extent.getTopRight(o);var p=ol.extent.getBottomRight(o);var u=ol.extent.getBottomLeft(o);var c=this.transformInv_(l);var g=this.transformInv_(s);var h=this.transformInv_(p);var f=this.transformInv_(u);this.addQuad_(l,s,p,u,c,g,h,f,ol.RASTER_REPROJECTION_MAX_SUBDIVISION);if(this.wrapsXInSource_){var d=Infinity;this.triangles_.forEach(function(e,t,o){d=Math.min(d,e.source[0][0],e.source[1][0],e.source[2][0])});this.triangles_.forEach(function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-d>this.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];if(t[0][0]-d>this.sourceWorldWidth_/2){t[0][0]-=this.sourceWorldWidth_}if(t[1][0]-d>this.sourceWorldWidth_/2){t[1][0]-=this.sourceWorldWidth_}if(t[2][0]-d>this.sourceWorldWidth_/2){t[2][0]-=this.sourceWorldWidth_}var o=Math.min(t[0][0],t[1][0],t[2][0]);var r=Math.max(t[0][0],t[1][0],t[2][0]);if(r-o<this.sourceWorldWidth_/2){e.source=t}}},this)}n={}};ol.reproj.Triangulation.prototype.addTriangle_=function(e,t,o,r,i,n){this.triangles_.push({source:[r,i,n],target:[e,t,o]})};ol.reproj.Triangulation.prototype.addQuad_=function(e,t,o,r,i,n,a,l,s){var p=ol.extent.boundingExtent([i,n,a,l]);var u=this.sourceWorldWidth_?ol.extent.getWidth(p)/this.sourceWorldWidth_:null;var c=this.sourceWorldWidth_;var g=this.sourceProj_.canWrapX()&&u>.5&&u<1;var h=false;if(s>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var f=ol.extent.boundingExtent([e,t,o,r]);var d=ol.extent.getWidth(f)/this.targetWorldWidth_;h|=d>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}if(!g&&this.sourceProj_.isGlobal()&&u){h|=u>ol.RASTER_REPROJECTION_MAX_TRIANGLE_WIDTH}}if(!h&&this.maxSourceExtent_){if(!ol.extent.intersects(p,this.maxSourceExtent_)){return}}if(!h){if(!isFinite(i[0])||!isFinite(i[1])||!isFinite(n[0])||!isFinite(n[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(l[0])||!isFinite(l[1])){if(s>0){h=true}else{return}}}if(s>0){if(!h){var y=[(e[0]+o[0])/2,(e[1]+o[1])/2];var m=this.transformInv_(y);var v;if(g){var _=(ol.math.modulo(i[0],c)+ol.math.modulo(a[0],c))/2;v=_-ol.math.modulo(m[0],c)}else{v=(i[0]+a[0])/2-m[0]}var x=(i[1]+a[1])/2-m[1];var S=v*v+x*x;h=S>this.errorThresholdSquared_}if(h){if(Math.abs(e[0]-o[0])<=Math.abs(e[1]-o[1])){var P=[(t[0]+o[0])/2,(t[1]+o[1])/2];var E=this.transformInv_(P);var T=[(r[0]+e[0])/2,(r[1]+e[1])/2];var b=this.transformInv_(T);this.addQuad_(e,t,P,T,i,n,E,b,s-1);this.addQuad_(T,P,o,r,b,E,a,l,s-1)}else{var M=[(e[0]+t[0])/2,(e[1]+t[1])/2];var C=this.transformInv_(M);var R=[(o[0]+r[0])/2,(o[1]+r[1])/2];var w=this.transformInv_(R);this.addQuad_(e,M,R,r,i,C,w,l,s-1);this.addQuad_(M,t,o,R,C,n,a,w,s-1)}return}}if(g){if(!this.canWrapXInSource_){return}this.wrapsXInSource_=true}this.addTriangle_(e,o,r,i,a,l);this.addTriangle_(e,t,o,i,n,a)};ol.reproj.Triangulation.prototype.calculateSourceExtent=function(){var e=ol.extent.createEmpty();this.triangles_.forEach(function(t,o,r){var i=t.source;ol.extent.extendCoordinate(e,i[0]);ol.extent.extendCoordinate(e,i[1]);ol.extent.extendCoordinate(e,i[2])});return e};ol.reproj.Triangulation.prototype.getTriangles=function(){return this.triangles_};goog.provide("ol.reproj.Image");goog.require("ol");goog.require("ol.ImageBase");goog.require("ol.ImageState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.reproj");goog.require("ol.reproj.Triangulation");ol.reproj.Image=function(e,t,o,r,i,n){this.targetProj_=t;this.maxSourceExtent_=e.getExtent();var a=t.getExtent();var l=a?ol.extent.getIntersection(o,a):o;var s=ol.extent.getCenter(l);var p=ol.reproj.calculateSourceResolution(e,t,s,r);var u=ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(e,t,l,this.maxSourceExtent_,p*u);this.targetResolution_=r;this.targetExtent_=o;var c=this.triangulation_.calculateSourceExtent();this.sourceImage_=n(c,p,i);this.sourcePixelRatio_=this.sourceImage_?this.sourceImage_.getPixelRatio():1;this.canvas_=null;this.sourceListenerKey_=null;var g=ol.ImageState.LOADED;var h=[];if(this.sourceImage_){g=ol.ImageState.IDLE;h=this.sourceImage_.getAttributions()}ol.ImageBase.call(this,o,r,this.sourcePixelRatio_,g,h)};ol.inherits(ol.reproj.Image,ol.ImageBase);ol.reproj.Image.prototype.disposeInternal=function(){if(this.state==ol.ImageState.LOADING){this.unlistenSource_()}ol.ImageBase.prototype.disposeInternal.call(this)};ol.reproj.Image.prototype.getImage=function(e){return this.canvas_};ol.reproj.Image.prototype.getProjection=function(){return this.targetProj_};ol.reproj.Image.prototype.reproject_=function(){var e=this.sourceImage_.getState();if(e==ol.ImageState.LOADED){var t=ol.extent.getWidth(this.targetExtent_)/this.targetResolution_;var o=ol.extent.getHeight(this.targetExtent_)/this.targetResolution_;this.canvas_=ol.reproj.render(t,o,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=e;this.changed()};ol.reproj.Image.prototype.load=function(){if(this.state==ol.ImageState.IDLE){this.state=ol.ImageState.LOADING;this.changed();var e=this.sourceImage_.getState();if(e==ol.ImageState.LOADED||e==ol.ImageState.ERROR){this.reproject_()}else{this.sourceListenerKey_=ol.events.listen(this.sourceImage_,ol.events.EventType.CHANGE,function(e){var t=this.sourceImage_.getState();if(t==ol.ImageState.LOADED||t==ol.ImageState.ERROR){this.unlistenSource_();this.reproject_()}},this);this.sourceImage_.load()}}};ol.reproj.Image.prototype.unlistenSource_=function(){ol.events.unlistenByKey(this.sourceListenerKey_);this.sourceListenerKey_=null};goog.provide("ol.source.Image");goog.require("ol");goog.require("ol.ImageState");goog.require("ol.array");goog.require("ol.events.Event");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.reproj.Image");goog.require("ol.source.Source");ol.source.Image=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state});this.resolutions_=e.resolutions!==undefined?e.resolutions:null;this.reprojectedImage_=null;this.reprojectedRevision_=0};ol.inherits(ol.source.Image,ol.source.Source);ol.source.Image.prototype.getResolutions=function(){return this.resolutions_};ol.source.Image.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=ol.array.linearFindNearest(this.resolutions_,e,0);e=this.resolutions_[t]}return e};ol.source.Image.prototype.getImage=function(e,t,o,r){var i=this.getProjection();if(!ol.ENABLE_RASTER_REPROJECTION||!i||!r||ol.proj.equivalent(i,r)){if(i){r=i}return this.getImageInternal(e,t,o,r)}else{if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&ol.proj.equivalent(this.reprojectedImage_.getProjection(),r)&&this.reprojectedImage_.getResolution()==t&&this.reprojectedImage_.getPixelRatio()==o&&ol.extent.equals(this.reprojectedImage_.getExtent(),e)){
return this.reprojectedImage_}this.reprojectedImage_.dispose();this.reprojectedImage_=null}this.reprojectedImage_=new ol.reproj.Image(i,r,e,t,o,function(e,t,o){return this.getImageInternal(e,t,o,i)}.bind(this));this.reprojectedRevision_=this.getRevision();return this.reprojectedImage_}};ol.source.Image.prototype.getImageInternal=function(e,t,o,r){};ol.source.Image.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case ol.ImageState.LOADING:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADSTART,t));break;case ol.ImageState.LOADED:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADEND,t));break;case ol.ImageState.ERROR:this.dispatchEvent(new ol.source.Image.Event(ol.source.Image.EventType_.IMAGELOADERROR,t));break;default:}};ol.source.Image.defaultImageLoadFunction=function(e,t){e.getImage().src=t};ol.source.Image.Event=function(e,t){ol.events.Event.call(this,e);this.image=t};ol.inherits(ol.source.Image.Event,ol.events.Event);ol.source.Image.EventType_={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};goog.provide("ol.source.ImageCanvas");goog.require("ol");goog.require("ol.ImageCanvas");goog.require("ol.extent");goog.require("ol.source.Image");ol.source.ImageCanvas=function(e){ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:e.projection,resolutions:e.resolutions,state:e.state});this.canvasFunction_=e.canvasFunction;this.canvas_=null;this.renderedRevision_=0;this.ratio_=e.ratio!==undefined?e.ratio:1.5};ol.inherits(ol.source.ImageCanvas,ol.source.Image);ol.source.ImageCanvas.prototype.getImageInternal=function(e,t,o,r){t=this.findNearestResolution(t);var i=this.canvas_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==o&&ol.extent.containsExtent(i.getExtent(),e)){return i}e=e.slice();ol.extent.scaleFromCenter(e,this.ratio_);var n=ol.extent.getWidth(e)/t;var a=ol.extent.getHeight(e)/t;var l=[n*o,a*o];var s=this.canvasFunction_(e,t,o,l,r);if(s){i=new ol.ImageCanvas(e,t,o,this.getAttributions(),s)}this.canvas_=i;this.renderedRevision_=this.getRevision();return i};goog.provide("ol.source.ImageVector");goog.require("ol");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.renderer.vector");goog.require("ol.source.ImageCanvas");goog.require("ol.style.Style");goog.require("ol.transform");ol.source.ImageVector=function(e){this.source_=e.source;this.transform_=ol.transform.create();this.canvasContext_=ol.dom.createCanvasContext2D();this.canvasSize_=[0,0];this.renderBuffer_=e.renderBuffer==undefined?100:e.renderBuffer;this.replayGroup_=null;ol.source.ImageCanvas.call(this,{attributions:e.attributions,canvasFunction:this.canvasFunctionInternal_.bind(this),logo:e.logo,projection:e.projection,ratio:e.ratio,resolutions:e.resolutions,state:this.source_.getState()});this.style_=null;this.styleFunction_=undefined;this.setStyle(e.style);ol.events.listen(this.source_,ol.events.EventType.CHANGE,this.handleSourceChange_,this)};ol.inherits(ol.source.ImageVector,ol.source.ImageCanvas);ol.source.ImageVector.prototype.canvasFunctionInternal_=function(e,t,o,r,i){var n=new ol.render.canvas.ReplayGroup(ol.renderer.vector.getTolerance(t,o),e,t,this.source_.getOverlaps(),this.renderBuffer_);this.source_.loadFeatures(e,t,i);var a=false;this.source_.forEachFeatureInExtent(e,function(e){a=a||this.renderFeature_(e,t,o,n)},this);n.finish();if(a){return null}if(this.canvasSize_[0]!=r[0]||this.canvasSize_[1]!=r[1]){this.canvasContext_.canvas.width=r[0];this.canvasContext_.canvas.height=r[1];this.canvasSize_[0]=r[0];this.canvasSize_[1]=r[1]}else{this.canvasContext_.clearRect(0,0,r[0],r[1])}var l=this.getTransform_(ol.extent.getCenter(e),t,o,r);n.replay(this.canvasContext_,o,l,0,{});this.replayGroup_=n;return this.canvasContext_.canvas};ol.source.ImageVector.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i,n){if(!this.replayGroup_){return undefined}else{var a={};return this.replayGroup_.forEachFeatureAtCoordinate(e,t,0,r,i,function(e){var t=ol.getUid(e).toString();if(!(t in a)){a[t]=true;return n(e)}})}};ol.source.ImageVector.prototype.getSource=function(){return this.source_};ol.source.ImageVector.prototype.getStyle=function(){return this.style_};ol.source.ImageVector.prototype.getStyleFunction=function(){return this.styleFunction_};ol.source.ImageVector.prototype.getTransform_=function(e,t,o,r){var i=r[0]/2;var n=r[1]/2;var a=o/t;var l=-a;var s=-e[0];var p=-e[1];return ol.transform.compose(this.transform_,i,n,a,l,0,s,p)};ol.source.ImageVector.prototype.handleImageChange_=function(e){this.changed()};ol.source.ImageVector.prototype.handleSourceChange_=function(){this.setState(this.source_.getState())};ol.source.ImageVector.prototype.renderFeature_=function(e,t,o,r){var i;var n=e.getStyleFunction();if(n){i=n.call(e,t)}else if(this.styleFunction_){i=this.styleFunction_(e,t)}if(!i){return false}var a,l,s=false;if(!Array.isArray(i)){i=[i]}for(a=0,l=i.length;a<l;++a){s=ol.renderer.vector.renderFeature(r,e,i[a],ol.renderer.vector.getSquaredTolerance(t,o),this.handleImageChange_,this)||s}return s};ol.source.ImageVector.prototype.setStyle=function(e){this.style_=e!==undefined?e:ol.style.Style.defaultFunction;this.styleFunction_=!e?undefined:ol.style.Style.createFunction(this.style_);this.changed()};goog.provide("ol.renderer.webgl.ImageLayer");goog.require("ol");goog.require("ol.ViewHint");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.functions");goog.require("ol.renderer.webgl.Layer");goog.require("ol.source.ImageVector");goog.require("ol.transform");goog.require("ol.webgl");goog.require("ol.webgl.Context");if(ol.ENABLE_WEBGL){ol.renderer.webgl.ImageLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t);this.image_=null;this.hitCanvasContext_=null;this.hitTransformationMatrix_=null};ol.inherits(ol.renderer.webgl.ImageLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.ImageLayer.prototype.createTexture_=function(e){var t=e.getImage();var o=this.mapRenderer.getGL();return ol.webgl.Context.createTexture(o,t,ol.webgl.CLAMP_TO_EDGE,ol.webgl.CLAMP_TO_EDGE)};ol.renderer.webgl.ImageLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){var n=this.getLayer();var a=n.getSource();var l=t.viewState.resolution;var s=t.viewState.rotation;var p=t.skippedFeatureUids;return a.forEachFeatureAtCoordinate(e,l,s,o,p,function(e){return r.call(i,e,n)})};ol.renderer.webgl.ImageLayer.prototype.prepareFrame=function(e,t,o){var r=this.mapRenderer.getGL();var i=e.pixelRatio;var n=e.viewState;var a=n.center;var l=n.resolution;var s=n.rotation;var p=this.image_;var u=this.texture;var c=this.getLayer();var g=c.getSource();var h=e.viewHints;var f=e.extent;if(t.extent!==undefined){f=ol.extent.getIntersection(f,t.extent)}if(!h[ol.ViewHint.ANIMATING]&&!h[ol.ViewHint.INTERACTING]&&!ol.extent.isEmpty(f)){var d=n.projection;if(!ol.ENABLE_RASTER_REPROJECTION){var y=g.getProjection();if(y){d=y}}var m=g.getImage(f,l,i,d);if(m){var v=this.loadImage(m);if(v){p=m;u=this.createTexture_(m);if(this.texture){var _=function(e,t){if(!e.isContextLost()){e.deleteTexture(t)}}.bind(null,r,this.texture);e.postRenderFunctions.push(_)}}}}if(p){var x=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(x.width,x.height,i,a,l,s,p.getExtent());this.hitTransformationMatrix_=null;var S=this.texCoordMatrix;ol.transform.reset(S);ol.transform.scale(S,1,-1);ol.transform.translate(S,0,-1);this.image_=p;this.texture=u;this.updateAttributions(e.attributions,p.getAttributions());this.updateLogos(e,g)}return!!p};ol.renderer.webgl.ImageLayer.prototype.updateProjectionMatrix_=function(e,t,o,r,i,n,a){var l=e*i;var s=t*i;var p=this.projectionMatrix;ol.transform.reset(p);ol.transform.scale(p,o*2/l,o*2/s);ol.transform.rotate(p,-n);ol.transform.translate(p,a[0]-r[0],a[1]-r[1]);ol.transform.scale(p,(a[2]-a[0])/2,(a[3]-a[1])/2);ol.transform.translate(p,1,1)};ol.renderer.webgl.ImageLayer.prototype.hasFeatureAtCoordinate=function(e,t){var o=this.forEachFeatureAtCoordinate(e,t,0,ol.functions.TRUE,this);return o!==undefined};ol.renderer.webgl.ImageLayer.prototype.forEachLayerAtPixel=function(e,t,o,r){if(!this.image_||!this.image_.getImage()){return undefined}if(this.getLayer().getSource()instanceof ol.source.ImageVector){var i=ol.transform.apply(t.pixelToCoordinateTransform,e.slice());var n=this.forEachFeatureAtCoordinate(i,t,0,ol.functions.TRUE,this);if(n){return o.call(r,this.getLayer(),null)}else{return undefined}}else{var a=[this.image_.getImage().width,this.image_.getImage().height];if(!this.hitTransformationMatrix_){this.hitTransformationMatrix_=this.getHitTransformationMatrix_(t.size,a)}var l=ol.transform.apply(this.hitTransformationMatrix_,e.slice());if(l[0]<0||l[0]>a[0]||l[1]<0||l[1]>a[1]){return undefined}if(!this.hitCanvasContext_){this.hitCanvasContext_=ol.dom.createCanvasContext2D(1,1)}this.hitCanvasContext_.clearRect(0,0,1,1);this.hitCanvasContext_.drawImage(this.image_.getImage(),l[0],l[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;if(s[3]>0){return o.call(r,this.getLayer(),s)}else{return undefined}}};ol.renderer.webgl.ImageLayer.prototype.getHitTransformationMatrix_=function(e,t){var o=ol.transform.create();ol.transform.translate(o,-1,-1);ol.transform.scale(o,2/e[0],2/e[1]);ol.transform.translate(o,0,e[1]);ol.transform.scale(o,1,-1);var r=ol.transform.invert(this.projectionMatrix.slice());var i=ol.transform.create();ol.transform.translate(i,0,t[1]);ol.transform.scale(i,1,-1);ol.transform.scale(i,t[0]/2,t[1]/2);ol.transform.translate(i,1,1);ol.transform.multiply(i,r);ol.transform.multiply(i,o);return i}}goog.provide("ol.layer.Image");goog.require("ol");goog.require("ol.layer.Layer");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.webgl.ImageLayer");ol.layer.Image=function(e){var t=e?e:{};ol.layer.Layer.call(this,t)};ol.inherits(ol.layer.Image,ol.layer.Layer);ol.layer.Image.prototype.createRenderer=function(e){var t=null;var o=e.getType();if(ol.ENABLE_CANVAS&&o===ol.renderer.Type.CANVAS){t=new ol.renderer.canvas.ImageLayer(this)}else if(ol.ENABLE_WEBGL&&o===ol.renderer.Type.WEBGL){t=new ol.renderer.webgl.ImageLayer(e,this)}return t};ol.layer.Image.prototype.getSource;goog.provide("ol.layer.TileProperty");ol.layer.TileProperty={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};goog.provide("ol.renderer.canvas.TileLayer");goog.require("ol");goog.require("ol.TileRange");goog.require("ol.TileState");goog.require("ol.ViewHint");goog.require("ol.array");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.renderer.canvas.IntermediateCanvas");goog.require("ol.transform");ol.renderer.canvas.TileLayer=function(e){ol.renderer.canvas.IntermediateCanvas.call(this,e);this.context=ol.dom.createCanvasContext2D();this.oversampling_;this.renderedExtent_=null;this.renderedRevision;this.renderedTiles=[];this.tmpExtent=ol.extent.createEmpty();this.tmpTileRange_=new ol.TileRange(0,0,0,0);this.imageTransform_=ol.transform.create();this.zDirection=0};ol.inherits(ol.renderer.canvas.TileLayer,ol.renderer.canvas.IntermediateCanvas);ol.renderer.canvas.TileLayer.prototype.isDrawableTile_=function(e){var t=e.getState();var o=this.getLayer().getUseInterimTilesOnError();return t==ol.TileState.LOADED||t==ol.TileState.EMPTY||t==ol.TileState.ERROR&&!o};ol.renderer.canvas.TileLayer.prototype.prepareFrame=function(e,t){var o=e.pixelRatio;var r=e.size;var i=e.viewState;var n=i.projection;var a=i.resolution;var l=i.center;var s=this.getLayer();var p=s.getSource();var u=p.getRevision();var c=p.getTileGridForProjection(n);var g=c.getZForResolution(a,this.zDirection);var h=c.getResolution(g);var f=Math.round(a/h)||1;var d=e.extent;if(t.extent!==undefined){d=ol.extent.getIntersection(d,t.extent)}if(ol.extent.isEmpty(d)){return false}var y=c.getTileRangeForExtentAndResolution(d,h);var m=c.getTileRangeExtent(g,y);var v=p.getTilePixelRatio(o);var _={};_[g]={};var x=this.createLoadedTileFinder(p,n,_);var S=this.tmpExtent;var P=this.tmpTileRange_;var E=false;var T,b,M;for(b=y.minX;b<=y.maxX;++b){for(M=y.minY;M<=y.maxY;++M){T=p.getTile(g,b,M,o,n);if(!this.isDrawableTile_(T)){T=T.getInterimTile()}if(this.isDrawableTile_(T)){if(T.getState()==ol.TileState.LOADED){_[g][T.tileCoord.toString()]=T;if(!E&&this.renderedTiles.indexOf(T)==-1){E=true}}continue}var C=c.forEachTileCoordParentTileRange(T.tileCoord,x,null,P,S);if(!C){var R=c.getTileCoordChildTileRange(T.tileCoord,P,S);if(R){x(g+1,R)}}}}var w=e.viewHints;if(!(this.renderedResolution&&Date.now()-e.time>16&&(w[ol.ViewHint.ANIMATING]||w[ol.ViewHint.INTERACTING]))&&(E||!(this.renderedExtent_&&ol.extent.containsExtent(this.renderedExtent_,d))||this.renderedRevision!=u)||f!=this.oversampling_){var L=p.getTilePixelSize(g,o,n);var I=Math.round(y.getWidth()*L[0]/f);var A=Math.round(y.getHeight()*L[0]/f);var O=this.context;var N=O.canvas;var F=p.getOpaque(n);if(N.width!=I||N.height!=A){this.oversampling_=f;N.width=I;N.height=A}else{O.clearRect(0,0,I,A);f=this.oversampling_}this.renderedTiles.length=0;var G=Object.keys(_).map(Number);G.sort(ol.array.numberSafeCompareFunction);var D,k,q,j,W,U;var B,V,K,X,Y;for(W=0,U=G.length;W<U;++W){j=G[W];q=p.getTilePixelSize(j,o,n);D=c.getResolution(j);k=D/h;V=v*p.getGutter(n);K=_[j];for(var z in K){T=K[z];B=c.getTileCoordExtent(T.getTileCoord(),S);b=(B[0]-m[0])/h*v/f;M=(m[3]-B[3])/h*v/f;X=q[0]*k/f;Y=q[1]*k/f;if(!F){O.clearRect(b,M,X,Y)}this.drawTileImage(T,e,t,b,M,X,Y,V);this.renderedTiles.push(T)}}this.renderedRevision=u;this.renderedResolution=h*o/v*f;this.renderedExtent_=m}var H=this.renderedResolution/a;var Z=ol.transform.compose(this.imageTransform_,o*r[0]/2,o*r[1]/2,H,H,0,(this.renderedExtent_[0]-l[0])/this.renderedResolution*o,(l[1]-this.renderedExtent_[3])/this.renderedResolution*o);ol.transform.compose(this.coordinateToCanvasPixelTransform,o*r[0]/2-Z[4],o*r[1]/2-Z[5],o/a,-o/a,0,-l[0],-l[1]);this.updateUsedTiles(e.usedTiles,p,g,y);this.manageTilePyramid(e,p,c,o,n,d,g,s.getPreload());this.scheduleExpireCache(e,p);this.updateLogos(e,p);return this.renderedTiles.length>0};ol.renderer.canvas.TileLayer.prototype.drawTileImage=function(e,t,o,r,i,n,a,l){var s=e.getImage();if(s){this.context.drawImage(s,l,l,s.width-2*l,s.height-2*l,r,i,n,a)}};ol.renderer.canvas.TileLayer.prototype.getImage=function(){return this.context.canvas};ol.renderer.canvas.TileLayer.prototype.getLayer;ol.renderer.canvas.TileLayer.prototype.getImageTransform=function(){return this.imageTransform_};goog.provide("ol.renderer.webgl.tilelayershader");goog.require("ol");goog.require("ol.webgl.Fragment");goog.require("ol.webgl.Vertex");if(ol.ENABLE_WEBGL){ol.renderer.webgl.tilelayershader.Fragment=function(){ol.webgl.Fragment.call(this,ol.renderer.webgl.tilelayershader.Fragment.SOURCE)};ol.inherits(ol.renderer.webgl.tilelayershader.Fragment,ol.webgl.Fragment);ol.renderer.webgl.tilelayershader.Fragment.DEBUG_SOURCE="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n";ol.renderer.webgl.tilelayershader.Fragment.OPTIMIZED_SOURCE="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}";ol.renderer.webgl.tilelayershader.Fragment.SOURCE=ol.DEBUG_WEBGL?ol.renderer.webgl.tilelayershader.Fragment.DEBUG_SOURCE:ol.renderer.webgl.tilelayershader.Fragment.OPTIMIZED_SOURCE;ol.renderer.webgl.tilelayershader.fragment=new ol.renderer.webgl.tilelayershader.Fragment;ol.renderer.webgl.tilelayershader.Vertex=function(){ol.webgl.Vertex.call(this,ol.renderer.webgl.tilelayershader.Vertex.SOURCE)};ol.inherits(ol.renderer.webgl.tilelayershader.Vertex,ol.webgl.Vertex);ol.renderer.webgl.tilelayershader.Vertex.DEBUG_SOURCE="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n";ol.renderer.webgl.tilelayershader.Vertex.OPTIMIZED_SOURCE="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}";ol.renderer.webgl.tilelayershader.Vertex.SOURCE=ol.DEBUG_WEBGL?ol.renderer.webgl.tilelayershader.Vertex.DEBUG_SOURCE:ol.renderer.webgl.tilelayershader.Vertex.OPTIMIZED_SOURCE;ol.renderer.webgl.tilelayershader.vertex=new ol.renderer.webgl.tilelayershader.Vertex;ol.renderer.webgl.tilelayershader.Locations=function(e,t){this.u_texture=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_texture":"e");this.u_tileOffset=e.getUniformLocation(t,ol.DEBUG_WEBGL?"u_tileOffset":"d");this.a_position=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_position":"b");this.a_texCoord=e.getAttribLocation(t,ol.DEBUG_WEBGL?"a_texCoord":"c")}}goog.provide("ol.renderer.webgl.TileLayer");goog.require("ol");goog.require("ol.TileState");goog.require("ol.TileRange");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.renderer.webgl.Layer");goog.require("ol.renderer.webgl.tilelayershader");goog.require("ol.size");goog.require("ol.transform");goog.require("ol.webgl");goog.require("ol.webgl.Buffer");if(ol.ENABLE_WEBGL){ol.renderer.webgl.TileLayer=function(e,t){ol.renderer.webgl.Layer.call(this,e,t);this.fragmentShader_=ol.renderer.webgl.tilelayershader.fragment;this.vertexShader_=ol.renderer.webgl.tilelayershader.vertex;this.locations_=null;this.renderArrayBuffer_=new ol.webgl.Buffer([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]);this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;this.tmpSize_=[0,0]};ol.inherits(ol.renderer.webgl.TileLayer,ol.renderer.webgl.Layer);ol.renderer.webgl.TileLayer.prototype.disposeInternal=function(){var e=this.mapRenderer.getContext();e.deleteBuffer(this.renderArrayBuffer_);ol.renderer.webgl.Layer.prototype.disposeInternal.call(this)};ol.renderer.webgl.TileLayer.prototype.createLoadedTileFinder=function(e,t,o){var r=this.mapRenderer;return function(i,n){function a(e){var t=r.isTileTextureLoaded(e);if(t){if(!o[i]){o[i]={}}o[i][e.tileCoord.toString()]=e}return t}return e.forEachLoadedTile(t,i,n,a)}};ol.renderer.webgl.TileLayer.prototype.handleWebGLContextLost=function(){ol.renderer.webgl.Layer.prototype.handleWebGLContextLost.call(this);this.locations_=null};ol.renderer.webgl.TileLayer.prototype.prepareFrame=function(e,t,o){var r=this.mapRenderer;var i=o.getGL();var n=e.viewState;var a=n.projection;var l=this.getLayer();var s=l.getSource();var p=s.getTileGridForProjection(a);var u=p.getZForResolution(n.resolution);var c=p.getResolution(u);var g=s.getTilePixelSize(u,e.pixelRatio,a);var h=g[0]/ol.size.toSize(p.getTileSize(u),this.tmpSize_)[0];var f=c/h;var d=s.getTilePixelRatio(h)*s.getGutter(a);var y=n.center;var m=e.extent;var v=p.getTileRangeForExtentAndResolution(m,c);var _;if(this.renderedTileRange_&&this.renderedTileRange_.equals(v)&&this.renderedRevision_==s.getRevision()){_=this.renderedFramebufferExtent_}else{var x=v.getSize();var S=Math.max(x[0]*g[0],x[1]*g[1]);var P=ol.math.roundUpToPowerOfTwo(S);var E=f*P;var T=p.getOrigin(u);var b=T[0]+v.minX*g[0]*f;var M=T[1]+v.minY*g[1]*f;_=[b,M,b+E,M+E];this.bindFramebuffer(e,P);i.viewport(0,0,P,P);i.clearColor(0,0,0,0);i.clear(ol.webgl.COLOR_BUFFER_BIT);i.disable(ol.webgl.BLEND);var C=o.getProgram(this.fragmentShader_,this.vertexShader_);o.useProgram(C);if(!this.locations_){this.locations_=new ol.renderer.webgl.tilelayershader.Locations(i,C)}o.bindBuffer(ol.webgl.ARRAY_BUFFER,this.renderArrayBuffer_);i.enableVertexAttribArray(this.locations_.a_position);i.vertexAttribPointer(this.locations_.a_position,2,ol.webgl.FLOAT,false,16,0);i.enableVertexAttribArray(this.locations_.a_texCoord);i.vertexAttribPointer(this.locations_.a_texCoord,2,ol.webgl.FLOAT,false,16,8);i.uniform1i(this.locations_.u_texture,0);var R={};R[u]={};var w=this.createLoadedTileFinder(s,a,R);var L=l.getUseInterimTilesOnError();var I=true;var A=ol.extent.createEmpty();var O=new ol.TileRange(0,0,0,0);var N,F,G,D,k;var q,j,W;for(q=v.minX;q<=v.maxX;++q){for(j=v.minY;j<=v.maxY;++j){D=s.getTile(u,q,j,h,a);if(t.extent!==undefined){W=p.getTileCoordExtent(D.tileCoord,A);if(!ol.extent.intersects(W,t.extent)){continue}}k=D.getState();F=k==ol.TileState.LOADED||k==ol.TileState.EMPTY||k==ol.TileState.ERROR&&!L;if(!F){D=D.getInterimTile()}k=D.getState();if(k==ol.TileState.LOADED){if(r.isTileTextureLoaded(D)){R[u][D.tileCoord.toString()]=D;continue}}else if(k==ol.TileState.EMPTY||k==ol.TileState.ERROR&&!L){continue}I=false;G=p.forEachTileCoordParentTileRange(D.tileCoord,w,null,O,A);if(!G){N=p.getTileCoordChildTileRange(D.tileCoord,O,A);if(N){w(u+1,N)}}}}var U=Object.keys(R).map(Number);U.sort(ol.array.numberSafeCompareFunction);var B=new Float32Array(4);var V,K,X,Y;for(V=0,K=U.length;V<K;++V){Y=R[U[V]];for(X in Y){D=Y[X];W=p.getTileCoordExtent(D.tileCoord,A);B[0]=2*(W[2]-W[0])/E;B[1]=2*(W[3]-W[1])/E;B[2]=2*(W[0]-_[0])/E-1;B[3]=2*(W[1]-_[1])/E-1;i.uniform4fv(this.locations_.u_tileOffset,B);r.bindTileTexture(D,g,d*h,ol.webgl.LINEAR,ol.webgl.LINEAR);i.drawArrays(ol.webgl.TRIANGLE_STRIP,0,4)}}if(I){this.renderedTileRange_=v;this.renderedFramebufferExtent_=_;this.renderedRevision_=s.getRevision()}else{this.renderedTileRange_=null;this.renderedFramebufferExtent_=null;this.renderedRevision_=-1;e.animate=true}}this.updateUsedTiles(e.usedTiles,s,u,v);var z=r.getTileTextureQueue();this.manageTilePyramid(e,s,p,h,a,m,u,l.getPreload(),function(e){if(e.getState()==ol.TileState.LOADED&&!r.isTileTextureLoaded(e)&&!z.isKeyQueued(e.getKey())){z.enqueue([e,p.getTileCoordCenter(e.tileCoord),p.getResolution(e.tileCoord[0]),g,d*h])}},this);this.scheduleExpireCache(e,s);this.updateLogos(e,s);var H=this.texCoordMatrix;ol.transform.reset(H);ol.transform.translate(H,(Math.round(y[0]/c)*c-_[0])/(_[2]-_[0]),(Math.round(y[1]/c)*c-_[1])/(_[3]-_[1]));if(n.rotation!==0){ol.transform.rotate(H,n.rotation)}ol.transform.scale(H,e.size[0]*n.resolution/(_[2]-_[0]),e.size[1]*n.resolution/(_[3]-_[1]));ol.transform.translate(H,-.5,-.5);return true};ol.renderer.webgl.TileLayer.prototype.forEachLayerAtPixel=function(e,t,o,r){if(!this.framebuffer){return undefined}var i=[e[0]/t.size[0],(t.size[1]-e[1])/t.size[1]];var n=ol.transform.apply(this.texCoordMatrix,i.slice());var a=[n[0]*this.framebufferDimension,n[1]*this.framebufferDimension];var l=this.mapRenderer.getContext().getGL();l.bindFramebuffer(l.FRAMEBUFFER,this.framebuffer);var s=new Uint8Array(4);l.readPixels(a[0],a[1],1,1,l.RGBA,l.UNSIGNED_BYTE,s);if(s[3]>0){return o.call(r,this.getLayer(),s)}else{return undefined}}}goog.provide("ol.layer.Tile");goog.require("ol");goog.require("ol.layer.Layer");goog.require("ol.layer.TileProperty");goog.require("ol.obj");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.webgl.TileLayer");ol.layer.Tile=function(e){var t=e?e:{};var o=ol.obj.assign({},t);delete o.preload;delete o.useInterimTilesOnError;ol.layer.Layer.call(this,o);this.setPreload(t.preload!==undefined?t.preload:0);this.setUseInterimTilesOnError(t.useInterimTilesOnError!==undefined?t.useInterimTilesOnError:true)};ol.inherits(ol.layer.Tile,ol.layer.Layer);ol.layer.Tile.prototype.createRenderer=function(e){var t=null;var o=e.getType();if(ol.ENABLE_CANVAS&&o===ol.renderer.Type.CANVAS){t=new ol.renderer.canvas.TileLayer(this)}else if(ol.ENABLE_WEBGL&&o===ol.renderer.Type.WEBGL){t=new ol.renderer.webgl.TileLayer(e,this)}return t};ol.layer.Tile.prototype.getPreload=function(){return this.get(ol.layer.TileProperty.PRELOAD)};ol.layer.Tile.prototype.getSource;ol.layer.Tile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)};ol.layer.Tile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR)};ol.layer.Tile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)};goog.provide("ol.layer.VectorTileRenderType");ol.layer.VectorTileRenderType={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};goog.provide("ol.renderer.canvas.VectorTileLayer");goog.require("ol");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.proj.Units");goog.require("ol.layer.VectorTileRenderType");goog.require("ol.render.ReplayType");goog.require("ol.render.canvas");goog.require("ol.render.canvas.ReplayGroup");goog.require("ol.render.replay");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.renderer.vector");goog.require("ol.size");goog.require("ol.transform");ol.renderer.canvas.VectorTileLayer=function(e){ol.renderer.canvas.TileLayer.call(this,e);this.dirty_=false;this.renderedLayerRevision_;this.tmpTransform_=ol.transform.create();this.zDirection=e.getRenderMode()==ol.layer.VectorTileRenderType.VECTOR?1:0};ol.inherits(ol.renderer.canvas.VectorTileLayer,ol.renderer.canvas.TileLayer);ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS={image:ol.render.replay.ORDER,hybrid:[ol.render.ReplayType.POLYGON,ol.render.ReplayType.LINE_STRING]};ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS={hybrid:[ol.render.ReplayType.IMAGE,ol.render.ReplayType.TEXT],vector:ol.render.replay.ORDER};ol.renderer.canvas.VectorTileLayer.prototype.prepareFrame=function(e,t){var o=this.getLayer().getRevision();if(this.renderedLayerRevision_!=o){this.renderedTiles.length=0}this.renderedLayerRevision_=o;return ol.renderer.canvas.TileLayer.prototype.prepareFrame.apply(this,arguments)};ol.renderer.canvas.VectorTileLayer.prototype.createReplayGroup_=function(e,t){var o=this.getLayer();var r=t.pixelRatio;var i=t.viewState.projection;var n=o.getRevision();var a=o.getRenderOrder()||null;var l=e.getReplayState();if(!l.dirty&&l.renderedRevision==n&&l.renderedRenderOrder==a){return}l.replayGroup=null;l.dirty=false;var s=o.getSource();var p=s.getTileGrid();var u=e.tileCoord;var c=e.getProjection();var g=p.getResolution(u[0]);var h,f,d;if(c.getUnits()==ol.proj.Units.TILE_PIXELS){var y=d=s.getTilePixelRatio();var m=ol.size.toSize(p.getTileSize(u[0]));h=[0,0,m[0]*y,m[1]*y]}else{d=g;h=p.getTileCoordExtent(u);if(!ol.proj.equivalent(i,c)){f=true;e.setProjection(i)}}l.dirty=false;var v=new ol.render.canvas.ReplayGroup(0,h,d,s.getOverlaps(),o.getRenderBuffer());var _=ol.renderer.vector.getSquaredTolerance(d,r);function x(e){var t;var r=e.getStyleFunction();if(r){t=r.call(e,g)}else{r=o.getStyleFunction();if(r){t=r(e,g)}}if(t){if(!Array.isArray(t)){t=[t]}var i=this.renderFeature(e,_,t,v);this.dirty_=this.dirty_||i;l.dirty=l.dirty||i}}var S=e.getFeatures();if(a&&a!==l.renderedRenderOrder){S.sort(a)}var P;for(var E=0,T=S.length;E<T;++E){P=S[E];if(f){P.getGeometry().transform(c,i)}x.call(this,P)}v.finish();l.renderedRevision=n;l.renderedRenderOrder=a;l.replayGroup=v;l.resolution=NaN};ol.renderer.canvas.VectorTileLayer.prototype.drawTileImage=function(e,t,o,r,i,n,a,l){var s=e;this.createReplayGroup_(s,t);var p=this.getLayer();if(p.getRenderMode()!=ol.layer.VectorTileRenderType.VECTOR){this.renderTileImage_(s,t,o)}ol.renderer.canvas.TileLayer.prototype.drawTileImage.apply(this,arguments)};ol.renderer.canvas.VectorTileLayer.prototype.forEachFeatureAtCoordinate=function(e,t,o,r,i){var n=t.viewState.resolution;var a=t.viewState.rotation;o=o==undefined?0:o;var l=this.getLayer();var s={};var p=this.renderedTiles;var u=l.getSource();var c=u.getTileGrid();var g,h;var f,d,y,m;var v,_,x,S,P;for(f=0,d=p.length;f<d;++f){v=p[f];_=v.tileCoord;x=u.getTileGrid().getTileCoordExtent(_,this.tmpExtent);if(!ol.extent.containsCoordinate(ol.extent.buffer(x,o*n),e)){continue}if(v.getProjection().getUnits()===ol.proj.Units.TILE_PIXELS){y=ol.extent.getTopLeft(x);S=u.getTilePixelRatio();P=c.getResolution(_[0])/S;h=[(e[0]-y[0])/P,(y[1]-e[1])/P];n=S}else{h=e}m=v.getReplayState().replayGroup;g=g||m.forEachFeatureAtCoordinate(h,n,a,o,{},function(e){var t=ol.getUid(e).toString();if(!(t in s)){s[t]=true;return r.call(i,e,l)}})}return g};ol.renderer.canvas.VectorTileLayer.prototype.getReplayTransform_=function(e,t){if(e.getProjection().getUnits()==ol.proj.Units.TILE_PIXELS){var o=this.getLayer();var r=o.getSource();var i=r.getTileGrid();var n=e.tileCoord;var a=i.getResolution(n[0])/r.getTilePixelRatio();var l=t.viewState;var s=t.pixelRatio;var p=l.resolution/s;var u=i.getTileCoordExtent(n,this.tmpExtent);var c=l.center;var g=ol.extent.getTopLeft(u);var h=t.size;var f=Math.round(s*h[0]/2);var d=Math.round(s*h[1]/2);return ol.transform.compose(this.tmpTransform_,f,d,a/p,a/p,l.rotation,(g[0]-c[0])/a,(c[1]-g[1])/a)}else{return this.getTransform(t,0)}};ol.renderer.canvas.VectorTileLayer.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()};ol.renderer.canvas.VectorTileLayer.prototype.postCompose=function(e,t,o){var r=this.getLayer().getRenderMode();var i=ol.renderer.canvas.VectorTileLayer.VECTOR_REPLAYS[r];if(i){var n=t.pixelRatio;var a=t.viewState.rotation;var l=t.size;var s=Math.round(n*l[0]/2);var p=Math.round(n*l[1]/2);var u=this.renderedTiles;var c=[];var g=[];for(var h=u.length-1;h>=0;--h){var f=u[h];var d=this.getReplayTransform_(f,t);var y=f.getReplayState().replayGroup.getClipCoords(d);var m=f.tileCoord[0];e.save();e.globalAlpha=o.opacity;ol.render.canvas.rotateAtOffset(e,-a,s,p);for(var v=0,_=c.length;v<_;++v){var x=c[v];if(m<g[v]){e.beginPath();e.moveTo(y[0],y[1]);e.lineTo(y[2],y[3]);e.lineTo(y[4],y[5]);e.lineTo(y[6],y[7]);e.moveTo(x[6],x[7]);e.lineTo(x[4],x[5]);e.lineTo(x[2],x[3]);e.lineTo(x[0],x[1]);e.clip()}}var S=f.getReplayState().replayGroup;S.replay(e,n,d,a,{},i);e.restore();c.push(y);g.push(m)}}ol.renderer.canvas.TileLayer.prototype.postCompose.apply(this,arguments)};ol.renderer.canvas.VectorTileLayer.prototype.renderFeature=function(e,t,o,r){if(!o){return false}var i=false;if(Array.isArray(o)){for(var n=0,a=o.length;n<a;++n){i=ol.renderer.vector.renderFeature(r,e,o[n],t,this.handleStyleImageChange_,this)||i}}else{i=ol.renderer.vector.renderFeature(r,e,o,t,this.handleStyleImageChange_,this)||i}return i};ol.renderer.canvas.VectorTileLayer.prototype.renderTileImage_=function(e,t,o){var r=this.getLayer();var i=e.getReplayState();var n=r.getRevision();var a=ol.renderer.canvas.VectorTileLayer.IMAGE_REPLAYS[r.getRenderMode()];if(a&&i.renderedTileRevision!==n){i.renderedTileRevision=n;var l=e.tileCoord;var s=e.tileCoord[0];var p=t.pixelRatio;var u=r.getSource();var c=u.getTileGrid();var g=u.getTilePixelRatio();var h=ol.transform.reset(this.tmpTransform_);if(e.getProjection().getUnits()==ol.proj.Units.TILE_PIXELS){var f=p/g;ol.transform.scale(h,f,f)}else{var d=c.getResolution(s);var y=p/d;var m=c.getTileCoordExtent(l,this.tmpExtent);ol.transform.scale(h,y,-y);ol.transform.translate(h,-m[0],-m[3])}var v=e.getContext();var _=u.getTilePixelSize(s,p,t.viewState.projection);v.canvas.width=_[0];v.canvas.height=_[1];i.replayGroup.replay(v,p,h,0,{},a)}};goog.provide("ol.layer.VectorTile");goog.require("ol");goog.require("ol.asserts");goog.require("ol.layer.TileProperty");goog.require("ol.layer.Vector");goog.require("ol.layer.VectorTileRenderType");goog.require("ol.obj");goog.require("ol.renderer.Type");goog.require("ol.renderer.canvas.VectorTileLayer");ol.layer.VectorTile=function(e){var t=e?e:{};var o=ol.obj.assign({},t);delete o.preload;delete o.useInterimTilesOnError;ol.layer.Vector.call(this,o);this.setPreload(t.preload?t.preload:0);this.setUseInterimTilesOnError(t.useInterimTilesOnError?t.useInterimTilesOnError:true);ol.asserts.assert(t.renderMode==undefined||t.renderMode==ol.layer.VectorTileRenderType.IMAGE||t.renderMode==ol.layer.VectorTileRenderType.HYBRID||t.renderMode==ol.layer.VectorTileRenderType.VECTOR,28);this.renderMode_=t.renderMode||ol.layer.VectorTileRenderType.HYBRID};ol.inherits(ol.layer.VectorTile,ol.layer.Vector);ol.layer.VectorTile.prototype.createRenderer=function(e){var t=null;var o=e.getType();if(ol.ENABLE_CANVAS&&o===ol.renderer.Type.CANVAS){t=new ol.renderer.canvas.VectorTileLayer(this);
}return t};ol.layer.VectorTile.prototype.getPreload=function(){return this.get(ol.layer.VectorTile.Property_.PRELOAD)};ol.layer.VectorTile.prototype.getRenderMode=function(){return this.renderMode_};ol.layer.VectorTile.prototype.getUseInterimTilesOnError=function(){return this.get(ol.layer.VectorTile.Property_.USE_INTERIM_TILES_ON_ERROR)};ol.layer.VectorTile.prototype.setPreload=function(e){this.set(ol.layer.TileProperty.PRELOAD,e)};ol.layer.VectorTile.prototype.setUseInterimTilesOnError=function(e){this.set(ol.layer.TileProperty.USE_INTERIM_TILES_ON_ERROR,e)};ol.layer.VectorTile.Property_={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};goog.provide("ol.net");goog.require("ol");ol.net.jsonp=function(e,t,o,r){var i=document.createElement("script");var n="olc_"+ol.getUid(t);function a(){delete window[n];i.parentNode.removeChild(i)}i.async=true;i.src=e+(e.indexOf("?")==-1?"?":"&")+(r||"callback")+"="+n;var l=setTimeout(function(){a();if(o){o()}},1e4);window[n]=function(e){clearTimeout(l);a();t(e)};document.getElementsByTagName("head")[0].appendChild(i)};goog.provide("ol.render");goog.require("ol.has");goog.require("ol.transform");goog.require("ol.render.canvas.Immediate");ol.render.toContext=function(e,t){var o=e.canvas;var r=t?t:{};var i=r.pixelRatio||ol.has.DEVICE_PIXEL_RATIO;var n=r.size;if(n){o.width=n[0]*i;o.height=n[1]*i;o.style.width=n[0]+"px";o.style.height=n[1]+"px"}var a=[0,0,o.width,o.height];var l=ol.transform.scale(ol.transform.create(),i,i);return new ol.render.canvas.Immediate(e,i,a,l,0)};goog.provide("ol.reproj.Tile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.reproj");goog.require("ol.reproj.Triangulation");ol.reproj.Tile=function(e,t,o,r,i,n,a,l,s,p,u){ol.Tile.call(this,i,ol.TileState.IDLE);this.renderEdges_=u!==undefined?u:false;this.pixelRatio_=a;this.gutter_=l;this.canvas_=null;this.sourceTileGrid_=t;this.targetTileGrid_=r;this.wrappedTileCoord_=n?n:i;this.sourceTiles_=[];this.sourcesListenerKeys_=null;this.sourceZ_=0;var c=r.getTileCoordExtent(this.wrappedTileCoord_);var g=this.targetTileGrid_.getExtent();var h=this.sourceTileGrid_.getExtent();var f=g?ol.extent.getIntersection(c,g):c;if(ol.extent.getArea(f)===0){this.state=ol.TileState.EMPTY;return}var d=e.getExtent();if(d){if(!h){h=d}else{h=ol.extent.getIntersection(h,d)}}var y=r.getResolution(this.wrappedTileCoord_[0]);var m=ol.extent.getCenter(f);var v=ol.reproj.calculateSourceResolution(e,o,m,y);if(!isFinite(v)||v<=0){this.state=ol.TileState.EMPTY;return}var _=p!==undefined?p:ol.DEFAULT_RASTER_REPROJECTION_ERROR_THRESHOLD;this.triangulation_=new ol.reproj.Triangulation(e,o,f,h,v*_);if(this.triangulation_.getTriangles().length===0){this.state=ol.TileState.EMPTY;return}this.sourceZ_=t.getZForResolution(v);var x=this.triangulation_.calculateSourceExtent();if(h){if(e.canWrapX()){x[1]=ol.math.clamp(x[1],h[1],h[3]);x[3]=ol.math.clamp(x[3],h[1],h[3])}else{x=ol.extent.getIntersection(x,h)}}if(!ol.extent.getArea(x)){this.state=ol.TileState.EMPTY}else{var S=t.getTileRangeForExtentAndZ(x,this.sourceZ_);for(var P=S.minX;P<=S.maxX;P++){for(var E=S.minY;E<=S.maxY;E++){var T=s(this.sourceZ_,P,E,a);if(T){this.sourceTiles_.push(T)}}}if(this.sourceTiles_.length===0){this.state=ol.TileState.EMPTY}}};ol.inherits(ol.reproj.Tile,ol.Tile);ol.reproj.Tile.prototype.disposeInternal=function(){if(this.state==ol.TileState.LOADING){this.unlistenSources_()}ol.Tile.prototype.disposeInternal.call(this)};ol.reproj.Tile.prototype.getImage=function(){return this.canvas_};ol.reproj.Tile.prototype.reproject_=function(){var e=[];this.sourceTiles_.forEach(function(t,o,r){if(t&&t.getState()==ol.TileState.LOADED){e.push({extent:this.sourceTileGrid_.getTileCoordExtent(t.tileCoord),image:t.getImage()})}},this);this.sourceTiles_.length=0;if(e.length===0){this.state=ol.TileState.ERROR}else{var t=this.wrappedTileCoord_[0];var o=this.targetTileGrid_.getTileSize(t);var r=typeof o==="number"?o:o[0];var i=typeof o==="number"?o:o[1];var n=this.targetTileGrid_.getResolution(t);var a=this.sourceTileGrid_.getResolution(this.sourceZ_);var l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=ol.reproj.render(r,i,this.pixelRatio_,a,this.sourceTileGrid_.getExtent(),n,l,this.triangulation_,e,this.gutter_,this.renderEdges_);this.state=ol.TileState.LOADED}this.changed()};ol.reproj.Tile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;this.changed();var e=0;this.sourcesListenerKeys_=[];this.sourceTiles_.forEach(function(t,o,r){var i=t.getState();if(i==ol.TileState.IDLE||i==ol.TileState.LOADING){e++;var n;n=ol.events.listen(t,ol.events.EventType.CHANGE,function(o){var r=t.getState();if(r==ol.TileState.LOADED||r==ol.TileState.ERROR||r==ol.TileState.EMPTY){ol.events.unlistenByKey(n);e--;if(e===0){this.unlistenSources_();this.reproject_()}}},this);this.sourcesListenerKeys_.push(n)}},this);this.sourceTiles_.forEach(function(e,t,o){var r=e.getState();if(r==ol.TileState.IDLE){e.load()}});if(e===0){setTimeout(this.reproject_.bind(this),0)}}};ol.reproj.Tile.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(ol.events.unlistenByKey);this.sourcesListenerKeys_=null};goog.provide("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.math");goog.require("ol.tilecoord");ol.TileUrlFunction.createFromTemplate=function(e,t){var o=/\{z\}/g;var r=/\{x\}/g;var i=/\{y\}/g;var n=/\{-y\}/g;return function(a,l,s){if(!a){return undefined}else{return e.replace(o,a[0].toString()).replace(r,a[1].toString()).replace(i,function(){var e=-a[2]-1;return e.toString()}).replace(n,function(){var e=a[0];var o=t.getFullTileRange(e);ol.asserts.assert(o,55);var r=o.getHeight()+a[2];return r.toString()})}}};ol.TileUrlFunction.createFromTemplates=function(e,t){var o=e.length;var r=new Array(o);for(var i=0;i<o;++i){r[i]=ol.TileUrlFunction.createFromTemplate(e[i],t)}return ol.TileUrlFunction.createFromTileUrlFunctions(r)};ol.TileUrlFunction.createFromTileUrlFunctions=function(e){if(e.length===1){return e[0]}return function(t,o,r){if(!t){return undefined}else{var i=ol.tilecoord.hash(t);var n=ol.math.modulo(i,e.length);return e[n](t,o,r)}}};ol.TileUrlFunction.nullTileUrlFunction=function(e,t,o){return undefined};ol.TileUrlFunction.expandUrl=function(e){var t=[];var o=/\{([a-z])-([a-z])\}/.exec(e);if(o){var r=o[1].charCodeAt(0);var i=o[2].charCodeAt(0);var n;for(n=r;n<=i;++n){t.push(e.replace(o[0],String.fromCharCode(n)))}return t}o=o=/\{(\d+)-(\d+)\}/.exec(e);if(o){var a=parseInt(o[2],10);for(var l=parseInt(o[1],10);l<=a;l++){t.push(e.replace(o[0],l.toString()))}return t}t.push(e);return t};goog.provide("ol.TileCache");goog.require("ol");goog.require("ol.structs.LRUCache");ol.TileCache=function(e){ol.structs.LRUCache.call(this);this.highWaterMark_=e!==undefined?e:2048};ol.inherits(ol.TileCache,ol.structs.LRUCache);ol.TileCache.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark_};ol.TileCache.prototype.expireCache=function(e){var t,o;while(this.canExpireCache()){t=this.peekLast();o=t.tileCoord[0].toString();if(o in e&&e[o].contains(t.tileCoord)){break}else{this.pop().dispose()}}};goog.provide("ol.source.Tile");goog.require("ol");goog.require("ol.TileCache");goog.require("ol.TileState");goog.require("ol.events.Event");goog.require("ol.proj");goog.require("ol.size");goog.require("ol.source.Source");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.Tile=function(e){ol.source.Source.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,state:e.state,wrapX:e.wrapX});this.opaque_=e.opaque!==undefined?e.opaque:false;this.tilePixelRatio_=e.tilePixelRatio!==undefined?e.tilePixelRatio:1;this.tileGrid=e.tileGrid!==undefined?e.tileGrid:null;this.tileCache=new ol.TileCache(e.cacheSize);this.tmpSize=[0,0];this.key_=""};ol.inherits(ol.source.Tile,ol.source.Source);ol.source.Tile.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()};ol.source.Tile.prototype.expireCache=function(e,t){var o=this.getTileCacheForProjection(e);if(o){o.expireCache(t)}};ol.source.Tile.prototype.forEachLoadedTile=function(e,t,o,r){var i=this.getTileCacheForProjection(e);if(!i){return false}var n=true;var a,l,s;for(var p=o.minX;p<=o.maxX;++p){for(var u=o.minY;u<=o.maxY;++u){l=this.getKeyZXY(t,p,u);s=false;if(i.containsKey(l)){a=i.get(l);s=a.getState()===ol.TileState.LOADED;if(s){s=r(a)!==false}}if(!s){n=false}}}return n};ol.source.Tile.prototype.getGutter=function(e){return 0};ol.source.Tile.prototype.getKey=function(){return this.key_};ol.source.Tile.prototype.setKey=function(e){if(this.key_!==e){this.key_=e;this.changed()}};ol.source.Tile.prototype.getKeyZXY=ol.tilecoord.getKeyZXY;ol.source.Tile.prototype.getOpaque=function(e){return this.opaque_};ol.source.Tile.prototype.getResolutions=function(){return this.tileGrid.getResolutions()};ol.source.Tile.prototype.getTile=function(e,t,o,r,i){};ol.source.Tile.prototype.getTileGrid=function(){return this.tileGrid};ol.source.Tile.prototype.getTileGridForProjection=function(e){if(!this.tileGrid){return ol.tilegrid.getForProjection(e)}else{return this.tileGrid}};ol.source.Tile.prototype.getTileCacheForProjection=function(e){var t=this.getProjection();if(t&&!ol.proj.equivalent(t,e)){return null}else{return this.tileCache}};ol.source.Tile.prototype.getTilePixelRatio=function(e){return this.tilePixelRatio_};ol.source.Tile.prototype.getTilePixelSize=function(e,t,o){var r=this.getTileGridForProjection(o);var i=this.getTilePixelRatio(t);var n=ol.size.toSize(r.getTileSize(e),this.tmpSize);if(i==1){return n}else{return ol.size.scale(n,i,this.tmpSize)}};ol.source.Tile.prototype.getTileCoordForTileUrlFunction=function(e,t){var o=t!==undefined?t:this.getProjection();var r=this.getTileGridForProjection(o);if(this.getWrapX()&&o.isGlobal()){e=ol.tilegrid.wrapX(r,e,o)}return ol.tilecoord.withinExtentAndZ(e,r)?e:null};ol.source.Tile.prototype.refresh=function(){this.tileCache.clear();this.changed()};ol.source.Tile.prototype.useTile=ol.nullFunction;ol.source.Tile.Event=function(e,t){ol.events.Event.call(this,e);this.tile=t};ol.inherits(ol.source.Tile.Event,ol.events.Event);goog.provide("ol.source.TileEventType");ol.source.TileEventType={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};goog.provide("ol.source.UrlTile");goog.require("ol");goog.require("ol.TileState");goog.require("ol.TileUrlFunction");goog.require("ol.source.Tile");goog.require("ol.source.TileEventType");ol.source.UrlTile=function(e){ol.source.Tile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX});this.tileLoadFunction=e.tileLoadFunction;this.tileUrlFunction=this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.nullTileUrlFunction;this.urls=null;if(e.urls){this.setUrls(e.urls)}else if(e.url){this.setUrl(e.url)}if(e.tileUrlFunction){this.setTileUrlFunction(e.tileUrlFunction)}};ol.inherits(ol.source.UrlTile,ol.source.Tile);ol.source.UrlTile.prototype.fixedTileUrlFunction;ol.source.UrlTile.prototype.getTileLoadFunction=function(){return this.tileLoadFunction};ol.source.UrlTile.prototype.getTileUrlFunction=function(){return this.tileUrlFunction};ol.source.UrlTile.prototype.getUrls=function(){return this.urls};ol.source.UrlTile.prototype.handleTileChange=function(e){var t=e.target;switch(t.getState()){case ol.TileState.LOADING:this.dispatchEvent(new ol.source.Tile.Event(ol.source.TileEventType.TILELOADSTART,t));break;case ol.TileState.LOADED:this.dispatchEvent(new ol.source.Tile.Event(ol.source.TileEventType.TILELOADEND,t));break;case ol.TileState.ERROR:this.dispatchEvent(new ol.source.Tile.Event(ol.source.TileEventType.TILELOADERROR,t));break;default:}};ol.source.UrlTile.prototype.setTileLoadFunction=function(e){this.tileCache.clear();this.tileLoadFunction=e;this.changed()};ol.source.UrlTile.prototype.setTileUrlFunction=function(e,t){this.tileUrlFunction=e;if(typeof t!=="undefined"){this.setKey(t)}else{this.changed()}};ol.source.UrlTile.prototype.setUrl=function(e){var t=this.urls=ol.TileUrlFunction.expandUrl(e);this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(t,this.tileGrid),e)};ol.source.UrlTile.prototype.setUrls=function(e){this.urls=e;var t=e.join("\n");this.setTileUrlFunction(this.fixedTileUrlFunction?this.fixedTileUrlFunction.bind(this):ol.TileUrlFunction.createFromTemplates(e,this.tileGrid),t)};ol.source.UrlTile.prototype.useTile=function(e,t,o){var r=this.getKeyZXY(e,t,o);if(this.tileCache.containsKey(r)){this.tileCache.get(r)}};goog.provide("ol.source.TileImage");goog.require("ol");goog.require("ol.ImageTile");goog.require("ol.TileCache");goog.require("ol.TileState");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.proj");goog.require("ol.reproj.Tile");goog.require("ol.source.UrlTile");goog.require("ol.tilegrid");ol.source.TileImage=function(e){ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,extent:e.extent,logo:e.logo,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.source.TileImage.defaultTileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX});this.crossOrigin=e.crossOrigin!==undefined?e.crossOrigin:null;this.tileClass=e.tileClass!==undefined?e.tileClass:ol.ImageTile;this.tileCacheForProjection={};this.tileGridForProjection={};this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold;this.renderReprojectionEdges_=false};ol.inherits(ol.source.TileImage,ol.source.UrlTile);ol.source.TileImage.prototype.canExpireCache=function(){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.canExpireCache.call(this)}if(this.tileCache.canExpireCache()){return true}else{for(var e in this.tileCacheForProjection){if(this.tileCacheForProjection[e].canExpireCache()){return true}}}return false};ol.source.TileImage.prototype.expireCache=function(e,t){if(!ol.ENABLE_RASTER_REPROJECTION){ol.source.UrlTile.prototype.expireCache.call(this,e,t);return}var o=this.getTileCacheForProjection(e);this.tileCache.expireCache(this.tileCache==o?t:{});for(var r in this.tileCacheForProjection){var i=this.tileCacheForProjection[r];i.expireCache(i==o?t:{})}};ol.source.TileImage.prototype.getGutter=function(e){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)){return 0}else{return this.getGutterInternal()}};ol.source.TileImage.prototype.getGutterInternal=function(){return 0};ol.source.TileImage.prototype.getOpaque=function(e){if(ol.ENABLE_RASTER_REPROJECTION&&this.getProjection()&&e&&!ol.proj.equivalent(this.getProjection(),e)){return false}else{return ol.source.UrlTile.prototype.getOpaque.call(this,e)}};ol.source.TileImage.prototype.getTileGridForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileGridForProjection.call(this,e)}var t=this.getProjection();if(this.tileGrid&&(!t||ol.proj.equivalent(t,e))){return this.tileGrid}else{var o=ol.getUid(e).toString();if(!(o in this.tileGridForProjection)){this.tileGridForProjection[o]=ol.tilegrid.getForProjection(e)}return this.tileGridForProjection[o]}};ol.source.TileImage.prototype.getTileCacheForProjection=function(e){if(!ol.ENABLE_RASTER_REPROJECTION){return ol.source.UrlTile.prototype.getTileCacheForProjection.call(this,e)}var t=this.getProjection();if(!t||ol.proj.equivalent(t,e)){return this.tileCache}else{var o=ol.getUid(e).toString();if(!(o in this.tileCacheForProjection)){this.tileCacheForProjection[o]=new ol.TileCache}return this.tileCacheForProjection[o]}};ol.source.TileImage.prototype.createTile_=function(e,t,o,r,i,n){var a=[e,t,o];var l=this.getTileCoordForTileUrlFunction(a,i);var s=l?this.tileUrlFunction(l,r,i):undefined;var p=new this.tileClass(a,s!==undefined?ol.TileState.IDLE:ol.TileState.EMPTY,s!==undefined?s:"",this.crossOrigin,this.tileLoadFunction);p.key=n;ol.events.listen(p,ol.events.EventType.CHANGE,this.handleTileChange,this);return p};ol.source.TileImage.prototype.getTile=function(e,t,o,r,i){if(!ol.ENABLE_RASTER_REPROJECTION||!this.getProjection()||!i||ol.proj.equivalent(this.getProjection(),i)){return this.getTileInternal(e,t,o,r,i)}else{var n=this.getTileCacheForProjection(i);var a=[e,t,o];var l;var s=this.getKeyZXY.apply(this,a);if(n.containsKey(s)){l=n.get(s)}var p=this.getKey();if(l&&l.key==p){return l}else{var u=this.getProjection();var c=this.getTileGridForProjection(u);var g=this.getTileGridForProjection(i);var h=this.getTileCoordForTileUrlFunction(a,i);var f=new ol.reproj.Tile(u,c,i,g,a,h,this.getTilePixelRatio(r),this.getGutterInternal(),function(e,t,o,r){return this.getTileInternal(e,t,o,r,u)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);f.key=p;if(l){f.interimTile=l;n.replace(s,f)}else{n.set(s,f)}return f}}};ol.source.TileImage.prototype.getTileInternal=function(e,t,o,r,i){var n=null;var a=this.getKeyZXY(e,t,o);var l=this.getKey();if(!this.tileCache.containsKey(a)){n=this.createTile_(e,t,o,r,i,l);this.tileCache.set(a,n)}else{n=this.tileCache.get(a);if(n.key!=l){var s=n;n=this.createTile_(e,t,o,r,i,l);if(s.getState()==ol.TileState.IDLE){n.interimTile=s.interimTile}else{n.interimTile=s}n.refreshInterimChain();this.tileCache.replace(a,n)}}return n};ol.source.TileImage.prototype.setRenderReprojectionEdges=function(e){if(!ol.ENABLE_RASTER_REPROJECTION||this.renderReprojectionEdges_==e){return}this.renderReprojectionEdges_=e;for(var t in this.tileCacheForProjection){this.tileCacheForProjection[t].clear()}this.changed()};ol.source.TileImage.prototype.setTileGridForProjection=function(e,t){if(ol.ENABLE_RASTER_REPROJECTION){var o=ol.proj.get(e);if(o){var r=ol.getUid(o).toString();if(!(r in this.tileGridForProjection)){this.tileGridForProjection[r]=t}}}};ol.source.TileImage.defaultTileLoadFunction=function(e,t){e.getImage().src=t};goog.provide("ol.source.BingMaps");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.TileUrlFunction");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.TileImage");goog.require("ol.tilecoord");goog.require("ol.tilegrid");ol.source.BingMaps=function(e){this.hidpi_=e.hidpi!==undefined?e.hidpi:false;ol.source.TileImage.call(this,{cacheSize:e.cacheSize,crossOrigin:"anonymous",opaque:true,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:this.hidpi_?2:1,wrapX:e.wrapX!==undefined?e.wrapX:true});this.culture_=e.culture!==undefined?e.culture:"en-us";this.maxZoom_=e.maxZoom!==undefined?e.maxZoom:-1;this.apiKey_=e.key;this.imagerySet_=e.imagerySet;var t="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_;ol.net.jsonp(t,this.handleImageryMetadataResponse.bind(this),undefined,"jsonp")};ol.inherits(ol.source.BingMaps,ol.source.TileImage);ol.source.BingMaps.TOS_ATTRIBUTION=new ol.Attribution({html:'<a class="ol-attribution-bing-tos" '+'href="http://www.microsoft.com/maps/product/terms.html">'+"Terms of Use</a>"});ol.source.BingMaps.prototype.getApiKey=function(){return this.apiKey_};ol.source.BingMaps.prototype.getImagerySet=function(){return this.imagerySet_};ol.source.BingMaps.prototype.handleImageryMetadataResponse=function(e){if(e.statusCode!=200||e.statusDescription!="OK"||e.authenticationResultCode!="ValidCredentials"||e.resourceSets.length!=1||e.resourceSets[0].resources.length!=1){this.setState(ol.source.State.ERROR);return}var t=e.brandLogoUri;if(t.indexOf("https")==-1){t=t.replace("http","https")}var o=e.resourceSets[0].resources[0];var r=this.maxZoom_==-1?o.zoomMax:this.maxZoom_;var i=this.getProjection();var n=ol.tilegrid.extentFromProjection(i);var a=o.imageWidth==o.imageHeight?o.imageWidth:[o.imageWidth,o.imageHeight];var l=ol.tilegrid.createXYZ({extent:n,minZoom:o.zoomMin,maxZoom:r,tileSize:a/this.getTilePixelRatio()});this.tileGrid=l;var s=this.culture_;var p=this.hidpi_;this.tileUrlFunction=ol.TileUrlFunction.createFromTileUrlFunctions(o.imageUrlSubdomains.map(function(e){var t=[0,0,0];var r=o.imageUrl.replace("{subdomain}",e).replace("{culture}",s);return function(e,o,i){if(!e){return undefined}else{ol.tilecoord.createOrUpdate(e[0],e[1],-e[2]-1,t);var n=r;if(p){n+="&dpi=d1&device=mobile"}return n.replace("{quadkey}",ol.tilecoord.quadKey(t))}}}));if(o.imageryProviders){var u=ol.proj.getTransformFromProjections(ol.proj.get("EPSG:4326"),this.getProjection());var c=o.imageryProviders.map(function(e){var t=e.attribution;var o={};e.coverageAreas.forEach(function(e){var t=e.zoomMin;var i=Math.min(e.zoomMax,r);var n=e.bbox;var a=[n[1],n[0],n[3],n[2]];var s=ol.extent.applyTransform(a,u);var p,c,g;for(c=t;c<=i;++c){g=c.toString();p=l.getTileRangeForExtentAndZ(s,c);if(g in o){o[g].push(p)}else{o[g]=[p]}}});return new ol.Attribution({html:t,tileRanges:o})});c.push(ol.source.BingMaps.TOS_ATTRIBUTION);this.setAttributions(c)}this.setLogo(t);this.setState(ol.source.State.READY)};goog.provide("ol.source.XYZ");goog.require("ol");goog.require("ol.source.TileImage");goog.require("ol.tilegrid");ol.source.XYZ=function(e){var t=e||{};var o=t.projection!==undefined?t.projection:"EPSG:3857";var r=t.tileGrid!==undefined?t.tileGrid:ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(o),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:o,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==undefined?t.wrapX:true})};ol.inherits(ol.source.XYZ,ol.source.TileImage);goog.provide("ol.source.CartoDB");goog.require("ol");goog.require("ol.obj");goog.require("ol.source.State");goog.require("ol.source.XYZ");ol.source.CartoDB=function(e){this.account_=e.account;this.mapId_=e.map||"";this.config_=e.config||{};this.templateCache_={};ol.source.XYZ.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,maxZoom:e.maxZoom!==undefined?e.maxZoom:18,minZoom:e.minZoom,projection:e.projection,state:ol.source.State.LOADING,wrapX:e.wrapX});this.initializeMap_()};ol.inherits(ol.source.CartoDB,ol.source.XYZ);ol.source.CartoDB.prototype.getConfig=function(){return this.config_};ol.source.CartoDB.prototype.updateConfig=function(e){ol.obj.assign(this.config_,e);this.initializeMap_()};ol.source.CartoDB.prototype.setConfig=function(e){this.config_=e||{};this.initializeMap_()};ol.source.CartoDB.prototype.initializeMap_=function(){var e=JSON.stringify(this.config_);if(this.templateCache_[e]){this.applyTemplate_(this.templateCache_[e]);return}var t="https://"+this.account_+".cartodb.com/api/v1/map";if(this.mapId_){t+="/named/"+this.mapId_}var o=new XMLHttpRequest;o.addEventListener("load",this.handleInitResponse_.bind(this,e));o.addEventListener("error",this.handleInitError_.bind(this));o.open("POST",t);o.setRequestHeader("Content-type","application/json");o.send(JSON.stringify(this.config_))};ol.source.CartoDB.prototype.handleInitResponse_=function(e,t){var o=t.target;if(!o.status||o.status>=200&&o.status<300){var r;try{r=JSON.parse(o.responseText)}catch(i){this.setState(ol.source.State.ERROR);return}this.applyTemplate_(r);this.templateCache_[e]=r;this.setState(ol.source.State.READY)}else{this.setState(ol.source.State.ERROR)}};ol.source.CartoDB.prototype.handleInitError_=function(e){this.setState(ol.source.State.ERROR)};ol.source.CartoDB.prototype.applyTemplate_=function(e){var t="https://"+e.cdn_url.https+"/"+this.account_+"/api/v1/map/"+e.layergroupid+"/{z}/{x}/{y}.png";this.setUrl(t)};goog.provide("ol.source.Cluster");goog.require("ol");goog.require("ol.asserts");goog.require("ol.Feature");goog.require("ol.coordinate");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.geom.Point");goog.require("ol.source.Vector");ol.source.Cluster=function(e){ol.source.Vector.call(this,{attributions:e.attributions,extent:e.extent,logo:e.logo,projection:e.projection,wrapX:e.wrapX});this.resolution_=undefined;this.distance_=e.distance!==undefined?e.distance:20;this.features_=[];this.geometryFunction_=e.geometryFunction||function(e){var t=e.getGeometry();ol.asserts.assert(t instanceof ol.geom.Point,10);return t};this.source_=e.source;this.source_.on(ol.events.EventType.CHANGE,ol.source.Cluster.prototype.refresh_,this)};ol.inherits(ol.source.Cluster,ol.source.Vector);ol.source.Cluster.prototype.getSource=function(){return this.source_};ol.source.Cluster.prototype.loadFeatures=function(e,t,o){this.source_.loadFeatures(e,t,o);if(t!==this.resolution_){this.clear();this.resolution_=t;this.cluster_();this.addFeatures(this.features_)}};ol.source.Cluster.prototype.setDistance=function(e){this.distance_=e;this.refresh_()};ol.source.Cluster.prototype.refresh_=function(){this.clear();this.cluster_();this.addFeatures(this.features_);this.changed()};ol.source.Cluster.prototype.cluster_=function(){if(this.resolution_===undefined){return}this.features_.length=0;var e=ol.extent.createEmpty();var t=this.distance_*this.resolution_;var o=this.source_.getFeatures();var r={};for(var i=0,n=o.length;i<n;i++){var a=o[i];if(!(ol.getUid(a).toString()in r)){var l=this.geometryFunction_(a);if(l){var s=l.getCoordinates();ol.extent.createOrUpdateFromCoordinate(s,e);ol.extent.buffer(e,t,e);var p=this.source_.getFeaturesInExtent(e);p=p.filter(function(e){var t=ol.getUid(e).toString();if(!(t in r)){r[t]=true;return true}else{return false}});this.features_.push(this.createCluster_(p))}}}};ol.source.Cluster.prototype.createCluster_=function(e){var t=[0,0];for(var o=e.length-1;o>=0;--o){var r=this.geometryFunction_(e[o]);if(r){ol.coordinate.add(t,r.getCoordinates())}else{e.splice(o,1)}}ol.coordinate.scale(t,1/e.length);var i=new ol.Feature(new ol.geom.Point(t));i.set("features",e);return i};goog.provide("ol.uri");ol.uri.appendParams=function(e,t){var o=[];Object.keys(t).forEach(function(e){if(t[e]!==null&&t[e]!==undefined){o.push(e+"="+encodeURIComponent(t[e]))}});var r=o.join("&");e=e.replace(/[?&]$/,"");e=e.indexOf("?")===-1?e+"?":e+"&";return e+r};goog.provide("ol.source.ImageArcGISRest");goog.require("ol");goog.require("ol.Image");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.source.Image");goog.require("ol.uri");ol.source.ImageArcGISRest=function(e){var t=e||{};ol.source.Image.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions});this.crossOrigin_=t.crossOrigin!==undefined?t.crossOrigin:null;this.hidpi_=t.hidpi!==undefined?t.hidpi:true;this.url_=t.url;this.imageLoadFunction_=t.imageLoadFunction!==undefined?t.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=t.params||{};this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=t.ratio!==undefined?t.ratio:1.5};ol.inherits(ol.source.ImageArcGISRest,ol.source.Image);ol.source.ImageArcGISRest.prototype.getParams=function(){return this.params_};ol.source.ImageArcGISRest.prototype.getImageInternal=function(e,t,o,r){if(this.url_===undefined){return null}t=this.findNearestResolution(t);o=this.hidpi_?o:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==o&&ol.extent.containsExtent(i.getExtent(),e)){return i}var n={F:"image",FORMAT:"PNG32",TRANSPARENT:true};ol.obj.assign(n,this.params_);e=e.slice();var a=(e[0]+e[2])/2;var l=(e[1]+e[3])/2;if(this.ratio_!=1){var s=this.ratio_*ol.extent.getWidth(e)/2;var p=this.ratio_*ol.extent.getHeight(e)/2;e[0]=a-s;e[1]=l-p;e[2]=a+s;e[3]=l+p}var u=t/o;var c=Math.ceil(ol.extent.getWidth(e)/u);var g=Math.ceil(ol.extent.getHeight(e)/u);e[0]=a-u*c/2;e[2]=a+u*c/2;e[1]=l-u*g/2;e[3]=l+u*g/2;this.imageSize_[0]=c;this.imageSize_[1]=g;var h=this.getRequestUrl_(e,this.imageSize_,o,r,n);this.image_=new ol.Image(e,t,o,this.getAttributions(),h,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageArcGISRest.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageArcGISRest.prototype.getRequestUrl_=function(e,t,o,r,i){var n=r.getCode().split(":").pop();i["SIZE"]=t[0]+","+t[1];i["BBOX"]=e.join(",");i["BBOXSR"]=n;i["IMAGESR"]=n;i["DPI"]=Math.round(90*o);var a=this.url_;var l=a.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");if(l==a){ol.asserts.assert(false,50)}return ol.uri.appendParams(l,i)};ol.source.ImageArcGISRest.prototype.getUrl=function(){return this.url_};ol.source.ImageArcGISRest.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};ol.source.ImageArcGISRest.prototype.setUrl=function(e){if(e!=this.url_){this.url_=e;this.image_=null;this.changed()}};ol.source.ImageArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.image_=null;this.changed()};goog.provide("ol.source.ImageMapGuide");goog.require("ol");goog.require("ol.Image");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.source.Image");goog.require("ol.uri");ol.source.ImageMapGuide=function(e){ol.source.Image.call(this,{projection:e.projection,resolutions:e.resolutions});this.crossOrigin_=e.crossOrigin!==undefined?e.crossOrigin:null;this.displayDpi_=e.displayDpi!==undefined?e.displayDpi:96;this.params_=e.params||{};this.url_=e.url;this.imageLoadFunction_=e.imageLoadFunction!==undefined?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.hidpi_=e.hidpi!==undefined?e.hidpi:true;this.metersPerUnit_=e.metersPerUnit!==undefined?e.metersPerUnit:1;this.ratio_=e.ratio!==undefined?e.ratio:1;this.useOverlay_=e.useOverlay!==undefined?e.useOverlay:false;this.image_=null;this.renderedRevision_=0};ol.inherits(ol.source.ImageMapGuide,ol.source.Image);ol.source.ImageMapGuide.prototype.getParams=function(){return this.params_};ol.source.ImageMapGuide.prototype.getImageInternal=function(e,t,o,r){t=this.findNearestResolution(t);o=this.hidpi_?o:1;var i=this.image_;if(i&&this.renderedRevision_==this.getRevision()&&i.getResolution()==t&&i.getPixelRatio()==o&&ol.extent.containsExtent(i.getExtent(),e)){return i}if(this.ratio_!=1){e=e.slice();ol.extent.scaleFromCenter(e,this.ratio_)}var n=ol.extent.getWidth(e)/t;var a=ol.extent.getHeight(e)/t;var l=[n*o,a*o];if(this.url_!==undefined){var s=this.getUrl(this.url_,this.params_,e,l,r);i=new ol.Image(e,t,o,this.getAttributions(),s,this.crossOrigin_,this.imageLoadFunction_);ol.events.listen(i,ol.events.EventType.CHANGE,this.handleImageChange,this)}else{i=null}this.image_=i;this.renderedRevision_=this.getRevision();return i};ol.source.ImageMapGuide.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageMapGuide.getScale=function(e,t,o,r){var i=ol.extent.getWidth(e);var n=ol.extent.getHeight(e);var a=t[0];var l=t[1];var s=.0254/r;if(l*i>a*n){return i*o/(a*s)}else{return n*o/(l*s)}};ol.source.ImageMapGuide.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.changed()};ol.source.ImageMapGuide.prototype.getUrl=function(e,t,o,r,i){var n=ol.source.ImageMapGuide.getScale(o,r,this.metersPerUnit_,this.displayDpi_);
var a=ol.extent.getCenter(o);var l={OPERATION:this.useOverlay_?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.displayDpi_,SETDISPLAYWIDTH:Math.round(r[0]),SETDISPLAYHEIGHT:Math.round(r[1]),SETVIEWSCALE:n,SETVIEWCENTERX:a[0],SETVIEWCENTERY:a[1]};ol.obj.assign(l,t);return ol.uri.appendParams(e,l)};ol.source.ImageMapGuide.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};goog.provide("ol.source.ImageStatic");goog.require("ol");goog.require("ol.Image");goog.require("ol.ImageState");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.proj");goog.require("ol.source.Image");ol.source.ImageStatic=function(e){var t=e.imageExtent;var o=e.crossOrigin!==undefined?e.crossOrigin:null;var r=e.imageLoadFunction!==undefined?e.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;ol.source.Image.call(this,{attributions:e.attributions,logo:e.logo,projection:ol.proj.get(e.projection)});this.image_=new ol.Image(t,undefined,1,this.getAttributions(),e.url,o,r);this.imageSize_=e.imageSize?e.imageSize:null;ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this)};ol.inherits(ol.source.ImageStatic,ol.source.Image);ol.source.ImageStatic.prototype.getImageInternal=function(e,t,o,r){if(ol.extent.intersects(e,this.image_.getExtent())){return this.image_}return null};ol.source.ImageStatic.prototype.handleImageChange=function(e){if(this.image_.getState()==ol.ImageState.LOADED){var t=this.image_.getExtent();var o=this.image_.getImage();var r,i;if(this.imageSize_){r=this.imageSize_[0];i=this.imageSize_[1]}else{r=o.width;i=o.height}var n=ol.extent.getHeight(t)/i;var a=Math.ceil(ol.extent.getWidth(t)/n);if(a!=r){var l=ol.dom.createCanvasContext2D(a,i);var s=l.canvas;l.drawImage(o,0,0,r,i,0,0,s.width,s.height);this.image_.setImage(s)}}ol.source.Image.prototype.handleImageChange.call(this,e)};goog.provide("ol.source.WMSServerType");ol.source.WMSServerType={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};goog.provide("ol.source.ImageWMS");goog.require("ol");goog.require("ol.Image");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.source.Image");goog.require("ol.source.WMSServerType");goog.require("ol.string");goog.require("ol.uri");ol.source.ImageWMS=function(e){var t=e||{};ol.source.Image.call(this,{attributions:t.attributions,logo:t.logo,projection:t.projection,resolutions:t.resolutions});this.crossOrigin_=t.crossOrigin!==undefined?t.crossOrigin:null;this.url_=t.url;this.imageLoadFunction_=t.imageLoadFunction!==undefined?t.imageLoadFunction:ol.source.Image.defaultImageLoadFunction;this.params_=t.params||{};this.v13_=true;this.updateV13_();this.serverType_=t.serverType;this.hidpi_=t.hidpi!==undefined?t.hidpi:true;this.image_=null;this.imageSize_=[0,0];this.renderedRevision_=0;this.ratio_=t.ratio!==undefined?t.ratio:1.5};ol.inherits(ol.source.ImageWMS,ol.source.Image);ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_=[101,101];ol.source.ImageWMS.prototype.getGetFeatureInfoUrl=function(e,t,o,r){if(this.url_===undefined){return undefined}var i=ol.extent.getForViewAndSize(e,t,0,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_);var n={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};ol.obj.assign(n,this.params_,r);var a=Math.floor((e[0]-i[0])/t);var l=Math.floor((i[3]-e[1])/t);n[this.v13_?"I":"X"]=a;n[this.v13_?"J":"Y"]=l;return this.getRequestUrl_(i,ol.source.ImageWMS.GETFEATUREINFO_IMAGE_SIZE_,1,ol.proj.get(o),n)};ol.source.ImageWMS.prototype.getParams=function(){return this.params_};ol.source.ImageWMS.prototype.getImageInternal=function(e,t,o,r){if(this.url_===undefined){return null}t=this.findNearestResolution(t);if(o!=1&&(!this.hidpi_||this.serverType_===undefined)){o=1}var i=t/o;var n=ol.extent.getCenter(e);var a=Math.ceil(ol.extent.getWidth(e)/i);var l=Math.ceil(ol.extent.getHeight(e)/i);var s=ol.extent.getForViewAndSize(n,t,0,[a,l]);var p=Math.ceil(this.ratio_*ol.extent.getWidth(e)/i);var u=Math.ceil(this.ratio_*ol.extent.getHeight(e)/i);var c=ol.extent.getForViewAndSize(n,t,0,[p,u]);var g=this.image_;if(g&&this.renderedRevision_==this.getRevision()&&g.getResolution()==t&&g.getPixelRatio()==o&&ol.extent.containsExtent(g.getExtent(),s)){return g}var h={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};ol.obj.assign(h,this.params_);this.imageSize_[0]=Math.round(ol.extent.getWidth(c)/i);this.imageSize_[1]=Math.round(ol.extent.getHeight(c)/i);var f=this.getRequestUrl_(c,this.imageSize_,o,r,h);this.image_=new ol.Image(c,t,o,this.getAttributions(),f,this.crossOrigin_,this.imageLoadFunction_);this.renderedRevision_=this.getRevision();ol.events.listen(this.image_,ol.events.EventType.CHANGE,this.handleImageChange,this);return this.image_};ol.source.ImageWMS.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_};ol.source.ImageWMS.prototype.getRequestUrl_=function(e,t,o,r,i){ol.asserts.assert(this.url_!==undefined,9);i[this.v13_?"CRS":"SRS"]=r.getCode();if(!("STYLES"in this.params_)){i["STYLES"]=""}if(o!=1){switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var n=90*o+.5|0;if("FORMAT_OPTIONS"in i){i["FORMAT_OPTIONS"]+=";dpi:"+n}else{i["FORMAT_OPTIONS"]="dpi:"+n}break;case ol.source.WMSServerType.MAPSERVER:i["MAP_RESOLUTION"]=90*o;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:i["DPI"]=90*o;break;default:ol.asserts.assert(false,8);break}}i["WIDTH"]=t[0];i["HEIGHT"]=t[1];var a=r.getAxisOrientation();var l;if(this.v13_&&a.substr(0,2)=="ne"){l=[e[1],e[0],e[3],e[2]]}else{l=e}i["BBOX"]=l.join(",");return ol.uri.appendParams(this.url_,i)};ol.source.ImageWMS.prototype.getUrl=function(){return this.url_};ol.source.ImageWMS.prototype.setImageLoadFunction=function(e){this.image_=null;this.imageLoadFunction_=e;this.changed()};ol.source.ImageWMS.prototype.setUrl=function(e){if(e!=this.url_){this.url_=e;this.image_=null;this.changed()}};ol.source.ImageWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.updateV13_();this.image_=null;this.changed()};ol.source.ImageWMS.prototype.updateV13_=function(){var e=this.params_["VERSION"]||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(e,"1.3")>=0};goog.provide("ol.source.OSM");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.source.XYZ");ol.source.OSM=function(e){var t=e||{};var o;if(t.attributions!==undefined){o=t.attributions}else{o=[ol.source.OSM.ATTRIBUTION]}var r=t.crossOrigin!==undefined?t.crossOrigin:"anonymous";var i=t.url!==undefined?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";ol.source.XYZ.call(this,{attributions:o,cacheSize:t.cacheSize,crossOrigin:r,opaque:t.opaque!==undefined?t.opaque:true,maxZoom:t.maxZoom!==undefined?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:i,wrapX:t.wrapX})};ol.inherits(ol.source.OSM,ol.source.XYZ);ol.source.OSM.ATTRIBUTION=new ol.Attribution({html:"&copy; "+'<a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> '+"contributors."});goog.provide("ol.ext.pixelworks");ol.ext.pixelworks;(function(){var e={};var t={exports:e};var o;(function(r){if(typeof e==="object"&&typeof t!=="undefined"){t.exports=r()}else if(typeof o==="function"&&o.amd){o([],r)}else{var i;if(typeof window!=="undefined"){i=window}else if(typeof global!=="undefined"){i=global}else if(typeof self!=="undefined"){i=self}else{i=this}i.pixelworks=r()}})(function(){var e,t,o;return function r(e,t,o){function i(a,l){if(!t[a]){if(!e[a]){var s=typeof require=="function"&&require;if(!l&&s)return s(a,!0);if(n)return n(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var u=t[a]={exports:{}};e[a][0].call(u.exports,function(t){var o=e[a][1][t];return i(o?o:t)},u,u.exports,r,e,t,o)}return t[a].exports}var n=typeof require=="function"&&require;for(var a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,o){var r=e("./processor");o.Processor=r},{"./processor":2}],2:[function(e,t,o){var r=e("./util").newImageData;function i(e){var t=true;try{new ImageData(10,10)}catch(o){t=false}function r(e,o,r){if(t){return new ImageData(e,o,r)}else{return{data:e,width:o,height:r}}}return function(t){var o=t["buffers"];var i=t["meta"];var n=t["imageOps"];var a=t["width"];var l=t["height"];var s=o.length;var p=o[0].byteLength;var u,c;if(n){var g=new Array(s);for(c=0;c<s;++c){g[c]=r(new Uint8ClampedArray(o[c]),a,l)}u=e(g,i).data}else{u=new Uint8ClampedArray(p);var h=new Array(s);var f=new Array(s);for(c=0;c<s;++c){h[c]=new Uint8ClampedArray(o[c]);f[c]=[0,0,0,0]}for(var d=0;d<p;d+=4){for(var y=0;y<s;++y){var m=h[y];f[y][0]=m[d];f[y][1]=m[d+1];f[y][2]=m[d+2];f[y][3]=m[d+3]}var v=e(f,i);u[d]=v[0];u[d+1]=v[1];u[d+2]=v[2];u[d+3]=v[3]}}return u.buffer}}function n(e,t){var o=Object.keys(e.lib||{}).map(function(t){return"var "+t+" = "+e.lib[t].toString()+";"});var r=o.concat(["var __minion__ = ("+i.toString()+")(",e.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]);var n=new Blob(r,{type:"text/javascript"});var a=URL.createObjectURL(n);var l=new Worker(a);l.addEventListener("message",t);return l}function a(e,t){var o=i(e.operation);return{postMessage:function(e){setTimeout(function(){t({data:{buffer:o(e),meta:e["meta"]}})},0)}}}function l(e){this._imageOps=!!e.imageOps;var t;if(e.threads===0){t=0}else if(this._imageOps){t=1}else{t=e.threads||1}var o=[];if(t){for(var r=0;r<t;++r){o[r]=n(e,this._onWorkerMessage.bind(this,r))}}else{o[0]=a(e,this._onWorkerMessage.bind(this,0))}this._workers=o;this._queue=[];this._maxQueueLength=e.queue||Infinity;this._running=0;this._dataLookup={};this._job=null}l.prototype.process=function(e,t,o){this._enqueue({inputs:e,meta:t,callback:o});this._dispatch()};l.prototype.destroy=function(){for(var e in this){this[e]=null}this._destroyed=true};l.prototype._enqueue=function(e){this._queue.push(e);while(this._queue.length>this._maxQueueLength){this._queue.shift().callback(null,null)}};l.prototype._dispatch=function(){if(this._running===0&&this._queue.length>0){var e=this._job=this._queue.shift();var t=e.inputs[0].width;var o=e.inputs[0].height;var r=e.inputs.map(function(e){return e.data.buffer});var i=this._workers.length;this._running=i;if(i===1){this._workers[0].postMessage({buffers:r,meta:e.meta,imageOps:this._imageOps,width:t,height:o},r)}else{var n=e.inputs[0].data.length;var a=4*Math.ceil(n/4/i);for(var l=0;l<i;++l){var s=l*a;var p=[];for(var u=0,c=r.length;u<c;++u){p.push(r[l].slice(s,s+a))}this._workers[l].postMessage({buffers:p,meta:e.meta,imageOps:this._imageOps,width:t,height:o},p)}}}};l.prototype._onWorkerMessage=function(e,t){if(this._destroyed){return}this._dataLookup[e]=t.data;--this._running;if(this._running===0){this._resolveJob()}};l.prototype._resolveJob=function(){var e=this._job;var t=this._workers.length;var o,i;if(t===1){o=new Uint8ClampedArray(this._dataLookup[0]["buffer"]);i=this._dataLookup[0]["meta"]}else{var n=e.inputs[0].data.length;o=new Uint8ClampedArray(n);i=new Array(n);var a=4*Math.ceil(n/4/t);for(var l=0;l<t;++l){var s=this._dataLookup[l]["buffer"];var p=l*a;o.set(new Uint8ClampedArray(s),p);i[l]=this._dataLookup[l]["meta"]}}this._job=null;this._dataLookup={};e.callback(null,r(o,e.inputs[0].width,e.inputs[0].height),i);this._dispatch()};t.exports=l},{"./util":3}],3:[function(e,t,o){var r=true;try{new ImageData(10,10)}catch(i){r=false}var n=document.createElement("canvas").getContext("2d");function a(e,t,o){if(r){return new ImageData(e,t,o)}else{var i=n.createImageData(t,o);i.data.set(e);return i}}o.newImageData=a},{}]},{},[1])(1)});ol.ext.pixelworks=t.exports})();goog.provide("ol.source.RasterOperationType");ol.source.RasterOperationType={PIXEL:"pixel",IMAGE:"image"};goog.provide("ol.source.Raster");goog.require("ol");goog.require("ol.ImageCanvas");goog.require("ol.TileQueue");goog.require("ol.dom");goog.require("ol.events");goog.require("ol.events.Event");goog.require("ol.events.EventType");goog.require("ol.ext.pixelworks");goog.require("ol.extent");goog.require("ol.layer.Image");goog.require("ol.layer.Tile");goog.require("ol.obj");goog.require("ol.renderer.canvas.ImageLayer");goog.require("ol.renderer.canvas.TileLayer");goog.require("ol.source.Image");goog.require("ol.source.RasterOperationType");goog.require("ol.source.State");goog.require("ol.source.Tile");goog.require("ol.transform");ol.source.Raster=function(e){this.worker_=null;this.operationType_=e.operationType!==undefined?e.operationType:ol.source.RasterOperationType.PIXEL;this.threads_=e.threads!==undefined?e.threads:1;this.renderers_=ol.source.Raster.createRenderers_(e.sources);for(var t=0,o=this.renderers_.length;t<o;++t){ol.events.listen(this.renderers_[t],ol.events.EventType.CHANGE,this.changed,this)}this.canvasContext_=ol.dom.createCanvasContext2D();this.tileQueue_=new ol.TileQueue(function(){return 1},this.changed.bind(this));var r=ol.source.Raster.getLayerStatesArray_(this.renderers_);var i={};for(var n=0,a=r.length;n<a;++n){i[ol.getUid(r[n].layer)]=r[n]}this.renderedState_=null;this.renderedImageCanvas_=null;this.frameState_={animate:false,attributions:{},coordinateToPixelTransform:ol.transform.create(),extent:null,focus:null,index:0,layerStates:i,layerStatesArray:r,logos:{},pixelRatio:1,pixelToCoordinateTransform:ol.transform.create(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.tileQueue_,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}};ol.source.Image.call(this,{});if(e.operation!==undefined){this.setOperation(e.operation,e.lib)}};ol.inherits(ol.source.Raster,ol.source.Image);ol.source.Raster.prototype.setOperation=function(e,t){this.worker_=new ol.ext.pixelworks.Processor({operation:e,imageOps:this.operationType_===ol.source.RasterOperationType.IMAGE,queue:1,lib:t,threads:this.threads_});this.changed()};ol.source.Raster.prototype.updateFrameState_=function(e,t,o){var r=ol.obj.assign({},this.frameState_);r.viewState=ol.obj.assign({},r.viewState);var i=ol.extent.getCenter(e);var n=Math.round(ol.extent.getWidth(e)/t);var a=Math.round(ol.extent.getHeight(e)/t);r.extent=e;r.focus=ol.extent.getCenter(e);r.size[0]=n;r.size[1]=a;var l=r.viewState;l.center=i;l.projection=o;l.resolution=t;return r};ol.source.Raster.prototype.isDirty_=function(e,t){var o=this.renderedState_;return!o||this.getRevision()!==o.revision||t!==o.resolution||!ol.extent.equals(e,o.extent)};ol.source.Raster.prototype.getImage=function(e,t,o,r){if(!this.allSourcesReady_()){return null}var i=e.slice();if(!this.isDirty_(i,t)){return this.renderedImageCanvas_}var n=this.canvasContext_;var a=n.canvas;var l=Math.round(ol.extent.getWidth(i)/t);var s=Math.round(ol.extent.getHeight(i)/t);if(l!==a.width||s!==a.height){a.width=l;a.height=s}var p=this.updateFrameState_(i,t,r);var u=new ol.ImageCanvas(i,t,1,this.getAttributions(),a,this.composeFrame_.bind(this,p));this.renderedImageCanvas_=u;this.renderedState_={extent:i,resolution:t,revision:this.getRevision()};return u};ol.source.Raster.prototype.allSourcesReady_=function(){var e=true;var t;for(var o=0,r=this.renderers_.length;o<r;++o){t=this.renderers_[o].getLayer().getSource();if(t.getState()!==ol.source.State.READY){e=false;break}}return e};ol.source.Raster.prototype.composeFrame_=function(e,t){var o=this.renderers_.length;var r=new Array(o);for(var i=0;i<o;++i){var n=ol.source.Raster.getImageData_(this.renderers_[i],e,e.layerStatesArray[i]);if(n){r[i]=n}else{r=null;break}}if(r){var a={};this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.BEFOREOPERATIONS,e,a));this.worker_.process(r,a,this.onWorkerComplete_.bind(this,e,t))}e.tileQueue.loadMoreTiles(16,16)};ol.source.Raster.prototype.onWorkerComplete_=function(e,t,o,r,i){if(o){t(o);return}if(!r){return}this.dispatchEvent(new ol.source.Raster.Event(ol.source.Raster.EventType_.AFTEROPERATIONS,e,i));var n=e.viewState.resolution/e.pixelRatio;if(!this.isDirty_(e.extent,n)){this.canvasContext_.putImageData(r,0,0)}t(null)};ol.source.Raster.getImageData_=function(e,t,o){if(!e.prepareFrame(t,o)){return null}var r=t.size[0];var i=t.size[1];if(!ol.source.Raster.context_){ol.source.Raster.context_=ol.dom.createCanvasContext2D(r,i)}else{var n=ol.source.Raster.context_.canvas;if(n.width!==r||n.height!==i){ol.source.Raster.context_=ol.dom.createCanvasContext2D(r,i)}else{ol.source.Raster.context_.clearRect(0,0,r,i)}}e.composeFrame(t,o,ol.source.Raster.context_);return ol.source.Raster.context_.getImageData(0,0,r,i)};ol.source.Raster.context_=null;ol.source.Raster.getLayerStatesArray_=function(e){return e.map(function(e){return e.getLayer().getLayerState()})};ol.source.Raster.createRenderers_=function(e){var t=e.length;var o=new Array(t);for(var r=0;r<t;++r){o[r]=ol.source.Raster.createRenderer_(e[r])}return o};ol.source.Raster.createRenderer_=function(e){var t=null;if(e instanceof ol.source.Tile){t=ol.source.Raster.createTileRenderer_(e)}else if(e instanceof ol.source.Image){t=ol.source.Raster.createImageRenderer_(e)}return t};ol.source.Raster.createImageRenderer_=function(e){var t=new ol.layer.Image({source:e});return new ol.renderer.canvas.ImageLayer(t)};ol.source.Raster.createTileRenderer_=function(e){var t=new ol.layer.Tile({source:e});return new ol.renderer.canvas.TileLayer(t)};ol.source.Raster.Event=function(e,t,o){ol.events.Event.call(this,e);this.extent=t.extent;this.resolution=t.viewState.resolution/t.pixelRatio;this.data=o};ol.inherits(ol.source.Raster.Event,ol.events.Event);ol.source.Raster.prototype.getImageInternal=function(){return null};ol.source.Raster.EventType_={BEFOREOPERATIONS:"beforeoperations",AFTEROPERATIONS:"afteroperations"};goog.provide("ol.source.Stamen");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.source.OSM");goog.require("ol.source.XYZ");ol.source.Stamen=function(e){var t=e.layer.indexOf("-");var o=t==-1?e.layer:e.layer.slice(0,t);var r=ol.source.Stamen.ProviderConfig[o];var i=ol.source.Stamen.LayerConfig[e.layer];var n=e.url!==undefined?e.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+e.layer+"/{z}/{x}/{y}."+i.extension;ol.source.XYZ.call(this,{attributions:ol.source.Stamen.ATTRIBUTIONS,cacheSize:e.cacheSize,crossOrigin:"anonymous",maxZoom:e.maxZoom!=undefined?e.maxZoom:r.maxZoom,minZoom:e.minZoom!=undefined?e.minZoom:r.minZoom,opaque:i.opaque,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileLoadFunction:e.tileLoadFunction,url:n})};ol.inherits(ol.source.Stamen,ol.source.XYZ);ol.source.Stamen.ATTRIBUTIONS=[new ol.Attribution({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, '+'under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY'+" 3.0</a>."}),ol.source.OSM.ATTRIBUTION];ol.source.Stamen.LayerConfig={terrain:{extension:"jpg",opaque:true},"terrain-background":{extension:"jpg",opaque:true},"terrain-labels":{extension:"png",opaque:false},"terrain-lines":{extension:"png",opaque:false},"toner-background":{extension:"png",opaque:true},toner:{extension:"png",opaque:true},"toner-hybrid":{extension:"png",opaque:false},"toner-labels":{extension:"png",opaque:false},"toner-lines":{extension:"png",opaque:false},"toner-lite":{extension:"png",opaque:true},watercolor:{extension:"jpg",opaque:true}};ol.source.Stamen.ProviderConfig={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};goog.provide("ol.source.TileArcGISRest");goog.require("ol");goog.require("ol.extent");goog.require("ol.math");goog.require("ol.obj");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.tilecoord");goog.require("ol.uri");ol.source.TileArcGISRest=function(e){var t=e||{};ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==undefined?t.wrapX:true});this.params_=t.params||{};this.tmpExtent_=ol.extent.createEmpty();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileArcGISRest,ol.source.TileImage);ol.source.TileArcGISRest.prototype.getKeyForParams_=function(){var e=0;var t=[];for(var o in this.params_){t[e++]=o+"-"+this.params_[o]}return t.join("/")};ol.source.TileArcGISRest.prototype.getParams=function(){return this.params_};ol.source.TileArcGISRest.prototype.getRequestUrl_=function(e,t,o,r,i,n){var a=this.urls;if(!a){return undefined}var l=i.getCode().split(":").pop();n["SIZE"]=t[0]+","+t[1];n["BBOX"]=o.join(",");n["BBOXSR"]=l;n["IMAGESR"]=l;n["DPI"]=Math.round(n["DPI"]?n["DPI"]*r:90*r);var s;if(a.length==1){s=a[0]}else{var p=ol.math.modulo(ol.tilecoord.hash(e),a.length);s=a[p]}var u=s.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage");return ol.uri.appendParams(u,n)};ol.source.TileArcGISRest.prototype.getTilePixelRatio=function(e){return e};ol.source.TileArcGISRest.prototype.fixedTileUrlFunction=function(e,t,o){var r=this.getTileGrid();if(!r){r=this.getTileGridForProjection(o)}if(r.getResolutions().length<=e[0]){return undefined}var i=r.getTileCoordExtent(e,this.tmpExtent_);var n=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize);if(t!=1){n=ol.size.scale(n,t,this.tmpSize)}var a={F:"image",FORMAT:"PNG32",TRANSPARENT:true};ol.obj.assign(a,this.params_);return this.getRequestUrl_(e,n,i,t,o,a)};ol.source.TileArcGISRest.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.setKey(this.getKeyForParams_())};goog.provide("ol.source.TileDebug");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.size");goog.require("ol.source.Tile");ol.source.TileDebug=function(e){ol.source.Tile.call(this,{opaque:false,projection:e.projection,tileGrid:e.tileGrid,wrapX:e.wrapX!==undefined?e.wrapX:true})};ol.inherits(ol.source.TileDebug,ol.source.Tile);ol.source.TileDebug.prototype.getTile=function(e,t,o){var r=this.getKeyZXY(e,t,o);if(this.tileCache.containsKey(r)){return this.tileCache.get(r)}else{var i=ol.size.toSize(this.tileGrid.getTileSize(e));var n=[e,t,o];var a=this.getTileCoordForTileUrlFunction(n);var l=!a?"":this.getTileCoordForTileUrlFunction(a).toString();var s=new ol.source.TileDebug.Tile_(n,i,l);this.tileCache.set(r,s);return s}};ol.source.TileDebug.Tile_=function(e,t,o){ol.Tile.call(this,e,ol.TileState.LOADED);this.tileSize_=t;this.text_=o;this.canvas_=null};ol.inherits(ol.source.TileDebug.Tile_,ol.Tile);ol.source.TileDebug.Tile_.prototype.getImage=function(){if(this.canvas_){return this.canvas_}else{var e=this.tileSize_;var t=ol.dom.createCanvasContext2D(e[0],e[1]);t.strokeStyle="black";t.strokeRect(.5,.5,e[0]+.5,e[1]+.5);t.fillStyle="black";t.textAlign="center";t.textBaseline="middle";t.font="24px sans-serif";t.fillText(this.text_,e[0]/2,e[1]/2);this.canvas_=t.canvas;return t.canvas}};ol.source.TileDebug.Tile_.prototype.load=function(){};goog.provide("ol.source.TileJSON");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.TileUrlFunction");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.TileImage");goog.require("ol.tilegrid");ol.source.TileJSON=function(e){this.tileJSON_=null;ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:ol.proj.get("EPSG:3857"),reprojectionErrorThreshold:e.reprojectionErrorThreshold,state:ol.source.State.LOADING,tileLoadFunction:e.tileLoadFunction,wrapX:e.wrapX!==undefined?e.wrapX:true});if(e.jsonp){ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this));t.addEventListener("error",this.onXHRError_.bind(this));t.open("GET",e.url);t.send()}};ol.inherits(ol.source.TileJSON,ol.source.TileImage);ol.source.TileJSON.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o;try{o=JSON.parse(t.responseText)}catch(r){this.handleTileJSONError();return}this.handleTileJSONResponse(o)}else{this.handleTileJSONError()}};ol.source.TileJSON.prototype.onXHRError_=function(e){this.handleTileJSONError()};ol.source.TileJSON.prototype.getTileJSON=function(){return this.tileJSON_};ol.source.TileJSON.prototype.handleTileJSONResponse=function(e){var t=ol.proj.get("EPSG:4326");var o=this.getProjection();var r;if(e.bounds!==undefined){var i=ol.proj.getTransformFromProjections(t,o);r=ol.extent.applyTransform(e.bounds,i)}var n=e.minzoom||0;var a=e.maxzoom||22;var l=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(o),maxZoom:a,minZoom:n});this.tileGrid=l;this.tileUrlFunction=ol.TileUrlFunction.createFromTemplates(e.tiles,l);if(e.attribution!==undefined&&!this.getAttributions()){var s=r!==undefined?r:t.getExtent();var p={};var u,c;for(u=n;u<=a;++u){c=u.toString();p[c]=[l.getTileRangeForExtentAndZ(s,u)]}this.setAttributions([new ol.Attribution({html:e.attribution,tileRanges:p})])}this.tileJSON_=e;this.setState(ol.source.State.READY)};ol.source.TileJSON.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};goog.provide("ol.source.TileUTFGrid");goog.require("ol");goog.require("ol.Attribution");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.extent");goog.require("ol.net");goog.require("ol.proj");goog.require("ol.source.State");goog.require("ol.source.Tile");goog.require("ol.tilegrid");ol.source.TileUTFGrid=function(e){ol.source.Tile.call(this,{projection:ol.proj.get("EPSG:3857"),state:ol.source.State.LOADING});this.preemptive_=e.preemptive!==undefined?e.preemptive:true;this.tileUrlFunction_=ol.TileUrlFunction.nullTileUrlFunction;this.template_=undefined;this.jsonp_=e.jsonp||false;if(e.url){if(this.jsonp_){ol.net.jsonp(e.url,this.handleTileJSONResponse.bind(this),this.handleTileJSONError.bind(this))}else{var t=new XMLHttpRequest;t.addEventListener("load",this.onXHRLoad_.bind(this));t.addEventListener("error",this.onXHRError_.bind(this));t.open("GET",e.url);t.send()}}else if(e.tileJSON){this.handleTileJSONResponse(e.tileJSON)}else{ol.asserts.assert(false,51)}};ol.inherits(ol.source.TileUTFGrid,ol.source.Tile);ol.source.TileUTFGrid.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o;try{o=JSON.parse(t.responseText)}catch(r){this.handleTileJSONError();return}this.handleTileJSONResponse(o)}else{this.handleTileJSONError()}};ol.source.TileUTFGrid.prototype.onXHRError_=function(e){this.handleTileJSONError()};ol.source.TileUTFGrid.prototype.getTemplate=function(){return this.template_};ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution=function(e,t,o,r,i){if(this.tileGrid){var n=this.tileGrid.getTileCoordForCoordAndResolution(e,t);var a=this.getTile(n[0],n[1],n[2],1,this.getProjection());a.forDataAtCoordinate(e,o,r,i)}else{if(i===true){setTimeout(function(){o.call(r,null)},0)}else{o.call(r,null)}}};ol.source.TileUTFGrid.prototype.handleTileJSONError=function(){this.setState(ol.source.State.ERROR)};ol.source.TileUTFGrid.prototype.handleTileJSONResponse=function(e){var t=ol.proj.get("EPSG:4326");var o=this.getProjection();var r;if(e.bounds!==undefined){var i=ol.proj.getTransformFromProjections(t,o);r=ol.extent.applyTransform(e.bounds,i)}var n=e.minzoom||0;var a=e.maxzoom||22;var l=ol.tilegrid.createXYZ({extent:ol.tilegrid.extentFromProjection(o),maxZoom:a,minZoom:n});this.tileGrid=l;this.template_=e.template;var s=e.grids;if(!s){this.setState(ol.source.State.ERROR);return}this.tileUrlFunction_=ol.TileUrlFunction.createFromTemplates(s,l);if(e.attribution!==undefined){var p=r!==undefined?r:t.getExtent();var u={};var c,g;for(c=n;c<=a;++c){g=c.toString();u[g]=[l.getTileRangeForExtentAndZ(p,c)]}this.setAttributions([new ol.Attribution({html:e.attribution,tileRanges:u})])}this.setState(ol.source.State.READY)};ol.source.TileUTFGrid.prototype.getTile=function(e,t,o,r,i){var n=this.getKeyZXY(e,t,o);if(this.tileCache.containsKey(n)){return this.tileCache.get(n)}else{var a=[e,t,o];var l=this.getTileCoordForTileUrlFunction(a,i);var s=this.tileUrlFunction_(l,r,i);var p=new ol.source.TileUTFGrid.Tile_(a,s!==undefined?ol.TileState.IDLE:ol.TileState.EMPTY,s!==undefined?s:"",this.tileGrid.getTileCoordExtent(a),this.preemptive_,this.jsonp_);this.tileCache.set(n,p);return p}};ol.source.TileUTFGrid.prototype.useTile=function(e,t,o){var r=this.getKeyZXY(e,t,o);if(this.tileCache.containsKey(r)){this.tileCache.get(r)}};ol.source.TileUTFGrid.Tile_=function(e,t,o,r,i,n){ol.Tile.call(this,e,t);this.src_=o;this.extent_=r;this.preemptive_=i;this.grid_=null;this.keys_=null;this.data_=null;this.jsonp_=n};ol.inherits(ol.source.TileUTFGrid.Tile_,ol.Tile);ol.source.TileUTFGrid.Tile_.prototype.getImage=function(){return null};ol.source.TileUTFGrid.Tile_.prototype.getData=function(e){if(!this.grid_||!this.keys_){return null}var t=(e[0]-this.extent_[0])/(this.extent_[2]-this.extent_[0]);var o=(e[1]-this.extent_[1])/(this.extent_[3]-this.extent_[1]);var r=this.grid_[Math.floor((1-o)*this.grid_.length)];if(typeof r!=="string"){return null}var i=r.charCodeAt(Math.floor(t*r.length));if(i>=93){i--}if(i>=35){i--}i-=32;var n=null;if(i in this.keys_){var a=this.keys_[i];if(this.data_&&a in this.data_){n=this.data_[a]}else{n=a}}return n};ol.source.TileUTFGrid.Tile_.prototype.forDataAtCoordinate=function(e,t,o,r){if(this.state==ol.TileState.IDLE&&r===true){ol.events.listenOnce(this,ol.events.EventType.CHANGE,function(r){t.call(o,this.getData(e))},this);this.loadInternal_()}else{if(r===true){setTimeout(function(){t.call(o,this.getData(e))}.bind(this),0)}else{t.call(o,this.getData(e))}}};ol.source.TileUTFGrid.Tile_.prototype.getKey=function(){return this.src_};ol.source.TileUTFGrid.Tile_.prototype.handleError_=function(){this.state=ol.TileState.ERROR;this.changed()};ol.source.TileUTFGrid.Tile_.prototype.handleLoad_=function(e){this.grid_=e.grid;this.keys_=e.keys;this.data_=e.data;this.state=ol.TileState.EMPTY;this.changed()};ol.source.TileUTFGrid.Tile_.prototype.loadInternal_=function(){if(this.state==ol.TileState.IDLE){this.state=ol.TileState.LOADING;if(this.jsonp_){ol.net.jsonp(this.src_,this.handleLoad_.bind(this),this.handleError_.bind(this))}else{var e=new XMLHttpRequest;e.addEventListener("load",this.onXHRLoad_.bind(this));e.addEventListener("error",this.onXHRError_.bind(this));e.open("GET",this.src_);e.send()}}};ol.source.TileUTFGrid.Tile_.prototype.onXHRLoad_=function(e){var t=e.target;if(!t.status||t.status>=200&&t.status<300){var o;try{o=JSON.parse(t.responseText)}catch(r){this.handleError_();return}this.handleLoad_(o)}else{this.handleError_()}};ol.source.TileUTFGrid.Tile_.prototype.onXHRError_=function(e){this.handleError_()};ol.source.TileUTFGrid.Tile_.prototype.load=function(){if(this.preemptive_){this.loadInternal_()}};goog.provide("ol.source.TileWMS");goog.require("ol");goog.require("ol.asserts");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.math");goog.require("ol.proj");goog.require("ol.size");goog.require("ol.source.TileImage");goog.require("ol.source.WMSServerType");goog.require("ol.tilecoord");goog.require("ol.string");goog.require("ol.uri");ol.source.TileWMS=function(e){var t=e||{};var o=t.params||{};var r="TRANSPARENT"in o?o["TRANSPARENT"]:true;ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,
logo:t.logo,opaque:!r,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==undefined?t.wrapX:true});this.gutter_=t.gutter!==undefined?t.gutter:0;this.params_=o;this.v13_=true;this.serverType_=t.serverType;this.hidpi_=t.hidpi!==undefined?t.hidpi:true;this.coordKeyPrefix_="";this.resetCoordKeyPrefix_();this.tmpExtent_=ol.extent.createEmpty();this.updateV13_();this.setKey(this.getKeyForParams_())};ol.inherits(ol.source.TileWMS,ol.source.TileImage);ol.source.TileWMS.prototype.getGetFeatureInfoUrl=function(e,t,o,r){var i=ol.proj.get(o);var n=this.getTileGrid();if(!n){n=this.getTileGridForProjection(i)}var a=n.getTileCoordForCoordAndResolution(e,t);if(n.getResolutions().length<=a[0]){return undefined}var l=n.getResolution(a[0]);var s=n.getTileCoordExtent(a,this.tmpExtent_);var p=ol.size.toSize(n.getTileSize(a[0]),this.tmpSize);var u=this.gutter_;if(u!==0){p=ol.size.buffer(p,u,this.tmpSize);s=ol.extent.buffer(s,l*u,s)}var c={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:true,QUERY_LAYERS:this.params_["LAYERS"]};ol.obj.assign(c,this.params_,r);var g=Math.floor((e[0]-s[0])/l);var h=Math.floor((s[3]-e[1])/l);c[this.v13_?"I":"X"]=g;c[this.v13_?"J":"Y"]=h;return this.getRequestUrl_(a,p,s,1,i,c)};ol.source.TileWMS.prototype.getGutterInternal=function(){return this.gutter_};ol.source.TileWMS.prototype.getKeyZXY=function(e,t,o){return this.coordKeyPrefix_+ol.source.TileImage.prototype.getKeyZXY.call(this,e,t,o)};ol.source.TileWMS.prototype.getParams=function(){return this.params_};ol.source.TileWMS.prototype.getRequestUrl_=function(e,t,o,r,i,n){var a=this.urls;if(!a){return undefined}n["WIDTH"]=t[0];n["HEIGHT"]=t[1];n[this.v13_?"CRS":"SRS"]=i.getCode();if(!("STYLES"in this.params_)){n["STYLES"]=""}if(r!=1){switch(this.serverType_){case ol.source.WMSServerType.GEOSERVER:var l=90*r+.5|0;if("FORMAT_OPTIONS"in n){n["FORMAT_OPTIONS"]+=";dpi:"+l}else{n["FORMAT_OPTIONS"]="dpi:"+l}break;case ol.source.WMSServerType.MAPSERVER:n["MAP_RESOLUTION"]=90*r;break;case ol.source.WMSServerType.CARMENTA_SERVER:case ol.source.WMSServerType.QGIS:n["DPI"]=90*r;break;default:ol.asserts.assert(false,52);break}}var s=i.getAxisOrientation();var p=o;if(this.v13_&&s.substr(0,2)=="ne"){var u;u=o[0];p[0]=o[1];p[1]=u;u=o[2];p[2]=o[3];p[3]=u}n["BBOX"]=p.join(",");var c;if(a.length==1){c=a[0]}else{var g=ol.math.modulo(ol.tilecoord.hash(e),a.length);c=a[g]}return ol.uri.appendParams(c,n)};ol.source.TileWMS.prototype.getTilePixelRatio=function(e){return!this.hidpi_||this.serverType_===undefined?1:e};ol.source.TileWMS.prototype.resetCoordKeyPrefix_=function(){var e=0;var t=[];if(this.urls){var o,r;for(o=0,r=this.urls.length;o<r;++o){t[e++]=this.urls[o]}}this.coordKeyPrefix_=t.join("#")};ol.source.TileWMS.prototype.getKeyForParams_=function(){var e=0;var t=[];for(var o in this.params_){t[e++]=o+"-"+this.params_[o]}return t.join("/")};ol.source.TileWMS.prototype.fixedTileUrlFunction=function(e,t,o){var r=this.getTileGrid();if(!r){r=this.getTileGridForProjection(o)}if(r.getResolutions().length<=e[0]){return undefined}if(t!=1&&(!this.hidpi_||this.serverType_===undefined)){t=1}var i=r.getResolution(e[0]);var n=r.getTileCoordExtent(e,this.tmpExtent_);var a=ol.size.toSize(r.getTileSize(e[0]),this.tmpSize);var l=this.gutter_;if(l!==0){a=ol.size.buffer(a,l,this.tmpSize);n=ol.extent.buffer(n,i*l,n)}if(t!=1){a=ol.size.scale(a,t,this.tmpSize)}var s={SERVICE:"WMS",VERSION:ol.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:true};ol.obj.assign(s,this.params_);return this.getRequestUrl_(e,a,n,t,o,s)};ol.source.TileWMS.prototype.setUrls=function(e){ol.source.TileImage.prototype.setUrls.call(this,e);this.resetCoordKeyPrefix_()};ol.source.TileWMS.prototype.updateParams=function(e){ol.obj.assign(this.params_,e);this.resetCoordKeyPrefix_();this.updateV13_();this.setKey(this.getKeyForParams_())};ol.source.TileWMS.prototype.updateV13_=function(){var e=this.params_["VERSION"]||ol.DEFAULT_WMS_VERSION;this.v13_=ol.string.compareVersions(e,"1.3")>=0};goog.provide("ol.VectorTile");goog.require("ol");goog.require("ol.Tile");goog.require("ol.TileState");goog.require("ol.dom");goog.require("ol.featureloader");ol.VectorTile=function(e,t,o,r,i){ol.Tile.call(this,e,t);this.context_=ol.dom.createCanvasContext2D();this.format_=r;this.features_=null;this.loader_;this.projection_;this.replayState_={dirty:false,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1,replayGroup:null};this.tileLoadFunction_=i;this.url_=o};ol.inherits(ol.VectorTile,ol.Tile);ol.VectorTile.prototype.getContext=function(){return this.context_};ol.VectorTile.prototype.getImage=function(){return this.replayState_.renderedTileRevision==-1?null:this.context_.canvas};ol.VectorTile.prototype.getFormat=function(){return this.format_};ol.VectorTile.prototype.getFeatures=function(){return this.features_};ol.VectorTile.prototype.getReplayState=function(){return this.replayState_};ol.VectorTile.prototype.getKey=function(){return this.url_};ol.VectorTile.prototype.getProjection=function(){return this.projection_};ol.VectorTile.prototype.load=function(){if(this.state==ol.TileState.IDLE){this.setState(ol.TileState.LOADING);this.tileLoadFunction_(this,this.url_);this.loader_(null,NaN,null)}};ol.VectorTile.prototype.onLoad_=function(e,t){this.setProjection(t);this.setFeatures(e)};ol.VectorTile.prototype.onError_=function(){this.setState(ol.TileState.ERROR)};ol.VectorTile.prototype.setFeatures=function(e){this.features_=e;this.setState(ol.TileState.LOADED)};ol.VectorTile.prototype.setProjection=function(e){this.projection_=e};ol.VectorTile.prototype.setState=function(e){this.state=e;this.changed()};ol.VectorTile.prototype.setLoader=function(e){this.loader_=e};ol.VectorTile.defaultLoadFunction=function(e,t){var o=ol.featureloader.loadFeaturesXhr(t,e.getFormat(),e.onLoad_.bind(e),e.onError_.bind(e));e.setLoader(o)};goog.provide("ol.source.VectorTile");goog.require("ol");goog.require("ol.TileState");goog.require("ol.VectorTile");goog.require("ol.events");goog.require("ol.events.EventType");goog.require("ol.size");goog.require("ol.source.UrlTile");ol.source.VectorTile=function(e){ol.source.UrlTile.call(this,{attributions:e.attributions,cacheSize:e.cacheSize!==undefined?e.cacheSize:128,extent:e.extent,logo:e.logo,opaque:false,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:ol.VectorTile.defaultLoadFunction,tileUrlFunction:e.tileUrlFunction,tilePixelRatio:e.tilePixelRatio,url:e.url,urls:e.urls,wrapX:e.wrapX===undefined?true:e.wrapX});this.format_=e.format?e.format:null;this.overlaps_=e.overlaps==undefined?true:e.overlaps;this.tileClass=e.tileClass?e.tileClass:ol.VectorTile};ol.inherits(ol.source.VectorTile,ol.source.UrlTile);ol.source.VectorTile.prototype.getOverlaps=function(){return this.overlaps_};ol.source.VectorTile.prototype.getTile=function(e,t,o,r,i){var n=this.getKeyZXY(e,t,o);if(this.tileCache.containsKey(n)){return this.tileCache.get(n)}else{var a=[e,t,o];var l=this.getTileCoordForTileUrlFunction(a,i);var s=l?this.tileUrlFunction(l,r,i):undefined;var p=new this.tileClass(a,s!==undefined?ol.TileState.IDLE:ol.TileState.EMPTY,s!==undefined?s:"",this.format_,this.tileLoadFunction);ol.events.listen(p,ol.events.EventType.CHANGE,this.handleTileChange,this);this.tileCache.set(n,p);return p}};ol.source.VectorTile.prototype.getTilePixelRatio=function(e){return e==undefined?ol.source.UrlTile.prototype.getTilePixelRatio.call(this,e):e};ol.source.VectorTile.prototype.getTilePixelSize=function(e,t,o){var r=ol.size.toSize(this.tileGrid.getTileSize(e));return[Math.round(r[0]*t),Math.round(r[1]*t)]};goog.provide("ol.source.WMTSRequestEncoding");ol.source.WMTSRequestEncoding={KVP:"KVP",REST:"REST"};goog.provide("ol.tilegrid.WMTS");goog.require("ol");goog.require("ol.array");goog.require("ol.proj");goog.require("ol.tilegrid.TileGrid");ol.tilegrid.WMTS=function(e){this.matrixIds_=e.matrixIds;ol.tilegrid.TileGrid.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes})};ol.inherits(ol.tilegrid.WMTS,ol.tilegrid.TileGrid);ol.tilegrid.WMTS.prototype.getMatrixId=function(e){return this.matrixIds_[e]};ol.tilegrid.WMTS.prototype.getMatrixIds=function(){return this.matrixIds_};ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet=function(e,t,o){var r=[];var i=[];var n=[];var a=[];var l=[];var s=o!==undefined?o:[];var p="SupportedCRS";var u="TileMatrix";var c="Identifier";var g="ScaleDenominator";var h="TopLeftCorner";var f="TileWidth";var d="TileHeight";var y;y=ol.proj.get(e[p].replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var m=y.getMetersPerUnit();var v=y.getAxisOrientation().substr(0,2)=="ne";e[u].sort(function(e,t){return t[g]-e[g]});e[u].forEach(function(e,t,o){var p;if(s.length>0){p=ol.array.find(s,function(t,o,r){return e[c]==t[u]})}else{p=true}if(p){i.push(e[c]);var y=e[g]*28e-5/m;var _=e[f];var x=e[d];if(v){n.push([e[h][1],e[h][0]])}else{n.push(e[h])}r.push(y);a.push(_==x?_:[_,x]);l.push([e["MatrixWidth"],-e["MatrixHeight"]])}});return new ol.tilegrid.WMTS({extent:t,origins:n,resolutions:r,matrixIds:i,tileSizes:a,sizes:l})};goog.provide("ol.source.WMTS");goog.require("ol");goog.require("ol.TileUrlFunction");goog.require("ol.array");goog.require("ol.extent");goog.require("ol.obj");goog.require("ol.proj");goog.require("ol.source.TileImage");goog.require("ol.source.WMTSRequestEncoding");goog.require("ol.tilegrid.WMTS");goog.require("ol.uri");ol.source.WMTS=function(e){this.version_=e.version!==undefined?e.version:"1.0.0";this.format_=e.format!==undefined?e.format:"image/jpeg";this.dimensions_=e.dimensions!==undefined?e.dimensions:{};this.layer_=e.layer;this.matrixSet_=e.matrixSet;this.style_=e.style;var t=e.urls;if(t===undefined&&e.url!==undefined){t=ol.TileUrlFunction.expandUrl(e.url)}this.requestEncoding_=e.requestEncoding!==undefined?e.requestEncoding:ol.source.WMTSRequestEncoding.KVP;var o=this.requestEncoding_;var r=e.tileGrid;var i={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};if(o==ol.source.WMTSRequestEncoding.KVP){ol.obj.assign(i,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_})}var n=this.dimensions_;function a(e){e=o==ol.source.WMTSRequestEncoding.KVP?ol.uri.appendParams(e,i):e.replace(/\{(\w+?)\}/g,function(e,t){return t.toLowerCase()in i?i[t.toLowerCase()]:e});return function(t,i,a){if(!t){return undefined}else{var l={TileMatrix:r.getMatrixId(t[0]),TileCol:t[1],TileRow:-t[2]-1};ol.obj.assign(l,n);var s=e;if(o==ol.source.WMTSRequestEncoding.KVP){s=ol.uri.appendParams(s,l)}else{s=s.replace(/\{(\w+?)\}/g,function(e,t){return l[t]})}return s}}}var l=t&&t.length>0?ol.TileUrlFunction.createFromTileUrlFunctions(t.map(a)):ol.TileUrlFunction.nullTileUrlFunction;ol.source.TileImage.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,logo:e.logo,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:r,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:l,urls:t,wrapX:e.wrapX!==undefined?e.wrapX:false});this.setKey(this.getKeyForDimensions_())};ol.inherits(ol.source.WMTS,ol.source.TileImage);ol.source.WMTS.prototype.getDimensions=function(){return this.dimensions_};ol.source.WMTS.prototype.getFormat=function(){return this.format_};ol.source.WMTS.prototype.getLayer=function(){return this.layer_};ol.source.WMTS.prototype.getMatrixSet=function(){return this.matrixSet_};ol.source.WMTS.prototype.getRequestEncoding=function(){return this.requestEncoding_};ol.source.WMTS.prototype.getStyle=function(){return this.style_};ol.source.WMTS.prototype.getVersion=function(){return this.version_};ol.source.WMTS.prototype.getKeyForDimensions_=function(){var e=0;var t=[];for(var o in this.dimensions_){t[e++]=o+"-"+this.dimensions_[o]}return t.join("/")};ol.source.WMTS.prototype.updateDimensions=function(e){ol.obj.assign(this.dimensions_,e);this.setKey(this.getKeyForDimensions_())};ol.source.WMTS.optionsFromCapabilities=function(e,t){var o=e["Contents"]["Layer"];var r=ol.array.find(o,function(e,o,r){return e["Identifier"]==t["layer"]});var i=e["Contents"]["TileMatrixSet"];var n,a,l;if(r["TileMatrixSetLink"].length>1){if("projection"in t){n=ol.array.findIndex(r["TileMatrixSetLink"],function(e,o,r){var n=ol.array.find(i,function(t){return t["Identifier"]==e["TileMatrixSet"]});var a=n["SupportedCRS"].replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3");var l=ol.proj.get(a);var s=ol.proj.get(t["projection"]);if(l&&s){return ol.proj.equivalent(l,s)}else{return a==t["projection"]}})}else{n=ol.array.findIndex(r["TileMatrixSetLink"],function(e,o,r){return e["TileMatrixSet"]==t["matrixSet"]})}}else{n=0}if(n<0){n=0}a=r["TileMatrixSetLink"][n]["TileMatrixSet"];l=r["TileMatrixSetLink"][n]["TileMatrixSetLimits"];var s=r["Format"][0];if("format"in t){s=t["format"]}n=ol.array.findIndex(r["Style"],function(e,o,r){if("style"in t){return e["Title"]==t["style"]}else{return e["isDefault"]}});if(n<0){n=0}var p=r["Style"][n]["Identifier"];var u={};if("Dimension"in r){r["Dimension"].forEach(function(e,t,o){var r=e["Identifier"];var i=e["Default"];if(i===undefined){i=e["Value"][0]}u[r]=i})}var c=e["Contents"]["TileMatrixSet"];var g=ol.array.find(c,function(e,t,o){return e["Identifier"]==a});var h;if("projection"in t){h=ol.proj.get(t["projection"])}else{h=ol.proj.get(g["SupportedCRS"].replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"))}var f=r["WGS84BoundingBox"];var d,y;if(f!==undefined){var m=ol.proj.get("EPSG:4326").getExtent();y=f[0]==m[0]&&f[2]==m[2];d=ol.proj.transformExtent(f,"EPSG:4326",h);var v=h.getExtent();if(v){if(!ol.extent.containsExtent(v,d)){d=undefined}}}var _=ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet(g,d,l);var x=[];var S=t["requestEncoding"];S=S!==undefined?S:"";if("OperationsMetadata"in e&&"GetTile"in e["OperationsMetadata"]){var P=e["OperationsMetadata"]["GetTile"]["DCP"]["HTTP"]["Get"];for(var E=0,T=P.length;E<T;++E){var b=ol.array.find(P[E]["Constraint"],function(e){return e["name"]=="GetEncoding"});var M=b["AllowedValues"]["Value"];if(S===""){S=M[0]}if(S===ol.source.WMTSRequestEncoding.KVP){if(ol.array.includes(M,ol.source.WMTSRequestEncoding.KVP)){x.push(P[E]["href"])}}else{break}}}if(x.length===0){S=ol.source.WMTSRequestEncoding.REST;r["ResourceURL"].forEach(function(e){if(e["resourceType"]==="tile"){s=e["format"];x.push(e["template"])}})}return{urls:x,layer:t["layer"],matrixSet:a,format:s,projection:h,requestEncoding:S,tileGrid:_,style:p,dimensions:u,wrapX:y}};goog.provide("ol.source.Zoomify");goog.require("ol");goog.require("ol.ImageTile");goog.require("ol.TileState");goog.require("ol.TileUrlFunction");goog.require("ol.asserts");goog.require("ol.dom");goog.require("ol.extent");goog.require("ol.source.TileImage");goog.require("ol.tilegrid.TileGrid");ol.source.Zoomify=function(e){var t=e||{};var o=t.size;var r=t.tierSizeCalculation!==undefined?t.tierSizeCalculation:ol.source.Zoomify.TierSizeCalculation_.DEFAULT;var i=o[0];var n=o[1];var a=[];var l=ol.DEFAULT_TILE_SIZE;switch(r){case ol.source.Zoomify.TierSizeCalculation_.DEFAULT:while(i>l||n>l){a.push([Math.ceil(i/l),Math.ceil(n/l)]);l+=l}break;case ol.source.Zoomify.TierSizeCalculation_.TRUNCATED:var s=i;var p=n;while(s>l||p>l){a.push([Math.ceil(s/l),Math.ceil(p/l)]);s>>=1;p>>=1}break;default:ol.asserts.assert(false,53);break}a.push([1,1]);a.reverse();var u=[1];var c=[0];var g,h;for(g=1,h=a.length;g<h;g++){u.push(1<<g);c.push(a[g-1][0]*a[g-1][1]+c[g-1])}u.reverse();var f=[0,-o[1],o[0],0];var d=new ol.tilegrid.TileGrid({extent:f,origin:ol.extent.getTopLeft(f),resolutions:u});var y=t.url;if(y&&y.indexOf("{TileGroup}")==-1){y+="{TileGroup}/{z}-{x}-{y}.jpg"}var m=ol.TileUrlFunction.expandUrl(y);function v(e){return function(t,o,r){if(!t){return undefined}else{var i=t[0];var n=t[1];var l=-t[2]-1;var s=n+l*a[i][0]+c[i];var p=s/ol.DEFAULT_TILE_SIZE|0;var u={z:i,x:n,y:l,TileGroup:"TileGroup"+p};return e.replace(/\{(\w+?)\}/g,function(e,t){return u[t]})}}}var _=ol.TileUrlFunction.createFromTileUrlFunctions(m.map(v));ol.source.TileImage.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:ol.source.Zoomify.Tile_,tileGrid:d,tileUrlFunction:_})};ol.inherits(ol.source.Zoomify,ol.source.TileImage);ol.source.Zoomify.Tile_=function(e,t,o,r,i){ol.ImageTile.call(this,e,t,o,r,i);this.zoomifyImage_=null};ol.inherits(ol.source.Zoomify.Tile_,ol.ImageTile);ol.source.Zoomify.Tile_.prototype.getImage=function(){if(this.zoomifyImage_){return this.zoomifyImage_}var e=ol.DEFAULT_TILE_SIZE;var t=ol.ImageTile.prototype.getImage.call(this);if(this.state==ol.TileState.LOADED){if(t.width==e&&t.height==e){this.zoomifyImage_=t;return t}else{var o=ol.dom.createCanvasContext2D(e,e);o.drawImage(t,0,0);this.zoomifyImage_=o.canvas;return o.canvas}}else{return t}};ol.source.Zoomify.TierSizeCalculation_={DEFAULT:"default",TRUNCATED:"truncated"};goog.provide("ol.style.Atlas");goog.require("ol.dom");ol.style.Atlas=function(e,t){this.space_=t;this.emptyBlocks_=[{x:0,y:0,width:e,height:e}];this.entries_={};this.context_=ol.dom.createCanvasContext2D(e,e);this.canvas_=this.context_.canvas};ol.style.Atlas.prototype.get=function(e){return this.entries_[e]||null};ol.style.Atlas.prototype.add=function(e,t,o,r,i){var n,a,l;for(a=0,l=this.emptyBlocks_.length;a<l;++a){n=this.emptyBlocks_[a];if(n.width>=t+this.space_&&n.height>=o+this.space_){var s={offsetX:n.x+this.space_,offsetY:n.y+this.space_,image:this.canvas_};this.entries_[e]=s;r.call(i,this.context_,n.x+this.space_,n.y+this.space_);this.split_(a,n,t+this.space_,o+this.space_);return s}}return null};ol.style.Atlas.prototype.split_=function(e,t,o,r){var i=t.width-o;var n=t.height-r;var a;var l;if(i>n){a={x:t.x+o,y:t.y,width:t.width-o,height:t.height};l={x:t.x,y:t.y+r,width:o,height:t.height-r};this.updateBlocks_(e,a,l)}else{a={x:t.x+o,y:t.y,width:t.width-o,height:r};l={x:t.x,y:t.y+r,width:t.width,height:t.height-r};this.updateBlocks_(e,a,l)}};ol.style.Atlas.prototype.updateBlocks_=function(e,t,o){var r=[e,1];if(t.width>0&&t.height>0){r.push(t)}if(o.width>0&&o.height>0){r.push(o)}this.emptyBlocks_.splice.apply(this.emptyBlocks_,r)};goog.provide("ol.style.AtlasManager");goog.require("ol");goog.require("ol.style.Atlas");ol.style.AtlasManager=function(e){var t=e||{};this.currentSize_=t.initialSize!==undefined?t.initialSize:ol.INITIAL_ATLAS_SIZE;this.maxSize_=t.maxSize!==undefined?t.maxSize:ol.MAX_ATLAS_SIZE!=-1?ol.MAX_ATLAS_SIZE:ol.WEBGL_MAX_TEXTURE_SIZE!==undefined?ol.WEBGL_MAX_TEXTURE_SIZE:2048;this.space_=t.space!==undefined?t.space:1;this.atlases_=[new ol.style.Atlas(this.currentSize_,this.space_)];this.currentHitSize_=this.currentSize_;this.hitAtlases_=[new ol.style.Atlas(this.currentHitSize_,this.space_)]};ol.style.AtlasManager.prototype.getInfo=function(e){var t=this.getInfo_(this.atlases_,e);if(!t){return null}var o=this.getInfo_(this.hitAtlases_,e);return this.mergeInfos_(t,o)};ol.style.AtlasManager.prototype.getInfo_=function(e,t){var o,r,i,n;for(i=0,n=e.length;i<n;++i){o=e[i];r=o.get(t);if(r){return r}}return null};ol.style.AtlasManager.prototype.mergeInfos_=function(e,t){return{offsetX:e.offsetX,offsetY:e.offsetY,image:e.image,hitImage:t.image}};ol.style.AtlasManager.prototype.add=function(e,t,o,r,i,n){if(t+this.space_>this.maxSize_||o+this.space_>this.maxSize_){return null}var a=this.add_(false,e,t,o,r,n);if(!a){return null}var l=i!==undefined?i:ol.nullFunction;var s=this.add_(true,e,t,o,l,n);return this.mergeInfos_(a,s)};ol.style.AtlasManager.prototype.add_=function(e,t,o,r,i,n){var a=e?this.hitAtlases_:this.atlases_;var l,s,p,u;for(p=0,u=a.length;p<u;++p){l=a[p];s=l.add(t,o,r,i,n);if(s){return s}else if(!s&&p===u-1){var c;if(e){c=Math.min(this.currentHitSize_*2,this.maxSize_);this.currentHitSize_=c}else{c=Math.min(this.currentSize_*2,this.maxSize_);this.currentSize_=c}l=new ol.style.Atlas(c,this.space_);a.push(l);++u}}return null};goog.addDependency("demos/editor/equationeditor.js",["goog.demos.editor.EquationEditor"],["goog.ui.equation.EquationEditorDialog"]);goog.addDependency("demos/editor/helloworld.js",["goog.demos.editor.HelloWorld"],["goog.dom","goog.dom.TagName","goog.editor.Plugin"]);goog.addDependency("demos/editor/helloworlddialog.js",["goog.demos.editor.HelloWorldDialog","goog.demos.editor.HelloWorldDialog.OkEvent"],["goog.dom.TagName","goog.events.Event","goog.string","goog.ui.editor.AbstractDialog","goog.ui.editor.AbstractDialog.Builder","goog.ui.editor.AbstractDialog.EventType"]);goog.addDependency("demos/editor/helloworlddialogplugin.js",["goog.demos.editor.HelloWorldDialogPlugin","goog.demos.editor.HelloWorldDialogPlugin.Command"],["goog.demos.editor.HelloWorldDialog","goog.dom.TagName","goog.editor.plugins.AbstractDialogPlugin","goog.editor.range","goog.functions","goog.ui.editor.AbstractDialog.EventType"]);goog.require("ol");goog.require("ol.AssertionError");goog.require("ol.Attribution");goog.require("ol.Collection");goog.require("ol.DeviceOrientation");goog.require("ol.Feature");goog.require("ol.Geolocation");goog.require("ol.Graticule");goog.require("ol.Image");goog.require("ol.ImageTile");goog.require("ol.Kinetic");goog.require("ol.Map");goog.require("ol.MapBrowserEvent");goog.require("ol.MapEvent");goog.require("ol.Object");goog.require("ol.Observable");goog.require("ol.Overlay");goog.require("ol.Sphere");goog.require("ol.Tile");goog.require("ol.VectorTile");goog.require("ol.View");goog.require("ol.color");goog.require("ol.colorlike");goog.require("ol.control");goog.require("ol.control.Attribution");goog.require("ol.control.Control");goog.require("ol.control.FullScreen");goog.require("ol.control.MousePosition");goog.require("ol.control.OverviewMap");goog.require("ol.control.Rotate");goog.require("ol.control.ScaleLine");goog.require("ol.control.Zoom");goog.require("ol.control.ZoomSlider");goog.require("ol.control.ZoomToExtent");goog.require("ol.coordinate");goog.require("ol.easing");goog.require("ol.events.Event");goog.require("ol.events.condition");goog.require("ol.extent");goog.require("ol.featureloader");goog.require("ol.format.EsriJSON");goog.require("ol.format.Feature");goog.require("ol.format.GML");goog.require("ol.format.GML2");goog.require("ol.format.GML3");goog.require("ol.format.GMLBase");goog.require("ol.format.GPX");goog.require("ol.format.GeoJSON");goog.require("ol.format.IGC");goog.require("ol.format.KML");goog.require("ol.format.MVT");goog.require("ol.format.OSMXML");goog.require("ol.format.Polyline");goog.require("ol.format.TopoJSON");goog.require("ol.format.WFS");goog.require("ol.format.WKT");goog.require("ol.format.WMSCapabilities");goog.require("ol.format.WMSGetFeatureInfo");goog.require("ol.format.WMTSCapabilities");goog.require("ol.format.filter");goog.require("ol.format.filter.And");goog.require("ol.format.filter.Bbox");goog.require("ol.format.filter.Comparison");goog.require("ol.format.filter.ComparisonBinary");goog.require("ol.format.filter.EqualTo");goog.require("ol.format.filter.Filter");goog.require("ol.format.filter.GreaterThan");goog.require("ol.format.filter.GreaterThanOrEqualTo");goog.require("ol.format.filter.Intersects");goog.require("ol.format.filter.IsBetween");goog.require("ol.format.filter.IsLike");goog.require("ol.format.filter.IsNull");goog.require("ol.format.filter.LessThan");goog.require("ol.format.filter.LessThanOrEqualTo");goog.require("ol.format.filter.Not");goog.require("ol.format.filter.NotEqualTo");goog.require("ol.format.filter.Or");goog.require("ol.format.filter.Spatial");goog.require("ol.format.filter.Within");goog.require("ol.geom.Circle");goog.require("ol.geom.Geometry");goog.require("ol.geom.GeometryCollection");goog.require("ol.geom.LineString");goog.require("ol.geom.LinearRing");goog.require("ol.geom.MultiLineString");goog.require("ol.geom.MultiPoint");goog.require("ol.geom.MultiPolygon");goog.require("ol.geom.Point");goog.require("ol.geom.Polygon");goog.require("ol.geom.SimpleGeometry");goog.require("ol.has");goog.require("ol.interaction");goog.require("ol.interaction.DoubleClickZoom");goog.require("ol.interaction.DragAndDrop");goog.require("ol.interaction.DragBox");goog.require("ol.interaction.DragPan");goog.require("ol.interaction.DragRotate");goog.require("ol.interaction.DragRotateAndZoom");goog.require("ol.interaction.DragZoom");goog.require("ol.interaction.Draw");goog.require("ol.interaction.Extent");goog.require("ol.interaction.Interaction");goog.require("ol.interaction.KeyboardPan");goog.require("ol.interaction.KeyboardZoom");goog.require("ol.interaction.Modify");goog.require("ol.interaction.MouseWheelZoom");goog.require("ol.interaction.PinchRotate");goog.require("ol.interaction.PinchZoom");goog.require("ol.interaction.Pointer");goog.require("ol.interaction.Select");goog.require("ol.interaction.Snap");goog.require("ol.interaction.Translate");goog.require("ol.layer.Base");goog.require("ol.layer.Group");goog.require("ol.layer.Heatmap");goog.require("ol.layer.Image");goog.require("ol.layer.Layer");goog.require("ol.layer.Tile");goog.require("ol.layer.Vector");goog.require("ol.layer.VectorTile");goog.require("ol.loadingstrategy");goog.require("ol.proj");goog.require("ol.proj.Projection");goog.require("ol.proj.Units");goog.require("ol.proj.common");goog.require("ol.render");goog.require("ol.render.Event");goog.require("ol.render.Feature");goog.require("ol.render.VectorContext");goog.require("ol.render.canvas.Immediate");goog.require("ol.render.webgl.Immediate");goog.require("ol.size");goog.require("ol.source.BingMaps");goog.require("ol.source.CartoDB");goog.require("ol.source.Cluster");goog.require("ol.source.Image");goog.require("ol.source.ImageArcGISRest");goog.require("ol.source.ImageCanvas");goog.require("ol.source.ImageMapGuide");goog.require("ol.source.ImageStatic");goog.require("ol.source.ImageVector");goog.require("ol.source.ImageWMS");goog.require("ol.source.OSM");goog.require("ol.source.Raster");goog.require("ol.source.Source");goog.require("ol.source.Stamen");goog.require("ol.source.Tile");goog.require("ol.source.TileArcGISRest");goog.require("ol.source.TileDebug");goog.require("ol.source.TileImage");goog.require("ol.source.TileJSON");goog.require("ol.source.TileUTFGrid");goog.require("ol.source.TileWMS");goog.require("ol.source.UrlTile");goog.require("ol.source.Vector");goog.require("ol.source.VectorTile");goog.require("ol.source.WMTS");goog.require("ol.source.XYZ");goog.require("ol.source.Zoomify");goog.require("ol.style.AtlasManager");goog.require("ol.style.Circle");goog.require("ol.style.Fill");goog.require("ol.style.Icon");goog.require("ol.style.Image");goog.require("ol.style.RegularShape");goog.require("ol.style.Stroke");goog.require("ol.style.Style");goog.require("ol.style.Text");goog.require("ol.tilegrid");goog.require("ol.tilegrid.TileGrid");goog.require("ol.tilegrid.WMTS");goog.require("ol.webgl.Context");goog.require("ol.xml");goog.exportProperty(ol.AssertionError.prototype,"code",ol.AssertionError.prototype.code);goog.exportSymbol("ol.Attribution",ol.Attribution,OPENLAYERS);goog.exportProperty(ol.Attribution.prototype,"getHTML",ol.Attribution.prototype.getHTML);goog.exportSymbol("ol.Collection",ol.Collection,OPENLAYERS);goog.exportProperty(ol.Collection.prototype,"clear",ol.Collection.prototype.clear);goog.exportProperty(ol.Collection.prototype,"extend",ol.Collection.prototype.extend);goog.exportProperty(ol.Collection.prototype,"forEach",ol.Collection.prototype.forEach);goog.exportProperty(ol.Collection.prototype,"getArray",ol.Collection.prototype.getArray);goog.exportProperty(ol.Collection.prototype,"item",ol.Collection.prototype.item);goog.exportProperty(ol.Collection.prototype,"getLength",ol.Collection.prototype.getLength);goog.exportProperty(ol.Collection.prototype,"insertAt",ol.Collection.prototype.insertAt);goog.exportProperty(ol.Collection.prototype,"pop",ol.Collection.prototype.pop);goog.exportProperty(ol.Collection.prototype,"push",ol.Collection.prototype.push);goog.exportProperty(ol.Collection.prototype,"remove",ol.Collection.prototype.remove);goog.exportProperty(ol.Collection.prototype,"removeAt",ol.Collection.prototype.removeAt);goog.exportProperty(ol.Collection.prototype,"setAt",ol.Collection.prototype.setAt);goog.exportProperty(ol.Collection.Event.prototype,"element",ol.Collection.Event.prototype.element);goog.exportSymbol("ol.color.asArray",ol.color.asArray,OPENLAYERS);goog.exportSymbol("ol.color.asString",ol.color.asString,OPENLAYERS);goog.exportSymbol("ol.colorlike.asColorLike",ol.colorlike.asColorLike,OPENLAYERS);goog.exportSymbol("ol.control.defaults",ol.control.defaults,OPENLAYERS);goog.exportSymbol("ol.coordinate.add",ol.coordinate.add,OPENLAYERS);goog.exportSymbol("ol.coordinate.createStringXY",ol.coordinate.createStringXY,OPENLAYERS);goog.exportSymbol("ol.coordinate.format",ol.coordinate.format,OPENLAYERS);goog.exportSymbol("ol.coordinate.rotate",ol.coordinate.rotate,OPENLAYERS);goog.exportSymbol("ol.coordinate.toStringHDMS",ol.coordinate.toStringHDMS,OPENLAYERS);goog.exportSymbol("ol.coordinate.toStringXY",ol.coordinate.toStringXY,OPENLAYERS);goog.exportSymbol("ol.DeviceOrientation",ol.DeviceOrientation,OPENLAYERS);goog.exportProperty(ol.DeviceOrientation.prototype,"getAlpha",ol.DeviceOrientation.prototype.getAlpha);goog.exportProperty(ol.DeviceOrientation.prototype,"getBeta",ol.DeviceOrientation.prototype.getBeta);goog.exportProperty(ol.DeviceOrientation.prototype,"getGamma",ol.DeviceOrientation.prototype.getGamma);goog.exportProperty(ol.DeviceOrientation.prototype,"getHeading",ol.DeviceOrientation.prototype.getHeading);goog.exportProperty(ol.DeviceOrientation.prototype,"getTracking",ol.DeviceOrientation.prototype.getTracking);goog.exportProperty(ol.DeviceOrientation.prototype,"setTracking",ol.DeviceOrientation.prototype.setTracking);goog.exportSymbol("ol.easing.easeIn",ol.easing.easeIn,OPENLAYERS);goog.exportSymbol("ol.easing.easeOut",ol.easing.easeOut,OPENLAYERS);goog.exportSymbol("ol.easing.inAndOut",ol.easing.inAndOut,OPENLAYERS);goog.exportSymbol("ol.easing.linear",ol.easing.linear,OPENLAYERS);goog.exportSymbol("ol.easing.upAndDown",ol.easing.upAndDown,OPENLAYERS);goog.exportSymbol("ol.extent.boundingExtent",ol.extent.boundingExtent,OPENLAYERS);goog.exportSymbol("ol.extent.buffer",ol.extent.buffer,OPENLAYERS);goog.exportSymbol("ol.extent.containsCoordinate",ol.extent.containsCoordinate,OPENLAYERS);goog.exportSymbol("ol.extent.containsExtent",ol.extent.containsExtent,OPENLAYERS);goog.exportSymbol("ol.extent.containsXY",ol.extent.containsXY,OPENLAYERS);goog.exportSymbol("ol.extent.createEmpty",ol.extent.createEmpty,OPENLAYERS);goog.exportSymbol("ol.extent.equals",ol.extent.equals,OPENLAYERS);goog.exportSymbol("ol.extent.extend",ol.extent.extend,OPENLAYERS);goog.exportSymbol("ol.extent.getBottomLeft",ol.extent.getBottomLeft,OPENLAYERS);goog.exportSymbol("ol.extent.getBottomRight",ol.extent.getBottomRight,OPENLAYERS);goog.exportSymbol("ol.extent.getCenter",ol.extent.getCenter,OPENLAYERS);goog.exportSymbol("ol.extent.getHeight",ol.extent.getHeight,OPENLAYERS);goog.exportSymbol("ol.extent.getIntersection",ol.extent.getIntersection,OPENLAYERS);goog.exportSymbol("ol.extent.getSize",ol.extent.getSize,OPENLAYERS);goog.exportSymbol("ol.extent.getTopLeft",ol.extent.getTopLeft,OPENLAYERS);goog.exportSymbol("ol.extent.getTopRight",ol.extent.getTopRight,OPENLAYERS);goog.exportSymbol("ol.extent.getWidth",ol.extent.getWidth,OPENLAYERS);goog.exportSymbol("ol.extent.intersects",ol.extent.intersects,OPENLAYERS);goog.exportSymbol("ol.extent.isEmpty",ol.extent.isEmpty,OPENLAYERS);goog.exportSymbol("ol.extent.applyTransform",ol.extent.applyTransform,OPENLAYERS);goog.exportSymbol("ol.Feature",ol.Feature,OPENLAYERS);goog.exportProperty(ol.Feature.prototype,"clone",ol.Feature.prototype.clone);goog.exportProperty(ol.Feature.prototype,"getGeometry",ol.Feature.prototype.getGeometry);
goog.exportProperty(ol.Feature.prototype,"getId",ol.Feature.prototype.getId);goog.exportProperty(ol.Feature.prototype,"getGeometryName",ol.Feature.prototype.getGeometryName);goog.exportProperty(ol.Feature.prototype,"getStyle",ol.Feature.prototype.getStyle);goog.exportProperty(ol.Feature.prototype,"getStyleFunction",ol.Feature.prototype.getStyleFunction);goog.exportProperty(ol.Feature.prototype,"setGeometry",ol.Feature.prototype.setGeometry);goog.exportProperty(ol.Feature.prototype,"setStyle",ol.Feature.prototype.setStyle);goog.exportProperty(ol.Feature.prototype,"setId",ol.Feature.prototype.setId);goog.exportProperty(ol.Feature.prototype,"setGeometryName",ol.Feature.prototype.setGeometryName);goog.exportSymbol("ol.featureloader.xhr",ol.featureloader.xhr,OPENLAYERS);goog.exportSymbol("ol.Geolocation",ol.Geolocation,OPENLAYERS);goog.exportProperty(ol.Geolocation.prototype,"getAccuracy",ol.Geolocation.prototype.getAccuracy);goog.exportProperty(ol.Geolocation.prototype,"getAccuracyGeometry",ol.Geolocation.prototype.getAccuracyGeometry);goog.exportProperty(ol.Geolocation.prototype,"getAltitude",ol.Geolocation.prototype.getAltitude);goog.exportProperty(ol.Geolocation.prototype,"getAltitudeAccuracy",ol.Geolocation.prototype.getAltitudeAccuracy);goog.exportProperty(ol.Geolocation.prototype,"getHeading",ol.Geolocation.prototype.getHeading);goog.exportProperty(ol.Geolocation.prototype,"getPosition",ol.Geolocation.prototype.getPosition);goog.exportProperty(ol.Geolocation.prototype,"getProjection",ol.Geolocation.prototype.getProjection);goog.exportProperty(ol.Geolocation.prototype,"getSpeed",ol.Geolocation.prototype.getSpeed);goog.exportProperty(ol.Geolocation.prototype,"getTracking",ol.Geolocation.prototype.getTracking);goog.exportProperty(ol.Geolocation.prototype,"getTrackingOptions",ol.Geolocation.prototype.getTrackingOptions);goog.exportProperty(ol.Geolocation.prototype,"setProjection",ol.Geolocation.prototype.setProjection);goog.exportProperty(ol.Geolocation.prototype,"setTracking",ol.Geolocation.prototype.setTracking);goog.exportProperty(ol.Geolocation.prototype,"setTrackingOptions",ol.Geolocation.prototype.setTrackingOptions);goog.exportSymbol("ol.Graticule",ol.Graticule,OPENLAYERS);goog.exportProperty(ol.Graticule.prototype,"getMap",ol.Graticule.prototype.getMap);goog.exportProperty(ol.Graticule.prototype,"getMeridians",ol.Graticule.prototype.getMeridians);goog.exportProperty(ol.Graticule.prototype,"getParallels",ol.Graticule.prototype.getParallels);goog.exportProperty(ol.Graticule.prototype,"setMap",ol.Graticule.prototype.setMap);goog.exportSymbol("ol.has.DEVICE_PIXEL_RATIO",ol.has.DEVICE_PIXEL_RATIO,OPENLAYERS);goog.exportSymbol("ol.has.CANVAS",ol.has.CANVAS,OPENLAYERS);goog.exportSymbol("ol.has.DEVICE_ORIENTATION",ol.has.DEVICE_ORIENTATION,OPENLAYERS);goog.exportSymbol("ol.has.GEOLOCATION",ol.has.GEOLOCATION,OPENLAYERS);goog.exportSymbol("ol.has.TOUCH",ol.has.TOUCH,OPENLAYERS);goog.exportSymbol("ol.has.WEBGL",ol.has.WEBGL,OPENLAYERS);goog.exportProperty(ol.Image.prototype,"getImage",ol.Image.prototype.getImage);goog.exportProperty(ol.Image.prototype,"load",ol.Image.prototype.load);goog.exportProperty(ol.ImageTile.prototype,"getImage",ol.ImageTile.prototype.getImage);goog.exportSymbol("ol.inherits",ol.inherits,OPENLAYERS);goog.exportSymbol("ol.interaction.defaults",ol.interaction.defaults,OPENLAYERS);goog.exportSymbol("ol.Kinetic",ol.Kinetic,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.all",ol.loadingstrategy.all,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.bbox",ol.loadingstrategy.bbox,OPENLAYERS);goog.exportSymbol("ol.loadingstrategy.tile",ol.loadingstrategy.tile,OPENLAYERS);goog.exportSymbol("ol.Map",ol.Map,OPENLAYERS);goog.exportProperty(ol.Map.prototype,"addControl",ol.Map.prototype.addControl);goog.exportProperty(ol.Map.prototype,"addInteraction",ol.Map.prototype.addInteraction);goog.exportProperty(ol.Map.prototype,"addLayer",ol.Map.prototype.addLayer);goog.exportProperty(ol.Map.prototype,"addOverlay",ol.Map.prototype.addOverlay);goog.exportProperty(ol.Map.prototype,"forEachFeatureAtPixel",ol.Map.prototype.forEachFeatureAtPixel);goog.exportProperty(ol.Map.prototype,"forEachLayerAtPixel",ol.Map.prototype.forEachLayerAtPixel);goog.exportProperty(ol.Map.prototype,"hasFeatureAtPixel",ol.Map.prototype.hasFeatureAtPixel);goog.exportProperty(ol.Map.prototype,"getEventCoordinate",ol.Map.prototype.getEventCoordinate);goog.exportProperty(ol.Map.prototype,"getEventPixel",ol.Map.prototype.getEventPixel);goog.exportProperty(ol.Map.prototype,"getTarget",ol.Map.prototype.getTarget);goog.exportProperty(ol.Map.prototype,"getTargetElement",ol.Map.prototype.getTargetElement);goog.exportProperty(ol.Map.prototype,"getCoordinateFromPixel",ol.Map.prototype.getCoordinateFromPixel);goog.exportProperty(ol.Map.prototype,"getControls",ol.Map.prototype.getControls);goog.exportProperty(ol.Map.prototype,"getOverlays",ol.Map.prototype.getOverlays);goog.exportProperty(ol.Map.prototype,"getOverlayById",ol.Map.prototype.getOverlayById);goog.exportProperty(ol.Map.prototype,"getInteractions",ol.Map.prototype.getInteractions);goog.exportProperty(ol.Map.prototype,"getLayerGroup",ol.Map.prototype.getLayerGroup);goog.exportProperty(ol.Map.prototype,"getLayers",ol.Map.prototype.getLayers);goog.exportProperty(ol.Map.prototype,"getPixelFromCoordinate",ol.Map.prototype.getPixelFromCoordinate);goog.exportProperty(ol.Map.prototype,"getSize",ol.Map.prototype.getSize);goog.exportProperty(ol.Map.prototype,"getView",ol.Map.prototype.getView);goog.exportProperty(ol.Map.prototype,"getViewport",ol.Map.prototype.getViewport);goog.exportProperty(ol.Map.prototype,"renderSync",ol.Map.prototype.renderSync);goog.exportProperty(ol.Map.prototype,"render",ol.Map.prototype.render);goog.exportProperty(ol.Map.prototype,"removeControl",ol.Map.prototype.removeControl);goog.exportProperty(ol.Map.prototype,"removeInteraction",ol.Map.prototype.removeInteraction);goog.exportProperty(ol.Map.prototype,"removeLayer",ol.Map.prototype.removeLayer);goog.exportProperty(ol.Map.prototype,"removeOverlay",ol.Map.prototype.removeOverlay);goog.exportProperty(ol.Map.prototype,"setLayerGroup",ol.Map.prototype.setLayerGroup);goog.exportProperty(ol.Map.prototype,"setSize",ol.Map.prototype.setSize);goog.exportProperty(ol.Map.prototype,"setTarget",ol.Map.prototype.setTarget);goog.exportProperty(ol.Map.prototype,"setView",ol.Map.prototype.setView);goog.exportProperty(ol.Map.prototype,"updateSize",ol.Map.prototype.updateSize);goog.exportProperty(ol.MapBrowserEvent.prototype,"originalEvent",ol.MapBrowserEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserEvent.prototype,"pixel",ol.MapBrowserEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserEvent.prototype,"coordinate",ol.MapBrowserEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserEvent.prototype,"dragging",ol.MapBrowserEvent.prototype.dragging);goog.exportProperty(ol.MapEvent.prototype,"map",ol.MapEvent.prototype.map);goog.exportProperty(ol.MapEvent.prototype,"frameState",ol.MapEvent.prototype.frameState);goog.exportSymbol("ol.Object",ol.Object,OPENLAYERS);goog.exportProperty(ol.Object.prototype,"get",ol.Object.prototype.get);goog.exportProperty(ol.Object.prototype,"getKeys",ol.Object.prototype.getKeys);goog.exportProperty(ol.Object.prototype,"getProperties",ol.Object.prototype.getProperties);goog.exportProperty(ol.Object.prototype,"set",ol.Object.prototype.set);goog.exportProperty(ol.Object.prototype,"setProperties",ol.Object.prototype.setProperties);goog.exportProperty(ol.Object.prototype,"unset",ol.Object.prototype.unset);goog.exportProperty(ol.Object.Event.prototype,"key",ol.Object.Event.prototype.key);goog.exportProperty(ol.Object.Event.prototype,"oldValue",ol.Object.Event.prototype.oldValue);goog.exportSymbol("ol.Observable",ol.Observable,OPENLAYERS);goog.exportSymbol("ol.Observable.unByKey",ol.Observable.unByKey,OPENLAYERS);goog.exportProperty(ol.Observable.prototype,"changed",ol.Observable.prototype.changed);goog.exportProperty(ol.Observable.prototype,"dispatchEvent",ol.Observable.prototype.dispatchEvent);goog.exportProperty(ol.Observable.prototype,"getRevision",ol.Observable.prototype.getRevision);goog.exportProperty(ol.Observable.prototype,"on",ol.Observable.prototype.on);goog.exportProperty(ol.Observable.prototype,"once",ol.Observable.prototype.once);goog.exportProperty(ol.Observable.prototype,"un",ol.Observable.prototype.un);goog.exportSymbol("ol.Overlay",ol.Overlay,OPENLAYERS);goog.exportProperty(ol.Overlay.prototype,"getElement",ol.Overlay.prototype.getElement);goog.exportProperty(ol.Overlay.prototype,"getId",ol.Overlay.prototype.getId);goog.exportProperty(ol.Overlay.prototype,"getMap",ol.Overlay.prototype.getMap);goog.exportProperty(ol.Overlay.prototype,"getOffset",ol.Overlay.prototype.getOffset);goog.exportProperty(ol.Overlay.prototype,"getPosition",ol.Overlay.prototype.getPosition);goog.exportProperty(ol.Overlay.prototype,"getPositioning",ol.Overlay.prototype.getPositioning);goog.exportProperty(ol.Overlay.prototype,"setElement",ol.Overlay.prototype.setElement);goog.exportProperty(ol.Overlay.prototype,"setMap",ol.Overlay.prototype.setMap);goog.exportProperty(ol.Overlay.prototype,"setOffset",ol.Overlay.prototype.setOffset);goog.exportProperty(ol.Overlay.prototype,"setPosition",ol.Overlay.prototype.setPosition);goog.exportProperty(ol.Overlay.prototype,"setPositioning",ol.Overlay.prototype.setPositioning);goog.exportSymbol("ol.proj.METERS_PER_UNIT",ol.proj.METERS_PER_UNIT,OPENLAYERS);goog.exportSymbol("ol.proj.setProj4",ol.proj.setProj4,OPENLAYERS);goog.exportSymbol("ol.proj.getPointResolution",ol.proj.getPointResolution,OPENLAYERS);goog.exportSymbol("ol.proj.addEquivalentProjections",ol.proj.addEquivalentProjections,OPENLAYERS);goog.exportSymbol("ol.proj.addProjection",ol.proj.addProjection,OPENLAYERS);goog.exportSymbol("ol.proj.addCoordinateTransforms",ol.proj.addCoordinateTransforms,OPENLAYERS);goog.exportSymbol("ol.proj.fromLonLat",ol.proj.fromLonLat,OPENLAYERS);goog.exportSymbol("ol.proj.toLonLat",ol.proj.toLonLat,OPENLAYERS);goog.exportSymbol("ol.proj.get",ol.proj.get,OPENLAYERS);goog.exportSymbol("ol.proj.equivalent",ol.proj.equivalent,OPENLAYERS);goog.exportSymbol("ol.proj.getTransform",ol.proj.getTransform,OPENLAYERS);goog.exportSymbol("ol.proj.transform",ol.proj.transform,OPENLAYERS);goog.exportSymbol("ol.proj.transformExtent",ol.proj.transformExtent,OPENLAYERS);goog.exportSymbol("ol.render.toContext",ol.render.toContext,OPENLAYERS);goog.exportSymbol("ol.size.toSize",ol.size.toSize,OPENLAYERS);goog.exportSymbol("ol.Sphere",ol.Sphere,OPENLAYERS);goog.exportProperty(ol.Sphere.prototype,"geodesicArea",ol.Sphere.prototype.geodesicArea);goog.exportProperty(ol.Sphere.prototype,"haversineDistance",ol.Sphere.prototype.haversineDistance);goog.exportProperty(ol.Tile.prototype,"getTileCoord",ol.Tile.prototype.getTileCoord);goog.exportProperty(ol.Tile.prototype,"load",ol.Tile.prototype.load);goog.exportSymbol("ol.tilegrid.createXYZ",ol.tilegrid.createXYZ,OPENLAYERS);goog.exportProperty(ol.VectorTile.prototype,"getFormat",ol.VectorTile.prototype.getFormat);goog.exportProperty(ol.VectorTile.prototype,"setFeatures",ol.VectorTile.prototype.setFeatures);goog.exportProperty(ol.VectorTile.prototype,"setProjection",ol.VectorTile.prototype.setProjection);goog.exportProperty(ol.VectorTile.prototype,"setLoader",ol.VectorTile.prototype.setLoader);goog.exportSymbol("ol.View",ol.View,OPENLAYERS);goog.exportProperty(ol.View.prototype,"animate",ol.View.prototype.animate);goog.exportProperty(ol.View.prototype,"constrainCenter",ol.View.prototype.constrainCenter);goog.exportProperty(ol.View.prototype,"constrainResolution",ol.View.prototype.constrainResolution);goog.exportProperty(ol.View.prototype,"constrainRotation",ol.View.prototype.constrainRotation);goog.exportProperty(ol.View.prototype,"getCenter",ol.View.prototype.getCenter);goog.exportProperty(ol.View.prototype,"calculateExtent",ol.View.prototype.calculateExtent);goog.exportProperty(ol.View.prototype,"getMaxResolution",ol.View.prototype.getMaxResolution);goog.exportProperty(ol.View.prototype,"getMinResolution",ol.View.prototype.getMinResolution);goog.exportProperty(ol.View.prototype,"getProjection",ol.View.prototype.getProjection);goog.exportProperty(ol.View.prototype,"getResolution",ol.View.prototype.getResolution);goog.exportProperty(ol.View.prototype,"getResolutions",ol.View.prototype.getResolutions);goog.exportProperty(ol.View.prototype,"getRotation",ol.View.prototype.getRotation);goog.exportProperty(ol.View.prototype,"getZoom",ol.View.prototype.getZoom);goog.exportProperty(ol.View.prototype,"fit",ol.View.prototype.fit);goog.exportProperty(ol.View.prototype,"centerOn",ol.View.prototype.centerOn);goog.exportProperty(ol.View.prototype,"rotate",ol.View.prototype.rotate);goog.exportProperty(ol.View.prototype,"setCenter",ol.View.prototype.setCenter);goog.exportProperty(ol.View.prototype,"setResolution",ol.View.prototype.setResolution);goog.exportProperty(ol.View.prototype,"setRotation",ol.View.prototype.setRotation);goog.exportProperty(ol.View.prototype,"setZoom",ol.View.prototype.setZoom);goog.exportSymbol("ol.xml.getAllTextContent",ol.xml.getAllTextContent,OPENLAYERS);goog.exportSymbol("ol.xml.parse",ol.xml.parse,OPENLAYERS);goog.exportProperty(ol.webgl.Context.prototype,"getGL",ol.webgl.Context.prototype.getGL);goog.exportProperty(ol.webgl.Context.prototype,"useProgram",ol.webgl.Context.prototype.useProgram);goog.exportSymbol("ol.tilegrid.TileGrid",ol.tilegrid.TileGrid,OPENLAYERS);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"forEachTileCoord",ol.tilegrid.TileGrid.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMaxZoom",ol.tilegrid.TileGrid.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getMinZoom",ol.tilegrid.TileGrid.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getOrigin",ol.tilegrid.TileGrid.prototype.getOrigin);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolution",ol.tilegrid.TileGrid.prototype.getResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getResolutions",ol.tilegrid.TileGrid.prototype.getResolutions);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordExtent",ol.tilegrid.TileGrid.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.TileGrid.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getTileSize",ol.tilegrid.TileGrid.prototype.getTileSize);goog.exportProperty(ol.tilegrid.TileGrid.prototype,"getZForResolution",ol.tilegrid.TileGrid.prototype.getZForResolution);goog.exportSymbol("ol.tilegrid.WMTS",ol.tilegrid.WMTS,OPENLAYERS);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMatrixIds",ol.tilegrid.WMTS.prototype.getMatrixIds);goog.exportSymbol("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet,OPENLAYERS);goog.exportSymbol("ol.style.AtlasManager",ol.style.AtlasManager,OPENLAYERS);goog.exportSymbol("ol.style.Circle",ol.style.Circle,OPENLAYERS);goog.exportProperty(ol.style.Circle.prototype,"setRadius",ol.style.Circle.prototype.setRadius);goog.exportSymbol("ol.style.Fill",ol.style.Fill,OPENLAYERS);goog.exportProperty(ol.style.Fill.prototype,"clone",ol.style.Fill.prototype.clone);goog.exportProperty(ol.style.Fill.prototype,"getColor",ol.style.Fill.prototype.getColor);goog.exportProperty(ol.style.Fill.prototype,"setColor",ol.style.Fill.prototype.setColor);goog.exportSymbol("ol.style.Icon",ol.style.Icon,OPENLAYERS);goog.exportProperty(ol.style.Icon.prototype,"clone",ol.style.Icon.prototype.clone);goog.exportProperty(ol.style.Icon.prototype,"getAnchor",ol.style.Icon.prototype.getAnchor);goog.exportProperty(ol.style.Icon.prototype,"getColor",ol.style.Icon.prototype.getColor);goog.exportProperty(ol.style.Icon.prototype,"getImage",ol.style.Icon.prototype.getImage);goog.exportProperty(ol.style.Icon.prototype,"getOrigin",ol.style.Icon.prototype.getOrigin);goog.exportProperty(ol.style.Icon.prototype,"getSrc",ol.style.Icon.prototype.getSrc);goog.exportProperty(ol.style.Icon.prototype,"getSize",ol.style.Icon.prototype.getSize);goog.exportProperty(ol.style.Icon.prototype,"load",ol.style.Icon.prototype.load);goog.exportSymbol("ol.style.Image",ol.style.Image,OPENLAYERS);goog.exportProperty(ol.style.Image.prototype,"getOpacity",ol.style.Image.prototype.getOpacity);goog.exportProperty(ol.style.Image.prototype,"getRotateWithView",ol.style.Image.prototype.getRotateWithView);goog.exportProperty(ol.style.Image.prototype,"getRotation",ol.style.Image.prototype.getRotation);goog.exportProperty(ol.style.Image.prototype,"getScale",ol.style.Image.prototype.getScale);goog.exportProperty(ol.style.Image.prototype,"getSnapToPixel",ol.style.Image.prototype.getSnapToPixel);goog.exportProperty(ol.style.Image.prototype,"setOpacity",ol.style.Image.prototype.setOpacity);goog.exportProperty(ol.style.Image.prototype,"setRotation",ol.style.Image.prototype.setRotation);goog.exportProperty(ol.style.Image.prototype,"setScale",ol.style.Image.prototype.setScale);goog.exportSymbol("ol.style.RegularShape",ol.style.RegularShape,OPENLAYERS);goog.exportProperty(ol.style.RegularShape.prototype,"clone",ol.style.RegularShape.prototype.clone);goog.exportProperty(ol.style.RegularShape.prototype,"getAnchor",ol.style.RegularShape.prototype.getAnchor);goog.exportProperty(ol.style.RegularShape.prototype,"getAngle",ol.style.RegularShape.prototype.getAngle);goog.exportProperty(ol.style.RegularShape.prototype,"getFill",ol.style.RegularShape.prototype.getFill);goog.exportProperty(ol.style.RegularShape.prototype,"getImage",ol.style.RegularShape.prototype.getImage);goog.exportProperty(ol.style.RegularShape.prototype,"getOrigin",ol.style.RegularShape.prototype.getOrigin);goog.exportProperty(ol.style.RegularShape.prototype,"getPoints",ol.style.RegularShape.prototype.getPoints);goog.exportProperty(ol.style.RegularShape.prototype,"getRadius",ol.style.RegularShape.prototype.getRadius);goog.exportProperty(ol.style.RegularShape.prototype,"getRadius2",ol.style.RegularShape.prototype.getRadius2);goog.exportProperty(ol.style.RegularShape.prototype,"getSize",ol.style.RegularShape.prototype.getSize);goog.exportProperty(ol.style.RegularShape.prototype,"getStroke",ol.style.RegularShape.prototype.getStroke);goog.exportSymbol("ol.style.Stroke",ol.style.Stroke,OPENLAYERS);goog.exportProperty(ol.style.Stroke.prototype,"clone",ol.style.Stroke.prototype.clone);goog.exportProperty(ol.style.Stroke.prototype,"getColor",ol.style.Stroke.prototype.getColor);goog.exportProperty(ol.style.Stroke.prototype,"getLineCap",ol.style.Stroke.prototype.getLineCap);goog.exportProperty(ol.style.Stroke.prototype,"getLineDash",ol.style.Stroke.prototype.getLineDash);goog.exportProperty(ol.style.Stroke.prototype,"getLineDashOffset",ol.style.Stroke.prototype.getLineDashOffset);goog.exportProperty(ol.style.Stroke.prototype,"getLineJoin",ol.style.Stroke.prototype.getLineJoin);goog.exportProperty(ol.style.Stroke.prototype,"getMiterLimit",ol.style.Stroke.prototype.getMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,"getWidth",ol.style.Stroke.prototype.getWidth);goog.exportProperty(ol.style.Stroke.prototype,"setColor",ol.style.Stroke.prototype.setColor);goog.exportProperty(ol.style.Stroke.prototype,"setLineCap",ol.style.Stroke.prototype.setLineCap);goog.exportProperty(ol.style.Stroke.prototype,"setLineDash",ol.style.Stroke.prototype.setLineDash);goog.exportProperty(ol.style.Stroke.prototype,"setLineDashOffset",ol.style.Stroke.prototype.setLineDashOffset);goog.exportProperty(ol.style.Stroke.prototype,"setLineJoin",ol.style.Stroke.prototype.setLineJoin);goog.exportProperty(ol.style.Stroke.prototype,"setMiterLimit",ol.style.Stroke.prototype.setMiterLimit);goog.exportProperty(ol.style.Stroke.prototype,"setWidth",ol.style.Stroke.prototype.setWidth);goog.exportSymbol("ol.style.Style",ol.style.Style,OPENLAYERS);goog.exportProperty(ol.style.Style.prototype,"clone",ol.style.Style.prototype.clone);goog.exportProperty(ol.style.Style.prototype,"getGeometry",ol.style.Style.prototype.getGeometry);goog.exportProperty(ol.style.Style.prototype,"getGeometryFunction",ol.style.Style.prototype.getGeometryFunction);goog.exportProperty(ol.style.Style.prototype,"getFill",ol.style.Style.prototype.getFill);goog.exportProperty(ol.style.Style.prototype,"setFill",ol.style.Style.prototype.setFill);goog.exportProperty(ol.style.Style.prototype,"getImage",ol.style.Style.prototype.getImage);goog.exportProperty(ol.style.Style.prototype,"setImage",ol.style.Style.prototype.setImage);goog.exportProperty(ol.style.Style.prototype,"getStroke",ol.style.Style.prototype.getStroke);goog.exportProperty(ol.style.Style.prototype,"setStroke",ol.style.Style.prototype.setStroke);goog.exportProperty(ol.style.Style.prototype,"getText",ol.style.Style.prototype.getText);goog.exportProperty(ol.style.Style.prototype,"setText",ol.style.Style.prototype.setText);goog.exportProperty(ol.style.Style.prototype,"getZIndex",ol.style.Style.prototype.getZIndex);goog.exportProperty(ol.style.Style.prototype,"setGeometry",ol.style.Style.prototype.setGeometry);goog.exportProperty(ol.style.Style.prototype,"setZIndex",ol.style.Style.prototype.setZIndex);goog.exportSymbol("ol.style.Text",ol.style.Text,OPENLAYERS);goog.exportProperty(ol.style.Text.prototype,"clone",ol.style.Text.prototype.clone);goog.exportProperty(ol.style.Text.prototype,"getFont",ol.style.Text.prototype.getFont);goog.exportProperty(ol.style.Text.prototype,"getOffsetX",ol.style.Text.prototype.getOffsetX);goog.exportProperty(ol.style.Text.prototype,"getOffsetY",ol.style.Text.prototype.getOffsetY);goog.exportProperty(ol.style.Text.prototype,"getFill",ol.style.Text.prototype.getFill);goog.exportProperty(ol.style.Text.prototype,"getRotateWithView",ol.style.Text.prototype.getRotateWithView);goog.exportProperty(ol.style.Text.prototype,"getRotation",ol.style.Text.prototype.getRotation);goog.exportProperty(ol.style.Text.prototype,"getScale",ol.style.Text.prototype.getScale);goog.exportProperty(ol.style.Text.prototype,"getStroke",ol.style.Text.prototype.getStroke);goog.exportProperty(ol.style.Text.prototype,"getText",ol.style.Text.prototype.getText);goog.exportProperty(ol.style.Text.prototype,"getTextAlign",ol.style.Text.prototype.getTextAlign);goog.exportProperty(ol.style.Text.prototype,"getTextBaseline",ol.style.Text.prototype.getTextBaseline);goog.exportProperty(ol.style.Text.prototype,"setFont",ol.style.Text.prototype.setFont);goog.exportProperty(ol.style.Text.prototype,"setOffsetX",ol.style.Text.prototype.setOffsetX);goog.exportProperty(ol.style.Text.prototype,"setOffsetY",ol.style.Text.prototype.setOffsetY);goog.exportProperty(ol.style.Text.prototype,"setFill",ol.style.Text.prototype.setFill);goog.exportProperty(ol.style.Text.prototype,"setRotation",ol.style.Text.prototype.setRotation);goog.exportProperty(ol.style.Text.prototype,"setScale",ol.style.Text.prototype.setScale);goog.exportProperty(ol.style.Text.prototype,"setStroke",ol.style.Text.prototype.setStroke);goog.exportProperty(ol.style.Text.prototype,"setText",ol.style.Text.prototype.setText);goog.exportProperty(ol.style.Text.prototype,"setTextAlign",ol.style.Text.prototype.setTextAlign);goog.exportProperty(ol.style.Text.prototype,"setTextBaseline",ol.style.Text.prototype.setTextBaseline);goog.exportSymbol("ol.source.BingMaps",ol.source.BingMaps,OPENLAYERS);goog.exportSymbol("ol.source.BingMaps.TOS_ATTRIBUTION",ol.source.BingMaps.TOS_ATTRIBUTION,OPENLAYERS);goog.exportProperty(ol.source.BingMaps.prototype,"getApiKey",ol.source.BingMaps.prototype.getApiKey);goog.exportProperty(ol.source.BingMaps.prototype,"getImagerySet",ol.source.BingMaps.prototype.getImagerySet);goog.exportSymbol("ol.source.CartoDB",ol.source.CartoDB,OPENLAYERS);goog.exportProperty(ol.source.CartoDB.prototype,"getConfig",ol.source.CartoDB.prototype.getConfig);goog.exportProperty(ol.source.CartoDB.prototype,"updateConfig",ol.source.CartoDB.prototype.updateConfig);goog.exportProperty(ol.source.CartoDB.prototype,"setConfig",ol.source.CartoDB.prototype.setConfig);goog.exportSymbol("ol.source.Cluster",ol.source.Cluster,OPENLAYERS);goog.exportProperty(ol.source.Cluster.prototype,"getSource",ol.source.Cluster.prototype.getSource);goog.exportProperty(ol.source.Cluster.prototype,"setDistance",ol.source.Cluster.prototype.setDistance);goog.exportSymbol("ol.source.Image",ol.source.Image,OPENLAYERS);goog.exportProperty(ol.source.Image.Event.prototype,"image",ol.source.Image.Event.prototype.image);goog.exportSymbol("ol.source.ImageArcGISRest",ol.source.ImageArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getParams",ol.source.ImageArcGISRest.prototype.getParams);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getImageLoadFunction",ol.source.ImageArcGISRest.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getUrl",ol.source.ImageArcGISRest.prototype.getUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setImageLoadFunction",ol.source.ImageArcGISRest.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setUrl",ol.source.ImageArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"updateParams",ol.source.ImageArcGISRest.prototype.updateParams);goog.exportSymbol("ol.source.ImageCanvas",ol.source.ImageCanvas,OPENLAYERS);goog.exportSymbol("ol.source.ImageMapGuide",ol.source.ImageMapGuide,OPENLAYERS);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getParams",ol.source.ImageMapGuide.prototype.getParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getImageLoadFunction",ol.source.ImageMapGuide.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageMapGuide.prototype,"updateParams",ol.source.ImageMapGuide.prototype.updateParams);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setImageLoadFunction",ol.source.ImageMapGuide.prototype.setImageLoadFunction);goog.exportSymbol("ol.source.ImageStatic",ol.source.ImageStatic,OPENLAYERS);goog.exportSymbol("ol.source.ImageVector",ol.source.ImageVector,OPENLAYERS);goog.exportProperty(ol.source.ImageVector.prototype,"getSource",ol.source.ImageVector.prototype.getSource);goog.exportProperty(ol.source.ImageVector.prototype,"getStyle",ol.source.ImageVector.prototype.getStyle);goog.exportProperty(ol.source.ImageVector.prototype,"getStyleFunction",ol.source.ImageVector.prototype.getStyleFunction);goog.exportProperty(ol.source.ImageVector.prototype,"setStyle",ol.source.ImageVector.prototype.setStyle);goog.exportSymbol("ol.source.ImageWMS",ol.source.ImageWMS,OPENLAYERS);goog.exportProperty(ol.source.ImageWMS.prototype,"getGetFeatureInfoUrl",ol.source.ImageWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"getParams",ol.source.ImageWMS.prototype.getParams);goog.exportProperty(ol.source.ImageWMS.prototype,"getImageLoadFunction",ol.source.ImageWMS.prototype.getImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,"getUrl",ol.source.ImageWMS.prototype.getUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"setImageLoadFunction",ol.source.ImageWMS.prototype.setImageLoadFunction);goog.exportProperty(ol.source.ImageWMS.prototype,"setUrl",ol.source.ImageWMS.prototype.setUrl);goog.exportProperty(ol.source.ImageWMS.prototype,"updateParams",ol.source.ImageWMS.prototype.updateParams);goog.exportSymbol("ol.source.OSM",ol.source.OSM,OPENLAYERS);goog.exportSymbol("ol.source.OSM.ATTRIBUTION",ol.source.OSM.ATTRIBUTION,OPENLAYERS);goog.exportSymbol("ol.source.Raster",ol.source.Raster,OPENLAYERS);goog.exportProperty(ol.source.Raster.prototype,"setOperation",ol.source.Raster.prototype.setOperation);goog.exportProperty(ol.source.Raster.Event.prototype,"extent",ol.source.Raster.Event.prototype.extent);goog.exportProperty(ol.source.Raster.Event.prototype,"resolution",ol.source.Raster.Event.prototype.resolution);goog.exportProperty(ol.source.Raster.Event.prototype,"data",ol.source.Raster.Event.prototype.data);goog.exportSymbol("ol.source.Source",ol.source.Source,OPENLAYERS);goog.exportProperty(ol.source.Source.prototype,"getAttributions",ol.source.Source.prototype.getAttributions);goog.exportProperty(ol.source.Source.prototype,"getLogo",ol.source.Source.prototype.getLogo);goog.exportProperty(ol.source.Source.prototype,"getProjection",ol.source.Source.prototype.getProjection);goog.exportProperty(ol.source.Source.prototype,"getState",ol.source.Source.prototype.getState);goog.exportProperty(ol.source.Source.prototype,"refresh",ol.source.Source.prototype.refresh);goog.exportProperty(ol.source.Source.prototype,"setAttributions",ol.source.Source.prototype.setAttributions);goog.exportSymbol("ol.source.Stamen",ol.source.Stamen,OPENLAYERS);goog.exportSymbol("ol.source.Tile",ol.source.Tile,OPENLAYERS);goog.exportProperty(ol.source.Tile.prototype,"getTileGrid",ol.source.Tile.prototype.getTileGrid);goog.exportProperty(ol.source.Tile.Event.prototype,"tile",ol.source.Tile.Event.prototype.tile);goog.exportSymbol("ol.source.TileArcGISRest",ol.source.TileArcGISRest,OPENLAYERS);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getParams",ol.source.TileArcGISRest.prototype.getParams);goog.exportProperty(ol.source.TileArcGISRest.prototype,"updateParams",ol.source.TileArcGISRest.prototype.updateParams);goog.exportSymbol("ol.source.TileDebug",ol.source.TileDebug,OPENLAYERS);goog.exportSymbol("ol.source.TileImage",ol.source.TileImage,OPENLAYERS);goog.exportProperty(ol.source.TileImage.prototype,"setRenderReprojectionEdges",ol.source.TileImage.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileImage.prototype,"setTileGridForProjection",ol.source.TileImage.prototype.setTileGridForProjection);goog.exportSymbol("ol.source.TileJSON",ol.source.TileJSON,OPENLAYERS);goog.exportProperty(ol.source.TileJSON.prototype,"getTileJSON",ol.source.TileJSON.prototype.getTileJSON);goog.exportSymbol("ol.source.TileUTFGrid",ol.source.TileUTFGrid,OPENLAYERS);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTemplate",ol.source.TileUTFGrid.prototype.getTemplate);goog.exportProperty(ol.source.TileUTFGrid.prototype,"forDataAtCoordinateAndResolution",ol.source.TileUTFGrid.prototype.forDataAtCoordinateAndResolution);goog.exportSymbol("ol.source.TileWMS",ol.source.TileWMS,OPENLAYERS);goog.exportProperty(ol.source.TileWMS.prototype,"getGetFeatureInfoUrl",ol.source.TileWMS.prototype.getGetFeatureInfoUrl);goog.exportProperty(ol.source.TileWMS.prototype,"getParams",ol.source.TileWMS.prototype.getParams);goog.exportProperty(ol.source.TileWMS.prototype,"updateParams",ol.source.TileWMS.prototype.updateParams);goog.exportProperty(ol.source.UrlTile.prototype,"getTileLoadFunction",ol.source.UrlTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,"getTileUrlFunction",ol.source.UrlTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,"getUrls",ol.source.UrlTile.prototype.getUrls);goog.exportProperty(ol.source.UrlTile.prototype,"setTileLoadFunction",ol.source.UrlTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.UrlTile.prototype,"setTileUrlFunction",ol.source.UrlTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.UrlTile.prototype,"setUrl",ol.source.UrlTile.prototype.setUrl);goog.exportProperty(ol.source.UrlTile.prototype,"setUrls",ol.source.UrlTile.prototype.setUrls);goog.exportSymbol("ol.source.Vector",ol.source.Vector,OPENLAYERS);goog.exportProperty(ol.source.Vector.prototype,"addFeature",ol.source.Vector.prototype.addFeature);goog.exportProperty(ol.source.Vector.prototype,"addFeatures",ol.source.Vector.prototype.addFeatures);goog.exportProperty(ol.source.Vector.prototype,"clear",ol.source.Vector.prototype.clear);goog.exportProperty(ol.source.Vector.prototype,"forEachFeature",ol.source.Vector.prototype.forEachFeature);
goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureInExtent",ol.source.Vector.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Vector.prototype,"forEachFeatureIntersectingExtent",ol.source.Vector.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesCollection",ol.source.Vector.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Vector.prototype,"getFeatures",ol.source.Vector.prototype.getFeatures);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesAtCoordinate",ol.source.Vector.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Vector.prototype,"getFeaturesInExtent",ol.source.Vector.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Vector.prototype,"getClosestFeatureToCoordinate",ol.source.Vector.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Vector.prototype,"getExtent",ol.source.Vector.prototype.getExtent);goog.exportProperty(ol.source.Vector.prototype,"getFeatureById",ol.source.Vector.prototype.getFeatureById);goog.exportProperty(ol.source.Vector.prototype,"getFormat",ol.source.Vector.prototype.getFormat);goog.exportProperty(ol.source.Vector.prototype,"getUrl",ol.source.Vector.prototype.getUrl);goog.exportProperty(ol.source.Vector.prototype,"removeFeature",ol.source.Vector.prototype.removeFeature);goog.exportProperty(ol.source.Vector.Event.prototype,"feature",ol.source.Vector.Event.prototype.feature);goog.exportSymbol("ol.source.VectorTile",ol.source.VectorTile,OPENLAYERS);goog.exportSymbol("ol.source.WMTS",ol.source.WMTS,OPENLAYERS);goog.exportProperty(ol.source.WMTS.prototype,"getDimensions",ol.source.WMTS.prototype.getDimensions);goog.exportProperty(ol.source.WMTS.prototype,"getFormat",ol.source.WMTS.prototype.getFormat);goog.exportProperty(ol.source.WMTS.prototype,"getLayer",ol.source.WMTS.prototype.getLayer);goog.exportProperty(ol.source.WMTS.prototype,"getMatrixSet",ol.source.WMTS.prototype.getMatrixSet);goog.exportProperty(ol.source.WMTS.prototype,"getRequestEncoding",ol.source.WMTS.prototype.getRequestEncoding);goog.exportProperty(ol.source.WMTS.prototype,"getStyle",ol.source.WMTS.prototype.getStyle);goog.exportProperty(ol.source.WMTS.prototype,"getVersion",ol.source.WMTS.prototype.getVersion);goog.exportProperty(ol.source.WMTS.prototype,"updateDimensions",ol.source.WMTS.prototype.updateDimensions);goog.exportSymbol("ol.source.WMTS.optionsFromCapabilities",ol.source.WMTS.optionsFromCapabilities,OPENLAYERS);goog.exportSymbol("ol.source.XYZ",ol.source.XYZ,OPENLAYERS);goog.exportSymbol("ol.source.Zoomify",ol.source.Zoomify,OPENLAYERS);goog.exportProperty(ol.render.Event.prototype,"vectorContext",ol.render.Event.prototype.vectorContext);goog.exportProperty(ol.render.Event.prototype,"frameState",ol.render.Event.prototype.frameState);goog.exportProperty(ol.render.Event.prototype,"context",ol.render.Event.prototype.context);goog.exportProperty(ol.render.Event.prototype,"glContext",ol.render.Event.prototype.glContext);goog.exportProperty(ol.render.Feature.prototype,"get",ol.render.Feature.prototype.get);goog.exportProperty(ol.render.Feature.prototype,"getExtent",ol.render.Feature.prototype.getExtent);goog.exportProperty(ol.render.Feature.prototype,"getGeometry",ol.render.Feature.prototype.getGeometry);goog.exportProperty(ol.render.Feature.prototype,"getProperties",ol.render.Feature.prototype.getProperties);goog.exportProperty(ol.render.Feature.prototype,"getType",ol.render.Feature.prototype.getType);goog.exportSymbol("ol.render.VectorContext",ol.render.VectorContext,OPENLAYERS);goog.exportProperty(ol.render.webgl.Immediate.prototype,"setStyle",ol.render.webgl.Immediate.prototype.setStyle);goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawGeometry",ol.render.webgl.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.webgl.Immediate.prototype,"drawFeature",ol.render.webgl.Immediate.prototype.drawFeature);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawCircle",ol.render.canvas.Immediate.prototype.drawCircle);goog.exportProperty(ol.render.canvas.Immediate.prototype,"setStyle",ol.render.canvas.Immediate.prototype.setStyle);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawGeometry",ol.render.canvas.Immediate.prototype.drawGeometry);goog.exportProperty(ol.render.canvas.Immediate.prototype,"drawFeature",ol.render.canvas.Immediate.prototype.drawFeature);goog.exportSymbol("ol.proj.common.add",ol.proj.common.add,OPENLAYERS);goog.exportSymbol("ol.proj.Projection",ol.proj.Projection,OPENLAYERS);goog.exportProperty(ol.proj.Projection.prototype,"getCode",ol.proj.Projection.prototype.getCode);goog.exportProperty(ol.proj.Projection.prototype,"getExtent",ol.proj.Projection.prototype.getExtent);goog.exportProperty(ol.proj.Projection.prototype,"getUnits",ol.proj.Projection.prototype.getUnits);goog.exportProperty(ol.proj.Projection.prototype,"getMetersPerUnit",ol.proj.Projection.prototype.getMetersPerUnit);goog.exportProperty(ol.proj.Projection.prototype,"getWorldExtent",ol.proj.Projection.prototype.getWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,"isGlobal",ol.proj.Projection.prototype.isGlobal);goog.exportProperty(ol.proj.Projection.prototype,"setGlobal",ol.proj.Projection.prototype.setGlobal);goog.exportProperty(ol.proj.Projection.prototype,"setExtent",ol.proj.Projection.prototype.setExtent);goog.exportProperty(ol.proj.Projection.prototype,"setWorldExtent",ol.proj.Projection.prototype.setWorldExtent);goog.exportProperty(ol.proj.Projection.prototype,"setGetPointResolution",ol.proj.Projection.prototype.setGetPointResolution);goog.exportSymbol("ol.proj.Units.METERS_PER_UNIT",ol.proj.Units.METERS_PER_UNIT,OPENLAYERS);goog.exportSymbol("ol.layer.Base",ol.layer.Base,OPENLAYERS);goog.exportProperty(ol.layer.Base.prototype,"getExtent",ol.layer.Base.prototype.getExtent);goog.exportProperty(ol.layer.Base.prototype,"getMaxResolution",ol.layer.Base.prototype.getMaxResolution);goog.exportProperty(ol.layer.Base.prototype,"getMinResolution",ol.layer.Base.prototype.getMinResolution);goog.exportProperty(ol.layer.Base.prototype,"getOpacity",ol.layer.Base.prototype.getOpacity);goog.exportProperty(ol.layer.Base.prototype,"getVisible",ol.layer.Base.prototype.getVisible);goog.exportProperty(ol.layer.Base.prototype,"getZIndex",ol.layer.Base.prototype.getZIndex);goog.exportProperty(ol.layer.Base.prototype,"setExtent",ol.layer.Base.prototype.setExtent);goog.exportProperty(ol.layer.Base.prototype,"setMaxResolution",ol.layer.Base.prototype.setMaxResolution);goog.exportProperty(ol.layer.Base.prototype,"setMinResolution",ol.layer.Base.prototype.setMinResolution);goog.exportProperty(ol.layer.Base.prototype,"setOpacity",ol.layer.Base.prototype.setOpacity);goog.exportProperty(ol.layer.Base.prototype,"setVisible",ol.layer.Base.prototype.setVisible);goog.exportProperty(ol.layer.Base.prototype,"setZIndex",ol.layer.Base.prototype.setZIndex);goog.exportSymbol("ol.layer.Group",ol.layer.Group,OPENLAYERS);goog.exportProperty(ol.layer.Group.prototype,"getLayers",ol.layer.Group.prototype.getLayers);goog.exportProperty(ol.layer.Group.prototype,"setLayers",ol.layer.Group.prototype.setLayers);goog.exportSymbol("ol.layer.Heatmap",ol.layer.Heatmap,OPENLAYERS);goog.exportProperty(ol.layer.Heatmap.prototype,"getBlur",ol.layer.Heatmap.prototype.getBlur);goog.exportProperty(ol.layer.Heatmap.prototype,"getGradient",ol.layer.Heatmap.prototype.getGradient);goog.exportProperty(ol.layer.Heatmap.prototype,"getRadius",ol.layer.Heatmap.prototype.getRadius);goog.exportProperty(ol.layer.Heatmap.prototype,"setBlur",ol.layer.Heatmap.prototype.setBlur);goog.exportProperty(ol.layer.Heatmap.prototype,"setGradient",ol.layer.Heatmap.prototype.setGradient);goog.exportProperty(ol.layer.Heatmap.prototype,"setRadius",ol.layer.Heatmap.prototype.setRadius);goog.exportSymbol("ol.layer.Image",ol.layer.Image,OPENLAYERS);goog.exportProperty(ol.layer.Image.prototype,"getSource",ol.layer.Image.prototype.getSource);goog.exportSymbol("ol.layer.Layer",ol.layer.Layer,OPENLAYERS);goog.exportProperty(ol.layer.Layer.prototype,"getSource",ol.layer.Layer.prototype.getSource);goog.exportProperty(ol.layer.Layer.prototype,"setMap",ol.layer.Layer.prototype.setMap);goog.exportProperty(ol.layer.Layer.prototype,"setSource",ol.layer.Layer.prototype.setSource);goog.exportSymbol("ol.layer.Tile",ol.layer.Tile,OPENLAYERS);goog.exportProperty(ol.layer.Tile.prototype,"getPreload",ol.layer.Tile.prototype.getPreload);goog.exportProperty(ol.layer.Tile.prototype,"getSource",ol.layer.Tile.prototype.getSource);goog.exportProperty(ol.layer.Tile.prototype,"setPreload",ol.layer.Tile.prototype.setPreload);goog.exportProperty(ol.layer.Tile.prototype,"getUseInterimTilesOnError",ol.layer.Tile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.Tile.prototype,"setUseInterimTilesOnError",ol.layer.Tile.prototype.setUseInterimTilesOnError);goog.exportSymbol("ol.layer.Vector",ol.layer.Vector,OPENLAYERS);goog.exportProperty(ol.layer.Vector.prototype,"getSource",ol.layer.Vector.prototype.getSource);goog.exportProperty(ol.layer.Vector.prototype,"getStyle",ol.layer.Vector.prototype.getStyle);goog.exportProperty(ol.layer.Vector.prototype,"getStyleFunction",ol.layer.Vector.prototype.getStyleFunction);goog.exportProperty(ol.layer.Vector.prototype,"setStyle",ol.layer.Vector.prototype.setStyle);goog.exportSymbol("ol.layer.VectorTile",ol.layer.VectorTile,OPENLAYERS);goog.exportProperty(ol.layer.VectorTile.prototype,"getPreload",ol.layer.VectorTile.prototype.getPreload);goog.exportProperty(ol.layer.VectorTile.prototype,"getUseInterimTilesOnError",ol.layer.VectorTile.prototype.getUseInterimTilesOnError);goog.exportProperty(ol.layer.VectorTile.prototype,"setPreload",ol.layer.VectorTile.prototype.setPreload);goog.exportProperty(ol.layer.VectorTile.prototype,"setUseInterimTilesOnError",ol.layer.VectorTile.prototype.setUseInterimTilesOnError);goog.exportSymbol("ol.interaction.DoubleClickZoom",ol.interaction.DoubleClickZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.DoubleClickZoom.handleEvent",ol.interaction.DoubleClickZoom.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.DragAndDrop",ol.interaction.DragAndDrop,OPENLAYERS);goog.exportSymbol("ol.interaction.DragAndDrop.handleEvent",ol.interaction.DragAndDrop.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"features",ol.interaction.DragAndDrop.Event.prototype.features);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"file",ol.interaction.DragAndDrop.Event.prototype.file);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"projection",ol.interaction.DragAndDrop.Event.prototype.projection);goog.exportSymbol("ol.interaction.DragBox",ol.interaction.DragBox,OPENLAYERS);goog.exportProperty(ol.interaction.DragBox.prototype,"getGeometry",ol.interaction.DragBox.prototype.getGeometry);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"coordinate",ol.interaction.DragBox.Event.prototype.coordinate);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"mapBrowserEvent",ol.interaction.DragBox.Event.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.DragPan",ol.interaction.DragPan,OPENLAYERS);goog.exportSymbol("ol.interaction.DragRotate",ol.interaction.DragRotate,OPENLAYERS);goog.exportSymbol("ol.interaction.DragRotateAndZoom",ol.interaction.DragRotateAndZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.DragZoom",ol.interaction.DragZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw",ol.interaction.Draw,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw.handleEvent",ol.interaction.Draw.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Draw.prototype,"removeLastPoint",ol.interaction.Draw.prototype.removeLastPoint);goog.exportProperty(ol.interaction.Draw.prototype,"finishDrawing",ol.interaction.Draw.prototype.finishDrawing);goog.exportProperty(ol.interaction.Draw.prototype,"extend",ol.interaction.Draw.prototype.extend);goog.exportSymbol("ol.interaction.Draw.createRegularPolygon",ol.interaction.Draw.createRegularPolygon,OPENLAYERS);goog.exportSymbol("ol.interaction.Draw.createBox",ol.interaction.Draw.createBox,OPENLAYERS);goog.exportProperty(ol.interaction.Draw.Event.prototype,"feature",ol.interaction.Draw.Event.prototype.feature);goog.exportSymbol("ol.interaction.Extent",ol.interaction.Extent,OPENLAYERS);goog.exportProperty(ol.interaction.Extent.prototype,"getExtent",ol.interaction.Extent.prototype.getExtent);goog.exportProperty(ol.interaction.Extent.prototype,"setExtent",ol.interaction.Extent.prototype.setExtent);goog.exportProperty(ol.interaction.Extent.Event.prototype,"extent_",ol.interaction.Extent.Event.prototype.extent_);goog.exportSymbol("ol.interaction.Interaction",ol.interaction.Interaction,OPENLAYERS);goog.exportProperty(ol.interaction.Interaction.prototype,"getActive",ol.interaction.Interaction.prototype.getActive);goog.exportProperty(ol.interaction.Interaction.prototype,"getMap",ol.interaction.Interaction.prototype.getMap);goog.exportProperty(ol.interaction.Interaction.prototype,"setActive",ol.interaction.Interaction.prototype.setActive);goog.exportSymbol("ol.interaction.KeyboardPan",ol.interaction.KeyboardPan,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardPan.handleEvent",ol.interaction.KeyboardPan.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardZoom",ol.interaction.KeyboardZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.KeyboardZoom.handleEvent",ol.interaction.KeyboardZoom.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.Modify",ol.interaction.Modify,OPENLAYERS);goog.exportSymbol("ol.interaction.Modify.handleEvent",ol.interaction.Modify.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Modify.prototype,"removePoint",ol.interaction.Modify.prototype.removePoint);goog.exportProperty(ol.interaction.Modify.Event.prototype,"features",ol.interaction.Modify.Event.prototype.features);goog.exportProperty(ol.interaction.Modify.Event.prototype,"mapBrowserEvent",ol.interaction.Modify.Event.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.MouseWheelZoom",ol.interaction.MouseWheelZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.MouseWheelZoom.handleEvent",ol.interaction.MouseWheelZoom.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setMouseAnchor",ol.interaction.MouseWheelZoom.prototype.setMouseAnchor);goog.exportSymbol("ol.interaction.PinchRotate",ol.interaction.PinchRotate,OPENLAYERS);goog.exportSymbol("ol.interaction.PinchZoom",ol.interaction.PinchZoom,OPENLAYERS);goog.exportSymbol("ol.interaction.Pointer",ol.interaction.Pointer,OPENLAYERS);goog.exportSymbol("ol.interaction.Pointer.handleEvent",ol.interaction.Pointer.handleEvent,OPENLAYERS);goog.exportSymbol("ol.interaction.Select",ol.interaction.Select,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,"getFeatures",ol.interaction.Select.prototype.getFeatures);goog.exportProperty(ol.interaction.Select.prototype,"getHitTolerance",ol.interaction.Select.prototype.getHitTolerance);goog.exportProperty(ol.interaction.Select.prototype,"getLayer",ol.interaction.Select.prototype.getLayer);goog.exportSymbol("ol.interaction.Select.handleEvent",ol.interaction.Select.handleEvent,OPENLAYERS);goog.exportProperty(ol.interaction.Select.prototype,"setHitTolerance",ol.interaction.Select.prototype.setHitTolerance);goog.exportProperty(ol.interaction.Select.prototype,"setMap",ol.interaction.Select.prototype.setMap);goog.exportProperty(ol.interaction.Select.Event.prototype,"selected",ol.interaction.Select.Event.prototype.selected);goog.exportProperty(ol.interaction.Select.Event.prototype,"deselected",ol.interaction.Select.Event.prototype.deselected);goog.exportProperty(ol.interaction.Select.Event.prototype,"mapBrowserEvent",ol.interaction.Select.Event.prototype.mapBrowserEvent);goog.exportSymbol("ol.interaction.Snap",ol.interaction.Snap,OPENLAYERS);goog.exportProperty(ol.interaction.Snap.prototype,"addFeature",ol.interaction.Snap.prototype.addFeature);goog.exportProperty(ol.interaction.Snap.prototype,"removeFeature",ol.interaction.Snap.prototype.removeFeature);goog.exportSymbol("ol.interaction.Translate",ol.interaction.Translate,OPENLAYERS);goog.exportProperty(ol.interaction.Translate.prototype,"getHitTolerance",ol.interaction.Translate.prototype.getHitTolerance);goog.exportProperty(ol.interaction.Translate.prototype,"setHitTolerance",ol.interaction.Translate.prototype.setHitTolerance);goog.exportProperty(ol.interaction.Translate.Event.prototype,"features",ol.interaction.Translate.Event.prototype.features);goog.exportProperty(ol.interaction.Translate.Event.prototype,"coordinate",ol.interaction.Translate.Event.prototype.coordinate);goog.exportSymbol("ol.geom.Circle",ol.geom.Circle,OPENLAYERS);goog.exportProperty(ol.geom.Circle.prototype,"clone",ol.geom.Circle.prototype.clone);goog.exportProperty(ol.geom.Circle.prototype,"getCenter",ol.geom.Circle.prototype.getCenter);goog.exportProperty(ol.geom.Circle.prototype,"getRadius",ol.geom.Circle.prototype.getRadius);goog.exportProperty(ol.geom.Circle.prototype,"getType",ol.geom.Circle.prototype.getType);goog.exportProperty(ol.geom.Circle.prototype,"intersectsExtent",ol.geom.Circle.prototype.intersectsExtent);goog.exportProperty(ol.geom.Circle.prototype,"setCenter",ol.geom.Circle.prototype.setCenter);goog.exportProperty(ol.geom.Circle.prototype,"setCenterAndRadius",ol.geom.Circle.prototype.setCenterAndRadius);goog.exportProperty(ol.geom.Circle.prototype,"setRadius",ol.geom.Circle.prototype.setRadius);goog.exportProperty(ol.geom.Circle.prototype,"transform",ol.geom.Circle.prototype.transform);goog.exportSymbol("ol.geom.Geometry",ol.geom.Geometry,OPENLAYERS);goog.exportProperty(ol.geom.Geometry.prototype,"getClosestPoint",ol.geom.Geometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.Geometry.prototype,"intersectsCoordinate",ol.geom.Geometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Geometry.prototype,"getExtent",ol.geom.Geometry.prototype.getExtent);goog.exportProperty(ol.geom.Geometry.prototype,"rotate",ol.geom.Geometry.prototype.rotate);goog.exportProperty(ol.geom.Geometry.prototype,"scale",ol.geom.Geometry.prototype.scale);goog.exportProperty(ol.geom.Geometry.prototype,"simplify",ol.geom.Geometry.prototype.simplify);goog.exportProperty(ol.geom.Geometry.prototype,"transform",ol.geom.Geometry.prototype.transform);goog.exportSymbol("ol.geom.GeometryCollection",ol.geom.GeometryCollection,OPENLAYERS);goog.exportProperty(ol.geom.GeometryCollection.prototype,"clone",ol.geom.GeometryCollection.prototype.clone);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getGeometries",ol.geom.GeometryCollection.prototype.getGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getType",ol.geom.GeometryCollection.prototype.getType);goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsExtent",ol.geom.GeometryCollection.prototype.intersectsExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"setGeometries",ol.geom.GeometryCollection.prototype.setGeometries);goog.exportProperty(ol.geom.GeometryCollection.prototype,"applyTransform",ol.geom.GeometryCollection.prototype.applyTransform);goog.exportProperty(ol.geom.GeometryCollection.prototype,"translate",ol.geom.GeometryCollection.prototype.translate);goog.exportSymbol("ol.geom.LinearRing",ol.geom.LinearRing,OPENLAYERS);goog.exportProperty(ol.geom.LinearRing.prototype,"clone",ol.geom.LinearRing.prototype.clone);goog.exportProperty(ol.geom.LinearRing.prototype,"getArea",ol.geom.LinearRing.prototype.getArea);goog.exportProperty(ol.geom.LinearRing.prototype,"getCoordinates",ol.geom.LinearRing.prototype.getCoordinates);goog.exportProperty(ol.geom.LinearRing.prototype,"getType",ol.geom.LinearRing.prototype.getType);goog.exportProperty(ol.geom.LinearRing.prototype,"setCoordinates",ol.geom.LinearRing.prototype.setCoordinates);goog.exportSymbol("ol.geom.LineString",ol.geom.LineString,OPENLAYERS);goog.exportProperty(ol.geom.LineString.prototype,"appendCoordinate",ol.geom.LineString.prototype.appendCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"clone",ol.geom.LineString.prototype.clone);goog.exportProperty(ol.geom.LineString.prototype,"forEachSegment",ol.geom.LineString.prototype.forEachSegment);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAtM",ol.geom.LineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinates",ol.geom.LineString.prototype.getCoordinates);goog.exportProperty(ol.geom.LineString.prototype,"getCoordinateAt",ol.geom.LineString.prototype.getCoordinateAt);goog.exportProperty(ol.geom.LineString.prototype,"getLength",ol.geom.LineString.prototype.getLength);goog.exportProperty(ol.geom.LineString.prototype,"getType",ol.geom.LineString.prototype.getType);goog.exportProperty(ol.geom.LineString.prototype,"intersectsExtent",ol.geom.LineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.LineString.prototype,"setCoordinates",ol.geom.LineString.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiLineString",ol.geom.MultiLineString,OPENLAYERS);goog.exportProperty(ol.geom.MultiLineString.prototype,"appendLineString",ol.geom.MultiLineString.prototype.appendLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,"clone",ol.geom.MultiLineString.prototype.clone);goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinateAtM",ol.geom.MultiLineString.prototype.getCoordinateAtM);goog.exportProperty(ol.geom.MultiLineString.prototype,"getCoordinates",ol.geom.MultiLineString.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineString",ol.geom.MultiLineString.prototype.getLineString);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLineStrings",ol.geom.MultiLineString.prototype.getLineStrings);goog.exportProperty(ol.geom.MultiLineString.prototype,"getType",ol.geom.MultiLineString.prototype.getType);goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsExtent",ol.geom.MultiLineString.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,"setCoordinates",ol.geom.MultiLineString.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiPoint",ol.geom.MultiPoint,OPENLAYERS);goog.exportProperty(ol.geom.MultiPoint.prototype,"appendPoint",ol.geom.MultiPoint.prototype.appendPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"clone",ol.geom.MultiPoint.prototype.clone);goog.exportProperty(ol.geom.MultiPoint.prototype,"getCoordinates",ol.geom.MultiPoint.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoint",ol.geom.MultiPoint.prototype.getPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"getPoints",ol.geom.MultiPoint.prototype.getPoints);goog.exportProperty(ol.geom.MultiPoint.prototype,"getType",ol.geom.MultiPoint.prototype.getType);goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsExtent",ol.geom.MultiPoint.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,"setCoordinates",ol.geom.MultiPoint.prototype.setCoordinates);goog.exportSymbol("ol.geom.MultiPolygon",ol.geom.MultiPolygon,OPENLAYERS);goog.exportProperty(ol.geom.MultiPolygon.prototype,"appendPolygon",ol.geom.MultiPolygon.prototype.appendPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,"clone",ol.geom.MultiPolygon.prototype.clone);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getArea",ol.geom.MultiPolygon.prototype.getArea);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getCoordinates",ol.geom.MultiPolygon.prototype.getCoordinates);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getInteriorPoints",ol.geom.MultiPolygon.prototype.getInteriorPoints);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygon",ol.geom.MultiPolygon.prototype.getPolygon);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getPolygons",ol.geom.MultiPolygon.prototype.getPolygons);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getType",ol.geom.MultiPolygon.prototype.getType);goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsExtent",ol.geom.MultiPolygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"setCoordinates",ol.geom.MultiPolygon.prototype.setCoordinates);goog.exportSymbol("ol.geom.Point",ol.geom.Point,OPENLAYERS);goog.exportProperty(ol.geom.Point.prototype,"clone",ol.geom.Point.prototype.clone);goog.exportProperty(ol.geom.Point.prototype,"getCoordinates",ol.geom.Point.prototype.getCoordinates);goog.exportProperty(ol.geom.Point.prototype,"getType",ol.geom.Point.prototype.getType);goog.exportProperty(ol.geom.Point.prototype,"intersectsExtent",ol.geom.Point.prototype.intersectsExtent);goog.exportProperty(ol.geom.Point.prototype,"setCoordinates",ol.geom.Point.prototype.setCoordinates);goog.exportSymbol("ol.geom.Polygon",ol.geom.Polygon,OPENLAYERS);goog.exportProperty(ol.geom.Polygon.prototype,"appendLinearRing",ol.geom.Polygon.prototype.appendLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,"clone",ol.geom.Polygon.prototype.clone);goog.exportProperty(ol.geom.Polygon.prototype,"getArea",ol.geom.Polygon.prototype.getArea);goog.exportProperty(ol.geom.Polygon.prototype,"getCoordinates",ol.geom.Polygon.prototype.getCoordinates);goog.exportProperty(ol.geom.Polygon.prototype,"getInteriorPoint",ol.geom.Polygon.prototype.getInteriorPoint);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRingCount",ol.geom.Polygon.prototype.getLinearRingCount);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRing",ol.geom.Polygon.prototype.getLinearRing);goog.exportProperty(ol.geom.Polygon.prototype,"getLinearRings",ol.geom.Polygon.prototype.getLinearRings);goog.exportProperty(ol.geom.Polygon.prototype,"getType",ol.geom.Polygon.prototype.getType);goog.exportProperty(ol.geom.Polygon.prototype,"intersectsExtent",ol.geom.Polygon.prototype.intersectsExtent);goog.exportProperty(ol.geom.Polygon.prototype,"setCoordinates",ol.geom.Polygon.prototype.setCoordinates);goog.exportSymbol("ol.geom.Polygon.circular",ol.geom.Polygon.circular,OPENLAYERS);goog.exportSymbol("ol.geom.Polygon.fromExtent",ol.geom.Polygon.fromExtent,OPENLAYERS);goog.exportSymbol("ol.geom.Polygon.fromCircle",ol.geom.Polygon.fromCircle,OPENLAYERS);goog.exportSymbol("ol.geom.SimpleGeometry",ol.geom.SimpleGeometry,OPENLAYERS);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getFirstCoordinate",ol.geom.SimpleGeometry.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLastCoordinate",ol.geom.SimpleGeometry.prototype.getLastCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getLayout",ol.geom.SimpleGeometry.prototype.getLayout);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"applyTransform",ol.geom.SimpleGeometry.prototype.applyTransform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"translate",ol.geom.SimpleGeometry.prototype.translate);goog.exportSymbol("ol.format.EsriJSON",ol.format.EsriJSON,OPENLAYERS);goog.exportProperty(ol.format.EsriJSON.prototype,"readFeature",ol.format.EsriJSON.prototype.readFeature);goog.exportProperty(ol.format.EsriJSON.prototype,"readFeatures",ol.format.EsriJSON.prototype.readFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,"readGeometry",ol.format.EsriJSON.prototype.readGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,"readProjection",ol.format.EsriJSON.prototype.readProjection);goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometry",ol.format.EsriJSON.prototype.writeGeometry);goog.exportProperty(ol.format.EsriJSON.prototype,"writeGeometryObject",ol.format.EsriJSON.prototype.writeGeometryObject);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeature",ol.format.EsriJSON.prototype.writeFeature);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatureObject",ol.format.EsriJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeatures",ol.format.EsriJSON.prototype.writeFeatures);goog.exportProperty(ol.format.EsriJSON.prototype,"writeFeaturesObject",ol.format.EsriJSON.prototype.writeFeaturesObject);goog.exportSymbol("ol.format.Feature",ol.format.Feature,OPENLAYERS);goog.exportSymbol("ol.format.filter.and",ol.format.filter.and,OPENLAYERS);goog.exportSymbol("ol.format.filter.or",ol.format.filter.or,OPENLAYERS);goog.exportSymbol("ol.format.filter.not",ol.format.filter.not,OPENLAYERS);goog.exportSymbol("ol.format.filter.bbox",ol.format.filter.bbox,OPENLAYERS);goog.exportSymbol("ol.format.filter.intersects",ol.format.filter.intersects,OPENLAYERS);goog.exportSymbol("ol.format.filter.within",ol.format.filter.within,OPENLAYERS);goog.exportSymbol("ol.format.filter.equalTo",ol.format.filter.equalTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.notEqualTo",ol.format.filter.notEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.lessThan",ol.format.filter.lessThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.lessThanOrEqualTo",ol.format.filter.lessThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.greaterThan",ol.format.filter.greaterThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.greaterThanOrEqualTo",ol.format.filter.greaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.isNull",ol.format.filter.isNull,OPENLAYERS);goog.exportSymbol("ol.format.filter.between",ol.format.filter.between,OPENLAYERS);goog.exportSymbol("ol.format.filter.like",ol.format.filter.like,OPENLAYERS);goog.exportSymbol("ol.format.GeoJSON",ol.format.GeoJSON,OPENLAYERS);goog.exportProperty(ol.format.GeoJSON.prototype,"readFeature",ol.format.GeoJSON.prototype.readFeature);goog.exportProperty(ol.format.GeoJSON.prototype,"readFeatures",ol.format.GeoJSON.prototype.readFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,"readGeometry",ol.format.GeoJSON.prototype.readGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,"readProjection",ol.format.GeoJSON.prototype.readProjection);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeature",ol.format.GeoJSON.prototype.writeFeature);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatureObject",ol.format.GeoJSON.prototype.writeFeatureObject);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeatures",ol.format.GeoJSON.prototype.writeFeatures);goog.exportProperty(ol.format.GeoJSON.prototype,"writeFeaturesObject",ol.format.GeoJSON.prototype.writeFeaturesObject);goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometry",ol.format.GeoJSON.prototype.writeGeometry);goog.exportProperty(ol.format.GeoJSON.prototype,"writeGeometryObject",ol.format.GeoJSON.prototype.writeGeometryObject);goog.exportSymbol("ol.format.GML",ol.format.GML,OPENLAYERS);goog.exportProperty(ol.format.GML.prototype,"writeFeatures",ol.format.GML.prototype.writeFeatures);goog.exportProperty(ol.format.GML.prototype,"writeFeaturesNode",ol.format.GML.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.GML2",ol.format.GML2,OPENLAYERS);goog.exportSymbol("ol.format.GML3",ol.format.GML3,OPENLAYERS);goog.exportProperty(ol.format.GML3.prototype,"writeGeometryNode",ol.format.GML3.prototype.writeGeometryNode);goog.exportProperty(ol.format.GML3.prototype,"writeFeatures",ol.format.GML3.prototype.writeFeatures);goog.exportProperty(ol.format.GML3.prototype,"writeFeaturesNode",ol.format.GML3.prototype.writeFeaturesNode);goog.exportProperty(ol.format.GMLBase.prototype,"readFeatures",ol.format.GMLBase.prototype.readFeatures);goog.exportSymbol("ol.format.GPX",ol.format.GPX,OPENLAYERS);goog.exportProperty(ol.format.GPX.prototype,"readFeature",ol.format.GPX.prototype.readFeature);goog.exportProperty(ol.format.GPX.prototype,"readFeatures",ol.format.GPX.prototype.readFeatures);goog.exportProperty(ol.format.GPX.prototype,"readProjection",ol.format.GPX.prototype.readProjection);goog.exportProperty(ol.format.GPX.prototype,"writeFeatures",ol.format.GPX.prototype.writeFeatures);goog.exportProperty(ol.format.GPX.prototype,"writeFeaturesNode",ol.format.GPX.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.IGC",ol.format.IGC,OPENLAYERS);
goog.exportProperty(ol.format.IGC.prototype,"readFeature",ol.format.IGC.prototype.readFeature);goog.exportProperty(ol.format.IGC.prototype,"readFeatures",ol.format.IGC.prototype.readFeatures);goog.exportProperty(ol.format.IGC.prototype,"readProjection",ol.format.IGC.prototype.readProjection);goog.exportSymbol("ol.format.KML",ol.format.KML,OPENLAYERS);goog.exportProperty(ol.format.KML.prototype,"readFeature",ol.format.KML.prototype.readFeature);goog.exportProperty(ol.format.KML.prototype,"readFeatures",ol.format.KML.prototype.readFeatures);goog.exportProperty(ol.format.KML.prototype,"readName",ol.format.KML.prototype.readName);goog.exportProperty(ol.format.KML.prototype,"readNetworkLinks",ol.format.KML.prototype.readNetworkLinks);goog.exportProperty(ol.format.KML.prototype,"readRegion",ol.format.KML.prototype.readRegion);goog.exportProperty(ol.format.KML.prototype,"readRegionFromNode",ol.format.KML.prototype.readRegionFromNode);goog.exportProperty(ol.format.KML.prototype,"readProjection",ol.format.KML.prototype.readProjection);goog.exportProperty(ol.format.KML.prototype,"writeFeatures",ol.format.KML.prototype.writeFeatures);goog.exportProperty(ol.format.KML.prototype,"writeFeaturesNode",ol.format.KML.prototype.writeFeaturesNode);goog.exportSymbol("ol.format.MVT",ol.format.MVT,OPENLAYERS);goog.exportProperty(ol.format.MVT.prototype,"readFeatures",ol.format.MVT.prototype.readFeatures);goog.exportProperty(ol.format.MVT.prototype,"readProjection",ol.format.MVT.prototype.readProjection);goog.exportProperty(ol.format.MVT.prototype,"setLayers",ol.format.MVT.prototype.setLayers);goog.exportSymbol("ol.format.OSMXML",ol.format.OSMXML,OPENLAYERS);goog.exportProperty(ol.format.OSMXML.prototype,"readFeatures",ol.format.OSMXML.prototype.readFeatures);goog.exportProperty(ol.format.OSMXML.prototype,"readProjection",ol.format.OSMXML.prototype.readProjection);goog.exportSymbol("ol.format.Polyline",ol.format.Polyline,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.encodeDeltas",ol.format.Polyline.encodeDeltas,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.decodeDeltas",ol.format.Polyline.decodeDeltas,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.encodeFloats",ol.format.Polyline.encodeFloats,OPENLAYERS);goog.exportSymbol("ol.format.Polyline.decodeFloats",ol.format.Polyline.decodeFloats,OPENLAYERS);goog.exportProperty(ol.format.Polyline.prototype,"readFeature",ol.format.Polyline.prototype.readFeature);goog.exportProperty(ol.format.Polyline.prototype,"readFeatures",ol.format.Polyline.prototype.readFeatures);goog.exportProperty(ol.format.Polyline.prototype,"readGeometry",ol.format.Polyline.prototype.readGeometry);goog.exportProperty(ol.format.Polyline.prototype,"readProjection",ol.format.Polyline.prototype.readProjection);goog.exportProperty(ol.format.Polyline.prototype,"writeGeometry",ol.format.Polyline.prototype.writeGeometry);goog.exportSymbol("ol.format.TopoJSON",ol.format.TopoJSON,OPENLAYERS);goog.exportProperty(ol.format.TopoJSON.prototype,"readFeatures",ol.format.TopoJSON.prototype.readFeatures);goog.exportProperty(ol.format.TopoJSON.prototype,"readProjection",ol.format.TopoJSON.prototype.readProjection);goog.exportSymbol("ol.format.WFS",ol.format.WFS,OPENLAYERS);goog.exportProperty(ol.format.WFS.prototype,"readFeatures",ol.format.WFS.prototype.readFeatures);goog.exportProperty(ol.format.WFS.prototype,"readTransactionResponse",ol.format.WFS.prototype.readTransactionResponse);goog.exportProperty(ol.format.WFS.prototype,"readFeatureCollectionMetadata",ol.format.WFS.prototype.readFeatureCollectionMetadata);goog.exportProperty(ol.format.WFS.prototype,"writeGetFeature",ol.format.WFS.prototype.writeGetFeature);goog.exportProperty(ol.format.WFS.prototype,"writeTransaction",ol.format.WFS.prototype.writeTransaction);goog.exportProperty(ol.format.WFS.prototype,"readProjection",ol.format.WFS.prototype.readProjection);goog.exportSymbol("ol.format.WKT",ol.format.WKT,OPENLAYERS);goog.exportProperty(ol.format.WKT.prototype,"readFeature",ol.format.WKT.prototype.readFeature);goog.exportProperty(ol.format.WKT.prototype,"readFeatures",ol.format.WKT.prototype.readFeatures);goog.exportProperty(ol.format.WKT.prototype,"readGeometry",ol.format.WKT.prototype.readGeometry);goog.exportProperty(ol.format.WKT.prototype,"writeFeature",ol.format.WKT.prototype.writeFeature);goog.exportProperty(ol.format.WKT.prototype,"writeFeatures",ol.format.WKT.prototype.writeFeatures);goog.exportProperty(ol.format.WKT.prototype,"writeGeometry",ol.format.WKT.prototype.writeGeometry);goog.exportSymbol("ol.format.WMSCapabilities",ol.format.WMSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMSCapabilities.prototype,"read",ol.format.WMSCapabilities.prototype.read);goog.exportSymbol("ol.format.WMSGetFeatureInfo",ol.format.WMSGetFeatureInfo,OPENLAYERS);goog.exportProperty(ol.format.WMSGetFeatureInfo.prototype,"readFeatures",ol.format.WMSGetFeatureInfo.prototype.readFeatures);goog.exportSymbol("ol.format.WMTSCapabilities",ol.format.WMTSCapabilities,OPENLAYERS);goog.exportProperty(ol.format.WMTSCapabilities.prototype,"read",ol.format.WMTSCapabilities.prototype.read);goog.exportSymbol("ol.format.filter.And",ol.format.filter.And,OPENLAYERS);goog.exportSymbol("ol.format.filter.Bbox",ol.format.filter.Bbox,OPENLAYERS);goog.exportSymbol("ol.format.filter.Comparison",ol.format.filter.Comparison,OPENLAYERS);goog.exportSymbol("ol.format.filter.ComparisonBinary",ol.format.filter.ComparisonBinary,OPENLAYERS);goog.exportSymbol("ol.format.filter.EqualTo",ol.format.filter.EqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Filter",ol.format.filter.Filter,OPENLAYERS);goog.exportSymbol("ol.format.filter.GreaterThan",ol.format.filter.GreaterThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.GreaterThanOrEqualTo",ol.format.filter.GreaterThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Intersects",ol.format.filter.Intersects,OPENLAYERS);goog.exportSymbol("ol.format.filter.IsBetween",ol.format.filter.IsBetween,OPENLAYERS);goog.exportSymbol("ol.format.filter.IsLike",ol.format.filter.IsLike,OPENLAYERS);goog.exportSymbol("ol.format.filter.IsNull",ol.format.filter.IsNull,OPENLAYERS);goog.exportSymbol("ol.format.filter.LessThan",ol.format.filter.LessThan,OPENLAYERS);goog.exportSymbol("ol.format.filter.LessThanOrEqualTo",ol.format.filter.LessThanOrEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Not",ol.format.filter.Not,OPENLAYERS);goog.exportSymbol("ol.format.filter.NotEqualTo",ol.format.filter.NotEqualTo,OPENLAYERS);goog.exportSymbol("ol.format.filter.Or",ol.format.filter.Or,OPENLAYERS);goog.exportSymbol("ol.format.filter.Spatial",ol.format.filter.Spatial,OPENLAYERS);goog.exportSymbol("ol.format.filter.Within",ol.format.filter.Within,OPENLAYERS);goog.exportSymbol("ol.events.condition.altKeyOnly",ol.events.condition.altKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.altShiftKeysOnly",ol.events.condition.altShiftKeysOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.always",ol.events.condition.always,OPENLAYERS);goog.exportSymbol("ol.events.condition.click",ol.events.condition.click,OPENLAYERS);goog.exportSymbol("ol.events.condition.never",ol.events.condition.never,OPENLAYERS);goog.exportSymbol("ol.events.condition.pointerMove",ol.events.condition.pointerMove,OPENLAYERS);goog.exportSymbol("ol.events.condition.singleClick",ol.events.condition.singleClick,OPENLAYERS);goog.exportSymbol("ol.events.condition.doubleClick",ol.events.condition.doubleClick,OPENLAYERS);goog.exportSymbol("ol.events.condition.noModifierKeys",ol.events.condition.noModifierKeys,OPENLAYERS);goog.exportSymbol("ol.events.condition.platformModifierKeyOnly",ol.events.condition.platformModifierKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.shiftKeyOnly",ol.events.condition.shiftKeyOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.targetNotEditable",ol.events.condition.targetNotEditable,OPENLAYERS);goog.exportSymbol("ol.events.condition.mouseOnly",ol.events.condition.mouseOnly,OPENLAYERS);goog.exportSymbol("ol.events.condition.primaryAction",ol.events.condition.primaryAction,OPENLAYERS);goog.exportProperty(ol.events.Event.prototype,"type",ol.events.Event.prototype.type);goog.exportProperty(ol.events.Event.prototype,"target",ol.events.Event.prototype.target);goog.exportProperty(ol.events.Event.prototype,"preventDefault",ol.events.Event.prototype.preventDefault);goog.exportProperty(ol.events.Event.prototype,"stopPropagation",ol.events.Event.prototype.stopPropagation);goog.exportSymbol("ol.control.Attribution",ol.control.Attribution,OPENLAYERS);goog.exportSymbol("ol.control.Attribution.render",ol.control.Attribution.render,OPENLAYERS);goog.exportProperty(ol.control.Attribution.prototype,"getCollapsible",ol.control.Attribution.prototype.getCollapsible);goog.exportProperty(ol.control.Attribution.prototype,"setCollapsible",ol.control.Attribution.prototype.setCollapsible);goog.exportProperty(ol.control.Attribution.prototype,"setCollapsed",ol.control.Attribution.prototype.setCollapsed);goog.exportProperty(ol.control.Attribution.prototype,"getCollapsed",ol.control.Attribution.prototype.getCollapsed);goog.exportSymbol("ol.control.Control",ol.control.Control,OPENLAYERS);goog.exportProperty(ol.control.Control.prototype,"getMap",ol.control.Control.prototype.getMap);goog.exportProperty(ol.control.Control.prototype,"setMap",ol.control.Control.prototype.setMap);goog.exportProperty(ol.control.Control.prototype,"setTarget",ol.control.Control.prototype.setTarget);goog.exportSymbol("ol.control.FullScreen",ol.control.FullScreen,OPENLAYERS);goog.exportSymbol("ol.control.MousePosition",ol.control.MousePosition,OPENLAYERS);goog.exportSymbol("ol.control.MousePosition.render",ol.control.MousePosition.render,OPENLAYERS);goog.exportProperty(ol.control.MousePosition.prototype,"getCoordinateFormat",ol.control.MousePosition.prototype.getCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,"getProjection",ol.control.MousePosition.prototype.getProjection);goog.exportProperty(ol.control.MousePosition.prototype,"setCoordinateFormat",ol.control.MousePosition.prototype.setCoordinateFormat);goog.exportProperty(ol.control.MousePosition.prototype,"setProjection",ol.control.MousePosition.prototype.setProjection);goog.exportSymbol("ol.control.OverviewMap",ol.control.OverviewMap,OPENLAYERS);goog.exportSymbol("ol.control.OverviewMap.render",ol.control.OverviewMap.render,OPENLAYERS);goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsible",ol.control.OverviewMap.prototype.getCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsible",ol.control.OverviewMap.prototype.setCollapsible);goog.exportProperty(ol.control.OverviewMap.prototype,"setCollapsed",ol.control.OverviewMap.prototype.setCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,"getCollapsed",ol.control.OverviewMap.prototype.getCollapsed);goog.exportProperty(ol.control.OverviewMap.prototype,"getOverviewMap",ol.control.OverviewMap.prototype.getOverviewMap);goog.exportSymbol("ol.control.Rotate",ol.control.Rotate,OPENLAYERS);goog.exportSymbol("ol.control.Rotate.render",ol.control.Rotate.render,OPENLAYERS);goog.exportSymbol("ol.control.ScaleLine",ol.control.ScaleLine,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,"getUnits",ol.control.ScaleLine.prototype.getUnits);goog.exportSymbol("ol.control.ScaleLine.render",ol.control.ScaleLine.render,OPENLAYERS);goog.exportProperty(ol.control.ScaleLine.prototype,"setUnits",ol.control.ScaleLine.prototype.setUnits);goog.exportSymbol("ol.control.Zoom",ol.control.Zoom,OPENLAYERS);goog.exportSymbol("ol.control.ZoomSlider",ol.control.ZoomSlider,OPENLAYERS);goog.exportSymbol("ol.control.ZoomSlider.render",ol.control.ZoomSlider.render,OPENLAYERS);goog.exportSymbol("ol.control.ZoomToExtent",ol.control.ZoomToExtent,OPENLAYERS);goog.exportProperty(ol.Object.prototype,"changed",ol.Object.prototype.changed);goog.exportProperty(ol.Object.prototype,"dispatchEvent",ol.Object.prototype.dispatchEvent);goog.exportProperty(ol.Object.prototype,"getRevision",ol.Object.prototype.getRevision);goog.exportProperty(ol.Object.prototype,"on",ol.Object.prototype.on);goog.exportProperty(ol.Object.prototype,"once",ol.Object.prototype.once);goog.exportProperty(ol.Object.prototype,"un",ol.Object.prototype.un);goog.exportProperty(ol.Collection.prototype,"get",ol.Collection.prototype.get);goog.exportProperty(ol.Collection.prototype,"getKeys",ol.Collection.prototype.getKeys);goog.exportProperty(ol.Collection.prototype,"getProperties",ol.Collection.prototype.getProperties);goog.exportProperty(ol.Collection.prototype,"set",ol.Collection.prototype.set);goog.exportProperty(ol.Collection.prototype,"setProperties",ol.Collection.prototype.setProperties);goog.exportProperty(ol.Collection.prototype,"unset",ol.Collection.prototype.unset);goog.exportProperty(ol.Collection.prototype,"changed",ol.Collection.prototype.changed);goog.exportProperty(ol.Collection.prototype,"dispatchEvent",ol.Collection.prototype.dispatchEvent);goog.exportProperty(ol.Collection.prototype,"getRevision",ol.Collection.prototype.getRevision);goog.exportProperty(ol.Collection.prototype,"on",ol.Collection.prototype.on);goog.exportProperty(ol.Collection.prototype,"once",ol.Collection.prototype.once);goog.exportProperty(ol.Collection.prototype,"un",ol.Collection.prototype.un);goog.exportProperty(ol.Collection.Event.prototype,"type",ol.Collection.Event.prototype.type);goog.exportProperty(ol.Collection.Event.prototype,"target",ol.Collection.Event.prototype.target);goog.exportProperty(ol.Collection.Event.prototype,"preventDefault",ol.Collection.Event.prototype.preventDefault);goog.exportProperty(ol.Collection.Event.prototype,"stopPropagation",ol.Collection.Event.prototype.stopPropagation);goog.exportProperty(ol.DeviceOrientation.prototype,"get",ol.DeviceOrientation.prototype.get);goog.exportProperty(ol.DeviceOrientation.prototype,"getKeys",ol.DeviceOrientation.prototype.getKeys);goog.exportProperty(ol.DeviceOrientation.prototype,"getProperties",ol.DeviceOrientation.prototype.getProperties);goog.exportProperty(ol.DeviceOrientation.prototype,"set",ol.DeviceOrientation.prototype.set);goog.exportProperty(ol.DeviceOrientation.prototype,"setProperties",ol.DeviceOrientation.prototype.setProperties);goog.exportProperty(ol.DeviceOrientation.prototype,"unset",ol.DeviceOrientation.prototype.unset);goog.exportProperty(ol.DeviceOrientation.prototype,"changed",ol.DeviceOrientation.prototype.changed);goog.exportProperty(ol.DeviceOrientation.prototype,"dispatchEvent",ol.DeviceOrientation.prototype.dispatchEvent);goog.exportProperty(ol.DeviceOrientation.prototype,"getRevision",ol.DeviceOrientation.prototype.getRevision);goog.exportProperty(ol.DeviceOrientation.prototype,"on",ol.DeviceOrientation.prototype.on);goog.exportProperty(ol.DeviceOrientation.prototype,"once",ol.DeviceOrientation.prototype.once);goog.exportProperty(ol.DeviceOrientation.prototype,"un",ol.DeviceOrientation.prototype.un);goog.exportProperty(ol.Feature.prototype,"get",ol.Feature.prototype.get);goog.exportProperty(ol.Feature.prototype,"getKeys",ol.Feature.prototype.getKeys);goog.exportProperty(ol.Feature.prototype,"getProperties",ol.Feature.prototype.getProperties);goog.exportProperty(ol.Feature.prototype,"set",ol.Feature.prototype.set);goog.exportProperty(ol.Feature.prototype,"setProperties",ol.Feature.prototype.setProperties);goog.exportProperty(ol.Feature.prototype,"unset",ol.Feature.prototype.unset);goog.exportProperty(ol.Feature.prototype,"changed",ol.Feature.prototype.changed);goog.exportProperty(ol.Feature.prototype,"dispatchEvent",ol.Feature.prototype.dispatchEvent);goog.exportProperty(ol.Feature.prototype,"getRevision",ol.Feature.prototype.getRevision);goog.exportProperty(ol.Feature.prototype,"on",ol.Feature.prototype.on);goog.exportProperty(ol.Feature.prototype,"once",ol.Feature.prototype.once);goog.exportProperty(ol.Feature.prototype,"un",ol.Feature.prototype.un);goog.exportProperty(ol.Geolocation.prototype,"get",ol.Geolocation.prototype.get);goog.exportProperty(ol.Geolocation.prototype,"getKeys",ol.Geolocation.prototype.getKeys);goog.exportProperty(ol.Geolocation.prototype,"getProperties",ol.Geolocation.prototype.getProperties);goog.exportProperty(ol.Geolocation.prototype,"set",ol.Geolocation.prototype.set);goog.exportProperty(ol.Geolocation.prototype,"setProperties",ol.Geolocation.prototype.setProperties);goog.exportProperty(ol.Geolocation.prototype,"unset",ol.Geolocation.prototype.unset);goog.exportProperty(ol.Geolocation.prototype,"changed",ol.Geolocation.prototype.changed);goog.exportProperty(ol.Geolocation.prototype,"dispatchEvent",ol.Geolocation.prototype.dispatchEvent);goog.exportProperty(ol.Geolocation.prototype,"getRevision",ol.Geolocation.prototype.getRevision);goog.exportProperty(ol.Geolocation.prototype,"on",ol.Geolocation.prototype.on);goog.exportProperty(ol.Geolocation.prototype,"once",ol.Geolocation.prototype.once);goog.exportProperty(ol.Geolocation.prototype,"un",ol.Geolocation.prototype.un);goog.exportProperty(ol.ImageTile.prototype,"getTileCoord",ol.ImageTile.prototype.getTileCoord);goog.exportProperty(ol.ImageTile.prototype,"load",ol.ImageTile.prototype.load);goog.exportProperty(ol.Map.prototype,"get",ol.Map.prototype.get);goog.exportProperty(ol.Map.prototype,"getKeys",ol.Map.prototype.getKeys);goog.exportProperty(ol.Map.prototype,"getProperties",ol.Map.prototype.getProperties);goog.exportProperty(ol.Map.prototype,"set",ol.Map.prototype.set);goog.exportProperty(ol.Map.prototype,"setProperties",ol.Map.prototype.setProperties);goog.exportProperty(ol.Map.prototype,"unset",ol.Map.prototype.unset);goog.exportProperty(ol.Map.prototype,"changed",ol.Map.prototype.changed);goog.exportProperty(ol.Map.prototype,"dispatchEvent",ol.Map.prototype.dispatchEvent);goog.exportProperty(ol.Map.prototype,"getRevision",ol.Map.prototype.getRevision);goog.exportProperty(ol.Map.prototype,"on",ol.Map.prototype.on);goog.exportProperty(ol.Map.prototype,"once",ol.Map.prototype.once);goog.exportProperty(ol.Map.prototype,"un",ol.Map.prototype.un);goog.exportProperty(ol.MapEvent.prototype,"type",ol.MapEvent.prototype.type);goog.exportProperty(ol.MapEvent.prototype,"target",ol.MapEvent.prototype.target);goog.exportProperty(ol.MapEvent.prototype,"preventDefault",ol.MapEvent.prototype.preventDefault);goog.exportProperty(ol.MapEvent.prototype,"stopPropagation",ol.MapEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserEvent.prototype,"map",ol.MapBrowserEvent.prototype.map);goog.exportProperty(ol.MapBrowserEvent.prototype,"frameState",ol.MapBrowserEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserEvent.prototype,"type",ol.MapBrowserEvent.prototype.type);goog.exportProperty(ol.MapBrowserEvent.prototype,"target",ol.MapBrowserEvent.prototype.target);goog.exportProperty(ol.MapBrowserEvent.prototype,"preventDefault",ol.MapBrowserEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserEvent.prototype,"stopPropagation",ol.MapBrowserEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"originalEvent",ol.MapBrowserPointerEvent.prototype.originalEvent);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"pixel",ol.MapBrowserPointerEvent.prototype.pixel);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"coordinate",ol.MapBrowserPointerEvent.prototype.coordinate);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"dragging",ol.MapBrowserPointerEvent.prototype.dragging);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"preventDefault",ol.MapBrowserPointerEvent.prototype.preventDefault);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"stopPropagation",ol.MapBrowserPointerEvent.prototype.stopPropagation);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"map",ol.MapBrowserPointerEvent.prototype.map);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"frameState",ol.MapBrowserPointerEvent.prototype.frameState);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"type",ol.MapBrowserPointerEvent.prototype.type);goog.exportProperty(ol.MapBrowserPointerEvent.prototype,"target",ol.MapBrowserPointerEvent.prototype.target);goog.exportProperty(ol.Object.Event.prototype,"type",ol.Object.Event.prototype.type);goog.exportProperty(ol.Object.Event.prototype,"target",ol.Object.Event.prototype.target);goog.exportProperty(ol.Object.Event.prototype,"preventDefault",ol.Object.Event.prototype.preventDefault);goog.exportProperty(ol.Object.Event.prototype,"stopPropagation",ol.Object.Event.prototype.stopPropagation);goog.exportProperty(ol.Overlay.prototype,"get",ol.Overlay.prototype.get);goog.exportProperty(ol.Overlay.prototype,"getKeys",ol.Overlay.prototype.getKeys);goog.exportProperty(ol.Overlay.prototype,"getProperties",ol.Overlay.prototype.getProperties);goog.exportProperty(ol.Overlay.prototype,"set",ol.Overlay.prototype.set);goog.exportProperty(ol.Overlay.prototype,"setProperties",ol.Overlay.prototype.setProperties);goog.exportProperty(ol.Overlay.prototype,"unset",ol.Overlay.prototype.unset);goog.exportProperty(ol.Overlay.prototype,"changed",ol.Overlay.prototype.changed);goog.exportProperty(ol.Overlay.prototype,"dispatchEvent",ol.Overlay.prototype.dispatchEvent);goog.exportProperty(ol.Overlay.prototype,"getRevision",ol.Overlay.prototype.getRevision);goog.exportProperty(ol.Overlay.prototype,"on",ol.Overlay.prototype.on);goog.exportProperty(ol.Overlay.prototype,"once",ol.Overlay.prototype.once);goog.exportProperty(ol.Overlay.prototype,"un",ol.Overlay.prototype.un);goog.exportProperty(ol.VectorTile.prototype,"getTileCoord",ol.VectorTile.prototype.getTileCoord);goog.exportProperty(ol.VectorTile.prototype,"load",ol.VectorTile.prototype.load);goog.exportProperty(ol.View.prototype,"get",ol.View.prototype.get);goog.exportProperty(ol.View.prototype,"getKeys",ol.View.prototype.getKeys);goog.exportProperty(ol.View.prototype,"getProperties",ol.View.prototype.getProperties);goog.exportProperty(ol.View.prototype,"set",ol.View.prototype.set);goog.exportProperty(ol.View.prototype,"setProperties",ol.View.prototype.setProperties);goog.exportProperty(ol.View.prototype,"unset",ol.View.prototype.unset);goog.exportProperty(ol.View.prototype,"changed",ol.View.prototype.changed);goog.exportProperty(ol.View.prototype,"dispatchEvent",ol.View.prototype.dispatchEvent);goog.exportProperty(ol.View.prototype,"getRevision",ol.View.prototype.getRevision);goog.exportProperty(ol.View.prototype,"on",ol.View.prototype.on);goog.exportProperty(ol.View.prototype,"once",ol.View.prototype.once);goog.exportProperty(ol.View.prototype,"un",ol.View.prototype.un);goog.exportProperty(ol.tilegrid.WMTS.prototype,"forEachTileCoord",ol.tilegrid.WMTS.prototype.forEachTileCoord);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMaxZoom",ol.tilegrid.WMTS.prototype.getMaxZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getMinZoom",ol.tilegrid.WMTS.prototype.getMinZoom);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getOrigin",ol.tilegrid.WMTS.prototype.getOrigin);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolution",ol.tilegrid.WMTS.prototype.getResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getResolutions",ol.tilegrid.WMTS.prototype.getResolutions);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordExtent",ol.tilegrid.WMTS.prototype.getTileCoordExtent);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndResolution",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndResolution);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileCoordForCoordAndZ",ol.tilegrid.WMTS.prototype.getTileCoordForCoordAndZ);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getTileSize",ol.tilegrid.WMTS.prototype.getTileSize);goog.exportProperty(ol.tilegrid.WMTS.prototype,"getZForResolution",ol.tilegrid.WMTS.prototype.getZForResolution);goog.exportProperty(ol.style.RegularShape.prototype,"getOpacity",ol.style.RegularShape.prototype.getOpacity);goog.exportProperty(ol.style.RegularShape.prototype,"getRotateWithView",ol.style.RegularShape.prototype.getRotateWithView);goog.exportProperty(ol.style.RegularShape.prototype,"getRotation",ol.style.RegularShape.prototype.getRotation);goog.exportProperty(ol.style.RegularShape.prototype,"getScale",ol.style.RegularShape.prototype.getScale);goog.exportProperty(ol.style.RegularShape.prototype,"getSnapToPixel",ol.style.RegularShape.prototype.getSnapToPixel);goog.exportProperty(ol.style.RegularShape.prototype,"setOpacity",ol.style.RegularShape.prototype.setOpacity);goog.exportProperty(ol.style.RegularShape.prototype,"setRotation",ol.style.RegularShape.prototype.setRotation);goog.exportProperty(ol.style.RegularShape.prototype,"setScale",ol.style.RegularShape.prototype.setScale);goog.exportProperty(ol.style.Circle.prototype,"clone",ol.style.Circle.prototype.clone);goog.exportProperty(ol.style.Circle.prototype,"getAngle",ol.style.Circle.prototype.getAngle);goog.exportProperty(ol.style.Circle.prototype,"getFill",ol.style.Circle.prototype.getFill);goog.exportProperty(ol.style.Circle.prototype,"getPoints",ol.style.Circle.prototype.getPoints);goog.exportProperty(ol.style.Circle.prototype,"getRadius",ol.style.Circle.prototype.getRadius);goog.exportProperty(ol.style.Circle.prototype,"getRadius2",ol.style.Circle.prototype.getRadius2);goog.exportProperty(ol.style.Circle.prototype,"getStroke",ol.style.Circle.prototype.getStroke);goog.exportProperty(ol.style.Circle.prototype,"getOpacity",ol.style.Circle.prototype.getOpacity);goog.exportProperty(ol.style.Circle.prototype,"getRotateWithView",ol.style.Circle.prototype.getRotateWithView);goog.exportProperty(ol.style.Circle.prototype,"getRotation",ol.style.Circle.prototype.getRotation);goog.exportProperty(ol.style.Circle.prototype,"getScale",ol.style.Circle.prototype.getScale);goog.exportProperty(ol.style.Circle.prototype,"getSnapToPixel",ol.style.Circle.prototype.getSnapToPixel);goog.exportProperty(ol.style.Circle.prototype,"setOpacity",ol.style.Circle.prototype.setOpacity);goog.exportProperty(ol.style.Circle.prototype,"setRotation",ol.style.Circle.prototype.setRotation);goog.exportProperty(ol.style.Circle.prototype,"setScale",ol.style.Circle.prototype.setScale);goog.exportProperty(ol.style.Icon.prototype,"getOpacity",ol.style.Icon.prototype.getOpacity);goog.exportProperty(ol.style.Icon.prototype,"getRotateWithView",ol.style.Icon.prototype.getRotateWithView);goog.exportProperty(ol.style.Icon.prototype,"getRotation",ol.style.Icon.prototype.getRotation);goog.exportProperty(ol.style.Icon.prototype,"getScale",ol.style.Icon.prototype.getScale);goog.exportProperty(ol.style.Icon.prototype,"getSnapToPixel",ol.style.Icon.prototype.getSnapToPixel);goog.exportProperty(ol.style.Icon.prototype,"setOpacity",ol.style.Icon.prototype.setOpacity);goog.exportProperty(ol.style.Icon.prototype,"setRotation",ol.style.Icon.prototype.setRotation);goog.exportProperty(ol.style.Icon.prototype,"setScale",ol.style.Icon.prototype.setScale);goog.exportProperty(ol.source.Source.prototype,"get",ol.source.Source.prototype.get);goog.exportProperty(ol.source.Source.prototype,"getKeys",ol.source.Source.prototype.getKeys);goog.exportProperty(ol.source.Source.prototype,"getProperties",ol.source.Source.prototype.getProperties);goog.exportProperty(ol.source.Source.prototype,"set",ol.source.Source.prototype.set);goog.exportProperty(ol.source.Source.prototype,"setProperties",ol.source.Source.prototype.setProperties);goog.exportProperty(ol.source.Source.prototype,"unset",ol.source.Source.prototype.unset);goog.exportProperty(ol.source.Source.prototype,"changed",ol.source.Source.prototype.changed);goog.exportProperty(ol.source.Source.prototype,"dispatchEvent",ol.source.Source.prototype.dispatchEvent);goog.exportProperty(ol.source.Source.prototype,"getRevision",ol.source.Source.prototype.getRevision);goog.exportProperty(ol.source.Source.prototype,"on",ol.source.Source.prototype.on);goog.exportProperty(ol.source.Source.prototype,"once",ol.source.Source.prototype.once);goog.exportProperty(ol.source.Source.prototype,"un",ol.source.Source.prototype.un);goog.exportProperty(ol.source.Tile.prototype,"getAttributions",ol.source.Tile.prototype.getAttributions);goog.exportProperty(ol.source.Tile.prototype,"getLogo",ol.source.Tile.prototype.getLogo);goog.exportProperty(ol.source.Tile.prototype,"getProjection",ol.source.Tile.prototype.getProjection);goog.exportProperty(ol.source.Tile.prototype,"getState",ol.source.Tile.prototype.getState);goog.exportProperty(ol.source.Tile.prototype,"refresh",ol.source.Tile.prototype.refresh);goog.exportProperty(ol.source.Tile.prototype,"setAttributions",ol.source.Tile.prototype.setAttributions);goog.exportProperty(ol.source.Tile.prototype,"get",ol.source.Tile.prototype.get);goog.exportProperty(ol.source.Tile.prototype,"getKeys",ol.source.Tile.prototype.getKeys);goog.exportProperty(ol.source.Tile.prototype,"getProperties",ol.source.Tile.prototype.getProperties);goog.exportProperty(ol.source.Tile.prototype,"set",ol.source.Tile.prototype.set);goog.exportProperty(ol.source.Tile.prototype,"setProperties",ol.source.Tile.prototype.setProperties);goog.exportProperty(ol.source.Tile.prototype,"unset",ol.source.Tile.prototype.unset);goog.exportProperty(ol.source.Tile.prototype,"changed",ol.source.Tile.prototype.changed);goog.exportProperty(ol.source.Tile.prototype,"dispatchEvent",ol.source.Tile.prototype.dispatchEvent);goog.exportProperty(ol.source.Tile.prototype,"getRevision",ol.source.Tile.prototype.getRevision);goog.exportProperty(ol.source.Tile.prototype,"on",ol.source.Tile.prototype.on);goog.exportProperty(ol.source.Tile.prototype,"once",ol.source.Tile.prototype.once);goog.exportProperty(ol.source.Tile.prototype,"un",ol.source.Tile.prototype.un);goog.exportProperty(ol.source.UrlTile.prototype,"getTileGrid",ol.source.UrlTile.prototype.getTileGrid);goog.exportProperty(ol.source.UrlTile.prototype,"refresh",ol.source.UrlTile.prototype.refresh);goog.exportProperty(ol.source.UrlTile.prototype,"getAttributions",ol.source.UrlTile.prototype.getAttributions);goog.exportProperty(ol.source.UrlTile.prototype,"getLogo",ol.source.UrlTile.prototype.getLogo);goog.exportProperty(ol.source.UrlTile.prototype,"getProjection",ol.source.UrlTile.prototype.getProjection);goog.exportProperty(ol.source.UrlTile.prototype,"getState",ol.source.UrlTile.prototype.getState);goog.exportProperty(ol.source.UrlTile.prototype,"setAttributions",ol.source.UrlTile.prototype.setAttributions);goog.exportProperty(ol.source.UrlTile.prototype,"get",ol.source.UrlTile.prototype.get);goog.exportProperty(ol.source.UrlTile.prototype,"getKeys",ol.source.UrlTile.prototype.getKeys);goog.exportProperty(ol.source.UrlTile.prototype,"getProperties",ol.source.UrlTile.prototype.getProperties);goog.exportProperty(ol.source.UrlTile.prototype,"set",ol.source.UrlTile.prototype.set);goog.exportProperty(ol.source.UrlTile.prototype,"setProperties",ol.source.UrlTile.prototype.setProperties);goog.exportProperty(ol.source.UrlTile.prototype,"unset",ol.source.UrlTile.prototype.unset);goog.exportProperty(ol.source.UrlTile.prototype,"changed",ol.source.UrlTile.prototype.changed);goog.exportProperty(ol.source.UrlTile.prototype,"dispatchEvent",ol.source.UrlTile.prototype.dispatchEvent);goog.exportProperty(ol.source.UrlTile.prototype,"getRevision",ol.source.UrlTile.prototype.getRevision);goog.exportProperty(ol.source.UrlTile.prototype,"on",ol.source.UrlTile.prototype.on);goog.exportProperty(ol.source.UrlTile.prototype,"once",ol.source.UrlTile.prototype.once);goog.exportProperty(ol.source.UrlTile.prototype,"un",ol.source.UrlTile.prototype.un);goog.exportProperty(ol.source.TileImage.prototype,"getTileLoadFunction",ol.source.TileImage.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,"getTileUrlFunction",ol.source.TileImage.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileImage.prototype,"getUrls",ol.source.TileImage.prototype.getUrls);goog.exportProperty(ol.source.TileImage.prototype,"setTileLoadFunction",ol.source.TileImage.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileImage.prototype,"setTileUrlFunction",ol.source.TileImage.prototype.setTileUrlFunction);
goog.exportProperty(ol.source.TileImage.prototype,"setUrl",ol.source.TileImage.prototype.setUrl);goog.exportProperty(ol.source.TileImage.prototype,"setUrls",ol.source.TileImage.prototype.setUrls);goog.exportProperty(ol.source.TileImage.prototype,"getTileGrid",ol.source.TileImage.prototype.getTileGrid);goog.exportProperty(ol.source.TileImage.prototype,"refresh",ol.source.TileImage.prototype.refresh);goog.exportProperty(ol.source.TileImage.prototype,"getAttributions",ol.source.TileImage.prototype.getAttributions);goog.exportProperty(ol.source.TileImage.prototype,"getLogo",ol.source.TileImage.prototype.getLogo);goog.exportProperty(ol.source.TileImage.prototype,"getProjection",ol.source.TileImage.prototype.getProjection);goog.exportProperty(ol.source.TileImage.prototype,"getState",ol.source.TileImage.prototype.getState);goog.exportProperty(ol.source.TileImage.prototype,"setAttributions",ol.source.TileImage.prototype.setAttributions);goog.exportProperty(ol.source.TileImage.prototype,"get",ol.source.TileImage.prototype.get);goog.exportProperty(ol.source.TileImage.prototype,"getKeys",ol.source.TileImage.prototype.getKeys);goog.exportProperty(ol.source.TileImage.prototype,"getProperties",ol.source.TileImage.prototype.getProperties);goog.exportProperty(ol.source.TileImage.prototype,"set",ol.source.TileImage.prototype.set);goog.exportProperty(ol.source.TileImage.prototype,"setProperties",ol.source.TileImage.prototype.setProperties);goog.exportProperty(ol.source.TileImage.prototype,"unset",ol.source.TileImage.prototype.unset);goog.exportProperty(ol.source.TileImage.prototype,"changed",ol.source.TileImage.prototype.changed);goog.exportProperty(ol.source.TileImage.prototype,"dispatchEvent",ol.source.TileImage.prototype.dispatchEvent);goog.exportProperty(ol.source.TileImage.prototype,"getRevision",ol.source.TileImage.prototype.getRevision);goog.exportProperty(ol.source.TileImage.prototype,"on",ol.source.TileImage.prototype.on);goog.exportProperty(ol.source.TileImage.prototype,"once",ol.source.TileImage.prototype.once);goog.exportProperty(ol.source.TileImage.prototype,"un",ol.source.TileImage.prototype.un);goog.exportProperty(ol.source.BingMaps.prototype,"setRenderReprojectionEdges",ol.source.BingMaps.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.BingMaps.prototype,"setTileGridForProjection",ol.source.BingMaps.prototype.setTileGridForProjection);goog.exportProperty(ol.source.BingMaps.prototype,"getTileLoadFunction",ol.source.BingMaps.prototype.getTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,"getTileUrlFunction",ol.source.BingMaps.prototype.getTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,"getUrls",ol.source.BingMaps.prototype.getUrls);goog.exportProperty(ol.source.BingMaps.prototype,"setTileLoadFunction",ol.source.BingMaps.prototype.setTileLoadFunction);goog.exportProperty(ol.source.BingMaps.prototype,"setTileUrlFunction",ol.source.BingMaps.prototype.setTileUrlFunction);goog.exportProperty(ol.source.BingMaps.prototype,"setUrl",ol.source.BingMaps.prototype.setUrl);goog.exportProperty(ol.source.BingMaps.prototype,"setUrls",ol.source.BingMaps.prototype.setUrls);goog.exportProperty(ol.source.BingMaps.prototype,"getTileGrid",ol.source.BingMaps.prototype.getTileGrid);goog.exportProperty(ol.source.BingMaps.prototype,"refresh",ol.source.BingMaps.prototype.refresh);goog.exportProperty(ol.source.BingMaps.prototype,"getAttributions",ol.source.BingMaps.prototype.getAttributions);goog.exportProperty(ol.source.BingMaps.prototype,"getLogo",ol.source.BingMaps.prototype.getLogo);goog.exportProperty(ol.source.BingMaps.prototype,"getProjection",ol.source.BingMaps.prototype.getProjection);goog.exportProperty(ol.source.BingMaps.prototype,"getState",ol.source.BingMaps.prototype.getState);goog.exportProperty(ol.source.BingMaps.prototype,"setAttributions",ol.source.BingMaps.prototype.setAttributions);goog.exportProperty(ol.source.BingMaps.prototype,"get",ol.source.BingMaps.prototype.get);goog.exportProperty(ol.source.BingMaps.prototype,"getKeys",ol.source.BingMaps.prototype.getKeys);goog.exportProperty(ol.source.BingMaps.prototype,"getProperties",ol.source.BingMaps.prototype.getProperties);goog.exportProperty(ol.source.BingMaps.prototype,"set",ol.source.BingMaps.prototype.set);goog.exportProperty(ol.source.BingMaps.prototype,"setProperties",ol.source.BingMaps.prototype.setProperties);goog.exportProperty(ol.source.BingMaps.prototype,"unset",ol.source.BingMaps.prototype.unset);goog.exportProperty(ol.source.BingMaps.prototype,"changed",ol.source.BingMaps.prototype.changed);goog.exportProperty(ol.source.BingMaps.prototype,"dispatchEvent",ol.source.BingMaps.prototype.dispatchEvent);goog.exportProperty(ol.source.BingMaps.prototype,"getRevision",ol.source.BingMaps.prototype.getRevision);goog.exportProperty(ol.source.BingMaps.prototype,"on",ol.source.BingMaps.prototype.on);goog.exportProperty(ol.source.BingMaps.prototype,"once",ol.source.BingMaps.prototype.once);goog.exportProperty(ol.source.BingMaps.prototype,"un",ol.source.BingMaps.prototype.un);goog.exportProperty(ol.source.XYZ.prototype,"setRenderReprojectionEdges",ol.source.XYZ.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.XYZ.prototype,"setTileGridForProjection",ol.source.XYZ.prototype.setTileGridForProjection);goog.exportProperty(ol.source.XYZ.prototype,"getTileLoadFunction",ol.source.XYZ.prototype.getTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,"getTileUrlFunction",ol.source.XYZ.prototype.getTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,"getUrls",ol.source.XYZ.prototype.getUrls);goog.exportProperty(ol.source.XYZ.prototype,"setTileLoadFunction",ol.source.XYZ.prototype.setTileLoadFunction);goog.exportProperty(ol.source.XYZ.prototype,"setTileUrlFunction",ol.source.XYZ.prototype.setTileUrlFunction);goog.exportProperty(ol.source.XYZ.prototype,"setUrl",ol.source.XYZ.prototype.setUrl);goog.exportProperty(ol.source.XYZ.prototype,"setUrls",ol.source.XYZ.prototype.setUrls);goog.exportProperty(ol.source.XYZ.prototype,"getTileGrid",ol.source.XYZ.prototype.getTileGrid);goog.exportProperty(ol.source.XYZ.prototype,"refresh",ol.source.XYZ.prototype.refresh);goog.exportProperty(ol.source.XYZ.prototype,"getAttributions",ol.source.XYZ.prototype.getAttributions);goog.exportProperty(ol.source.XYZ.prototype,"getLogo",ol.source.XYZ.prototype.getLogo);goog.exportProperty(ol.source.XYZ.prototype,"getProjection",ol.source.XYZ.prototype.getProjection);goog.exportProperty(ol.source.XYZ.prototype,"getState",ol.source.XYZ.prototype.getState);goog.exportProperty(ol.source.XYZ.prototype,"setAttributions",ol.source.XYZ.prototype.setAttributions);goog.exportProperty(ol.source.XYZ.prototype,"get",ol.source.XYZ.prototype.get);goog.exportProperty(ol.source.XYZ.prototype,"getKeys",ol.source.XYZ.prototype.getKeys);goog.exportProperty(ol.source.XYZ.prototype,"getProperties",ol.source.XYZ.prototype.getProperties);goog.exportProperty(ol.source.XYZ.prototype,"set",ol.source.XYZ.prototype.set);goog.exportProperty(ol.source.XYZ.prototype,"setProperties",ol.source.XYZ.prototype.setProperties);goog.exportProperty(ol.source.XYZ.prototype,"unset",ol.source.XYZ.prototype.unset);goog.exportProperty(ol.source.XYZ.prototype,"changed",ol.source.XYZ.prototype.changed);goog.exportProperty(ol.source.XYZ.prototype,"dispatchEvent",ol.source.XYZ.prototype.dispatchEvent);goog.exportProperty(ol.source.XYZ.prototype,"getRevision",ol.source.XYZ.prototype.getRevision);goog.exportProperty(ol.source.XYZ.prototype,"on",ol.source.XYZ.prototype.on);goog.exportProperty(ol.source.XYZ.prototype,"once",ol.source.XYZ.prototype.once);goog.exportProperty(ol.source.XYZ.prototype,"un",ol.source.XYZ.prototype.un);goog.exportProperty(ol.source.CartoDB.prototype,"setRenderReprojectionEdges",ol.source.CartoDB.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.CartoDB.prototype,"setTileGridForProjection",ol.source.CartoDB.prototype.setTileGridForProjection);goog.exportProperty(ol.source.CartoDB.prototype,"getTileLoadFunction",ol.source.CartoDB.prototype.getTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,"getTileUrlFunction",ol.source.CartoDB.prototype.getTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,"getUrls",ol.source.CartoDB.prototype.getUrls);goog.exportProperty(ol.source.CartoDB.prototype,"setTileLoadFunction",ol.source.CartoDB.prototype.setTileLoadFunction);goog.exportProperty(ol.source.CartoDB.prototype,"setTileUrlFunction",ol.source.CartoDB.prototype.setTileUrlFunction);goog.exportProperty(ol.source.CartoDB.prototype,"setUrl",ol.source.CartoDB.prototype.setUrl);goog.exportProperty(ol.source.CartoDB.prototype,"setUrls",ol.source.CartoDB.prototype.setUrls);goog.exportProperty(ol.source.CartoDB.prototype,"getTileGrid",ol.source.CartoDB.prototype.getTileGrid);goog.exportProperty(ol.source.CartoDB.prototype,"refresh",ol.source.CartoDB.prototype.refresh);goog.exportProperty(ol.source.CartoDB.prototype,"getAttributions",ol.source.CartoDB.prototype.getAttributions);goog.exportProperty(ol.source.CartoDB.prototype,"getLogo",ol.source.CartoDB.prototype.getLogo);goog.exportProperty(ol.source.CartoDB.prototype,"getProjection",ol.source.CartoDB.prototype.getProjection);goog.exportProperty(ol.source.CartoDB.prototype,"getState",ol.source.CartoDB.prototype.getState);goog.exportProperty(ol.source.CartoDB.prototype,"setAttributions",ol.source.CartoDB.prototype.setAttributions);goog.exportProperty(ol.source.CartoDB.prototype,"get",ol.source.CartoDB.prototype.get);goog.exportProperty(ol.source.CartoDB.prototype,"getKeys",ol.source.CartoDB.prototype.getKeys);goog.exportProperty(ol.source.CartoDB.prototype,"getProperties",ol.source.CartoDB.prototype.getProperties);goog.exportProperty(ol.source.CartoDB.prototype,"set",ol.source.CartoDB.prototype.set);goog.exportProperty(ol.source.CartoDB.prototype,"setProperties",ol.source.CartoDB.prototype.setProperties);goog.exportProperty(ol.source.CartoDB.prototype,"unset",ol.source.CartoDB.prototype.unset);goog.exportProperty(ol.source.CartoDB.prototype,"changed",ol.source.CartoDB.prototype.changed);goog.exportProperty(ol.source.CartoDB.prototype,"dispatchEvent",ol.source.CartoDB.prototype.dispatchEvent);goog.exportProperty(ol.source.CartoDB.prototype,"getRevision",ol.source.CartoDB.prototype.getRevision);goog.exportProperty(ol.source.CartoDB.prototype,"on",ol.source.CartoDB.prototype.on);goog.exportProperty(ol.source.CartoDB.prototype,"once",ol.source.CartoDB.prototype.once);goog.exportProperty(ol.source.CartoDB.prototype,"un",ol.source.CartoDB.prototype.un);goog.exportProperty(ol.source.Vector.prototype,"getAttributions",ol.source.Vector.prototype.getAttributions);goog.exportProperty(ol.source.Vector.prototype,"getLogo",ol.source.Vector.prototype.getLogo);goog.exportProperty(ol.source.Vector.prototype,"getProjection",ol.source.Vector.prototype.getProjection);goog.exportProperty(ol.source.Vector.prototype,"getState",ol.source.Vector.prototype.getState);goog.exportProperty(ol.source.Vector.prototype,"refresh",ol.source.Vector.prototype.refresh);goog.exportProperty(ol.source.Vector.prototype,"setAttributions",ol.source.Vector.prototype.setAttributions);goog.exportProperty(ol.source.Vector.prototype,"get",ol.source.Vector.prototype.get);goog.exportProperty(ol.source.Vector.prototype,"getKeys",ol.source.Vector.prototype.getKeys);goog.exportProperty(ol.source.Vector.prototype,"getProperties",ol.source.Vector.prototype.getProperties);goog.exportProperty(ol.source.Vector.prototype,"set",ol.source.Vector.prototype.set);goog.exportProperty(ol.source.Vector.prototype,"setProperties",ol.source.Vector.prototype.setProperties);goog.exportProperty(ol.source.Vector.prototype,"unset",ol.source.Vector.prototype.unset);goog.exportProperty(ol.source.Vector.prototype,"changed",ol.source.Vector.prototype.changed);goog.exportProperty(ol.source.Vector.prototype,"dispatchEvent",ol.source.Vector.prototype.dispatchEvent);goog.exportProperty(ol.source.Vector.prototype,"getRevision",ol.source.Vector.prototype.getRevision);goog.exportProperty(ol.source.Vector.prototype,"on",ol.source.Vector.prototype.on);goog.exportProperty(ol.source.Vector.prototype,"once",ol.source.Vector.prototype.once);goog.exportProperty(ol.source.Vector.prototype,"un",ol.source.Vector.prototype.un);goog.exportProperty(ol.source.Cluster.prototype,"addFeature",ol.source.Cluster.prototype.addFeature);goog.exportProperty(ol.source.Cluster.prototype,"addFeatures",ol.source.Cluster.prototype.addFeatures);goog.exportProperty(ol.source.Cluster.prototype,"clear",ol.source.Cluster.prototype.clear);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeature",ol.source.Cluster.prototype.forEachFeature);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureInExtent",ol.source.Cluster.prototype.forEachFeatureInExtent);goog.exportProperty(ol.source.Cluster.prototype,"forEachFeatureIntersectingExtent",ol.source.Cluster.prototype.forEachFeatureIntersectingExtent);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesCollection",ol.source.Cluster.prototype.getFeaturesCollection);goog.exportProperty(ol.source.Cluster.prototype,"getFeatures",ol.source.Cluster.prototype.getFeatures);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesAtCoordinate",ol.source.Cluster.prototype.getFeaturesAtCoordinate);goog.exportProperty(ol.source.Cluster.prototype,"getFeaturesInExtent",ol.source.Cluster.prototype.getFeaturesInExtent);goog.exportProperty(ol.source.Cluster.prototype,"getClosestFeatureToCoordinate",ol.source.Cluster.prototype.getClosestFeatureToCoordinate);goog.exportProperty(ol.source.Cluster.prototype,"getExtent",ol.source.Cluster.prototype.getExtent);goog.exportProperty(ol.source.Cluster.prototype,"getFeatureById",ol.source.Cluster.prototype.getFeatureById);goog.exportProperty(ol.source.Cluster.prototype,"getFormat",ol.source.Cluster.prototype.getFormat);goog.exportProperty(ol.source.Cluster.prototype,"getUrl",ol.source.Cluster.prototype.getUrl);goog.exportProperty(ol.source.Cluster.prototype,"removeFeature",ol.source.Cluster.prototype.removeFeature);goog.exportProperty(ol.source.Cluster.prototype,"getAttributions",ol.source.Cluster.prototype.getAttributions);goog.exportProperty(ol.source.Cluster.prototype,"getLogo",ol.source.Cluster.prototype.getLogo);goog.exportProperty(ol.source.Cluster.prototype,"getProjection",ol.source.Cluster.prototype.getProjection);goog.exportProperty(ol.source.Cluster.prototype,"getState",ol.source.Cluster.prototype.getState);goog.exportProperty(ol.source.Cluster.prototype,"refresh",ol.source.Cluster.prototype.refresh);goog.exportProperty(ol.source.Cluster.prototype,"setAttributions",ol.source.Cluster.prototype.setAttributions);goog.exportProperty(ol.source.Cluster.prototype,"get",ol.source.Cluster.prototype.get);goog.exportProperty(ol.source.Cluster.prototype,"getKeys",ol.source.Cluster.prototype.getKeys);goog.exportProperty(ol.source.Cluster.prototype,"getProperties",ol.source.Cluster.prototype.getProperties);goog.exportProperty(ol.source.Cluster.prototype,"set",ol.source.Cluster.prototype.set);goog.exportProperty(ol.source.Cluster.prototype,"setProperties",ol.source.Cluster.prototype.setProperties);goog.exportProperty(ol.source.Cluster.prototype,"unset",ol.source.Cluster.prototype.unset);goog.exportProperty(ol.source.Cluster.prototype,"changed",ol.source.Cluster.prototype.changed);goog.exportProperty(ol.source.Cluster.prototype,"dispatchEvent",ol.source.Cluster.prototype.dispatchEvent);goog.exportProperty(ol.source.Cluster.prototype,"getRevision",ol.source.Cluster.prototype.getRevision);goog.exportProperty(ol.source.Cluster.prototype,"on",ol.source.Cluster.prototype.on);goog.exportProperty(ol.source.Cluster.prototype,"once",ol.source.Cluster.prototype.once);goog.exportProperty(ol.source.Cluster.prototype,"un",ol.source.Cluster.prototype.un);goog.exportProperty(ol.source.Image.prototype,"getAttributions",ol.source.Image.prototype.getAttributions);goog.exportProperty(ol.source.Image.prototype,"getLogo",ol.source.Image.prototype.getLogo);goog.exportProperty(ol.source.Image.prototype,"getProjection",ol.source.Image.prototype.getProjection);goog.exportProperty(ol.source.Image.prototype,"getState",ol.source.Image.prototype.getState);goog.exportProperty(ol.source.Image.prototype,"refresh",ol.source.Image.prototype.refresh);goog.exportProperty(ol.source.Image.prototype,"setAttributions",ol.source.Image.prototype.setAttributions);goog.exportProperty(ol.source.Image.prototype,"get",ol.source.Image.prototype.get);goog.exportProperty(ol.source.Image.prototype,"getKeys",ol.source.Image.prototype.getKeys);goog.exportProperty(ol.source.Image.prototype,"getProperties",ol.source.Image.prototype.getProperties);goog.exportProperty(ol.source.Image.prototype,"set",ol.source.Image.prototype.set);goog.exportProperty(ol.source.Image.prototype,"setProperties",ol.source.Image.prototype.setProperties);goog.exportProperty(ol.source.Image.prototype,"unset",ol.source.Image.prototype.unset);goog.exportProperty(ol.source.Image.prototype,"changed",ol.source.Image.prototype.changed);goog.exportProperty(ol.source.Image.prototype,"dispatchEvent",ol.source.Image.prototype.dispatchEvent);goog.exportProperty(ol.source.Image.prototype,"getRevision",ol.source.Image.prototype.getRevision);goog.exportProperty(ol.source.Image.prototype,"on",ol.source.Image.prototype.on);goog.exportProperty(ol.source.Image.prototype,"once",ol.source.Image.prototype.once);goog.exportProperty(ol.source.Image.prototype,"un",ol.source.Image.prototype.un);goog.exportProperty(ol.source.Image.Event.prototype,"type",ol.source.Image.Event.prototype.type);goog.exportProperty(ol.source.Image.Event.prototype,"target",ol.source.Image.Event.prototype.target);goog.exportProperty(ol.source.Image.Event.prototype,"preventDefault",ol.source.Image.Event.prototype.preventDefault);goog.exportProperty(ol.source.Image.Event.prototype,"stopPropagation",ol.source.Image.Event.prototype.stopPropagation);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getAttributions",ol.source.ImageArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getLogo",ol.source.ImageArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProjection",ol.source.ImageArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getState",ol.source.ImageArcGISRest.prototype.getState);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"refresh",ol.source.ImageArcGISRest.prototype.refresh);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setAttributions",ol.source.ImageArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"get",ol.source.ImageArcGISRest.prototype.get);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getKeys",ol.source.ImageArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getProperties",ol.source.ImageArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"set",ol.source.ImageArcGISRest.prototype.set);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"setProperties",ol.source.ImageArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"unset",ol.source.ImageArcGISRest.prototype.unset);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"changed",ol.source.ImageArcGISRest.prototype.changed);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"dispatchEvent",ol.source.ImageArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"getRevision",ol.source.ImageArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"on",ol.source.ImageArcGISRest.prototype.on);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"once",ol.source.ImageArcGISRest.prototype.once);goog.exportProperty(ol.source.ImageArcGISRest.prototype,"un",ol.source.ImageArcGISRest.prototype.un);goog.exportProperty(ol.source.ImageCanvas.prototype,"getAttributions",ol.source.ImageCanvas.prototype.getAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,"getLogo",ol.source.ImageCanvas.prototype.getLogo);goog.exportProperty(ol.source.ImageCanvas.prototype,"getProjection",ol.source.ImageCanvas.prototype.getProjection);goog.exportProperty(ol.source.ImageCanvas.prototype,"getState",ol.source.ImageCanvas.prototype.getState);goog.exportProperty(ol.source.ImageCanvas.prototype,"refresh",ol.source.ImageCanvas.prototype.refresh);goog.exportProperty(ol.source.ImageCanvas.prototype,"setAttributions",ol.source.ImageCanvas.prototype.setAttributions);goog.exportProperty(ol.source.ImageCanvas.prototype,"get",ol.source.ImageCanvas.prototype.get);goog.exportProperty(ol.source.ImageCanvas.prototype,"getKeys",ol.source.ImageCanvas.prototype.getKeys);goog.exportProperty(ol.source.ImageCanvas.prototype,"getProperties",ol.source.ImageCanvas.prototype.getProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,"set",ol.source.ImageCanvas.prototype.set);goog.exportProperty(ol.source.ImageCanvas.prototype,"setProperties",ol.source.ImageCanvas.prototype.setProperties);goog.exportProperty(ol.source.ImageCanvas.prototype,"unset",ol.source.ImageCanvas.prototype.unset);goog.exportProperty(ol.source.ImageCanvas.prototype,"changed",ol.source.ImageCanvas.prototype.changed);goog.exportProperty(ol.source.ImageCanvas.prototype,"dispatchEvent",ol.source.ImageCanvas.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageCanvas.prototype,"getRevision",ol.source.ImageCanvas.prototype.getRevision);goog.exportProperty(ol.source.ImageCanvas.prototype,"on",ol.source.ImageCanvas.prototype.on);goog.exportProperty(ol.source.ImageCanvas.prototype,"once",ol.source.ImageCanvas.prototype.once);goog.exportProperty(ol.source.ImageCanvas.prototype,"un",ol.source.ImageCanvas.prototype.un);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getAttributions",ol.source.ImageMapGuide.prototype.getAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getLogo",ol.source.ImageMapGuide.prototype.getLogo);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProjection",ol.source.ImageMapGuide.prototype.getProjection);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getState",ol.source.ImageMapGuide.prototype.getState);goog.exportProperty(ol.source.ImageMapGuide.prototype,"refresh",ol.source.ImageMapGuide.prototype.refresh);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setAttributions",ol.source.ImageMapGuide.prototype.setAttributions);goog.exportProperty(ol.source.ImageMapGuide.prototype,"get",ol.source.ImageMapGuide.prototype.get);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getKeys",ol.source.ImageMapGuide.prototype.getKeys);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getProperties",ol.source.ImageMapGuide.prototype.getProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,"set",ol.source.ImageMapGuide.prototype.set);goog.exportProperty(ol.source.ImageMapGuide.prototype,"setProperties",ol.source.ImageMapGuide.prototype.setProperties);goog.exportProperty(ol.source.ImageMapGuide.prototype,"unset",ol.source.ImageMapGuide.prototype.unset);goog.exportProperty(ol.source.ImageMapGuide.prototype,"changed",ol.source.ImageMapGuide.prototype.changed);goog.exportProperty(ol.source.ImageMapGuide.prototype,"dispatchEvent",ol.source.ImageMapGuide.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageMapGuide.prototype,"getRevision",ol.source.ImageMapGuide.prototype.getRevision);goog.exportProperty(ol.source.ImageMapGuide.prototype,"on",ol.source.ImageMapGuide.prototype.on);goog.exportProperty(ol.source.ImageMapGuide.prototype,"once",ol.source.ImageMapGuide.prototype.once);goog.exportProperty(ol.source.ImageMapGuide.prototype,"un",ol.source.ImageMapGuide.prototype.un);goog.exportProperty(ol.source.ImageStatic.prototype,"getAttributions",ol.source.ImageStatic.prototype.getAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,"getLogo",ol.source.ImageStatic.prototype.getLogo);goog.exportProperty(ol.source.ImageStatic.prototype,"getProjection",ol.source.ImageStatic.prototype.getProjection);goog.exportProperty(ol.source.ImageStatic.prototype,"getState",ol.source.ImageStatic.prototype.getState);goog.exportProperty(ol.source.ImageStatic.prototype,"refresh",ol.source.ImageStatic.prototype.refresh);goog.exportProperty(ol.source.ImageStatic.prototype,"setAttributions",ol.source.ImageStatic.prototype.setAttributions);goog.exportProperty(ol.source.ImageStatic.prototype,"get",ol.source.ImageStatic.prototype.get);goog.exportProperty(ol.source.ImageStatic.prototype,"getKeys",ol.source.ImageStatic.prototype.getKeys);goog.exportProperty(ol.source.ImageStatic.prototype,"getProperties",ol.source.ImageStatic.prototype.getProperties);goog.exportProperty(ol.source.ImageStatic.prototype,"set",ol.source.ImageStatic.prototype.set);goog.exportProperty(ol.source.ImageStatic.prototype,"setProperties",ol.source.ImageStatic.prototype.setProperties);goog.exportProperty(ol.source.ImageStatic.prototype,"unset",ol.source.ImageStatic.prototype.unset);goog.exportProperty(ol.source.ImageStatic.prototype,"changed",ol.source.ImageStatic.prototype.changed);goog.exportProperty(ol.source.ImageStatic.prototype,"dispatchEvent",ol.source.ImageStatic.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageStatic.prototype,"getRevision",ol.source.ImageStatic.prototype.getRevision);goog.exportProperty(ol.source.ImageStatic.prototype,"on",ol.source.ImageStatic.prototype.on);goog.exportProperty(ol.source.ImageStatic.prototype,"once",ol.source.ImageStatic.prototype.once);goog.exportProperty(ol.source.ImageStatic.prototype,"un",ol.source.ImageStatic.prototype.un);goog.exportProperty(ol.source.ImageVector.prototype,"getAttributions",ol.source.ImageVector.prototype.getAttributions);goog.exportProperty(ol.source.ImageVector.prototype,"getLogo",ol.source.ImageVector.prototype.getLogo);goog.exportProperty(ol.source.ImageVector.prototype,"getProjection",ol.source.ImageVector.prototype.getProjection);goog.exportProperty(ol.source.ImageVector.prototype,"getState",ol.source.ImageVector.prototype.getState);goog.exportProperty(ol.source.ImageVector.prototype,"refresh",ol.source.ImageVector.prototype.refresh);goog.exportProperty(ol.source.ImageVector.prototype,"setAttributions",ol.source.ImageVector.prototype.setAttributions);goog.exportProperty(ol.source.ImageVector.prototype,"get",ol.source.ImageVector.prototype.get);goog.exportProperty(ol.source.ImageVector.prototype,"getKeys",ol.source.ImageVector.prototype.getKeys);goog.exportProperty(ol.source.ImageVector.prototype,"getProperties",ol.source.ImageVector.prototype.getProperties);goog.exportProperty(ol.source.ImageVector.prototype,"set",ol.source.ImageVector.prototype.set);goog.exportProperty(ol.source.ImageVector.prototype,"setProperties",ol.source.ImageVector.prototype.setProperties);goog.exportProperty(ol.source.ImageVector.prototype,"unset",ol.source.ImageVector.prototype.unset);goog.exportProperty(ol.source.ImageVector.prototype,"changed",ol.source.ImageVector.prototype.changed);goog.exportProperty(ol.source.ImageVector.prototype,"dispatchEvent",ol.source.ImageVector.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageVector.prototype,"getRevision",ol.source.ImageVector.prototype.getRevision);goog.exportProperty(ol.source.ImageVector.prototype,"on",ol.source.ImageVector.prototype.on);goog.exportProperty(ol.source.ImageVector.prototype,"once",ol.source.ImageVector.prototype.once);goog.exportProperty(ol.source.ImageVector.prototype,"un",ol.source.ImageVector.prototype.un);goog.exportProperty(ol.source.ImageWMS.prototype,"getAttributions",ol.source.ImageWMS.prototype.getAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,"getLogo",ol.source.ImageWMS.prototype.getLogo);goog.exportProperty(ol.source.ImageWMS.prototype,"getProjection",ol.source.ImageWMS.prototype.getProjection);goog.exportProperty(ol.source.ImageWMS.prototype,"getState",ol.source.ImageWMS.prototype.getState);goog.exportProperty(ol.source.ImageWMS.prototype,"refresh",ol.source.ImageWMS.prototype.refresh);goog.exportProperty(ol.source.ImageWMS.prototype,"setAttributions",ol.source.ImageWMS.prototype.setAttributions);goog.exportProperty(ol.source.ImageWMS.prototype,"get",ol.source.ImageWMS.prototype.get);goog.exportProperty(ol.source.ImageWMS.prototype,"getKeys",ol.source.ImageWMS.prototype.getKeys);goog.exportProperty(ol.source.ImageWMS.prototype,"getProperties",ol.source.ImageWMS.prototype.getProperties);goog.exportProperty(ol.source.ImageWMS.prototype,"set",ol.source.ImageWMS.prototype.set);goog.exportProperty(ol.source.ImageWMS.prototype,"setProperties",ol.source.ImageWMS.prototype.setProperties);goog.exportProperty(ol.source.ImageWMS.prototype,"unset",ol.source.ImageWMS.prototype.unset);goog.exportProperty(ol.source.ImageWMS.prototype,"changed",ol.source.ImageWMS.prototype.changed);goog.exportProperty(ol.source.ImageWMS.prototype,"dispatchEvent",ol.source.ImageWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.ImageWMS.prototype,"getRevision",ol.source.ImageWMS.prototype.getRevision);goog.exportProperty(ol.source.ImageWMS.prototype,"on",ol.source.ImageWMS.prototype.on);goog.exportProperty(ol.source.ImageWMS.prototype,"once",ol.source.ImageWMS.prototype.once);goog.exportProperty(ol.source.ImageWMS.prototype,"un",ol.source.ImageWMS.prototype.un);goog.exportProperty(ol.source.OSM.prototype,"setRenderReprojectionEdges",ol.source.OSM.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.OSM.prototype,"setTileGridForProjection",ol.source.OSM.prototype.setTileGridForProjection);goog.exportProperty(ol.source.OSM.prototype,"getTileLoadFunction",ol.source.OSM.prototype.getTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,"getTileUrlFunction",ol.source.OSM.prototype.getTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,"getUrls",ol.source.OSM.prototype.getUrls);goog.exportProperty(ol.source.OSM.prototype,"setTileLoadFunction",ol.source.OSM.prototype.setTileLoadFunction);goog.exportProperty(ol.source.OSM.prototype,"setTileUrlFunction",ol.source.OSM.prototype.setTileUrlFunction);goog.exportProperty(ol.source.OSM.prototype,"setUrl",ol.source.OSM.prototype.setUrl);goog.exportProperty(ol.source.OSM.prototype,"setUrls",ol.source.OSM.prototype.setUrls);goog.exportProperty(ol.source.OSM.prototype,"getTileGrid",ol.source.OSM.prototype.getTileGrid);goog.exportProperty(ol.source.OSM.prototype,"refresh",ol.source.OSM.prototype.refresh);goog.exportProperty(ol.source.OSM.prototype,"getAttributions",ol.source.OSM.prototype.getAttributions);goog.exportProperty(ol.source.OSM.prototype,"getLogo",ol.source.OSM.prototype.getLogo);goog.exportProperty(ol.source.OSM.prototype,"getProjection",ol.source.OSM.prototype.getProjection);goog.exportProperty(ol.source.OSM.prototype,"getState",ol.source.OSM.prototype.getState);goog.exportProperty(ol.source.OSM.prototype,"setAttributions",ol.source.OSM.prototype.setAttributions);goog.exportProperty(ol.source.OSM.prototype,"get",ol.source.OSM.prototype.get);goog.exportProperty(ol.source.OSM.prototype,"getKeys",ol.source.OSM.prototype.getKeys);goog.exportProperty(ol.source.OSM.prototype,"getProperties",ol.source.OSM.prototype.getProperties);goog.exportProperty(ol.source.OSM.prototype,"set",ol.source.OSM.prototype.set);goog.exportProperty(ol.source.OSM.prototype,"setProperties",ol.source.OSM.prototype.setProperties);goog.exportProperty(ol.source.OSM.prototype,"unset",ol.source.OSM.prototype.unset);goog.exportProperty(ol.source.OSM.prototype,"changed",ol.source.OSM.prototype.changed);goog.exportProperty(ol.source.OSM.prototype,"dispatchEvent",ol.source.OSM.prototype.dispatchEvent);goog.exportProperty(ol.source.OSM.prototype,"getRevision",ol.source.OSM.prototype.getRevision);goog.exportProperty(ol.source.OSM.prototype,"on",ol.source.OSM.prototype.on);goog.exportProperty(ol.source.OSM.prototype,"once",ol.source.OSM.prototype.once);
goog.exportProperty(ol.source.OSM.prototype,"un",ol.source.OSM.prototype.un);goog.exportProperty(ol.source.Raster.prototype,"getAttributions",ol.source.Raster.prototype.getAttributions);goog.exportProperty(ol.source.Raster.prototype,"getLogo",ol.source.Raster.prototype.getLogo);goog.exportProperty(ol.source.Raster.prototype,"getProjection",ol.source.Raster.prototype.getProjection);goog.exportProperty(ol.source.Raster.prototype,"getState",ol.source.Raster.prototype.getState);goog.exportProperty(ol.source.Raster.prototype,"refresh",ol.source.Raster.prototype.refresh);goog.exportProperty(ol.source.Raster.prototype,"setAttributions",ol.source.Raster.prototype.setAttributions);goog.exportProperty(ol.source.Raster.prototype,"get",ol.source.Raster.prototype.get);goog.exportProperty(ol.source.Raster.prototype,"getKeys",ol.source.Raster.prototype.getKeys);goog.exportProperty(ol.source.Raster.prototype,"getProperties",ol.source.Raster.prototype.getProperties);goog.exportProperty(ol.source.Raster.prototype,"set",ol.source.Raster.prototype.set);goog.exportProperty(ol.source.Raster.prototype,"setProperties",ol.source.Raster.prototype.setProperties);goog.exportProperty(ol.source.Raster.prototype,"unset",ol.source.Raster.prototype.unset);goog.exportProperty(ol.source.Raster.prototype,"changed",ol.source.Raster.prototype.changed);goog.exportProperty(ol.source.Raster.prototype,"dispatchEvent",ol.source.Raster.prototype.dispatchEvent);goog.exportProperty(ol.source.Raster.prototype,"getRevision",ol.source.Raster.prototype.getRevision);goog.exportProperty(ol.source.Raster.prototype,"on",ol.source.Raster.prototype.on);goog.exportProperty(ol.source.Raster.prototype,"once",ol.source.Raster.prototype.once);goog.exportProperty(ol.source.Raster.prototype,"un",ol.source.Raster.prototype.un);goog.exportProperty(ol.source.Raster.Event.prototype,"type",ol.source.Raster.Event.prototype.type);goog.exportProperty(ol.source.Raster.Event.prototype,"target",ol.source.Raster.Event.prototype.target);goog.exportProperty(ol.source.Raster.Event.prototype,"preventDefault",ol.source.Raster.Event.prototype.preventDefault);goog.exportProperty(ol.source.Raster.Event.prototype,"stopPropagation",ol.source.Raster.Event.prototype.stopPropagation);goog.exportProperty(ol.source.Stamen.prototype,"setRenderReprojectionEdges",ol.source.Stamen.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Stamen.prototype,"setTileGridForProjection",ol.source.Stamen.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Stamen.prototype,"getTileLoadFunction",ol.source.Stamen.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,"getTileUrlFunction",ol.source.Stamen.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,"getUrls",ol.source.Stamen.prototype.getUrls);goog.exportProperty(ol.source.Stamen.prototype,"setTileLoadFunction",ol.source.Stamen.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Stamen.prototype,"setTileUrlFunction",ol.source.Stamen.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Stamen.prototype,"setUrl",ol.source.Stamen.prototype.setUrl);goog.exportProperty(ol.source.Stamen.prototype,"setUrls",ol.source.Stamen.prototype.setUrls);goog.exportProperty(ol.source.Stamen.prototype,"getTileGrid",ol.source.Stamen.prototype.getTileGrid);goog.exportProperty(ol.source.Stamen.prototype,"refresh",ol.source.Stamen.prototype.refresh);goog.exportProperty(ol.source.Stamen.prototype,"getAttributions",ol.source.Stamen.prototype.getAttributions);goog.exportProperty(ol.source.Stamen.prototype,"getLogo",ol.source.Stamen.prototype.getLogo);goog.exportProperty(ol.source.Stamen.prototype,"getProjection",ol.source.Stamen.prototype.getProjection);goog.exportProperty(ol.source.Stamen.prototype,"getState",ol.source.Stamen.prototype.getState);goog.exportProperty(ol.source.Stamen.prototype,"setAttributions",ol.source.Stamen.prototype.setAttributions);goog.exportProperty(ol.source.Stamen.prototype,"get",ol.source.Stamen.prototype.get);goog.exportProperty(ol.source.Stamen.prototype,"getKeys",ol.source.Stamen.prototype.getKeys);goog.exportProperty(ol.source.Stamen.prototype,"getProperties",ol.source.Stamen.prototype.getProperties);goog.exportProperty(ol.source.Stamen.prototype,"set",ol.source.Stamen.prototype.set);goog.exportProperty(ol.source.Stamen.prototype,"setProperties",ol.source.Stamen.prototype.setProperties);goog.exportProperty(ol.source.Stamen.prototype,"unset",ol.source.Stamen.prototype.unset);goog.exportProperty(ol.source.Stamen.prototype,"changed",ol.source.Stamen.prototype.changed);goog.exportProperty(ol.source.Stamen.prototype,"dispatchEvent",ol.source.Stamen.prototype.dispatchEvent);goog.exportProperty(ol.source.Stamen.prototype,"getRevision",ol.source.Stamen.prototype.getRevision);goog.exportProperty(ol.source.Stamen.prototype,"on",ol.source.Stamen.prototype.on);goog.exportProperty(ol.source.Stamen.prototype,"once",ol.source.Stamen.prototype.once);goog.exportProperty(ol.source.Stamen.prototype,"un",ol.source.Stamen.prototype.un);goog.exportProperty(ol.source.Tile.Event.prototype,"type",ol.source.Tile.Event.prototype.type);goog.exportProperty(ol.source.Tile.Event.prototype,"target",ol.source.Tile.Event.prototype.target);goog.exportProperty(ol.source.Tile.Event.prototype,"preventDefault",ol.source.Tile.Event.prototype.preventDefault);goog.exportProperty(ol.source.Tile.Event.prototype,"stopPropagation",ol.source.Tile.Event.prototype.stopPropagation);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setRenderReprojectionEdges",ol.source.TileArcGISRest.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileGridForProjection",ol.source.TileArcGISRest.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileLoadFunction",ol.source.TileArcGISRest.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileUrlFunction",ol.source.TileArcGISRest.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getUrls",ol.source.TileArcGISRest.prototype.getUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileLoadFunction",ol.source.TileArcGISRest.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setTileUrlFunction",ol.source.TileArcGISRest.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrl",ol.source.TileArcGISRest.prototype.setUrl);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setUrls",ol.source.TileArcGISRest.prototype.setUrls);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getTileGrid",ol.source.TileArcGISRest.prototype.getTileGrid);goog.exportProperty(ol.source.TileArcGISRest.prototype,"refresh",ol.source.TileArcGISRest.prototype.refresh);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getAttributions",ol.source.TileArcGISRest.prototype.getAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getLogo",ol.source.TileArcGISRest.prototype.getLogo);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProjection",ol.source.TileArcGISRest.prototype.getProjection);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getState",ol.source.TileArcGISRest.prototype.getState);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setAttributions",ol.source.TileArcGISRest.prototype.setAttributions);goog.exportProperty(ol.source.TileArcGISRest.prototype,"get",ol.source.TileArcGISRest.prototype.get);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getKeys",ol.source.TileArcGISRest.prototype.getKeys);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getProperties",ol.source.TileArcGISRest.prototype.getProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,"set",ol.source.TileArcGISRest.prototype.set);goog.exportProperty(ol.source.TileArcGISRest.prototype,"setProperties",ol.source.TileArcGISRest.prototype.setProperties);goog.exportProperty(ol.source.TileArcGISRest.prototype,"unset",ol.source.TileArcGISRest.prototype.unset);goog.exportProperty(ol.source.TileArcGISRest.prototype,"changed",ol.source.TileArcGISRest.prototype.changed);goog.exportProperty(ol.source.TileArcGISRest.prototype,"dispatchEvent",ol.source.TileArcGISRest.prototype.dispatchEvent);goog.exportProperty(ol.source.TileArcGISRest.prototype,"getRevision",ol.source.TileArcGISRest.prototype.getRevision);goog.exportProperty(ol.source.TileArcGISRest.prototype,"on",ol.source.TileArcGISRest.prototype.on);goog.exportProperty(ol.source.TileArcGISRest.prototype,"once",ol.source.TileArcGISRest.prototype.once);goog.exportProperty(ol.source.TileArcGISRest.prototype,"un",ol.source.TileArcGISRest.prototype.un);goog.exportProperty(ol.source.TileDebug.prototype,"getTileGrid",ol.source.TileDebug.prototype.getTileGrid);goog.exportProperty(ol.source.TileDebug.prototype,"refresh",ol.source.TileDebug.prototype.refresh);goog.exportProperty(ol.source.TileDebug.prototype,"getAttributions",ol.source.TileDebug.prototype.getAttributions);goog.exportProperty(ol.source.TileDebug.prototype,"getLogo",ol.source.TileDebug.prototype.getLogo);goog.exportProperty(ol.source.TileDebug.prototype,"getProjection",ol.source.TileDebug.prototype.getProjection);goog.exportProperty(ol.source.TileDebug.prototype,"getState",ol.source.TileDebug.prototype.getState);goog.exportProperty(ol.source.TileDebug.prototype,"setAttributions",ol.source.TileDebug.prototype.setAttributions);goog.exportProperty(ol.source.TileDebug.prototype,"get",ol.source.TileDebug.prototype.get);goog.exportProperty(ol.source.TileDebug.prototype,"getKeys",ol.source.TileDebug.prototype.getKeys);goog.exportProperty(ol.source.TileDebug.prototype,"getProperties",ol.source.TileDebug.prototype.getProperties);goog.exportProperty(ol.source.TileDebug.prototype,"set",ol.source.TileDebug.prototype.set);goog.exportProperty(ol.source.TileDebug.prototype,"setProperties",ol.source.TileDebug.prototype.setProperties);goog.exportProperty(ol.source.TileDebug.prototype,"unset",ol.source.TileDebug.prototype.unset);goog.exportProperty(ol.source.TileDebug.prototype,"changed",ol.source.TileDebug.prototype.changed);goog.exportProperty(ol.source.TileDebug.prototype,"dispatchEvent",ol.source.TileDebug.prototype.dispatchEvent);goog.exportProperty(ol.source.TileDebug.prototype,"getRevision",ol.source.TileDebug.prototype.getRevision);goog.exportProperty(ol.source.TileDebug.prototype,"on",ol.source.TileDebug.prototype.on);goog.exportProperty(ol.source.TileDebug.prototype,"once",ol.source.TileDebug.prototype.once);goog.exportProperty(ol.source.TileDebug.prototype,"un",ol.source.TileDebug.prototype.un);goog.exportProperty(ol.source.TileJSON.prototype,"setRenderReprojectionEdges",ol.source.TileJSON.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileJSON.prototype,"setTileGridForProjection",ol.source.TileJSON.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileJSON.prototype,"getTileLoadFunction",ol.source.TileJSON.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,"getTileUrlFunction",ol.source.TileJSON.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,"getUrls",ol.source.TileJSON.prototype.getUrls);goog.exportProperty(ol.source.TileJSON.prototype,"setTileLoadFunction",ol.source.TileJSON.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileJSON.prototype,"setTileUrlFunction",ol.source.TileJSON.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileJSON.prototype,"setUrl",ol.source.TileJSON.prototype.setUrl);goog.exportProperty(ol.source.TileJSON.prototype,"setUrls",ol.source.TileJSON.prototype.setUrls);goog.exportProperty(ol.source.TileJSON.prototype,"getTileGrid",ol.source.TileJSON.prototype.getTileGrid);goog.exportProperty(ol.source.TileJSON.prototype,"refresh",ol.source.TileJSON.prototype.refresh);goog.exportProperty(ol.source.TileJSON.prototype,"getAttributions",ol.source.TileJSON.prototype.getAttributions);goog.exportProperty(ol.source.TileJSON.prototype,"getLogo",ol.source.TileJSON.prototype.getLogo);goog.exportProperty(ol.source.TileJSON.prototype,"getProjection",ol.source.TileJSON.prototype.getProjection);goog.exportProperty(ol.source.TileJSON.prototype,"getState",ol.source.TileJSON.prototype.getState);goog.exportProperty(ol.source.TileJSON.prototype,"setAttributions",ol.source.TileJSON.prototype.setAttributions);goog.exportProperty(ol.source.TileJSON.prototype,"get",ol.source.TileJSON.prototype.get);goog.exportProperty(ol.source.TileJSON.prototype,"getKeys",ol.source.TileJSON.prototype.getKeys);goog.exportProperty(ol.source.TileJSON.prototype,"getProperties",ol.source.TileJSON.prototype.getProperties);goog.exportProperty(ol.source.TileJSON.prototype,"set",ol.source.TileJSON.prototype.set);goog.exportProperty(ol.source.TileJSON.prototype,"setProperties",ol.source.TileJSON.prototype.setProperties);goog.exportProperty(ol.source.TileJSON.prototype,"unset",ol.source.TileJSON.prototype.unset);goog.exportProperty(ol.source.TileJSON.prototype,"changed",ol.source.TileJSON.prototype.changed);goog.exportProperty(ol.source.TileJSON.prototype,"dispatchEvent",ol.source.TileJSON.prototype.dispatchEvent);goog.exportProperty(ol.source.TileJSON.prototype,"getRevision",ol.source.TileJSON.prototype.getRevision);goog.exportProperty(ol.source.TileJSON.prototype,"on",ol.source.TileJSON.prototype.on);goog.exportProperty(ol.source.TileJSON.prototype,"once",ol.source.TileJSON.prototype.once);goog.exportProperty(ol.source.TileJSON.prototype,"un",ol.source.TileJSON.prototype.un);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getTileGrid",ol.source.TileUTFGrid.prototype.getTileGrid);goog.exportProperty(ol.source.TileUTFGrid.prototype,"refresh",ol.source.TileUTFGrid.prototype.refresh);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getAttributions",ol.source.TileUTFGrid.prototype.getAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getLogo",ol.source.TileUTFGrid.prototype.getLogo);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProjection",ol.source.TileUTFGrid.prototype.getProjection);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getState",ol.source.TileUTFGrid.prototype.getState);goog.exportProperty(ol.source.TileUTFGrid.prototype,"setAttributions",ol.source.TileUTFGrid.prototype.setAttributions);goog.exportProperty(ol.source.TileUTFGrid.prototype,"get",ol.source.TileUTFGrid.prototype.get);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getKeys",ol.source.TileUTFGrid.prototype.getKeys);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getProperties",ol.source.TileUTFGrid.prototype.getProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,"set",ol.source.TileUTFGrid.prototype.set);goog.exportProperty(ol.source.TileUTFGrid.prototype,"setProperties",ol.source.TileUTFGrid.prototype.setProperties);goog.exportProperty(ol.source.TileUTFGrid.prototype,"unset",ol.source.TileUTFGrid.prototype.unset);goog.exportProperty(ol.source.TileUTFGrid.prototype,"changed",ol.source.TileUTFGrid.prototype.changed);goog.exportProperty(ol.source.TileUTFGrid.prototype,"dispatchEvent",ol.source.TileUTFGrid.prototype.dispatchEvent);goog.exportProperty(ol.source.TileUTFGrid.prototype,"getRevision",ol.source.TileUTFGrid.prototype.getRevision);goog.exportProperty(ol.source.TileUTFGrid.prototype,"on",ol.source.TileUTFGrid.prototype.on);goog.exportProperty(ol.source.TileUTFGrid.prototype,"once",ol.source.TileUTFGrid.prototype.once);goog.exportProperty(ol.source.TileUTFGrid.prototype,"un",ol.source.TileUTFGrid.prototype.un);goog.exportProperty(ol.source.TileWMS.prototype,"setRenderReprojectionEdges",ol.source.TileWMS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.TileWMS.prototype,"setTileGridForProjection",ol.source.TileWMS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.TileWMS.prototype,"getTileLoadFunction",ol.source.TileWMS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,"getTileUrlFunction",ol.source.TileWMS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,"getUrls",ol.source.TileWMS.prototype.getUrls);goog.exportProperty(ol.source.TileWMS.prototype,"setTileLoadFunction",ol.source.TileWMS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.TileWMS.prototype,"setTileUrlFunction",ol.source.TileWMS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.TileWMS.prototype,"setUrl",ol.source.TileWMS.prototype.setUrl);goog.exportProperty(ol.source.TileWMS.prototype,"setUrls",ol.source.TileWMS.prototype.setUrls);goog.exportProperty(ol.source.TileWMS.prototype,"getTileGrid",ol.source.TileWMS.prototype.getTileGrid);goog.exportProperty(ol.source.TileWMS.prototype,"refresh",ol.source.TileWMS.prototype.refresh);goog.exportProperty(ol.source.TileWMS.prototype,"getAttributions",ol.source.TileWMS.prototype.getAttributions);goog.exportProperty(ol.source.TileWMS.prototype,"getLogo",ol.source.TileWMS.prototype.getLogo);goog.exportProperty(ol.source.TileWMS.prototype,"getProjection",ol.source.TileWMS.prototype.getProjection);goog.exportProperty(ol.source.TileWMS.prototype,"getState",ol.source.TileWMS.prototype.getState);goog.exportProperty(ol.source.TileWMS.prototype,"setAttributions",ol.source.TileWMS.prototype.setAttributions);goog.exportProperty(ol.source.TileWMS.prototype,"get",ol.source.TileWMS.prototype.get);goog.exportProperty(ol.source.TileWMS.prototype,"getKeys",ol.source.TileWMS.prototype.getKeys);goog.exportProperty(ol.source.TileWMS.prototype,"getProperties",ol.source.TileWMS.prototype.getProperties);goog.exportProperty(ol.source.TileWMS.prototype,"set",ol.source.TileWMS.prototype.set);goog.exportProperty(ol.source.TileWMS.prototype,"setProperties",ol.source.TileWMS.prototype.setProperties);goog.exportProperty(ol.source.TileWMS.prototype,"unset",ol.source.TileWMS.prototype.unset);goog.exportProperty(ol.source.TileWMS.prototype,"changed",ol.source.TileWMS.prototype.changed);goog.exportProperty(ol.source.TileWMS.prototype,"dispatchEvent",ol.source.TileWMS.prototype.dispatchEvent);goog.exportProperty(ol.source.TileWMS.prototype,"getRevision",ol.source.TileWMS.prototype.getRevision);goog.exportProperty(ol.source.TileWMS.prototype,"on",ol.source.TileWMS.prototype.on);goog.exportProperty(ol.source.TileWMS.prototype,"once",ol.source.TileWMS.prototype.once);goog.exportProperty(ol.source.TileWMS.prototype,"un",ol.source.TileWMS.prototype.un);goog.exportProperty(ol.source.Vector.Event.prototype,"type",ol.source.Vector.Event.prototype.type);goog.exportProperty(ol.source.Vector.Event.prototype,"target",ol.source.Vector.Event.prototype.target);goog.exportProperty(ol.source.Vector.Event.prototype,"preventDefault",ol.source.Vector.Event.prototype.preventDefault);goog.exportProperty(ol.source.Vector.Event.prototype,"stopPropagation",ol.source.Vector.Event.prototype.stopPropagation);goog.exportProperty(ol.source.VectorTile.prototype,"getTileLoadFunction",ol.source.VectorTile.prototype.getTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,"getTileUrlFunction",ol.source.VectorTile.prototype.getTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,"getUrls",ol.source.VectorTile.prototype.getUrls);goog.exportProperty(ol.source.VectorTile.prototype,"setTileLoadFunction",ol.source.VectorTile.prototype.setTileLoadFunction);goog.exportProperty(ol.source.VectorTile.prototype,"setTileUrlFunction",ol.source.VectorTile.prototype.setTileUrlFunction);goog.exportProperty(ol.source.VectorTile.prototype,"setUrl",ol.source.VectorTile.prototype.setUrl);goog.exportProperty(ol.source.VectorTile.prototype,"setUrls",ol.source.VectorTile.prototype.setUrls);goog.exportProperty(ol.source.VectorTile.prototype,"getTileGrid",ol.source.VectorTile.prototype.getTileGrid);goog.exportProperty(ol.source.VectorTile.prototype,"refresh",ol.source.VectorTile.prototype.refresh);goog.exportProperty(ol.source.VectorTile.prototype,"getAttributions",ol.source.VectorTile.prototype.getAttributions);goog.exportProperty(ol.source.VectorTile.prototype,"getLogo",ol.source.VectorTile.prototype.getLogo);goog.exportProperty(ol.source.VectorTile.prototype,"getProjection",ol.source.VectorTile.prototype.getProjection);goog.exportProperty(ol.source.VectorTile.prototype,"getState",ol.source.VectorTile.prototype.getState);goog.exportProperty(ol.source.VectorTile.prototype,"setAttributions",ol.source.VectorTile.prototype.setAttributions);goog.exportProperty(ol.source.VectorTile.prototype,"get",ol.source.VectorTile.prototype.get);goog.exportProperty(ol.source.VectorTile.prototype,"getKeys",ol.source.VectorTile.prototype.getKeys);goog.exportProperty(ol.source.VectorTile.prototype,"getProperties",ol.source.VectorTile.prototype.getProperties);goog.exportProperty(ol.source.VectorTile.prototype,"set",ol.source.VectorTile.prototype.set);goog.exportProperty(ol.source.VectorTile.prototype,"setProperties",ol.source.VectorTile.prototype.setProperties);goog.exportProperty(ol.source.VectorTile.prototype,"unset",ol.source.VectorTile.prototype.unset);goog.exportProperty(ol.source.VectorTile.prototype,"changed",ol.source.VectorTile.prototype.changed);goog.exportProperty(ol.source.VectorTile.prototype,"dispatchEvent",ol.source.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.source.VectorTile.prototype,"getRevision",ol.source.VectorTile.prototype.getRevision);goog.exportProperty(ol.source.VectorTile.prototype,"on",ol.source.VectorTile.prototype.on);goog.exportProperty(ol.source.VectorTile.prototype,"once",ol.source.VectorTile.prototype.once);goog.exportProperty(ol.source.VectorTile.prototype,"un",ol.source.VectorTile.prototype.un);goog.exportProperty(ol.source.WMTS.prototype,"setRenderReprojectionEdges",ol.source.WMTS.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.WMTS.prototype,"setTileGridForProjection",ol.source.WMTS.prototype.setTileGridForProjection);goog.exportProperty(ol.source.WMTS.prototype,"getTileLoadFunction",ol.source.WMTS.prototype.getTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,"getTileUrlFunction",ol.source.WMTS.prototype.getTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,"getUrls",ol.source.WMTS.prototype.getUrls);goog.exportProperty(ol.source.WMTS.prototype,"setTileLoadFunction",ol.source.WMTS.prototype.setTileLoadFunction);goog.exportProperty(ol.source.WMTS.prototype,"setTileUrlFunction",ol.source.WMTS.prototype.setTileUrlFunction);goog.exportProperty(ol.source.WMTS.prototype,"setUrl",ol.source.WMTS.prototype.setUrl);goog.exportProperty(ol.source.WMTS.prototype,"setUrls",ol.source.WMTS.prototype.setUrls);goog.exportProperty(ol.source.WMTS.prototype,"getTileGrid",ol.source.WMTS.prototype.getTileGrid);goog.exportProperty(ol.source.WMTS.prototype,"refresh",ol.source.WMTS.prototype.refresh);goog.exportProperty(ol.source.WMTS.prototype,"getAttributions",ol.source.WMTS.prototype.getAttributions);goog.exportProperty(ol.source.WMTS.prototype,"getLogo",ol.source.WMTS.prototype.getLogo);goog.exportProperty(ol.source.WMTS.prototype,"getProjection",ol.source.WMTS.prototype.getProjection);goog.exportProperty(ol.source.WMTS.prototype,"getState",ol.source.WMTS.prototype.getState);goog.exportProperty(ol.source.WMTS.prototype,"setAttributions",ol.source.WMTS.prototype.setAttributions);goog.exportProperty(ol.source.WMTS.prototype,"get",ol.source.WMTS.prototype.get);goog.exportProperty(ol.source.WMTS.prototype,"getKeys",ol.source.WMTS.prototype.getKeys);goog.exportProperty(ol.source.WMTS.prototype,"getProperties",ol.source.WMTS.prototype.getProperties);goog.exportProperty(ol.source.WMTS.prototype,"set",ol.source.WMTS.prototype.set);goog.exportProperty(ol.source.WMTS.prototype,"setProperties",ol.source.WMTS.prototype.setProperties);goog.exportProperty(ol.source.WMTS.prototype,"unset",ol.source.WMTS.prototype.unset);goog.exportProperty(ol.source.WMTS.prototype,"changed",ol.source.WMTS.prototype.changed);goog.exportProperty(ol.source.WMTS.prototype,"dispatchEvent",ol.source.WMTS.prototype.dispatchEvent);goog.exportProperty(ol.source.WMTS.prototype,"getRevision",ol.source.WMTS.prototype.getRevision);goog.exportProperty(ol.source.WMTS.prototype,"on",ol.source.WMTS.prototype.on);goog.exportProperty(ol.source.WMTS.prototype,"once",ol.source.WMTS.prototype.once);goog.exportProperty(ol.source.WMTS.prototype,"un",ol.source.WMTS.prototype.un);goog.exportProperty(ol.source.Zoomify.prototype,"setRenderReprojectionEdges",ol.source.Zoomify.prototype.setRenderReprojectionEdges);goog.exportProperty(ol.source.Zoomify.prototype,"setTileGridForProjection",ol.source.Zoomify.prototype.setTileGridForProjection);goog.exportProperty(ol.source.Zoomify.prototype,"getTileLoadFunction",ol.source.Zoomify.prototype.getTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,"getTileUrlFunction",ol.source.Zoomify.prototype.getTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,"getUrls",ol.source.Zoomify.prototype.getUrls);goog.exportProperty(ol.source.Zoomify.prototype,"setTileLoadFunction",ol.source.Zoomify.prototype.setTileLoadFunction);goog.exportProperty(ol.source.Zoomify.prototype,"setTileUrlFunction",ol.source.Zoomify.prototype.setTileUrlFunction);goog.exportProperty(ol.source.Zoomify.prototype,"setUrl",ol.source.Zoomify.prototype.setUrl);goog.exportProperty(ol.source.Zoomify.prototype,"setUrls",ol.source.Zoomify.prototype.setUrls);goog.exportProperty(ol.source.Zoomify.prototype,"getTileGrid",ol.source.Zoomify.prototype.getTileGrid);goog.exportProperty(ol.source.Zoomify.prototype,"refresh",ol.source.Zoomify.prototype.refresh);goog.exportProperty(ol.source.Zoomify.prototype,"getAttributions",ol.source.Zoomify.prototype.getAttributions);goog.exportProperty(ol.source.Zoomify.prototype,"getLogo",ol.source.Zoomify.prototype.getLogo);goog.exportProperty(ol.source.Zoomify.prototype,"getProjection",ol.source.Zoomify.prototype.getProjection);goog.exportProperty(ol.source.Zoomify.prototype,"getState",ol.source.Zoomify.prototype.getState);goog.exportProperty(ol.source.Zoomify.prototype,"setAttributions",ol.source.Zoomify.prototype.setAttributions);goog.exportProperty(ol.source.Zoomify.prototype,"get",ol.source.Zoomify.prototype.get);goog.exportProperty(ol.source.Zoomify.prototype,"getKeys",ol.source.Zoomify.prototype.getKeys);goog.exportProperty(ol.source.Zoomify.prototype,"getProperties",ol.source.Zoomify.prototype.getProperties);goog.exportProperty(ol.source.Zoomify.prototype,"set",ol.source.Zoomify.prototype.set);goog.exportProperty(ol.source.Zoomify.prototype,"setProperties",ol.source.Zoomify.prototype.setProperties);goog.exportProperty(ol.source.Zoomify.prototype,"unset",ol.source.Zoomify.prototype.unset);goog.exportProperty(ol.source.Zoomify.prototype,"changed",ol.source.Zoomify.prototype.changed);goog.exportProperty(ol.source.Zoomify.prototype,"dispatchEvent",ol.source.Zoomify.prototype.dispatchEvent);goog.exportProperty(ol.source.Zoomify.prototype,"getRevision",ol.source.Zoomify.prototype.getRevision);goog.exportProperty(ol.source.Zoomify.prototype,"on",ol.source.Zoomify.prototype.on);goog.exportProperty(ol.source.Zoomify.prototype,"once",ol.source.Zoomify.prototype.once);goog.exportProperty(ol.source.Zoomify.prototype,"un",ol.source.Zoomify.prototype.un);goog.exportProperty(ol.reproj.Tile.prototype,"getTileCoord",ol.reproj.Tile.prototype.getTileCoord);goog.exportProperty(ol.reproj.Tile.prototype,"load",ol.reproj.Tile.prototype.load);goog.exportProperty(ol.renderer.Layer.prototype,"changed",ol.renderer.Layer.prototype.changed);goog.exportProperty(ol.renderer.Layer.prototype,"dispatchEvent",ol.renderer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.Layer.prototype,"getRevision",ol.renderer.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.Layer.prototype,"on",ol.renderer.Layer.prototype.on);goog.exportProperty(ol.renderer.Layer.prototype,"once",ol.renderer.Layer.prototype.once);goog.exportProperty(ol.renderer.Layer.prototype,"un",ol.renderer.Layer.prototype.un);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"changed",ol.renderer.webgl.Layer.prototype.changed);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"dispatchEvent",ol.renderer.webgl.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"getRevision",ol.renderer.webgl.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"on",ol.renderer.webgl.Layer.prototype.on);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"once",ol.renderer.webgl.Layer.prototype.once);goog.exportProperty(ol.renderer.webgl.Layer.prototype,"un",ol.renderer.webgl.Layer.prototype.un);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"changed",ol.renderer.webgl.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"dispatchEvent",ol.renderer.webgl.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"getRevision",ol.renderer.webgl.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"on",ol.renderer.webgl.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"once",ol.renderer.webgl.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.ImageLayer.prototype,"un",ol.renderer.webgl.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"changed",ol.renderer.webgl.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"dispatchEvent",ol.renderer.webgl.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"getRevision",ol.renderer.webgl.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"on",ol.renderer.webgl.TileLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"once",ol.renderer.webgl.TileLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.TileLayer.prototype,"un",ol.renderer.webgl.TileLayer.prototype.un);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"changed",ol.renderer.webgl.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"dispatchEvent",ol.renderer.webgl.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"getRevision",ol.renderer.webgl.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"on",ol.renderer.webgl.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"once",ol.renderer.webgl.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.webgl.VectorLayer.prototype,"un",ol.renderer.webgl.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"changed",ol.renderer.canvas.Layer.prototype.changed);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"dispatchEvent",ol.renderer.canvas.Layer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"getRevision",ol.renderer.canvas.Layer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"on",ol.renderer.canvas.Layer.prototype.on);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"once",ol.renderer.canvas.Layer.prototype.once);goog.exportProperty(ol.renderer.canvas.Layer.prototype,"un",ol.renderer.canvas.Layer.prototype.un);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"changed",ol.renderer.canvas.IntermediateCanvas.prototype.changed);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"dispatchEvent",ol.renderer.canvas.IntermediateCanvas.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"getRevision",ol.renderer.canvas.IntermediateCanvas.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"on",ol.renderer.canvas.IntermediateCanvas.prototype.on);goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"once",ol.renderer.canvas.IntermediateCanvas.prototype.once);
goog.exportProperty(ol.renderer.canvas.IntermediateCanvas.prototype,"un",ol.renderer.canvas.IntermediateCanvas.prototype.un);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"changed",ol.renderer.canvas.ImageLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"dispatchEvent",ol.renderer.canvas.ImageLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"getRevision",ol.renderer.canvas.ImageLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"on",ol.renderer.canvas.ImageLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"once",ol.renderer.canvas.ImageLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.ImageLayer.prototype,"un",ol.renderer.canvas.ImageLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"changed",ol.renderer.canvas.TileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"dispatchEvent",ol.renderer.canvas.TileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"getRevision",ol.renderer.canvas.TileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"on",ol.renderer.canvas.TileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"once",ol.renderer.canvas.TileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.TileLayer.prototype,"un",ol.renderer.canvas.TileLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"changed",ol.renderer.canvas.VectorLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"getRevision",ol.renderer.canvas.VectorLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"on",ol.renderer.canvas.VectorLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"once",ol.renderer.canvas.VectorLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorLayer.prototype,"un",ol.renderer.canvas.VectorLayer.prototype.un);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"changed",ol.renderer.canvas.VectorTileLayer.prototype.changed);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"dispatchEvent",ol.renderer.canvas.VectorTileLayer.prototype.dispatchEvent);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"getRevision",ol.renderer.canvas.VectorTileLayer.prototype.getRevision);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"on",ol.renderer.canvas.VectorTileLayer.prototype.on);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"once",ol.renderer.canvas.VectorTileLayer.prototype.once);goog.exportProperty(ol.renderer.canvas.VectorTileLayer.prototype,"un",ol.renderer.canvas.VectorTileLayer.prototype.un);goog.exportProperty(ol.render.Event.prototype,"type",ol.render.Event.prototype.type);goog.exportProperty(ol.render.Event.prototype,"target",ol.render.Event.prototype.target);goog.exportProperty(ol.render.Event.prototype,"preventDefault",ol.render.Event.prototype.preventDefault);goog.exportProperty(ol.render.Event.prototype,"stopPropagation",ol.render.Event.prototype.stopPropagation);goog.exportProperty(ol.pointer.PointerEvent.prototype,"type",ol.pointer.PointerEvent.prototype.type);goog.exportProperty(ol.pointer.PointerEvent.prototype,"target",ol.pointer.PointerEvent.prototype.target);goog.exportProperty(ol.pointer.PointerEvent.prototype,"preventDefault",ol.pointer.PointerEvent.prototype.preventDefault);goog.exportProperty(ol.pointer.PointerEvent.prototype,"stopPropagation",ol.pointer.PointerEvent.prototype.stopPropagation);goog.exportProperty(ol.layer.Base.prototype,"get",ol.layer.Base.prototype.get);goog.exportProperty(ol.layer.Base.prototype,"getKeys",ol.layer.Base.prototype.getKeys);goog.exportProperty(ol.layer.Base.prototype,"getProperties",ol.layer.Base.prototype.getProperties);goog.exportProperty(ol.layer.Base.prototype,"set",ol.layer.Base.prototype.set);goog.exportProperty(ol.layer.Base.prototype,"setProperties",ol.layer.Base.prototype.setProperties);goog.exportProperty(ol.layer.Base.prototype,"unset",ol.layer.Base.prototype.unset);goog.exportProperty(ol.layer.Base.prototype,"changed",ol.layer.Base.prototype.changed);goog.exportProperty(ol.layer.Base.prototype,"dispatchEvent",ol.layer.Base.prototype.dispatchEvent);goog.exportProperty(ol.layer.Base.prototype,"getRevision",ol.layer.Base.prototype.getRevision);goog.exportProperty(ol.layer.Base.prototype,"on",ol.layer.Base.prototype.on);goog.exportProperty(ol.layer.Base.prototype,"once",ol.layer.Base.prototype.once);goog.exportProperty(ol.layer.Base.prototype,"un",ol.layer.Base.prototype.un);goog.exportProperty(ol.layer.Group.prototype,"getExtent",ol.layer.Group.prototype.getExtent);goog.exportProperty(ol.layer.Group.prototype,"getMaxResolution",ol.layer.Group.prototype.getMaxResolution);goog.exportProperty(ol.layer.Group.prototype,"getMinResolution",ol.layer.Group.prototype.getMinResolution);goog.exportProperty(ol.layer.Group.prototype,"getOpacity",ol.layer.Group.prototype.getOpacity);goog.exportProperty(ol.layer.Group.prototype,"getVisible",ol.layer.Group.prototype.getVisible);goog.exportProperty(ol.layer.Group.prototype,"getZIndex",ol.layer.Group.prototype.getZIndex);goog.exportProperty(ol.layer.Group.prototype,"setExtent",ol.layer.Group.prototype.setExtent);goog.exportProperty(ol.layer.Group.prototype,"setMaxResolution",ol.layer.Group.prototype.setMaxResolution);goog.exportProperty(ol.layer.Group.prototype,"setMinResolution",ol.layer.Group.prototype.setMinResolution);goog.exportProperty(ol.layer.Group.prototype,"setOpacity",ol.layer.Group.prototype.setOpacity);goog.exportProperty(ol.layer.Group.prototype,"setVisible",ol.layer.Group.prototype.setVisible);goog.exportProperty(ol.layer.Group.prototype,"setZIndex",ol.layer.Group.prototype.setZIndex);goog.exportProperty(ol.layer.Group.prototype,"get",ol.layer.Group.prototype.get);goog.exportProperty(ol.layer.Group.prototype,"getKeys",ol.layer.Group.prototype.getKeys);goog.exportProperty(ol.layer.Group.prototype,"getProperties",ol.layer.Group.prototype.getProperties);goog.exportProperty(ol.layer.Group.prototype,"set",ol.layer.Group.prototype.set);goog.exportProperty(ol.layer.Group.prototype,"setProperties",ol.layer.Group.prototype.setProperties);goog.exportProperty(ol.layer.Group.prototype,"unset",ol.layer.Group.prototype.unset);goog.exportProperty(ol.layer.Group.prototype,"changed",ol.layer.Group.prototype.changed);goog.exportProperty(ol.layer.Group.prototype,"dispatchEvent",ol.layer.Group.prototype.dispatchEvent);goog.exportProperty(ol.layer.Group.prototype,"getRevision",ol.layer.Group.prototype.getRevision);goog.exportProperty(ol.layer.Group.prototype,"on",ol.layer.Group.prototype.on);goog.exportProperty(ol.layer.Group.prototype,"once",ol.layer.Group.prototype.once);goog.exportProperty(ol.layer.Group.prototype,"un",ol.layer.Group.prototype.un);goog.exportProperty(ol.layer.Layer.prototype,"getExtent",ol.layer.Layer.prototype.getExtent);goog.exportProperty(ol.layer.Layer.prototype,"getMaxResolution",ol.layer.Layer.prototype.getMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,"getMinResolution",ol.layer.Layer.prototype.getMinResolution);goog.exportProperty(ol.layer.Layer.prototype,"getOpacity",ol.layer.Layer.prototype.getOpacity);goog.exportProperty(ol.layer.Layer.prototype,"getVisible",ol.layer.Layer.prototype.getVisible);goog.exportProperty(ol.layer.Layer.prototype,"getZIndex",ol.layer.Layer.prototype.getZIndex);goog.exportProperty(ol.layer.Layer.prototype,"setExtent",ol.layer.Layer.prototype.setExtent);goog.exportProperty(ol.layer.Layer.prototype,"setMaxResolution",ol.layer.Layer.prototype.setMaxResolution);goog.exportProperty(ol.layer.Layer.prototype,"setMinResolution",ol.layer.Layer.prototype.setMinResolution);goog.exportProperty(ol.layer.Layer.prototype,"setOpacity",ol.layer.Layer.prototype.setOpacity);goog.exportProperty(ol.layer.Layer.prototype,"setVisible",ol.layer.Layer.prototype.setVisible);goog.exportProperty(ol.layer.Layer.prototype,"setZIndex",ol.layer.Layer.prototype.setZIndex);goog.exportProperty(ol.layer.Layer.prototype,"get",ol.layer.Layer.prototype.get);goog.exportProperty(ol.layer.Layer.prototype,"getKeys",ol.layer.Layer.prototype.getKeys);goog.exportProperty(ol.layer.Layer.prototype,"getProperties",ol.layer.Layer.prototype.getProperties);goog.exportProperty(ol.layer.Layer.prototype,"set",ol.layer.Layer.prototype.set);goog.exportProperty(ol.layer.Layer.prototype,"setProperties",ol.layer.Layer.prototype.setProperties);goog.exportProperty(ol.layer.Layer.prototype,"unset",ol.layer.Layer.prototype.unset);goog.exportProperty(ol.layer.Layer.prototype,"changed",ol.layer.Layer.prototype.changed);goog.exportProperty(ol.layer.Layer.prototype,"dispatchEvent",ol.layer.Layer.prototype.dispatchEvent);goog.exportProperty(ol.layer.Layer.prototype,"getRevision",ol.layer.Layer.prototype.getRevision);goog.exportProperty(ol.layer.Layer.prototype,"on",ol.layer.Layer.prototype.on);goog.exportProperty(ol.layer.Layer.prototype,"once",ol.layer.Layer.prototype.once);goog.exportProperty(ol.layer.Layer.prototype,"un",ol.layer.Layer.prototype.un);goog.exportProperty(ol.layer.Vector.prototype,"setMap",ol.layer.Vector.prototype.setMap);goog.exportProperty(ol.layer.Vector.prototype,"setSource",ol.layer.Vector.prototype.setSource);goog.exportProperty(ol.layer.Vector.prototype,"getExtent",ol.layer.Vector.prototype.getExtent);goog.exportProperty(ol.layer.Vector.prototype,"getMaxResolution",ol.layer.Vector.prototype.getMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,"getMinResolution",ol.layer.Vector.prototype.getMinResolution);goog.exportProperty(ol.layer.Vector.prototype,"getOpacity",ol.layer.Vector.prototype.getOpacity);goog.exportProperty(ol.layer.Vector.prototype,"getVisible",ol.layer.Vector.prototype.getVisible);goog.exportProperty(ol.layer.Vector.prototype,"getZIndex",ol.layer.Vector.prototype.getZIndex);goog.exportProperty(ol.layer.Vector.prototype,"setExtent",ol.layer.Vector.prototype.setExtent);goog.exportProperty(ol.layer.Vector.prototype,"setMaxResolution",ol.layer.Vector.prototype.setMaxResolution);goog.exportProperty(ol.layer.Vector.prototype,"setMinResolution",ol.layer.Vector.prototype.setMinResolution);goog.exportProperty(ol.layer.Vector.prototype,"setOpacity",ol.layer.Vector.prototype.setOpacity);goog.exportProperty(ol.layer.Vector.prototype,"setVisible",ol.layer.Vector.prototype.setVisible);goog.exportProperty(ol.layer.Vector.prototype,"setZIndex",ol.layer.Vector.prototype.setZIndex);goog.exportProperty(ol.layer.Vector.prototype,"get",ol.layer.Vector.prototype.get);goog.exportProperty(ol.layer.Vector.prototype,"getKeys",ol.layer.Vector.prototype.getKeys);goog.exportProperty(ol.layer.Vector.prototype,"getProperties",ol.layer.Vector.prototype.getProperties);goog.exportProperty(ol.layer.Vector.prototype,"set",ol.layer.Vector.prototype.set);goog.exportProperty(ol.layer.Vector.prototype,"setProperties",ol.layer.Vector.prototype.setProperties);goog.exportProperty(ol.layer.Vector.prototype,"unset",ol.layer.Vector.prototype.unset);goog.exportProperty(ol.layer.Vector.prototype,"changed",ol.layer.Vector.prototype.changed);goog.exportProperty(ol.layer.Vector.prototype,"dispatchEvent",ol.layer.Vector.prototype.dispatchEvent);goog.exportProperty(ol.layer.Vector.prototype,"getRevision",ol.layer.Vector.prototype.getRevision);goog.exportProperty(ol.layer.Vector.prototype,"on",ol.layer.Vector.prototype.on);goog.exportProperty(ol.layer.Vector.prototype,"once",ol.layer.Vector.prototype.once);goog.exportProperty(ol.layer.Vector.prototype,"un",ol.layer.Vector.prototype.un);goog.exportProperty(ol.layer.Heatmap.prototype,"getSource",ol.layer.Heatmap.prototype.getSource);goog.exportProperty(ol.layer.Heatmap.prototype,"getStyle",ol.layer.Heatmap.prototype.getStyle);goog.exportProperty(ol.layer.Heatmap.prototype,"getStyleFunction",ol.layer.Heatmap.prototype.getStyleFunction);goog.exportProperty(ol.layer.Heatmap.prototype,"setStyle",ol.layer.Heatmap.prototype.setStyle);goog.exportProperty(ol.layer.Heatmap.prototype,"setMap",ol.layer.Heatmap.prototype.setMap);goog.exportProperty(ol.layer.Heatmap.prototype,"setSource",ol.layer.Heatmap.prototype.setSource);goog.exportProperty(ol.layer.Heatmap.prototype,"getExtent",ol.layer.Heatmap.prototype.getExtent);goog.exportProperty(ol.layer.Heatmap.prototype,"getMaxResolution",ol.layer.Heatmap.prototype.getMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"getMinResolution",ol.layer.Heatmap.prototype.getMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"getOpacity",ol.layer.Heatmap.prototype.getOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,"getVisible",ol.layer.Heatmap.prototype.getVisible);goog.exportProperty(ol.layer.Heatmap.prototype,"getZIndex",ol.layer.Heatmap.prototype.getZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,"setExtent",ol.layer.Heatmap.prototype.setExtent);goog.exportProperty(ol.layer.Heatmap.prototype,"setMaxResolution",ol.layer.Heatmap.prototype.setMaxResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"setMinResolution",ol.layer.Heatmap.prototype.setMinResolution);goog.exportProperty(ol.layer.Heatmap.prototype,"setOpacity",ol.layer.Heatmap.prototype.setOpacity);goog.exportProperty(ol.layer.Heatmap.prototype,"setVisible",ol.layer.Heatmap.prototype.setVisible);goog.exportProperty(ol.layer.Heatmap.prototype,"setZIndex",ol.layer.Heatmap.prototype.setZIndex);goog.exportProperty(ol.layer.Heatmap.prototype,"get",ol.layer.Heatmap.prototype.get);goog.exportProperty(ol.layer.Heatmap.prototype,"getKeys",ol.layer.Heatmap.prototype.getKeys);goog.exportProperty(ol.layer.Heatmap.prototype,"getProperties",ol.layer.Heatmap.prototype.getProperties);goog.exportProperty(ol.layer.Heatmap.prototype,"set",ol.layer.Heatmap.prototype.set);goog.exportProperty(ol.layer.Heatmap.prototype,"setProperties",ol.layer.Heatmap.prototype.setProperties);goog.exportProperty(ol.layer.Heatmap.prototype,"unset",ol.layer.Heatmap.prototype.unset);goog.exportProperty(ol.layer.Heatmap.prototype,"changed",ol.layer.Heatmap.prototype.changed);goog.exportProperty(ol.layer.Heatmap.prototype,"dispatchEvent",ol.layer.Heatmap.prototype.dispatchEvent);goog.exportProperty(ol.layer.Heatmap.prototype,"getRevision",ol.layer.Heatmap.prototype.getRevision);goog.exportProperty(ol.layer.Heatmap.prototype,"on",ol.layer.Heatmap.prototype.on);goog.exportProperty(ol.layer.Heatmap.prototype,"once",ol.layer.Heatmap.prototype.once);goog.exportProperty(ol.layer.Heatmap.prototype,"un",ol.layer.Heatmap.prototype.un);goog.exportProperty(ol.layer.Image.prototype,"setMap",ol.layer.Image.prototype.setMap);goog.exportProperty(ol.layer.Image.prototype,"setSource",ol.layer.Image.prototype.setSource);goog.exportProperty(ol.layer.Image.prototype,"getExtent",ol.layer.Image.prototype.getExtent);goog.exportProperty(ol.layer.Image.prototype,"getMaxResolution",ol.layer.Image.prototype.getMaxResolution);goog.exportProperty(ol.layer.Image.prototype,"getMinResolution",ol.layer.Image.prototype.getMinResolution);goog.exportProperty(ol.layer.Image.prototype,"getOpacity",ol.layer.Image.prototype.getOpacity);goog.exportProperty(ol.layer.Image.prototype,"getVisible",ol.layer.Image.prototype.getVisible);goog.exportProperty(ol.layer.Image.prototype,"getZIndex",ol.layer.Image.prototype.getZIndex);goog.exportProperty(ol.layer.Image.prototype,"setExtent",ol.layer.Image.prototype.setExtent);goog.exportProperty(ol.layer.Image.prototype,"setMaxResolution",ol.layer.Image.prototype.setMaxResolution);goog.exportProperty(ol.layer.Image.prototype,"setMinResolution",ol.layer.Image.prototype.setMinResolution);goog.exportProperty(ol.layer.Image.prototype,"setOpacity",ol.layer.Image.prototype.setOpacity);goog.exportProperty(ol.layer.Image.prototype,"setVisible",ol.layer.Image.prototype.setVisible);goog.exportProperty(ol.layer.Image.prototype,"setZIndex",ol.layer.Image.prototype.setZIndex);goog.exportProperty(ol.layer.Image.prototype,"get",ol.layer.Image.prototype.get);goog.exportProperty(ol.layer.Image.prototype,"getKeys",ol.layer.Image.prototype.getKeys);goog.exportProperty(ol.layer.Image.prototype,"getProperties",ol.layer.Image.prototype.getProperties);goog.exportProperty(ol.layer.Image.prototype,"set",ol.layer.Image.prototype.set);goog.exportProperty(ol.layer.Image.prototype,"setProperties",ol.layer.Image.prototype.setProperties);goog.exportProperty(ol.layer.Image.prototype,"unset",ol.layer.Image.prototype.unset);goog.exportProperty(ol.layer.Image.prototype,"changed",ol.layer.Image.prototype.changed);goog.exportProperty(ol.layer.Image.prototype,"dispatchEvent",ol.layer.Image.prototype.dispatchEvent);goog.exportProperty(ol.layer.Image.prototype,"getRevision",ol.layer.Image.prototype.getRevision);goog.exportProperty(ol.layer.Image.prototype,"on",ol.layer.Image.prototype.on);goog.exportProperty(ol.layer.Image.prototype,"once",ol.layer.Image.prototype.once);goog.exportProperty(ol.layer.Image.prototype,"un",ol.layer.Image.prototype.un);goog.exportProperty(ol.layer.Tile.prototype,"setMap",ol.layer.Tile.prototype.setMap);goog.exportProperty(ol.layer.Tile.prototype,"setSource",ol.layer.Tile.prototype.setSource);goog.exportProperty(ol.layer.Tile.prototype,"getExtent",ol.layer.Tile.prototype.getExtent);goog.exportProperty(ol.layer.Tile.prototype,"getMaxResolution",ol.layer.Tile.prototype.getMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,"getMinResolution",ol.layer.Tile.prototype.getMinResolution);goog.exportProperty(ol.layer.Tile.prototype,"getOpacity",ol.layer.Tile.prototype.getOpacity);goog.exportProperty(ol.layer.Tile.prototype,"getVisible",ol.layer.Tile.prototype.getVisible);goog.exportProperty(ol.layer.Tile.prototype,"getZIndex",ol.layer.Tile.prototype.getZIndex);goog.exportProperty(ol.layer.Tile.prototype,"setExtent",ol.layer.Tile.prototype.setExtent);goog.exportProperty(ol.layer.Tile.prototype,"setMaxResolution",ol.layer.Tile.prototype.setMaxResolution);goog.exportProperty(ol.layer.Tile.prototype,"setMinResolution",ol.layer.Tile.prototype.setMinResolution);goog.exportProperty(ol.layer.Tile.prototype,"setOpacity",ol.layer.Tile.prototype.setOpacity);goog.exportProperty(ol.layer.Tile.prototype,"setVisible",ol.layer.Tile.prototype.setVisible);goog.exportProperty(ol.layer.Tile.prototype,"setZIndex",ol.layer.Tile.prototype.setZIndex);goog.exportProperty(ol.layer.Tile.prototype,"get",ol.layer.Tile.prototype.get);goog.exportProperty(ol.layer.Tile.prototype,"getKeys",ol.layer.Tile.prototype.getKeys);goog.exportProperty(ol.layer.Tile.prototype,"getProperties",ol.layer.Tile.prototype.getProperties);goog.exportProperty(ol.layer.Tile.prototype,"set",ol.layer.Tile.prototype.set);goog.exportProperty(ol.layer.Tile.prototype,"setProperties",ol.layer.Tile.prototype.setProperties);goog.exportProperty(ol.layer.Tile.prototype,"unset",ol.layer.Tile.prototype.unset);goog.exportProperty(ol.layer.Tile.prototype,"changed",ol.layer.Tile.prototype.changed);goog.exportProperty(ol.layer.Tile.prototype,"dispatchEvent",ol.layer.Tile.prototype.dispatchEvent);goog.exportProperty(ol.layer.Tile.prototype,"getRevision",ol.layer.Tile.prototype.getRevision);goog.exportProperty(ol.layer.Tile.prototype,"on",ol.layer.Tile.prototype.on);goog.exportProperty(ol.layer.Tile.prototype,"once",ol.layer.Tile.prototype.once);goog.exportProperty(ol.layer.Tile.prototype,"un",ol.layer.Tile.prototype.un);goog.exportProperty(ol.layer.VectorTile.prototype,"getSource",ol.layer.VectorTile.prototype.getSource);goog.exportProperty(ol.layer.VectorTile.prototype,"getStyle",ol.layer.VectorTile.prototype.getStyle);goog.exportProperty(ol.layer.VectorTile.prototype,"getStyleFunction",ol.layer.VectorTile.prototype.getStyleFunction);goog.exportProperty(ol.layer.VectorTile.prototype,"setStyle",ol.layer.VectorTile.prototype.setStyle);goog.exportProperty(ol.layer.VectorTile.prototype,"setMap",ol.layer.VectorTile.prototype.setMap);goog.exportProperty(ol.layer.VectorTile.prototype,"setSource",ol.layer.VectorTile.prototype.setSource);goog.exportProperty(ol.layer.VectorTile.prototype,"getExtent",ol.layer.VectorTile.prototype.getExtent);goog.exportProperty(ol.layer.VectorTile.prototype,"getMaxResolution",ol.layer.VectorTile.prototype.getMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"getMinResolution",ol.layer.VectorTile.prototype.getMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"getOpacity",ol.layer.VectorTile.prototype.getOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,"getVisible",ol.layer.VectorTile.prototype.getVisible);goog.exportProperty(ol.layer.VectorTile.prototype,"getZIndex",ol.layer.VectorTile.prototype.getZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,"setExtent",ol.layer.VectorTile.prototype.setExtent);goog.exportProperty(ol.layer.VectorTile.prototype,"setMaxResolution",ol.layer.VectorTile.prototype.setMaxResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"setMinResolution",ol.layer.VectorTile.prototype.setMinResolution);goog.exportProperty(ol.layer.VectorTile.prototype,"setOpacity",ol.layer.VectorTile.prototype.setOpacity);goog.exportProperty(ol.layer.VectorTile.prototype,"setVisible",ol.layer.VectorTile.prototype.setVisible);goog.exportProperty(ol.layer.VectorTile.prototype,"setZIndex",ol.layer.VectorTile.prototype.setZIndex);goog.exportProperty(ol.layer.VectorTile.prototype,"get",ol.layer.VectorTile.prototype.get);goog.exportProperty(ol.layer.VectorTile.prototype,"getKeys",ol.layer.VectorTile.prototype.getKeys);goog.exportProperty(ol.layer.VectorTile.prototype,"getProperties",ol.layer.VectorTile.prototype.getProperties);goog.exportProperty(ol.layer.VectorTile.prototype,"set",ol.layer.VectorTile.prototype.set);goog.exportProperty(ol.layer.VectorTile.prototype,"setProperties",ol.layer.VectorTile.prototype.setProperties);goog.exportProperty(ol.layer.VectorTile.prototype,"unset",ol.layer.VectorTile.prototype.unset);goog.exportProperty(ol.layer.VectorTile.prototype,"changed",ol.layer.VectorTile.prototype.changed);goog.exportProperty(ol.layer.VectorTile.prototype,"dispatchEvent",ol.layer.VectorTile.prototype.dispatchEvent);goog.exportProperty(ol.layer.VectorTile.prototype,"getRevision",ol.layer.VectorTile.prototype.getRevision);goog.exportProperty(ol.layer.VectorTile.prototype,"on",ol.layer.VectorTile.prototype.on);goog.exportProperty(ol.layer.VectorTile.prototype,"once",ol.layer.VectorTile.prototype.once);goog.exportProperty(ol.layer.VectorTile.prototype,"un",ol.layer.VectorTile.prototype.un);goog.exportProperty(ol.interaction.Interaction.prototype,"get",ol.interaction.Interaction.prototype.get);goog.exportProperty(ol.interaction.Interaction.prototype,"getKeys",ol.interaction.Interaction.prototype.getKeys);goog.exportProperty(ol.interaction.Interaction.prototype,"getProperties",ol.interaction.Interaction.prototype.getProperties);goog.exportProperty(ol.interaction.Interaction.prototype,"set",ol.interaction.Interaction.prototype.set);goog.exportProperty(ol.interaction.Interaction.prototype,"setProperties",ol.interaction.Interaction.prototype.setProperties);goog.exportProperty(ol.interaction.Interaction.prototype,"unset",ol.interaction.Interaction.prototype.unset);goog.exportProperty(ol.interaction.Interaction.prototype,"changed",ol.interaction.Interaction.prototype.changed);goog.exportProperty(ol.interaction.Interaction.prototype,"dispatchEvent",ol.interaction.Interaction.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Interaction.prototype,"getRevision",ol.interaction.Interaction.prototype.getRevision);goog.exportProperty(ol.interaction.Interaction.prototype,"on",ol.interaction.Interaction.prototype.on);goog.exportProperty(ol.interaction.Interaction.prototype,"once",ol.interaction.Interaction.prototype.once);goog.exportProperty(ol.interaction.Interaction.prototype,"un",ol.interaction.Interaction.prototype.un);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getActive",ol.interaction.DoubleClickZoom.prototype.getActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getMap",ol.interaction.DoubleClickZoom.prototype.getMap);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setActive",ol.interaction.DoubleClickZoom.prototype.setActive);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"get",ol.interaction.DoubleClickZoom.prototype.get);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getKeys",ol.interaction.DoubleClickZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getProperties",ol.interaction.DoubleClickZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"set",ol.interaction.DoubleClickZoom.prototype.set);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"setProperties",ol.interaction.DoubleClickZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"unset",ol.interaction.DoubleClickZoom.prototype.unset);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"changed",ol.interaction.DoubleClickZoom.prototype.changed);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"dispatchEvent",ol.interaction.DoubleClickZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"getRevision",ol.interaction.DoubleClickZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"on",ol.interaction.DoubleClickZoom.prototype.on);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"once",ol.interaction.DoubleClickZoom.prototype.once);goog.exportProperty(ol.interaction.DoubleClickZoom.prototype,"un",ol.interaction.DoubleClickZoom.prototype.un);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getActive",ol.interaction.DragAndDrop.prototype.getActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getMap",ol.interaction.DragAndDrop.prototype.getMap);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setActive",ol.interaction.DragAndDrop.prototype.setActive);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"get",ol.interaction.DragAndDrop.prototype.get);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getKeys",ol.interaction.DragAndDrop.prototype.getKeys);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getProperties",ol.interaction.DragAndDrop.prototype.getProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"set",ol.interaction.DragAndDrop.prototype.set);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"setProperties",ol.interaction.DragAndDrop.prototype.setProperties);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"unset",ol.interaction.DragAndDrop.prototype.unset);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"changed",ol.interaction.DragAndDrop.prototype.changed);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"dispatchEvent",ol.interaction.DragAndDrop.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"getRevision",ol.interaction.DragAndDrop.prototype.getRevision);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"on",ol.interaction.DragAndDrop.prototype.on);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"once",ol.interaction.DragAndDrop.prototype.once);goog.exportProperty(ol.interaction.DragAndDrop.prototype,"un",ol.interaction.DragAndDrop.prototype.un);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"type",ol.interaction.DragAndDrop.Event.prototype.type);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"target",ol.interaction.DragAndDrop.Event.prototype.target);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"preventDefault",ol.interaction.DragAndDrop.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.DragAndDrop.Event.prototype,"stopPropagation",ol.interaction.DragAndDrop.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Pointer.prototype,"getActive",ol.interaction.Pointer.prototype.getActive);goog.exportProperty(ol.interaction.Pointer.prototype,"getMap",ol.interaction.Pointer.prototype.getMap);goog.exportProperty(ol.interaction.Pointer.prototype,"setActive",ol.interaction.Pointer.prototype.setActive);goog.exportProperty(ol.interaction.Pointer.prototype,"get",ol.interaction.Pointer.prototype.get);goog.exportProperty(ol.interaction.Pointer.prototype,"getKeys",ol.interaction.Pointer.prototype.getKeys);goog.exportProperty(ol.interaction.Pointer.prototype,"getProperties",ol.interaction.Pointer.prototype.getProperties);goog.exportProperty(ol.interaction.Pointer.prototype,"set",ol.interaction.Pointer.prototype.set);goog.exportProperty(ol.interaction.Pointer.prototype,"setProperties",ol.interaction.Pointer.prototype.setProperties);goog.exportProperty(ol.interaction.Pointer.prototype,"unset",ol.interaction.Pointer.prototype.unset);goog.exportProperty(ol.interaction.Pointer.prototype,"changed",ol.interaction.Pointer.prototype.changed);goog.exportProperty(ol.interaction.Pointer.prototype,"dispatchEvent",ol.interaction.Pointer.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Pointer.prototype,"getRevision",ol.interaction.Pointer.prototype.getRevision);goog.exportProperty(ol.interaction.Pointer.prototype,"on",ol.interaction.Pointer.prototype.on);goog.exportProperty(ol.interaction.Pointer.prototype,"once",ol.interaction.Pointer.prototype.once);goog.exportProperty(ol.interaction.Pointer.prototype,"un",ol.interaction.Pointer.prototype.un);goog.exportProperty(ol.interaction.DragBox.prototype,"getActive",ol.interaction.DragBox.prototype.getActive);goog.exportProperty(ol.interaction.DragBox.prototype,"getMap",ol.interaction.DragBox.prototype.getMap);goog.exportProperty(ol.interaction.DragBox.prototype,"setActive",ol.interaction.DragBox.prototype.setActive);goog.exportProperty(ol.interaction.DragBox.prototype,"get",ol.interaction.DragBox.prototype.get);goog.exportProperty(ol.interaction.DragBox.prototype,"getKeys",ol.interaction.DragBox.prototype.getKeys);goog.exportProperty(ol.interaction.DragBox.prototype,"getProperties",ol.interaction.DragBox.prototype.getProperties);goog.exportProperty(ol.interaction.DragBox.prototype,"set",ol.interaction.DragBox.prototype.set);goog.exportProperty(ol.interaction.DragBox.prototype,"setProperties",ol.interaction.DragBox.prototype.setProperties);goog.exportProperty(ol.interaction.DragBox.prototype,"unset",ol.interaction.DragBox.prototype.unset);goog.exportProperty(ol.interaction.DragBox.prototype,"changed",ol.interaction.DragBox.prototype.changed);goog.exportProperty(ol.interaction.DragBox.prototype,"dispatchEvent",ol.interaction.DragBox.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragBox.prototype,"getRevision",ol.interaction.DragBox.prototype.getRevision);goog.exportProperty(ol.interaction.DragBox.prototype,"on",ol.interaction.DragBox.prototype.on);goog.exportProperty(ol.interaction.DragBox.prototype,"once",ol.interaction.DragBox.prototype.once);goog.exportProperty(ol.interaction.DragBox.prototype,"un",ol.interaction.DragBox.prototype.un);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"type",ol.interaction.DragBox.Event.prototype.type);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"target",ol.interaction.DragBox.Event.prototype.target);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"preventDefault",ol.interaction.DragBox.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.DragBox.Event.prototype,"stopPropagation",ol.interaction.DragBox.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.DragPan.prototype,"getActive",ol.interaction.DragPan.prototype.getActive);goog.exportProperty(ol.interaction.DragPan.prototype,"getMap",ol.interaction.DragPan.prototype.getMap);goog.exportProperty(ol.interaction.DragPan.prototype,"setActive",ol.interaction.DragPan.prototype.setActive);
goog.exportProperty(ol.interaction.DragPan.prototype,"get",ol.interaction.DragPan.prototype.get);goog.exportProperty(ol.interaction.DragPan.prototype,"getKeys",ol.interaction.DragPan.prototype.getKeys);goog.exportProperty(ol.interaction.DragPan.prototype,"getProperties",ol.interaction.DragPan.prototype.getProperties);goog.exportProperty(ol.interaction.DragPan.prototype,"set",ol.interaction.DragPan.prototype.set);goog.exportProperty(ol.interaction.DragPan.prototype,"setProperties",ol.interaction.DragPan.prototype.setProperties);goog.exportProperty(ol.interaction.DragPan.prototype,"unset",ol.interaction.DragPan.prototype.unset);goog.exportProperty(ol.interaction.DragPan.prototype,"changed",ol.interaction.DragPan.prototype.changed);goog.exportProperty(ol.interaction.DragPan.prototype,"dispatchEvent",ol.interaction.DragPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragPan.prototype,"getRevision",ol.interaction.DragPan.prototype.getRevision);goog.exportProperty(ol.interaction.DragPan.prototype,"on",ol.interaction.DragPan.prototype.on);goog.exportProperty(ol.interaction.DragPan.prototype,"once",ol.interaction.DragPan.prototype.once);goog.exportProperty(ol.interaction.DragPan.prototype,"un",ol.interaction.DragPan.prototype.un);goog.exportProperty(ol.interaction.DragRotate.prototype,"getActive",ol.interaction.DragRotate.prototype.getActive);goog.exportProperty(ol.interaction.DragRotate.prototype,"getMap",ol.interaction.DragRotate.prototype.getMap);goog.exportProperty(ol.interaction.DragRotate.prototype,"setActive",ol.interaction.DragRotate.prototype.setActive);goog.exportProperty(ol.interaction.DragRotate.prototype,"get",ol.interaction.DragRotate.prototype.get);goog.exportProperty(ol.interaction.DragRotate.prototype,"getKeys",ol.interaction.DragRotate.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotate.prototype,"getProperties",ol.interaction.DragRotate.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,"set",ol.interaction.DragRotate.prototype.set);goog.exportProperty(ol.interaction.DragRotate.prototype,"setProperties",ol.interaction.DragRotate.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotate.prototype,"unset",ol.interaction.DragRotate.prototype.unset);goog.exportProperty(ol.interaction.DragRotate.prototype,"changed",ol.interaction.DragRotate.prototype.changed);goog.exportProperty(ol.interaction.DragRotate.prototype,"dispatchEvent",ol.interaction.DragRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotate.prototype,"getRevision",ol.interaction.DragRotate.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotate.prototype,"on",ol.interaction.DragRotate.prototype.on);goog.exportProperty(ol.interaction.DragRotate.prototype,"once",ol.interaction.DragRotate.prototype.once);goog.exportProperty(ol.interaction.DragRotate.prototype,"un",ol.interaction.DragRotate.prototype.un);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getActive",ol.interaction.DragRotateAndZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getMap",ol.interaction.DragRotateAndZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setActive",ol.interaction.DragRotateAndZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"get",ol.interaction.DragRotateAndZoom.prototype.get);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getKeys",ol.interaction.DragRotateAndZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getProperties",ol.interaction.DragRotateAndZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"set",ol.interaction.DragRotateAndZoom.prototype.set);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"setProperties",ol.interaction.DragRotateAndZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"unset",ol.interaction.DragRotateAndZoom.prototype.unset);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"changed",ol.interaction.DragRotateAndZoom.prototype.changed);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"dispatchEvent",ol.interaction.DragRotateAndZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"getRevision",ol.interaction.DragRotateAndZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"on",ol.interaction.DragRotateAndZoom.prototype.on);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"once",ol.interaction.DragRotateAndZoom.prototype.once);goog.exportProperty(ol.interaction.DragRotateAndZoom.prototype,"un",ol.interaction.DragRotateAndZoom.prototype.un);goog.exportProperty(ol.interaction.DragZoom.prototype,"getGeometry",ol.interaction.DragZoom.prototype.getGeometry);goog.exportProperty(ol.interaction.DragZoom.prototype,"getActive",ol.interaction.DragZoom.prototype.getActive);goog.exportProperty(ol.interaction.DragZoom.prototype,"getMap",ol.interaction.DragZoom.prototype.getMap);goog.exportProperty(ol.interaction.DragZoom.prototype,"setActive",ol.interaction.DragZoom.prototype.setActive);goog.exportProperty(ol.interaction.DragZoom.prototype,"get",ol.interaction.DragZoom.prototype.get);goog.exportProperty(ol.interaction.DragZoom.prototype,"getKeys",ol.interaction.DragZoom.prototype.getKeys);goog.exportProperty(ol.interaction.DragZoom.prototype,"getProperties",ol.interaction.DragZoom.prototype.getProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,"set",ol.interaction.DragZoom.prototype.set);goog.exportProperty(ol.interaction.DragZoom.prototype,"setProperties",ol.interaction.DragZoom.prototype.setProperties);goog.exportProperty(ol.interaction.DragZoom.prototype,"unset",ol.interaction.DragZoom.prototype.unset);goog.exportProperty(ol.interaction.DragZoom.prototype,"changed",ol.interaction.DragZoom.prototype.changed);goog.exportProperty(ol.interaction.DragZoom.prototype,"dispatchEvent",ol.interaction.DragZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.DragZoom.prototype,"getRevision",ol.interaction.DragZoom.prototype.getRevision);goog.exportProperty(ol.interaction.DragZoom.prototype,"on",ol.interaction.DragZoom.prototype.on);goog.exportProperty(ol.interaction.DragZoom.prototype,"once",ol.interaction.DragZoom.prototype.once);goog.exportProperty(ol.interaction.DragZoom.prototype,"un",ol.interaction.DragZoom.prototype.un);goog.exportProperty(ol.interaction.Draw.prototype,"getActive",ol.interaction.Draw.prototype.getActive);goog.exportProperty(ol.interaction.Draw.prototype,"getMap",ol.interaction.Draw.prototype.getMap);goog.exportProperty(ol.interaction.Draw.prototype,"setActive",ol.interaction.Draw.prototype.setActive);goog.exportProperty(ol.interaction.Draw.prototype,"get",ol.interaction.Draw.prototype.get);goog.exportProperty(ol.interaction.Draw.prototype,"getKeys",ol.interaction.Draw.prototype.getKeys);goog.exportProperty(ol.interaction.Draw.prototype,"getProperties",ol.interaction.Draw.prototype.getProperties);goog.exportProperty(ol.interaction.Draw.prototype,"set",ol.interaction.Draw.prototype.set);goog.exportProperty(ol.interaction.Draw.prototype,"setProperties",ol.interaction.Draw.prototype.setProperties);goog.exportProperty(ol.interaction.Draw.prototype,"unset",ol.interaction.Draw.prototype.unset);goog.exportProperty(ol.interaction.Draw.prototype,"changed",ol.interaction.Draw.prototype.changed);goog.exportProperty(ol.interaction.Draw.prototype,"dispatchEvent",ol.interaction.Draw.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Draw.prototype,"getRevision",ol.interaction.Draw.prototype.getRevision);goog.exportProperty(ol.interaction.Draw.prototype,"on",ol.interaction.Draw.prototype.on);goog.exportProperty(ol.interaction.Draw.prototype,"once",ol.interaction.Draw.prototype.once);goog.exportProperty(ol.interaction.Draw.prototype,"un",ol.interaction.Draw.prototype.un);goog.exportProperty(ol.interaction.Draw.Event.prototype,"type",ol.interaction.Draw.Event.prototype.type);goog.exportProperty(ol.interaction.Draw.Event.prototype,"target",ol.interaction.Draw.Event.prototype.target);goog.exportProperty(ol.interaction.Draw.Event.prototype,"preventDefault",ol.interaction.Draw.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Draw.Event.prototype,"stopPropagation",ol.interaction.Draw.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Extent.prototype,"getActive",ol.interaction.Extent.prototype.getActive);goog.exportProperty(ol.interaction.Extent.prototype,"getMap",ol.interaction.Extent.prototype.getMap);goog.exportProperty(ol.interaction.Extent.prototype,"setActive",ol.interaction.Extent.prototype.setActive);goog.exportProperty(ol.interaction.Extent.prototype,"get",ol.interaction.Extent.prototype.get);goog.exportProperty(ol.interaction.Extent.prototype,"getKeys",ol.interaction.Extent.prototype.getKeys);goog.exportProperty(ol.interaction.Extent.prototype,"getProperties",ol.interaction.Extent.prototype.getProperties);goog.exportProperty(ol.interaction.Extent.prototype,"set",ol.interaction.Extent.prototype.set);goog.exportProperty(ol.interaction.Extent.prototype,"setProperties",ol.interaction.Extent.prototype.setProperties);goog.exportProperty(ol.interaction.Extent.prototype,"unset",ol.interaction.Extent.prototype.unset);goog.exportProperty(ol.interaction.Extent.prototype,"changed",ol.interaction.Extent.prototype.changed);goog.exportProperty(ol.interaction.Extent.prototype,"dispatchEvent",ol.interaction.Extent.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Extent.prototype,"getRevision",ol.interaction.Extent.prototype.getRevision);goog.exportProperty(ol.interaction.Extent.prototype,"on",ol.interaction.Extent.prototype.on);goog.exportProperty(ol.interaction.Extent.prototype,"once",ol.interaction.Extent.prototype.once);goog.exportProperty(ol.interaction.Extent.prototype,"un",ol.interaction.Extent.prototype.un);goog.exportProperty(ol.interaction.Extent.Event.prototype,"type",ol.interaction.Extent.Event.prototype.type);goog.exportProperty(ol.interaction.Extent.Event.prototype,"target",ol.interaction.Extent.Event.prototype.target);goog.exportProperty(ol.interaction.Extent.Event.prototype,"preventDefault",ol.interaction.Extent.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Extent.Event.prototype,"stopPropagation",ol.interaction.Extent.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getActive",ol.interaction.KeyboardPan.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getMap",ol.interaction.KeyboardPan.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setActive",ol.interaction.KeyboardPan.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"get",ol.interaction.KeyboardPan.prototype.get);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getKeys",ol.interaction.KeyboardPan.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getProperties",ol.interaction.KeyboardPan.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"set",ol.interaction.KeyboardPan.prototype.set);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"setProperties",ol.interaction.KeyboardPan.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"unset",ol.interaction.KeyboardPan.prototype.unset);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"changed",ol.interaction.KeyboardPan.prototype.changed);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"dispatchEvent",ol.interaction.KeyboardPan.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"getRevision",ol.interaction.KeyboardPan.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"on",ol.interaction.KeyboardPan.prototype.on);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"once",ol.interaction.KeyboardPan.prototype.once);goog.exportProperty(ol.interaction.KeyboardPan.prototype,"un",ol.interaction.KeyboardPan.prototype.un);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getActive",ol.interaction.KeyboardZoom.prototype.getActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getMap",ol.interaction.KeyboardZoom.prototype.getMap);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setActive",ol.interaction.KeyboardZoom.prototype.setActive);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"get",ol.interaction.KeyboardZoom.prototype.get);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getKeys",ol.interaction.KeyboardZoom.prototype.getKeys);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getProperties",ol.interaction.KeyboardZoom.prototype.getProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"set",ol.interaction.KeyboardZoom.prototype.set);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"setProperties",ol.interaction.KeyboardZoom.prototype.setProperties);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"unset",ol.interaction.KeyboardZoom.prototype.unset);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"changed",ol.interaction.KeyboardZoom.prototype.changed);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"dispatchEvent",ol.interaction.KeyboardZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"getRevision",ol.interaction.KeyboardZoom.prototype.getRevision);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"on",ol.interaction.KeyboardZoom.prototype.on);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"once",ol.interaction.KeyboardZoom.prototype.once);goog.exportProperty(ol.interaction.KeyboardZoom.prototype,"un",ol.interaction.KeyboardZoom.prototype.un);goog.exportProperty(ol.interaction.Modify.prototype,"getActive",ol.interaction.Modify.prototype.getActive);goog.exportProperty(ol.interaction.Modify.prototype,"getMap",ol.interaction.Modify.prototype.getMap);goog.exportProperty(ol.interaction.Modify.prototype,"setActive",ol.interaction.Modify.prototype.setActive);goog.exportProperty(ol.interaction.Modify.prototype,"get",ol.interaction.Modify.prototype.get);goog.exportProperty(ol.interaction.Modify.prototype,"getKeys",ol.interaction.Modify.prototype.getKeys);goog.exportProperty(ol.interaction.Modify.prototype,"getProperties",ol.interaction.Modify.prototype.getProperties);goog.exportProperty(ol.interaction.Modify.prototype,"set",ol.interaction.Modify.prototype.set);goog.exportProperty(ol.interaction.Modify.prototype,"setProperties",ol.interaction.Modify.prototype.setProperties);goog.exportProperty(ol.interaction.Modify.prototype,"unset",ol.interaction.Modify.prototype.unset);goog.exportProperty(ol.interaction.Modify.prototype,"changed",ol.interaction.Modify.prototype.changed);goog.exportProperty(ol.interaction.Modify.prototype,"dispatchEvent",ol.interaction.Modify.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Modify.prototype,"getRevision",ol.interaction.Modify.prototype.getRevision);goog.exportProperty(ol.interaction.Modify.prototype,"on",ol.interaction.Modify.prototype.on);goog.exportProperty(ol.interaction.Modify.prototype,"once",ol.interaction.Modify.prototype.once);goog.exportProperty(ol.interaction.Modify.prototype,"un",ol.interaction.Modify.prototype.un);goog.exportProperty(ol.interaction.Modify.Event.prototype,"type",ol.interaction.Modify.Event.prototype.type);goog.exportProperty(ol.interaction.Modify.Event.prototype,"target",ol.interaction.Modify.Event.prototype.target);goog.exportProperty(ol.interaction.Modify.Event.prototype,"preventDefault",ol.interaction.Modify.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Modify.Event.prototype,"stopPropagation",ol.interaction.Modify.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getActive",ol.interaction.MouseWheelZoom.prototype.getActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getMap",ol.interaction.MouseWheelZoom.prototype.getMap);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setActive",ol.interaction.MouseWheelZoom.prototype.setActive);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"get",ol.interaction.MouseWheelZoom.prototype.get);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getKeys",ol.interaction.MouseWheelZoom.prototype.getKeys);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getProperties",ol.interaction.MouseWheelZoom.prototype.getProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"set",ol.interaction.MouseWheelZoom.prototype.set);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"setProperties",ol.interaction.MouseWheelZoom.prototype.setProperties);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"unset",ol.interaction.MouseWheelZoom.prototype.unset);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"changed",ol.interaction.MouseWheelZoom.prototype.changed);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"dispatchEvent",ol.interaction.MouseWheelZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"getRevision",ol.interaction.MouseWheelZoom.prototype.getRevision);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"on",ol.interaction.MouseWheelZoom.prototype.on);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"once",ol.interaction.MouseWheelZoom.prototype.once);goog.exportProperty(ol.interaction.MouseWheelZoom.prototype,"un",ol.interaction.MouseWheelZoom.prototype.un);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getActive",ol.interaction.PinchRotate.prototype.getActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getMap",ol.interaction.PinchRotate.prototype.getMap);goog.exportProperty(ol.interaction.PinchRotate.prototype,"setActive",ol.interaction.PinchRotate.prototype.setActive);goog.exportProperty(ol.interaction.PinchRotate.prototype,"get",ol.interaction.PinchRotate.prototype.get);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getKeys",ol.interaction.PinchRotate.prototype.getKeys);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getProperties",ol.interaction.PinchRotate.prototype.getProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,"set",ol.interaction.PinchRotate.prototype.set);goog.exportProperty(ol.interaction.PinchRotate.prototype,"setProperties",ol.interaction.PinchRotate.prototype.setProperties);goog.exportProperty(ol.interaction.PinchRotate.prototype,"unset",ol.interaction.PinchRotate.prototype.unset);goog.exportProperty(ol.interaction.PinchRotate.prototype,"changed",ol.interaction.PinchRotate.prototype.changed);goog.exportProperty(ol.interaction.PinchRotate.prototype,"dispatchEvent",ol.interaction.PinchRotate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchRotate.prototype,"getRevision",ol.interaction.PinchRotate.prototype.getRevision);goog.exportProperty(ol.interaction.PinchRotate.prototype,"on",ol.interaction.PinchRotate.prototype.on);goog.exportProperty(ol.interaction.PinchRotate.prototype,"once",ol.interaction.PinchRotate.prototype.once);goog.exportProperty(ol.interaction.PinchRotate.prototype,"un",ol.interaction.PinchRotate.prototype.un);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getActive",ol.interaction.PinchZoom.prototype.getActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getMap",ol.interaction.PinchZoom.prototype.getMap);goog.exportProperty(ol.interaction.PinchZoom.prototype,"setActive",ol.interaction.PinchZoom.prototype.setActive);goog.exportProperty(ol.interaction.PinchZoom.prototype,"get",ol.interaction.PinchZoom.prototype.get);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getKeys",ol.interaction.PinchZoom.prototype.getKeys);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getProperties",ol.interaction.PinchZoom.prototype.getProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,"set",ol.interaction.PinchZoom.prototype.set);goog.exportProperty(ol.interaction.PinchZoom.prototype,"setProperties",ol.interaction.PinchZoom.prototype.setProperties);goog.exportProperty(ol.interaction.PinchZoom.prototype,"unset",ol.interaction.PinchZoom.prototype.unset);goog.exportProperty(ol.interaction.PinchZoom.prototype,"changed",ol.interaction.PinchZoom.prototype.changed);goog.exportProperty(ol.interaction.PinchZoom.prototype,"dispatchEvent",ol.interaction.PinchZoom.prototype.dispatchEvent);goog.exportProperty(ol.interaction.PinchZoom.prototype,"getRevision",ol.interaction.PinchZoom.prototype.getRevision);goog.exportProperty(ol.interaction.PinchZoom.prototype,"on",ol.interaction.PinchZoom.prototype.on);goog.exportProperty(ol.interaction.PinchZoom.prototype,"once",ol.interaction.PinchZoom.prototype.once);goog.exportProperty(ol.interaction.PinchZoom.prototype,"un",ol.interaction.PinchZoom.prototype.un);goog.exportProperty(ol.interaction.Select.prototype,"getActive",ol.interaction.Select.prototype.getActive);goog.exportProperty(ol.interaction.Select.prototype,"getMap",ol.interaction.Select.prototype.getMap);goog.exportProperty(ol.interaction.Select.prototype,"setActive",ol.interaction.Select.prototype.setActive);goog.exportProperty(ol.interaction.Select.prototype,"get",ol.interaction.Select.prototype.get);goog.exportProperty(ol.interaction.Select.prototype,"getKeys",ol.interaction.Select.prototype.getKeys);goog.exportProperty(ol.interaction.Select.prototype,"getProperties",ol.interaction.Select.prototype.getProperties);goog.exportProperty(ol.interaction.Select.prototype,"set",ol.interaction.Select.prototype.set);goog.exportProperty(ol.interaction.Select.prototype,"setProperties",ol.interaction.Select.prototype.setProperties);goog.exportProperty(ol.interaction.Select.prototype,"unset",ol.interaction.Select.prototype.unset);goog.exportProperty(ol.interaction.Select.prototype,"changed",ol.interaction.Select.prototype.changed);goog.exportProperty(ol.interaction.Select.prototype,"dispatchEvent",ol.interaction.Select.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Select.prototype,"getRevision",ol.interaction.Select.prototype.getRevision);goog.exportProperty(ol.interaction.Select.prototype,"on",ol.interaction.Select.prototype.on);goog.exportProperty(ol.interaction.Select.prototype,"once",ol.interaction.Select.prototype.once);goog.exportProperty(ol.interaction.Select.prototype,"un",ol.interaction.Select.prototype.un);goog.exportProperty(ol.interaction.Select.Event.prototype,"type",ol.interaction.Select.Event.prototype.type);goog.exportProperty(ol.interaction.Select.Event.prototype,"target",ol.interaction.Select.Event.prototype.target);goog.exportProperty(ol.interaction.Select.Event.prototype,"preventDefault",ol.interaction.Select.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Select.Event.prototype,"stopPropagation",ol.interaction.Select.Event.prototype.stopPropagation);goog.exportProperty(ol.interaction.Snap.prototype,"getActive",ol.interaction.Snap.prototype.getActive);goog.exportProperty(ol.interaction.Snap.prototype,"getMap",ol.interaction.Snap.prototype.getMap);goog.exportProperty(ol.interaction.Snap.prototype,"setActive",ol.interaction.Snap.prototype.setActive);goog.exportProperty(ol.interaction.Snap.prototype,"get",ol.interaction.Snap.prototype.get);goog.exportProperty(ol.interaction.Snap.prototype,"getKeys",ol.interaction.Snap.prototype.getKeys);goog.exportProperty(ol.interaction.Snap.prototype,"getProperties",ol.interaction.Snap.prototype.getProperties);goog.exportProperty(ol.interaction.Snap.prototype,"set",ol.interaction.Snap.prototype.set);goog.exportProperty(ol.interaction.Snap.prototype,"setProperties",ol.interaction.Snap.prototype.setProperties);goog.exportProperty(ol.interaction.Snap.prototype,"unset",ol.interaction.Snap.prototype.unset);goog.exportProperty(ol.interaction.Snap.prototype,"changed",ol.interaction.Snap.prototype.changed);goog.exportProperty(ol.interaction.Snap.prototype,"dispatchEvent",ol.interaction.Snap.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Snap.prototype,"getRevision",ol.interaction.Snap.prototype.getRevision);goog.exportProperty(ol.interaction.Snap.prototype,"on",ol.interaction.Snap.prototype.on);goog.exportProperty(ol.interaction.Snap.prototype,"once",ol.interaction.Snap.prototype.once);goog.exportProperty(ol.interaction.Snap.prototype,"un",ol.interaction.Snap.prototype.un);goog.exportProperty(ol.interaction.Translate.prototype,"getActive",ol.interaction.Translate.prototype.getActive);goog.exportProperty(ol.interaction.Translate.prototype,"getMap",ol.interaction.Translate.prototype.getMap);goog.exportProperty(ol.interaction.Translate.prototype,"setActive",ol.interaction.Translate.prototype.setActive);goog.exportProperty(ol.interaction.Translate.prototype,"get",ol.interaction.Translate.prototype.get);goog.exportProperty(ol.interaction.Translate.prototype,"getKeys",ol.interaction.Translate.prototype.getKeys);goog.exportProperty(ol.interaction.Translate.prototype,"getProperties",ol.interaction.Translate.prototype.getProperties);goog.exportProperty(ol.interaction.Translate.prototype,"set",ol.interaction.Translate.prototype.set);goog.exportProperty(ol.interaction.Translate.prototype,"setProperties",ol.interaction.Translate.prototype.setProperties);goog.exportProperty(ol.interaction.Translate.prototype,"unset",ol.interaction.Translate.prototype.unset);goog.exportProperty(ol.interaction.Translate.prototype,"changed",ol.interaction.Translate.prototype.changed);goog.exportProperty(ol.interaction.Translate.prototype,"dispatchEvent",ol.interaction.Translate.prototype.dispatchEvent);goog.exportProperty(ol.interaction.Translate.prototype,"getRevision",ol.interaction.Translate.prototype.getRevision);goog.exportProperty(ol.interaction.Translate.prototype,"on",ol.interaction.Translate.prototype.on);goog.exportProperty(ol.interaction.Translate.prototype,"once",ol.interaction.Translate.prototype.once);goog.exportProperty(ol.interaction.Translate.prototype,"un",ol.interaction.Translate.prototype.un);goog.exportProperty(ol.interaction.Translate.Event.prototype,"type",ol.interaction.Translate.Event.prototype.type);goog.exportProperty(ol.interaction.Translate.Event.prototype,"target",ol.interaction.Translate.Event.prototype.target);goog.exportProperty(ol.interaction.Translate.Event.prototype,"preventDefault",ol.interaction.Translate.Event.prototype.preventDefault);goog.exportProperty(ol.interaction.Translate.Event.prototype,"stopPropagation",ol.interaction.Translate.Event.prototype.stopPropagation);goog.exportProperty(ol.geom.Geometry.prototype,"get",ol.geom.Geometry.prototype.get);goog.exportProperty(ol.geom.Geometry.prototype,"getKeys",ol.geom.Geometry.prototype.getKeys);goog.exportProperty(ol.geom.Geometry.prototype,"getProperties",ol.geom.Geometry.prototype.getProperties);goog.exportProperty(ol.geom.Geometry.prototype,"set",ol.geom.Geometry.prototype.set);goog.exportProperty(ol.geom.Geometry.prototype,"setProperties",ol.geom.Geometry.prototype.setProperties);goog.exportProperty(ol.geom.Geometry.prototype,"unset",ol.geom.Geometry.prototype.unset);goog.exportProperty(ol.geom.Geometry.prototype,"changed",ol.geom.Geometry.prototype.changed);goog.exportProperty(ol.geom.Geometry.prototype,"dispatchEvent",ol.geom.Geometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.Geometry.prototype,"getRevision",ol.geom.Geometry.prototype.getRevision);goog.exportProperty(ol.geom.Geometry.prototype,"on",ol.geom.Geometry.prototype.on);goog.exportProperty(ol.geom.Geometry.prototype,"once",ol.geom.Geometry.prototype.once);goog.exportProperty(ol.geom.Geometry.prototype,"un",ol.geom.Geometry.prototype.un);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getClosestPoint",ol.geom.SimpleGeometry.prototype.getClosestPoint);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"intersectsCoordinate",ol.geom.SimpleGeometry.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getExtent",ol.geom.SimpleGeometry.prototype.getExtent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"rotate",ol.geom.SimpleGeometry.prototype.rotate);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"scale",ol.geom.SimpleGeometry.prototype.scale);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"simplify",ol.geom.SimpleGeometry.prototype.simplify);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"transform",ol.geom.SimpleGeometry.prototype.transform);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"get",ol.geom.SimpleGeometry.prototype.get);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getKeys",ol.geom.SimpleGeometry.prototype.getKeys);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getProperties",ol.geom.SimpleGeometry.prototype.getProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"set",ol.geom.SimpleGeometry.prototype.set);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"setProperties",ol.geom.SimpleGeometry.prototype.setProperties);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"unset",ol.geom.SimpleGeometry.prototype.unset);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"changed",ol.geom.SimpleGeometry.prototype.changed);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"dispatchEvent",ol.geom.SimpleGeometry.prototype.dispatchEvent);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"getRevision",ol.geom.SimpleGeometry.prototype.getRevision);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"on",ol.geom.SimpleGeometry.prototype.on);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"once",ol.geom.SimpleGeometry.prototype.once);goog.exportProperty(ol.geom.SimpleGeometry.prototype,"un",ol.geom.SimpleGeometry.prototype.un);goog.exportProperty(ol.geom.Circle.prototype,"getFirstCoordinate",ol.geom.Circle.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getLastCoordinate",ol.geom.Circle.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getLayout",ol.geom.Circle.prototype.getLayout);goog.exportProperty(ol.geom.Circle.prototype,"rotate",ol.geom.Circle.prototype.rotate);goog.exportProperty(ol.geom.Circle.prototype,"scale",ol.geom.Circle.prototype.scale);goog.exportProperty(ol.geom.Circle.prototype,"getClosestPoint",ol.geom.Circle.prototype.getClosestPoint);goog.exportProperty(ol.geom.Circle.prototype,"intersectsCoordinate",ol.geom.Circle.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Circle.prototype,"getExtent",ol.geom.Circle.prototype.getExtent);goog.exportProperty(ol.geom.Circle.prototype,"simplify",ol.geom.Circle.prototype.simplify);goog.exportProperty(ol.geom.Circle.prototype,"get",ol.geom.Circle.prototype.get);goog.exportProperty(ol.geom.Circle.prototype,"getKeys",ol.geom.Circle.prototype.getKeys);goog.exportProperty(ol.geom.Circle.prototype,"getProperties",ol.geom.Circle.prototype.getProperties);goog.exportProperty(ol.geom.Circle.prototype,"set",ol.geom.Circle.prototype.set);goog.exportProperty(ol.geom.Circle.prototype,"setProperties",ol.geom.Circle.prototype.setProperties);goog.exportProperty(ol.geom.Circle.prototype,"unset",ol.geom.Circle.prototype.unset);goog.exportProperty(ol.geom.Circle.prototype,"changed",ol.geom.Circle.prototype.changed);goog.exportProperty(ol.geom.Circle.prototype,"dispatchEvent",ol.geom.Circle.prototype.dispatchEvent);goog.exportProperty(ol.geom.Circle.prototype,"getRevision",ol.geom.Circle.prototype.getRevision);goog.exportProperty(ol.geom.Circle.prototype,"on",ol.geom.Circle.prototype.on);goog.exportProperty(ol.geom.Circle.prototype,"once",ol.geom.Circle.prototype.once);goog.exportProperty(ol.geom.Circle.prototype,"un",ol.geom.Circle.prototype.un);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getClosestPoint",ol.geom.GeometryCollection.prototype.getClosestPoint);
goog.exportProperty(ol.geom.GeometryCollection.prototype,"intersectsCoordinate",ol.geom.GeometryCollection.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getExtent",ol.geom.GeometryCollection.prototype.getExtent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"rotate",ol.geom.GeometryCollection.prototype.rotate);goog.exportProperty(ol.geom.GeometryCollection.prototype,"scale",ol.geom.GeometryCollection.prototype.scale);goog.exportProperty(ol.geom.GeometryCollection.prototype,"simplify",ol.geom.GeometryCollection.prototype.simplify);goog.exportProperty(ol.geom.GeometryCollection.prototype,"transform",ol.geom.GeometryCollection.prototype.transform);goog.exportProperty(ol.geom.GeometryCollection.prototype,"get",ol.geom.GeometryCollection.prototype.get);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getKeys",ol.geom.GeometryCollection.prototype.getKeys);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getProperties",ol.geom.GeometryCollection.prototype.getProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,"set",ol.geom.GeometryCollection.prototype.set);goog.exportProperty(ol.geom.GeometryCollection.prototype,"setProperties",ol.geom.GeometryCollection.prototype.setProperties);goog.exportProperty(ol.geom.GeometryCollection.prototype,"unset",ol.geom.GeometryCollection.prototype.unset);goog.exportProperty(ol.geom.GeometryCollection.prototype,"changed",ol.geom.GeometryCollection.prototype.changed);goog.exportProperty(ol.geom.GeometryCollection.prototype,"dispatchEvent",ol.geom.GeometryCollection.prototype.dispatchEvent);goog.exportProperty(ol.geom.GeometryCollection.prototype,"getRevision",ol.geom.GeometryCollection.prototype.getRevision);goog.exportProperty(ol.geom.GeometryCollection.prototype,"on",ol.geom.GeometryCollection.prototype.on);goog.exportProperty(ol.geom.GeometryCollection.prototype,"once",ol.geom.GeometryCollection.prototype.once);goog.exportProperty(ol.geom.GeometryCollection.prototype,"un",ol.geom.GeometryCollection.prototype.un);goog.exportProperty(ol.geom.LinearRing.prototype,"getFirstCoordinate",ol.geom.LinearRing.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getLastCoordinate",ol.geom.LinearRing.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getLayout",ol.geom.LinearRing.prototype.getLayout);goog.exportProperty(ol.geom.LinearRing.prototype,"rotate",ol.geom.LinearRing.prototype.rotate);goog.exportProperty(ol.geom.LinearRing.prototype,"scale",ol.geom.LinearRing.prototype.scale);goog.exportProperty(ol.geom.LinearRing.prototype,"getClosestPoint",ol.geom.LinearRing.prototype.getClosestPoint);goog.exportProperty(ol.geom.LinearRing.prototype,"intersectsCoordinate",ol.geom.LinearRing.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LinearRing.prototype,"getExtent",ol.geom.LinearRing.prototype.getExtent);goog.exportProperty(ol.geom.LinearRing.prototype,"simplify",ol.geom.LinearRing.prototype.simplify);goog.exportProperty(ol.geom.LinearRing.prototype,"transform",ol.geom.LinearRing.prototype.transform);goog.exportProperty(ol.geom.LinearRing.prototype,"get",ol.geom.LinearRing.prototype.get);goog.exportProperty(ol.geom.LinearRing.prototype,"getKeys",ol.geom.LinearRing.prototype.getKeys);goog.exportProperty(ol.geom.LinearRing.prototype,"getProperties",ol.geom.LinearRing.prototype.getProperties);goog.exportProperty(ol.geom.LinearRing.prototype,"set",ol.geom.LinearRing.prototype.set);goog.exportProperty(ol.geom.LinearRing.prototype,"setProperties",ol.geom.LinearRing.prototype.setProperties);goog.exportProperty(ol.geom.LinearRing.prototype,"unset",ol.geom.LinearRing.prototype.unset);goog.exportProperty(ol.geom.LinearRing.prototype,"changed",ol.geom.LinearRing.prototype.changed);goog.exportProperty(ol.geom.LinearRing.prototype,"dispatchEvent",ol.geom.LinearRing.prototype.dispatchEvent);goog.exportProperty(ol.geom.LinearRing.prototype,"getRevision",ol.geom.LinearRing.prototype.getRevision);goog.exportProperty(ol.geom.LinearRing.prototype,"on",ol.geom.LinearRing.prototype.on);goog.exportProperty(ol.geom.LinearRing.prototype,"once",ol.geom.LinearRing.prototype.once);goog.exportProperty(ol.geom.LinearRing.prototype,"un",ol.geom.LinearRing.prototype.un);goog.exportProperty(ol.geom.LineString.prototype,"getFirstCoordinate",ol.geom.LineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getLastCoordinate",ol.geom.LineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getLayout",ol.geom.LineString.prototype.getLayout);goog.exportProperty(ol.geom.LineString.prototype,"rotate",ol.geom.LineString.prototype.rotate);goog.exportProperty(ol.geom.LineString.prototype,"scale",ol.geom.LineString.prototype.scale);goog.exportProperty(ol.geom.LineString.prototype,"getClosestPoint",ol.geom.LineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.LineString.prototype,"intersectsCoordinate",ol.geom.LineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.LineString.prototype,"getExtent",ol.geom.LineString.prototype.getExtent);goog.exportProperty(ol.geom.LineString.prototype,"simplify",ol.geom.LineString.prototype.simplify);goog.exportProperty(ol.geom.LineString.prototype,"transform",ol.geom.LineString.prototype.transform);goog.exportProperty(ol.geom.LineString.prototype,"get",ol.geom.LineString.prototype.get);goog.exportProperty(ol.geom.LineString.prototype,"getKeys",ol.geom.LineString.prototype.getKeys);goog.exportProperty(ol.geom.LineString.prototype,"getProperties",ol.geom.LineString.prototype.getProperties);goog.exportProperty(ol.geom.LineString.prototype,"set",ol.geom.LineString.prototype.set);goog.exportProperty(ol.geom.LineString.prototype,"setProperties",ol.geom.LineString.prototype.setProperties);goog.exportProperty(ol.geom.LineString.prototype,"unset",ol.geom.LineString.prototype.unset);goog.exportProperty(ol.geom.LineString.prototype,"changed",ol.geom.LineString.prototype.changed);goog.exportProperty(ol.geom.LineString.prototype,"dispatchEvent",ol.geom.LineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.LineString.prototype,"getRevision",ol.geom.LineString.prototype.getRevision);goog.exportProperty(ol.geom.LineString.prototype,"on",ol.geom.LineString.prototype.on);goog.exportProperty(ol.geom.LineString.prototype,"once",ol.geom.LineString.prototype.once);goog.exportProperty(ol.geom.LineString.prototype,"un",ol.geom.LineString.prototype.un);goog.exportProperty(ol.geom.MultiLineString.prototype,"getFirstCoordinate",ol.geom.MultiLineString.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLastCoordinate",ol.geom.MultiLineString.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getLayout",ol.geom.MultiLineString.prototype.getLayout);goog.exportProperty(ol.geom.MultiLineString.prototype,"rotate",ol.geom.MultiLineString.prototype.rotate);goog.exportProperty(ol.geom.MultiLineString.prototype,"scale",ol.geom.MultiLineString.prototype.scale);goog.exportProperty(ol.geom.MultiLineString.prototype,"getClosestPoint",ol.geom.MultiLineString.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiLineString.prototype,"intersectsCoordinate",ol.geom.MultiLineString.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiLineString.prototype,"getExtent",ol.geom.MultiLineString.prototype.getExtent);goog.exportProperty(ol.geom.MultiLineString.prototype,"simplify",ol.geom.MultiLineString.prototype.simplify);goog.exportProperty(ol.geom.MultiLineString.prototype,"transform",ol.geom.MultiLineString.prototype.transform);goog.exportProperty(ol.geom.MultiLineString.prototype,"get",ol.geom.MultiLineString.prototype.get);goog.exportProperty(ol.geom.MultiLineString.prototype,"getKeys",ol.geom.MultiLineString.prototype.getKeys);goog.exportProperty(ol.geom.MultiLineString.prototype,"getProperties",ol.geom.MultiLineString.prototype.getProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,"set",ol.geom.MultiLineString.prototype.set);goog.exportProperty(ol.geom.MultiLineString.prototype,"setProperties",ol.geom.MultiLineString.prototype.setProperties);goog.exportProperty(ol.geom.MultiLineString.prototype,"unset",ol.geom.MultiLineString.prototype.unset);goog.exportProperty(ol.geom.MultiLineString.prototype,"changed",ol.geom.MultiLineString.prototype.changed);goog.exportProperty(ol.geom.MultiLineString.prototype,"dispatchEvent",ol.geom.MultiLineString.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiLineString.prototype,"getRevision",ol.geom.MultiLineString.prototype.getRevision);goog.exportProperty(ol.geom.MultiLineString.prototype,"on",ol.geom.MultiLineString.prototype.on);goog.exportProperty(ol.geom.MultiLineString.prototype,"once",ol.geom.MultiLineString.prototype.once);goog.exportProperty(ol.geom.MultiLineString.prototype,"un",ol.geom.MultiLineString.prototype.un);goog.exportProperty(ol.geom.MultiPoint.prototype,"getFirstCoordinate",ol.geom.MultiPoint.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getLastCoordinate",ol.geom.MultiPoint.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getLayout",ol.geom.MultiPoint.prototype.getLayout);goog.exportProperty(ol.geom.MultiPoint.prototype,"rotate",ol.geom.MultiPoint.prototype.rotate);goog.exportProperty(ol.geom.MultiPoint.prototype,"scale",ol.geom.MultiPoint.prototype.scale);goog.exportProperty(ol.geom.MultiPoint.prototype,"getClosestPoint",ol.geom.MultiPoint.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPoint.prototype,"intersectsCoordinate",ol.geom.MultiPoint.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPoint.prototype,"getExtent",ol.geom.MultiPoint.prototype.getExtent);goog.exportProperty(ol.geom.MultiPoint.prototype,"simplify",ol.geom.MultiPoint.prototype.simplify);goog.exportProperty(ol.geom.MultiPoint.prototype,"transform",ol.geom.MultiPoint.prototype.transform);goog.exportProperty(ol.geom.MultiPoint.prototype,"get",ol.geom.MultiPoint.prototype.get);goog.exportProperty(ol.geom.MultiPoint.prototype,"getKeys",ol.geom.MultiPoint.prototype.getKeys);goog.exportProperty(ol.geom.MultiPoint.prototype,"getProperties",ol.geom.MultiPoint.prototype.getProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,"set",ol.geom.MultiPoint.prototype.set);goog.exportProperty(ol.geom.MultiPoint.prototype,"setProperties",ol.geom.MultiPoint.prototype.setProperties);goog.exportProperty(ol.geom.MultiPoint.prototype,"unset",ol.geom.MultiPoint.prototype.unset);goog.exportProperty(ol.geom.MultiPoint.prototype,"changed",ol.geom.MultiPoint.prototype.changed);goog.exportProperty(ol.geom.MultiPoint.prototype,"dispatchEvent",ol.geom.MultiPoint.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPoint.prototype,"getRevision",ol.geom.MultiPoint.prototype.getRevision);goog.exportProperty(ol.geom.MultiPoint.prototype,"on",ol.geom.MultiPoint.prototype.on);goog.exportProperty(ol.geom.MultiPoint.prototype,"once",ol.geom.MultiPoint.prototype.once);goog.exportProperty(ol.geom.MultiPoint.prototype,"un",ol.geom.MultiPoint.prototype.un);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getFirstCoordinate",ol.geom.MultiPolygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLastCoordinate",ol.geom.MultiPolygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getLayout",ol.geom.MultiPolygon.prototype.getLayout);goog.exportProperty(ol.geom.MultiPolygon.prototype,"rotate",ol.geom.MultiPolygon.prototype.rotate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"scale",ol.geom.MultiPolygon.prototype.scale);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getClosestPoint",ol.geom.MultiPolygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.MultiPolygon.prototype,"intersectsCoordinate",ol.geom.MultiPolygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getExtent",ol.geom.MultiPolygon.prototype.getExtent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"simplify",ol.geom.MultiPolygon.prototype.simplify);goog.exportProperty(ol.geom.MultiPolygon.prototype,"transform",ol.geom.MultiPolygon.prototype.transform);goog.exportProperty(ol.geom.MultiPolygon.prototype,"get",ol.geom.MultiPolygon.prototype.get);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getKeys",ol.geom.MultiPolygon.prototype.getKeys);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getProperties",ol.geom.MultiPolygon.prototype.getProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,"set",ol.geom.MultiPolygon.prototype.set);goog.exportProperty(ol.geom.MultiPolygon.prototype,"setProperties",ol.geom.MultiPolygon.prototype.setProperties);goog.exportProperty(ol.geom.MultiPolygon.prototype,"unset",ol.geom.MultiPolygon.prototype.unset);goog.exportProperty(ol.geom.MultiPolygon.prototype,"changed",ol.geom.MultiPolygon.prototype.changed);goog.exportProperty(ol.geom.MultiPolygon.prototype,"dispatchEvent",ol.geom.MultiPolygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.MultiPolygon.prototype,"getRevision",ol.geom.MultiPolygon.prototype.getRevision);goog.exportProperty(ol.geom.MultiPolygon.prototype,"on",ol.geom.MultiPolygon.prototype.on);goog.exportProperty(ol.geom.MultiPolygon.prototype,"once",ol.geom.MultiPolygon.prototype.once);goog.exportProperty(ol.geom.MultiPolygon.prototype,"un",ol.geom.MultiPolygon.prototype.un);goog.exportProperty(ol.geom.Point.prototype,"getFirstCoordinate",ol.geom.Point.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getLastCoordinate",ol.geom.Point.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getLayout",ol.geom.Point.prototype.getLayout);goog.exportProperty(ol.geom.Point.prototype,"rotate",ol.geom.Point.prototype.rotate);goog.exportProperty(ol.geom.Point.prototype,"scale",ol.geom.Point.prototype.scale);goog.exportProperty(ol.geom.Point.prototype,"getClosestPoint",ol.geom.Point.prototype.getClosestPoint);goog.exportProperty(ol.geom.Point.prototype,"intersectsCoordinate",ol.geom.Point.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Point.prototype,"getExtent",ol.geom.Point.prototype.getExtent);goog.exportProperty(ol.geom.Point.prototype,"simplify",ol.geom.Point.prototype.simplify);goog.exportProperty(ol.geom.Point.prototype,"transform",ol.geom.Point.prototype.transform);goog.exportProperty(ol.geom.Point.prototype,"get",ol.geom.Point.prototype.get);goog.exportProperty(ol.geom.Point.prototype,"getKeys",ol.geom.Point.prototype.getKeys);goog.exportProperty(ol.geom.Point.prototype,"getProperties",ol.geom.Point.prototype.getProperties);goog.exportProperty(ol.geom.Point.prototype,"set",ol.geom.Point.prototype.set);goog.exportProperty(ol.geom.Point.prototype,"setProperties",ol.geom.Point.prototype.setProperties);goog.exportProperty(ol.geom.Point.prototype,"unset",ol.geom.Point.prototype.unset);goog.exportProperty(ol.geom.Point.prototype,"changed",ol.geom.Point.prototype.changed);goog.exportProperty(ol.geom.Point.prototype,"dispatchEvent",ol.geom.Point.prototype.dispatchEvent);goog.exportProperty(ol.geom.Point.prototype,"getRevision",ol.geom.Point.prototype.getRevision);goog.exportProperty(ol.geom.Point.prototype,"on",ol.geom.Point.prototype.on);goog.exportProperty(ol.geom.Point.prototype,"once",ol.geom.Point.prototype.once);goog.exportProperty(ol.geom.Point.prototype,"un",ol.geom.Point.prototype.un);goog.exportProperty(ol.geom.Polygon.prototype,"getFirstCoordinate",ol.geom.Polygon.prototype.getFirstCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getLastCoordinate",ol.geom.Polygon.prototype.getLastCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getLayout",ol.geom.Polygon.prototype.getLayout);goog.exportProperty(ol.geom.Polygon.prototype,"rotate",ol.geom.Polygon.prototype.rotate);goog.exportProperty(ol.geom.Polygon.prototype,"scale",ol.geom.Polygon.prototype.scale);goog.exportProperty(ol.geom.Polygon.prototype,"getClosestPoint",ol.geom.Polygon.prototype.getClosestPoint);goog.exportProperty(ol.geom.Polygon.prototype,"intersectsCoordinate",ol.geom.Polygon.prototype.intersectsCoordinate);goog.exportProperty(ol.geom.Polygon.prototype,"getExtent",ol.geom.Polygon.prototype.getExtent);goog.exportProperty(ol.geom.Polygon.prototype,"simplify",ol.geom.Polygon.prototype.simplify);goog.exportProperty(ol.geom.Polygon.prototype,"transform",ol.geom.Polygon.prototype.transform);goog.exportProperty(ol.geom.Polygon.prototype,"get",ol.geom.Polygon.prototype.get);goog.exportProperty(ol.geom.Polygon.prototype,"getKeys",ol.geom.Polygon.prototype.getKeys);goog.exportProperty(ol.geom.Polygon.prototype,"getProperties",ol.geom.Polygon.prototype.getProperties);goog.exportProperty(ol.geom.Polygon.prototype,"set",ol.geom.Polygon.prototype.set);goog.exportProperty(ol.geom.Polygon.prototype,"setProperties",ol.geom.Polygon.prototype.setProperties);goog.exportProperty(ol.geom.Polygon.prototype,"unset",ol.geom.Polygon.prototype.unset);goog.exportProperty(ol.geom.Polygon.prototype,"changed",ol.geom.Polygon.prototype.changed);goog.exportProperty(ol.geom.Polygon.prototype,"dispatchEvent",ol.geom.Polygon.prototype.dispatchEvent);goog.exportProperty(ol.geom.Polygon.prototype,"getRevision",ol.geom.Polygon.prototype.getRevision);goog.exportProperty(ol.geom.Polygon.prototype,"on",ol.geom.Polygon.prototype.on);goog.exportProperty(ol.geom.Polygon.prototype,"once",ol.geom.Polygon.prototype.once);goog.exportProperty(ol.geom.Polygon.prototype,"un",ol.geom.Polygon.prototype.un);goog.exportProperty(ol.format.GML.prototype,"readFeatures",ol.format.GML.prototype.readFeatures);goog.exportProperty(ol.format.GML2.prototype,"readFeatures",ol.format.GML2.prototype.readFeatures);goog.exportProperty(ol.format.GML3.prototype,"readFeatures",ol.format.GML3.prototype.readFeatures);goog.exportProperty(ol.control.Control.prototype,"get",ol.control.Control.prototype.get);goog.exportProperty(ol.control.Control.prototype,"getKeys",ol.control.Control.prototype.getKeys);goog.exportProperty(ol.control.Control.prototype,"getProperties",ol.control.Control.prototype.getProperties);goog.exportProperty(ol.control.Control.prototype,"set",ol.control.Control.prototype.set);goog.exportProperty(ol.control.Control.prototype,"setProperties",ol.control.Control.prototype.setProperties);goog.exportProperty(ol.control.Control.prototype,"unset",ol.control.Control.prototype.unset);goog.exportProperty(ol.control.Control.prototype,"changed",ol.control.Control.prototype.changed);goog.exportProperty(ol.control.Control.prototype,"dispatchEvent",ol.control.Control.prototype.dispatchEvent);goog.exportProperty(ol.control.Control.prototype,"getRevision",ol.control.Control.prototype.getRevision);goog.exportProperty(ol.control.Control.prototype,"on",ol.control.Control.prototype.on);goog.exportProperty(ol.control.Control.prototype,"once",ol.control.Control.prototype.once);goog.exportProperty(ol.control.Control.prototype,"un",ol.control.Control.prototype.un);goog.exportProperty(ol.control.Attribution.prototype,"getMap",ol.control.Attribution.prototype.getMap);goog.exportProperty(ol.control.Attribution.prototype,"setMap",ol.control.Attribution.prototype.setMap);goog.exportProperty(ol.control.Attribution.prototype,"setTarget",ol.control.Attribution.prototype.setTarget);goog.exportProperty(ol.control.Attribution.prototype,"get",ol.control.Attribution.prototype.get);goog.exportProperty(ol.control.Attribution.prototype,"getKeys",ol.control.Attribution.prototype.getKeys);goog.exportProperty(ol.control.Attribution.prototype,"getProperties",ol.control.Attribution.prototype.getProperties);goog.exportProperty(ol.control.Attribution.prototype,"set",ol.control.Attribution.prototype.set);goog.exportProperty(ol.control.Attribution.prototype,"setProperties",ol.control.Attribution.prototype.setProperties);goog.exportProperty(ol.control.Attribution.prototype,"unset",ol.control.Attribution.prototype.unset);goog.exportProperty(ol.control.Attribution.prototype,"changed",ol.control.Attribution.prototype.changed);goog.exportProperty(ol.control.Attribution.prototype,"dispatchEvent",ol.control.Attribution.prototype.dispatchEvent);goog.exportProperty(ol.control.Attribution.prototype,"getRevision",ol.control.Attribution.prototype.getRevision);goog.exportProperty(ol.control.Attribution.prototype,"on",ol.control.Attribution.prototype.on);goog.exportProperty(ol.control.Attribution.prototype,"once",ol.control.Attribution.prototype.once);goog.exportProperty(ol.control.Attribution.prototype,"un",ol.control.Attribution.prototype.un);goog.exportProperty(ol.control.FullScreen.prototype,"getMap",ol.control.FullScreen.prototype.getMap);goog.exportProperty(ol.control.FullScreen.prototype,"setMap",ol.control.FullScreen.prototype.setMap);goog.exportProperty(ol.control.FullScreen.prototype,"setTarget",ol.control.FullScreen.prototype.setTarget);goog.exportProperty(ol.control.FullScreen.prototype,"get",ol.control.FullScreen.prototype.get);goog.exportProperty(ol.control.FullScreen.prototype,"getKeys",ol.control.FullScreen.prototype.getKeys);goog.exportProperty(ol.control.FullScreen.prototype,"getProperties",ol.control.FullScreen.prototype.getProperties);goog.exportProperty(ol.control.FullScreen.prototype,"set",ol.control.FullScreen.prototype.set);goog.exportProperty(ol.control.FullScreen.prototype,"setProperties",ol.control.FullScreen.prototype.setProperties);goog.exportProperty(ol.control.FullScreen.prototype,"unset",ol.control.FullScreen.prototype.unset);goog.exportProperty(ol.control.FullScreen.prototype,"changed",ol.control.FullScreen.prototype.changed);goog.exportProperty(ol.control.FullScreen.prototype,"dispatchEvent",ol.control.FullScreen.prototype.dispatchEvent);goog.exportProperty(ol.control.FullScreen.prototype,"getRevision",ol.control.FullScreen.prototype.getRevision);goog.exportProperty(ol.control.FullScreen.prototype,"on",ol.control.FullScreen.prototype.on);goog.exportProperty(ol.control.FullScreen.prototype,"once",ol.control.FullScreen.prototype.once);goog.exportProperty(ol.control.FullScreen.prototype,"un",ol.control.FullScreen.prototype.un);goog.exportProperty(ol.control.MousePosition.prototype,"getMap",ol.control.MousePosition.prototype.getMap);goog.exportProperty(ol.control.MousePosition.prototype,"setMap",ol.control.MousePosition.prototype.setMap);goog.exportProperty(ol.control.MousePosition.prototype,"setTarget",ol.control.MousePosition.prototype.setTarget);goog.exportProperty(ol.control.MousePosition.prototype,"get",ol.control.MousePosition.prototype.get);goog.exportProperty(ol.control.MousePosition.prototype,"getKeys",ol.control.MousePosition.prototype.getKeys);goog.exportProperty(ol.control.MousePosition.prototype,"getProperties",ol.control.MousePosition.prototype.getProperties);goog.exportProperty(ol.control.MousePosition.prototype,"set",ol.control.MousePosition.prototype.set);goog.exportProperty(ol.control.MousePosition.prototype,"setProperties",ol.control.MousePosition.prototype.setProperties);goog.exportProperty(ol.control.MousePosition.prototype,"unset",ol.control.MousePosition.prototype.unset);goog.exportProperty(ol.control.MousePosition.prototype,"changed",ol.control.MousePosition.prototype.changed);goog.exportProperty(ol.control.MousePosition.prototype,"dispatchEvent",ol.control.MousePosition.prototype.dispatchEvent);goog.exportProperty(ol.control.MousePosition.prototype,"getRevision",ol.control.MousePosition.prototype.getRevision);goog.exportProperty(ol.control.MousePosition.prototype,"on",ol.control.MousePosition.prototype.on);goog.exportProperty(ol.control.MousePosition.prototype,"once",ol.control.MousePosition.prototype.once);goog.exportProperty(ol.control.MousePosition.prototype,"un",ol.control.MousePosition.prototype.un);goog.exportProperty(ol.control.OverviewMap.prototype,"getMap",ol.control.OverviewMap.prototype.getMap);goog.exportProperty(ol.control.OverviewMap.prototype,"setMap",ol.control.OverviewMap.prototype.setMap);goog.exportProperty(ol.control.OverviewMap.prototype,"setTarget",ol.control.OverviewMap.prototype.setTarget);goog.exportProperty(ol.control.OverviewMap.prototype,"get",ol.control.OverviewMap.prototype.get);goog.exportProperty(ol.control.OverviewMap.prototype,"getKeys",ol.control.OverviewMap.prototype.getKeys);goog.exportProperty(ol.control.OverviewMap.prototype,"getProperties",ol.control.OverviewMap.prototype.getProperties);goog.exportProperty(ol.control.OverviewMap.prototype,"set",ol.control.OverviewMap.prototype.set);goog.exportProperty(ol.control.OverviewMap.prototype,"setProperties",ol.control.OverviewMap.prototype.setProperties);goog.exportProperty(ol.control.OverviewMap.prototype,"unset",ol.control.OverviewMap.prototype.unset);goog.exportProperty(ol.control.OverviewMap.prototype,"changed",ol.control.OverviewMap.prototype.changed);goog.exportProperty(ol.control.OverviewMap.prototype,"dispatchEvent",ol.control.OverviewMap.prototype.dispatchEvent);goog.exportProperty(ol.control.OverviewMap.prototype,"getRevision",ol.control.OverviewMap.prototype.getRevision);goog.exportProperty(ol.control.OverviewMap.prototype,"on",ol.control.OverviewMap.prototype.on);goog.exportProperty(ol.control.OverviewMap.prototype,"once",ol.control.OverviewMap.prototype.once);goog.exportProperty(ol.control.OverviewMap.prototype,"un",ol.control.OverviewMap.prototype.un);goog.exportProperty(ol.control.Rotate.prototype,"getMap",ol.control.Rotate.prototype.getMap);goog.exportProperty(ol.control.Rotate.prototype,"setMap",ol.control.Rotate.prototype.setMap);goog.exportProperty(ol.control.Rotate.prototype,"setTarget",ol.control.Rotate.prototype.setTarget);goog.exportProperty(ol.control.Rotate.prototype,"get",ol.control.Rotate.prototype.get);goog.exportProperty(ol.control.Rotate.prototype,"getKeys",ol.control.Rotate.prototype.getKeys);goog.exportProperty(ol.control.Rotate.prototype,"getProperties",ol.control.Rotate.prototype.getProperties);goog.exportProperty(ol.control.Rotate.prototype,"set",ol.control.Rotate.prototype.set);goog.exportProperty(ol.control.Rotate.prototype,"setProperties",ol.control.Rotate.prototype.setProperties);goog.exportProperty(ol.control.Rotate.prototype,"unset",ol.control.Rotate.prototype.unset);goog.exportProperty(ol.control.Rotate.prototype,"changed",ol.control.Rotate.prototype.changed);goog.exportProperty(ol.control.Rotate.prototype,"dispatchEvent",ol.control.Rotate.prototype.dispatchEvent);goog.exportProperty(ol.control.Rotate.prototype,"getRevision",ol.control.Rotate.prototype.getRevision);goog.exportProperty(ol.control.Rotate.prototype,"on",ol.control.Rotate.prototype.on);goog.exportProperty(ol.control.Rotate.prototype,"once",ol.control.Rotate.prototype.once);goog.exportProperty(ol.control.Rotate.prototype,"un",ol.control.Rotate.prototype.un);goog.exportProperty(ol.control.ScaleLine.prototype,"getMap",ol.control.ScaleLine.prototype.getMap);goog.exportProperty(ol.control.ScaleLine.prototype,"setMap",ol.control.ScaleLine.prototype.setMap);goog.exportProperty(ol.control.ScaleLine.prototype,"setTarget",ol.control.ScaleLine.prototype.setTarget);goog.exportProperty(ol.control.ScaleLine.prototype,"get",ol.control.ScaleLine.prototype.get);goog.exportProperty(ol.control.ScaleLine.prototype,"getKeys",ol.control.ScaleLine.prototype.getKeys);goog.exportProperty(ol.control.ScaleLine.prototype,"getProperties",ol.control.ScaleLine.prototype.getProperties);goog.exportProperty(ol.control.ScaleLine.prototype,"set",ol.control.ScaleLine.prototype.set);goog.exportProperty(ol.control.ScaleLine.prototype,"setProperties",ol.control.ScaleLine.prototype.setProperties);goog.exportProperty(ol.control.ScaleLine.prototype,"unset",ol.control.ScaleLine.prototype.unset);goog.exportProperty(ol.control.ScaleLine.prototype,"changed",ol.control.ScaleLine.prototype.changed);goog.exportProperty(ol.control.ScaleLine.prototype,"dispatchEvent",ol.control.ScaleLine.prototype.dispatchEvent);goog.exportProperty(ol.control.ScaleLine.prototype,"getRevision",ol.control.ScaleLine.prototype.getRevision);goog.exportProperty(ol.control.ScaleLine.prototype,"on",ol.control.ScaleLine.prototype.on);goog.exportProperty(ol.control.ScaleLine.prototype,"once",ol.control.ScaleLine.prototype.once);goog.exportProperty(ol.control.ScaleLine.prototype,"un",ol.control.ScaleLine.prototype.un);goog.exportProperty(ol.control.Zoom.prototype,"getMap",ol.control.Zoom.prototype.getMap);goog.exportProperty(ol.control.Zoom.prototype,"setMap",ol.control.Zoom.prototype.setMap);goog.exportProperty(ol.control.Zoom.prototype,"setTarget",ol.control.Zoom.prototype.setTarget);goog.exportProperty(ol.control.Zoom.prototype,"get",ol.control.Zoom.prototype.get);goog.exportProperty(ol.control.Zoom.prototype,"getKeys",ol.control.Zoom.prototype.getKeys);goog.exportProperty(ol.control.Zoom.prototype,"getProperties",ol.control.Zoom.prototype.getProperties);goog.exportProperty(ol.control.Zoom.prototype,"set",ol.control.Zoom.prototype.set);goog.exportProperty(ol.control.Zoom.prototype,"setProperties",ol.control.Zoom.prototype.setProperties);goog.exportProperty(ol.control.Zoom.prototype,"unset",ol.control.Zoom.prototype.unset);goog.exportProperty(ol.control.Zoom.prototype,"changed",ol.control.Zoom.prototype.changed);goog.exportProperty(ol.control.Zoom.prototype,"dispatchEvent",ol.control.Zoom.prototype.dispatchEvent);goog.exportProperty(ol.control.Zoom.prototype,"getRevision",ol.control.Zoom.prototype.getRevision);goog.exportProperty(ol.control.Zoom.prototype,"on",ol.control.Zoom.prototype.on);goog.exportProperty(ol.control.Zoom.prototype,"once",ol.control.Zoom.prototype.once);goog.exportProperty(ol.control.Zoom.prototype,"un",ol.control.Zoom.prototype.un);goog.exportProperty(ol.control.ZoomSlider.prototype,"getMap",ol.control.ZoomSlider.prototype.getMap);goog.exportProperty(ol.control.ZoomSlider.prototype,"setMap",ol.control.ZoomSlider.prototype.setMap);goog.exportProperty(ol.control.ZoomSlider.prototype,"setTarget",ol.control.ZoomSlider.prototype.setTarget);goog.exportProperty(ol.control.ZoomSlider.prototype,"get",ol.control.ZoomSlider.prototype.get);goog.exportProperty(ol.control.ZoomSlider.prototype,"getKeys",ol.control.ZoomSlider.prototype.getKeys);goog.exportProperty(ol.control.ZoomSlider.prototype,"getProperties",ol.control.ZoomSlider.prototype.getProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,"set",ol.control.ZoomSlider.prototype.set);goog.exportProperty(ol.control.ZoomSlider.prototype,"setProperties",ol.control.ZoomSlider.prototype.setProperties);goog.exportProperty(ol.control.ZoomSlider.prototype,"unset",ol.control.ZoomSlider.prototype.unset);goog.exportProperty(ol.control.ZoomSlider.prototype,"changed",ol.control.ZoomSlider.prototype.changed);goog.exportProperty(ol.control.ZoomSlider.prototype,"dispatchEvent",ol.control.ZoomSlider.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomSlider.prototype,"getRevision",ol.control.ZoomSlider.prototype.getRevision);goog.exportProperty(ol.control.ZoomSlider.prototype,"on",ol.control.ZoomSlider.prototype.on);goog.exportProperty(ol.control.ZoomSlider.prototype,"once",ol.control.ZoomSlider.prototype.once);goog.exportProperty(ol.control.ZoomSlider.prototype,"un",ol.control.ZoomSlider.prototype.un);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getMap",ol.control.ZoomToExtent.prototype.getMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setMap",ol.control.ZoomToExtent.prototype.setMap);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setTarget",ol.control.ZoomToExtent.prototype.setTarget);goog.exportProperty(ol.control.ZoomToExtent.prototype,"get",ol.control.ZoomToExtent.prototype.get);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getKeys",ol.control.ZoomToExtent.prototype.getKeys);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getProperties",ol.control.ZoomToExtent.prototype.getProperties);goog.exportProperty(ol.control.ZoomToExtent.prototype,"set",ol.control.ZoomToExtent.prototype.set);goog.exportProperty(ol.control.ZoomToExtent.prototype,"setProperties",ol.control.ZoomToExtent.prototype.setProperties);
goog.exportProperty(ol.control.ZoomToExtent.prototype,"unset",ol.control.ZoomToExtent.prototype.unset);goog.exportProperty(ol.control.ZoomToExtent.prototype,"changed",ol.control.ZoomToExtent.prototype.changed);goog.exportProperty(ol.control.ZoomToExtent.prototype,"dispatchEvent",ol.control.ZoomToExtent.prototype.dispatchEvent);goog.exportProperty(ol.control.ZoomToExtent.prototype,"getRevision",ol.control.ZoomToExtent.prototype.getRevision);goog.exportProperty(ol.control.ZoomToExtent.prototype,"on",ol.control.ZoomToExtent.prototype.on);goog.exportProperty(ol.control.ZoomToExtent.prototype,"once",ol.control.ZoomToExtent.prototype.once);goog.exportProperty(ol.control.ZoomToExtent.prototype,"un",ol.control.ZoomToExtent.prototype.un);ol.VERSION="v4.0.1";OPENLAYERS.ol=ol;return OPENLAYERS.ol})}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],31:[function(e,t,o){var r=e("mgrs");function i(e,t,o){if(!(this instanceof i)){return new i(e,t,o)}if(Array.isArray(e)){this.x=e[0];this.y=e[1];this.z=e[2]||0}else if(typeof e==="object"){this.x=e.x;this.y=e.y;this.z=e.z||0}else if(typeof e==="string"&&typeof t==="undefined"){var r=e.split(",");this.x=parseFloat(r[0],10);this.y=parseFloat(r[1],10);this.z=parseFloat(r[2],10)||0}else{this.x=e;this.y=t;this.z=o||0}console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}i.fromMGRS=function(e){return new i(r.toPoint(e))};i.prototype.toMGRS=function(e){return r.forward([this.x,this.y],e)};t.exports=i},{mgrs:98}],32:[function(e,t,o){var r=e("./parseCode");var i=e("./extend");var n=e("./projections");var a=e("./deriveConstants");function l(e,t){if(!(this instanceof l)){return new l(e)}t=t||function(e){if(e){throw e}};var o=r(e);if(typeof o!=="object"){t(e);return}var n=a(o);var s=l.projections.get(n.projName);if(s){i(this,n);i(this,s);this.init();t(null,this)}else{t(e)}}l.projections=n;l.projections.start();t.exports=l},{"./deriveConstants":63,"./extend":64,"./parseCode":68,"./projections":70}],33:[function(e,t,o){t.exports=function(e,t,o){var r=o.x,i=o.y,n=o.z||0;var a,l,s;for(s=0;s<3;s++){if(t&&s===2&&o.z===undefined){continue}if(s===0){a=r;l="x"}else if(s===1){a=i;l="y"}else{a=n;l="z"}switch(e.axis[s]){case"e":o[l]=a;break;case"w":o[l]=-a;break;case"n":o[l]=a;break;case"s":o[l]=-a;break;case"u":if(o[l]!==undefined){o.z=a}break;case"d":if(o[l]!==undefined){o.z=-a}break;default:return null}}return o}},{}],34:[function(e,t,o){var r=Math.PI/2;var i=e("./sign");t.exports=function(e){return Math.abs(e)<r?e:e-i(e)*Math.PI}},{"./sign":51}],35:[function(e,t,o){var r=Math.PI*2;var i=3.14159265359;var n=e("./sign");t.exports=function(e){return Math.abs(e)<=i?e:e-n(e)*r}},{"./sign":51}],36:[function(e,t,o){t.exports=function(e){if(Math.abs(e)>1){e=e>1?1:-1}return Math.asin(e)}},{}],37:[function(e,t,o){t.exports=function(e){return 1-.25*e*(1+e/16*(3+1.25*e))}},{}],38:[function(e,t,o){t.exports=function(e){return.375*e*(1+.25*e*(1+.46875*e))}},{}],39:[function(e,t,o){t.exports=function(e){return.05859375*e*e*(1+.75*e)}},{}],40:[function(e,t,o){t.exports=function(e){return e*e*e*(35/3072)}},{}],41:[function(e,t,o){t.exports=function(e,t,o){var r=t*o;return e/Math.sqrt(1-r*r)}},{}],42:[function(e,t,o){t.exports=function(e,t,o,r,i){var n;var a;n=e/t;for(var l=0;l<15;l++){a=(e-(t*n-o*Math.sin(2*n)+r*Math.sin(4*n)-i*Math.sin(6*n)))/(t-2*o*Math.cos(2*n)+4*r*Math.cos(4*n)-6*i*Math.cos(6*n));n+=a;if(Math.abs(a)<=1e-10){return n}}return NaN}},{}],43:[function(e,t,o){var r=Math.PI/2;t.exports=function(e,t){var o=1-(1-e*e)/(2*e)*Math.log((1-e)/(1+e));if(Math.abs(Math.abs(t)-o)<1e-6){if(t<0){return-1*r}else{return r}}var i=Math.asin(.5*t);var n;var a;var l;var s;for(var p=0;p<30;p++){a=Math.sin(i);l=Math.cos(i);s=e*a;n=Math.pow(1-s*s,2)/(2*l)*(t/(1-e*e)-a/(1-s*s)+.5/e*Math.log((1-s)/(1+s)));i+=n;if(Math.abs(n)<=1e-10){return i}}return NaN}},{}],44:[function(e,t,o){t.exports=function(e,t,o,r,i){return e*i-t*Math.sin(2*i)+o*Math.sin(4*i)-r*Math.sin(6*i)}},{}],45:[function(e,t,o){t.exports=function(e,t,o){var r=e*t;return o/Math.sqrt(1-r*r)}},{}],46:[function(e,t,o){var r=Math.PI/2;t.exports=function(e,t){var o=.5*e;var i,n;var a=r-2*Math.atan(t);for(var l=0;l<=15;l++){i=e*Math.sin(a);n=r-2*Math.atan(t*Math.pow((1-i)/(1+i),o))-a;a+=n;if(Math.abs(n)<=1e-10){return a}}return-9999}},{}],47:[function(e,t,o){var r=1;var i=.25;var n=.046875;var a=.01953125;var l=.01068115234375;var s=.75;var p=.46875;var u=.013020833333333334;var c=.007120768229166667;var g=.3645833333333333;var h=.005696614583333333;var f=.3076171875;t.exports=function(e){var t=[];t[0]=r-e*(i+e*(n+e*(a+e*l)));t[1]=e*(s-e*(n+e*(a+e*l)));var o=e*e;t[2]=o*(p-e*(u+e*c));o*=e;t[3]=o*(g-e*h);t[4]=o*e*f;return t}},{}],48:[function(e,t,o){var r=e("./pj_mlfn");var i=1e-10;var n=20;t.exports=function(e,t,o){var a=1/(1-t);var l=e;for(var s=n;s;--s){var p=Math.sin(l);var u=1-t*p*p;u=(r(l,p,Math.cos(l),o)-e)*(u*Math.sqrt(u))*a;l-=u;if(Math.abs(u)<i){return l}}return l}},{"./pj_mlfn":49}],49:[function(e,t,o){t.exports=function(e,t,o,r){o*=t;t*=t;return r[0]*e-o*(r[1]+t*(r[2]+t*(r[3]+t*r[4])))}},{}],50:[function(e,t,o){t.exports=function(e,t){var o;if(e>1e-7){o=e*t;return(1-e*e)*(t/(1-o*o)-.5/e*Math.log((1-o)/(1+o)))}else{return 2*t}}},{}],51:[function(e,t,o){t.exports=function(e){return e<0?-1:1}},{}],52:[function(e,t,o){t.exports=function(e,t){return Math.pow((1-e)/(1+e),t)}},{}],53:[function(e,t,o){t.exports=function(e){var t={x:e[0],y:e[1]};if(e.length>2){t.z=e[2]}if(e.length>3){t.m=e[3]}return t}},{}],54:[function(e,t,o){var r=Math.PI/2;t.exports=function(e,t,o){var i=e*o;var n=.5*e;i=Math.pow((1-i)/(1+i),n);return Math.tan(.5*(r-t))/i}},{}],55:[function(e,t,o){o.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"};o.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"};o.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"};o.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"};o.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"};o.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"};o.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"};o.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"};o.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"};o.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"};o.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"};o.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"};o.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"};o.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"};o.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"};o.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],56:[function(e,t,o){o.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"};o.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"};o.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"};o.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"};o.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"};o.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"};o.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"};o.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"};o.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"};o.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"};o.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"};o.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"};o.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"};o.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"};o.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."};o.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"};o.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"};o.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"};o.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"};o.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"};o.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"};o.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"};o.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"};o.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"};o.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"};o.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"};o.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"};o.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"};o.hough={a:6378270,rf:297,ellipseName:"Hough"};o.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"};o.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"};o.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"};o.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"};o.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"};o.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"};o.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"};o.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"};o.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"};o.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"};o.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"};o.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};o.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};o.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],57:[function(e,t,o){o.greenwich=0;o.lisbon=-9.131906111111;o.paris=2.337229166667;o.bogota=-74.080916666667;o.madrid=-3.687938888889;o.rome=12.452333333333;o.bern=7.439583333333;o.jakarta=106.807719444444;o.ferro=-17.666666666667;o.brussels=4.367975;o.stockholm=18.058277777778;o.athens=23.7163375;o.oslo=10.722916666667},{}],58:[function(e,t,o){o.ft={to_meter:.3048};o["us-ft"]={to_meter:1200/3937}},{}],59:[function(e,t,o){var r=e("./Proj");var i=e("./transform");var n=r("WGS84");function a(e,t,o){var r;if(Array.isArray(o)){r=i(e,t,o);if(o.length===3){return[r.x,r.y,r.z]}else{return[r.x,r.y]}}else{return i(e,t,o)}}function l(e){if(e instanceof r){return e}if(e.oProj){return e.oProj}return r(e)}function s(e,t,o){e=l(e);var r=false;var i;if(typeof t==="undefined"){t=e;e=n;r=true}else if(typeof t.x!=="undefined"||Array.isArray(t)){o=t;t=e;e=n;r=true}t=l(t);if(o){return a(e,t,o)}else{i={forward:function(o){return a(e,t,o)},inverse:function(o){return a(t,e,o)}};if(r){i.oProj=t}return i}}t.exports=s},{"./Proj":32,"./transform":96}],60:[function(e,t,o){var r=Math.PI/2;var i=1;var n=2;var a=3;var l=4;var s=5;var p=484813681109536e-20;var u=1.0026;var c=.3826834323650898;var g=function(e){if(!(this instanceof g)){return new g(e)}this.datum_type=l;if(!e){return}if(e.datumCode&&e.datumCode==="none"){this.datum_type=s}if(e.datum_params){for(var t=0;t<e.datum_params.length;t++){e.datum_params[t]=parseFloat(e.datum_params[t])}if(e.datum_params[0]!==0||e.datum_params[1]!==0||e.datum_params[2]!==0){this.datum_type=i}if(e.datum_params.length>3){if(e.datum_params[3]!==0||e.datum_params[4]!==0||e.datum_params[5]!==0||e.datum_params[6]!==0){this.datum_type=n;e.datum_params[3]*=p;e.datum_params[4]*=p;e.datum_params[5]*=p;e.datum_params[6]=e.datum_params[6]/1e6+1}}}this.datum_type=e.grids?a:this.datum_type;this.a=e.a;this.b=e.b;this.es=e.es;this.ep2=e.ep2;this.datum_params=e.datum_params;if(this.datum_type===a){this.grids=e.grids}};g.prototype={compare_datums:function(e){if(this.datum_type!==e.datum_type){return false}else if(this.a!==e.a||Math.abs(this.es-e.es)>5e-11){return false}else if(this.datum_type===i){return this.datum_params[0]===e.datum_params[0]&&this.datum_params[1]===e.datum_params[1]&&this.datum_params[2]===e.datum_params[2]}else if(this.datum_type===n){return this.datum_params[0]===e.datum_params[0]&&this.datum_params[1]===e.datum_params[1]&&this.datum_params[2]===e.datum_params[2]&&this.datum_params[3]===e.datum_params[3]&&this.datum_params[4]===e.datum_params[4]&&this.datum_params[5]===e.datum_params[5]&&this.datum_params[6]===e.datum_params[6]}else if(this.datum_type===a||e.datum_type===a){return this.nadgrids===e.nadgrids}else{return true}},geodetic_to_geocentric:function(e){var t=e.x;var o=e.y;var i=e.z?e.z:0;var n;var a;var l;var s=0;var p;var u;var c;var g;if(o<-r&&o>-1.001*r){o=-r}else if(o>r&&o<1.001*r){o=r}else if(o<-r||o>r){return null}if(t>Math.PI){t-=2*Math.PI}u=Math.sin(o);g=Math.cos(o);c=u*u;p=this.a/Math.sqrt(1-this.es*c);n=(p+i)*g*Math.cos(t);a=(p+i)*g*Math.sin(t);l=(p*(1-this.es)+i)*u;e.x=n;e.y=a;e.z=l;return s},geocentric_to_geodetic:function(e){var t=1e-12;var o=t*t;var i=30;var n;var a;var l;var s;var p;var u;var c;var g;var h;var f;var d;var y;var m;var v;var _=e.x;var x=e.y;var S=e.z?e.z:0;var P;var E;var T;m=false;n=Math.sqrt(_*_+x*x);a=Math.sqrt(_*_+x*x+S*S);if(n/this.a<t){m=true;P=0;if(a/this.a<t){E=r;T=-this.b;return}}else{P=Math.atan2(x,_)}l=S/a;s=n/a;p=1/Math.sqrt(1-this.es*(2-this.es)*s*s);g=s*(1-this.es)*p;h=l*p;v=0;do{v++;c=this.a/Math.sqrt(1-this.es*h*h);T=n*g+S*h-c*(1-this.es*h*h);u=this.es*c/(c+T);p=1/Math.sqrt(1-u*(2-u)*s*s);f=s*(1-u)*p;d=l*p;y=d*g-f*h;g=f;h=d}while(y*y>o&&v<i);E=Math.atan(d/Math.abs(f));e.x=P;e.y=E;e.z=T;return e},geocentric_to_geodetic_noniter:function(e){var t=e.x;var o=e.y;var i=e.z?e.z:0;var n;var a;var l;var s;var p;var g;var h;var f;var d;var y;var m;var v;var _;var x;var S;var P;var E;t=parseFloat(t);o=parseFloat(o);i=parseFloat(i);E=false;if(t!==0){n=Math.atan2(o,t)}else{if(o>0){n=r}else if(o<0){n=-r}else{E=true;n=0;if(i>0){a=r}else if(i<0){a=-r}else{a=r;l=-this.b;return}}}p=t*t+o*o;s=Math.sqrt(p);g=i*u;f=Math.sqrt(g*g+p);y=g/f;v=s/f;m=y*y*y;h=i+this.b*this.ep2*m;P=s-this.a*this.es*v*v*v;d=Math.sqrt(h*h+P*P);_=h/d;x=P/d;S=this.a/Math.sqrt(1-this.es*_*_);if(x>=c){l=s/x-S}else if(x<=-c){l=s/-x-S}else{l=i/_+S*(this.es-1)}if(E===false){a=Math.atan(_/x)}e.x=n;e.y=a;e.z=l;return e},geocentric_to_wgs84:function(e){if(this.datum_type===i){e.x+=this.datum_params[0];e.y+=this.datum_params[1];e.z+=this.datum_params[2]}else if(this.datum_type===n){var t=this.datum_params[0];var o=this.datum_params[1];var r=this.datum_params[2];var a=this.datum_params[3];var l=this.datum_params[4];var s=this.datum_params[5];var p=this.datum_params[6];var u=p*(e.x-s*e.y+l*e.z)+t;var c=p*(s*e.x+e.y-a*e.z)+o;var g=p*(-l*e.x+a*e.y+e.z)+r;e.x=u;e.y=c;e.z=g}},geocentric_from_wgs84:function(e){if(this.datum_type===i){e.x-=this.datum_params[0];e.y-=this.datum_params[1];e.z-=this.datum_params[2]}else if(this.datum_type===n){var t=this.datum_params[0];var o=this.datum_params[1];var r=this.datum_params[2];var a=this.datum_params[3];var l=this.datum_params[4];var s=this.datum_params[5];var p=this.datum_params[6];var u=(e.x-t)/p;var c=(e.y-o)/p;var g=(e.z-r)/p;e.x=u+s*c-l*g;e.y=-s*u+c+a*g;e.z=l*u-a*c+g}}};t.exports=g},{}],61:[function(e,t,o){var r=1;var i=2;var n=3;var a=5;var l=6378137;var s=.006694379990141316;t.exports=function(e,t,o){var p,u,c;function g(e){return e===r||e===i}if(e.compare_datums(t)){return o}if(e.datum_type===a||t.datum_type===a){return o}var h=e.a;var f=e.es;var d=t.a;var y=t.es;var m=e.datum_type;if(m===n){if(this.apply_gridshift(e,0,o)===0){e.a=l;e.es=s}else{if(!e.datum_params){e.a=h;e.es=e.es;return o}p=1;for(u=0,c=e.datum_params.length;u<c;u++){p*=e.datum_params[u]}if(p===0){e.a=h;e.es=e.es;return o}if(e.datum_params.length>3){m=i}else{m=r}}}if(t.datum_type===n){t.a=l;t.es=s}if(e.es!==t.es||e.a!==t.a||g(m)||g(t.datum_type)){e.geodetic_to_geocentric(o);if(g(e.datum_type)){e.geocentric_to_wgs84(o)}if(g(t.datum_type)){t.geocentric_from_wgs84(o)}t.geocentric_to_geodetic(o)}if(t.datum_type===n){this.apply_gridshift(t,1,o)}e.a=h;e.es=f;t.a=d;t.es=y;return o}},{}],62:[function(e,t,o){var r=e("./global");var i=e("./projString");var n=e("./wkt");function a(e){var t=this;if(arguments.length===2){var o=arguments[1];if(typeof o==="string"){if(o.charAt(0)==="+"){a[e]=i(arguments[1])}else{a[e]=n(arguments[1])}}else{a[e]=o}}else if(arguments.length===1){if(Array.isArray(e)){return e.map(function(e){if(Array.isArray(e)){a.apply(t,e)}else{a(e)}})}else if(typeof e==="string"){if(e in a){return a[e]}}else if("EPSG"in e){a["EPSG:"+e.EPSG]=e}else if("ESRI"in e){a["ESRI:"+e.ESRI]=e}else if("IAU2000"in e){a["IAU2000:"+e.IAU2000]=e}else{console.log(e)}return}}r(a);t.exports=a},{"./global":65,"./projString":69,"./wkt":97}],63:[function(e,t,o){var r=e("./constants/Datum");var i=e("./constants/Ellipsoid");var n=e("./extend");var a=e("./datum");var l=1e-10;var s=.16666666666666666;var p=.04722222222222222;var u=.022156084656084655;t.exports=function(e){if(e.datumCode&&e.datumCode!=="none"){var t=r[e.datumCode];if(t){e.datum_params=t.towgs84?t.towgs84.split(","):null;e.ellps=t.ellipse;e.datumName=t.datumName?t.datumName:e.datumCode}}if(!e.a){var o=i[e.ellps]?i[e.ellps]:i.WGS84;n(e,o)}if(e.rf&&!e.b){e.b=(1-1/e.rf)*e.a}if(e.rf===0||Math.abs(e.a-e.b)<l){e.sphere=true;e.b=e.a}e.a2=e.a*e.a;e.b2=e.b*e.b;e.es=(e.a2-e.b2)/e.a2;e.e=Math.sqrt(e.es);if(e.R_A){e.a*=1-e.es*(s+e.es*(p+e.es*u));e.a2=e.a*e.a;e.b2=e.b*e.b;e.es=0}e.ep2=(e.a2-e.b2)/e.b2;if(!e.k0){e.k0=1}if(!e.axis){e.axis="enu"}if(!e.datum){e.datum=a(e)}return e}},{"./constants/Datum":55,"./constants/Ellipsoid":56,"./datum":60,"./extend":64}],64:[function(e,t,o){t.exports=function(e,t){e=e||{};var o,r;if(!t){return e}for(r in t){o=t[r];if(o!==undefined){e[r]=o}}return e}},{}],65:[function(e,t,o){t.exports=function(e){e("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees");e("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees");e("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs");e.WGS84=e["EPSG:4326"];e["EPSG:3785"]=e["EPSG:3857"];e.GOOGLE=e["EPSG:3857"];e["EPSG:900913"]=e["EPSG:3857"];e["EPSG:102113"]=e["EPSG:3857"]}},{}],66:[function(e,t,o){var r=[e("./projections/tmerc"),e("./projections/utm"),e("./projections/sterea"),e("./projections/stere"),e("./projections/somerc"),e("./projections/omerc"),e("./projections/lcc"),e("./projections/krovak"),e("./projections/cass"),e("./projections/laea"),e("./projections/aea"),e("./projections/gnom"),e("./projections/cea"),e("./projections/eqc"),e("./projections/poly"),e("./projections/nzmg"),e("./projections/mill"),e("./projections/sinu"),e("./projections/moll"),e("./projections/eqdc"),e("./projections/vandg"),e("./projections/aeqd")];t.exports=function(e){r.forEach(function(t){e.Proj.projections.add(t)})}},{"./projections/aea":71,"./projections/aeqd":72,"./projections/cass":73,"./projections/cea":74,"./projections/eqc":75,"./projections/eqdc":76,"./projections/gnom":78,"./projections/krovak":79,"./projections/laea":80,"./projections/lcc":81,"./projections/mill":84,"./projections/moll":85,"./projections/nzmg":86,"./projections/omerc":87,"./projections/poly":88,"./projections/sinu":89,"./projections/somerc":90,"./projections/stere":91,"./projections/sterea":92,"./projections/tmerc":93,"./projections/utm":94,"./projections/vandg":95}],67:[function(e,t,o){var r=e("./core");r.defaultDatum="WGS84";r.Proj=e("./Proj");r.WGS84=new r.Proj("WGS84");r.Point=e("./Point");r.toPoint=e("./common/toPoint");r.defs=e("./defs");r.transform=e("./transform");r.mgrs=e("mgrs");r.version=e("../package.json").version;e("./includedProjections")(r);t.exports=r},{"../package.json":99,"./Point":31,"./Proj":32,"./common/toPoint":53,"./core":59,"./defs":62,"./includedProjections":66,"./transform":96,mgrs:98}],68:[function(e,t,o){var r=e("./defs");var i=e("./wkt");var n=e("./projString");function a(e){return typeof e==="string"}function l(e){return e in r}function s(e){var t=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return t.reduce(function(t,o){return t+1+e.indexOf(o)},0)}function p(e){return e[0]==="+"}function u(e){if(a(e)){if(l(e)){return r[e]}else if(s(e)){return i(e)}else if(p(e)){return n(e)}}else{return e}}t.exports=u},{"./defs":62,"./projString":69,"./wkt":97}],69:[function(e,t,o){var r=.017453292519943295;var i=e("./constants/PrimeMeridian");var n=e("./constants/units");t.exports=function(e){var t={};var o={};e.split("+").map(function(e){return e.trim()}).filter(function(e){return e}).forEach(function(e){var t=e.split("=");t.push(true);o[t[0].toLowerCase()]=t[1]});var a,l,s;var p={proj:"projName",datum:"datumCode",rf:function(e){t.rf=parseFloat(e)},lat_0:function(e){t.lat0=e*r},lat_1:function(e){t.lat1=e*r},lat_2:function(e){t.lat2=e*r},lat_ts:function(e){t.lat_ts=e*r},lon_0:function(e){t.long0=e*r},lon_1:function(e){t.long1=e*r},lon_2:function(e){t.long2=e*r},alpha:function(e){t.alpha=parseFloat(e)*r},lonc:function(e){t.longc=e*r},x_0:function(e){t.x0=parseFloat(e)},y_0:function(e){t.y0=parseFloat(e)},k_0:function(e){t.k0=parseFloat(e)},k:function(e){t.k0=parseFloat(e)},a:function(e){t.a=parseFloat(e)},b:function(e){t.b=parseFloat(e)},r_a:function(){t.R_A=true},zone:function(e){t.zone=parseInt(e,10)},south:function(){t.utmSouth=true},towgs84:function(e){t.datum_params=e.split(",").map(function(e){return parseFloat(e)})},to_meter:function(e){t.to_meter=parseFloat(e)},units:function(e){t.units=e;if(n[e]){t.to_meter=n[e].to_meter}},from_greenwich:function(e){t.from_greenwich=e*r},pm:function(e){t.from_greenwich=(i[e]?i[e]:parseFloat(e))*r},nadgrids:function(e){if(e==="@null"){t.datumCode="none"}else{t.nadgrids=e}},axis:function(e){var o="ewnsud";if(e.length===3&&o.indexOf(e.substr(0,1))!==-1&&o.indexOf(e.substr(1,1))!==-1&&o.indexOf(e.substr(2,1))!==-1){t.axis=e}}};for(a in o){l=o[a];if(a in p){s=p[a];if(typeof s==="function"){s(l)}else{t[s]=l}}else{t[a]=l}}if(typeof t.datumCode==="string"&&t.datumCode!=="WGS84"){t.datumCode=t.datumCode.toLowerCase()}return t}},{"./constants/PrimeMeridian":57,"./constants/units":58}],70:[function(e,t,o){var r=[e("./projections/merc"),e("./projections/longlat")];var i={};var n=[];function a(e,t){var o=n.length;if(!e.names){console.log(t);return true}n[o]=e;e.names.forEach(function(e){i[e.toLowerCase()]=o});return this}o.add=a;o.get=function(e){if(!e){return false}var t=e.toLowerCase();if(typeof i[t]!=="undefined"&&n[i[t]]){return n[i[t]]}};o.start=function(){r.forEach(a)}},{"./projections/longlat":82,"./projections/merc":83}],71:[function(e,t,o){var r=1e-10;var i=e("../common/msfnz");var n=e("../common/qsfnz");var a=e("../common/adjust_lon");var l=e("../common/asinz");o.init=function(){if(Math.abs(this.lat1+this.lat2)<r){return}this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e3=Math.sqrt(this.es);this.sin_po=Math.sin(this.lat1);this.cos_po=Math.cos(this.lat1);this.t1=this.sin_po;this.con=this.sin_po;this.ms1=i(this.e3,this.sin_po,this.cos_po);this.qs1=n(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat2);this.cos_po=Math.cos(this.lat2);this.t2=this.sin_po;this.ms2=i(this.e3,this.sin_po,this.cos_po);this.qs2=n(this.e3,this.sin_po,this.cos_po);this.sin_po=Math.sin(this.lat0);this.cos_po=Math.cos(this.lat0);this.t3=this.sin_po;this.qs0=n(this.e3,this.sin_po,this.cos_po);if(Math.abs(this.lat1-this.lat2)>r){this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1)}else{this.ns0=this.con}this.c=this.ms1*this.ms1+this.ns0*this.qs1;this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0};o.forward=function(e){var t=e.x;var o=e.y;this.sin_phi=Math.sin(o);this.cos_phi=Math.cos(o);var r=n(this.e3,this.sin_phi,this.cos_phi);var i=this.a*Math.sqrt(this.c-this.ns0*r)/this.ns0;var l=this.ns0*a(t-this.long0);var s=i*Math.sin(l)+this.x0;var p=this.rh-i*Math.cos(l)+this.y0;e.x=s;e.y=p;return e};o.inverse=function(e){var t,o,r,i,n,l;e.x-=this.x0;e.y=this.rh-e.y+this.y0;if(this.ns0>=0){t=Math.sqrt(e.x*e.x+e.y*e.y);r=1}else{t=-Math.sqrt(e.x*e.x+e.y*e.y);r=-1}i=0;if(t!==0){i=Math.atan2(r*e.x,r*e.y)}r=t*this.ns0/this.a;if(this.sphere){l=Math.asin((this.c-r*r)/(2*this.ns0))}else{o=(this.c-r*r)/this.ns0;l=this.phi1z(this.e3,o)}n=a(i/this.ns0+this.long0);e.x=n;e.y=l;return e};o.phi1z=function(e,t){var o,i,n,a,s;var p=l(.5*t);if(e<r){return p}var u=e*e;for(var c=1;c<=25;c++){o=Math.sin(p);i=Math.cos(p);n=e*o;a=1-n*n;s=.5*a*a/i*(t/(1-u)-o/a+.5/e*Math.log((1-n)/(1+n)));p=p+s;if(Math.abs(s)<=1e-7){return p}}return null};o.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":35,"../common/asinz":36,"../common/msfnz":45,"../common/qsfnz":50}],72:[function(e,t,o){var r=e("../common/adjust_lon");var i=Math.PI/2;var n=1e-10;var a=e("../common/mlfn");var l=e("../common/e0fn");var s=e("../common/e1fn");var p=e("../common/e2fn");var u=e("../common/e3fn");var c=e("../common/gN");var g=e("../common/asinz");var h=e("../common/imlfn");o.init=function(){this.sin_p12=Math.sin(this.lat0);this.cos_p12=Math.cos(this.lat0)};o.forward=function(e){var t=e.x;var o=e.y;var g=Math.sin(e.y);var h=Math.cos(e.y);var f=r(t-this.long0);var d,y,m,v,_,x,S,P,E,T,b,M,C,R,w,L,I,A,O,N,F,G,D;if(this.sphere){if(Math.abs(this.sin_p12-1)<=n){e.x=this.x0+this.a*(i-o)*Math.sin(f);e.y=this.y0-this.a*(i-o)*Math.cos(f);return e}else if(Math.abs(this.sin_p12+1)<=n){e.x=this.x0+this.a*(i+o)*Math.sin(f);e.y=this.y0+this.a*(i+o)*Math.cos(f);return e}else{A=this.sin_p12*g+this.cos_p12*h*Math.cos(f);L=Math.acos(A);I=L/Math.sin(L);e.x=this.x0+this.a*I*h*Math.sin(f);e.y=this.y0+this.a*I*(this.cos_p12*g-this.sin_p12*h*Math.cos(f));return e}}else{d=l(this.es);y=s(this.es);m=p(this.es);v=u(this.es);if(Math.abs(this.sin_p12-1)<=n){_=this.a*a(d,y,m,v,i);x=this.a*a(d,y,m,v,o);e.x=this.x0+(_-x)*Math.sin(f);e.y=this.y0-(_-x)*Math.cos(f);return e}else if(Math.abs(this.sin_p12+1)<=n){_=this.a*a(d,y,m,v,i);x=this.a*a(d,y,m,v,o);e.x=this.x0+(_+x)*Math.sin(f);e.y=this.y0+(_+x)*Math.cos(f);return e}else{S=g/h;P=c(this.a,this.e,this.sin_p12);E=c(this.a,this.e,g);T=Math.atan((1-this.es)*S+this.es*P*this.sin_p12/(E*h));b=Math.atan2(Math.sin(f),this.cos_p12*Math.tan(T)-this.sin_p12*Math.cos(f));if(b===0){O=Math.asin(this.cos_p12*Math.sin(T)-this.sin_p12*Math.cos(T))}else if(Math.abs(Math.abs(b)-Math.PI)<=n){O=-Math.asin(this.cos_p12*Math.sin(T)-this.sin_p12*Math.cos(T))}else{O=Math.asin(Math.sin(f)*Math.cos(T)/Math.sin(b))}M=this.e*this.sin_p12/Math.sqrt(1-this.es);C=this.e*this.cos_p12*Math.cos(b)/Math.sqrt(1-this.es);R=M*C;w=C*C;N=O*O;F=N*O;G=F*O;D=G*O;L=P*O*(1-N*w*(1-w)/6+F/8*R*(1-2*w)+G/120*(w*(4-7*w)-3*M*M*(1-7*w))-D/48*R);e.x=this.x0+L*Math.sin(b);e.y=this.y0+L*Math.cos(b);return e}}};o.inverse=function(e){e.x-=this.x0;e.y-=this.y0;var t,o,f,d,y,m,v,_,x,S,P,E,T,b,M,C,R,w,L,I,A,O,N;if(this.sphere){t=Math.sqrt(e.x*e.x+e.y*e.y);if(t>2*i*this.a){return}o=t/this.a;f=Math.sin(o);d=Math.cos(o);y=this.long0;if(Math.abs(t)<=n){m=this.lat0}else{m=g(d*this.sin_p12+e.y*f*this.cos_p12/t);v=Math.abs(this.lat0)-i;if(Math.abs(v)<=n){if(this.lat0>=0){y=r(this.long0+Math.atan2(e.x,-e.y))}else{y=r(this.long0-Math.atan2(-e.x,e.y))}}else{y=r(this.long0+Math.atan2(e.x*f,t*this.cos_p12*d-e.y*this.sin_p12*f))}}e.x=y;e.y=m;return e}else{_=l(this.es);x=s(this.es);S=p(this.es);P=u(this.es);if(Math.abs(this.sin_p12-1)<=n){E=this.a*a(_,x,S,P,i);t=Math.sqrt(e.x*e.x+e.y*e.y);T=E-t;m=h(T/this.a,_,x,S,P);y=r(this.long0+Math.atan2(e.x,-1*e.y));e.x=y;e.y=m;return e}else if(Math.abs(this.sin_p12+1)<=n){E=this.a*a(_,x,S,P,i);t=Math.sqrt(e.x*e.x+e.y*e.y);T=t-E;m=h(T/this.a,_,x,S,P);y=r(this.long0+Math.atan2(e.x,e.y));e.x=y;e.y=m;return e}else{t=Math.sqrt(e.x*e.x+e.y*e.y);C=Math.atan2(e.x,e.y);b=c(this.a,this.e,this.sin_p12);R=Math.cos(C);w=this.e*this.cos_p12*R;L=-w*w/(1-this.es);I=3*this.es*(1-L)*this.sin_p12*this.cos_p12*R/(1-this.es);A=t/b;O=A-L*(1+L)*Math.pow(A,3)/6-I*(1+3*L)*Math.pow(A,4)/24;N=1-L*O*O/2-A*O*O*O/6;M=Math.asin(this.sin_p12*Math.cos(O)+this.cos_p12*Math.sin(O)*R);y=r(this.long0+Math.asin(Math.sin(C)*Math.sin(O)/Math.cos(M)));m=Math.atan((1-this.es*N*this.sin_p12/Math.sin(M))*Math.tan(M)/(1-this.es));e.x=y;e.y=m;return e}}};o.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":35,"../common/asinz":36,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/gN":41,"../common/imlfn":42,"../common/mlfn":44}],73:[function(e,t,o){var r=e("../common/mlfn");var i=e("../common/e0fn");var n=e("../common/e1fn");var a=e("../common/e2fn");var l=e("../common/e3fn");var s=e("../common/gN");var p=e("../common/adjust_lon");var u=e("../common/adjust_lat");var c=e("../common/imlfn");var g=Math.PI/2;var h=1e-10;o.init=function(){if(!this.sphere){this.e0=i(this.es);this.e1=n(this.es);this.e2=a(this.es);this.e3=l(this.es);this.ml0=this.a*r(this.e0,this.e1,this.e2,this.e3,this.lat0)}};o.forward=function(e){var t,o;var i=e.x;var n=e.y;i=p(i-this.long0);if(this.sphere){t=this.a*Math.asin(Math.cos(n)*Math.sin(i));o=this.a*(Math.atan2(Math.tan(n),Math.cos(i))-this.lat0)}else{var a=Math.sin(n);var l=Math.cos(n);var u=s(this.a,this.e,a);var c=Math.tan(n)*Math.tan(n);var g=i*Math.cos(n);var h=g*g;var f=this.es*l*l/(1-this.es);var d=this.a*r(this.e0,this.e1,this.e2,this.e3,n);t=u*g*(1-h*c*(1/6-(8-c+8*f)*h/120));o=d-this.ml0+u*a/l*h*(.5+(5-c+6*f)*h/24)}e.x=t+this.x0;e.y=o+this.y0;return e};o.inverse=function(e){e.x-=this.x0;e.y-=this.y0;var t=e.x/this.a;var o=e.y/this.a;var r,i;if(this.sphere){var n=o+this.lat0;r=Math.asin(Math.sin(n)*Math.cos(t));i=Math.atan2(Math.tan(t),Math.cos(n))}else{var a=this.ml0/this.a+o;var l=c(a,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(l)-g)<=h){e.x=this.long0;e.y=g;if(o<0){e.y*=-1}return e}var f=s(this.a,this.e,Math.sin(l));var d=f*f*f/this.a/this.a*(1-this.es);var y=Math.pow(Math.tan(l),2);var m=t*this.a/f;var v=m*m;r=l-f*Math.tan(l)/d*m*m*(.5-(1+3*y)*m*m/24);i=m*(1-v*(y/3+(1+3*y)*y*v/15))/Math.cos(l)}e.x=p(i+this.long0);e.y=u(r);return e};o.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":34,"../common/adjust_lon":35,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/gN":41,"../common/imlfn":42,"../common/mlfn":44}],74:[function(e,t,o){var r=e("../common/adjust_lon");var i=e("../common/qsfnz");var n=e("../common/msfnz");var a=e("../common/iqsfnz");o.init=function(){if(!this.sphere){this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}};o.forward=function(e){var t=e.x;var o=e.y;var n,a;var l=r(t-this.long0);if(this.sphere){n=this.x0+this.a*l*Math.cos(this.lat_ts);a=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts)}else{var s=i(this.e,Math.sin(o));n=this.x0+this.a*this.k0*l;a=this.y0+this.a*s*.5/this.k0}e.x=n;e.y=a;return e};o.inverse=function(e){e.x-=this.x0;e.y-=this.y0;var t,o;if(this.sphere){t=r(this.long0+e.x/this.a/Math.cos(this.lat_ts));o=Math.asin(e.y/this.a*Math.cos(this.lat_ts))}else{o=a(this.e,2*e.y*this.k0/this.a);t=r(this.long0+e.x/(this.a*this.k0))}e.x=t;e.y=o;return e};o.names=["cea"]},{"../common/adjust_lon":35,"../common/iqsfnz":43,"../common/msfnz":45,"../common/qsfnz":50}],75:[function(e,t,o){var r=e("../common/adjust_lon");var i=e("../common/adjust_lat");o.init=function(){this.x0=this.x0||0;this.y0=this.y0||0;this.lat0=this.lat0||0;this.long0=this.long0||0;this.lat_ts=this.lat_ts||0;this.title=this.title||"Equidistant Cylindrical (Plate Carre)";this.rc=Math.cos(this.lat_ts)};o.forward=function(e){var t=e.x;var o=e.y;var n=r(t-this.long0);var a=i(o-this.lat0);e.x=this.x0+this.a*n*this.rc;e.y=this.y0+this.a*a;return e};o.inverse=function(e){var t=e.x;var o=e.y;e.x=r(this.long0+(t-this.x0)/(this.a*this.rc));e.y=i(this.lat0+(o-this.y0)/this.a);return e};o.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":34,
"../common/adjust_lon":35}],76:[function(e,t,o){var r=e("../common/e0fn");var i=e("../common/e1fn");var n=e("../common/e2fn");var a=e("../common/e3fn");var l=e("../common/msfnz");var s=e("../common/mlfn");var p=e("../common/adjust_lon");var u=e("../common/adjust_lat");var c=e("../common/imlfn");var g=1e-10;o.init=function(){if(Math.abs(this.lat1+this.lat2)<g){return}this.lat2=this.lat2||this.lat1;this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=r(this.es);this.e1=i(this.es);this.e2=n(this.es);this.e3=a(this.es);this.sinphi=Math.sin(this.lat1);this.cosphi=Math.cos(this.lat1);this.ms1=l(this.e,this.sinphi,this.cosphi);this.ml1=s(this.e0,this.e1,this.e2,this.e3,this.lat1);if(Math.abs(this.lat1-this.lat2)<g){this.ns=this.sinphi}else{this.sinphi=Math.sin(this.lat2);this.cosphi=Math.cos(this.lat2);this.ms2=l(this.e,this.sinphi,this.cosphi);this.ml2=s(this.e0,this.e1,this.e2,this.e3,this.lat2);this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)}this.g=this.ml1+this.ms1/this.ns;this.ml0=s(this.e0,this.e1,this.e2,this.e3,this.lat0);this.rh=this.a*(this.g-this.ml0)};o.forward=function(e){var t=e.x;var o=e.y;var r;if(this.sphere){r=this.a*(this.g-o)}else{var i=s(this.e0,this.e1,this.e2,this.e3,o);r=this.a*(this.g-i)}var n=this.ns*p(t-this.long0);var a=this.x0+r*Math.sin(n);var l=this.y0+this.rh-r*Math.cos(n);e.x=a;e.y=l;return e};o.inverse=function(e){e.x-=this.x0;e.y=this.rh-e.y+this.y0;var t,o,r,i;if(this.ns>=0){o=Math.sqrt(e.x*e.x+e.y*e.y);t=1}else{o=-Math.sqrt(e.x*e.x+e.y*e.y);t=-1}var n=0;if(o!==0){n=Math.atan2(t*e.x,t*e.y)}if(this.sphere){i=p(this.long0+n/this.ns);r=u(this.g-o/this.a);e.x=i;e.y=r;return e}else{var a=this.g-o/this.a;r=c(a,this.e0,this.e1,this.e2,this.e3);i=p(this.long0+n/this.ns);e.x=i;e.y=r;return e}};o.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":34,"../common/adjust_lon":35,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/imlfn":42,"../common/mlfn":44,"../common/msfnz":45}],77:[function(e,t,o){var r=Math.PI/4;var i=e("../common/srat");var n=Math.PI/2;var a=20;o.init=function(){var e=Math.sin(this.lat0);var t=Math.cos(this.lat0);t*=t;this.rc=Math.sqrt(1-this.es)/(1-this.es*e*e);this.C=Math.sqrt(1+this.es*t*t/(1-this.es));this.phic0=Math.asin(e/this.C);this.ratexp=.5*this.C*this.e;this.K=Math.tan(.5*this.phic0+r)/(Math.pow(Math.tan(.5*this.lat0+r),this.C)*i(this.e*e,this.ratexp))};o.forward=function(e){var t=e.x;var o=e.y;e.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*o+r),this.C)*i(this.e*Math.sin(o),this.ratexp))-n;e.x=this.C*t;return e};o.inverse=function(e){var t=1e-14;var o=e.x/this.C;var l=e.y;var s=Math.pow(Math.tan(.5*l+r)/this.K,1/this.C);for(var p=a;p>0;--p){l=2*Math.atan(s*i(this.e*Math.sin(e.y),-.5*this.e))-n;if(Math.abs(l-e.y)<t){break}e.y=l}if(!p){return null}e.x=o;e.y=l;return e};o.names=["gauss"]},{"../common/srat":52}],78:[function(e,t,o){var r=e("../common/adjust_lon");var i=1e-10;var n=e("../common/asinz");o.init=function(){this.sin_p14=Math.sin(this.lat0);this.cos_p14=Math.cos(this.lat0);this.infinity_dist=1e3*this.a;this.rc=1};o.forward=function(e){var t,o;var n;var a;var l;var s;var p,u;var c=e.x;var g=e.y;n=r(c-this.long0);t=Math.sin(g);o=Math.cos(g);a=Math.cos(n);s=this.sin_p14*t+this.cos_p14*o*a;l=1;if(s>0||Math.abs(s)<=i){p=this.x0+this.a*l*o*Math.sin(n)/s;u=this.y0+this.a*l*(this.cos_p14*t-this.sin_p14*o*a)/s}else{p=this.x0+this.infinity_dist*o*Math.sin(n);u=this.y0+this.infinity_dist*(this.cos_p14*t-this.sin_p14*o*a)}e.x=p;e.y=u;return e};o.inverse=function(e){var t;var o,i;var a;var l,s;e.x=(e.x-this.x0)/this.a;e.y=(e.y-this.y0)/this.a;e.x/=this.k0;e.y/=this.k0;if(t=Math.sqrt(e.x*e.x+e.y*e.y)){a=Math.atan2(t,this.rc);o=Math.sin(a);i=Math.cos(a);s=n(i*this.sin_p14+e.y*o*this.cos_p14/t);l=Math.atan2(e.x*o,t*this.cos_p14*i-e.y*this.sin_p14*o);l=r(this.long0+l)}else{s=this.phic0;l=0}e.x=l;e.y=s;return e};o.names=["gnom"]},{"../common/adjust_lon":35,"../common/asinz":36}],79:[function(e,t,o){var r=e("../common/adjust_lon");o.init=function(){this.a=6377397.155;this.es=.006674372230614;this.e=Math.sqrt(this.es);if(!this.lat0){this.lat0=.863937979737193}if(!this.long0){this.long0=.7417649320975901-.308341501185665}if(!this.k0){this.k0=.9999}this.s45=.785398163397448;this.s90=2*this.s45;this.fi0=this.lat0;this.e2=this.es;this.e=Math.sqrt(this.e2);this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2));this.uq=1.04216856380474;this.u0=Math.asin(Math.sin(this.fi0)/this.alfa);this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2);this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g;this.k1=this.k0;this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2));this.s0=1.37008346281555;this.n=Math.sin(this.s0);this.ro0=this.k1*this.n0/Math.tan(this.s0);this.ad=this.s90-this.uq};o.forward=function(e){var t,o,i,n,a,l,s;var p=e.x;var u=e.y;var c=r(p-this.long0);t=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2);o=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/t)-this.s45);i=-c*this.alfa;n=Math.asin(Math.cos(this.ad)*Math.sin(o)+Math.sin(this.ad)*Math.cos(o)*Math.cos(i));a=Math.asin(Math.cos(o)*Math.sin(i)/Math.cos(n));l=this.n*a;s=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(n/2+this.s45),this.n);e.y=s*Math.cos(l)/1;e.x=s*Math.sin(l)/1;if(!this.czech){e.y*=-1;e.x*=-1}return e};o.inverse=function(e){var t,o,r,i,n,a,l;var s;var p=e.x;e.x=e.y;e.y=p;if(!this.czech){e.y*=-1;e.x*=-1}a=Math.sqrt(e.x*e.x+e.y*e.y);n=Math.atan2(e.y,e.x);i=n/Math.sin(this.s0);r=2*(Math.atan(Math.pow(this.ro0/a,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45);t=Math.asin(Math.cos(this.ad)*Math.sin(r)-Math.sin(this.ad)*Math.cos(r)*Math.cos(i));o=Math.asin(Math.cos(r)*Math.sin(i)/Math.cos(t));e.x=this.long0-o/this.alfa;l=t;s=0;var u=0;do{e.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(t/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.e/2))-this.s45);if(Math.abs(l-e.y)<1e-10){s=1}l=e.y;u+=1}while(s===0&&u<15);if(u>=15){return null}return e};o.names=["Krovak","krovak"]},{"../common/adjust_lon":35}],80:[function(e,t,o){var r=Math.PI/2;var i=Math.PI/4;var n=1e-10;var a=e("../common/qsfnz");var l=e("../common/adjust_lon");o.S_POLE=1;o.N_POLE=2;o.EQUIT=3;o.OBLIQ=4;o.init=function(){var e=Math.abs(this.lat0);if(Math.abs(e-r)<n){this.mode=this.lat0<0?this.S_POLE:this.N_POLE}else if(Math.abs(e)<n){this.mode=this.EQUIT}else{this.mode=this.OBLIQ}if(this.es>0){var t;this.qp=a(this.e,1);this.mmf=.5/(1-this.es);this.apa=this.authset(this.es);switch(this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp);this.dd=1/this.rq;this.xmf=1;this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp);t=Math.sin(this.lat0);this.sinb1=a(this.e,t)/this.qp;this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1);this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*t*t)*this.rq*this.cosb1);this.ymf=(this.xmf=this.rq)/this.dd;this.xmf*=this.dd;break}}else{if(this.mode===this.OBLIQ){this.sinph0=Math.sin(this.lat0);this.cosph0=Math.cos(this.lat0)}}};o.forward=function(e){var t,o,s,p,u,c,g,h,f,d;var y=e.x;var m=e.y;y=l(y-this.long0);if(this.sphere){u=Math.sin(m);d=Math.cos(m);s=Math.cos(y);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){o=this.mode===this.EQUIT?1+d*s:1+this.sinph0*u+this.cosph0*d*s;if(o<=n){return null}o=Math.sqrt(2/o);t=o*d*Math.sin(y);o*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*d*s}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE){s=-s}if(Math.abs(m+this.phi0)<n){return null}o=i-m*.5;o=2*(this.mode===this.S_POLE?Math.cos(o):Math.sin(o));t=o*Math.sin(y);o*=s}}else{g=0;h=0;f=0;s=Math.cos(y);p=Math.sin(y);u=Math.sin(m);c=a(this.e,u);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){g=c/this.qp;h=Math.sqrt(1-g*g)}switch(this.mode){case this.OBLIQ:f=1+this.sinb1*g+this.cosb1*h*s;break;case this.EQUIT:f=1+h*s;break;case this.N_POLE:f=r+m;c=this.qp-c;break;case this.S_POLE:f=m-r;c=this.qp+c;break}if(Math.abs(f)<n){return null}switch(this.mode){case this.OBLIQ:case this.EQUIT:f=Math.sqrt(2/f);if(this.mode===this.OBLIQ){o=this.ymf*f*(this.cosb1*g-this.sinb1*h*s)}else{o=(f=Math.sqrt(2/(1+h*s)))*g*this.ymf}t=this.xmf*f*h*p;break;case this.N_POLE:case this.S_POLE:if(c>=0){t=(f=Math.sqrt(c))*p;o=s*(this.mode===this.S_POLE?f:-f)}else{t=o=0}break}}e.x=this.a*t+this.x0;e.y=this.a*o+this.y0;return e};o.inverse=function(e){e.x-=this.x0;e.y-=this.y0;var t=e.x/this.a;var o=e.y/this.a;var i,a,s,p,u,c,g;if(this.sphere){var h=0,f,d=0;f=Math.sqrt(t*t+o*o);a=f*.5;if(a>1){return null}a=2*Math.asin(a);if(this.mode===this.OBLIQ||this.mode===this.EQUIT){d=Math.sin(a);h=Math.cos(a)}switch(this.mode){case this.EQUIT:a=Math.abs(f)<=n?0:Math.asin(o*d/f);t*=d;o=h*f;break;case this.OBLIQ:a=Math.abs(f)<=n?this.phi0:Math.asin(h*this.sinph0+o*d*this.cosph0/f);t*=d*this.cosph0;o=(h-Math.sin(a)*this.sinph0)*f;break;case this.N_POLE:o=-o;a=r-a;break;case this.S_POLE:a-=r;break}i=o===0&&(this.mode===this.EQUIT||this.mode===this.OBLIQ)?0:Math.atan2(t,o)}else{g=0;if(this.mode===this.OBLIQ||this.mode===this.EQUIT){t/=this.dd;o*=this.dd;c=Math.sqrt(t*t+o*o);if(c<n){e.x=0;e.y=this.phi0;return e}p=2*Math.asin(.5*c/this.rq);s=Math.cos(p);t*=p=Math.sin(p);if(this.mode===this.OBLIQ){g=s*this.sinb1+o*p*this.cosb1/c;u=this.qp*g;o=c*this.cosb1*s-o*this.sinb1*p}else{g=o*p/c;u=this.qp*g;o=c*s}}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE){o=-o}u=t*t+o*o;if(!u){e.x=0;e.y=this.phi0;return e}g=1-u/this.qp;if(this.mode===this.S_POLE){g=-g}}i=Math.atan2(t,o);a=this.authlat(Math.asin(g),this.apa)}e.x=l(this.long0+i);e.y=a;return e};o.P00=.3333333333333333;o.P01=.17222222222222222;o.P02=.10257936507936508;o.P10=.06388888888888888;o.P11=.0664021164021164;o.P20=.016415012942191543;o.authset=function(e){var t;var o=[];o[0]=e*this.P00;t=e*e;o[0]+=t*this.P01;o[1]=t*this.P10;t*=e;o[0]+=t*this.P02;o[1]+=t*this.P11;o[2]=t*this.P20;return o};o.authlat=function(e,t){var o=e+e;return e+t[0]*Math.sin(o)+t[1]*Math.sin(o+o)+t[2]*Math.sin(o+o+o)};o.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":35,"../common/qsfnz":50}],81:[function(e,t,o){var r=1e-10;var i=e("../common/msfnz");var n=e("../common/tsfnz");var a=Math.PI/2;var l=e("../common/sign");var s=e("../common/adjust_lon");var p=e("../common/phi2z");o.init=function(){if(!this.lat2){this.lat2=this.lat1}if(!this.k0){this.k0=1}this.x0=this.x0||0;this.y0=this.y0||0;if(Math.abs(this.lat1+this.lat2)<r){return}var e=this.b/this.a;this.e=Math.sqrt(1-e*e);var t=Math.sin(this.lat1);var o=Math.cos(this.lat1);var a=i(this.e,t,o);var l=n(this.e,this.lat1,t);var s=Math.sin(this.lat2);var p=Math.cos(this.lat2);var u=i(this.e,s,p);var c=n(this.e,this.lat2,s);var g=n(this.e,this.lat0,Math.sin(this.lat0));if(Math.abs(this.lat1-this.lat2)>r){this.ns=Math.log(a/u)/Math.log(l/c)}else{this.ns=t}if(isNaN(this.ns)){this.ns=t}this.f0=a/(this.ns*Math.pow(l,this.ns));this.rh=this.a*this.f0*Math.pow(g,this.ns);if(!this.title){this.title="Lambert Conformal Conic"}};o.forward=function(e){var t=e.x;var o=e.y;if(Math.abs(2*Math.abs(o)-Math.PI)<=r){o=l(o)*(a-2*r)}var i=Math.abs(Math.abs(o)-a);var p,u;if(i>r){p=n(this.e,o,Math.sin(o));u=this.a*this.f0*Math.pow(p,this.ns)}else{i=o*this.ns;if(i<=0){return null}u=0}var c=this.ns*s(t-this.long0);e.x=this.k0*(u*Math.sin(c))+this.x0;e.y=this.k0*(this.rh-u*Math.cos(c))+this.y0;return e};o.inverse=function(e){var t,o,r;var i,n;var l=(e.x-this.x0)/this.k0;var u=this.rh-(e.y-this.y0)/this.k0;if(this.ns>0){t=Math.sqrt(l*l+u*u);o=1}else{t=-Math.sqrt(l*l+u*u);o=-1}var c=0;if(t!==0){c=Math.atan2(o*l,o*u)}if(t!==0||this.ns>0){o=1/this.ns;r=Math.pow(t/(this.a*this.f0),o);i=p(this.e,r);if(i===-9999){return null}}else{i=-a}n=s(c/this.ns+this.long0);e.x=n;e.y=i;return e};o.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":35,"../common/msfnz":45,"../common/phi2z":46,"../common/sign":51,"../common/tsfnz":54}],82:[function(e,t,o){o.init=function(){};function r(e){return e}o.forward=r;o.inverse=r;o.names=["longlat","identity"]},{}],83:[function(e,t,o){var r=e("../common/msfnz");var i=Math.PI/2;var n=1e-10;var a=57.29577951308232;var l=e("../common/adjust_lon");var s=Math.PI/4;var p=e("../common/tsfnz");var u=e("../common/phi2z");o.init=function(){var e=this.b/this.a;this.es=1-e*e;if(!("x0"in this)){this.x0=0}if(!("y0"in this)){this.y0=0}this.e=Math.sqrt(this.es);if(this.lat_ts){if(this.sphere){this.k0=Math.cos(this.lat_ts)}else{this.k0=r(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))}}else{if(!this.k0){if(this.k){this.k0=this.k}else{this.k0=1}}}};o.forward=function(e){var t=e.x;var o=e.y;if(o*a>90&&o*a<-90&&t*a>180&&t*a<-180){return null}var r,u;if(Math.abs(Math.abs(o)-i)<=n){return null}else{if(this.sphere){r=this.x0+this.a*this.k0*l(t-this.long0);u=this.y0+this.a*this.k0*Math.log(Math.tan(s+.5*o))}else{var c=Math.sin(o);var g=p(this.e,o,c);r=this.x0+this.a*this.k0*l(t-this.long0);u=this.y0-this.a*this.k0*Math.log(g)}e.x=r;e.y=u;return e}};o.inverse=function(e){var t=e.x-this.x0;var o=e.y-this.y0;var r,n;if(this.sphere){n=i-2*Math.atan(Math.exp(-o/(this.a*this.k0)))}else{var a=Math.exp(-o/(this.a*this.k0));n=u(this.e,a);if(n===-9999){return null}}r=l(this.long0+t/(this.a*this.k0));e.x=r;e.y=n;return e};o.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":35,"../common/msfnz":45,"../common/phi2z":46,"../common/tsfnz":54}],84:[function(e,t,o){var r=e("../common/adjust_lon");o.init=function(){};o.forward=function(e){var t=e.x;var o=e.y;var i=r(t-this.long0);var n=this.x0+this.a*i;var a=this.y0+this.a*Math.log(Math.tan(Math.PI/4+o/2.5))*1.25;e.x=n;e.y=a;return e};o.inverse=function(e){e.x-=this.x0;e.y-=this.y0;var t=r(this.long0+e.x/this.a);var o=2.5*(Math.atan(Math.exp(.8*e.y/this.a))-Math.PI/4);e.x=t;e.y=o;return e};o.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":35}],85:[function(e,t,o){var r=e("../common/adjust_lon");var i=1e-10;o.init=function(){};o.forward=function(e){var t=e.x;var o=e.y;var n=r(t-this.long0);var a=o;var l=Math.PI*Math.sin(o);for(var s=0;true;s++){var p=-(a+Math.sin(a)-l)/(1+Math.cos(a));a+=p;if(Math.abs(p)<i){break}}a/=2;if(Math.PI/2-Math.abs(o)<i){n=0}var u=.900316316158*this.a*n*Math.cos(a)+this.x0;var c=1.4142135623731*this.a*Math.sin(a)+this.y0;e.x=u;e.y=c;return e};o.inverse=function(e){var t;var o;e.x-=this.x0;e.y-=this.y0;o=e.y/(1.4142135623731*this.a);if(Math.abs(o)>.999999999999){o=.999999999999}t=Math.asin(o);var i=r(this.long0+e.x/(.900316316158*this.a*Math.cos(t)));if(i<-Math.PI){i=-Math.PI}if(i>Math.PI){i=Math.PI}o=(2*t+Math.sin(2*t))/Math.PI;if(Math.abs(o)>1){o=1}var n=Math.asin(o);e.x=i;e.y=n;return e};o.names=["Mollweide","moll"]},{"../common/adjust_lon":35}],86:[function(e,t,o){var r=484813681109536e-20;o.iterations=1;o.init=function(){this.A=[];this.A[1]=.6399175073;this.A[2]=-.1358797613;this.A[3]=.063294409;this.A[4]=-.02526853;this.A[5]=.0117879;this.A[6]=-.0055161;this.A[7]=.0026906;this.A[8]=-.001333;this.A[9]=67e-5;this.A[10]=-34e-5;this.B_re=[];this.B_im=[];this.B_re[1]=.7557853228;this.B_im[1]=0;this.B_re[2]=.249204646;this.B_im[2]=.003371507;this.B_re[3]=-.001541739;this.B_im[3]=.04105856;this.B_re[4]=-.10162907;this.B_im[4]=.01727609;this.B_re[5]=-.26623489;this.B_im[5]=-.36249218;this.B_re[6]=-.6870983;this.B_im[6]=-1.1651967;this.C_re=[];this.C_im=[];this.C_re[1]=1.3231270439;this.C_im[1]=0;this.C_re[2]=-.577245789;this.C_im[2]=-.007809598;this.C_re[3]=.508307513;this.C_im[3]=-.112208952;this.C_re[4]=-.15094762;this.C_im[4]=.18200602;this.C_re[5]=1.01418179;this.C_im[5]=1.64497696;this.C_re[6]=1.9660549;this.C_im[6]=2.5127645;this.D=[];this.D[1]=1.5627014243;this.D[2]=.5185406398;this.D[3]=-.03333098;this.D[4]=-.1052906;this.D[5]=-.0368594;this.D[6]=.007317;this.D[7]=.0122;this.D[8]=.00394;this.D[9]=-.0013};o.forward=function(e){var t;var o=e.x;var i=e.y;var n=i-this.lat0;var a=o-this.long0;var l=n/r*1e-5;var s=a;var p=1;var u=0;for(t=1;t<=10;t++){p=p*l;u=u+this.A[t]*p}var c=u;var g=s;var h=1;var f=0;var d;var y;var m=0;var v=0;for(t=1;t<=6;t++){d=h*c-f*g;y=f*c+h*g;h=d;f=y;m=m+this.B_re[t]*h-this.B_im[t]*f;v=v+this.B_im[t]*h+this.B_re[t]*f}e.x=v*this.a+this.x0;e.y=m*this.a+this.y0;return e};o.inverse=function(e){var t;var o=e.x;var i=e.y;var n=o-this.x0;var a=i-this.y0;var l=a/this.a;var s=n/this.a;var p=1;var u=0;var c;var g;var h=0;var f=0;for(t=1;t<=6;t++){c=p*l-u*s;g=u*l+p*s;p=c;u=g;h=h+this.C_re[t]*p-this.C_im[t]*u;f=f+this.C_im[t]*p+this.C_re[t]*u}for(var d=0;d<this.iterations;d++){var y=h;var m=f;var v;var _;var x=l;var S=s;for(t=2;t<=6;t++){v=y*h-m*f;_=m*h+y*f;y=v;m=_;x=x+(t-1)*(this.B_re[t]*y-this.B_im[t]*m);S=S+(t-1)*(this.B_im[t]*y+this.B_re[t]*m)}y=1;m=0;var P=this.B_re[1];var E=this.B_im[1];for(t=2;t<=6;t++){v=y*h-m*f;_=m*h+y*f;y=v;m=_;P=P+t*(this.B_re[t]*y-this.B_im[t]*m);E=E+t*(this.B_im[t]*y+this.B_re[t]*m)}var T=P*P+E*E;h=(x*P+S*E)/T;f=(S*P-x*E)/T}var b=h;var M=f;var C=1;var R=0;for(t=1;t<=9;t++){C=C*b;R=R+this.D[t]*C}var w=this.lat0+R*r*1e5;var L=this.long0+M;e.x=L;e.y=w;return e};o.names=["New_Zealand_Map_Grid","nzmg"]},{}],87:[function(e,t,o){var r=e("../common/tsfnz");var i=e("../common/adjust_lon");var n=e("../common/phi2z");var a=Math.PI/2;var l=Math.PI/4;var s=1e-10;o.init=function(){this.no_off=this.no_off||false;this.no_rot=this.no_rot||false;if(isNaN(this.k0)){this.k0=1}var e=Math.sin(this.lat0);var t=Math.cos(this.lat0);var o=this.e*e;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(t,4));this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-o*o);var n=r(this.e,this.lat0,e);var a=this.bl/t*Math.sqrt((1-this.es)/(1-o*o));if(a*a<1){a=1}var l;var s;if(!isNaN(this.longc)){if(this.lat0>=0){l=a+Math.sqrt(a*a-1)}else{l=a-Math.sqrt(a*a-1)}this.el=l*Math.pow(n,this.bl);s=.5*(l-1/l);this.gamma0=Math.asin(Math.sin(this.alpha)/a);this.long0=this.longc-Math.asin(s*Math.tan(this.gamma0))/this.bl}else{var p=r(this.e,this.lat1,Math.sin(this.lat1));var u=r(this.e,this.lat2,Math.sin(this.lat2));if(this.lat0>=0){this.el=(a+Math.sqrt(a*a-1))*Math.pow(n,this.bl)}else{this.el=(a-Math.sqrt(a*a-1))*Math.pow(n,this.bl)}var c=Math.pow(p,this.bl);var g=Math.pow(u,this.bl);l=this.el/c;s=.5*(l-1/l);var h=(this.el*this.el-g*c)/(this.el*this.el+g*c);var f=(g-c)/(g+c);var d=i(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(h*Math.tan(.5*this.bl*d)/f)/this.bl;this.long0=i(this.long0);var y=i(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*y)/s);this.alpha=Math.asin(a*Math.sin(this.gamma0))}if(this.no_off){this.uc=0}else{if(this.lat0>=0){this.uc=this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))}else{this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(a*a-1),Math.cos(this.alpha))}}};o.forward=function(e){var t=e.x;var o=e.y;var n=i(t-this.long0);var p,u;var c;if(Math.abs(Math.abs(o)-a)<=s){if(o>0){c=-1}else{c=1}u=this.al/this.bl*Math.log(Math.tan(l+c*this.gamma0*.5));p=-1*c*a*this.al/this.bl}else{var g=r(this.e,o,Math.sin(o));var h=this.el/Math.pow(g,this.bl);var f=.5*(h-1/h);var d=.5*(h+1/h);var y=Math.sin(this.bl*n);var m=(f*Math.sin(this.gamma0)-y*Math.cos(this.gamma0))/d;if(Math.abs(Math.abs(m)-1)<=s){u=Number.POSITIVE_INFINITY}else{u=.5*this.al*Math.log((1-m)/(1+m))/this.bl}if(Math.abs(Math.cos(this.bl*n))<=s){p=this.al*this.bl*n}else{p=this.al*Math.atan2(f*Math.cos(this.gamma0)+y*Math.sin(this.gamma0),Math.cos(this.bl*n))/this.bl}}if(this.no_rot){e.x=this.x0+p;e.y=this.y0+u}else{p-=this.uc;e.x=this.x0+u*Math.cos(this.alpha)+p*Math.sin(this.alpha);e.y=this.y0+p*Math.cos(this.alpha)-u*Math.sin(this.alpha)}return e};o.inverse=function(e){var t,o;if(this.no_rot){o=e.y-this.y0;t=e.x-this.x0}else{o=(e.x-this.x0)*Math.cos(this.alpha)-(e.y-this.y0)*Math.sin(this.alpha);t=(e.y-this.y0)*Math.cos(this.alpha)+(e.x-this.x0)*Math.sin(this.alpha);t+=this.uc}var r=Math.exp(-1*this.bl*o/this.al);var l=.5*(r-1/r);var p=.5*(r+1/r);var u=Math.sin(this.bl*t/this.al);var c=(u*Math.cos(this.gamma0)+l*Math.sin(this.gamma0))/p;var g=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);if(Math.abs(c-1)<s){e.x=this.long0;e.y=a}else if(Math.abs(c+1)<s){e.x=this.long0;e.y=-1*a}else{e.y=n(this.e,g);e.x=i(this.long0-Math.atan2(l*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*t/this.al))/this.bl)}return e};o.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":35,"../common/phi2z":46,"../common/tsfnz":54}],88:[function(e,t,o){var r=e("../common/e0fn");var i=e("../common/e1fn");var n=e("../common/e2fn");var a=e("../common/e3fn");var l=e("../common/adjust_lon");var s=e("../common/adjust_lat");var p=e("../common/mlfn");var u=1e-10;var c=e("../common/gN");var g=20;o.init=function(){this.temp=this.b/this.a;this.es=1-Math.pow(this.temp,2);this.e=Math.sqrt(this.es);this.e0=r(this.es);this.e1=i(this.es);this.e2=n(this.es);this.e3=a(this.es);this.ml0=this.a*p(this.e0,this.e1,this.e2,this.e3,this.lat0)};o.forward=function(e){var t=e.x;var o=e.y;var r,i,n;var a=l(t-this.long0);n=a*Math.sin(o);if(this.sphere){if(Math.abs(o)<=u){r=this.a*a;i=-1*this.a*this.lat0}else{r=this.a*Math.sin(n)/Math.tan(o);i=this.a*(s(o-this.lat0)+(1-Math.cos(n))/Math.tan(o))}}else{if(Math.abs(o)<=u){r=this.a*a;i=-1*this.ml0}else{var g=c(this.a,this.e,Math.sin(o))/Math.tan(o);r=g*Math.sin(n);i=this.a*p(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+g*(1-Math.cos(n))}}e.x=r+this.x0;e.y=i+this.y0;return e};o.inverse=function(e){var t,o,r,i,n;var a,s;var c,h;r=e.x-this.x0;i=e.y-this.y0;if(this.sphere){if(Math.abs(i+this.a*this.lat0)<=u){t=l(r/this.a+this.long0);o=0}else{a=this.lat0+i/this.a;s=r*r/this.a/this.a+a*a;c=a;var f;for(n=g;n;--n){f=Math.tan(c);h=-1*(a*(c*f+1)-c-.5*(c*c+s)*f)/((c-a)/f-1);c+=h;if(Math.abs(h)<=u){o=c;break}}t=l(this.long0+Math.asin(r*Math.tan(c)/this.a)/Math.sin(o))}}else{if(Math.abs(i+this.ml0)<=u){o=0;t=l(this.long0+r/this.a)}else{a=(this.ml0+i)/this.a;s=r*r/this.a/this.a+a*a;c=a;var d,y,m,v;var _;for(n=g;n;--n){_=this.e*Math.sin(c);d=Math.sqrt(1-_*_)*Math.tan(c);y=this.a*p(this.e0,this.e1,this.e2,this.e3,c);m=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c);v=y/this.a;h=(a*(d*v+1)-v-.5*d*(v*v+s))/(this.es*Math.sin(2*c)*(v*v+s-2*a*v)/(4*d)+(a-v)*(d*m-2/Math.sin(2*c))-m);c-=h;if(Math.abs(h)<=u){o=c;break}}d=Math.sqrt(1-this.es*Math.pow(Math.sin(o),2))*Math.tan(o);t=l(this.long0+Math.asin(r*d/this.a)/Math.sin(o))}}e.x=t;e.y=o;return e};o.names=["Polyconic","poly"]},{"../common/adjust_lat":34,"../common/adjust_lon":35,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/gN":41,"../common/mlfn":44}],89:[function(e,t,o){var r=e("../common/adjust_lon");var i=e("../common/adjust_lat");var n=e("../common/pj_enfn");var a=20;var l=e("../common/pj_mlfn");var s=e("../common/pj_inv_mlfn");var p=Math.PI/2;var u=1e-10;var c=e("../common/asinz");o.init=function(){if(!this.sphere){this.en=n(this.es)}else{this.n=1;this.m=0;this.es=0;this.C_y=Math.sqrt((this.m+1)/this.n);this.C_x=this.C_y/(this.m+1)}};o.forward=function(e){var t,o;var i=e.x;var n=e.y;i=r(i-this.long0);if(this.sphere){if(!this.m){n=this.n!==1?Math.asin(this.n*Math.sin(n)):n}else{var s=this.n*Math.sin(n);for(var p=a;p;--p){var c=(this.m*n+Math.sin(n)-s)/(this.m+Math.cos(n));n-=c;if(Math.abs(c)<u){break}}}t=this.a*this.C_x*i*(this.m+Math.cos(n));o=this.a*this.C_y*n}else{var g=Math.sin(n);var h=Math.cos(n);o=this.a*l(n,g,h,this.en);t=this.a*i*h/Math.sqrt(1-this.es*g*g)}e.x=t;e.y=o;return e};o.inverse=function(e){var t,o,n,a;e.x-=this.x0;n=e.x/this.a;e.y-=this.y0;t=e.y/this.a;if(this.sphere){t/=this.C_y;n=n/(this.C_x*(this.m+Math.cos(t)));if(this.m){t=c((this.m*t+Math.sin(t))/this.n)}else if(this.n!==1){t=c(Math.sin(t)/this.n)}n=r(n+this.long0);t=i(t)}else{t=s(e.y/this.a,this.es,this.en);a=Math.abs(t);if(a<p){a=Math.sin(t);o=this.long0+e.x*Math.sqrt(1-this.es*a*a)/(this.a*Math.cos(t));n=r(o)}else if(a-u<p){n=this.long0}}e.x=n;e.y=t;return e};o.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":34,"../common/adjust_lon":35,"../common/asinz":36,"../common/pj_enfn":47,"../common/pj_inv_mlfn":48,"../common/pj_mlfn":49}],90:[function(e,t,o){o.init=function(){var e=this.lat0;this.lambda0=this.long0;var t=Math.sin(e);var o=this.a;var r=this.rf;var i=1/r;var n=2*i-Math.pow(i,2);var a=this.e=Math.sqrt(n);this.R=this.k0*o*Math.sqrt(1-n)/(1-n*Math.pow(t,2));this.alpha=Math.sqrt(1+n/(1-n)*Math.pow(Math.cos(e),4));this.b0=Math.asin(t/this.alpha);var l=Math.log(Math.tan(Math.PI/4+this.b0/2));var s=Math.log(Math.tan(Math.PI/4+e/2));var p=Math.log((1+a*t)/(1-a*t));this.K=l-this.alpha*s+this.alpha*a/2*p};o.forward=function(e){var t=Math.log(Math.tan(Math.PI/4-e.y/2));var o=this.e/2*Math.log((1+this.e*Math.sin(e.y))/(1-this.e*Math.sin(e.y)));var r=-this.alpha*(t+o)+this.K;var i=2*(Math.atan(Math.exp(r))-Math.PI/4);var n=this.alpha*(e.x-this.lambda0);var a=Math.atan(Math.sin(n)/(Math.sin(this.b0)*Math.tan(i)+Math.cos(this.b0)*Math.cos(n)));var l=Math.asin(Math.cos(this.b0)*Math.sin(i)-Math.sin(this.b0)*Math.cos(i)*Math.cos(n));e.y=this.R/2*Math.log((1+Math.sin(l))/(1-Math.sin(l)))+this.y0;e.x=this.R*a+this.x0;return e};o.inverse=function(e){var t=e.x-this.x0;var o=e.y-this.y0;var r=t/this.R;var i=2*(Math.atan(Math.exp(o/this.R))-Math.PI/4);var n=Math.asin(Math.cos(this.b0)*Math.sin(i)+Math.sin(this.b0)*Math.cos(i)*Math.cos(r));var a=Math.atan(Math.sin(r)/(Math.cos(this.b0)*Math.cos(r)-Math.sin(this.b0)*Math.tan(i)));var l=this.lambda0+a/this.alpha;var s=0;var p=n;var u=-1e3;var c=0;while(Math.abs(p-u)>1e-7){if(++c>20){return}s=1/this.alpha*(Math.log(Math.tan(Math.PI/4+n/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(p))/2));u=p;p=2*Math.atan(Math.exp(s))-Math.PI/2}e.x=l;e.y=p;return e};o.names=["somerc"]},{}],91:[function(e,t,o){var r=Math.PI/2;var i=1e-10;var n=e("../common/sign");var a=e("../common/msfnz");var l=e("../common/tsfnz");var s=e("../common/phi2z");var p=e("../common/adjust_lon");o.ssfn_=function(e,t,o){t*=o;return Math.tan(.5*(r+e))*Math.pow((1-t)/(1+t),.5*o)};o.init=function(){this.coslat0=Math.cos(this.lat0);this.sinlat0=Math.sin(this.lat0);if(this.sphere){if(this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=i){this.k0=.5*(1+n(this.lat0)*Math.sin(this.lat_ts))}}else{if(Math.abs(this.coslat0)<=i){if(this.lat0>0){this.con=1}else{this.con=-1}}this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e));if(this.k0===1&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=i){this.k0=.5*this.cons*a(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/l(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))}this.ms1=a(this.e,this.sinlat0,this.coslat0);this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-r;this.cosX0=Math.cos(this.X0);this.sinX0=Math.sin(this.X0)}};o.forward=function(e){var t=e.x;var o=e.y;var n=Math.sin(o);var a=Math.cos(o);var s,u,c,g,h,f;var d=p(t-this.long0);if(Math.abs(Math.abs(t-this.long0)-Math.PI)<=i&&Math.abs(o+this.lat0)<=i){e.x=NaN;e.y=NaN;return e}if(this.sphere){s=2*this.k0/(1+this.sinlat0*n+this.coslat0*a*Math.cos(d));e.x=this.a*s*a*Math.sin(d)+this.x0;e.y=this.a*s*(this.coslat0*n-this.sinlat0*a*Math.cos(d))+this.y0;return e}else{u=2*Math.atan(this.ssfn_(o,n,this.e))-r;g=Math.cos(u);c=Math.sin(u);if(Math.abs(this.coslat0)<=i){h=l(this.e,o*this.con,this.con*n);f=2*this.a*this.k0*h/this.cons;e.x=this.x0+f*Math.sin(t-this.long0);e.y=this.y0-this.con*f*Math.cos(t-this.long0);return e}else if(Math.abs(this.sinlat0)<i){s=2*this.a*this.k0/(1+g*Math.cos(d));e.y=s*c}else{s=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*c+this.cosX0*g*Math.cos(d)));e.y=s*(this.cosX0*c-this.sinX0*g*Math.cos(d))+this.y0}e.x=s*g*Math.sin(d)+this.x0}return e};o.inverse=function(e){e.x-=this.x0;e.y-=this.y0;var t,o,n,a,l;var u=Math.sqrt(e.x*e.x+e.y*e.y);if(this.sphere){var c=2*Math.atan(u/(.5*this.a*this.k0));t=this.long0;o=this.lat0;if(u<=i){e.x=t;e.y=o;return e}o=Math.asin(Math.cos(c)*this.sinlat0+e.y*Math.sin(c)*this.coslat0/u);if(Math.abs(this.coslat0)<i){if(this.lat0>0){t=p(this.long0+Math.atan2(e.x,-1*e.y))}else{t=p(this.long0+Math.atan2(e.x,e.y))}}else{t=p(this.long0+Math.atan2(e.x*Math.sin(c),u*this.coslat0*Math.cos(c)-e.y*this.sinlat0*Math.sin(c)))}e.x=t;e.y=o;return e}else{if(Math.abs(this.coslat0)<=i){if(u<=i){o=this.lat0;t=this.long0;e.x=t;e.y=o;return e}e.x*=this.con;e.y*=this.con;n=u*this.cons/(2*this.a*this.k0);o=this.con*s(this.e,n);t=this.con*p(this.con*this.long0+Math.atan2(e.x,-1*e.y))}else{a=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1));t=this.long0;if(u<=i){l=this.X0}else{l=Math.asin(Math.cos(a)*this.sinX0+e.y*Math.sin(a)*this.cosX0/u);t=p(this.long0+Math.atan2(e.x*Math.sin(a),u*this.cosX0*Math.cos(a)-e.y*this.sinX0*Math.sin(a)))}o=-1*s(this.e,Math.tan(.5*(r+l)))}}e.x=t;e.y=o;return e};o.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":35,"../common/msfnz":45,"../common/phi2z":46,"../common/sign":51,"../common/tsfnz":54}],92:[function(e,t,o){var r=e("./gauss");var i=e("../common/adjust_lon");o.init=function(){r.init.apply(this);if(!this.rc){return}this.sinc0=Math.sin(this.phic0);this.cosc0=Math.cos(this.phic0);this.R2=2*this.rc;if(!this.title){this.title="Oblique Stereographic Alternative"}};o.forward=function(e){var t,o,n,a;e.x=i(e.x-this.long0);r.forward.apply(this,[e]);t=Math.sin(e.y);o=Math.cos(e.y);n=Math.cos(e.x);a=this.k0*this.R2/(1+this.sinc0*t+this.cosc0*o*n);e.x=a*o*Math.sin(e.x);e.y=a*(this.cosc0*t-this.sinc0*o*n);e.x=this.a*e.x+this.x0;e.y=this.a*e.y+this.y0;return e};o.inverse=function(e){var t,o,n,a,l;e.x=(e.x-this.x0)/this.a;e.y=(e.y-this.y0)/this.a;e.x/=this.k0;e.y/=this.k0;if(l=Math.sqrt(e.x*e.x+e.y*e.y)){var s=2*Math.atan2(l,this.R2);t=Math.sin(s);o=Math.cos(s);a=Math.asin(o*this.sinc0+e.y*t*this.cosc0/l);n=Math.atan2(e.x*t,l*this.cosc0*o-e.y*this.sinc0*t)}else{a=this.phic0;n=0}e.x=n;e.y=a;r.inverse.apply(this,[e]);e.x=i(e.x+this.long0);return e};o.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":35,"./gauss":77}],93:[function(e,t,o){var r=e("../common/e0fn");var i=e("../common/e1fn");var n=e("../common/e2fn");var a=e("../common/e3fn");var l=e("../common/mlfn");var s=e("../common/adjust_lon");var p=Math.PI/2;var u=1e-10;var c=e("../common/sign");var g=e("../common/asinz");o.init=function(){this.e0=r(this.es);this.e1=i(this.es);this.e2=n(this.es);this.e3=a(this.es);this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)};o.forward=function(e){var t=e.x;var o=e.y;var r=s(t-this.long0);var i;var n,a;var p=Math.sin(o);var u=Math.cos(o);if(this.sphere){var c=u*Math.sin(r);if(Math.abs(Math.abs(c)-1)<1e-10){return 93}else{n=.5*this.a*this.k0*Math.log((1+c)/(1-c));i=Math.acos(u*Math.cos(r)/Math.sqrt(1-c*c));if(o<0){i=-i}a=this.a*this.k0*(i-this.lat0)}}else{var g=u*r;var h=Math.pow(g,2);var f=this.ep2*Math.pow(u,2);var d=Math.tan(o);var y=Math.pow(d,2);i=1-this.es*Math.pow(p,2);var m=this.a/Math.sqrt(i);var v=this.a*l(this.e0,this.e1,this.e2,this.e3,o);n=this.k0*m*g*(1+h/6*(1-y+f+h/20*(5-18*y+Math.pow(y,2)+72*f-58*this.ep2)))+this.x0;a=this.k0*(v-this.ml0+m*d*(h*(.5+h/24*(5-y+9*f+4*Math.pow(f,2)+h/30*(61-58*y+Math.pow(y,2)+600*f-330*this.ep2)))))+this.y0}e.x=n;e.y=a;return e};o.inverse=function(e){var t,o;var r;var i;var n=6;var a,l;if(this.sphere){var h=Math.exp(e.x/(this.a*this.k0));var f=.5*(h-1/h);var d=this.lat0+e.y/(this.a*this.k0);var y=Math.cos(d);t=Math.sqrt((1-y*y)/(1+f*f));a=g(t);if(d<0){a=-a}if(f===0&&y===0){l=this.long0}else{l=s(Math.atan2(f,y)+this.long0)}}else{var m=e.x-this.x0;var v=e.y-this.y0;t=(this.ml0+v/this.k0)/this.a;o=t;for(i=0;true;i++){
r=(t+this.e1*Math.sin(2*o)-this.e2*Math.sin(4*o)+this.e3*Math.sin(6*o))/this.e0-o;o+=r;if(Math.abs(r)<=u){break}if(i>=n){return 95}}if(Math.abs(o)<p){var _=Math.sin(o);var x=Math.cos(o);var S=Math.tan(o);var P=this.ep2*Math.pow(x,2);var E=Math.pow(P,2);var T=Math.pow(S,2);var b=Math.pow(T,2);t=1-this.es*Math.pow(_,2);var M=this.a/Math.sqrt(t);var C=M*(1-this.es)/t;var R=m/(M*this.k0);var w=Math.pow(R,2);a=o-M*S*w/C*(.5-w/24*(5+3*T+10*P-4*E-9*this.ep2-w/30*(61+90*T+298*P+45*b-252*this.ep2-3*E)));l=s(this.long0+R*(1-w/6*(1+2*T+P-w/20*(5-2*P+28*T-3*E+8*this.ep2+24*b)))/x)}else{a=p*c(v);l=this.long0}}e.x=l;e.y=a;return e};o.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":35,"../common/asinz":36,"../common/e0fn":37,"../common/e1fn":38,"../common/e2fn":39,"../common/e3fn":40,"../common/mlfn":44,"../common/sign":51}],94:[function(e,t,o){var r=.017453292519943295;var i=e("./tmerc");o.dependsOn="tmerc";o.init=function(){if(!this.zone){return}this.lat0=0;this.long0=(6*Math.abs(this.zone)-183)*r;this.x0=5e5;this.y0=this.utmSouth?1e7:0;this.k0=.9996;i.init.apply(this);this.forward=i.forward;this.inverse=i.inverse};o.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":93}],95:[function(e,t,o){var r=e("../common/adjust_lon");var i=Math.PI/2;var n=1e-10;var a=e("../common/asinz");o.init=function(){this.R=this.a};o.forward=function(e){var t=e.x;var o=e.y;var l=r(t-this.long0);var s,p;if(Math.abs(o)<=n){s=this.x0+this.R*l;p=this.y0}var u=a(2*Math.abs(o/Math.PI));if(Math.abs(l)<=n||Math.abs(Math.abs(o)-i)<=n){s=this.x0;if(o>=0){p=this.y0+Math.PI*this.R*Math.tan(.5*u)}else{p=this.y0+Math.PI*this.R*-Math.tan(.5*u)}}var c=.5*Math.abs(Math.PI/l-l/Math.PI);var g=c*c;var h=Math.sin(u);var f=Math.cos(u);var d=f/(h+f-1);var y=d*d;var m=d*(2/h-1);var v=m*m;var _=Math.PI*this.R*(c*(d-v)+Math.sqrt(g*(d-v)*(d-v)-(v+g)*(y-v)))/(v+g);if(l<0){_=-_}s=this.x0+_;var x=g+d;_=Math.PI*this.R*(m*x-c*Math.sqrt((v+g)*(g+1)-x*x))/(v+g);if(o>=0){p=this.y0+_}else{p=this.y0-_}e.x=s;e.y=p;return e};o.inverse=function(e){var t,o;var i,a,l,s,p,u;var c;var g;var h;var f;var d;e.x-=this.x0;e.y-=this.y0;h=Math.PI*this.R;i=e.x/h;a=e.y/h;l=i*i+a*a;s=-Math.abs(a)*(1+l);p=s-2*a*a+i*i;u=-2*s+1+2*a*a+l*l;d=a*a/u+(2*p*p*p/u/u/u-9*s*p/u/u)/27;c=(s-p*p/3/u)/u;g=2*Math.sqrt(-c/3);h=3*d/c/g;if(Math.abs(h)>1){if(h>=0){h=1}else{h=-1}}f=Math.acos(h)/3;if(e.y>=0){o=(-g*Math.cos(f+Math.PI/3)-p/3/u)*Math.PI}else{o=-(-g*Math.cos(f+Math.PI/3)-p/3/u)*Math.PI}if(Math.abs(i)<n){t=this.long0}else{t=r(this.long0+Math.PI*(l-1+Math.sqrt(1+2*(i*i-a*a)+l*l))/2/i)}e.x=t;e.y=o;return e};o.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":35,"../common/asinz":36}],96:[function(e,t,o){var r=.017453292519943295;var i=57.29577951308232;var n=1;var a=2;var l=e("./datum_transform");var s=e("./adjust_axis");var p=e("./Proj");var u=e("./common/toPoint");t.exports=function c(e,t,o){var g;if(Array.isArray(o)){o=u(o)}function h(e,t){return(e.datum.datum_type===n||e.datum.datum_type===a)&&t.datumCode!=="WGS84"}if(e.datum&&t.datum&&(h(e,t)||h(t,e))){g=new p("WGS84");c(e,g,o);e=g}if(e.axis!=="enu"){s(e,false,o)}if(e.projName==="longlat"){o.x*=r;o.y*=r}else{if(e.to_meter){o.x*=e.to_meter;o.y*=e.to_meter}e.inverse(o)}if(e.from_greenwich){o.x+=e.from_greenwich}o=l(e.datum,t.datum,o);if(t.from_greenwich){o.x-=t.from_greenwich}if(t.projName==="longlat"){o.x*=i;o.y*=i}else{t.forward(o);if(t.to_meter){o.x/=t.to_meter;o.y/=t.to_meter}}if(t.axis!=="enu"){s(t,true,o)}return o}},{"./Proj":32,"./adjust_axis":33,"./common/toPoint":53,"./datum_transform":61}],97:[function(e,t,o){var r=.017453292519943295;var i=e("./extend");function n(e,t,o){e[t]=o.map(function(e){var t={};a(e,t);return t}).reduce(function(e,t){return i(e,t)},{})}function a(e,t){var o;if(!Array.isArray(e)){t[e]=true;return}else{o=e.shift();if(o==="PARAMETER"){o=e.shift()}if(e.length===1){if(Array.isArray(e[0])){t[o]={};a(e[0],t[o])}else{t[o]=e[0]}}else if(!e.length){t[o]=true}else if(o==="TOWGS84"){t[o]=e}else{t[o]={};if(["UNIT","PRIMEM","VERT_DATUM"].indexOf(o)>-1){t[o]={name:e[0].toLowerCase(),convert:e[1]};if(e.length===3){t[o].auth=e[2]}}else if(o==="SPHEROID"){t[o]={name:e[0],a:e[1],rf:e[2]};if(e.length===4){t[o].auth=e[3]}}else if(["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(o)>-1){e[0]=["name",e[0]];n(t,o,e)}else if(e.every(function(e){return Array.isArray(e)})){n(t,o,e)}else{a(e,t[o])}}}}function l(e,t){var o=t[0];var r=t[1];if(!(o in e)&&r in e){e[o]=e[r];if(t.length===3){e[o]=t[2](e[o])}}}function s(e){return e*r}function p(e){if(e.type==="GEOGCS"){e.projName="longlat"}else if(e.type==="LOCAL_CS"){e.projName="identity";e.local=true}else{if(typeof e.PROJECTION==="object"){e.projName=Object.keys(e.PROJECTION)[0]}else{e.projName=e.PROJECTION}}if(e.UNIT){e.units=e.UNIT.name.toLowerCase();if(e.units==="metre"){e.units="meter"}if(e.UNIT.convert){e.to_meter=parseFloat(e.UNIT.convert,10)}}if(e.GEOGCS){if(e.GEOGCS.DATUM){e.datumCode=e.GEOGCS.DATUM.name.toLowerCase()}else{e.datumCode=e.GEOGCS.name.toLowerCase()}if(e.datumCode.slice(0,2)==="d_"){e.datumCode=e.datumCode.slice(2)}if(e.datumCode==="new_zealand_geodetic_datum_1949"||e.datumCode==="new_zealand_1949"){e.datumCode="nzgd49"}if(e.datumCode==="wgs_1984"){if(e.PROJECTION==="Mercator_Auxiliary_Sphere"){e.sphere=true}e.datumCode="wgs84"}if(e.datumCode.slice(-6)==="_ferro"){e.datumCode=e.datumCode.slice(0,-6)}if(e.datumCode.slice(-8)==="_jakarta"){e.datumCode=e.datumCode.slice(0,-8)}if(~e.datumCode.indexOf("belge")){e.datumCode="rnb72"}if(e.GEOGCS.DATUM&&e.GEOGCS.DATUM.SPHEROID){e.ellps=e.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk");if(e.ellps.toLowerCase().slice(0,13)==="international"){e.ellps="intl"}e.a=e.GEOGCS.DATUM.SPHEROID.a;e.rf=parseFloat(e.GEOGCS.DATUM.SPHEROID.rf,10)}if(~e.datumCode.indexOf("osgb_1936")){e.datumCode="osgb36"}}if(e.b&&!isFinite(e.b)){e.b=e.a}function t(t){var o=e.to_meter||1;return parseFloat(t,10)*o}var o=function(t){return l(e,t)};var r=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",s],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",s],["x0","false_easting",t],["y0","false_northing",t],["long0","central_meridian",s],["lat0","latitude_of_origin",s],["lat0","standard_parallel_1",s],["lat1","standard_parallel_1",s],["lat2","standard_parallel_2",s],["alpha","azimuth",s],["srsCode","name"]];r.forEach(o);if(!e.long0&&e.longc&&(e.projName==="Albers_Conic_Equal_Area"||e.projName==="Lambert_Azimuthal_Equal_Area")){e.long0=e.longc}if(!e.lat_ts&&e.lat1&&(e.projName==="Stereographic_South_Pole"||e.projName==="Polar Stereographic (variant B)")){e.lat0=s(e.lat1>0?90:-90);e.lat_ts=e.lat1}}t.exports=function(e,t){var o=JSON.parse((","+e).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,""));var r=o.shift();var n=o.shift();o.unshift(["name",n]);o.unshift(["type",r]);o.unshift("output");var l={};a(o,l);p(l.output);return i(t,l.output)}},{"./extend":64}],98:[function(e,t,o){var r=6;var i="AJSAJS";var n="AFAFAF";var a=65;var l=73;var s=79;var p=86;var u=90;o.forward=function(e,t){t=t||5;return y(h({lat:e[1],lon:e[0]}),t)};o.inverse=function(e){var t=f(x(e.toUpperCase()));if(t.lat&&t.lon){return[t.lon,t.lat,t.lon,t.lat]}return[t.left,t.bottom,t.right,t.top]};o.toPoint=function(e){var t=f(x(e.toUpperCase()));if(t.lat&&t.lon){return[t.lon,t.lat]}return[(t.left+t.right)/2,(t.top+t.bottom)/2]};function c(e){return e*(Math.PI/180)}function g(e){return 180*(e/Math.PI)}function h(e){var t=e.lat;var o=e.lon;var r=6378137;var i=.00669438;var n=.9996;var a;var l;var s,p,u,g,h;var f=c(t);var y=c(o);var m;var v;v=Math.floor((o+180)/6)+1;if(o===180){v=60}if(t>=56&&t<64&&o>=3&&o<12){v=32}if(t>=72&&t<84){if(o>=0&&o<9){v=31}else if(o>=9&&o<21){v=33}else if(o>=21&&o<33){v=35}else if(o>=33&&o<42){v=37}}a=(v-1)*6-180+3;m=c(a);l=i/(1-i);s=r/Math.sqrt(1-i*Math.sin(f)*Math.sin(f));p=Math.tan(f)*Math.tan(f);u=l*Math.cos(f)*Math.cos(f);g=Math.cos(f)*(y-m);h=r*((1-i/4-3*i*i/64-5*i*i*i/256)*f-(3*i/8+3*i*i/32+45*i*i*i/1024)*Math.sin(2*f)+(15*i*i/256+45*i*i*i/1024)*Math.sin(4*f)-35*i*i*i/3072*Math.sin(6*f));var _=n*s*(g+(1-p+u)*g*g*g/6+(5-18*p+p*p+72*u-58*l)*g*g*g*g*g/120)+5e5;var x=n*(h+s*Math.tan(f)*(g*g/2+(5-p+9*u+4*u*u)*g*g*g*g/24+(61-58*p+p*p+600*u-330*l)*g*g*g*g*g*g/720));if(t<0){x+=1e7}return{northing:Math.round(x),easting:Math.round(_),zoneNumber:v,zoneLetter:d(t)}}function f(e){var t=e.northing;var o=e.easting;var r=e.zoneLetter;var i=e.zoneNumber;if(i<0||i>60){return null}var n=.9996;var a=6378137;var l=.00669438;var s;var p=(1-Math.sqrt(1-l))/(1+Math.sqrt(1-l));var u,c,h,d,y,m;var v;var _,x;var S=o-5e5;var P=t;if(r<"N"){P-=1e7}v=(i-1)*6-180+3;s=l/(1-l);m=P/n;_=m/(a*(1-l/4-3*l*l/64-5*l*l*l/256));x=_+(3*p/2-27*p*p*p/32)*Math.sin(2*_)+(21*p*p/16-55*p*p*p*p/32)*Math.sin(4*_)+151*p*p*p/96*Math.sin(6*_);u=a/Math.sqrt(1-l*Math.sin(x)*Math.sin(x));c=Math.tan(x)*Math.tan(x);h=s*Math.cos(x)*Math.cos(x);d=a*(1-l)/Math.pow(1-l*Math.sin(x)*Math.sin(x),1.5);y=S/(u*n);var E=x-u*Math.tan(x)/d*(y*y/2-(5+3*c+10*h-4*h*h-9*s)*y*y*y*y/24+(61+90*c+298*h+45*c*c-252*s-3*h*h)*y*y*y*y*y*y/720);E=g(E);var T=(y-(1+2*c+h)*y*y*y/6+(5-2*h+28*c-3*h*h+8*s+24*c*c)*y*y*y*y*y/120)/Math.cos(x);T=v+g(T);var b;if(e.accuracy){var M=f({northing:e.northing+e.accuracy,easting:e.easting+e.accuracy,zoneLetter:e.zoneLetter,zoneNumber:e.zoneNumber});b={top:M.lat,right:M.lon,bottom:E,left:T}}else{b={lat:E,lon:T}}return b}function d(e){var t="Z";if(84>=e&&e>=72){t="X"}else if(72>e&&e>=64){t="W"}else if(64>e&&e>=56){t="V"}else if(56>e&&e>=48){t="U"}else if(48>e&&e>=40){t="T"}else if(40>e&&e>=32){t="S"}else if(32>e&&e>=24){t="R"}else if(24>e&&e>=16){t="Q"}else if(16>e&&e>=8){t="P"}else if(8>e&&e>=0){t="N"}else if(0>e&&e>=-8){t="M"}else if(-8>e&&e>=-16){t="L"}else if(-16>e&&e>=-24){t="K"}else if(-24>e&&e>=-32){t="J"}else if(-32>e&&e>=-40){t="H"}else if(-40>e&&e>=-48){t="G"}else if(-48>e&&e>=-56){t="F"}else if(-56>e&&e>=-64){t="E"}else if(-64>e&&e>=-72){t="D"}else if(-72>e&&e>=-80){t="C"}return t}function y(e,t){var o="00000"+e.easting,r="00000"+e.northing;return e.zoneNumber+e.zoneLetter+m(e.easting,e.northing,e.zoneNumber)+o.substr(o.length-5,t)+r.substr(r.length-5,t)}function m(e,t,o){var r=v(o);var i=Math.floor(e/1e5);var n=Math.floor(t/1e5)%20;return _(i,n,r)}function v(e){var t=e%r;if(t===0){t=r}return t}function _(e,t,o){var r=o-1;var c=i.charCodeAt(r);var g=n.charCodeAt(r);var h=c+e-1;var f=g+t;var d=false;if(h>u){h=h-u+a-1;d=true}if(h===l||c<l&&h>l||(h>l||c<l)&&d){h++}if(h===s||c<s&&h>s||(h>s||c<s)&&d){h++;if(h===l){h++}}if(h>u){h=h-u+a-1}if(f>p){f=f-p+a-1;d=true}else{d=false}if(f===l||g<l&&f>l||(f>l||g<l)&&d){f++}if(f===s||g<s&&f>s||(f>s||g<s)&&d){f++;if(f===l){f++}}if(f>p){f=f-p+a-1}var y=String.fromCharCode(h)+String.fromCharCode(f);return y}function x(e){if(e&&e.length===0){throw"MGRSPoint coverting from nothing"}var t=e.length;var o=null;var r="";var i;var n=0;while(!/[A-Z]/.test(i=e.charAt(n))){if(n>=2){throw"MGRSPoint bad conversion from: "+e}r+=i;n++}var a=parseInt(r,10);if(n===0||n+3>t){throw"MGRSPoint bad conversion from: "+e}var l=e.charAt(n++);if(l<="A"||l==="B"||l==="Y"||l>="Z"||l==="I"||l==="O"){throw"MGRSPoint zone letter "+l+" not handled: "+e}o=e.substring(n,n+=2);var s=v(a);var p=S(o.charAt(0),s);var u=P(o.charAt(1),s);while(u<E(l)){u+=2e6}var c=t-n;if(c%2!==0){throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+e}var g=c/2;var h=0;var f=0;var d,y,m,_,x;if(g>0){d=1e5/Math.pow(10,g);y=e.substring(n,n+g);h=parseFloat(y)*d;m=e.substring(n+g);f=parseFloat(m)*d}_=h+p;x=f+u;return{easting:_,northing:x,zoneLetter:l,zoneNumber:a,accuracy:d}}function S(e,t){var o=i.charCodeAt(t-1);var r=1e5;var n=false;while(o!==e.charCodeAt(0)){o++;if(o===l){o++}if(o===s){o++}if(o>u){if(n){throw"Bad character: "+e}o=a;n=true}r+=1e5}return r}function P(e,t){if(e>"V"){throw"MGRSPoint given invalid Northing "+e}var o=n.charCodeAt(t-1);var r=0;var i=false;while(o!==e.charCodeAt(0)){o++;if(o===l){o++}if(o===s){o++}if(o>p){if(i){throw"Bad character: "+e}o=a;i=true}r+=1e5}return r}function E(e){var t;switch(e){case"C":t=11e5;break;case"D":t=2e6;break;case"E":t=28e5;break;case"F":t=37e5;break;case"G":t=46e5;break;case"H":t=55e5;break;case"J":t=64e5;break;case"K":t=73e5;break;case"L":t=82e5;break;case"M":t=91e5;break;case"N":t=0;break;case"P":t=8e5;break;case"Q":t=17e5;break;case"R":t=26e5;break;case"S":t=35e5;break;case"T":t=44e5;break;case"U":t=53e5;break;case"V":t=62e5;break;case"W":t=7e6;break;case"X":t=79e5;break;default:t=-1}if(t>=0){return t}else{throw"Invalid zone letter: "+e}}},{}],99:[function(e,t,o){t.exports={name:"proj4",version:"2.3.10",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],gitHead:"ac03d1439491dc313da80985193f702ca471b3d0",bugs:{url:"https://github.com/proj4js/proj4js/issues"},homepage:"https://github.com/proj4js/proj4js#readme",_id:"proj4@2.3.10",_shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",_from:"proj4@2.3.10",_npmVersion:"2.11.2",_nodeVersion:"0.12.5",_npmUser:{name:"ahocevar",email:"andreas.hocevar@gmail.com"},maintainers:[{name:"cwmma",email:"calvin.metcalf@gmail.com"},{name:"ahocevar",email:"andreas.hocevar@gmail.com"}],dist:{shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz"},_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz"}},{}],100:[function(e,t,o){t.exports={Bloodhound:e("typeahead.js/dist/bloodhound.js"),loadjQueryPlugin:function(){e("typeahead.js")}}},{"typeahead.js":102,"typeahead.js/dist/bloodhound.js":101}],101:[function(e,t,o){(function(r,i){if(typeof define==="function"&&define.amd){define("bloodhound",["jquery"],function(e){return r["Bloodhound"]=i(e)})}else if(typeof o==="object"){t.exports=i(e("jquery"))}else{r["Bloodhound"]=i(jQuery)}})(this,function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return typeof e==="string"},isNumber:function(e){return typeof e==="number"},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return typeof e==="undefined"},isElement:function(e){return!!(e&&e.nodeType===1)},isJQuery:function(t){return t instanceof e},toStr:function o(e){return t.isUndefined(e)||e===null?"":e+""},bind:e.proxy,each:function(t,o){e.each(t,r);function r(e,t){return o(t,e)}},map:e.map,filter:e.grep,every:function(t,o){var r=true;if(!t){return r}e.each(t,function(e,i){if(!(r=o.call(null,i,e,t))){return false}});return!!r},some:function(t,o){var r=false;if(!t){return r}e.each(t,function(e,i){if(r=o.call(null,i,e,t)){return false}});return!!r},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(true,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function r(t){return e.isFunction(t)?t:o;function o(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,o){var r,i;return function(){var n=this,a=arguments,l,s;l=function(){r=null;if(!o){i=e.apply(n,a)}};s=o&&!r;clearTimeout(r);r=setTimeout(l,t);if(s){i=e.apply(n,a)}return i}},throttle:function(e,t){var o,r,i,n,a,l;a=0;l=function(){a=new Date;i=null;n=e.apply(o,r)};return function(){var s=new Date,p=t-(s-a);o=this;r=arguments;if(p<=0){clearTimeout(i);i=null;a=s;n=e.apply(o,r)}else if(!i){i=setTimeout(l,p)}return n}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}();var o="0.11.1";var r=function(){"use strict";return{nonword:o,whitespace:e,obj:{nonword:r(o),whitespace:r(e)}};function e(e){e=t.toStr(e);return e?e.split(/\s+/):[]}function o(e){e=t.toStr(e);return e?e.split(/\W+/):[]}function r(e){return function o(r){r=t.isArray(r)?r:[].slice.call(arguments,0);return function i(o){var i=[];t.each(r,function(r){i=i.concat(e(t.toStr(o[r])))});return i}}}}();var i=function(){"use strict";function o(o){this.maxSize=t.isNumber(o)?o:100;this.reset();if(this.maxSize<=0){this.set=this.get=e.noop}}t.mixin(o.prototype,{set:function n(e,t){var o=this.list.tail,r;if(this.size>=this.maxSize){this.list.remove(o);delete this.hash[o.key];this.size--}if(r=this.hash[e]){r.val=t;this.list.moveToFront(r)}else{r=new i(e,t);this.list.add(r);this.hash[e]=r;this.size++}},get:function a(e){var t=this.hash[e];if(t){this.list.moveToFront(t);return t.val}},reset:function l(){this.size=0;this.hash={};this.list=new r}});function r(){this.head=this.tail=null}t.mixin(r.prototype,{add:function s(e){if(this.head){e.next=this.head;this.head.prev=e}this.head=e;this.tail=this.tail||e},remove:function p(e){e.prev?e.prev.next=e.next:this.head=e.next;e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e);this.add(e)}});function i(e,t){this.key=e;this.val=t;this.prev=this.next=null}return o}();var n=function(){"use strict";var o;try{o=window.localStorage;o.setItem("~~~","!");o.removeItem("~~~")}catch(r){o=null}function i(e,r){this.prefix=["__",e,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix));this.ls=r||o;!this.ls&&this._noop()}t.mixin(i.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(o){if(o.name==="QuotaExceededError"){this.clear();this._noop()}}},get:function(e){if(this.isExpired(e)){this.remove(e)}return l(this.ls.getItem(this._prefix(e)))},set:function(e,o,r){if(t.isNumber(r)){this._safeSet(this._ttlKey(e),a(n()+r))}else{this.ls.removeItem(this._ttlKey(e))}return this._safeSet(this._prefix(e),a(o))},remove:function(e){this.ls.removeItem(this._ttlKey(e));this.ls.removeItem(this._prefix(e));return this},clear:function(){var e,t=s(this.keyMatcher);for(e=t.length;e--;){this.remove(t[e])}return this},isExpired:function(e){var o=l(this.ls.getItem(this._ttlKey(e)));return t.isNumber(o)&&n()>o?true:false}});return i;function n(){return(new Date).getTime()}function a(e){return JSON.stringify(t.isUndefined(e)?null:e)}function l(t){return e.parseJSON(t)}function s(e){var t,r,i=[],n=o.length;for(t=0;t<n;t++){if((r=o.key(t)).match(e)){i.push(r.replace(e,""))}}return i}}();var a=function(){"use strict";var o=0,r={},n=6,a=new i(10);function l(e){e=e||{};this.cancelled=false;this.lastReq=null;this._send=e.transport;this._get=e.limiter?e.limiter(this._get):this._get;this._cache=e.cache===false?new i(0):a}l.setMaxPendingRequests=function s(e){n=e};l.resetCache=function p(){a.reset()};t.mixin(l.prototype,{_fingerprint:function u(t){t=t||{};return t.url+t.type+e.param(t.data||{})},_get:function(e,t){var i=this,a,l;a=this._fingerprint(e);if(this.cancelled||a!==this.lastReq){return}if(l=r[a]){l.done(s).fail(p)}else if(o<n){o++;r[a]=this._send(e).done(s).fail(p).always(u)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function s(e){t(null,e);i._cache.set(a,e)}function p(){t(true)}function u(){o--;delete r[a];if(i.onDeckRequestArgs){i._get.apply(i,i.onDeckRequestArgs);i.onDeckRequestArgs=null}}},get:function(o,r){var i,n;r=r||e.noop;o=t.isString(o)?{url:o}:o||{};n=this._fingerprint(o);this.cancelled=false;this.lastReq=n;if(i=this._cache.get(n)){r(null,i)}else{this._get(o,r)}},cancel:function(){this.cancelled=true}});return l}();var l=window.SearchIndex=function(){"use strict";var o="c",r="i";function i(o){o=o||{};if(!o.datumTokenizer||!o.queryTokenizer){e.error("datumTokenizer and queryTokenizer are both required")}this.identify=o.identify||t.stringify;this.datumTokenizer=o.datumTokenizer;this.queryTokenizer=o.queryTokenizer;this.reset()}t.mixin(i.prototype,{bootstrap:function p(e){this.datums=e.datums;this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e];t.each(e,function(e){var l,s;i.datums[l=i.identify(e)]=e;s=n(i.datumTokenizer(e));t.each(s,function(e){var t,n,s;t=i.trie;n=e.split("");while(s=n.shift()){t=t[o][s]||(t[o][s]=a());t[r].push(l)}})})},get:function u(e){var o=this;return t.map(e,function(e){return o.datums[e]})},search:function c(e){var i=this,a,p;a=n(this.queryTokenizer(e));t.each(a,function(e){var t,n,a,l;if(p&&p.length===0){return false}t=i.trie;n=e.split("");while(t&&(a=n.shift())){t=t[o][a]}if(t&&n.length===0){l=t[r].slice(0);p=p?s(p,l):l}else{p=[];return false}});return p?t.map(l(p),function(e){return i.datums[e]}):[]},all:function g(){var e=[];for(var t in this.datums){e.push(this.datums[t])}return e},reset:function h(){this.datums={};this.trie=a()},serialize:function f(){return{datums:this.datums,trie:this.trie}}});return i;function n(e){e=t.filter(e,function(e){return!!e});e=t.map(e,function(e){return e.toLowerCase()});return e}function a(){var e={};e[r]=[];e[o]={};return e}function l(e){var t={},o=[];for(var r=0,i=e.length;r<i;r++){if(!t[e[r]]){t[e[r]]=true;o.push(e[r])}}return o}function s(e,t){var o=0,r=0,i=[];e=e.sort();t=t.sort();var n=e.length,a=t.length;while(o<n&&r<a){if(e[o]<t[r]){o++}else if(e[o]>t[r]){r++}else{i.push(e[o]);o++;r++}}return i}}();var s=function(){"use strict";var e;e={data:"data",protocol:"protocol",thumbprint:"thumbprint"};function o(e){this.url=e.url;this.ttl=e.ttl;this.cache=e.cache;this.prepare=e.prepare;this.transform=e.transform;this.transport=e.transport;this.thumbprint=e.thumbprint;this.storage=new n(e.cacheKey)}t.mixin(o.prototype,{_settings:function r(){return{url:this.url,type:"GET",dataType:"json"}},store:function i(t){if(!this.cache){return}this.storage.set(e.data,t,this.ttl);this.storage.set(e.protocol,location.protocol,this.ttl);this.storage.set(e.thumbprint,this.thumbprint,this.ttl)},fromCache:function a(){var t={},o;if(!this.cache){return null}t.data=this.storage.get(e.data);t.protocol=this.storage.get(e.protocol);t.thumbprint=this.storage.get(e.thumbprint);o=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol;return t.data&&!o?t.data:null},fromNetwork:function(e){var t=this,o;if(!e){return}o=this.prepare(this._settings());this.transport(o).fail(r).done(i);function r(){e(true)}function i(o){e(null,t.transform(o))}},clear:function l(){this.storage.clear();return this}});return o}();var p=function(){"use strict";function e(e){this.url=e.url;this.prepare=e.prepare;this.transform=e.transform;this.transport=new a({cache:e.cache,limiter:e.limiter,transport:e.transport})}t.mixin(e.prototype,{_settings:function o(){return{url:this.url,type:"GET",dataType:"json"}},get:function r(e,t){var o=this,r;if(!t){return}e=e||"";r=this.prepare(e,this._settings());return this.transport.get(r,i);function i(e,r){e?t([]):t(o.transform(r))}},cancelLastRequest:function i(){this.transport.cancel()}});return e}();var u=function(){"use strict";return function s(o){var n,a;n={initialize:true,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null};o=t.mixin(n,o||{});!o.datumTokenizer&&e.error("datumTokenizer is required");!o.queryTokenizer&&e.error("queryTokenizer is required");a=o.sorter;o.sorter=a?function(e){return e.sort(a)}:t.identity;o.local=t.isFunction(o.local)?o.local():o.local;o.prefetch=r(o.prefetch);o.remote=i(o.remote);return o};function r(r){var i;if(!r){return null}i={url:null,ttl:24*60*60*1e3,cache:true,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null};r=t.isString(r)?{url:r}:r;r=t.mixin(i,r);!r.url&&e.error("prefetch requires url to be set");r.transform=r.filter||r.transform;r.cacheKey=r.cacheKey||r.url;r.thumbprint=o+r.thumbprint;r.transport=r.transport?l(r.transport):e.ajax;return r}function i(o){var r;if(!o){return}r={url:null,cache:true,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null};o=t.isString(o)?{url:o}:o;o=t.mixin(r,o);!o.url&&e.error("remote requires url to be set");o.transform=o.filter||o.transform;o.prepare=n(o);o.limiter=a(o);o.transport=o.transport?l(o.transport):e.ajax;delete o.replace;delete o.wildcard;delete o.rateLimitBy;delete o.rateLimitWait;return o}function n(e){var t,o,r;t=e.prepare;o=e.replace;r=e.wildcard;if(t){return t}if(o){t=i}else if(e.wildcard){t=n}else{t=a}return t;function i(e,t){t.url=o(t.url,e);return t}function n(e,t){t.url=t.url.replace(r,encodeURIComponent(e));return t}function a(e,t){return t}}function a(e){var o,r,i;o=e.limiter;r=e.rateLimitBy;i=e.rateLimitWait;if(!o){o=/^throttle$/i.test(r)?a(i):n(i)}return o;function n(e){return function o(r){return t.debounce(r,e)}}function a(e){return function o(r){return t.throttle(r,e)}}}function l(o){return function r(i){var n=e.Deferred();o(i,a,l);return n;function a(e){t.defer(function(){n.resolve(e)})}function l(e){t.defer(function(){n.reject(e)})}}}}();var c=function(){"use strict";var o;o=window&&window.Bloodhound;function i(e){e=u(e);this.sorter=e.sorter;this.identify=e.identify;this.sufficient=e.sufficient;this.local=e.local;this.remote=e.remote?new p(e.remote):null;this.prefetch=e.prefetch?new s(e.prefetch):null;this.index=new l({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer});e.initialize!==false&&this.initialize()}i.noConflict=function n(){window&&(window.Bloodhound=o);return i};i.tokenizers=r;t.mixin(i.prototype,{__ttAdapter:function c(){var e=this;return this.remote?t:o;function t(t,o,r){return e.search(t,o,r)}function o(t,o){return e.search(t,o)}},_loadPrefetch:function g(){var t=this,o,r;o=e.Deferred();if(!this.prefetch){o.resolve()}else if(r=this.prefetch.fromCache()){this.index.bootstrap(r);o.resolve()}else{this.prefetch.fromNetwork(i)}return o.promise();function i(e,r){if(e){return o.reject()}t.add(r);t.prefetch.store(t.index.serialize());o.resolve()}},_initialize:function h(){var e=this,t;this.clear();(this.initPromise=this._loadPrefetch()).done(o);return this.initPromise;function o(){e.add(e.local)}},initialize:function f(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function d(e){this.index.add(e);return this},get:function y(e){e=t.isArray(e)?e:[].slice.call(arguments);return this.index.get(e)},search:function m(e,o,r){var i=this,n;n=this.sorter(this.index.search(e));o(this.remote?n.slice():n);if(this.remote&&n.length<this.sufficient){this.remote.get(e,a)}else if(this.remote){this.remote.cancelLastRequest()}return this;function a(e){var o=[];t.each(e,function(e){!t.some(n,function(t){return i.identify(e)===i.identify(t)})&&o.push(e)});r&&r(o)}},all:function v(){return this.index.all()},clear:function _(){this.index.reset();return this},clearPrefetchCache:function x(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function S(){a.resetCache();return this},ttAdapter:function P(){return this.__ttAdapter()}});return i}();return c})},{jquery:29}],102:[function(e,t,o){(function(r,i){if(typeof define==="function"&&define.amd){define("bloodhound",["jquery"],function(e){return r["Bloodhound"]=i(e)})}else if(typeof o==="object"){t.exports=i(e("jquery"))}else{r["Bloodhound"]=i(jQuery)}})(this,function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return typeof e==="string"},isNumber:function(e){return typeof e==="number"},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return typeof e==="undefined"},isElement:function(e){return!!(e&&e.nodeType===1)},isJQuery:function(t){return t instanceof e},toStr:function o(e){return t.isUndefined(e)||e===null?"":e+""},bind:e.proxy,each:function(t,o){e.each(t,r);function r(e,t){return o(t,e)}},map:e.map,filter:e.grep,every:function(t,o){var r=true;if(!t){return r}e.each(t,function(e,i){if(!(r=o.call(null,i,e,t))){return false}});return!!r},some:function(t,o){var r=false;if(!t){return r}e.each(t,function(e,i){if(r=o.call(null,i,e,t)){return false}});return!!r},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(true,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function r(t){return e.isFunction(t)?t:o;function o(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,o){var r,i;return function(){var n=this,a=arguments,l,s;l=function(){r=null;if(!o){i=e.apply(n,a)}};s=o&&!r;clearTimeout(r);r=setTimeout(l,t);if(s){i=e.apply(n,a)}return i}},throttle:function(e,t){var o,r,i,n,a,l;a=0;l=function(){a=new Date;i=null;n=e.apply(o,r)};return function(){var s=new Date,p=t-(s-a);o=this;r=arguments;if(p<=0){clearTimeout(i);i=null;a=s;n=e.apply(o,r)}else if(!i){i=setTimeout(l,p)}return n}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}();var o="0.11.1";var r=function(){"use strict";return{nonword:o,whitespace:e,obj:{nonword:r(o),whitespace:r(e)}};function e(e){e=t.toStr(e);return e?e.split(/\s+/):[]}function o(e){e=t.toStr(e);return e?e.split(/\W+/):[]}function r(e){return function o(r){r=t.isArray(r)?r:[].slice.call(arguments,0);return function i(o){var i=[];t.each(r,function(r){i=i.concat(e(t.toStr(o[r])))});return i}}}}();var i=function(){"use strict";function o(o){this.maxSize=t.isNumber(o)?o:100;this.reset();if(this.maxSize<=0){this.set=this.get=e.noop}}t.mixin(o.prototype,{set:function n(e,t){var o=this.list.tail,r;if(this.size>=this.maxSize){this.list.remove(o);delete this.hash[o.key];this.size--}if(r=this.hash[e]){r.val=t;this.list.moveToFront(r)}else{r=new i(e,t);this.list.add(r);this.hash[e]=r;this.size++}},get:function a(e){var t=this.hash[e];if(t){this.list.moveToFront(t);return t.val}},reset:function l(){this.size=0;this.hash={};this.list=new r}});function r(){this.head=this.tail=null}t.mixin(r.prototype,{add:function s(e){if(this.head){e.next=this.head;this.head.prev=e}this.head=e;this.tail=this.tail||e},remove:function p(e){e.prev?e.prev.next=e.next:this.head=e.next;e.next?e.next.prev=e.prev:this.tail=e.prev},moveToFront:function(e){this.remove(e);this.add(e)}});function i(e,t){this.key=e;this.val=t;this.prev=this.next=null}return o}();var n=function(){"use strict";var o;try{o=window.localStorage;
o.setItem("~~~","!");o.removeItem("~~~")}catch(r){o=null}function i(e,r){this.prefix=["__",e,"__"].join("");this.ttlKey="__ttl__";this.keyMatcher=new RegExp("^"+t.escapeRegExChars(this.prefix));this.ls=r||o;!this.ls&&this._noop()}t.mixin(i.prototype,{_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=t.noop},_safeSet:function(e,t){try{this.ls.setItem(e,t)}catch(o){if(o.name==="QuotaExceededError"){this.clear();this._noop()}}},get:function(e){if(this.isExpired(e)){this.remove(e)}return l(this.ls.getItem(this._prefix(e)))},set:function(e,o,r){if(t.isNumber(r)){this._safeSet(this._ttlKey(e),a(n()+r))}else{this.ls.removeItem(this._ttlKey(e))}return this._safeSet(this._prefix(e),a(o))},remove:function(e){this.ls.removeItem(this._ttlKey(e));this.ls.removeItem(this._prefix(e));return this},clear:function(){var e,t=s(this.keyMatcher);for(e=t.length;e--;){this.remove(t[e])}return this},isExpired:function(e){var o=l(this.ls.getItem(this._ttlKey(e)));return t.isNumber(o)&&n()>o?true:false}});return i;function n(){return(new Date).getTime()}function a(e){return JSON.stringify(t.isUndefined(e)?null:e)}function l(t){return e.parseJSON(t)}function s(e){var t,r,i=[],n=o.length;for(t=0;t<n;t++){if((r=o.key(t)).match(e)){i.push(r.replace(e,""))}}return i}}();var a=function(){"use strict";var o=0,r={},n=6,a=new i(10);function l(e){e=e||{};this.cancelled=false;this.lastReq=null;this._send=e.transport;this._get=e.limiter?e.limiter(this._get):this._get;this._cache=e.cache===false?new i(0):a}l.setMaxPendingRequests=function s(e){n=e};l.resetCache=function p(){a.reset()};t.mixin(l.prototype,{_fingerprint:function u(t){t=t||{};return t.url+t.type+e.param(t.data||{})},_get:function(e,t){var i=this,a,l;a=this._fingerprint(e);if(this.cancelled||a!==this.lastReq){return}if(l=r[a]){l.done(s).fail(p)}else if(o<n){o++;r[a]=this._send(e).done(s).fail(p).always(u)}else{this.onDeckRequestArgs=[].slice.call(arguments,0)}function s(e){t(null,e);i._cache.set(a,e)}function p(){t(true)}function u(){o--;delete r[a];if(i.onDeckRequestArgs){i._get.apply(i,i.onDeckRequestArgs);i.onDeckRequestArgs=null}}},get:function(o,r){var i,n;r=r||e.noop;o=t.isString(o)?{url:o}:o||{};n=this._fingerprint(o);this.cancelled=false;this.lastReq=n;if(i=this._cache.get(n)){r(null,i)}else{this._get(o,r)}},cancel:function(){this.cancelled=true}});return l}();var l=window.SearchIndex=function(){"use strict";var o="c",r="i";function i(o){o=o||{};if(!o.datumTokenizer||!o.queryTokenizer){e.error("datumTokenizer and queryTokenizer are both required")}this.identify=o.identify||t.stringify;this.datumTokenizer=o.datumTokenizer;this.queryTokenizer=o.queryTokenizer;this.reset()}t.mixin(i.prototype,{bootstrap:function p(e){this.datums=e.datums;this.trie=e.trie},add:function(e){var i=this;e=t.isArray(e)?e:[e];t.each(e,function(e){var l,s;i.datums[l=i.identify(e)]=e;s=n(i.datumTokenizer(e));t.each(s,function(e){var t,n,s;t=i.trie;n=e.split("");while(s=n.shift()){t=t[o][s]||(t[o][s]=a());t[r].push(l)}})})},get:function u(e){var o=this;return t.map(e,function(e){return o.datums[e]})},search:function c(e){var i=this,a,p;a=n(this.queryTokenizer(e));t.each(a,function(e){var t,n,a,l;if(p&&p.length===0){return false}t=i.trie;n=e.split("");while(t&&(a=n.shift())){t=t[o][a]}if(t&&n.length===0){l=t[r].slice(0);p=p?s(p,l):l}else{p=[];return false}});return p?t.map(l(p),function(e){return i.datums[e]}):[]},all:function g(){var e=[];for(var t in this.datums){e.push(this.datums[t])}return e},reset:function h(){this.datums={};this.trie=a()},serialize:function f(){return{datums:this.datums,trie:this.trie}}});return i;function n(e){e=t.filter(e,function(e){return!!e});e=t.map(e,function(e){return e.toLowerCase()});return e}function a(){var e={};e[r]=[];e[o]={};return e}function l(e){var t={},o=[];for(var r=0,i=e.length;r<i;r++){if(!t[e[r]]){t[e[r]]=true;o.push(e[r])}}return o}function s(e,t){var o=0,r=0,i=[];e=e.sort();t=t.sort();var n=e.length,a=t.length;while(o<n&&r<a){if(e[o]<t[r]){o++}else if(e[o]>t[r]){r++}else{i.push(e[o]);o++;r++}}return i}}();var s=function(){"use strict";var e;e={data:"data",protocol:"protocol",thumbprint:"thumbprint"};function o(e){this.url=e.url;this.ttl=e.ttl;this.cache=e.cache;this.prepare=e.prepare;this.transform=e.transform;this.transport=e.transport;this.thumbprint=e.thumbprint;this.storage=new n(e.cacheKey)}t.mixin(o.prototype,{_settings:function r(){return{url:this.url,type:"GET",dataType:"json"}},store:function i(t){if(!this.cache){return}this.storage.set(e.data,t,this.ttl);this.storage.set(e.protocol,location.protocol,this.ttl);this.storage.set(e.thumbprint,this.thumbprint,this.ttl)},fromCache:function a(){var t={},o;if(!this.cache){return null}t.data=this.storage.get(e.data);t.protocol=this.storage.get(e.protocol);t.thumbprint=this.storage.get(e.thumbprint);o=t.thumbprint!==this.thumbprint||t.protocol!==location.protocol;return t.data&&!o?t.data:null},fromNetwork:function(e){var t=this,o;if(!e){return}o=this.prepare(this._settings());this.transport(o).fail(r).done(i);function r(){e(true)}function i(o){e(null,t.transform(o))}},clear:function l(){this.storage.clear();return this}});return o}();var p=function(){"use strict";function e(e){this.url=e.url;this.prepare=e.prepare;this.transform=e.transform;this.transport=new a({cache:e.cache,limiter:e.limiter,transport:e.transport})}t.mixin(e.prototype,{_settings:function o(){return{url:this.url,type:"GET",dataType:"json"}},get:function r(e,t){var o=this,r;if(!t){return}e=e||"";r=this.prepare(e,this._settings());return this.transport.get(r,i);function i(e,r){e?t([]):t(o.transform(r))}},cancelLastRequest:function i(){this.transport.cancel()}});return e}();var u=function(){"use strict";return function s(o){var n,a;n={initialize:true,identify:t.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null};o=t.mixin(n,o||{});!o.datumTokenizer&&e.error("datumTokenizer is required");!o.queryTokenizer&&e.error("queryTokenizer is required");a=o.sorter;o.sorter=a?function(e){return e.sort(a)}:t.identity;o.local=t.isFunction(o.local)?o.local():o.local;o.prefetch=r(o.prefetch);o.remote=i(o.remote);return o};function r(r){var i;if(!r){return null}i={url:null,ttl:24*60*60*1e3,cache:true,cacheKey:null,thumbprint:"",prepare:t.identity,transform:t.identity,transport:null};r=t.isString(r)?{url:r}:r;r=t.mixin(i,r);!r.url&&e.error("prefetch requires url to be set");r.transform=r.filter||r.transform;r.cacheKey=r.cacheKey||r.url;r.thumbprint=o+r.thumbprint;r.transport=r.transport?l(r.transport):e.ajax;return r}function i(o){var r;if(!o){return}r={url:null,cache:true,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:t.identity,transport:null};o=t.isString(o)?{url:o}:o;o=t.mixin(r,o);!o.url&&e.error("remote requires url to be set");o.transform=o.filter||o.transform;o.prepare=n(o);o.limiter=a(o);o.transport=o.transport?l(o.transport):e.ajax;delete o.replace;delete o.wildcard;delete o.rateLimitBy;delete o.rateLimitWait;return o}function n(e){var t,o,r;t=e.prepare;o=e.replace;r=e.wildcard;if(t){return t}if(o){t=i}else if(e.wildcard){t=n}else{t=a}return t;function i(e,t){t.url=o(t.url,e);return t}function n(e,t){t.url=t.url.replace(r,encodeURIComponent(e));return t}function a(e,t){return t}}function a(e){var o,r,i;o=e.limiter;r=e.rateLimitBy;i=e.rateLimitWait;if(!o){o=/^throttle$/i.test(r)?a(i):n(i)}return o;function n(e){return function o(r){return t.debounce(r,e)}}function a(e){return function o(r){return t.throttle(r,e)}}}function l(o){return function r(i){var n=e.Deferred();o(i,a,l);return n;function a(e){t.defer(function(){n.resolve(e)})}function l(e){t.defer(function(){n.reject(e)})}}}}();var c=function(){"use strict";var o;o=window&&window.Bloodhound;function i(e){e=u(e);this.sorter=e.sorter;this.identify=e.identify;this.sufficient=e.sufficient;this.local=e.local;this.remote=e.remote?new p(e.remote):null;this.prefetch=e.prefetch?new s(e.prefetch):null;this.index=new l({identify:this.identify,datumTokenizer:e.datumTokenizer,queryTokenizer:e.queryTokenizer});e.initialize!==false&&this.initialize()}i.noConflict=function n(){window&&(window.Bloodhound=o);return i};i.tokenizers=r;t.mixin(i.prototype,{__ttAdapter:function c(){var e=this;return this.remote?t:o;function t(t,o,r){return e.search(t,o,r)}function o(t,o){return e.search(t,o)}},_loadPrefetch:function g(){var t=this,o,r;o=e.Deferred();if(!this.prefetch){o.resolve()}else if(r=this.prefetch.fromCache()){this.index.bootstrap(r);o.resolve()}else{this.prefetch.fromNetwork(i)}return o.promise();function i(e,r){if(e){return o.reject()}t.add(r);t.prefetch.store(t.index.serialize());o.resolve()}},_initialize:function h(){var e=this,t;this.clear();(this.initPromise=this._loadPrefetch()).done(o);return this.initPromise;function o(){e.add(e.local)}},initialize:function f(e){return!this.initPromise||e?this._initialize():this.initPromise},add:function d(e){this.index.add(e);return this},get:function y(e){e=t.isArray(e)?e:[].slice.call(arguments);return this.index.get(e)},search:function m(e,o,r){var i=this,n;n=this.sorter(this.index.search(e));o(this.remote?n.slice():n);if(this.remote&&n.length<this.sufficient){this.remote.get(e,a)}else if(this.remote){this.remote.cancelLastRequest()}return this;function a(e){var o=[];t.each(e,function(e){!t.some(n,function(t){return i.identify(e)===i.identify(t)})&&o.push(e)});r&&r(o)}},all:function v(){return this.index.all()},clear:function _(){this.index.reset();return this},clearPrefetchCache:function x(){this.prefetch&&this.prefetch.clear();return this},clearRemoteCache:function S(){a.resetCache();return this},ttAdapter:function P(){return this.__ttAdapter()}});return i}();return c});(function(r,i){if(typeof define==="function"&&define.amd){define("typeahead.js",["jquery"],function(e){return i(e)})}else if(typeof o==="object"){t.exports=i(e("jquery"))}else{i(jQuery)}})(this,function(e){var t=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:false},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return typeof e==="string"},isNumber:function(e){return typeof e==="number"},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return typeof e==="undefined"},isElement:function(e){return!!(e&&e.nodeType===1)},isJQuery:function(t){return t instanceof e},toStr:function o(e){return t.isUndefined(e)||e===null?"":e+""},bind:e.proxy,each:function(t,o){e.each(t,r);function r(e,t){return o(t,e)}},map:e.map,filter:e.grep,every:function(t,o){var r=true;if(!t){return r}e.each(t,function(e,i){if(!(r=o.call(null,i,e,t))){return false}});return!!r},some:function(t,o){var r=false;if(!t){return r}e.each(t,function(e,i){if(r=o.call(null,i,e,t)){return false}});return!!r},mixin:e.extend,identity:function(e){return e},clone:function(t){return e.extend(true,{},t)},getIdGenerator:function(){var e=0;return function(){return e++}},templatify:function r(t){return e.isFunction(t)?t:o;function o(){return String(t)}},defer:function(e){setTimeout(e,0)},debounce:function(e,t,o){var r,i;return function(){var n=this,a=arguments,l,s;l=function(){r=null;if(!o){i=e.apply(n,a)}};s=o&&!r;clearTimeout(r);r=setTimeout(l,t);if(s){i=e.apply(n,a)}return i}},throttle:function(e,t){var o,r,i,n,a,l;a=0;l=function(){a=new Date;i=null;n=e.apply(o,r)};return function(){var s=new Date,p=t-(s-a);o=this;r=arguments;if(p<=0){clearTimeout(i);i=null;a=s;n=e.apply(o,r)}else if(!i){i=setTimeout(l,p)}return n}},stringify:function(e){return t.isString(e)?e:JSON.stringify(e)},noop:function(){}}}();var o=function(){"use strict";var e={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return o;function o(o){var a,l;l=t.mixin({},e,o);a={css:n(),classes:l,html:r(l),selectors:i(l)};return{css:a.css,html:a.html,classes:a.classes,selectors:a.selectors,mixin:function(e){t.mixin(e,a)}}}function r(e){return{wrapper:'<span class="'+e.wrapper+'"></span>',menu:'<div class="'+e.menu+'"></div>'}}function i(e){var o={};t.each(e,function(e,t){o[t]="."+e});return o}function n(){var e={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};if(t.isMsie()){t.mixin(e.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"})}return e}}();var r=function(){"use strict";var o,r;o="typeahead:";r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"};function i(t){if(!t||!t.el){e.error("EventBus initialized without el")}this.$el=e(t.el)}t.mixin(i.prototype,{_trigger:function(t,r){var i;i=e.Event(o+t);(r=r||[]).unshift(i);this.$el.trigger.apply(this.$el,r);return i},before:function(e){var t,o;t=[].slice.call(arguments,1);o=this._trigger("before"+e,t);return o.isDefaultPrevented()},trigger:function(e){var t;this._trigger(e,[].slice.call(arguments,1));if(t=r[e]){this._trigger(t,[].slice.call(arguments,1))}}});return i}();var i=function(){"use strict";var e=/\s+/,t=s();return{onSync:i,onAsync:r,off:n,trigger:a};function o(t,o,r,i){var n;if(!r){return this}o=o.split(e);r=i?p(r,i):r;this._callbacks=this._callbacks||{};while(n=o.shift()){this._callbacks[n]=this._callbacks[n]||{sync:[],async:[]};this._callbacks[n][t].push(r)}return this}function r(e,t,r){return o.call(this,"async",e,t,r)}function i(e,t,r){return o.call(this,"sync",e,t,r)}function n(t){var o;if(!this._callbacks){return this}t=t.split(e);while(o=t.shift()){delete this._callbacks[o]}return this}function a(o){var r,i,n,a,s;if(!this._callbacks){return this}o=o.split(e);n=[].slice.call(arguments,1);while((r=o.shift())&&(i=this._callbacks[r])){a=l(i.sync,this,[r].concat(n));s=l(i.async,this,[r].concat(n));a()&&t(s)}return this}function l(e,t,o){return r;function r(){var r;for(var i=0,n=e.length;!r&&i<n;i+=1){r=e[i].apply(t,o)===false}return!r}}function s(){var e;if(window.setImmediate){e=function t(e){setImmediate(function(){e()})}}else{e=function o(e){setTimeout(function(){e()},0)}}return e}function p(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}}();var n=function(e){"use strict";var o={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:false,caseSensitive:false};return function i(n){var a;n=t.mixin({},o,n);if(!n.node||!n.pattern){return}n.pattern=t.isArray(n.pattern)?n.pattern:[n.pattern];a=r(n.pattern,n.caseSensitive,n.wordsOnly);s(n.node,l);function l(t){var o,r,i;if(o=a.exec(t.data)){i=e.createElement(n.tagName);n.className&&(i.className=n.className);r=t.splitText(o.index);r.splitText(o[0].length);i.appendChild(r.cloneNode(true));t.parentNode.replaceChild(i,r)}return!!o}function s(e,t){var o,r=3;for(var i=0;i<e.childNodes.length;i++){o=e.childNodes[i];if(o.nodeType===r){i+=t(o)?1:0}else{s(o,t)}}}};function r(e,o,r){var i=[],n;for(var a=0,l=e.length;a<l;a++){i.push(t.escapeRegExChars(e[a]))}n=r?"\\b("+i.join("|")+")\\b":"("+i.join("|")+")";return o?new RegExp(n):new RegExp(n,"i")}}(window.document);var a=function(){"use strict";var o;o={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"};function r(o,r){o=o||{};if(!o.input){e.error("input is missing")}r.mixin(this);this.$hint=e(o.hint);this.$input=e(o.input);this.query=this.$input.val();this.queryWhenFocused=this.hasFocus()?this.query:null;this.$overflowHelper=n(this.$input);this._checkLanguageDirection();if(this.$hint.length===0){this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=t.noop}}r.normalizeQuery=function(e){return t.toStr(e).replace(/^\s*/g,"").replace(/\s{2,}/g," ")};t.mixin(r.prototype,i,{_onBlur:function s(){this.resetInputValue();this.trigger("blurred")},_onFocus:function p(){this.queryWhenFocused=this.query;this.trigger("focused")},_onKeydown:function u(e){var t=o[e.which||e.keyCode];this._managePreventDefault(t,e);if(t&&this._shouldTrigger(t,e)){this.trigger(t+"Keyed",e)}},_onInput:function c(){this._setQuery(this.getInputValue());this.clearHintIfInvalid();this._checkLanguageDirection()},_managePreventDefault:function g(e,t){var o;switch(e){case"up":case"down":o=!l(t);break;default:o=false}o&&t.preventDefault()},_shouldTrigger:function h(e,t){var o;switch(e){case"tab":o=!l(t);break;default:o=true}return o},_checkLanguageDirection:function f(){var e=(this.$input.css("direction")||"ltr").toLowerCase();if(this.dir!==e){this.dir=e;this.$hint.attr("dir",e);this.trigger("langDirChanged",e)}},_setQuery:function d(e,t){var o,r;o=a(e,this.query);r=o?this.query.length!==e.length:false;this.query=e;if(!t&&!o){this.trigger("queryChanged",this.query)}else if(!t&&r){this.trigger("whitespaceChanged",this.query)}},bind:function(){var e=this,r,i,n,a;r=t.bind(this._onBlur,this);i=t.bind(this._onFocus,this);n=t.bind(this._onKeydown,this);a=t.bind(this._onInput,this);this.$input.on("blur.tt",r).on("focus.tt",i).on("keydown.tt",n);if(!t.isMsie()||t.isMsie()>9){this.$input.on("input.tt",a)}else{this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(r){if(o[r.which||r.keyCode]){return}t.defer(t.bind(e._onInput,e,r))})}return this},focus:function y(){this.$input.focus()},blur:function m(){this.$input.blur()},getLangDir:function v(){return this.dir},getQuery:function _(){return this.query||""},setQuery:function x(e,t){this.setInputValue(e);this._setQuery(e,t)},hasQueryChangedSinceLastFocus:function S(){return this.query!==this.queryWhenFocused},getInputValue:function P(){return this.$input.val()},setInputValue:function E(e){this.$input.val(e);this.clearHintIfInvalid();this._checkLanguageDirection()},resetInputValue:function T(){this.setInputValue(this.query)},getHint:function b(){return this.$hint.val()},setHint:function M(e){this.$hint.val(e)},clearHint:function C(){this.setHint("")},clearHintIfInvalid:function R(){var e,t,o,r;e=this.getInputValue();t=this.getHint();o=e!==t&&t.indexOf(e)===0;r=e!==""&&o&&!this.hasOverflow();!r&&this.clearHint()},hasFocus:function w(){return this.$input.is(":focus")},hasOverflow:function L(){var e=this.$input.width()-2;this.$overflowHelper.text(this.getInputValue());return this.$overflowHelper.width()>=e},isCursorAtEnd:function(){var e,o,r;e=this.$input.val().length;o=this.$input[0].selectionStart;if(t.isNumber(o)){return o===e}else if(document.selection){r=document.selection.createRange();r.moveStart("character",-e);return e===r.text.length}return true},destroy:function I(){this.$hint.off(".tt");this.$input.off(".tt");this.$overflowHelper.remove();this.$hint=this.$input=this.$overflowHelper=e("<div>")}});return r;function n(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function a(e,t){return r.normalizeQuery(e)===r.normalizeQuery(t)}function l(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}}();var l=function(){"use strict";var o,r;o={val:"tt-selectable-display",obj:"tt-selectable-object"};r=t.getIdGenerator();function a(o,i){o=o||{};o.templates=o.templates||{};o.templates.notFound=o.templates.notFound||o.templates.empty;if(!o.source){e.error("missing source")}if(!o.node){e.error("missing node")}if(o.name&&!p(o.name)){e.error("invalid dataset name: "+o.name)}i.mixin(this);this.highlight=!!o.highlight;this.name=o.name||r();this.limit=o.limit||5;this.displayFn=l(o.display||o.displayKey);this.templates=s(o.templates,this.displayFn);this.source=o.source.__ttAdapter?o.source.__ttAdapter():o.source;this.async=t.isUndefined(o.async)?this.source.length>2:!!o.async;this._resetLastSuggestion();this.$el=e(o.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}a.extractData=function u(t){var r=e(t);if(r.data(o.obj)){return{val:r.data(o.val)||"",obj:r.data(o.obj)||null}}return null};t.mixin(a.prototype,i,{_overwrite:function c(e,t){t=t||[];if(t.length){this._renderSuggestions(e,t)}else if(this.async&&this.templates.pending){this._renderPending(e)}else if(!this.async&&this.templates.notFound){this._renderNotFound(e)}else{this._empty()}this.trigger("rendered",this.name,t,false)},_append:function g(e,t){t=t||[];if(t.length&&this.$lastSuggestion.length){this._appendSuggestions(e,t)}else if(t.length){this._renderSuggestions(e,t)}else if(!this.$lastSuggestion.length&&this.templates.notFound){this._renderNotFound(e)}this.trigger("rendered",this.name,t,true)},_renderSuggestions:function h(e,t){var o;o=this._getSuggestionsFragment(e,t);this.$lastSuggestion=o.children().last();this.$el.html(o).prepend(this._getHeader(e,t)).append(this._getFooter(e,t))},_appendSuggestions:function f(e,t){var o,r;o=this._getSuggestionsFragment(e,t);r=o.children().last();this.$lastSuggestion.after(o);this.$lastSuggestion=r},_renderPending:function d(e){var t=this.templates.pending;this._resetLastSuggestion();t&&this.$el.html(t({query:e,dataset:this.name}))},_renderNotFound:function y(e){var t=this.templates.notFound;this._resetLastSuggestion();t&&this.$el.html(t({query:e,dataset:this.name}))},_empty:function m(){this.$el.empty();this._resetLastSuggestion()},_getSuggestionsFragment:function v(r,i){var a=this,l;l=document.createDocumentFragment();t.each(i,function s(t){var i,n;n=a._injectQuery(r,t);i=e(a.templates.suggestion(n)).data(o.obj,t).data(o.val,a.displayFn(t)).addClass(a.classes.suggestion+" "+a.classes.selectable);l.appendChild(i[0])});this.highlight&&n({className:this.classes.highlight,node:l,pattern:r});return e(l)},_getFooter:function _(e,t){return this.templates.footer?this.templates.footer({query:e,suggestions:t,dataset:this.name}):null},_getHeader:function x(e,t){return this.templates.header?this.templates.header({query:e,suggestions:t,dataset:this.name}):null},_resetLastSuggestion:function S(){this.$lastSuggestion=e()},_injectQuery:function P(e,o){return t.isObject(o)?t.mixin({_query:e},o):o},update:function E(t){var o=this,r=false,i=false,n=0;this.cancel();this.cancel=function s(){r=true;o.cancel=e.noop;o.async&&o.trigger("asyncCanceled",t)};this.source(t,a,l);!i&&a([]);function a(e){if(i){return}i=true;e=(e||[]).slice(0,o.limit);n=e.length;o._overwrite(t,e);if(n<o.limit&&o.async){o.trigger("asyncRequested",t)}}function l(i){i=i||[];if(!r&&n<o.limit){o.cancel=e.noop;n+=i.length;o._append(t,i.slice(0,o.limit-n));o.async&&o.trigger("asyncReceived",t)}}},cancel:e.noop,clear:function T(){this._empty();this.cancel();this.trigger("cleared")},isEmpty:function b(){return this.$el.is(":empty")},destroy:function M(){this.$el=e("<div>")}});return a;function l(e){e=e||t.stringify;return t.isFunction(e)?e:o;function o(t){return t[e]}}function s(o,r){return{notFound:o.notFound&&t.templatify(o.notFound),pending:o.pending&&t.templatify(o.pending),header:o.header&&t.templatify(o.header),footer:o.footer&&t.templatify(o.footer),suggestion:o.suggestion||i};function i(t){return e("<div>").text(r(t))}}function p(e){return/^[_a-zA-Z0-9-]+$/.test(e)}}();var s=function(){"use strict";function o(o,r){var i=this;o=o||{};if(!o.node){e.error("node is required")}r.mixin(this);this.$node=e(o.node);this.query=null;this.datasets=t.map(o.datasets,n);function n(t){var o=i.$node.find(t.node).first();t.node=o.length?o:e("<div>").appendTo(i.$node);return new l(t,r)}}t.mixin(o.prototype,i,{_onSelectableClick:function r(t){this.trigger("selectableClicked",e(t.currentTarget))},_onRendered:function n(e,t,o,r){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetRendered",t,o,r)},_onCleared:function a(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty());this.trigger("datasetCleared")},_propagate:function s(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function p(){return t.every(this.datasets,e);function e(e){return e.isEmpty()}},_getSelectables:function u(){return this.$node.find(this.selectors.selectable)},_removeCursor:function c(){var e=this.getActiveSelectable();e&&e.removeClass(this.classes.cursor)},_ensureVisible:function g(e){var t,o,r,i;t=e.position().top;o=t+e.outerHeight(true);r=this.$node.scrollTop();i=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10);if(t<0){this.$node.scrollTop(r+t)}else if(i<o){this.$node.scrollTop(r+(o-i))}},bind:function(){var e=this,o;o=t.bind(this._onSelectableClick,this);this.$node.on("click.tt",this.selectors.selectable,o);t.each(this.datasets,function(t){t.onSync("asyncRequested",e._propagate,e).onSync("asyncCanceled",e._propagate,e).onSync("asyncReceived",e._propagate,e).onSync("rendered",e._onRendered,e).onSync("cleared",e._onCleared,e)});return this},isOpen:function h(){return this.$node.hasClass(this.classes.open)},open:function f(){this.$node.addClass(this.classes.open)},close:function d(){this.$node.removeClass(this.classes.open);this._removeCursor()},setLanguageDirection:function y(e){this.$node.attr("dir",e)},selectableRelativeToCursor:function m(e){var t,o,r,i;o=this.getActiveSelectable();t=this._getSelectables();r=o?t.index(o):-1;i=r+e;i=(i+1)%(t.length+1)-1;i=i<-1?t.length-1:i;return i===-1?null:t.eq(i)},setCursor:function v(e){this._removeCursor();if(e=e&&e.first()){e.addClass(this.classes.cursor);this._ensureVisible(e)}},getSelectableData:function _(e){return e&&e.length?l.extractData(e):null},getActiveSelectable:function x(){var e=this._getSelectables().filter(this.selectors.cursor).first();return e.length?e:null},getTopSelectable:function S(){var e=this._getSelectables().first();return e.length?e:null},update:function P(e){var o=e!==this.query;if(o){this.query=e;t.each(this.datasets,r)}return o;function r(t){t.update(e)}},empty:function E(){t.each(this.datasets,e);this.query=null;this.$node.addClass(this.classes.empty);function e(e){e.clear()}},destroy:function T(){this.$node.off(".tt");this.$node=e("<div>");t.each(this.datasets,o);function o(e){e.destroy()}}});return o}();var p=function(){"use strict";var e=s.prototype;function o(){s.apply(this,[].slice.call(arguments,0))}t.mixin(o.prototype,s.prototype,{open:function r(){!this._allDatasetsEmpty()&&this._show();return e.open.apply(this,[].slice.call(arguments,0))},close:function i(){this._hide();return e.close.apply(this,[].slice.call(arguments,0))},_onRendered:function n(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}return e._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function a(){if(this._allDatasetsEmpty()){this._hide()}else{this.isOpen()&&this._show()}return e._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function l(t){this.$node.css(t==="ltr"?this.css.ltr:this.css.rtl);return e.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function p(){this.$node.hide()},_show:function u(){this.$node.css("display","block")}});return o}();var u=function(){"use strict";function o(o,i){var n,a,l,s,p,u,c,g,h,f,d;o=o||{};if(!o.input){e.error("missing input")}if(!o.menu){e.error("missing menu")}if(!o.eventBus){e.error("missing event bus")}i.mixin(this);this.eventBus=o.eventBus;this.minLength=t.isNumber(o.minLength)?o.minLength:1;this.input=o.input;this.menu=o.menu;this.enabled=true;this.active=false;this.input.hasFocus()&&this.activate();this.dir=this.input.getLangDir();this._hacks();this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this);n=r(this,"activate","open","_onFocused");a=r(this,"deactivate","_onBlurred");l=r(this,"isActive","isOpen","_onEnterKeyed");s=r(this,"isActive","isOpen","_onTabKeyed");p=r(this,"isActive","_onEscKeyed");u=r(this,"isActive","open","_onUpKeyed");c=r(this,"isActive","open","_onDownKeyed");g=r(this,"isActive","isOpen","_onLeftKeyed");h=r(this,"isActive","isOpen","_onRightKeyed");f=r(this,"_openIfActive","_onQueryChanged");d=r(this,"_openIfActive","_onWhitespaceChanged");this.input.bind().onSync("focused",n,this).onSync("blurred",a,this).onSync("enterKeyed",l,this).onSync("tabKeyed",s,this).onSync("escKeyed",p,this).onSync("upKeyed",u,this).onSync("downKeyed",c,this).onSync("leftKeyed",g,this).onSync("rightKeyed",h,this).onSync("queryChanged",f,this).onSync("whitespaceChanged",d,this).onSync("langDirChanged",this._onLangDirChanged,this)}t.mixin(o.prototype,{_hacks:function i(){var o,r;o=this.input.$input||e("<div>");r=this.menu.$node||e("<div>");o.on("blur.tt",function(e){var i,n,a;i=document.activeElement;n=r.is(i);a=r.has(i).length>0;if(t.isMsie()&&(n||a)){e.preventDefault();e.stopImmediatePropagation();t.defer(function(){o.focus()})}});r.on("mousedown.tt",function(e){e.preventDefault()})},_onSelectableClicked:function n(e,t){this.select(t)},_onDatasetCleared:function l(){this._updateHint()},_onDatasetRendered:function s(e,t,o,r){this._updateHint();this.eventBus.trigger("render",o,r,t)},_onAsyncRequested:function p(e,t,o){this.eventBus.trigger("asyncrequest",o,t)},_onAsyncCanceled:function u(e,t,o){this.eventBus.trigger("asynccancel",o,t)},_onAsyncReceived:function c(e,t,o){this.eventBus.trigger("asyncreceive",o,t)},_onFocused:function g(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function h(){if(this.input.hasQueryChangedSinceLastFocus()){this.eventBus.trigger("change",this.input.getQuery())}},_onEnterKeyed:function f(e,t){var o;if(o=this.menu.getActiveSelectable()){this.select(o)&&t.preventDefault()}},_onTabKeyed:function d(e,t){var o;if(o=this.menu.getActiveSelectable()){this.select(o)&&t.preventDefault()}else if(o=this.menu.getTopSelectable()){this.autocomplete(o)&&t.preventDefault()}},_onEscKeyed:function y(){this.close()},_onUpKeyed:function m(){this.moveCursor(-1)},_onDownKeyed:function v(){this.moveCursor(+1)},_onLeftKeyed:function _(){if(this.dir==="rtl"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getTopSelectable())}},_onRightKeyed:function x(){if(this.dir==="ltr"&&this.input.isCursorAtEnd()){this.autocomplete(this.menu.getTopSelectable())}},_onQueryChanged:function S(e,t){this._minLengthMet(t)?this.menu.update(t):this.menu.empty()},_onWhitespaceChanged:function P(){this._updateHint()},_onLangDirChanged:function E(e,t){if(this.dir!==t){this.dir=t;this.menu.setLanguageDirection(t)}},_openIfActive:function T(){this.isActive()&&this.open()},_minLengthMet:function b(e){e=t.isString(e)?e:this.input.getQuery()||"";return e.length>=this.minLength},_updateHint:function M(){var e,o,r,i,n,l,s;e=this.menu.getTopSelectable();o=this.menu.getSelectableData(e);r=this.input.getInputValue();if(o&&!t.isBlankString(r)&&!this.input.hasOverflow()){i=a.normalizeQuery(r);n=t.escapeRegExChars(i);l=new RegExp("^(?:"+n+")(.+$)","i");s=l.exec(o.val);s&&this.input.setHint(r+s[1])}else{this.input.clearHint()}},isEnabled:function C(){return this.enabled},enable:function R(){this.enabled=true},disable:function w(){this.enabled=false},isActive:function L(){return this.active},activate:function I(){if(this.isActive()){
return true}else if(!this.isEnabled()||this.eventBus.before("active")){return false}else{this.active=true;this.eventBus.trigger("active");return true}},deactivate:function A(){if(!this.isActive()){return true}else if(this.eventBus.before("idle")){return false}else{this.active=false;this.close();this.eventBus.trigger("idle");return true}},isOpen:function O(){return this.menu.isOpen()},open:function N(){if(!this.isOpen()&&!this.eventBus.before("open")){this.menu.open();this._updateHint();this.eventBus.trigger("open")}return this.isOpen()},close:function F(){if(this.isOpen()&&!this.eventBus.before("close")){this.menu.close();this.input.clearHint();this.input.resetInputValue();this.eventBus.trigger("close")}return!this.isOpen()},setVal:function G(e){this.input.setQuery(t.toStr(e))},getVal:function D(){return this.input.getQuery()},select:function k(e){var t=this.menu.getSelectableData(e);if(t&&!this.eventBus.before("select",t.obj)){this.input.setQuery(t.val,true);this.eventBus.trigger("select",t.obj);this.close();return true}return false},autocomplete:function q(e){var t,o,r;t=this.input.getQuery();o=this.menu.getSelectableData(e);r=o&&t!==o.val;if(r&&!this.eventBus.before("autocomplete",o.obj)){this.input.setQuery(o.val);this.eventBus.trigger("autocomplete",o.obj);return true}return false},moveCursor:function j(e){var t,o,r,i,n;t=this.input.getQuery();o=this.menu.selectableRelativeToCursor(e);r=this.menu.getSelectableData(o);i=r?r.obj:null;n=this._minLengthMet()&&this.menu.update(t);if(!n&&!this.eventBus.before("cursorchange",i)){this.menu.setCursor(o);if(r){this.input.setInputValue(r.val)}else{this.input.resetInputValue();this._updateHint()}this.eventBus.trigger("cursorchange",i);return true}return false},destroy:function W(){this.input.destroy();this.menu.destroy()}});return o;function r(e){var o=[].slice.call(arguments,1);return function(){var r=[].slice.call(arguments);t.each(o,function(t){return e[t].apply(e,r)})}}}();(function(){"use strict";var i,n,l;i=e.fn.typeahead;n={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"};l={initialize:function m(i,l){var c;l=t.isArray(l)?l:[].slice.call(arguments,1);i=i||{};c=o(i.classNames);return this.each(f);function f(){var o,f,d,m,v,_,x,S,P,E,T;t.each(l,function(e){e.highlight=!!i.highlight});o=e(this);f=e(c.html.wrapper);d=y(i.hint);m=y(i.menu);v=i.hint!==false&&!d;_=i.menu!==false&&!m;v&&(d=g(o,c));_&&(m=e(c.html.menu).css(c.css.menu));d&&d.val("");o=h(o,c);if(v||_){f.css(c.css.wrapper);o.css(v?c.css.input:c.css.inputWithNoHint);o.wrap(f).parent().prepend(v?d:null).append(_?m:null)}T=_?p:s;x=new r({el:o});S=new a({hint:d,input:o},c);P=new T({node:m,datasets:l},c);E=new u({input:S,menu:P,eventBus:x,minLength:i.minLength},c);o.data(n.www,c);o.data(n.typeahead,E)}},isEnabled:function v(){var e;c(this.first(),function(t){e=t.isEnabled()});return e},enable:function _(){c(this,function(e){e.enable()});return this},disable:function x(){c(this,function(e){e.disable()});return this},isActive:function S(){var e;c(this.first(),function(t){e=t.isActive()});return e},activate:function P(){c(this,function(e){e.activate()});return this},deactivate:function E(){c(this,function(e){e.deactivate()});return this},isOpen:function T(){var e;c(this.first(),function(t){e=t.isOpen()});return e},open:function b(){c(this,function(e){e.open()});return this},close:function M(){c(this,function(e){e.close()});return this},select:function C(t){var o=false,r=e(t);c(this.first(),function(e){o=e.select(r)});return o},autocomplete:function R(t){var o=false,r=e(t);c(this.first(),function(e){o=e.autocomplete(r)});return o},moveCursor:function w(e){var t=false;c(this.first(),function(o){t=o.moveCursor(e)});return t},val:function L(e){var t;if(!arguments.length){c(this.first(),function(e){t=e.getVal()});return t}else{c(this,function(t){t.setVal(e)});return this}},destroy:function I(){c(this,function(e,t){d(t);e.destroy()});return this}};e.fn.typeahead=function(e){if(l[e]){return l[e].apply(this,[].slice.call(arguments,1))}else{return l.initialize.apply(this,arguments)}};e.fn.typeahead.noConflict=function A(){e.fn.typeahead=i;return this};function c(t,o){t.each(function(){var t=e(this),r;(r=t.data(n.typeahead))&&o(r,t)})}function g(e,t){return e.clone().addClass(t.classes.hint).removeData().css(t.css.hint).css(f(e)).prop("readonly",true).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function h(e,t){e.data(n.attrs,{dir:e.attr("dir"),autocomplete:e.attr("autocomplete"),spellcheck:e.attr("spellcheck"),style:e.attr("style")});e.addClass(t.classes.input).attr({autocomplete:"off",spellcheck:false});try{!e.attr("dir")&&e.attr("dir","auto")}catch(o){}return e}function f(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function d(e){var o,r;o=e.data(n.www);r=e.parent().filter(o.selectors.wrapper);t.each(e.data(n.attrs),function(o,r){t.isUndefined(o)?e.removeAttr(r):e.attr(r,o)});e.removeData(n.typeahead).removeData(n.www).removeData(n.attr).removeClass(o.classes.input);if(r.length){e.detach().insertAfter(r);r.remove()}}function y(o){var r,i;r=t.isJQuery(o)||t.isElement(o);i=r?e(o).first():[];return i.length?i:null}})()})},{jquery:29}],103:[function(e,t,o){(function(o){"use strict";window.proj4=e("proj4");o.jQuery=e("jquery");var r=e("jquery");var i=e("./src/viewer");var n=e("./src/maploader");var a=e("./src/controlinitialiser");var l={};l.map={};l.config=e("./conf/origoConfig");l.controls=e("./conf/origoControls");l.map.init=function(e,t){var o=t?r.extend(l.config,t):l.config;var a=n(e,o);a.then(function(e){s(e)});return i};function s(e){i.init(e.el,e.options);a(e.options.controls)}t.exports=l}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./conf/origoConfig":1,"./conf/origoControls":2,"./src/controlinitialiser":106,"./src/maploader":144,"./src/viewer":183,jquery:29,proj4:67}],104:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./utils");var n=e("./modal");var a;var l;var s;var p;function u(e){var t=e||{};l=t.buttontext||"Om kartan";s=t.title||"Om kartan";p=t.content||"<p></p>";c();g()}function c(){var e=i.createListButton({id:"o-about",iconCls:"o-icon-fa-info-circle",src:"css/svg/fa-icons.svg#fa-info-circle",text:l});r("#o-menutools").append(e);a=r("#o-about-button")}function g(){a.on("click",function(e){n.createModal("#o-map",{title:s,content:p});n.showModal();e.preventDefault()})}t.exports.init=u},{"./modal":149,"./utils":172,jquery:29}],105:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a;function l(e){var t=e||{};var o;a=n.getMap();o=new r.control.Attribution({collapsible:false});a.addControl(o);i(window).on("resize",l);l();function l(){var e=a.getSize()[0]<768;o.setCollapsible(e);o.setCollapsed(e)}}t.exports.init=l},{"./viewer":183,jquery:29,openlayers:30}],106:[function(e,t,o){"use strict";var r=function(e){var t,o;e.forEach(function(e){t=e.name;o=e.options||undefined;if(origo.controls.hasOwnProperty(t)){o?origo.controls[t].init(o):origo.controls[t].init()}})};t.exports=r},{}],107:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./utils");var n=e("./editor/editortoolbar");var a;t.exports=function(){return{init:l}}();function l(e){var t=e||{};t.autoSave=t.hasOwnProperty("autoSave")?t.autoSave:true;t.currentLayer=t.defaultLayer||t.editableLayers[0];n.init(t);p();a=r("#o-editor-button");s()}function s(){a.on("click",function(e){r(".o-map").first().trigger({type:"enableInteraction",interaction:"editor"});this.blur();e.stopPropagation();e.preventDefault()})}function p(){var e=i.createListButton({id:"o-editor",iconCls:"o-icon-fa-pencil",src:"css/svg/fa-icons.svg#fa-pencil",text:"Redigera"});r("#o-menutools").append(e)}},{"./editor/editortoolbar":112,"./utils":172,jquery:29}],108:[function(e,t,o){"use strict";var r=e("jquery");t.exports={emitChangeEdit:i,emitChangeFeature:n,emitToggleEdit:a,emitEnableInteraction:l,emitEditsChange:s};function i(e,t){r.event.trigger({type:"changeEdit",tool:e,active:t})}function n(e){r.event.trigger({type:"changeFeature",feature:e.feature,layerName:e.layerName,action:e.action,status:e.status||"pending"})}function a(e,t){var o=t||{};var i={type:"toggleEdit",tool:e};r.extend(i,o);r.event.trigger(i)}function l(){r.event.trigger({type:"enableInteraction",interaction:"editor"})}function s(e){r.event.trigger({type:"editsChange",edits:e})}},{jquery:29}],109:[function(e,t,o){arguments[4][108][0].apply(o,arguments)},{dup:108,jquery:29}],110:[function(e,t,o){"use strict";t.exports=function r(e){var t=e.elId.slice(1);var o=e.cls||"";o+=t;o+=e.isVisible?"":" o-hidden";var r=e.title;var i=e.isVisible?e.val:"";var n=e.type;var a=e.maxLength?' maxlength="'+e.maxLength+'" ':"";var l=e.options||[];var s;var p;var u;switch(n){case"text":s="<div><label>"+r+'</label><br><input type="text" id="'+t+'" value="'+i+'"'+a+"></div>";break;case"textarea":s="<div><label>"+r+'</label><br><textarea id="'+t+'"'+a+'rows="3">'+i+"</textarea></div>";break;case"checkbox":p=i?" checked":"";s='<div class="o-form-checkbox"><label>'+r+'</label><input type="checkbox" id="'+t+'" value="'+i+'"'+p+"></div>";break;case"dropdown":u;if(i){u='<option value="'+i+'" selected>'+i+"</option>"}else{u='<option value="" selected>Vlj</option>'}s='<div class="'+o+'"><label>'+r+"</label><br><select id="+t+">"+u;for(var c=0;c<l.length;c++){s+='<option value="'+l[c]+'">'+l[c]+"</option>"}s+="</select></div>";break}return s}},{}],111:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("../modal");var l=e("../featureinfo");var s=e("./editsstore")();var p=e("../utils/generateuuid");var u=e("./transactionhandler");var c=e("./editdispatcher");var g=e("./editform");var h={};var f=undefined;var d=undefined;var y=undefined;var m=undefined;var v=undefined;var _=undefined;var x=undefined;var S=undefined;var P=undefined;var E=undefined;var T=undefined;var b=undefined;var M=undefined;var C=undefined;var R=undefined;var w=undefined;t.exports=function(e){v=n.getMap();_=e.currentLayer;x=e.editableLayers;h=I(e);x.forEach(function(t){var o=n.getLayer(t);o.getSource().once("addfeature",function(r){h[t].geometryType=o.getSource().getFeatures()[0].getGeometry().getType();h[t].geometryName=o.getSource().getFeatures()[0].getGeometryName();if(t===_&&e.isActive){c.emitEnableInteraction()}})});f=e.autoSave;i(document).on("toggleEdit",B)};function L(e){var t=h[e];var o=n.getLayer(e);_=e;d=o.getSource();S=o.get("attributes");P=o.get("title")||"Information";j();E=new r.interaction.Draw({source:d,type:t.geometryType,geometryName:t.geometryName});T=false;b=false;C=new r.interaction.Select({layers:[o]});R=new r.interaction.Modify({features:C.getFeatures()});v.addInteraction(C);v.addInteraction(R);v.addInteraction(E);R.on("modifyend",N,this);E.on("drawend",F,this);X();M=t.snap;if(M){var i=l.getSelectionLayer().getSource();var a=t.snapLayers?V(t.snapLayers):[t.source];a.push(i);w=K(a)}}function I(e){var t={};var o=x.reduce(function(t,o){var r=n.getLayer(o);t[o]={geometryType:r.get("geometryType")||undefined,geometryName:r.get("geometryName")||undefined};t[o].snap=e.hasOwnProperty("snap")?e.snap:true;t[o].snapLayers=e.snapLayers||x;return t},t);return o}function A(){if(R===undefined||C===undefined){return false}else{return true}}function O(){var e=C.getFeatures();if(e.getLength()===1){var t=e.item(0);var o=confirm("r du sker p att du vill ta bort det hr objektet?");if(o===true){z({feature:t,layerName:_,action:"delete"});C.getFeatures().clear();d.removeFeature(d.getFeatureById(t.getId()))}}}function N(e){var t=e.features.item(0);z({feature:t,layerName:_,action:"update"})}function F(e){var t=e.feature;t.setId(p());d.addFeature(t);X();T=false;z({feature:t,layerName:_,action:"insert"});c.emitChangeEdit("draw",false)}function G(){X();T=false;c.emitChangeEdit("draw",false)}function D(){a.closeModal();c.emitChangeEdit("attribute",false)}function k(e,t){i("#o-save-button").on("click",function(o){var r={};t.forEach(function(e){var t="."+e.elId.slice(1);if(i(t).hasClass("o-hidden")===false){if(i(e.elId).attr("type")==="checkbox"){r[e.name]=i(e.elId).is(":checked")?1:0}else{r[e.name]=i(e.elId).val()}}});a.closeModal();q(e,r);i("#o-save-button").blur();o.preventDefault()})}function q(e,t){S.forEach(function(o){if(t.hasOwnProperty(o.name)){e.set(o.name,t[o.name])}});z({feature:e,layerName:_,action:"update"})}function j(){if(A()){v.removeInteraction(R);v.removeInteraction(C);v.removeInteraction(E);if(w){w.forEach(function(e){v.removeInteraction(e)})}R=undefined;C=undefined;E=undefined;w=undefined}}function W(){if(T!==true&&A()){X("draw");T=true;c.emitChangeEdit("draw",true)}}function U(){var e=function(e){i(e.elDependencyId).on(e.eventType,function(t){var o="."+e.elId.slice(1);if(i(e.elDependencyId+" option:selected").text()===e.requiredVal){i(o).removeClass("o-hidden")}else{i(o).addClass("o-hidden")}})};return e}function B(e){e.stopPropagation();if(e.tool==="draw"){if(T===false){W()}else{G()}}else if(e.tool==="attribute"){if(b===false){Y()}else{D()}}else if(e.tool==="delete"){O()}else if(e.tool==="edit"){L(e.currentLayer)}else if(e.tool==="cancel"){j()}else if(e.tool==="save"){H()}}function V(e){var t=e.map(function(e){return n.getLayer(e).getSource()});return t}function K(e){var t=[];e.forEach(function(e){var o=new r.interaction.Snap({source:e});t.push(o);v.addInteraction(o)});return t}function X(e){switch(e){case"modify":E.setActive(false);R.setActive(true);C.setActive(true);break;case"draw":E.setActive(true);R.setActive(true);C.setActive(false);break;default:E.setActive(false);T=false;R.setActive(true);C.setActive(true);break}}function Y(){var e;var t=C.getFeatures();if(t.getLength()===1){c.emitChangeEdit("attribute",true);var o=t.item(0);if(S.length>0){e=S.map(function(e){var t={};i.extend(t,e);t.val=o.get(t.name)||"";if(t.hasOwnProperty("constraint")){var r=t.constraint.split(":");if(r.length===3){t.eventType=r[0];t.dependencyVal=o.get(r[1]);t.requiredVal=r[2];t.dependencyVal===t.requiredVal?t.isVisible=true:t.isVisible=false;t.addListener=U();t.elId="#input-"+t.name+"-"+t.requiredVal;t.elDependencyId="#input-"+r[1]}else{alert("Villkor verkar inte vara rtt formulerat. Villkor formuleras enligt principen change:attribute:value")}}else{t.isVisible=true;t.elId="#input-"+t.name}t.formElement=g(t);return t})}var r=e.reduce(function(e,t){return e+t.formElement},"");var n="<form>"+r+'<br><div class="o-form-save"><input id="o-save-button" type="button" value="Spara"></input></div></form>';a.createModal("#o-map",{title:P,content:n});a.showModal();e.forEach(function(e){if(e.hasOwnProperty("addListener")){e.addListener(e)}});k(o,e)}}function z(e){c.emitChangeFeature(e);if(f){H(e)}}function H(){var e=s.getEdits();var t=Object.getOwnPropertyNames(e);t.forEach(function(t){var o={insert:null,"delete":null,update:null};var r=Object.getOwnPropertyNames(e[t]);r.forEach(function(r){var i=n.getLayer(t);var a=e[t][r];var l;l=Z(r,i,a);if(l.length){o[r]=l}});u(o,t)})}function Z(e,t,o){var i=t.getSource();var n=[];if(e==="delete"){o.forEach(function(e){var t=new r.Feature;t.setId(e);n.push(t)})}else{o.forEach(function(e){if(i.getFeatureById(e)){n.push(i.getFeatureById(e))}})}return n}},{"../featureinfo":116,"../modal":149,"../utils/generateuuid":173,"../viewer":183,"./editdispatcher":109,"./editform":110,"./editsstore":113,"./transactionhandler":114,jquery:29,openlayers:30}],112:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("../templates/editortoolbar.template.handlebars");var l=e("./editdispatcher");var s=e("./edithandler");var p="o-control-active";var u="o-disabled";var c=undefined;var g=undefined;var h=undefined;var f=undefined;var d=undefined;var y=undefined;var m=undefined;t.exports=function(){return{init:v}}();function v(e){c=e.currentLayer;g=e.editableLayers;s(e);_(E(g));i(document).on("enableInteraction",S);i(document).on("changeEdit",T);i(document).on("editsChange",b);x();if(e.isActive){P(true)}}function _(e){i("#o-map").append(a(e));h=i("#o-editor-attribute");f=i("#o-editor-draw");d=i("#o-editor-delete");y=i("#o-editor-save");m=i("#o-editor-close")}function x(){var e=this;f.on("click",function(e){l.emitToggleEdit("draw");f.blur();e.preventDefault();return false});h.on("click",function(e){l.emitToggleEdit("attribute");h.blur();e.preventDefault()});d.on("click",function(e){l.emitToggleEdit("delete");d.blur();e.preventDefault()});y.on("click",function(e){l.emitToggleEdit("save");y.blur();e.preventDefault()});m.on("click",function(e){i(".o-map").first().trigger({type:"enableInteraction",interaction:"featureInfo"});m.blur();e.stopPropagation();e.preventDefault()});i('select[name="layer-dropdown"]').change(function(){c=i(this).val();l.emitToggleEdit("edit",{currentLayer:c})})}function S(e){e.stopPropagation();if(e.interaction==="editor"){P(true);l.emitToggleEdit("edit",{currentLayer:c})}else{P(false);l.emitToggleEdit("cancel")}}function P(e){if(e===true){i("#o-editor-toolbar").removeClass("o-hidden")}else{i("#o-editor-toolbar").addClass("o-hidden")}}function E(e){var t=e.map(function(e){var t={};t.name=n.getLayer(e).get("title");t.value=e;return t});return t}function T(e){if(e.tool==="draw"){if(e.active===false){f.removeClass(p)}else{f.addClass(p)}}}function b(e){if(e.edits){if(y.hasClass(u)){y.removeClass(u)}}else{y.addClass(u)}}},{"../templates/editortoolbar.template.handlebars":166,"../viewer":183,"./editdispatcher":109,"./edithandler":111,jquery:29,openlayers:30}],113:[function(e,t,o){var r=e("jquery");var i=e("openlayers");var n=e("./editdispatcher");var a=function l(){var e={};r(document).on("changeFeature",a);return{getEdits:i,hasFeature:l};function t(e){if(e.action==="insert"){s("insert",e.feature,e.layerName)}else if(e.action==="update"){if(l("insert",e.feature,e.layerName)===false){s("update",e.feature,e.layerName)}}else if(e.action==="delete"){if(p("insert",e.feature,e.layerName)===false){p("update",e.feature,e.layerName);s("delete",e.feature,e.layerName)}}if(g()===true){n.emitEditsChange(1)}else{n.emitEditsChange(0)}}function o(e){if(e.feature.length){e.feature.forEach(function(t){p(e.action,t,e.layerName)})}if(g()===false){n.emitEditsChange(0)}}function i(){return e}function a(e){if(e.status==="pending"){t(e)}else if(e.status==="finished"){o(e)}}function l(t,o,r){if(e.hasOwnProperty(r)){if(e[r][t].indexOf(o.getId())>-1){return true}}return false}function s(t,o,r){if(e.hasOwnProperty(r)===false){e[r]=c()}if(l(t,o,r)===false){e[r][t].push(o.getId())}}function p(t,o,r){var i=0;if(e.hasOwnProperty(r)){i=e[r][t].indexOf(o.getId());if(i>-1){e[r][t].splice(i,1);u(r);return true}}return false}function u(t){var o;var r=true;if(e.hasOwnProperty(t)){o=Object.getOwnPropertyNames(e[t]);o.forEach(function(o){if(e[t][o].length){r=false;return r}});if(r){delete e[t];return r}}else{return r}}function c(){return{update:[],insert:[],"delete":[]}}function g(){if(Object.getOwnPropertyNames(e).length){return true}else{return false}}};t.exports=a},{"./editdispatcher":109,jquery:29,openlayers:30}],114:[function(e,t,o){"use strict";var r=e("../viewer");var i=e("./wfstransaction");var n={WFS:i};t.exports=function(e,t){var o=r.getLayer(t).get("type");if(n.hasOwnProperty(o)){n[o](e,t)}}},{"../viewer":183,"./wfstransaction":115}],115:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./editsstore")();var l=e("./editDispatcher");var s=new r.format.WFS;var p=new XMLSerializer;t.exports=function(e,t){c(e,t)};function u(e,t){var o=s.writeTransaction(e.insert,e.update,e.delete,t);return o}function c(e,t){var o=n.getProjectionCode();var r=n.getLayer(t);var a=r.get("featureType");var s=n.getMapSource()[r.get("sourceName")];var c={gmlOptions:{srsName:o},featureNS:s.workspace,featurePrefix:s.prefix||s.workspace,featureType:a};var h=u(e,c);i.ajax({type:"POST",url:s.url,data:p.serializeToString(h),contentType:"text/xml",success:f,error:d,context:this});function f(o){var r=g(o);if(r){if(r.transactionSummary.totalUpdated>0){l.emitChangeFeature({feature:e.update,layerName:t,status:"finished",action:"update"})}if(r.transactionSummary.totalDeleted>0){l.emitChangeFeature({feature:e.delete,layerName:t,status:"finished",action:"delete"})}if(r.transactionSummary.totalInserted>0){var i=e.insert;l.emitChangeFeature({feature:e.insert,layerName:t,status:"finished",action:"insert"});var n=r.insertIds;n.forEach(function(e,t){i[t].setId(e)})}}else{d()}}function d(e){var t=e?e.status+" "+e.statusText:"";alert("Det intrffade ett fel nr ndringarna skulle sparas till servern...\n"+t)}}function g(e){var t;if(window.Document&&e instanceof Document&&e.documentElement&&e.documentElement.localName==="ExceptionReport"){alert(e.getElementsByTagNameNS("http://www.opengis.net/ows","ExceptionText").item(0).textContent)}else{t=s.readTransactionResponse(e)}return t}},{"../viewer":183,"./editDispatcher":108,"./editsstore":113,jquery:29,openlayers:30}],116:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a=e("./popup");var l=e("./sidebar");var s=e("./maputils");var p=e("./featurelayer");var u=e("./style")();var c=e("./style/styletypes");var g=e("./getfeatureinfo");var h=e("../externs/owlcarousel-browserify");h.loadjQueryPlugin();var f=undefined,d=undefined,y,m,v,_,x,S,P,E;function T(e){m=n.getMap();y=e||{};v=y.hasOwnProperty("pinning")?y.pinning:true;var t=y.hasOwnProperty("pinStyle")?y.pinStyle:c.getStyle("pin");_=u.createStyleRule(t)[0];d=y.savedPin?s.createPointFeature(e.savedPin,_):undefined;x=u.createEditStyle();var o=y.savedSelection||undefined;var r=d||o||undefined;f=p(r,m);S=y.hasOwnProperty("overlay")?y.overlay:true;if(S){P="overlay"}else{l.init();P="sidebar"}E=y.hasOwnProperty("clusterFeatureinfoLevel")?y.clusterFeatureinfoLevel:1;m.on("click",w);i(document).on("enableInteraction",A)}function b(){return f.getFeatureLayer()}function M(){var e={};e.geometryType=f.getFeatures()[0].getGeometry().getType();e.coordinates=f.getFeatures()[0].getGeometry().getCoordinates();return e}function C(){return d}function R(e,t,o){n.removeOverlays();var i=e.map(function(e){return e.content}).join("");i='<div id="o-identify"><div id="o-identify-carousel" class="owl-carousel owl-theme">'+i+"</div></div>";switch(t){case"overlay":var s=a("#o-map");var p=new r.Overlay({element:s.getEl()});m.addOverlay(p);var u=e[0].feature.getGeometry();var c;u.getType()=="Point"?c=u.getCoordinates():c=o;p.setPosition(c);s.setContent({content:i,title:e[0].title});s.setVisibility(true);var g=O("#o-identify-carousel",undefined,function(){var t=this.owl.currentItem;f.clearAndAdd(e[t].feature.clone(),x[e[t].feature.getGeometry().getType()]);s.setTitle(e[t].title)});n.autoPan();break;case"sidebar":l.setContent({content:i,title:e[0].title});l.setVisibility(true);var g=O("#o-identify-carousel",undefined,function(){var t=this.owl.currentItem;f.clearAndAdd(e[t].feature.clone(),x[e[t].feature.getGeometry().getType()]);l.setTitle(e[t].title)});break}}function w(e){d=undefined;var t=g.getFeaturesAtPixel(e,E);if(t!==false){g.getFeaturesFromRemote(e).done(function(o){var r=o||[];var i=r.concat(t);if(i.length>0){f.clear();R(i,P,e.coordinate)}else if(f.getFeatures().length>0){I()}else if(v){l.setVisibility(false);var n=m.getView().getResolution();setTimeout(function(){if(!s.checkZoomChange(n,m.getView().getResolution())){d=s.createPointFeature(e.coordinate,_);f.addFeature(d)}},250)}else{console.log("No features identified")}})}}function L(e){if(e===true){m.on("click",w)}else{f.clear();n.removeOverlays();m.un("click",w)}}function I(){f.clear();l.setVisibility(false);n.removeOverlays();console.log("Clearing selection")}function A(e){if(e.interaction==="featureInfo"){L(true)}else{L(false)}}function O(e,t,o){var r=t||{navigation:true,slideSpeed:300,paginationSpeed:400,singleItem:true,rewindSpeed:200,navigationText:['<svg class="o-icon-fa-chevron-left"><use xlink:href="#fa-chevron-left"></use></svg>','<svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-chevron-right"></use></svg>'],afterAction:o};return i(e).owlCarousel(r)}t.exports.init=T;t.exports.clear=I;t.exports.getSelectionLayer=b;t.exports.getSelection=M;t.exports.getPin=C;t.exports.identify=R},{"../externs/owlcarousel-browserify":8,"./featurelayer":118,"./getfeatureinfo":125,"./maputils":146,"./popup":153,"./sidebar":160,"./style":161,"./style/styletypes":165,"./viewer":183,jquery:29,openlayers:30}],117:[function(e,t,o){"use strict";var r={};r.default=e("./templates/featureinfotemplates/default");function i(e,t){return r[e](t)}t.exports=i},{"./templates/featureinfotemplates/default":168}],118:[function(e,t,o){"use strict";var r=e("openlayers");t.exports=function(e,t){var o=e?[e]:[];var i=new r.source.Vector({features:o});var n=new r.layer.Vector({source:i,map:t});return{addFeature:function a(e){i.addFeature(e)},getFeatures:function l(){return i.getFeatures()},getFeatureLayer:function s(){return n},getFeatureStore:function p(){return i},clear:function u(){i.clear()},clearAndAdd:function c(e,t){i.clear();n.setStyle(t);i.addFeature(e)}}}},{openlayers:30}],119:[function(e,t,o){var r=e("./geometry/getcenter");var i=e("./geometry/getarea");var n={};n.center=r;n.area=i;t.exports=n},{"./geometry/getarea":120,"./geometry/getcenter":121}],120:[function(e,t,o){"use strict";var r=e("../utils/round");var i=function n(e,t){var o=e.getArea?e.getArea():0;if(t){o=r(o,t)}else{o=r(o,"2")}return o};t.exports=i},{"../utils/round":178}],121:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("../viewer");var n=function a(e,t,o){var r=e.clone();if(t){r.transform(i.getMap().getView().getProjection(),t)}var n=r.getType();var a;switch(n){case"Polygon":a=r.getInteriorPoint().getCoordinates();break;case"MultiPolygon":a=r.getInteriorPoints().getCoordinates()[0];break;case"Point":a=r.getCoordinates();break;case"MultiPoint":a=r[0].getCoordinates();break;case"LineString":a=r.getCoordinateAt(.5);break;case"MultiLineString":a=r.getLineStrings()[0].getCoordinateAt(.5);break;case"Circle":a=r.getCenter();break}if(o){if(o==="reverse"){a.reverse()}}return a};t.exports=n},{"../viewer":183,openlayers:30}],122:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a=e("./utils");var l=undefined;var s=undefined;var p=500;var u=false;var c=undefined;var g=undefined;var h=undefined;var f=undefined;var d=undefined;var y=undefined;function m(e){var t=e||{};var o=t.target||"#o-toolbar-navigation";c=n.getMap();y=n.getBaseUrl();v(o);l=i("#o-geolocation-button");s=i("#o-geolocation-button button");f=i("#o-geolocation_marker").get(0);h=new r.Overlay({positioning:"center-center",element:f,stopEvent:false});d=new r.geom.LineString([],"XYZM");g=new r.Geolocation({projection:c.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:true,timeout:6e5}});_()}function v(e){var t="Visa nuvarande position i kartan";var o=y+"img/geolocation_marker.png";var r='<img id="o-geolocation_marker" src="'+o+'"/>';var n=a.createButton({id:"o-geolocation-button",cls:"o-geolocation-button",iconCls:"o-icon-fa-location-arrow",src:"#fa-location-arrow",tooltipText:t,tooltipPlacement:"east"});i(e).append(n);i("#o-map").prepend(r)}function _(){l.on("click",function(e){u=false;x();s.blur();e.preventDefault()})}function x(){if(s.hasClass("o-geolocation-button-true")){s.removeClass("o-geolocation-button-true");g.setTracking(false);g.un("change",S);c.un("postcompose",b);c.removeOverlay(h)}else{s.addClass("o-geolocation-button-true");c.addOverlay(h);g.on("change",S);g.setTracking(true);c.on("postcompose",b);c.render()}}function S(){E(P())}function P(){var e={};e.position=g.getPosition();e.accuracy=g.getAccuracy();e.heading=g.getHeading()||0;e.speed=g.getSpeed()||0;e.m=Date.now();return e}function E(e){var t=e.position[0];var o=e.position[1];var r=d.getCoordinates();var i=r[r.length-1];var n=i&&i[2];var a;if(n){var l=e.heading-T(n);if(Math.abs(l)>Math.PI){var s=l>=0?1:-1;l=-s*(2*Math.PI-Math.abs(l))}var m=n+l}d.appendCoordinate([t,o,e.heading,e.m]);d.setCoordinates(d.getCoordinates().slice(-20));if(e.heading&&e.speed){f.src=y+"img/geolocation_marker_heading.png"}else{f.src=y+"img/geolocation_marker.png"}a=0;c.beforeRender(function(e,t){if(t!==null){var o=t.time-p*1.5;o=Math.max(o,a);a=o;var r=d.getCoordinateAtM(o,true);if(r&&u===false&&g.getTracking()){h.setPosition(r);e.getView().setCenter(r);e.getView().setZoom(10);u=true}else if(r&&g.getTracking()){h.setPosition(r)}}return true})}function T(e){return(e%(2*Math.PI)+2*Math.PI)%(2*Math.PI)}function b(){c.render}t.exports.init=m},{"./utils":172,"./viewer":183,jquery:29,openlayers:30}],123:[function(e,t,o){(function(o){"use strict";o.runfunction=e("../src/utils/runfunction");var r=e("jquery");var i=e("./featureinfotemplates");var n=e("../src/utils/replacer");var a=e("./geom");t.exports=function(e,t){var o="<div><ul>";var r,p="",u,c;if(t.get("attributes")){if(typeof t.get("attributes")==="string"){p=i(t.get("attributes"),e.getProperties())}else{for(var g=0;g<t.get("attributes").length;g++){r=t.get("attributes")[g];u="";c="";if(r["name"]){if(e.get(r["name"])){c=e.get(r["name"]);if(r["title"]){u="<b>"+r["title"]+"</b>"}if(r["url"]){if(e.get(r["url"])){var h=s(r["urlPrefix"],r["urlSuffix"],n.replace(e.get(r["url"]),e.getProperties()));c='<a href="'+h+'" target="_blank">'+e.get(r["name"])+"</a>"}}if(r["runFunction"]){var u;if(e.get(r["functionParam"])){var h=s(r["urlPrefix"],r["urlSuffix"],e.get(r["functionParam"]));c='<a id="colorbox-link" href="#" onclick="runfunction.'+r["runFunction"]+"('"+h+"');return false;\">"+e.get(r["name"])+"</a>"}else if(e.get(r["functionParam"])===undefined){var h=s(r["urlPrefix"],r["urlSuffix"],r["functionParam"]);c='<a id="colorbox-link" href="#" onclick="runfunction.'+r["runFunction"]+"('"+h+"');return false;\">"+e.get(r["name"])+"</a>"}}}}else if(r["url"]){if(e.get(r["url"])){var f=r["html"]||r["url"];var h=s(r["urlPrefix"],r["urlSuffix"],n.replace(e.get(r["url"]),e.getProperties()));c='<a href="'+h+'" target="_blank">'+f+"</a>"}}else if(r["img"]){if(e.get(r["img"])){var h=s(r["urlPrefix"],r["urlSuffix"],n.replace(e.get(r["img"]),e.getProperties()));var d=r["attribution"]?'<div class="o-image-attribution">'+r["attribution"]+"</div>":"";c='<div class="o-image-container">'+'<img src="'+h+'">'+d+"</div>"}}else if(r["html"]){if(r["runFunction"]&&r["functionParam"]){var u;if(e.get(r["functionParam"])){var h=s(r["urlPrefix"],r["urlSuffix"],e.get(r["functionParam"]));c='<a id="colorbox-link" href="#" onclick="runfunction.'+r["runFunction"]+"('"+h+"');return false;\">"+r["html"]+"</a>"}else if(e.get(r["functionParam"])===undefined){var h=s(r["urlPrefix"],r["urlSuffix"],r["functionParam"]);c='<a id="colorbox-link" href="#" onclick="runfunction.'+r["runFunction"]+"('"+h+"');return false;\">"+r["name"]+"</a>"}}else{c=n.replace(r["html"],e.getProperties(),{helper:a,helperArg:e.getGeometry()})}}var y=' class="'+r["cls"]+'" '||"";p+="<li"+y+">"+u+c+"</li>"}}}else{var m=l(e.getProperties(),["FID_","geometry"]);p=i("default",m)}o+=p+"</ul></div>";return o};function l(e,t){var o={},r;for(r in e){if(t.indexOf(r)===-1){o[r]=e[r]}}return o}function s(e,t,o){var r=e||"";var i=t||"";return r+o+i}}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../src/utils/replacer":177,"../src/utils/runfunction":179,"./featureinfotemplates":117,"./geom":119,jquery:29}],124:[function(e,t,o){var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a={};var l;var s;t.exports=function(e,t){l=n.getProjectionCode();s=n.getMapSource();var o=s[t.get("sourceName")].url;var r=t.get("type");return a[r](e,t,o)};a.AGS_FEATURE=function u(e,t,o){
var a=l.split(":").pop();var s=t.get("id");var u=new r.format.EsriJSON;var c=o+"/"+s+"/query?f=json&"+"returnGeometry=true"+"&objectIds="+e+"&geometryType=esriGeometryEnvelope"+"&inSR="+a+"&outFields=*"+"&returnIdsOnly=false"+"&returnCountOnly=false"+"&geometryPrecision=2"+"&outSR="+a;return i.ajax({url:c,dataType:"jsonp"}).then(function(e){if(e.error){p(e);return[]}else{var t=u.readFeatures(e,{featureProjection:n.getProjection()});return t}},p)};a.WFS=function(e,t,o){var n=t.get("geometryName");var a=new r.format.GeoJSON({geometryName:n});var l=o+"?";var s="service=WFS"+"&version=1.0.0"+"&request=GetFeature&typeName="+t.get("name")+"&outputFormat=json"+"&featureId="+e;return i.ajax({url:l,data:s,type:"POST",dataType:"json"}).then(function(e){return a.readFeatures(e)})};function p(e){if(e.error){console.log(e.error.message+"\n"+e.error.details.join("\n"))}}},{"./viewer":183,jquery:29,openlayers:30}],125:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a=e("./maputils");var l=e("./getattributes");var s;function p(e){s=n.getMap();var t=[];var o=u(e).map(function(e){return e.fn.then(function(o){var r=n.getLayer(e.layer);if(o){t.push({title:r.get("title"),feature:o,content:l(o,r)});return t}})});return i.when.apply(i,o).then(function(e){return t})}function u(e){var t=[];if("crossOrigin"in new Image){s.forEachLayerAtPixel(e.pixel,function(o){if(o.get("queryable")){var r=c(o,e.coordinate);if(r){t.push(r)}}})}else if(g(e.pixel)){var o=n.getQueryableLayers();o.forEach(function(o){if(o.get("queryable")){if(g(e.pixel,o)){var r=c(o,e.coordinate);if(r){t.push(r)}}else if(h(e.pixel,o)){var r=c(o,e.coordinate);if(r){t.push(r)}}}})}else{s.forEachLayerAtPixel(e.pixel,function(o){if(o.get("queryable")===true){var r=c(o,e.coordinate);if(r){t.push(r)}}})}return t}function c(e,t){var o=e.get("type"),r={};r.layer=e.get("name");switch(o){case"WMTS":if(e.get("featureinfoLayer")){var i=e.get("featureinfoLayer"),a=n.getLayer(i);return c(a,t)}else{return undefined}break;case"WMS":if(e.get("featureinfoLayer")){var i=e.get("featureinfoLayer"),a=n.getLayer(i);return c(a,t)}else{r.cb="GEOJSON";r.fn=d(e,t);return r}case"AGS_TILE":if(e.get("featureinfoLayer")){var i=e.get("featureinfoLayer"),a=n.getLayer(i);return c(a,t)}else{r.fn=y(e,t);return r}default:return undefined}}function g(e,t){try{if(t){s.forEachLayerAtPixel(e,function(e){return t===e})}else{s.forEachLayerAtPixel(e,function(e){})}return false}catch(o){console.log(o);return true}}function h(e,t){s.forEachLayerAtPixel(e,function(e){return t===e})}function f(e,t){s=n.getMap();var o=[],r=false;s.forEachFeatureAtPixel(e.pixel,function(i,a){var p=a;var u=false;if(a){u=a.get("queryable")}if(i.get("features")){var c=i.get("features");if(c.length>1){var g=s.getView().getZoom();var h=t===-1?n.getResolutions().length:g+t;if(h<n.getResolutions().length){s.getView().setCenter(e.coordinate);s.getView().setZoom(g+1);r=true;return true}else{c.forEach(function(e){var t={};t.title=p.get("title");t.feature=e;t.content=l(e,p);o.push(t)})}}else if(c.length==1&&u){var f={};f.title=p.get("title");f.feature=c[0];f.content=l(c[0],p);o.push(f)}}else if(u){var f={};f.title=p.get("title");f.feature=i;f.content=l(i,p);o.push(f)}});if(r){return false}else{return o}}function d(e,t){var o=e.getSource().getGetFeatureInfoUrl(t,s.getView().getResolution(),n.getProjection(),{INFO_FORMAT:"application/json"});return i.ajax(o,{type:"post"}).then(function(e){if(e.error){return[]}else{return a.geojsonToFeature(e)}})}function y(e,t){var o=n.getProjectionCode();var a=o.split(":").pop();var l=e.get("id");var p=n.getMapSource()[e.get("sourceName")];var u=p.url;var c=new r.format.EsriJSON;var g=s.getSize();var h=p.hasOwnProperty("tolerance")?p.tolerance.toString():5;var f=s.getView().calculateExtent(g);var d=u+"/identify?f=json&"+"returnGeometry=true"+"&geometryType=esriGeometryPoint"+"&sr="+a+"&geometry="+t+"&outFields=*"+"&geometryPrecision=2"+"&tolerance="+h+"&layers=all:"+l+"&mapExtent="+f+"&imageDisplay="+g+","+"96";return i.ajax({url:d,dataType:"jsonp"}).then(function(e){if(e.error){return[]}else{var t={};t.features=e.results;var o=c.readFeatures(t,{featureProjection:n.getProjection()});return o[0]}})}t.exports.getFeaturesFromRemote=p;t.exports.getFeaturesAtPixel=f},{"./getattributes":123,"./maputils":146,"./viewer":183,jquery:29,openlayers:30}],126:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a=e("./utils");var l;var s;var p;function u(e){var t=e||{};var o=t.target||"#o-toolbar-navigation";l=n.getMap();s=t.tooltipText||"Zooma till hela kartan";p=t.extent||l.getView().calculateExtent(l.getSize());c(o);g()}function c(e){var t=a.createButton({id:"o-home-button",iconCls:"o-icon-fa-home",src:"#fa-home",tooltipText:s});i(e).append(t)}function g(){i("#o-home-button").on("click",function(e){l.getView().fit(p,l.getSize());i("#o-home-button button").blur();e.preventDefault()})}t.exports.init=u},{"./utils":172,"./viewer":183,jquery:29,openlayers:30}],127:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./vector");var l=function s(e){var t={layerType:"vector"};var o={};var l=i.extend(t,e);var s=i.extend(o,n.getMapSource()[e.sourceName]);s.geometryName=l.geometryName;s.filter=l.filter;s.attribution=l.attribution;s.projectionCode=n.getProjectionCode();s.id=l.id;var p=u(s);return a(l,p);function u(e){var t=null;var o=e.projectionCode.split(":").pop();var n=e.filter?"&where="+e.filter:"";var a=new r.format.EsriJSON;t=new r.source.Vector({attributions:e.attribution,loader:function(t,r,l){var s=this;var p=e.url+e.id+encodeURI("/query?f=json&"+"returnGeometry=true"+"&spatialRel=esriSpatialRelIntersects"+"&geometry="+'{"xmin":'+t[0]+',"ymin":'+t[1]+',"xmax":'+t[2]+',"ymax":'+t[3]+',"spatialReference":{"wkid":'+o+"}}"+"&geometryType=esriGeometryEnvelope"+"&inSR="+o+"&outFields=*"+""+"&returnIdsOnly=false&returnCountOnly=false"+"&geometryPrecision=2"+"&outSR="+o+n);i.ajax({url:p,dataType:"jsonp",success:function(e){if(e.error){alert(e.error.message+"\n"+e.error.details.join("\n"))}else{var t=a.readFeatures(e,{featureProjection:l});if(t.length>0){s.addFeatures(t)}}}})},strategy:r.loadingstrategy.bbox});return t}};t.exports=l},{"../viewer":183,"./vector":135,jquery:29,openlayers:30}],128:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./tile");var l=function s(e){var t={layerType:"tile",featureinfoLayer:undefined};var o={};var l=i.extend(t,e);l.sourceName=l.name;var s=i.extend(o,n.getMapSource()[e.source]);s.attribution=l.attribution;s.projectionCode=n.getProjectionCode();s.params=l.params||{};s.params.layers="show:"+l.id;var p=u(s);return a(l,p);function u(e){return new r.source.TileArcGISRest({attributions:e.attribution,projection:e.projectionCode,crossOrigin:"anonymous",params:e.params,url:e.url})}};t.exports=l},{"../viewer":183,"./tile":132,jquery:29,openlayers:30}],129:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./vector");var l=e("../utils/isurl");var s=function p(e){var t=n.getBaseUrl();var o={layerType:"vector"};var s=i.extend(o,e);var p={};p.attribution=s.attribution;p.projectionCode=n.getProjectionCode();p.sourceName=e.source;if(l(s.source)){p.url=s.source}else{p.url=t+s.source}var u=c(p);return a(s,u);function c(e){return new r.source.Vector({attributions:e.attribution,url:e.url,format:new r.format.GeoJSON})}};t.exports=s},{"../utils/isurl":175,"../viewer":183,"./vector":135,jquery:29,openlayers:30}],130:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=function a(e){var t={layerType:"group",styleName:"default"};var o=i.extend(t,e);return new r.layer.Group(o)};t.exports=n},{jquery:29,openlayers:30}],131:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./tile");var a=function l(e){var t={};var o=i.extend(t,e);var a=l();return n(o,a);function l(){return new r.source.OSM}};t.exports=a},{"./tile":132,jquery:29,openlayers:30}],132:[function(e,t,o){"use strict";var r=e("openlayers");t.exports=function i(e,t){e.source=t;return new r.layer.Tile(e)}},{openlayers:30}],133:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./tile");var l=function s(e){var t={layerType:"tile",featureinfoLayer:undefined};var o={};var l=i.extend(t,e);l.sourceName=l.name;var s=i.extend(o,n.getMapSource()[e.source]);s.attributions=l.attribution;s.projection=n.getProjectionCode()||"EPSG:3857";s.tileGrid=n.getTileGrid();var p=u(s,l);return a(l,p);function u(e,t){e.url+=t.layerName+"@"+t.gridset+"@"+t.format+"/{z}/{x}/{-y}."+t.format;e.crossOrigin="anonymous";return new r.source.XYZ(e)}};t.exports=l},{"../viewer":183,"./tile":132,jquery:29,openlayers:30}],134:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./vector");var l=e("../utils/isurl");var s=function p(e){var t=n.getBaseUrl();var o={layerType:"vector"};var s=i.extend(topojsonDefault,e);sourceOptions.attribution=s.attribution;sourceOptions.projectionCode=n.getProjectionCode();sourceOptions.sourceName.layerOptions.sourceName;if(l(geojsonOptions.source)){sourceOptions.url=geojsonOptions.source}else{sourceOptions.url=t+geojsonOptions.source}var p=u(s);return a(s,p);function u(e){return new r.source.Vector({attributions:e.attribution,url:e.url,format:new r.format.TopoJSON({defaultDataProjection:e.projectionCode})})}};t.exports=s},{"../utils/isurl":175,"../viewer":183,"./vector":135,jquery:29,openlayers:30}],135:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("../style")();var n=e("../style/stylefunctions");t.exports=function a(e,t){var o;switch(e.layerType){case"vector":e.source=t;e.style=e.customStyle?n.customStyle(e.customStyle,e.styleParams):i.createStyle(e.style);o=new r.layer.Vector(e);break;case"cluster":e.source=new r.source.Cluster({attributions:e.attribution,source:t,distance:60});e.style=i.createStyle(e.style,e.clusterStyle);o=new r.layer.Vector(e);break;case"image":e.source=new r.source.ImageVector({source:t,style:i.createStyle(e.style)});o=new r.layer.Image(e);break;case"vectortile":e.source=t;e.renderMode="image";e.updateWhileAnimating=true;e.updateWhileInteracting=true;e.style=e.customStyle?n.customStyle(e.customStyle,e.styleParams):i.createStyle(e.style);o=new r.layer.VectorTile(e);break}return o}},{"../style":161,"../style/stylefunctions":164,openlayers:30}],136:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./vector");var l=function s(e){var t={layerType:"vectortile",featureinfoLayer:undefined};var o={};var l=i.extend(t,e);l.sourceName=l.name;var s=i.extend(o,n.getMapSource()[e.source]);s.attributions=l.attribution;s.projection=n.getProjectionCode()||"EPSG:3857";s.tileGrid=n.getTileGrid();var p=u(s,l);return a(l,p);function u(e,t){var o;switch(t.format){case"topojson":o=new r.format.TopoJSON({defaultDataProjection:e.projection,featureProjection:e.projection,geometryName:"geom",featureClass:r.render.Feature});break;case"geojson":o=new r.format.GeoJSON({defaultDataProjection:e.projection,featureProjection:e.projection,geometryName:"geom",featureClass:r.render.Feature});break;case"pbf":o=new r.format.MVT({featureClass:r.render.Feature});break}e.url+=t.layerName+"@"+t.gridset+"@"+t.format+"/{z}/{x}/{-y}."+t.format;e.format=o;return new r.source.VectorTile(e)}};t.exports=l},{"../viewer":183,"./vector":135,jquery:29,openlayers:30}],137:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./vector");var l=function s(e){var t={layerType:"vector"};var o={};var l=i.extend(t,e);var s=i.extend(o,n.getMapSource()[e.sourceName]);l.featureType=s.featureType=l.id;s.geometryName=l.geometryName;s.filter=l.filter;s.attribution=l.attribution;s.resolutions=n.getResolutions();s.projectionCode=n.getProjectionCode();var p=u(s);return a(l,p);function u(e){var t=null;var o=e.url;var n=e.filter?"&CQL_FILTER="+e.filter+" AND BBOX("+e.geometryName+",":"&BBOX=";var a=e.filter?"'"+e.projectionCode+"')":e.projectionCode;t=new r.source.Vector({attributions:e.attribution,format:new r.format.GeoJSON({geometryName:e.geometryName}),loader:function(r,l,s){var p=o+"?service=WFS&"+"version=1.1.0&request=GetFeature&typeName="+e.featureType+"&outputFormat=application/json"+"&srsname="+e.projectionCode+n+r.join(",")+","+a;i.ajax({url:p,cache:false}).done(function(e){t.addFeatures(t.getFormat().readFeatures(e))})},strategy:r.loadingstrategy.tile(r.tilegrid.createXYZ({maxZoom:e.resolutions.length}))});return t}};t.exports=l},{"../viewer":183,"./vector":135,jquery:29,openlayers:30}],138:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./tile");var l=function s(e){var t={layerType:"tile",featureinfoLayer:undefined};var o={version:"1.1.1",gutter:0};var l=i.extend(t,e);l.name.split(":").pop();l.sourceName=l.name;var s=i.extend(o,n.getMapSource()[e.source]);s.attribution=l.attribution;s.projectionCode=n.getProjectionCode();s.id=l.id;var p=u(s);return a(l,p);function u(e){return new r.source.TileWMS({attributions:e.attribution,url:e.url,gutter:e.gutter,crossOrigin:"anonymous",projection:e.projectionCode,params:{LAYERS:e.id,TILED:true,VERSION:e.version}})}};t.exports=l},{"../viewer":183,"./tile":132,jquery:29,openlayers:30}],139:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./tile");var l=function s(e){var t={layerType:"tile",featureinfoLayer:undefined};var o={matrixSet:n.getProjectionCode(),matrixIdsPrefix:n.getProjectionCode()+":",format:"image/png"};var l=i.extend(t,e);l.name.split(":").pop();l.sourceName=l.name;var s=i.extend(o,n.getMapSource()[e.source]);if(l.hasOwnProperty("format")){s.format=l.format}s.attribution=l.attribution;s.projectionCode=n.getProjectionCode();s.resolutions=n.getResolutions();s.matrixIds=[];s.resolutions.forEach(function(e,t){s.matrixIds[t]=s.matrixIdsPrefix+t});s.projectionExtent=n.getProjection().getExtent();s.id=l.id;var p=u(s);return a(l,p);function u(e){return new r.source.WMTS({crossOrigin:"anonymous",attributions:e.attribution,url:e.url,projection:e.projectionCode,layer:e.id,matrixSet:e.matrixSet,format:e.format,tileGrid:new r.tilegrid.WMTS({origin:r.extent.getTopLeft(e.projectionExtent),resolutions:e.resolutions,matrixIds:e.matrixIds}),style:"default"})}};t.exports=l},{"../viewer":183,"./tile":132,jquery:29,openlayers:30}],140:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("../viewer");var a=e("./tile");var l=function s(e){var t={layerType:"tile",featureinfoLayer:undefined};var o={};var l=i.extend(t,e);l.sourceName=l.id;var s=i.extend(o,n.getMapSource()[e.source]);s.attributions=l.attribution;s.projection=n.getProjectionCode()||"EPSG:3857";s.tileGrid=n.getTileGrid();var p=u(s);return a(l,p);function u(e){var t=e.sourceName.split(".")[1],o=e.sourceName.split(".")[0]+"/{z}/{x}/{y}.";o+=t;e.url=t;return new r.source.XYZ(e)}};t.exports=l},{"../viewer":183,"./tile":132,jquery:29,openlayers:30}],141:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./viewer");var n=e("./maputils");var a=e("./layer/group");var l={};l.WFS=e("./layer/wfs");l.AGS_FEATURE=e("./layer/agsfeature");l.TOPOJSON=e("./layer/topojson");l.GEOJSON=e("./layer/geojson");l.WMS=e("./layer/wms");l.WMTS=e("./layer/wmts");l.AGS_TILE=e("./layer/agstile");l.XYZ=e("./layer/xyz");l.VECTORTILE=e("./layer/vectortile");l.TMS=e("./layer/tms");l.OSM=e("./layer/osm");l.GROUP=p;var s=function u(e){var t={name:undefined,id:undefined,title:undefined,group:"none",opacity:1,geometryName:"geom",geometryType:undefined,filter:undefined,layerType:undefined,legend:false,sourceName:undefined,attribution:undefined,style:"default",styleName:undefined,queryable:true,minResolution:undefined,maxResolution:undefined,visible:false,type:undefined,extent:undefined,attributes:undefined,timeline:undefined,tileSize:[256,256]};var o=i.getProjection();var a=e||{};var s=r.extend(t,a);var p=s.name;s.minResolution=s.hasOwnProperty("minScale")?n.scaleToResolution(s.minScale,o):undefined;s.maxResolution=s.hasOwnProperty("maxScale")?n.scaleToResolution(s.maxScale,o):undefined;s.sourceName=s.source;s.styleName=s.style;if(s.id===undefined){s.id=p.split("__").shift()}s.name=p.split(":").pop();if(l.hasOwnProperty(s.type)){return l[s.type](s,u)}else{console.log("Layer type is missing or layer type is not correct. Check your layer definition: ");console.log(s)}};function p(e){if(e.hasOwnProperty("layers")){var t=e.layers.map(function(e){return s(e)});var o={};o.layers=t;return a(r.extend(e,o))}else{console.log("Group layer has no layers")}}t.exports=s},{"./layer/agsfeature":127,"./layer/agstile":128,"./layer/geojson":129,"./layer/group":130,"./layer/osm":131,"./layer/tms":133,"./layer/topojson":134,"./layer/vectortile":136,"./layer/wfs":137,"./layer/wms":138,"./layer/wmts":139,"./layer/xyz":140,"./maputils":146,"./viewer":183,jquery:29}],142:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./viewer");var n=e("./utils");var a=e("./modal");var l=e("./utils/validateurl");var s=20;var p;var u;var c;function g(e){var t=e||{};u=i.getBaseUrl();c=t.hasOwnProperty("hasMapLegend")?t.hasMapLegend:true;p=i.getStyleSettings();h();P(i.getGroups("top"))}function h(){r("#o-menutools").append('<li class="o-menu-item"><div class="o-menu-item-divider"></div><li>')}function f(e){var t="";var o=e[0];if(o[0].hasOwnProperty("icon")){var r=l(o[0].icon.src,u);var i=o[0].format||"png";if(i=="png"){t='<div class="o-legend-item-img"><img style="width: auto; height: 20px;" src="'+r+'"></div>'}else if(i=="svg"){var n='<object type="image/svg+xml" data="'+r+'" style="width: 20px;"></object>';var a="background: url("+r+") no-repeat;width: 20px; height: 20px;background-size: 20px;";t='<div class="o-legend-item-img">'+n+"</div>"}}else if(o[0].hasOwnProperty("fill")){var p="";for(var c=0;c<o.length;c++){p+=d(o[c])}t+='<div class="o-legend-item-img"><svg height="'+s+'" width="'+s+'">';t+=p;t+="</svg></div>"}else if(o[0].hasOwnProperty("stroke")){var g="";for(var c=0;c<o.length;c++){g+=m(o[c])}t+='<div class="o-legend-item-img"><svg height="'+s+'" width="'+s+'">';t+=g;t+="</svg></div>"}else if(o[0].hasOwnProperty("circle")){var h="";for(var c=0;c<o.length;c++){h+=y(o[c])}t+='<div class="o-legend-item-img"><svg height="'+s+'" width="'+s+'">';t+=h;t+="</svg></div>"}else if(o[0].hasOwnProperty("image")){var r=l(o[0].image.src,u);var a="background: url("+r+") no-repeat;width: 30px; height: 30px;background-size: 30px;";t='<div class="o-legend-item-img" style="'+a+'"></div>'}return t}function d(e){var t=e;var o=0;if(t.hasOwnProperty("stroke")){o=t.stroke.width>=3?3:t.stroke.width;var r="stroke:"+t.stroke.color+";"||"stroke:none;";r+="stroke-width:"+o+";"||"";r+="stroke-dasharray:"+t.stroke.lineDash+";"||""}var i=s-4;var n='<rect x="2" y="2" rx="2" ry="2" width="'+i+'" height="'+i+'" ';n+=t.hasOwnProperty("fill")?'style="fill:'+t.fill.color+";":'style="fill:none;';n+=r;n+='"></rect>';return n}function y(e){var t=e.circle;var o=0;if(t.hasOwnProperty("stroke")){o=t.stroke.width>=3?3:t.stroke.width;var r="stroke:"+t.stroke.color+";"||"stroke:none;";r+="stroke-width:"+o+";"||""}var i=s/2;var n='<circle cx="'+i+'" cy="'+i+'" r="'+t.radius+'" ';n+=t.hasOwnProperty("fill")?'style="fill:'+t.fill.color+";":'style="fill:none;';n+=r;n+='"></circle>';return n}function m(e){var t=e;var o=t.stroke.width>4?4:t.stroke.width;o=t.stroke.width<2?2:o;var r='<line x1 = "2" y1= "'+(s-4).toString()+'" x2="'+(s-4).toString()+'" y2="2" ';r+='style="';r+="stroke:"+t.stroke.color+";"||"stroke:none;";r+="stroke-width:"+o+";"||"";r+="stroke-dasharray:"+t.stroke.lineDash+";"||"";r+='"/>';return r}function v(e){var t='<div class="o-legend-item-info o-abstract" id="o-legend-item-info-'+e+'">'+'<svg class="o-icon-fa-info-circle"><use xlink:href="#fa-info-circle"></use></svg>'+"</div>";return t}function _(e){var t='<div class="o-legend-item-info o-toggle-labels o-toggle-on" id="o-legend-item-info-'+e+'">'+'<svg class="o-icon-fa-font"><use xlink:href="#fa-font"></use></svg>'+'<svg class="o-icon-fa-font-off"><use xlink:href="#fa-font"></use></svg>'+"</div>";return t}function x(e,t,o){var r=e.split("o-legend-").pop();var n=i.getLayer(r);var a=o?" o-legend-subitem":"";var l="";if(t&&t[0][0].hasOwnProperty("filter")){if(t[0][0].hasOwnProperty("legend")){l+='<li class="o-legend '+r+'">';l+='<ul id="o-group-'+r+'" class="o-legend-group o-ul-expand-false"><li class="'+r+'" id="'+e+'">'}else{l+='<li class="o-legend '+r+'" id="'+e+'">'}l+='<div class ="o-legend-item'+a+'"><div class="o-checkbox">'+'<svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg>'+'<svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg>'+"</div>";l+='<div class="o-legend-item-title o-truncate">'+n.get("title")+"</div>";if(n.get("abstract")){l+=v(r)}if(n.get("labelLayer")){l+=_(r)}if(t[0][0].hasOwnProperty("legend")){l+='<div class="o-icon-expand o-icon-expand-false">'+'<svg class="o-icon-fa-chevron-right">'+'<use xlink:href="#fa-angle-double-right"></use>'+"</svg>"+'<svg class="o-icon-fa-chevron-down">'+'<use xlink:href="#fa-angle-double-down"></use>'+"</svg>"+"</div>";l+="</div></li>";t.forEach(function(e){l+='<li class="o-legend '+r+'" id="'+r+'"><div class ="o-legend-subitem">';l+='<div class="o-checkbox o-checkbox-false"></div>';l+=n.get("styleName")?f([e]):"";l+='<div class="o-legend-subitem-title">'+e[0].legend+"</div></div></li>"});l+="</ul></li>"}}else{l+='<li class="o-legend '+r+'" id="'+e+'"><div class ="o-legend-item'+a+'"><div class="o-checkbox">'+'<svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg>'+'<svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg>'+"</div>";l+=n.get("styleName")?f(p[n.get("styleName")]):"";l+='<div class="o-legend-item-title o-truncate">'+n.get("title")+"</div>";if(n.get("abstract")){l+=v(r)}if(n.get("labelLayer")){l+=_(r)}l+="</div></li>"}return l}function S(e,t){var o;var i;var n="";if(e.hasOwnProperty("overlayGroup")){i=e.name}if(e.abstract){n+=v(e.name)}if(t){var a=r(t).parent().closest("ul").hasClass("o-legend-group")?"o-legend-indent":"";o='<li class="o-legend '+e.name+' o-top-item" id="'+e.name+'">'+'<ul id="o-group-'+e.name+'" class="o-legend-group o-legend-subgroup '+a+'">'+'<li class="o-legend-header o-legend-subheader '+e.name+'" id="'+e.name+'"><div class="o-legend-item">'+'<div class="o-checkbox">'+'<svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg>'+'<svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg>'+"</div>"+'<div class="o-legend-subgroup-title o-truncate">'+e.title+"</div>"+'<div class="o-icon-expand">'+'<svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-angle-double-right"></use></svg>'+'<svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-angle-double-down"></use></svg>'+"</div>"+n+"</div></li>"+"</ul>"+"</li>";t.append(o)}else{o="<li>"+'<ul id="o-group-'+e.name+'" class="o-legend-group">'+'<li class="o-legend-header"><div class="o-legend-item">'+e.title+'<div class="o-icon-expand">'+'<svg class="o-icon-fa-chevron-right"><use xlink:href="#fa-chevron-right"></use></svg>'+'<svg class="o-icon-fa-chevron-down"><use xlink:href="#fa-chevron-down"></use></svg>'+"</div>"+n+"</div></li>"+"</ul>"+"</li>";r("#o-legendlist .o-legendlist").append(o)}if(e.expanded==true){r("#o-group-"+e.name+" .o-icon-expand").addClass("o-icon-expand-true");r("#o-group-"+e.name+" .o-checkbox").addClass("o-checkbox-false")}else{r("#o-group-"+e.name+" .o-icon-expand").addClass("o-icon-expand-false");r("#o-group-"+e.name+" .o-checkbox").addClass("o-checkbox-false");r("#o-group-"+e.name).addClass("o-ul-expand-false")}r("#o-group-"+e.name+" .o-legend-header").on("click",function(e){if(r(e.target).closest("div").hasClass("o-checkbox")){M(r(this).parent(),true)}else if(r(e.target).closest("div").hasClass("o-abstract")){}else{b(r(this))}e.preventDefault()});if(e.hasOwnProperty("groups")){e.groups.forEach(function(t){S(t,r("#o-group-"+e.name))})}}function P(e){var t=i.getMap().getLayers().getArray();var o;var n="";var a='<div id="o-legendlist"><ul class="o-legendlist"></ul></div>';r("#o-mapmenu").append(a);e.forEach(function(e){S(e)});if(c){var l='<div id="o-map-legend"><ul id="o-legend-overlay"><li class="o-legend o-hidden"><div class ="o-toggle-button o-toggle-button-max">'+'<svg class="o-icon-fa-angle-double-down"><use xlink:href="#fa-angle-double-down"></use></svg>'+'<svg class="o-icon-fa-angle-double-up"><use xlink:href="#fa-angle-double-up"></use></svg>'+'</div></li><li><ul id="o-overlay-list"></li></ul></ul><ul id="o-map-legend-background"></ul></div>';r("#o-map").append(l);if(o){r("#o-map-legend-background").prepend('<div class="o-legend-item-divider"></div>')}}t.forEach(function(e){var t=e.get("name");var o=p[e.get("styleName")];var i=r("#o-group-"+e.get("group")).closest("ul").parent().closest("ul").hasClass("o-legend-group");var a='<div class="o-legend-item-title o-truncate">'+e.get("title")+"</div>";if(e.get("abstract")){a+=v(t)}if(e.get("labelLayer")){a+=_(t)}a+="</div></li>";if(e.get("group")=="background"){n='<li class="o-legend '+t+'" id="'+t+'"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-check"><use xlink:href="#fa-check"></use></svg></div>';n+=a;r("#o-group-background .o-legend-header").after(n);n='<li class="o-legend '+t+'" id="o-legend-'+t+'"><div class ="o-legend-item">';n+=e.get("styleName")?f(p[e.get("styleName")]):"";n+="</div>";r("#o-map-legend-background").prepend(n)}else if(e.get("group")&&e.get("group")!="none"){n=x(t,o,i);if(r("#o-group-"+e.get("group")).find("li.o-top-item:last").length){r("#o-group-"+e.get("group")).find("li.o-top-item:last").after(n)}else{r("#o-group-"+e.get("group")+" .o-legend-header").after(n)}if(e.get("legend")==true||e.getVisible(true)){n='<li class="o-legend '+t+'" id="o-legend-'+t+'"><div class ="o-legend-item"><div class="o-checkbox">'+'<svg class="o-icon-fa-square-o"><use xlink:href="#fa-square-o"></use></svg>'+'<svg class="o-icon-fa-check-square-o"><use xlink:href="#fa-check-square-o"></use></svg>'+"</div>";n+=e.get("styleName")?f(p[e.get("styleName")]):"";n+=a;r("#o-overlay-list").append(n)}}R();if(e.get("group")=="background"){if(e.getVisible()==true){r("#"+t+" .o-checkbox").addClass("o-check-true");r("#o-legend-"+t).addClass("o-check-true-img");r("#o-legend-item-info-"+t).addClass("o-toggle-on");if(e.getProperties().bgColor){r("body").css("background",e.getProperties().bgColor)}else{r("body").css("background","#FFF")}}else{r("#"+t+" .o-checkbox").addClass("o-check-false");r("#o-legend-"+t).addClass("o-check-false-img");r("#o-legend-item-info-"+t).addClass("o-toggle-off")}}else{if(e.getVisible()==true){r("."+t+" .o-checkbox").addClass("o-checkbox-true");if(i){var l=r("#"+t).parents("ul [id^=o-group-]");[].forEach.call(l,function(e){b(r(e).find("li:first"))});M(r("#"+t).parents("ul").has(".o-legend-header").first(),false)}else{r("#o-group-"+e.get("group")+" .o-icon-expand").removeClass("o-icon-expand-false");r("#o-group-"+e.get("group")+" .o-icon-expand").addClass("o-icon-expand-true");r("#o-group-"+e.get("group")).removeClass("o-ul-expand-false")}}else{r("."+t+" .o-checkbox").addClass("o-checkbox-false")}}r("#"+t).on("click",function(e){if(r(e.target).closest("div").hasClass("o-icon-expand")){b(r(this))}else if(r(e.target).closest("div").hasClass("o-toggle-labels")){I(r(this))}else{r(this).each(function(){var e=this;C(r(e).attr("id"))});e.preventDefault()}});r("#o-legend-"+t).on("click",function(e){r(this).each(function(){var e=this;C(r(e).attr("id"))});e.preventDefault()})});r(".o-abstract").on("click",function(e){r(this).each(function(){var e=this;L(r(e))});e.preventDefault()});r("#o-legend-overlay .o-toggle-button").on("click",function(e){w();e.preventDefault()})}function E(e){r("#"+e).on("click",function(e){r(this).each(function(){var e=this;C(r(e).attr("id"))});e.preventDefault()})}function T(e){r("#"+e).off("click",function(e){r(this).each(function(){var e=this;C(r(e).attr("id"))});e.preventDefault()})}function b(e){var t=e.parent(".o-legend-group");var o=r("#"+t.attr("id")+" .o-icon-expand:first");if(o.hasClass("o-icon-expand-false")){o.removeClass("o-icon-expand-false");o.addClass("o-icon-expand-true");t.removeClass("o-ul-expand-false")}else{o.removeClass("o-icon-expand-true");o.addClass("o-icon-expand-false");t.addClass("o-ul-expand-false")}}function M(e,t){var o=r(e);var n=o.find(".o-legend-item.o-legend-subitem");var a=r(".o-legend-group");if(t){n.each(function(){var e=r(this).parent().attr("id");var t=i.getLayer(e);var n=r(this).parent().attr("class");var a=n.split("o-legend-").length>1?true:false;if(o.children().first().find(".o-checkbox").hasClass("o-checkbox-true")){r("."+e+" .o-checkbox").removeClass("o-checkbox-true");r("."+e+" .o-checkbox").addClass("o-checkbox-false");if(a==false){T("o-legend-"+e);r("#o-legend-"+e).remove();t.set("legend",false);R()}t.setVisible(false)}else{if(a==false&&r("#o-legend-"+e).length==0){r("#o-overlay-list").append(x("o-legend-"+e));E("o-legend-"+e);R()}r("."+e+" .o-checkbox").removeClass("o-checkbox-false");r("."+e+" .o-checkbox").addClass("o-checkbox-true");t.setVisible(true);t.set("legend",true)}})}a.each(function(){var e=r(this).find(".o-legend-item.o-legend-subitem").has(".o-checkbox");var t=r(this).find(".o-legend-item.o-legend-subitem").has(".o-checkbox.o-checkbox-true");if(t.length){r(this).children().first().find(".o-checkbox").removeClass("o-checkbox-false");r(this).children().first().find(".o-checkbox").addClass("o-checkbox-true");if(e.length!=t.length){r(this).children().first().find(".o-checkbox").addClass("o-checkbox-semi")}else{r(this).children().first().find(".o-checkbox").removeClass("o-checkbox-semi")}}else{r(this).children().first().find(".o-checkbox").removeClass("o-checkbox-true");r(this).children().first().find(".o-checkbox").removeClass("o-checkbox-semi");r(this).children().first().find(".o-checkbox").addClass("o-checkbox-false")}})}function C(e){var t=e.split("o-legend-").pop();var o=e.split("o-legend-").length>1?true:false;var n=i.getLayer(t);var a=n.get("linkedLayers")||[];var l=n.get("hideLayers")||[];var s=true;if(n.get("group")=="background"){var p=i.getGroup("background");for(var u=0;u<p.length;u++){p[u].setVisible(false);r("#"+p[u].get("name")+" .o-checkbox").removeClass("o-check-true");r("#"+p[u].get("name")+" .o-checkbox").addClass("o-check-false");r("#o-legend-"+p[u].get("name")).removeClass("o-check-true-img");r("#o-legend-"+p[u].get("name")).addClass("o-check-false-img");var c=p[u].get("linkedLayers")||[];c.forEach(function(e){i.getLayer(e).setVisible(false);r("."+e+" .o-checkbox").removeClass("o-checkbox-true");r("."+e+" .o-checkbox").addClass("o-checkbox-false")});if(p[u].get("labelLayer")&&p[u].get("name")!=t){var g=i.getLayer(p[u].get("labelLayer"));if(r("#o-legend-item-info-"+p[u].get("name")).hasClass("o-toggle-on")){r("#o-legend-item-info-"+p[u].get("name")).removeClass("o-toggle-on");r("#o-legend-item-info-"+p[u].get("name")).addClass("o-toggle-off");g.setVisible(false)}}}n.setVisible(true);a.forEach(function(e){i.getLayer(e).setVisible(true);r("."+e+" .o-checkbox").removeClass("o-checkbox-false");r("."+e+" .o-checkbox").addClass("o-checkbox-true")});if(n.get("labelLayer")){var g=i.getLayer(n.get("labelLayer"));if(r("#o-legend-item-info-"+t).hasClass("o-toggle-off")){r("#o-legend-item-info-"+t).removeClass("o-toggle-off");r("#o-legend-item-info-"+t).addClass("o-toggle-on");g.setVisible(true)}}r("#"+t+" .o-checkbox").removeClass("o-check-false");r("#"+t+" .o-checkbox").addClass("o-check-true");r("#o-legend-"+t).removeClass("o-check-false-img");r("#o-legend-"+t).addClass("o-check-true-img");if(n.getProperties().bgColor){r("body").css("background",n.getProperties().bgColor)}else{r("body").css("background","#FFF")}}else if(n.get("group")=="historiskakartor"){
var p=i.getGroup("historiskakartor");for(var u=0;u<p.length;u++){if(p[u].get("name")!=t){var h=i.getLayer(p[u].get("name"));p[u].setVisible(false);r("#"+p[u].get("name")+" .o-checkbox").removeClass("o-checkbox-true");r("#"+p[u].get("name")+" .o-checkbox").addClass("o-checkbox-false");T("o-legend-"+p[u].get("name"));r("#o-legend-"+p[u].get("name")).remove();h.set("legend",false)}}if(r("."+t+" .o-checkbox").hasClass("o-checkbox-true")){console.log("T");r("."+t+" .o-checkbox").removeClass("o-checkbox-true");r("."+t+" .o-checkbox").addClass("o-checkbox-false");n.setVisible(false)}else{if(o==false&&r("#o-legend-"+t).length==0){r("#o-overlay-list").append(x("o-legend-"+t));E("o-legend-"+t);R()}console.log("F");console.log("layername");r("."+t+" .o-checkbox").removeClass("o-checkbox-false");r("."+t+" .o-checkbox").addClass("o-checkbox-true");n.setVisible(true);n.set("legend",true)}}else if(n.get("group")=="historiskaortofoton"){var p=i.getGroup("historiskaortofoton");for(var u=0;u<p.length;u++){if(p[u].get("name")!=t){var h=i.getLayer(p[u].get("name"));p[u].setVisible(false);r("#"+p[u].get("name")+" .o-checkbox").removeClass("o-checkbox-true");r("#"+p[u].get("name")+" .o-checkbox").addClass("o-checkbox-false");T("o-legend-"+p[u].get("name"));r("#o-legend-"+p[u].get("name")).remove();h.set("legend",false)}}if(r("."+t+" .o-checkbox").hasClass("o-checkbox-true")){console.log("T");r("."+t+" .o-checkbox").removeClass("o-checkbox-true");r("."+t+" .o-checkbox").addClass("o-checkbox-false");n.setVisible(false)}else{if(o==false&&r("#o-legend-"+t).length==0){r("#o-overlay-list").append(x("o-legend-"+t));E("o-legend-"+t);R()}console.log("F");console.log("layername");r("."+t+" .o-checkbox").removeClass("o-checkbox-false");r("."+t+" .o-checkbox").addClass("o-checkbox-true");n.setVisible(true);n.set("legend",true)}}else{if(r("."+t+" .o-checkbox").hasClass("o-checkbox-true")){r("."+t+" .o-checkbox").removeClass("o-checkbox-true");r("."+t+" .o-checkbox").addClass("o-checkbox-false");if(o==false){T("o-legend-"+t);r("#o-legend-"+t).remove();n.set("legend",false);R()}n.setVisible(false);a.forEach(function(e){if(i.getLayer(e).get("group")!="background"){i.getLayer(e).setVisible(false);r("."+e+" .o-checkbox").removeClass("o-checkbox-true");r("."+e+" .o-checkbox").addClass("o-checkbox-false")}})}else{if(o==false&&r("#o-legend-"+t).length==0){r("#o-overlay-list").append(x("o-legend-"+t));E("o-legend-"+t);R()}r("."+t+" .o-checkbox").removeClass("o-checkbox-false");r("."+t+" .o-checkbox").addClass("o-checkbox-true");n.setVisible(true);n.set("legend",true);a.forEach(function(e){if(i.getLayer(e).get("group")=="background"){var o=i.getGroup("background");for(var n=0;n<o.length;n++){o[n].setVisible(false);r("#"+o[n].get("name")+" .o-checkbox").removeClass("o-check-true");r("#"+o[n].get("name")+" .o-checkbox").addClass("o-check-false");r("#o-legend-"+o[n].get("name")).removeClass("o-check-true-img");r("#o-legend-"+o[n].get("name")).addClass("o-check-false-img");var a=o[n].get("linkedLayers")||[];a.forEach(function(e){i.getLayer(e).setVisible(false);r("."+e+" .o-checkbox").removeClass("o-checkbox-true");r("."+e+" .o-checkbox").addClass("o-checkbox-false")});if(o[n].get("labelLayer")&&o[n].get("name")!=t){var l=i.getLayer(o[n].get("labelLayer"));if(r("#o-legend-item-info-"+o[n].get("name")).hasClass("o-toggle-on")){r("#o-legend-item-info-"+o[n].get("name")).removeClass("o-toggle-on");r("#o-legend-item-info-"+o[n].get("name")).addClass("o-toggle-off");l.setVisible(false)}}}i.getLayer(e).setVisible(true);var a=i.getLayer(e).get("linkedLayers")||[];a.forEach(function(e){i.getLayer(e).setVisible(true);r("."+e+" .o-checkbox").removeClass("o-checkbox-false");r("."+e+" .o-checkbox").addClass("o-checkbox-true")});if(i.getLayer(e).get("labelLayer")){var l=i.getLayer(i.getLayer(e).get("labelLayer"));if(r("#o-legend-item-info-"+e).hasClass("o-toggle-off")){r("#o-legend-item-info-"+e).removeClass("o-toggle-off");r("#o-legend-item-info-"+e).addClass("o-toggle-on");l.setVisible(true)}}r("#"+e+" .o-checkbox").removeClass("o-check-false");r("#"+e+" .o-checkbox").addClass("o-check-true");r("#o-legend-"+e).removeClass("o-check-false-img");r("#o-legend-"+e).addClass("o-check-true-img");if(i.getLayer(e).getProperties().bgColor){r("body").css("background",i.getLayer(e).getProperties().bgColor)}else{r("body").css("background","#FFF")}}i.getLayer(e).setVisible(true);r("."+e+" .o-checkbox").removeClass("o-checkbox-false");r("."+e+" .o-checkbox").addClass("o-checkbox-true")});l.forEach(function(e){console.log("Y");i.getLayer(e).setVisible(false);r("."+e+" .o-checkbox").removeClass("o-checkbox-true");r("."+e+" .o-checkbox").addClass("o-checkbox-false")})}}}function R(){if(r("#o-overlay-list li").length>1&&r("#o-legend-overlay >li:first-child").hasClass("o-hidden")){r("#o-legend-overlay > li:first-child").removeClass("o-hidden")}else if(r("#o-overlay-list li").length<2){r("#o-legend-overlay > li:first-child").addClass("o-hidden");if(r("#o-overlay-list").length==1&&r("#o-overlay-list").hasClass("o-hidden")){r("#o-overlay-list").removeClass("o-hidden");w()}}}function w(){if(r("#o-legend-overlay .o-toggle-button").hasClass("o-toggle-button-max")){r("#o-legend-overlay .o-toggle-button").removeClass("o-toggle-button-max");r("#o-legend-overlay .o-toggle-button").addClass("o-toggle-button-min");r("#o-overlay-list").addClass("o-hidden")}else{r("#o-legend-overlay .o-toggle-button").removeClass("o-toggle-button-min");r("#o-legend-overlay .o-toggle-button").addClass("o-toggle-button-max");r("#o-overlay-list").removeClass("o-hidden")}}function L(e){var t;var o=e.closest("li");var n=e.attr("id").split("o-legend-item-info-").pop();var l={title:"",content:""};if(o.hasClass("o-legend-header")){var s=i.getGroups();var p=r.grep(s,function(e){return e.name==n});l.title=p[0].title;l.content=p[0].abstract}else{t=i.getLayer(n);l.title=t.get("title");l.content=t.get("abstract")}a.createModal("#o-map",{title:l.title,content:l.content});a.showModal()}function I(e){var t;var o=e.closest("li");var n=e.attr("id").split("o-legend-item-info-").pop();var a=i.getLayer(n).get("labelLayer");t=i.getLayer(a);if(r("#o-legend-item-info-"+n).hasClass("o-toggle-on")){r("#o-legend-item-info-"+n).removeClass("o-toggle-on");r("#o-legend-item-info-"+n).addClass("o-toggle-off");t.setVisible(false)}else{r("#o-legend-item-info-"+n).removeClass("o-toggle-off");r("#o-legend-item-info-"+n).addClass("o-toggle-on");t.setVisible(true)}}t.exports.init=g},{"./modal":149,"./utils":172,"./utils/validateurl":182,"./viewer":183,jquery:29}],143:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./utils");var n;var a;var l;function s(e){var t=e||{};n=t.url;a=t.title;p();u()}function p(){var e=i.createListButton({id:"o-link",iconCls:"o-icon-fa-external-link",src:"#fa-external-link",text:a});r("#o-menutools").append(e);l=r("#o-link-button")}function u(){l.on("click",function(){window.open(n)})}t.exports.init=s},{"./utils":172,jquery:29}],144:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./permalink/permalink");var n=e("./utils/geturl");var a=e("./utils/isurl");var l=e("./utils/trimurl");var s=function(e,t){var o={};var s=t.target;var u="json";var c=t.crossOrigin;var g=undefined;if(s.substring(0,1)!=="#"){s="#"+s}o.el=s;if(t.authorizationUrl){return r.ajax({url:t.authorizationUrl}).then(function(e){return h()})}else{return h()}function h(){if(typeof e==="object"){if(window.location.hash){g=i.parsePermalink(window.location.href)}var s=t.baseUrl||"";o.options=r.extend(t,e);if(e.controls){o.options.controls=t.defaultControls.concat(e.controls)}else{o.options.controls=t.defaultControls}o.options.url=n();o.options.map=undefined;o.options.params=g;o.options.baseUrl=s;return r.when.apply(r,p(s,t)).then(function(e){return o})}else if(typeof e==="string"){if(a(e)){g=i.parsePermalink(e);var c=e.split("#")[0];c=l(c);var s=t.baseUrl||c;var h=g.map+".json";var f=c;c+=h}else{if(window.location.hash){g=i.parsePermalink(window.location.href)}var s=t.baseUrl||"";var h=e;var c=s+h;var f=n()}return r.when.apply(r,p(s,t)).then(function(e){return r.ajax({url:c,dataType:u}).then(function(e){o.options=r.extend(t,e);if(e.controls){o.options.controls=t.defaultControls.concat(e.controls)}else{o.options.controls=t.defaultControls}o.options.url=f;o.options.map=h;o.options.params=g;o.options.baseUrl=s;return o})})}}};function p(e,t){var o=t.svgSprites;var i=t.svgSpritePath;var n=[];o.forEach(function(t){var o=r.get(e+i+t,function(e){var t=document.createElement("div");t.innerHTML=(new XMLSerializer).serializeToString(e.documentElement);document.body.insertBefore(t,document.body.childNodes[0])});n.push(o);return n})}t.exports=s},{"./permalink/permalink":150,"./utils/geturl":174,"./utils/isurl":175,"./utils/trimurl":180,jquery:29}],145:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./viewer");var n=e("./utils");var a,l,s;var p=20;var u;function c(){u=i.getStyleSettings();var e=n.createButton({text:"Meny",id:"o-mapmenu-button",cls:"o-mapmenu-button-true",iconCls:"o-icon-fa-bars",src:"#fa-bars",tooltipText:"Meny",tooltipPlacement:"west"});r("#o-map").append(e);a=r("#o-mapmenu-button button");var t='<div id="o-mapmenu">'+'<div class="o-block">'+'<ul id="o-menutools">'+"<li></li>"+"</ul>";"</div>"+"</div>";r("#o-map").append(t);s=r("#o-mapmenu");var o=n.createButton({id:"o-mapmenu-button-close",cls:"o-no-boxshadow",iconCls:"o-icon-menu-fa-times",src:"#fa-times",tooltipText:"Stng meny",tooltipPlacement:"west"});r("#o-menutools").append(o);l=r("#o-mapmenu-button-close");g()}function g(){a.on("click",function(e){h();a.blur();e.preventDefault()});l.on("click",function(e){h();l.blur();e.preventDefault()})}function h(){if(s.hasClass("o-mapmenu-show")){s.removeClass("o-mapmenu-show")}else{s.addClass("o-mapmenu-show")}}function f(){return s}t.exports.init=c;t.exports.toggleMenu=h;t.exports.getTarget=f},{"./utils":172,"./viewer":183,jquery:29}],146:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");t.exports={customProjection:function(e,t){return new r.proj.Projection({code:e,extent:t})},tileGrid:function(e,t,o){var i=r.extent.getTopLeft(e);return new r.tilegrid.TileGrid({extent:e,origin:i,resolutions:t,tileSize:o||[256,256]})},checkZoomChange:function a(e,t){if(e!==t){return true}else{return false}},createPointFeature:function l(e,t){var o=new r.Feature({geometry:new r.geom.Point(e)});o.setStyle(t);return o},geojsonToFeature:function s(e){var t=new r.source.Vector({features:(new r.format.GeoJSON).readFeatures(e)});return t.getFeatures()[0]},wktToFeature:function p(e,t){var o=new r.format.WKT;var i=o.readFeature(e,{dataProjection:t,featureProjection:t});return i},zoomToExent:function u(e,t){var o=n.getMap();var r=o.getView();var i=t;var a=e.getExtent();if(a){r.fit(a,o.getSize(),{maxZoom:i});return a}else{return undefined}},getCenter:function c(e){var t=e.getType();var o;switch(t){case"Polygon":o=e.getInteriorPoint().getCoordinates();break;case"MultiPolygon":o=e.getInteriorPoints()[0].getCoordinates();break;case"Point":o=e.getCoordinates();break;case"MultiPoint":o=e[0].getCoordinates();break;case"LineString":o=e.getCoordinateAt(.5);break;case"MultiLineString":o=e.getLineStrings()[0].getCoordinateAt(.5);break;case"Circle":o=e.getCenter();break}return o},scaleToResolution:function g(e,t){var o=25.4/.28;var r=t.getMetersPerUnit();var i=e/(r*39.37*o);return i}}},{"./viewer":183,jquery:29,openlayers:30}],147:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./utils");var n=e("./viewer");var a={windowButton:r("#o-window-button button")};function l(){p();s()}function s(){r("#o-window-button button").click(function(){r("#o-window-button button").blur();u()})}function p(){var e="Visa kartan i nytt fnster";var t=i.createButton({id:"o-window-button",cls:"o-mapwindow-button",iconCls:"o-icon-fa-expand",src:"#fa-expand",tooltipText:e,tooltipPlacement:"east"});r("#o-map").append(t)}function u(){var e=n.getMapUrl();window.open(e)}t.exports.init=l},{"./utils":172,"./viewer":183,jquery:29}],148:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a=e("./utils");var l=e("./style")();var s=e("./style/styletypes");var p;var u;var c;var g;var h;var f;var d;var y;var m;var v;var _;var x;var S;var P;var E=[];var T=false;var b=false;function M(e){var t=e||{};var o=t.target||"#o-toolbar-maptools";p=n.getMap();S=new r.source.Vector;m=s.getStyle("measure");x=new r.layer.Vector({source:S,name:"measure",visible:false,zIndex:6});p.addLayer(x);i(".o-map").on("enableInteraction",C);w(o);L();c=i("#o-measure-line-button button")}function C(e){if(e.interaction==="measure"){i("#o-measure-button button").addClass("o-measure-button-true");i("#o-measure-line-button").removeClass("o-hidden");i("#o-measure-polygon-button").removeClass("o-hidden");i("#o-measure-button").removeClass("tooltip");R(true);c.trigger("click")}else{if(u){u.removeClass("o-measure-button-true")}i("#o-measure-button button").removeClass("o-measure-button-true");i("#o-measure-line-button").addClass("o-hidden");i("#o-measure-polygon-button").addClass("o-hidden");i("#o-measure-button").addClass("tooltip");p.un("pointermove",A);p.un("click",A);p.removeInteraction(g);x.setVisible(false);n.removeOverlays(E);x.getSource().clear();R(false)}}function R(e){if(e===true){b=true}else{b=false}}function w(e){var t=a.createElement("div","",{id:"o-measure-toolbar",cls:"o-toolbar-horizontal"});i(e).append(t);var o=a.createButton({id:"o-measure-button",cls:"o-measure-button",iconCls:"o-icon-steady-measure",src:"#steady-measure",tooltipText:"Mt i kartan"});i("#"+"o-measure-toolbar").append(o);var r=a.createButton({id:"o-measure-line-button",cls:"o-measure-type-button",iconCls:"o-icon-minicons-line-vector",src:"#minicons-line-vector",tooltipText:"Linje",tooltipPlacement:"north"});i("#"+"o-measure-toolbar").append(r);i("#o-measure-line-button").addClass("o-hidden");var n=a.createButton({id:"o-measure-polygon-button",cls:"o-measure-type-button",iconCls:"o-icon-minicons-square-vector",src:"#minicons-square-vector",tooltipText:"Yta",tooltipPlacement:"north"});i("#"+"o-measure-toolbar").append(n);i("#o-measure-polygon-button").addClass("o-hidden")}function L(){i("#o-measure-button").on("click",function(e){k();i("#o-measure-button button").blur();e.preventDefault()});i("#o-measure-line-button").on("click",function(e){h="LineString";q(i("#o-measure-line-button button"));i("#o-measure-line-button button").blur();e.preventDefault()});i("#o-measure-polygon-button").on("click",function(e){h="Polygon";q(i("#o-measure-polygon-button button"));i("#o-measure-polygon-button button").blur();e.preventDefault()})}function I(e,t){var o=e.getGeometry().getType();var r=o=="LineString"?l.createStyleRule(m.linestring):l.createStyleRule(m.polygon);return r}function A(e){if(e.dragging){return}var t="Klicka fr att brja mta";var o=e.coordinate;if(f){var i;var n=f.getGeometry();if(n instanceof r.geom.Polygon){i=D(n);o=n.getInteriorPoint().getCoordinates()}else if(n instanceof r.geom.LineString){i=G(n);o=n.getLastCoordinate()}y.innerHTML=i;P=i;d.setPosition(o)}if(e.type=="pointermove"){_.innerHTML=t;v.setPosition(e.coordinate)}}function O(){x.setVisible(true);g=new r.interaction.Draw({source:S,type:h,style:l.createStyleRule(m.interaction)});p.addInteraction(g);F();N();p.on("pointermove",A);p.on("click",A);g.on("drawstart",function(e){T=true;f=e.feature;i(_).addClass("o-hidden")},this);g.on("drawend",function(e){var t=e.feature;t.setStyle(I(t));t.getStyle()[0].getText().setText(P);i(y).remove();f=null;y=null;F();i(_).removeClass("o-hidden")},this)}function N(){if(_){_.parentNode.removeChild(_)}_=document.createElement("div");_.className="o-tooltip o-tooltip-measure";v=new r.Overlay({element:_,offset:[15,0],positioning:"center-left"});E.push(v);p.addOverlay(v)}function F(){if(y){y.parentNode.removeChild(y)}y=document.createElement("div");y.className="o-tooltip o-tooltip-measure";d=new r.Overlay({element:y,offset:[0,-15],positioning:"bottom-center",stopEvent:false});E.push(d);p.addOverlay(d)}function G(e){var t;t=Math.round(e.getLength()*100)/100;var o;if(t>100){o=Math.round(t/1e3*100)/100+" "+"km"}else{o=Math.round(t*100)/100+" "+"m"}return o}function D(e){var t;t=e.getArea();var o;if(t>1e7){o=Math.round(t/1e6*100)/100+" "+"km<sup>2</sup>"}else if(t>1e4){o=Math.round(t/1e4*100)/100+" "+"ha"}else{o=Math.round(t*100)/100+" "+"m<sup>2</sup>"}var r=document.createElement("span");r.innerHTML=o;[].forEach.call(r.children,function(e){if(e.tagName==="SUP"){e.textContent=String.fromCharCode(e.textContent.charCodeAt(0)+128)}});return r.textContent}function k(){if(b){i(".o-map").trigger({type:"enableInteraction",interaction:"featureInfo"})}else{i(".o-map").trigger({type:"enableInteraction",interaction:"measure"})}}function q(e){if(u){u.removeClass("o-measure-button-true")}e.addClass("o-measure-button-true");u=e;p.removeInteraction(g);O()}t.exports.init=M},{"./style":161,"./style/styletypes":165,"./utils":172,"./viewer":183,jquery:29,openlayers:30}],149:[function(e,t,o){var r=e("jquery");var i={target:undefined,modal:undefined};function n(){}function a(){r(".o-modal-screen, .o-close-button").click(function(){p()})}function l(e,t){var o=t.title||undefined;var n=t.content||undefined;var a=t.footer||undefined;i.target=r(e);i.modal='<div id="o-modal">'+'<div class="o-modal-screen"></div>'+'<div class="o-modal">'+'<div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div>'+'<div class="o-modal-title">'+o+"</div>"+'<div class="o-modal-content">'+n+"</div>"+"</div>"+"</div>"}function s(){i.target.prepend(i.modal);a()}function p(){r("#o-modal").remove()}t.exports.init=n;t.exports.createModal=l;t.exports.showModal=s;t.exports.closeModal=p},{jquery:29}],150:[function(e,t,o){"use strict";var r=e("./permalinkparser");var i=e("./permalinkstore");var n=e("../utils/urlparser");t.exports=function(){return{getPermalink:function e(t){var o=n.formatUrl(i.getState());var r=i.getUrl()+"#"+o;return r},parsePermalink:function t(e){if(e.indexOf("#")>-1){var t=e.split("#")[1];var o=t.split("&");var i={};o.forEach(function(e){var t=e.split("=")[0];var o=e.split("=")[1];if(r.hasOwnProperty(t)){i[t]=r[t](o)}});return i}else{return false}}}}()},{"../utils/urlparser":181,"./permalinkparser":151,"./permalinkstore":152}],151:[function(e,t,o){"use strict";var r=e("../utils/urlparser");var i={v:{name:"visible",dataType:"boolean"},s:{name:"legend",dataType:"boolean"}};t.exports={layers:function(e){var t=e.split(",");var o={};t.forEach(function(e){var t={};var n=r.objectify(e,{topmost:"name"});Object.getOwnPropertyNames(n).forEach(function(e){var o=n[e];if(i.hasOwnProperty(e)){var a=i[e];t[a.name]=r.strBoolean(o)}else{t[e]=o}});o[t.name]=t});return o},zoom:function(e){return parseInt(e)},center:function(e){var t=e.split(",").map(function(e){return parseInt(e)});return t},selection:function(e){return r.strArrayify(e,{topmostName:"geometryType",arrName:"coordinates"})},pin:function(e){return r.strIntify(e)},map:function(e){return e}}},{"../utils/urlparser":181}],152:[function(e,t,o){"use strict";var r=e("../viewer");var i=e("../featureinfo")["getSelection"];var n=e("../featureinfo")["getPin"];var a=e("../utils/urlparser");var l={};var s;var p;l.getState=function g(){s={};var e=r.getMap().getView();var t=r.getLayers();s.layers=u(t);s.center=e.getCenter().map(function(e){return Math.round(e)}).join();s.zoom=e.getZoom().toString();if(n()){s.pin=n().getGeometry().getCoordinates().map(function(e){return Math.round(e)}).join()}if(r.getMapName()){s.map=r.getMapName().split(".")[0]}return s};l.getUrl=function(){p=r.getUrl();return p};function u(e){var t=[];e.forEach(function(e){var o={};o.v=e.getVisible()===true?1:0;o.s=e.get("legend")===true?1:0;if(o.s||o.v){o.name=e.get("name");t.push(a.stringify(o,{topmost:"name"}))}});return t}function c(e){return a.arrStringify(e.coordinates,{topmost:e.geometryType})}t.exports=l},{"../featureinfo":116,"../utils/urlparser":181,"../viewer":183}],153:[function(e,t,o){var r=e("jquery");t.exports=function(e){i(e);n();return{getEl:a,setVisibility:l,setTitle:s,setContent:p,closePopup:u}};function i(e){var t='<div id="o-popup">'+'<div class="o-popup o-card">'+'<div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div>'+'<div class="o-card-title"></div>'+'<div class="o-card-content"></div>'+"</div>"+"</div>";r(e).append(t)}function n(){r("#o-popup .o-popup .o-close-button").on("click",function(e){u();e.preventDefault()})}function a(){return r("#o-popup").get(0)}function l(e){e==true?r("#o-popup .o-popup").css("display","block"):r("#o-popup .o-popup").css("display","none")}function s(e){r("#o-popup .o-card-title").html(e)}function p(e){e.title?r("#o-popup .o-popup .o-card-title").html(e.title):r("#o-popup .o-popup .o-card-title").html("");e.content?r("#o-popup .o-popup .o-card-content").html(e.content):r("#o-popup .o-popup .o-card-content").html("")}function u(){l(false)}},{jquery:29}],154:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./viewer");var n=e("./utils");var a=e("./templates/print.handlebars");var l=800;var s;var p;var u;var c;function g(e){var t=e||{};p=t.attribution||" Lantmteriet Geodatasamverkan";u=i.getMap();c=i.getBaseUrl();h();f()}function h(){var e=n.createListButton({id:"o-print",iconCls:"o-icon-fa-print",src:"#fa-print",text:"Skriv ut"});r("#o-menutools").append(e);s=r("#o-print-button")}function f(){s.on("click",function(e){r("#app-wrapper").append('<canvas id="o-print" style="display: none"></canvas>');y();e.preventDefault()})}function d(e){var t=new Image;try{t.src=e.get(0).toDataURL("image/png")}catch(o){console.log(o)}finally{var i={};i.src=t.src;i.attribution=p;i.logoSrc=c+"css/png/logo_print.png";var n=a(i);var l=window.open("","","width=800,height=820");l.document.write(n);l.document.close();setTimeout(function(){l.print();setTimeout(function(){l.close();r("#o-print").remove()},10)},200)}}function y(){var e=r("canvas");var t=new Image;try{var o=e.get(0).toDataURL("image/png")}catch(i){console.log(i)}finally{var n=r("#o-print");t.onload=function(){var o=n[0].getContext("2d");var r=e[0].width;var i=e[0].height;if(r<l){n[0].width=r}else if(r>=l){n[0].width=l}if(i<l){n[0].height=i}else if(r>=l){n[0].height=l}o.drawImage(t,r/2-n[0].width/2,0,n[0].width,n[0].height,0,0,n[0].width,n[0].height);d(n)};t.src=o}}t.exports.init=g},{"./templates/print.handlebars":169,"./utils":172,"./viewer":183,jquery:29}],155:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a=e("./utils");var l;function s(e){var t=e||{};var o;var s=a.createSvg({href:"#origo-compass",cls:"o-icon-compass"});l=n.getMap();o=new r.control.Rotate({label:i.parseHTML("<span>"+s+"</span>")[0],tipLabel:" ",target:"o-toolbar-misc"});l.addControl(o)}t.exports.init=s},{"./utils":172,"./viewer":183,jquery:29,openlayers:30}],156:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./viewer");var n=e("./utils/numberformatter");var a;var l;var s;var p;function u(e){var t=e||{};a=i.getMap();l=r("#"+i.getConsoleId());p=t.scaleText||"1:";var o=t.hasOwnProperty("isActive")?t.isActive:true;c(o);return{setActive:c}}function c(e){if(e===true){a.getView().on("change:resolution",g);g();s=true}else if(e===false){a.getView().un("change:resolution",g);s=false}}function g(e){var t=e?e.target.get(e.key):a.getView().getResolution();var o=i.getScale(t);l.text(p+n(o))}t.exports.init=u},{"./utils/numberformatter":176,"./viewer":183,jquery:29}],157:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("./viewer");var n;function a(e){var t=e||{};var o=t.target||"o-tools-bottom";n=i.getMap();var a=new r.control.ScaleLine({target:o});n.addControl(a)}t.exports.init=a},{"./viewer":183,openlayers:30}],158:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a=e("./maputils").wktToFeature;var l=e("./popup");var s=e("typeahead.js-browserify");var p=e("./getfeature");var u=e("./getattributes");var c=e("./featureinfo");var g=e("./maputils");var h=e("./geometry/getcenter");var f=e("./utils");var d;var y;var m;var v;var _;var x;var S;var P;var E;var T;var b;var M;var C;var R;var w;var L;var I;s.loadjQueryPlugin();function A(e){var t;y=e.searchAttribute;m=e.northing||undefined;v=e.easting||undefined;_=e.geometryAttribute;x=e.idAttribute;S=e.layerNameAttribute||undefined;P=e.layerName||undefined;M=e.url;C=e.title||"";E=e.titleAttribute||undefined;T=e.contentAttribute||undefined;e:e.maxZoomLevel||2;R=e.hintText||"Sk...";w=e.hasOwnProperty("hint")?e.hint:true;L=e.hasOwnProperty("highlight")?e.highlight:true;I=n.getProjectionCode();d=n.getMap();t='<div id="o-search-wrapper">'+'<div id="o-search" class="o-search o-search-false">'+'<input class="o-search-field typeahead form-control" type="text" placeholder="'+R+'">'+'<button id="o-search-button">'+'<svg class="o-icon-fa-search">'+'<use xlink:href="#fa-search"></use>'+"</svg>"+"</button>"+'<button id="o-search-button-close">'+'<svg class="o-icon-search-fa-times">'+'<use xlink:href="#fa-times"></use>'+"</svg>"+"</button>"+"</div>"+"</div>";i("#o-map").append(t);i.support.cors=true;i(".typeahead").typeahead({autoSelect:true,hint:w,highlight:L,minLength:4},{name:"adress",limit:9,displayKey:y,source:function(e,t,o){i.get(M+"?q="+e,function(e){o(e)})}});O()}function O(){i(".typeahead").on("typeahead:selected",D);i("#o-search .o-search-field").on("input",function(){if(i("#o-search .o-search-field.tt-input").val()&&i("#o-search").hasClass("o-search-false")){i("#o-search").removeClass("o-search-false");i("#o-search").addClass("o-search-true");N()}else if(!i("#o-search .o-search-field.tt-input").val()&&i("#o-search").hasClass("o-search-true")){i("#o-search").removeClass("o-search-true");i("#o-search").addClass("o-search-false")}})}function N(){i("#o-search-button-close").on("click",function(e){i(".typeahead").typeahead("val","");c.clear();n.removeOverlays();i("#o-search").removeClass("o-search-true");i("#o-search").addClass("o-search-false");i("#o-search .o-search-field.tt-input").val("");i("#o-search-button").blur();e.preventDefault()})}function F(e,t){var o;var i;var a;n.removeOverlays();o=l("#o-map");i=new r.Overlay({element:o.getEl()});d.addOverlay(i);i.setPosition(t);a=e[y];o.setContent({content:a,title:C});o.setVisibility(true);g.zoomToExent(new r.geom.Point(t),b)}function G(e,t,o){var r={};r.feature=e[0];r.title=t;r.content=o;c.identify([r],"overlay",h(e[0].getGeometry()));g.zoomToExent(e[0].getGeometry(),b)}function D(e,t){var o;var r;var i;var l;var s;if(S&&x){o=n.getLayer(t[S]);r=t[x];p(r,o).done(function(e){var r;var i;if(e.length>0){G(e,o.get("title"),u(e[0],o))}else if(_){r=a(t[_],I);i=r.getGeometry().getCoordinates();F(t,i)}})}else if(_&&P){i=a(t[_],I);o=n.getLayer(t[P]);G([i],o.get("title"),u(i,o))}else if(E&&T&&_){i=a(t[_],I);l=f.createElement("div",t[T]);G([i],t[E],l)}else if(_&&C){i=a(t[_],I);l=f.createElement("div",t[y]);G([i],C,l)}else if(v&&m&&C){s=[t[v],t[m]];F(t,s)}else{console.log("Search options are missing")}}t.exports.init=A},{"./featureinfo":116,"./geometry/getcenter":121,"./getattributes":123,"./getfeature":124,"./maputils":146,"./popup":153,"./utils":172,"./viewer":183,jquery:29,openlayers:30,"typeahead.js-browserify":100}],159:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./viewer");var n=e("./modal");var a=e("./mapmenu");var l=e("./utils");var s=e("./permalink/permalink");var p;function u(){var e=l.createListButton({id:"o-share",iconCls:"o-icon-fa-share-square-o",src:"#fa-share-square-o",text:"Dela karta"});r("#o-menutools").append(e);p=r("#o-share-button");c()}function c(){p.on("click",function(e){n.createModal("#o-map",{title:"Lnk till karta",content:g()});n.showModal();h();a.toggleMenu();e.preventDefault()})}function g(){return'<div class="o-share-link"><input type="text"></div>'+"<i>Kopiera och klistra in lnken fr att dela kartan.</i>"}function h(){var e=s.getPermalink();r(".o-share-link input").val(e).select()}t.exports.init=u},{"./mapmenu":145,"./modal":149,"./permalink/permalink":150,"./utils":172,"./viewer":183,jquery:29}],160:[function(e,t,o){"use strict";var r=e("jquery");var i=e("./viewer");var n=e("./utils");var a;function l(){var e='<div id="o-sidebar">'+'<div class="o-sidebar o-card">'+'<div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="#fa-times"></use></svg></div>'+'<div class="o-card-title"></div>'+'<div class="o-card-content"></div>'+"</div>"+"</div>";r("#o-map").append(e);a=r("#o-sidebar");s()}function s(){r("#o-sidebar .o-sidebar .o-close-button").on("click",function(e){g();e.preventDefault()})}function p(e){e==true?r("#o-sidebar").addClass("o-sidebar-show"):r("#o-sidebar").removeClass("o-sidebar-show")}function u(e){r("#o-sidebar .o-card-title").html(e)}function c(e){e.title?r("#o-sidebar .o-sidebar .o-card-title").html(e.title):r("#o-sidebar .o-sidebar .o-card-title").html("");e.content?r("#o-sidebar .o-sidebar .o-card-content").html(e.content):r("#o-sidebar .o-sidebar .o-card-content").html("")}function g(){p(false)}t.exports.init=l;t.exports.setVisibility=p;t.exports.setTitle=u;t.exports.setContent=c;t.exports.closeSidebar=g},{"./utils":172,"./viewer":183,jquery:29}],161:[function(require,module,exports){"use strict";var ol=require("openlayers");var $=require("jquery");var Viewer=require("./viewer");var validateUrl=require("./utils/validateurl");var baseUrl;var white=[255,255,255,1];var blue=[0,153,255,1];var width=3;var editStyleOptions={Point:[{circle:{radius:1,stroke:{color:blue,width:0},fill:{color:blue}}}],LineString:[{stroke:{color:white,width:width+2}},{stroke:{color:blue,width:width}}],Polygon:[{stroke:{color:white,width:width+2}},{stroke:{color:blue,width:width}}]};module.exports=function(){return{init:Init,createStyleOptions:createStyleOptions,createStyleList:createStyleList,createStyleRule:createStyleRule,createStyle:createStyle,styleFunction:styleFunction,createEditStyle:createEditStyle}};function Init(){baseUrl=Viewer.getBaseUrl()}function createStyleOptions(e){var t={};if(e.hasOwnProperty("geometry")){switch(e.geometry){case"centerPoint":t.geometry=function(e){var t=e.getGeometry().getInteriorPoints().getFirstCoordinate();return new ol.geom.Point(t)};case"endPoint":t.geometry=function(e){var t=e.getGeometry().getLastCoordinate();return new ol.geom.Point(t)};break}}if(e.hasOwnProperty("zIndex")){t.zIndex=e.zIndex}if(e.hasOwnProperty("fill")){t.fill=new ol.style.Fill(e.fill)}if(e.hasOwnProperty("stroke")){t.stroke=new ol.style.Stroke(e.stroke)}if(e.hasOwnProperty("text")){t.text=new ol.style.Text(e.text);if(e.text.hasOwnProperty("fill")){t.text.setFill(new ol.style.Fill(e.text.fill))}if(e.text.hasOwnProperty("stroke")){t.text.setStroke(new ol.style.Stroke(e.text.stroke))}}if(e.hasOwnProperty("icon")){if(e.icon.hasOwnProperty("src")){e.icon.src=validateUrl(e.icon.src,baseUrl)}t.image=new ol.style.Icon(e.icon)}if(e.hasOwnProperty("circle")){t.image=new ol.style.Circle({radius:e.circle.radius,fill:new ol.style.Fill(e.circle.fill)||undefined,stroke:new ol.style.Stroke(e.circle.stroke)||undefined})}return t}function createStyleList(e){var t=[];for(var o=0;o<e.length;o++){var r=[];var i;if(e[o].constructor===Array){for(var n=0;n<e[o].length;n++){i=createStyleOptions(e[o][n]);r.push(new ol.style.Style(i))}}else{i=createStyleOptions(e[o]);r=[new ol.style.Style(i)]}t.push(r)}return t}function createStyle(e,t){var o=Viewer.getStyleSettings()[e];if($.isEmptyObject(o)){alert("Style "+e+" is not defined")}var r=Viewer.getStyleSettings()[t];var i=function(){var e=createStyleList(o);if(r){var t=createStyleList(r);return styleFunction(o,e,r,t)}else{return styleFunction(o,e)}}();return i}function createStyleRule(e){var t=[],o;if(e.constructor===Array){for(var r=0;r<e.length;r++){var o=createStyleOptions(e[r]);t.push(new ol.style.Style(o))}}else{o=createStyleOptions(e);t=[new ol.style.Style(o)]}return t}function styleFunction(e,t,o,r){var i=e;var n=Viewer.getResolutions();var a=function(i,a){var l=Viewer.getScale(a);var s;var p=r?i.get("features").length:1;
if(p>1&&a!=n[n.length+1]){s=checkOptions(i,l,o,r,p.toString())}else{s=checkOptions(i,l,e,t)}return s};return a}function createEditStyle(){return{Point:createStyleRule(editStyleOptions["Point"]),MultiPoint:createStyleRule(editStyleOptions["Point"]),LineString:createStyleRule(editStyleOptions["LineString"]),MultiLineString:createStyleRule(editStyleOptions["LineString"]),Polygon:createStyleRule(editStyleOptions["Polygon"]),MultiPolygon:createStyleRule(editStyleOptions["Polygon"])}}function checkOptions(feature,scale,styleSettings,styleList,size){var s=styleSettings;for(var j=0;j<s.length;j++){var styleL;if(Viewer.checkScale(scale,s[j][0].maxScale,s[j][0].minScale)){s[j].some(function(e,t,o){if(e.hasOwnProperty("text")&&size){styleList[j][t].getText().setText(size)}});if(s[j][0].hasOwnProperty("filter")){var featAttr,expr,featMatch;var matches=s[j][0].filter.match(/\[(.*?)\]/);if(matches){featAttr=matches[1];expr=s[j][0].filter.split("]")[1];featMatch=feature.get(featAttr);expr=typeof featMatch=="number"?featMatch+expr:'"'+featMatch+'"'+expr}if(eval(expr)){styleL=styleList[j];return styleL}}else{styleL=styleList[j];return styleL}}}}},{"./utils/validateurl":182,"./viewer":183,jquery:29,openlayers:30}],162:[function(e,t,o){"use strict";var r={linestring:[{geometry:"endPoint",circle:{fill:{color:[0,153,255,1]},stroke:{color:[0,153,255,1],width:1},radius:3},text:{font:'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',textBaseline:"bottom",textAlign:"center",offsetY:-4,fill:{color:[0,153,255,1]},stroke:{color:[255,255,255,.8],width:4}}},{stroke:{color:[0,153,255,1],width:2}}],polygon:[{fill:{color:[255,255,255,.4]},stroke:{color:[0,153,255,1],width:2},text:{font:'bold 13px "Helvetica Neue", Helvetica, Arial, sans-serif',textBaseline:"middle",textAlign:"center",fill:{color:[0,153,255,1]},stroke:{color:[255,255,255,.8],width:4}}}],interaction:[{fill:{color:[255,255,255,.2]},stroke:{color:[0,0,0,.5],lineDash:[10,10],width:2},circle:{radius:5,stroke:{color:[0,0,0,.7]},fill:{color:[255,255,255,.2]}}}]};t.exports=r},{}],163:[function(e,t,o){"use strict";var r=[{icon:{anchor:[.5,32],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"img/png/drop_blue.png"}}];t.exports=r},{}],164:[function(e,t,o){"use strict";var r=e("openlayers");function i(e,t){if(e=="timeline"){var o=t.values;var i=t.colors;var a=t.step;var l=t.range;var s=t.attrName;var p=new r.style.Fill({color:""});var u=new r.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"});var c=new r.style.Style({fill:p,zIndex:1});var g=new r.style.Style({fill:p,stroke:u,zIndex:2});var h=[];var f=o?o[0]:undefined;var d=o?o[1]:undefined;var y=l?l[0]:undefined;var m=l?l[1]:undefined;var v=(m-y)/a;var _=i.length;var x=v/(_-1);return function(e,t){var o=0;var r=e.get(s);r=r<y?y:r;if(r>=f&&r<=d){var a=Math.floor((r-y)/x);var l=(r-y)%x;var c=n(i[a]);var m=n(i[a+1]);var v,_,S;v=c[0]+Math.floor((m[0]-c[0])*(l/x));_=c[1]+Math.floor((m[1]-c[1])*(l/x));S=c[2]+Math.floor((m[2]-c[2])*(l/x));u.setColor("rgba("+Math.round(.8*v)+","+Math.round(.8*_)+","+Math.round(.8*S)+",1)");u.setWidth(.7);p.setColor("rgba("+v+","+_+","+S+",1)");h[o++]=g}h.length=o;return h}}else if(e=="basemap_dark"){var p=new r.style.Fill({color:""});var u=new r.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"});var S=new r.style.Stroke({color:"",width:0});var P=new r.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"});var E=new r.style.Stroke({color:"",width:1,lineDash:[1,2]});var c=new r.style.Style({fill:p,zIndex:1});var g=new r.style.Style({fill:p,stroke:u,zIndex:2});var T=new r.style.Style({fill:p,stroke:E,zIndex:2});var b=new r.style.Style({stroke:u,zIndex:10});var M=new r.style.Style({stroke:P,zIndex:11});var C=new r.style.Style({stroke:E,zIndex:12});var R=new r.style.Style({text:new r.style.Text({text:"",fill:p,stroke:u}),zIndex:50});var w={};var h=[];return function(e,t){c.setZIndex(1);b.setZIndex(10);var o=0;var r=e.get("layer");var i=e.get("class");var n=e.get("type");var a=e.get("KKOD");if(a==undefined){a=e.get("DETALJTYP")}if(r=="by_fast"){a=e.get("ANDAMAL_1")}var l=e.get("detaljtyp");var s=e.get("DETALJTYP");var f=e.get("FUNKTION");var d=e.get("ANDAMAL_1");var y=e.get("klass");var m=e.get("scalerank");var v=e.get("labelrank");var _=e.get("admin_level");var x=e.get("maritime");var S=e.get("disputed");var P=e.get("maki");var M=e.getGeometry().getType();if(r=="my_vagk"||r=="my_over"||r=="my_fast"){switch(a){case 302:case 2:u.setColor("rgba(0,0,0,1)");u.setWidth(1);p.setColor("rgba(0,0,0,1)");break;case 303:u.setColor("rgba(0,0,0,1)");u.setWidth(1);p.setColor("rgba(0,0,0,1)");break;case 601:case 3:u.setColor("rgba(20,30,20,0.0)");u.setWidth(0);p.setColor("rgba(20,30,20,1)");break;case 611:case 7:u.setColor("rgba(9,9,0,0.0)");u.setWidth(0);p.setColor("rgba(18,18,0,1)");break;case 901:case 1:case"VATTEN":u.setColor("rgba(30,35,40,1)");u.setWidth(1);p.setColor("rgba(35,40,45,1)");h[o++]=g;break;case 911:case 4:case 5:case 6:case 13:p.setColor("rgba(9,9,9,0.6)");break;case"VATTEN":u.setColor("#18ADFB");u.setWidth(.1);p.setColor("rgba(150,199,212,0.6)");h[o++]=g;break;case"BEBYGG":case"BEBLG":case"BEBHG":case"BEBSLUT":p.setColor("rgba(245,215,165,0.6)");break;case"BEBIND":p.setColor("rgba(234,234,234,0.6)");break;case"ODLKER":case"ODLFRUKT":case"ODLEJK":p.setColor("rgba(255,255,214,0.6)");break;case"PMARK":p.setColor("rgba(255,255,220,0.6)");break;case"SKOGBARR":case"SKOGLV":p.setColor("rgba(205,215,175,0.6)");break;case"PTORG":p.setColor("rgba(255,255,220,0.6)");break;case"SKOGFBJ":case"MRKO":case"MRKVR":case"PKFJLL":case"PGLAC":default:p.setColor("rgba(255,255,255,1)");break}}else if(r=="_my_kd"){switch(s){case"BANA.Y":case"IDROTT.Y":p.setColor("rgba(255,255,214,0.6)");h[o++]=c;break;case"BOSOMR.Y":p.setColor("rgba(245,215,165,0.6)");h[o++]=c;break;case"BCK.Y":case"DIKE.Y":case"SJ.Y":case"VATTEN.Y":case"LV.Y":u.setColor("#18ADFB");u.setWidth(.1);p.setColor("rgba(150,199,212,0.6)");h[o++]=g;break;case"GGATA.Y":case"INDOMR.Y":case"JRNVOMR.Y":p.setColor("rgba(234,234,234,0.6)");h[o++]=c;break;case"MARK.Y":case"NPARK.Y":case"PARK.Y":case"PARKER.Y":case"SKOG.Y":p.setColor("rgba(205,215,175,0.6)");h[o++]=c;break;case"BUSSGATA.Y":case"MARK.Y":p.setColor("rgba(255,255,220,0.6)");h[o++]=c;break;default:p.setColor("rgba(255,255,220,0.6)");h[o++]=c;break}}else if(r=="_ms_fast"){switch(s){case"SANK":u.setColor("#18ADFB");u.setWidth(.2);p.setColor("rgba(230,205,175,0.5)");h[o++]=g;break;case"SANKSV":u.setColor("#18ADFB");u.setWidth(.2);p.setColor("rgba(150,200,210,0.5)");h[o++]=g;break;case"SANKBLE":default:u.setColor("#18ADFB");u.setWidth(.2);p.setColor("rgba(120,120,190,0.5)");h[o++]=g;break}}else if(r=="ba_fast"){switch(f){case"Bandyplan":case"Fotbollsplan":case"Galoppbana":case"Idrottsplats":case"Idrottsplan, ospecificerat":case"Ishockeybana":case"Tennisbana":case"Travbana":E.setColor("rgba(75,80,65,0.7)");E.setWidth(1.5);E.setLineDash([8,3]);E.setLineCap("square");p.setColor("rgba(75,80,65,0.6)");h[o++]=T;break;case"Golfbana":case"Motionsanlggning":case"Motorbana":case"vrigt":case"Avfallsanlggning":case"Begravningsplats":case"Bilskrotningsanlggning":case"Campingplats":case"Djurpark":case"Flygflt":case"Flygplats":case"Koloniomrde":case"Skjutbana":case"tervinningsanlggning":default:E.setColor("rgba(120,120,120,1)");E.setWidth(1.5);E.setLineDash([15,5]);E.setLineCap("square");p.setColor("rgba(75,80,65,0.61)");h[o++]=C;break}}else if(r=="by_vagk"||r=="by_fast"){switch(a){case 690:p.setColor("rgba(20,20,20,1.0)");c.setZIndex(25);if(t<15){h[o++]=c}break;case 729:p.setColor("rgba(100,100,100,1.0)");c.setZIndex(25);h[o++]=c;break;case 130:case 131:case 132:case 133:case 135:case 199:u.setColor("rgba(25,25,25,1.0)");u.setWidth(.5);p.setColor("rgba(125,125,125,1.0)");if(t<3){h[o++]=g}break;case 301:case 302:case 303:case 304:case 305:case 306:case 307:case 308:case 309:case 310:case 311:case 312:case 313:case 314:case 315:case 316:case 317:case 318:case 319:case 320:case 321:case 322:case 324:case 399:u.setColor("rgba(25,10,10,1.0)");u.setWidth(.4);p.setColor("rgba(55,15,15,1.0)");if(t<7.5){h[o++]=g}break;case 699:u.setColor("rgba(25,25,25,1.0)");u.setWidth(.4);p.setColor("rgba(175,175,175,1.0)");if(t<1){h[o++]=g}break;case 499:case 599:case 799:u.setColor("rgba(25,25,25,1.0)");u.setWidth(.4);p.setColor("rgba(80,80,80,1.0)");if(t<5){h[o++]=g}break;case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:case 248:case 249:case 250:case 251:case 252:case 299:default:u.setColor("rgba(20,20,20,1.0)");u.setWidth(.4);p.setColor("rgba(20,20,20,1.0)");if(t<5){h[o++]=g}break}}else if(r=="hl_vagk"||r=="hl_over"||r=="hl_fast"){switch(a){default:u.setColor("rgba(35,40,45,0.71)");u.setWidth(.8);b.setZIndex(8);h[o++]=b;break}}else if(r=="jl_vagk"||r=="jl_fast"){switch(a){case"JVGR1.M":case"JVGR2.M":case"JVGU.M":case"JVG.M":case"JVGBY.M":case"JVGU.M":case 270:case 271:case 272:case 273:case 291:case 292:case 293:u.setColor("rgba(80,80,80,1.0)");u.setWidth(2);if(t>50){u.setWidth(1.25)}h[o++]=b;E.setColor("rgba(150,150,150,1.0)");E.setWidth(1.4);E.setLineDash([4,10]);if(t>50){E.setWidth(.9);E.setLineDash([3,6])}E.setLineCap("square");h[o++]=C;break;case 274:case 275:case 276:case 279:case 294:case 295:case 296:case 299:default:u.setColor("rgba(80,80,80,1.0)");u.setWidth(1);h[o++]=b;E.setColor("rgba(130,130,130,1.0)");E.setWidth(.7);E.setLineDash([2,5]);E.setLineCap("square");if(t<10){h[o++]=C}break}}else if(r=="vl_fast"){switch(s){case"VAGMO.D":case"VAGMOU.D":u.setColor("rgba(175,175,175,1.0)");u.setWidth(3+5/t);h[o++]=b;break;break;case"VAGKV.M":case"VAGBN.M":case"VAGBNU.M":u.setColor("rgba(90,90,90,1.0)");u.setWidth(.8);if(t<5){u.setWidth(3)}if(t<2){u.setWidth(5)}if(t<1){u.setWidth(10)}u.setWidth(.5+3.5/t);h[o++]=b;break;case"VAGBS.M":case"VAGBSU.M":E.setColor("rgba(90,90,90,1.0)");E.setWidth(1.2);E.setLineDash([12,5]);if(t<15){h[o++]=C}break;case"FRJELED":case"VGA1.M":case"VGA1U.M":case"VGA2.M":case"VGA2U.M":case"VGA3.M":case"VGA3U.M":case"VGAS.D":case"VGASU.D":case"VGGG.D":case"VGGG.M":case"VGGGU.D":case"VGGGU.M":case"VGA0BY.M":default:u.setColor("rgba(175,175,175,1.0)");u.setWidth(3);if(t<2){u.setWidth(4.5)}if(t<1){u.setWidth(7.5)}u.setWidth(1.5+3.5/t);h[o++]=b;break}}else if(r=="vagkant_kd_"){switch(s){case"BRO.K":case"BRYGGA.K":case"KRBANA.K":case"KRBKST.K":case"REFUG.K":case"TUNNEL.K":u.setColor("rgba(50,50,50,1.0)");u.setWidth(.5);h[o++]=b;break}}else if(r=="vl_vagk"||r=="_vl_fast"){switch(a){case 5011:case 5016:case 5811:case 5816:u.setColor("rgba(150,150,150,1.0)");u.setWidth(2);h[o++]=b;break;case 5012:case 5017:case 5812:case 5817:u.setColor("rgba(150,150,150,1.0)");u.setWidth(2);h[o++]=b;break;case 5014:case 5018:case 5021:case 5022:case 5821:case 5822:u.setColor("rgba(120,120,120,1.0)");u.setWidth(1.3);h[o++]=b;break;case 5024:case 5025:case 5824:case 5825:case 5028:case 5029:case 5828:case 5829:case 5033:case 5036:case 5833:case 5836:u.setColor("rgba(120,120,120,1.0)");u.setWidth(1);h[o++]=b;break;case 5040:case 5045:case 5840:case 5845:u.setColor("rgba(80,80,80,1.0)");u.setWidth(.7);if(t<10){h[o++]=b}break;case 5061:case 5861:case 5071:case 5871:case 5091:case 5891:u.setColor("rgba(80,80,80,1.0)");u.setWidth(1);h[o++]=b;break;case 5082:case 5882:E.setColor("rgba(80,80,80,1.0)");E.setWidth(.7);E.setLineDash([12,5]);if(t<15){h[o++]=C}break;default:u.setColor("rgba(175,175,175,1.0)");u.setWidth(3);if(t<2){u.setWidth(4.5)}if(t<1){u.setWidth(7.5)}break}}else if(r=="vl_over"){switch(a){case 5011:case 5012:case 5013:case 5021:case 5022:case 5023:case 5031:case 5032:case 5033:u.setColor("rgba(150,150,150,1.0)");u.setWidth(1.5);if(t>75){u.setWidth(1.25)}h[o++]=b;break;case 5111:case 5112:case 5113:case 5121:case 5122:case 5123:case 5131:case 5132:case 5133:u.setColor("rgba(150,150,150,1.0)");u.setWidth(1.5);if(t>75){u.setWidth(1.25)}h[o++]=b;break;case 5211:case 5212:case 5213:case 5221:case 5222:case 5223:case 5225:case 5231:case 5232:case 5233:case 5235:u.setColor("rgba(120,120,120,1.0)");u.setWidth(1.3);if(t>75){u.setWidth(1)}h[o++]=b;break;case 5311:case 5312:case 5313:case 5321:case 5322:case 5323:case 5325:case 5331:case 5332:case 5333:case 5334:case 5335:case 5411:case 5412:case 5413:case 5421:case 5422:case 5423:case 5425:case 5431:case 5432:case 5433:case 5435:u.setColor("rgba(90,90,90,1.0)");u.setWidth(.9);if(t>75){u.setWidth(.6)}h[o++]=b;break;case 5551:case 5552:case 5553:case 5555:u.setColor("rgba(80,80,80,1.0)");u.setWidth(.6);if(t<75){h[o++]=b}break}}else if(r=="vo_fast"){switch(s){case"VGCYK.M":case"OVAGCYK.M":E.setColor("rgba(200,100,100,0.75)");E.setWidth(.75);E.setLineDash([6,4]);if(t<5){h[o++]=C}break;case"VGELS.M":case"OVAGELS.M":u.setColor("rgba(180,180,120,0.75)");u.setWidth(1);if(t<5){h[o++]=b}break;case"VGSTI.M":case"OVAGSTI.M":E.setColor("rgba(175,175,175,1.0)");E.setWidth(1);E.setLineDash([1,5]);if(t<15){h[o++]=C}break;case"VGTRA.M":case"OVAGTRA.M":case"VGUND.M":case"OVAGUND.M":case"GNGBRO.M":case"GANGBRO.M":case"VANDLED":E.setColor("rgba(175,175,175,1.0)");E.setWidth(.75);E.setLineDash([8,4]);if(t<15){h[o++]=C}break}}else if(r=="vo_vagk"){switch(a){case 264:case 289:case 332:E.setColor("rgba(100,100,100,1.0)");E.setWidth(.6);E.setLineDash([8,4]);if(t<15){h[o++]=C}break;case 265:case 268:case 336:E.setColor("rgba(100,100,100,1.0)");E.setWidth(.8);E.setLineDash([8,4]);if(t<15){h[o++]=C}break}}h.length=o;return h}}else if(e=="basemap_grey"){var p=new r.style.Fill({color:""});var u=new r.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"});var S=new r.style.Stroke({color:"",width:0});var P=new r.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"});var E=new r.style.Stroke({color:"",width:1,lineDash:[1,2]});var c=new r.style.Style({fill:p,zIndex:1});var g=new r.style.Style({fill:p,stroke:u,zIndex:2});var T=new r.style.Style({fill:p,stroke:E,zIndex:2});var b=new r.style.Style({stroke:u,zIndex:10});var M=new r.style.Style({stroke:P,zIndex:11});var C=new r.style.Style({stroke:E,zIndex:12});var R=new r.style.Style({text:new r.style.Text({text:"",fill:p,stroke:u}),zIndex:50});var w={};var h=[];return function(e,t){c.setZIndex(1);b.setZIndex(10);var o=0;var r=e.get("layer");var i=e.get("class");var n=e.get("type");var a=e.get("KKOD");if(a==undefined){a=e.get("DETALJTYP")}if(r=="by_fast"){a=e.get("ANDAMAL_1")}var l=e.get("detaljtyp");var s=e.get("DETALJTYP");var f=e.get("FUNKTION");var d=e.get("ANDAMAL_1");var y=e.get("klass");var m=e.get("scalerank");var v=e.get("labelrank");var _=e.get("admin_level");var x=e.get("maritime");var S=e.get("disputed");var P=e.get("maki");var M=e.getGeometry().getType();if(r=="my_vagk"||r=="my_over"||r=="my_fast"){switch(a){case 302:case 2:u.setColor("rgba(0,0,0,1)");u.setWidth(1);p.setColor("rgba(0,0,0,1)");break;case 303:u.setColor("rgba(0,0,0,1)");u.setWidth(1);p.setColor("rgba(0,0,0,1)");break;case 601:case 3:u.setColor("rgba(20,30,20,0.0)");u.setWidth(0);p.setColor("rgba(20,30,20,1)");break;case 611:case 7:u.setColor("rgba(9,9,0,0.0)");u.setWidth(0);p.setColor("rgba(18,18,0,1)");break;case 901:case 1:case"VATTEN":u.setColor("rgba(30,35,40,1)");u.setWidth(1);p.setColor("rgba(35,40,45,1)");h[o++]=g;break;case 911:case 4:case 5:case 6:case 13:p.setColor("rgba(9,9,9,0.6)");break;case"VATTEN":u.setColor("#18ADFB");u.setWidth(.1);p.setColor("rgba(150,199,212,0.6)");h[o++]=g;break;case"BEBYGG":case"BEBLG":case"BEBHG":case"BEBSLUT":p.setColor("rgba(245,215,165,0.6)");break;case"BEBIND":p.setColor("rgba(234,234,234,0.6)");break;case"ODLKER":case"ODLFRUKT":case"ODLEJK":p.setColor("rgba(255,255,214,0.6)");break;case"PMARK":p.setColor("rgba(255,255,220,0.6)");break;case"SKOGBARR":case"SKOGLV":p.setColor("rgba(205,215,175,0.6)");break;case"PTORG":p.setColor("rgba(255,255,220,0.6)");break;case"SKOGFBJ":case"MRKO":case"MRKVR":case"PKFJLL":case"PGLAC":default:p.setColor("rgba(255,255,255,1)");break}}else if(r=="_my_kd"){switch(s){case"BANA.Y":case"IDROTT.Y":p.setColor("rgba(255,255,214,0.6)");h[o++]=c;break;case"BOSOMR.Y":p.setColor("rgba(245,215,165,0.6)");h[o++]=c;break;case"BCK.Y":case"DIKE.Y":case"SJ.Y":case"VATTEN.Y":case"LV.Y":u.setColor("#18ADFB");u.setWidth(.1);p.setColor("rgba(150,199,212,0.6)");h[o++]=g;break;case"GGATA.Y":case"INDOMR.Y":case"JRNVOMR.Y":p.setColor("rgba(234,234,234,0.6)");h[o++]=c;break;case"MARK.Y":case"NPARK.Y":case"PARK.Y":case"PARKER.Y":case"SKOG.Y":p.setColor("rgba(205,215,175,0.6)");h[o++]=c;break;case"BUSSGATA.Y":case"MARK.Y":p.setColor("rgba(255,255,220,0.6)");h[o++]=c;break;default:p.setColor("rgba(255,255,220,0.6)");h[o++]=c;break}}else if(r=="_ms_fast"){switch(s){case"SANK":u.setColor("#18ADFB");u.setWidth(.2);p.setColor("rgba(230,205,175,0.5)");h[o++]=g;break;case"SANKSV":u.setColor("#18ADFB");u.setWidth(.2);p.setColor("rgba(150,200,210,0.5)");h[o++]=g;break;case"SANKBLE":default:u.setColor("#18ADFB");u.setWidth(.2);p.setColor("rgba(120,120,190,0.5)");h[o++]=g;break}}else if(r=="ba_fast"){switch(f){case"Bandyplan":case"Fotbollsplan":case"Galoppbana":case"Idrottsplats":case"Idrottsplan, ospecificerat":case"Ishockeybana":case"Tennisbana":case"Travbana":E.setColor("rgba(75,80,65,0.7)");E.setWidth(1.5);E.setLineDash([8,3]);E.setLineCap("square");p.setColor("rgba(75,80,65,0.6)");h[o++]=T;break;case"Golfbana":case"Motionsanlggning":case"Motorbana":case"vrigt":case"Avfallsanlggning":case"Begravningsplats":case"Bilskrotningsanlggning":case"Campingplats":case"Djurpark":case"Flygflt":case"Flygplats":case"Koloniomrde":case"Skjutbana":case"tervinningsanlggning":default:E.setColor("rgba(120,120,120,1)");E.setWidth(1.5);E.setLineDash([15,5]);E.setLineCap("square");p.setColor("rgba(75,80,65,0.61)");h[o++]=C;break}}else if(r=="by_vagk"||r=="by_fast"){switch(a){default:u.setColor("rgba(50,50,50,1.0)");u.setWidth(.4);p.setColor("rgba(180,180,180,1.0)");if(t<5){h[o++]=g}break}}else if(r=="hl_vagk"||r=="hl_over"||r=="hl_fast"){switch(a){default:u.setColor("rgba(35,40,45,0.71)");u.setWidth(.8);b.setZIndex(8);h[o++]=b;break}}else if(r=="jl_vagk"||r=="jl_fast"){switch(a){case"JVGR1.M":case"JVGR2.M":case"JVGU.M":case"JVG.M":case"JVGBY.M":case"JVGU.M":case 270:case 271:case 272:case 273:case 291:case 292:case 293:u.setColor("rgba(80,80,80,1.0)");u.setWidth(2);if(t>50){u.setWidth(1.25)}h[o++]=b;E.setColor("rgba(150,150,150,1.0)");E.setWidth(1.4);E.setLineDash([4,10]);if(t>50){E.setWidth(.9);E.setLineDash([3,6])}E.setLineCap("square");h[o++]=C;break;case 274:case 275:case 276:case 279:case 294:case 295:case 296:case 299:default:u.setColor("rgba(80,80,80,1.0)");u.setWidth(1);h[o++]=b;E.setColor("rgba(130,130,130,1.0)");E.setWidth(.7);E.setLineDash([2,5]);E.setLineCap("square");if(t<10){h[o++]=C}break}}else if(r=="vl_fast"){u.setColor("rgba(150,150,150,1.0)");switch(s){case"VAGMO.D":case"VAGMOU.D":u.setWidth(3+5/t);h[o++]=b;break;break;case"VAGKV.M":case"VAGBN.M":case"VAGBNU.M":u.setWidth(.8);if(t<5){u.setWidth(3)}if(t<2){u.setWidth(5)}if(t<1){u.setWidth(10)}u.setWidth(.5+3.5/t);h[o++]=b;break;case"VAGBS.M":case"VAGBSU.M":E.setColor("rgba(150,150,150,1.0)");E.setWidth(1.2);E.setLineDash([12,5]);if(t<15){h[o++]=C}break;case"FRJELED":case"VGA1.M":case"VGA1U.M":case"VGA2.M":case"VGA2U.M":case"VGA3.M":case"VGA3U.M":case"VGAS.D":case"VGASU.D":case"VGGG.D":case"VGGG.M":case"VGGGU.D":case"VGGGU.M":case"VGA0BY.M":default:u.setWidth(3);if(t<2){u.setWidth(4.5)}if(t<1){u.setWidth(7.5)}u.setWidth(1.5+3.5/t);h[o++]=b;break}}else if(r=="vl_vagk"||r=="_vl_fast"){u.setColor("rgba(150,150,150,1.0)");switch(a){case 5011:case 5016:case 5811:case 5816:u.setWidth(2);h[o++]=b;break;case 5012:case 5017:case 5812:case 5817:u.setWidth(2);h[o++]=b;break;case 5014:case 5018:case 5021:case 5022:case 5821:case 5822:u.setWidth(1.3);h[o++]=b;break;case 5024:case 5025:case 5824:case 5825:case 5028:case 5029:case 5828:case 5829:case 5033:case 5036:case 5833:case 5836:u.setWidth(1);h[o++]=b;break;case 5040:case 5045:case 5840:case 5845:u.setWidth(.7);if(t<10){h[o++]=b}break;case 5061:case 5861:case 5071:case 5871:case 5091:case 5891:u.setWidth(1);h[o++]=b;break;case 5082:case 5882:E.setColor("rgba(150,150,150,1.0)");E.setWidth(.7);E.setLineDash([12,5]);if(t<15){h[o++]=C}break;default:u.setWidth(3);if(t<2){u.setWidth(4.5)}if(t<1){u.setWidth(7.5)}break}}else if(r=="vl_over"){switch(a){case 5011:case 5012:case 5013:case 5021:case 5022:case 5023:case 5031:case 5032:case 5033:u.setColor("rgba(150,150,150,1.0)");u.setWidth(1.5);if(t>75){u.setWidth(1.25)}h[o++]=b;break;case 5111:case 5112:case 5113:case 5121:case 5122:case 5123:case 5131:case 5132:case 5133:u.setColor("rgba(150,150,150,1.0)");u.setWidth(1.5);if(t>75){u.setWidth(1.25)}h[o++]=b;break;case 5211:case 5212:case 5213:case 5221:case 5222:case 5223:case 5225:case 5231:case 5232:case 5233:case 5235:u.setColor("rgba(150,150,150,1.0)");u.setWidth(1.3);if(t>75){u.setWidth(1)}h[o++]=b;break;case 5311:case 5312:case 5313:case 5321:case 5322:case 5323:case 5325:case 5331:case 5332:case 5333:case 5334:case 5335:case 5411:case 5412:case 5413:case 5421:case 5422:case 5423:case 5425:case 5431:case 5432:case 5433:case 5435:u.setColor("rgba(150,150,150,1.0)");u.setWidth(.9);if(t>75){u.setWidth(.6)}h[o++]=b;break;case 5551:case 5552:case 5553:case 5555:u.setColor("rgba(150,150,150,1.0)");u.setWidth(.6);if(t<75){h[o++]=b}break}}else if(r=="vo_fast"){switch(s){case"VGCYK.M":case"OVAGCYK.M":E.setColor("rgba(150,150,150,0.75)");E.setWidth(.75);E.setLineDash([6,4]);if(t<5){h[o++]=C}break;case"VGELS.M":case"OVAGELS.M":u.setColor("rgba(150,150,150,1.0)");u.setWidth(1);if(t<5){h[o++]=b}break;case"VGSTI.M":case"OVAGSTI.M":E.setColor("rgba(150,150,150,1.0)");E.setWidth(1);E.setLineDash([1,5]);if(t<15){h[o++]=C}break;case"VGTRA.M":case"OVAGTRA.M":case"VGUND.M":case"OVAGUND.M":case"GNGBRO.M":case"GANGBRO.M":case"VANDLED":E.setColor("rgba(150,150,150,1.0)");E.setWidth(.75);E.setLineDash([8,4]);if(t<15){h[o++]=C}break}}else if(r=="vo_vagk"){switch(a){case 264:case 289:case 332:E.setColor("rgba(150,150,150,1.0)");E.setWidth(.6);E.setLineDash([8,4]);if(t<15){h[o++]=C}break;case 265:case 268:case 336:E.setColor("rgba(150,150,150,1.0)");E.setWidth(.8);E.setLineDash([8,4]);if(t<15){h[o++]=C}break}}h.length=o;return h}}if(e=="basemap_bright"){var p=new r.style.Fill({color:""});var u=new r.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"});var P=new r.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"});var E=new r.style.Stroke({color:"",width:1,lineDash:[1,2]});var c=new r.style.Style({fill:p,zIndex:1});var g=new r.style.Style({fill:p,stroke:u,zIndex:2});var T=new r.style.Style({fill:p,stroke:E,zIndex:2});var b=new r.style.Style({stroke:u,zIndex:10});var M=new r.style.Style({stroke:P,zIndex:11});var C=new r.style.Style({stroke:E,zIndex:12});var R=new r.style.Style({text:new r.style.Text({text:"",fill:p,stroke:u}),zIndex:50});var w={};var h=[];return function(e,t){c.setZIndex(1);var o=0;var r=e.get("layer");var i=e.get("class");var n=e.get("type");var a=e.get("KKOD");if(a==undefined){a=e.get("DETALJTYP")}if(r=="by_fast"){a=e.get("ANDAMAL_1")}var l=e.get("detaljtyp");var s=e.get("DETALJTYP");var f=e.get("FUNKTION");var d=e.get("ANDAMAL_1");var y=e.get("klass");var m=e.get("scalerank");var v=e.get("labelrank");var _=e.get("admin_level");var x=e.get("maritime");var S=e.get("disputed");var R=e.get("maki");var w=e.getGeometry().getType();if(r=="my_vagk"||r=="my_over"||r=="my_fast"){switch(a){case 302:case 2:p.setColor("rgba(245,215,165,0.6)");h[o++]=c;break;case 303:p.setColor("rgba(245,215,165,0.6)");h[o++]=c;break;case 601:case 3:p.setColor("rgba(205,215,175,0.6)");h[o++]=c;break;case 611:case 7:p.setColor("rgba(255,255,214,0.6)");h[o++]=c;break;case 901:case 1:u.setColor("#18ADFB");u.setWidth(.1);p.setColor("rgba(150,199,212,0.6)");h[o++]=g;break;case 911:case 4:case 5:case 6:case 13:p.setColor("rgba(180,215,155,0.6)");h[o++]=c;break;case"VATTEN":u.setColor("#18ADFB");u.setWidth(.1);p.setColor("rgba(150,199,212,0.6)");h[o++]=g;break;case"BEBYGG":case"BEBLG":case"BEBHG":case"BEBSLUT":p.setColor("rgba(245,215,165,0.6)");h[o++]=c;break;case"BEBIND":p.setColor("rgba(234,234,234,0.6)");h[o++]=c;break;case"ODLKER":case"ODLFRUKT":case"ODLEJK":p.setColor("rgba(255,255,214,0.6)");h[o++]=c;break;case"PMARK":p.setColor("rgba(255,255,220,0.6)");h[o++]=c;break;case"SKOGBARR":case"SKOGLV":p.setColor("rgba(205,215,175,0.6)");h[o++]=c;break;case"PTORG":p.setColor("rgba(255,255,220,0.6)");h[o++]=c;break;case"SKOGFBJ":case"MRKO":case"MRKVR":case"PKFJLL":case"PGLAC":default:p.setColor("rgba(255,255,255,1)");h[o++]=c;break}}else if(r=="_my_kd"){switch(s){case"BANA.Y":case"IDROTT.Y":p.setColor("rgba(255,255,214,0.6)");h[o++]=c;break;case"BOSOMR.Y":p.setColor("rgba(245,215,165,0.6)");h[o++]=c;break;case"BCK.Y":case"DIKE.Y":case"SJ.Y":case"VATTEN.Y":case"LV.Y":u.setColor("#18ADFB");u.setWidth(.1);p.setColor("rgba(150,199,212,0.6)");h[o++]=g;break;case"GGATA.Y":case"INDOMR.Y":case"JRNVOMR.Y":p.setColor("rgba(234,234,234,0.6)");h[o++]=c;break;case"MARK.Y":case"NPARK.Y":case"PARK.Y":case"PARKER.Y":case"SKOG.Y":p.setColor("rgba(205,215,175,0.6)");h[o++]=c;break;case"BUSSGATA.Y":case"MARK.Y":p.setColor("rgba(255,255,220,0.6)");h[o++]=c;break;default:p.setColor("rgba(255,255,220,0.6)");h[o++]=c;break}}else if(r=="ms_fast"){switch(s){case"SANK":u.setColor("#18ADFB");u.setWidth(.2);p.setColor("rgba(230,205,175,0.5)");h[o++]=g;break;case"SANKSV":u.setColor("#18ADFB");u.setWidth(.2);p.setColor("rgba(150,200,210,0.5)");h[o++]=g;break;case"SANKBLE":default:u.setColor("#18ADFB");u.setWidth(.2);p.setColor("rgba(120,120,190,0.5)");h[o++]=g;break}}else if(r=="ba_fast"){switch(f){case"Bandyplan":case"Fotbollsplan":case"Galoppbana":case"Idrottsplats":case"Idrottsplan, ospecificerat":case"Ishockeybana":case"Tennisbana":case"Travbana":E.setColor("rgba(120,120,120,1)");E.setWidth(1);E.setLineDash([15,5]);E.setLineCap("square");p.setColor("rgba(205,215,175,0.6)");h[o++]=T;break;case"Golfbana":case"Motionsanlggning":case"Motorbana":case"vrigt":case"Avfallsanlggning":case"Begravningsplats":case"Bilskrotningsanlggning":case"Campingplats":case"Djurpark":case"Flygflt":case"Flygplats":case"Koloniomrde":case"Skjutbana":case"tervinningsanlggning":E.setColor("rgba(120,120,120,1)");E.setWidth(1);E.setLineDash([15,5]);E.setLineCap("square");p.setColor("rgba(205,215,175,0.6)");h[o++]=C;break}}else if(r=="by_vagk"||r=="by_fast"){switch(a){case 690:p.setColor("rgba(150,150,150,1.0)");c.setZIndex(25);h[o++]=c;break;case 729:p.setColor("rgba(200,200,200,1.0)");c.setZIndex(25);h[o++]=c;break;case 130:case 131:case 132:case 133:case 135:case 199:u.setColor("rgba(150,150,150,1.0)");u.setWidth(.5);p.setColor("rgba(225,200,165,1.0)");if(t<5){h[o++]=g}break;case 301:case 302:case 303:case 304:case 305:case 306:case 307:case 308:case 309:case 310:case 311:case 312:case 313:case 314:case 315:case 316:case 317:case 318:case 319:case 320:case 321:case 322:case 324:case 399:u.setColor("rgba(120,60,60,1.0)");u.setWidth(.4);p.setColor("rgba(240,120,120,1.0)");if(t<10){h[o++]=g}break;case 699:u.setColor("rgba(150,150,150,1.0)");u.setWidth(.4);p.setColor("rgba(200,200,200,1.0)");if(t<2){h[o++]=g}break;case 499:case 599:case 799:u.setColor("rgba(150,150,150,1.0)");u.setWidth(.4);p.setColor("rgba(200,200,200,1.0)");if(t<5){h[o++]=g}break;case 240:case 241:case 242:case 243:case 244:case 245:case 246:case 247:case 248:case 249:case 250:case 251:case 252:case 299:default:u.setColor("rgba(60,60,60,1.0)");u.setWidth(.4);p.setColor("rgba(160,160,160,1.0)");if(t<5){h[o++]=g}break}}else if(r=="hl_vagk"||r=="hl_over"||r=="hl_fast"){switch(a){default:u.setColor("rgba(150,200,210,1.0)");u.setWidth(1);h[o++]=b;break}}else if(r=="jl_vagk"||r=="jl_fast"){switch(a){case"JVGR1.M":case"JVGR2.M":case"JVGU.M":case"JVG.M":case"JVGBY.M":case"JVGU.M":case 270:case 271:case 272:case 273:case 291:case 292:case 293:u.setColor("rgba(120,120,120,1.0)");u.setWidth(2);h[o++]=b;E.setColor("rgba(255,255,255,1.0)");E.setWidth(1.6);E.setLineDash([4,10]);E.setLineCap("square");h[o++]=C;break;case 274:case 275:case 276:case 279:case 294:case 295:case 296:case 299:default:u.setColor("rgba(120,120,120,1.0)");u.setWidth(1);h[o++]=b;E.setColor("rgba(255,255,255,1.0)");E.setWidth(.8);E.setLineDash([2,5]);E.setLineCap("square");h[o++]=C;break}}else if(r=="vl_fast"){switch(s){case"VGMO.D":case"VGMOU.D":case"VAGMO.D":case"VAGMOU.D":u.setColor("rgba(220,120,20,1.0)");u.setWidth(3+5/t);h[o++]=b;break;case"VGKV.M":case"VGBN.M":case"VGBNU.M":case"VAGKV.M":case"VAGBN.M":case"VAGBNU.M":u.setColor("rgba(150,150,150,1.0)");u.setWidth(.8);if(t<5){u.setWidth(3)}if(t<2){u.setWidth(5)}if(t<1){u.setWidth(10)}h[o++]=b;if(t<5){P.setColor("rgba(230,230,230,1.0)");P.setWidth(2);if(t<2){P.setWidth(4)}if(t<1){P.setWidth(9)}h[o++]=M}break;case"VGBS.M":case"VGBSU.M":case"VAGBS.M":case"VAGBSU.M":E.setColor("rgba(220,120,20,1.0)");E.setWidth(1.2);E.setLineDash([12,5]);if(t<15){h[o++]=C}break;case"FRJELED":case"VGA1.M":case"VGA1U.M":case"VGA2.M":case"VGA2U.M":case"VGA3.M":case"VGA3U.M":case"VGAS.D":case"VGASU.D":case"VGGG.D":case"VGGG.M":case"VGGGU.D":case"VGGGU.M":case"VGA0BY.M":default:u.setColor("rgba(220,120,20,1.0)");u.setWidth(3);if(t<2){u.setWidth(4.5)}if(t<1){u.setWidth(7.5)}h[o++]=b;break}}else if(r=="vagkant_kd_"){switch(s){case"BRO.K":case"BRYGGA.K":case"KRBANA.K":case"KRBKST.K":case"REFUG.K":case"TUNNEL.K":u.setColor("rgba(50,50,50,1.0)");u.setWidth(.5);h[o++]=b;break}}else if(r=="vl_vagk"||r=="vl_fast"){switch(a){case 5011:case 5016:case 5811:case 5816:u.setColor("rgba(220,120,20,1.0)");u.setWidth(4);h[o++]=b;break;case 5012:case 5017:case 5812:case 5817:case 5014:case 5018:case 5021:case 5022:case 5821:case 5822:u.setColor("rgba(220,120,20,1.0)");u.setWidth(2.5);h[o++]=b;break;case 5024:case 5025:case 5824:case 5825:case 5028:case 5029:case 5828:case 5829:case 5033:case 5036:case 5833:case 5836:u.setColor("rgba(220,120,20,1.0)");u.setWidth(1.8);h[o++]=b;break;case 5040:case 5045:case 5840:case 5845:u.setColor("rgba(150,150,150,1.0)");u.setWidth(.8);h[o++]=b;break;case 5061:case 5861:case 5071:case 5871:case 5091:case 5891:u.setColor("rgba(220,120,20,1.0)");u.setWidth(1.2);h[o++]=b;break;case 5082:case 5882:E.setColor("rgba(220,120,20,1.0)");E.setWidth(1.2);E.setLineDash([12,5]);if(t<15){h[o++]=C}break;case"VGMO.D":case"VGMOU.D":u.setColor("rgba(220,120,20,1.0)");u.setWidth(5);if(t<2){u.setWidth(7.5)}if(t<1){u.setWidth(12.5)}h[o++]=b;break;case"VGKV.M":case"VGBN.M":case"VGBNU.M":u.setColor("rgba(150,150,150,1.0)");u.setWidth(.8);if(t<5){u.setWidth(3)}if(t<2){u.setWidth(5)}if(t<1){u.setWidth(10)}h[o++]=b;if(t<5){P.setColor("rgba(230,230,230,1.0)");P.setWidth(2);if(t<2){P.setWidth(4)}if(t<1){P.setWidth(9)}h[o++]=M}break;case"VGBS.M":case"VGBSU.M":E.setColor("rgba(220,120,20,1.0)");E.setWidth(1.2);E.setLineDash([12,5]);if(t<15){h[o++]=C}break;case"FRJELED":case"VGA1.M":case"VGA1U.M":case"VGA2.M":case"VGA2U.M":case"VGA3.M":case"VGA3U.M":case"VGAS.D":case"VGASU.D":case"VGGG.D":case"VGGG.M":case"VGGGU.D":case"VGGGU.M":case"VGA0BY.M":default:u.setColor("rgba(220,120,20,1.0)");u.setWidth(3);if(t<2){u.setWidth(4.5)}if(t<1){u.setWidth(7.5)}h[o++]=b;break}}else if(r=="vl_over"){switch(a){case 5011:case 5012:case 5013:case 5021:case 5022:case 5023:case 5031:case 5032:case 5033:u.setColor("rgba(220,120,20,1.0)");u.setWidth(3);h[o++]=b;break;case 5111:case 5112:case 5113:case 5121:case 5122:case 5123:case 5131:case 5132:case 5133:case 5211:case 5212:case 5213:case 5221:case 5222:case 5223:case 5225:case 5231:case 5232:case 5233:case 5235:u.setColor("rgba(220,120,20,1.0)");u.setWidth(2);h[o++]=b;break;case 5311:case 5312:case 5313:case 5321:case 5322:case 5323:case 5325:case 5331:case 5332:case 5333:case 5334:case 5335:case 5411:case 5412:case 5413:case 5421:case 5422:case 5423:case 5425:case 5431:case 5432:case 5433:case 5435:u.setColor("rgba(220,120,20,1.0)");u.setWidth(1);h[o++]=b;break;case 5551:case 5552:case 5553:case 5555:u.setColor("rgba(150,150,150,1.0)");u.setWidth(.8);h[o++]=b;break}}else if(r=="vo_fast"){switch(s){
case"VGCYK.M":case"OVAGCYK.M":E.setColor("rgba(220,20,20,1.0)");E.setWidth(.8);E.setLineDash([8,4]);if(t<5){h[o++]=C}break;case"VGELS.M":case"OVAGELS.M":u.setColor("rgba(220,220,20,1.0)");u.setWidth(2);if(t<5){h[o++]=b}E.setColor("rgba(220,20,20,1.0)");E.setWidth(2);E.setLineDash([1,5]);if(t<5){h[o++]=C}break;case"VGSTI.M":case"OVAGSTI.M":E.setColor("rgba(150,150,150,1.0)");E.setWidth(1.5);E.setLineDash([1,5]);if(t<15){h[o++]=C}break;case"VGTRA.M":case"OVAGTRA.M":case"VGUND.M":case"OVAGUND.M":case"GNGBRO.M":case"GANGBRO.M":case"VANDLED":E.setColor("rgba(220,120,20,1.0)");E.setWidth(.8);E.setLineDash([8,4]);if(t<15){h[o++]=C}break}}else if(r=="vo_vagk"||r=="vo_fast"){switch(a){case 264:case 289:case 332:E.setColor("rgba(220,120,20,1.0)");E.setWidth(.6);E.setLineDash([8,4]);if(t<15){h[o++]=C}break;case 265:case 268:case 336:E.setColor("rgba(220,120,20,1.0)");E.setWidth(.8);E.setLineDash([8,4]);if(t<15){h[o++]=C}break;case"VGCYK.M":E.setColor("rgba(220,20,20,1.0)");E.setWidth(.8);E.setLineDash([8,4]);if(t<5){h[o++]=C}break;case"VGELS.M":u.setColor("rgba(220,220,20,1.0)");u.setWidth(2);if(t<5){h[o++]=b}E.setWidth(2);E.setLineDash([1,5]);if(t<5){h[o++]=C}break;case"VGSTI.M":E.setColor("rgba(150,150,150,1.0)");E.setWidth(1.5);E.setLineDash([1,5]);if(t<15){h[o++]=C}break;case"VGTRA.M":case"VGUND.M":case"GNGBRO.M":case"VANDLED":E.setColor("rgba(220,120,20,1.0)");E.setWidth(.8);E.setLineDash([8,4]);if(t<15){h[o++]=C}break}}h.length=o;return h}}else if(e=="labels"){var L=t=="light"?true:false;var p=new r.style.Fill({color:""});var u=new r.style.Stroke({color:"",width:.1,lineCap:"square",lineJoin:"round"});var I=0;var A="start";var O="alphabetic";var R=new r.style.Style({text:new r.style.Text({text:"",fill:p,stroke:u,rotation:I,textAlign:A,textBaseline:O}),zIndex:50});var h=[];return function(e,t){R.getText().setRotation(0);var o=0;var r=e.get("DETALJTYP");var i=e.get("TRIKT");var n=e.get("TJUST");var a=e.get("THOJD");var l=e.get("TEXT");if(e.get("TEXT")&&t<=150){switch(n){case 1:R.getText().setTextBaseline("bottom");R.getText().setTextAlign("left");break;case 4:R.getText().setTextBaseline("middle");R.getText().setTextAlign("left");break;case 7:R.getText().setTextBaseline("top");R.getText().setTextAlign("left");break;case 8:R.getText().setTextBaseline("top");R.getText().setTextAlign("center");break;case 5:R.getText().setTextBaseline("middle");R.getText().setTextAlign("center");break;case 2:R.getText().setTextBaseline("bottom");R.getText().setTextAlign("center");break;case 9:R.getText().setTextBaseline("top");R.getText().setTextAlign("right");break;case 6:R.getText().setTextBaseline("middle");R.getText().setTextAlign("right");break;case 3:R.getText().setTextBaseline("bottom");R.getText().setTextAlign("right");break}R.getText().setText(l);R.getText().setFont("italic "+a*1.8/Math.sqrt(t)+"px sans-serif");L?u.setColor("rgba(240,240,240,1)"):u.setColor("rgba(40,40,40,1)");u.setWidth(a*3/Math.sqrt(t)/10);p.setColor("rgba(130,130,130,1.0)");if(r=="BEBTTTX"){R.getText().setFont(a/1.4-t/25+"px sans-serif");L?p.setColor("rgba(55,55,55,1.0)"):p.setColor("rgba(200,200,200,1.0)");if(t>10&&a>14){h[o++]=R}}else if(r=="BEBTX"&&t<10){R.getText().setFont(a*1.9/Math.sqrt(t)+"px sans-serif");L?p.setColor("rgba(80,80,80,1.0)"):p.setColor("rgba(175,175,175,1.0)");if(a==14&&t<10||a==12&&t<5||a==10&&t<2){h[o++]=R}}else if(r=="SANKTX"&&t<10){if(a==14&&t<10||a==12&&t<5||a==10&&t<2){h[o++]=R}}else if((r=="TERRTX"||r=="NATTX")&&t<15){if(a>14||a==14&&t<10||a==12&&t<5||a==10&&t<2){h[o++]=R}}else if((r=="KULTURTX"||r=="ANLTX"||r=="ANLUTX")&&t<3){R.getText().setRotation((360-i)/360*2*Math.PI);if(a==14&&t<10||a==12&&t<5||a==10&&t<2){h[o++]=R}}else if((r=="VATTDELTX"||r=="VATTDRTX"||r=="VATTTX")&&t<40){R.getText().setRotation((360-i)/360*2*Math.PI);u.setColor("rgba(0,0,0,0)");L?p.setColor("rgba(90,120,160,1.0)"):p.setColor("rgba(70,95,130,1.0)");if(r=="VATTTX"&&a>=25){if(t>=5){h[o++]=R}}else if(t<10&&(a>20||a>=14&&t<10||a==12&&t<5||a==10&&t<2)){h[o++]=R}}}h.length=o;return h}}else if(e=="labels_byggnadsar"){var p=new r.style.Fill({color:"rgba(0,0,0,1.0)"});var u=new r.style.Stroke({color:"rgba(200,200,200,0)",width:1.5});var R=new r.style.Style({text:new r.style.Text({text:"",fill:p,stroke:u}),zIndex:50});var h=[];return function(e,t){var o=0;if(t<1){var r=e.get("ar_nybygg");R.getText().setText(r);R.getText().setFont("10px sans-serif");h[o++]=R}h.length=o;return h}}}function n(e){switch(e){case"red":return[255,0,0];case"yellow":return[255,255,0];case"green":return[0,255,0];case"cyan":return[0,255,255];case"blue":return[0,0,255];case"magenta":return[255,0,255];default:return[255,255,255]}}t.exports.customStyle=i;t.exports.getColor=n},{openlayers:30}],165:[function(e,t,o){"use strict";var r=e("./pin");var i=e("./measure");t.exports=function(){var e={};e.pin=r;e.measure=i;return{getStyle:function t(o){if(o){return e[o]}else{console.log(o+" is not a default style")}}}}()},{"./measure":162,"./pin":163}],166:[function(e,t,o){var r=e("hbsfy/runtime");t.exports=r.template({1:function(e,t,o,r,i){var n=e.lambda,a=e.escapeExpression;return'        <option value="'+a(n(t!=null?t.value:t,t))+'">'+a(n(t!=null?t.name:t,t))+"</option>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,o,r,i){var n;return'<div id="o-editor-toolbar" class="o-control o-toolbar o-padding-horizontal-8 o-rounded-top o-hidden">\r\n    <select name="layer-dropdown">\r\n'+((n=o.each.call(t!=null?t:{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?n:"")+'    </select>\r\n    <button id="o-editor-draw" class="o-btn-3" type="button" name="button">\r\n        <svg class="o-icon-fa-pencil">\r\n            <use xlink:href="#fa-pencil"></use>\r\n        </svg>\r\n    </button>\r\n    <button id="o-editor-attribute" class="o-btn-3" type="button" name="button">\r\n      <svg class="o-icon-fa-font">\r\n          <use xlink:href="#fa-font"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-delete" class="o-btn-3" type="button" name="button">\r\n      <svg class="o-icon-fa-trash">\r\n          <use xlink:href="#fa-trash"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-save" class="o-btn-3 o-disabled" type="button" name="button">\r\n      <svg class="o-icon-fa-floppy-o">\r\n          <use xlink:href="#fa-floppy-o"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-close" class="o-btn-3" type="button" name="button">\r\n        <svg class="o-icon-fa-times">\r\n            <use xlink:href="#fa-times"></use>\r\n        </svg>\r\n    </button>\r\n</div>\r\n'},useData:true})},{"hbsfy/runtime":28}],167:[function(e,t,o){var r=e("hbsfy/runtime");t.exports=r.template({1:function(e,t,o,r,i){var n,a=e.escapeExpression;return"      <li><b>"+a((n=(n=o.key||i&&i.key)!=null?n:o.helperMissing,typeof n==="function"?n.call(t!=null?t:{},{name:"key",hash:{},data:i}):n))+"</b> : "+a(e.lambda(t,t))+"</li>\r\n"},compiler:[7,">= 4.0.0"],main:function(e,t,o,r,i){var n;return(n=o.each.call(t!=null?t:{},t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?n:""},useData:true})},{"hbsfy/runtime":28}],168:[function(e,t,o){"use strict";var r=e("./default.handlebars");t.exports=function(e){return r(e)}},{"./default.handlebars":167}],169:[function(e,t,o){var r=e("hbsfy/runtime");t.exports=r.template({compiler:[7,">= 4.0.0"],main:function(e,t,o,r,i){var n=e.lambda,a=e.escapeExpression;return'<html>\r\n  <head>\r\n    <link href="css/print.css" rel="stylesheet">\r\n  </head>\r\n  <body>\r\n    <div class="o-print-logo"><img src="'+a(n(t!=null?t.logoSrc:t,t))+'"></div>\r\n    <div class="o-map-canvas"><img src="'+a(n(t!=null?t.src:t,t))+'"/></div>\r\n    <div class="o-print-attribution">'+a(n(t!=null?t.attribution:t,t))+"</div>\r\n  </body>\r\n</html>\r\n"},useData:true})},{"hbsfy/runtime":28}],170:[function(e,t,o){var r=e("hbsfy/runtime");t.exports=r.template({compiler:[7,">= 4.0.0"],main:function(e,t,o,r,i){return'<div id="o-map" class="o-map o-map-grid">\r\n  <div id="o-no-map"><div class="o-no-map-message">Du anvnder en frldrad webblsare. Uppgradera din webblsare fr att visa kartan.</div></div>\r\n  <div id="o-tools-left" class="o-container-absolute o-tools-left">\r\n    <div id="o-toolbar-navigation" class="o-toolbar-vertical o-toolbar-navigation"></div>\r\n    <div id="o-toolbar-maptools" class="o-toolbar-vertical o-toolbar-maptools"></div>\r\n    <div id="o-toolbar-misc" class="o-toolbar-vertical o-toolbar-misc"></div>\r\n  </div>\r\n  <div id="o-tools-bottom" class="o-tools-bottom"></div>\r\n  <div id="o-footer" class="o-footer">\r\n    <div id="o-console" class="o-footer-left">&nbsp;</div>\r\n    <div class="o-footer-middle">\r\n    </div>\r\n    <div class="o-footer-right">\r\n    </div>\r\n</div>\r\n'},useData:true})},{"hbsfy/runtime":28}],171:[function(e,t,o){"use strict";var r=e("jquery");var i=e("openlayers");var n=e("./viewer");var a=e("./legend");var l=e("./utils");var s=e("./style/stylefunctions");e("../externs/jquery-ui.min");e("../externs/jquery.ui.labeledslider");e("../externs/jquery.ui.touch-punch.min");var p,u,c,g,h;var f='<br class="rwd-break" />';function d(){r("#o-map").append('<div class="wrapper-vertical"><div id="slider-labeled-v"></div></div>');r("#o-map").append('<div class="wrapper-horizontal"><div id="slider-labeled-h"></div></div>');g=n.getLayers().filter(function(e){return e.get("timeline")});var e=g[0].getProperties().timeline;h={name:e.name,attrName:e.attrName,colors:e.colors,range:true,min:e.range[0],max:e.range[1],values:e.range,step:e.step,tickArray:e.range,tickLabels_h:e.tickLabels_h,tickLabels_v:e.tickLabels_v};if(g.length>0){g[0].on("change:visible",function(e){if(e.oldValue){r(".wrapper-vertical").addClass("timeline-hide");r(".wrapper-horizontal").addClass("timeline-hide");r("#slider-labeled-h").labeledslider("destroy");r("#slider-labeled-v").labeledslider("destroy")}else{r(".wrapper-vertical").removeClass("timeline-hide");r(".wrapper-horizontal").removeClass("timeline-hide");v()}});y();m()}}function y(){var e=["timeline.css","jquery-ui.css","jquery-ui.structure.css","jquery-ui.theme.css","jquery.ui.labeledslider.css"];for(var t=0;t<e.length;t++){var o=document.getElementsByTagName("head")[0];var r=document.createElement("link");r.href="css/"+e[t];r.rel="stylesheet";o.appendChild(r)}}function m(){if(g[0].getVisible()){r(".wrapper-vertical").removeClass("timeline-hide");r(".wrapper-horizontal").removeClass("timeline-hide");v()}}function v(){var e=[];r("#slider-labeled-v").labeledslider({orientation:"vertical",animate:true,range:h.range,min:h.min,max:h.max,value:h.value,values:h.values,step:h.step,tickLabels:h.tickLabels_v,tickInterval:h.tickInterval,tickArray:h.tickArray,slide:function(e,o){r("#slider-labeled-h").labeledslider("value",o.value);r("#slider-labeled-h").labeledslider("values",o.values);t(e,o,r("#slider-labeled-v"))}});r("#slider-labeled-h").labeledslider({orientation:"horizontal",animate:true,range:h.range,min:h.min,max:h.max,value:h.value,values:h.values,step:h.step,tickLabels:h.tickLabels_h,tickInterval:h.tickInterval,tickArray:h.tickArray,slide:function(e,o){r("#slider-labeled-v").labeledslider("value",o.value);r("#slider-labeled-v").labeledslider("values",o.values);t(e,o,r("#slider-labeled-h"))},create:function(e,t){var o=h.range?r("#slider-labeled-h").labeledslider("values"):r("#slider-labeled-h").labeledslider("value");g[0].setStyle(s.customStyle("timeline",{attrName:h.attrName,range:h.values,step:h.step,colors:h.colors,values:o}));r("#slider-labeled-h.ui-widget-content").addClass("ui-bg-"+h.name+"-h");r("#slider-labeled-v.ui-widget-content").addClass("ui-bg-"+h.name+"-v");r(".ui-widget.horizontal .ui-slider-labels").append('<div class="ui-slider-label-min ui-slider-label-ticks horizontal"><span>'+o[0]+"</span></div>");r(".ui-widget.horizontal .ui-slider-labels").append('<div class="ui-slider-label-max ui-slider-label-ticks horizontal"><span>'+o[1]+"</span></div>");r(".ui-widget.vertical .ui-slider-labels").append('<div class="ui-slider-label-min ui-slider-label-ticks vertical"><span>'+o[0]+"</span></div>");r(".ui-widget.vertical .ui-slider-labels").append('<div class="ui-slider-label-max ui-slider-label-ticks vertical"><span>'+o[1]+"</span></div>");r(".ui-bg-"+h.name+"-v").css("cssText",S(h.colors,false));r(".ui-bg-"+h.name+"-h").css("cssText",S(h.colors,true));_(o);x(o)}});function t(e,t,o){var i=o.labeledslider("option","orientation")=="horizontal"?"left":"bottom";r(".ui-slider-label-min").css(i,Math.round((t.values[0]-h.min)/(h.max-h.min)*1e4)/100+"%");r(".ui-slider-label-max").css(i,Math.round((t.values[1]-h.min)/(h.max-h.min)*1e4)/100+"%");_(t.values);x(t.values);g[0].setStyle(s.customStyle("timeline",{attrName:h.attrName,range:h.values,step:h.step,colors:h.colors,values:t.values}))}}function _(e){var t=h.tickArray.filter(function(t){return t==e[0]});var o=h.tickArray.filter(function(t){return t==e[1]});if(t.length){r(".ui-slider-label-min").addClass("o-hidden")}else{r(".ui-slider-label-min").removeClass("o-hidden");r(".ui-slider-label-min > span").text(e[0])}if(o.length){r(".ui-slider-label-max").addClass("o-hidden")}else{r(".ui-slider-label-max").removeClass("o-hidden");r(".ui-slider-label-max > span").text(e[1])}}function x(e){r(".ui-slider-label-min").each(function(){var t=r(this).hasClass("horizontal")?"left":"bottom";r(this).css(t,Math.round((e[0]-h.min)/(h.max-h.min)*1e4)/100+"%")});r(".ui-slider-label-max").each(function(){var t=r(this).hasClass("horizontal")?"left":"bottom";r(this).css(t,Math.round((e[1]-h.min)/(h.max-h.min)*1e4)/100+"%")})}function S(e,t){var o="";var r;for(r=0;r<e.length;r++){o+="rgba("+s.getColor(e[r])[0]+", "+s.getColor(e[r])[1]+", "+s.getColor(e[r])[2]+", 1.0)";if(r>0&&r<e.length-1){o+=" "+r*Math.round(100/(e.length-1))+"%,"}else if(r==0){o+=","}}var i=t?["left","to right"]:["bottom","to top"];var n="background: -webkit-linear-gradient("+i[0]+","+o+"); "+"background: -o-linear-gradient("+i[0]+","+o+"); "+"background: -moz-linear-gradient("+i[0]+","+o+"); "+"background: linear-gradient("+i[1]+","+o+"); ";return n}t.exports.init=d},{"../externs/jquery-ui.min":3,"../externs/jquery.ui.labeledslider":5,"../externs/jquery.ui.touch-punch.min":6,"./legend":142,"./style/stylefunctions":164,"./utils":172,"./viewer":183,jquery:29,openlayers:30}],172:[function(e,t,o){"use strict";var r=e("jquery");t.exports={createButton:function(e){var t="";var o="";var r=e.cls||"";var i=e.iconCls||"";var n=e.tooltipPlacement||"east";if(e.text){o='<span class="o-button-text">'+e.text+"</span>"}if(e.tooltipText){t='<span data-tooltip="'+e.tooltipText+'" data-placement="'+n+'"></span>'}var a='<div id="'+e.id+'" class="o-button-container o-tooltip">'+'<button class="o-button '+r+'">'+o+'<svg class="'+i+'">'+'<use xlink:href="'+e.src+'"></use>'+"</svg>"+"</button>"+t+"</div>";return a},createListButton:function(e){var t="<li>"+'<div id="'+e.id+'-button" class="o-menu-button"'+">"+'<div class="o-button-icon">'+'<svg class="'+e.iconCls+'">'+'<use xlink:href="'+e.src+'"></use>'+"</svg>"+"</div>"+e.text+"</div>"+"</li>";return t},createElement:function(e,t,o){var r="<"+e;var i="</"+e+">";var n=o?Object.getOwnPropertyNames(o):[];var a=n.map(function(e){var t="";if(e==="cls"){t=" "+"class".concat("=",'"',o[e],'"')}else{t=" "+e.concat("=",'"',o[e],'"')}return t});var l=r.concat(a.join(" "),">",t,i);return l},createSvg:function(e){var t=this.createElement("use","",{"xlink:href":e.href});return this.createElement("svg",t,{cls:e.cls})}}},{jquery:29}],173:[function(e,t,o){"use strict";var r=function i(){var e=(new Date).getTime();if(window.performance&&typeof window.performance.now==="function"){e+=performance.now()}var t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var o=(e+Math.random()*16)%16|0;e=Math.floor(e/16);return(t=="x"?o:o&3|8).toString(16)});return t};t.exports=r},{}],174:[function(e,t,o){"use strict";t.exports=function r(){return location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+location.pathname}},{}],175:[function(e,t,o){"use strict";t.exports=function r(e){var t=new RegExp("^(?:[a-z]+:)?//","i");return t.test(e)}},{}],176:[function(e,t,o){"use strict";t.exports=function r(e){var t=e;var o=t.toString().length;if(o>3){var r=" ";if(t>=1e3){var i=Math.pow(10,o)/1e4;t=Math.round(t/i)*i}var n=t.toString();var a=[];while(n.length>3){var l=n.substr(n.length-3);a.unshift(l);n=n.substr(0,n.length-3)}if(n.length>0){a.unshift(n)}n=a.join(r);return n}else{return t.toString()}}},{}],177:[function(e,t,o){"use strict";var r=function(){var e=undefined;var t=undefined;var o=undefined;var r=undefined;var i=undefined;function n(n,l,s){e=s.start||"{{";t=s.end||"}}";o=s.helper||{};r=s.helperNS||"@";i=[s.helperArg]||[];var p=a(n,l);return p}function a(n,s){var p=new RegExp(e+"(.*?)"+t,"g");var u=p.exec(n);if(u){var c=s.hasOwnProperty(u[1])?s[u[1]]:"";if(!c){var g=u[0].indexOf(r);if(g){var h=l(u[1]);var f=h[1].substring(g-1);var d=i.concat(h[0]);c=o.hasOwnProperty(f)?o[f].apply(null,d).toString():""}}return a(n.replace(u[0],c),s)}else{return n}}function l(e){var t=e.match(/\((.*?)\)/);if(t){return[t[1].split(","),e.substring(0,t.index)]}else{return["",e]}}return{replace:function(e,t,o){var r=o||{};return n(e,t,r)}}};t.exports=r()},{}],178:[function(e,t,o){"use strict";var r=function i(e,t){return Number(Math.round(e+"e"+t)+"e-"+t)};t.exports=r},{}],179:[function(e,t,o){"use strict";var r=e("jquery");var i=e("../../externs/jquery.colorbox");function n(e,t,o){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&e.indexOf(".pdf")>-1){var i=window.open(e,"_blank")}else{r.colorbox({width:"95%",height:"95%",top:"0px",escKey:true,iframe:true,href:e})}}t.exports.showInfo=n},{"../../externs/jquery.colorbox":4,jquery:29}],180:[function(e,t,o){"use strict";t.exports=function r(e){var t;if(e.substring(e.lastIndexOf("/")).indexOf(".htm")!==-1){t=e.substring(0,e.lastIndexOf("/")+1)}else if(e.substr(e.length-1)!=="/"){t=e+"/"}else{t=e}return t}},{}],181:[function(e,t,o){"use strict";var r={};r.objectify=function(e,t){var o=t||{};var r=o.delimeter||"/";var i=o.topmost||"name";var n=e.split(r);var a={};if(o.topmost){if(n[0]===""){console.log("Topmost value is missing")}else{a[i]=n[0]}}if(n.length>1){for(var l=1,s=n.length;l<s;l+=2){a[n[l]]=n[l+1]}}return a};r.stringify=function(e,t){var o=t||{};var r=o.delimeter||"/";var i=o.topmost||undefined;var n=i?e[i]:"";for(var a in e){if(a!==i)n+=r+a+r+e[a]}return n};r.arrStringify=function(e,t){var o=t||{};var r=o.delimeter||"/";var i=o.topmost||"";var n=i?i+r:"";if(typeof e[0][0]==="undefined"){n+=e.join(",")}else{var a=e.map(function(e){var t=e.map(function(e){return e.join("!")});return t.join(",")});n+=a.join(o.delimeter)}return n};r.strArrayify=function(e,t){var o=t||{};var r=o.delimeter||"/";var i=t.topmostName||"topmost";var n=t.arrName||"arr";var a=e.substring(0,e.indexOf(r));var l=e.substring(e.indexOf(r)+1);var s=l.split(r).map(function(e){return e.split("!")});var p={};p[i]=a;p[n]=s;return p};r.strIntify=function(e,t){var o=t||{};var r=o.delimiter||",";var i=e.split(r);var n=i.map(function(e){return parseInt(e)});return n};r.strBoolean=function(e){if(e==="1"){return true}else if(e==="0"){return false}else{console.log("String is not 1 or 0");return false}};r.formatUrl=function(e){var t=Object.getOwnPropertyNames(e).reduce(function(t,o){o=t?"&"+o+"="+e[o]:o+"="+e[o];return t+o},"");return t};t.exports=r},{}],182:[function(e,t,o){"use strict";var r=e("./isurl");t.exports=function i(e,t){var o=r(e)?e:t+e;return o}},{"./isurl":175}],183:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./templates/viewer.handlebars");var a=e("./modal");var l=e("./utils");var s=e("./utils/isurl");var p=e("./featureinfo");var u=e("./mapwindow");var c=e("./maputils");var g=e("./style")();var h=e("./layercreator");var f;var n;var d={projection:"",projectionCode:"",projectionExtent:"",extent:[],center:[0,0],zoom:0,resolutions:null,source:{},group:[],layers:[],styles:{},controls:[],featureInfoOverlay:undefined,editLayer:null};var y;function m(e,t){i(e).html(n);if(t.hasOwnProperty("proj4Defs")&&proj4){var o=t["proj4Defs"];for(var a=0;a<o.length;a++){proj4.defs(o[a].code,o[a].projection);if(o[a].hasOwnProperty("alias")){proj4.defs(o[a].alias,proj4.defs(o[a].code))}}}d.params=y=t.params||{};d.map=t.map;d.url=t.url;d.baseUrl=t.baseUrl;if(t.hasOwnProperty("proj4Defs")){d.projectionCode=t.projectionCode||undefined;d.projectionExtent=t.projectionExtent;d.projection=new r.proj.Projection({code:d.projectionCode,extent:d.projectionExtent});d.resolutions=t.resolutions||undefined;d.tileGrid=c.tileGrid(d.projectionExtent,d.resolutions)}d.extent=t.extent||undefined;d.center=y.center||t.center;d.zoom=y.zoom||t.zoom;d.source=t.source;d.groups=t.groups;d.editLayer=t.editLayer;d.styles=t.styles;g.init();d.layers=v(t.layers,y.layers);d.controls=t.controls;d.consoleId=t.consoleId||"o-console";d.featureinfoOptions=t.featureinfoOptions||{};d.tileSize=t.tileSize?[t.tileSize,t.tileSize]:[256,256];if(window.location.search){x()}if(window.top!=window.self){u.init()}_();if(y.pin){d.featureinfoOptions.savedPin=y.pin}else if(y.selection){d.featureinfoOptions.savedSelection=new r.Feature({geometry:new r.geom[y.selection.geometryType](y.selection.coordinates)})}p.init(d.featureinfoOptions)}function v(e,t){var o=[];for(var r=e.length-1;r>=0;r--){var n={};if(t){n=t[e[r].name.split(":").pop()]||{visible:false,legend:false};n.name=e[r].name}var a=i.extend(e[r],n);o.push(h(a))}return o}function _(){f=new r.Map({target:"o-map",layers:d.layers,controls:[],view:new r.View({extent:d.extent||undefined,projection:d.projection||undefined,center:d.center,resolutions:d.resolutions||undefined,zoom:d.zoom})})}function x(){var e=window.location.search.substring(1);var t=e.split("&");for(var o=0;o<t.length;o++){if(o==0){var r=t[o].split(",");d.center[0]=parseInt(r[0]);d.center[1]=parseInt(r[1])}else if(o==1){d.zoom=parseInt(t[o])}else if(o==2){var n=t[o].split(";");var a=d.layers;var l,s;for(var p=0;p<a.length;p++){s=0;i.each(n,function(e,t){l=t.split(",");if(a[p].get("group")){if(a[p].get("group")=="background"&&l[0]==a[p].get("name")){a[p].setVisible(true);s=1}else if(a[p].get("group")=="background"&&s==0){a[p].setVisible(false)}else if(l[0]==a[p].get("name")){if(l[1]==1){a[p].set("legend",true);a[p].setVisible(false)}else{a[p].set("legend",true);a[p].setVisible(true)}}}})}}}}function S(){return d}function P(){return d.baseUrl}function E(){return d.map}function T(){return d.tileGrid}function b(){return d.url}function M(){return d.styles}function C(){return d.resolutions}function R(){var e="";var t;if(window.location.search){t=window.location.href.replace(window.location.search,"?")}else{t=window.location.href+"?"}var o=f.getView();var r=o.getCenter();for(var i=0;i<2;i++){r[i]=parseInt(r[i])}var n=o.getZoom();var a=f.getLayers();a.forEach(function(t){if(t.getVisible()==true){e+=t.get("name")+";"}else if(t.get("legend")==true){e+=t.get("name")+",1;"}});return t+r+"&"+n+"&"+e.slice(0,e.lastIndexOf(";"))}function w(){return f}function L(){return d.layers}function I(e){var t=i.grep(d.layers,function(t){return t.get("name")==e});return t[0]}function A(){var e=d.layers.filter(function(e){if(e.get("queryable")&&e.getVisible()){return e}});return e}function O(e){var e=i.grep(d.layers,function(t){return t.get("group")==e});return e}function N(e){if(e=="top"){return d.groups}else if(e=="sub"){return F()}else{return d.groups.concat(F())}}function F(){var e=[];function t(o,r){if(r>=o.length){return}if(o[r].groups){o[r].groups.forEach(function(t){e.push(t)});t(o[r].groups,0)}t(o,r+1)}t(d.groups,0);return e}function G(){return d.projectionCode}function D(){return d.projection}function k(){return d.source}function q(){var e=d.controls.map(function(e){return e.name});return e}function j(e,t,o){if(t||o){if(t&&o){if(e>t&&e<o){return true}}else if(t){if(e>t){return true}}else if(o){if(e<o){return true}}}else{return true}}function W(){return d.consoleId}function U(e){var t=25.4/.28;var o=d.projection.getMetersPerUnit();var r=e*o*39.37*t;r=Math.round(r);return r}function B(){var e=i(".o-popup");var t=f.getView().getCenter();var o=i(e).offset();var n=i("#"+f.getTarget()).offset();var a=o.top-n.top;var l=f.getSize();var s=n.left+l[0]-(o.left+i(e).outerWidth(true));var p=0;if(d.controls.hasOwnProperty("mapmenu")){p=d.controls.mapmenu.getTarget().offset().left>0?l[0]-d.controls.mapmenu.getTarget().offset().left:p=0}if(a<0||s<0+p||s>l[0]-i(e).outerWidth(true)){var u=0,c=0;if(s<0+p){u=(-s+p)*f.getView().getResolution()}if(s>l[0]-i(e).outerWidth(true)){u=-(i(e).outerWidth(true)-(l[0]-s))*f.getView().getResolution()}if(a<0){c=-a*f.getView().getResolution()}var g=r.animation.pan({duration:300,source:t});f.beforeRender(g);f.getView().setCenter([t[0]+u,t[1]+c])}}function V(e){if(e){if(e.constructor===Array||e instanceof r.Collection){e.forEach(function(e){f.removeOverlay(e)})}else{f.removeOverlay(e)}}else{f.getOverlays().clear()}}t.exports.init=m;t.exports.createLayers=v;t.exports.getBaseUrl=P;t.exports.getSettings=S;t.exports.getStyleSettings=M;t.exports.getMapUrl=R;t.exports.getMap=w;t.exports.getLayers=L;t.exports.getLayer=I;t.exports.getControlNames=q;t.exports.getQueryableLayers=A;t.exports.getGroup=O;t.exports.getGroups=N;t.exports.getProjectionCode=G;t.exports.getProjection=D;t.exports.getMapSource=k;t.exports.getResolutions=C;t.exports.getScale=U;t.exports.getTileGrid=T;t.exports.autoPan=B;t.exports.removeOverlays=V;t.exports.checkScale=j;t.exports.getMapName=E;t.exports.getConsoleId=W;t.exports.getUrl=b},{"./featureinfo":116,"./layercreator":141,"./maputils":146,"./mapwindow":147,"./modal":149,"./style":161,"./templates/viewer.handlebars":170,"./utils":172,"./utils/isurl":175,jquery:29,openlayers:30}],184:[function(e,t,o){"use strict";var r=e("openlayers");var i=e("jquery");var n=e("./viewer");var a;function l(e){var t=e||{};var o;var l=t.target||"o-toolbar-navigation";a=n.getMap();o=new r.control.Zoom({zoomInTipLabel:" ",zoomOutTipLabel:" ",zoomInLabel:i.parseHTML('<svg class="o-icon-fa-plus"><use xlink:href="#fa-plus"></use></svg>')[0],zoomOutLabel:i.parseHTML('<svg class="o-icon-fa-minus"><use xlink:href="#fa-minus"></use></svg>')[0],target:l});a.addControl(o)}t.exports.init=l},{"./viewer":183,jquery:29,openlayers:30}]},{},[103])(103)});