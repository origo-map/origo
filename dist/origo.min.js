!function(f){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=f();else if("function"==typeof define&&define.amd)define([],f);else{var g;g="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,g.origo=f()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){"function"!=typeof Object.create&&(Object.create=function(f){function g(){}return g.prototype=f,new g}),function(f,g,k){var l={init:function(a,b){this.$elem=f(b),this.options=f.extend({},f.fn.owlCarousel.options,this.$elem.data(),a),this.userOptions=a,this.loadContent()},loadContent:function(){function a(a){var d,e="";if("function"==typeof b.options.jsonSuccess)b.options.jsonSuccess.apply(this,[a]);else{for(d in a.owl)a.owl.hasOwnProperty(d)&&(e+=a.owl[d].item);b.$elem.html(e)}b.logIn()}var e,b=this;"function"==typeof b.options.beforeInit&&b.options.beforeInit.apply(this,[b.$elem]),"string"==typeof b.options.jsonPath?(e=b.options.jsonPath,f.getJSON(e,a)):b.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){return 0===this.$elem.children().length?!1:(this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),void this.onStartup())},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var a=this;g.setTimeout(function(){a.updateVars()},0)},watchVisibility:function(){var a=this;return!1!==a.$elem.is(":visible")?!1:(a.$elem.css({opacity:0}),g.clearInterval(a.autoPlayInterval),g.clearInterval(a.checkVisible),void(a.checkVisible=g.setInterval(function(){a.$elem.is(":visible")&&(a.reload(),a.$elem.animate({opacity:1},200),g.clearInterval(a.checkVisible))},500)))},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var a=this.$elem.hasClass(this.options.baseClass),b=this.$elem.hasClass(this.options.theme);a||this.$elem.addClass(this.options.baseClass),b||this.$elem.addClass(this.options.theme)},updateItems:function(){var a,b;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if(a=f(this.options.responsiveBaseWidth).width(),a>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(a,b){return a[0]-b[0]}),b=0;b<this.options.itemsCustom.length;b+=1)this.options.itemsCustom[b][0]<=a&&(this.options.items=this.options.itemsCustom[b][1]);else a<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),a<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),a<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),a<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),a<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var b,e,a=this;return!0!==a.options.responsive?!1:(e=f(g).width(),a.resizer=function(){f(g).width()!==e&&(!1!==a.options.autoPlay&&g.clearInterval(a.autoPlayInterval),g.clearTimeout(b),b=g.setTimeout(function(){e=f(g).width(),a.updateVars()},a.options.responsiveRefreshRate))},void f(g).resize(a.resizer))},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var a=this,b=0,e=a.itemsAmount-a.options.items;a.$owlItems.each(function(c){var d=f(this);d.css({width:a.itemWidth}).data("owl-item",Number(c)),(0===c%a.options.items||c===e)&&(c>e||(b+=1)),d.data("owl-roundPages",b)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var a=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=a=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=a),a},min:function(){return 0},loops:function(){var e,c,a=0,b=0;for(this.positionsInArray=[0],this.pagesInArray=[],e=0;e<this.itemsAmount;e+=1)b+=this.itemWidth,this.positionsInArray.push(-b),!0===this.options.scrollPerPage&&(c=f(this.$owlItems[e]),c=c.data("owl-roundPages"),c!==a&&(this.pagesInArray[a]=this.positionsInArray[e],a=c))},buildControls:function(){(!0===this.options.navigation||!0===this.options.pagination)&&(this.owlControls=f('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var a=this,b=f('<div class="owl-buttons"/>');a.owlControls.append(b),a.buttonPrev=f("<div/>",{"class":"owl-prev",html:a.options.navigationText[0]||""}),a.buttonNext=f("<div/>",{"class":"owl-next",html:a.options.navigationText[1]||""}),b.append(a.buttonPrev).append(a.buttonNext),b.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(a){a.preventDefault()}),b.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(b){b.preventDefault(),f(this).hasClass("owl-next")?a.next():a.prev()})},buildPagination:function(){var a=this;a.paginationWrapper=f('<div class="owl-pagination"/>'),a.owlControls.append(a.paginationWrapper),a.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(b){b.preventDefault(),Number(f(this).data("owl-page"))!==a.currentItem&&a.goTo(Number(f(this).data("owl-page")),!0)})},updatePagination:function(){var a,b,e,c,d,g;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),a=0,b=this.itemsAmount-this.itemsAmount%this.options.items,c=0;c<this.itemsAmount;c+=1)0===c%this.options.items&&(a+=1,b===c&&(e=this.itemsAmount-this.options.items),d=f("<div/>",{"class":"owl-page"}),g=f("<span></span>",{text:!0===this.options.paginationNumbers?a:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),d.append(g),d.data("owl-page",b===c?e:c),d.data("owl-roundPages",a),this.paginationWrapper.append(d));this.checkPagination()},checkPagination:function(){var a=this;return!1===a.options.pagination?!1:void a.paginationWrapper.find(".owl-page").each(function(){f(this).data("owl-roundPages")===f(a.$owlItems[a.currentItem]).data("owl-roundPages")&&(a.paginationWrapper.find(".owl-page").removeClass("active"),f(this).addClass("active"))})},checkNavigation:function(){return!1===this.options.navigation?!1:void(!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled"))))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(a){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,a="rewind"}this.goTo(this.currentItem,a)},prev:function(a){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,a="rewind"}this.goTo(this.currentItem,a)},goTo:function(a,b,e){var c=this;return c.isTransition?!1:("function"==typeof c.options.beforeMove&&c.options.beforeMove.apply(this,[c.$elem]),a>=c.maximumItem?a=c.maximumItem:0>=a&&(a=0),c.currentItem=c.owl.currentItem=a,!1!==c.options.transitionStyle&&"drag"!==e&&1===c.options.items&&!0===c.browser.support3d?(c.swapSpeed(0),!0===c.browser.support3d?c.transition3d(c.positionsInArray[a]):c.css2slide(c.positionsInArray[a],1),c.afterGo(),c.singleItemTransition(),!1):(a=c.positionsInArray[a],!0===c.browser.support3d?(c.isCss3Finish=!1,!0===b?(c.swapSpeed("paginationSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},c.options.paginationSpeed)):"rewind"===b?(c.swapSpeed(c.options.rewindSpeed),g.setTimeout(function(){c.isCss3Finish=!0},c.options.rewindSpeed)):(c.swapSpeed("slideSpeed"),g.setTimeout(function(){c.isCss3Finish=!0},c.options.slideSpeed)),c.transition3d(a)):!0===b?c.css2slide(a,c.options.paginationSpeed):"rewind"===b?c.css2slide(a,c.options.rewindSpeed):c.css2slide(a,c.options.slideSpeed),void c.afterGo()))},jumpTo:function(a){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),a>=this.maximumItem||-1===a?a=this.maximumItem:0>=a&&(a=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[a]):this.css2slide(this.positionsInArray[a],1),this.currentItem=this.owl.currentItem=a,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",g.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var a=this;return a.apStatus="play",!1===a.options.autoPlay?!1:(g.clearInterval(a.autoPlayInterval),void(a.autoPlayInterval=g.setInterval(function(){a.next(!0)},a.options.autoPlay)))},swapSpeed:function(a){"slideSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===a?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof a&&this.$owlWrapper.css(this.addCssSpeed(a))},addCssSpeed:function(a){return{"-webkit-transition":"all "+a+"ms ease","-moz-transition":"all "+a+"ms ease","-o-transition":"all "+a+"ms ease",transition:"all "+a+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(a){return{"-webkit-transform":"translate3d("+a+"px, 0px, 0px)","-moz-transform":"translate3d("+a+"px, 0px, 0px)","-o-transform":"translate3d("+a+"px, 0px, 0px)","-ms-transform":"translate3d("+a+"px, 0px, 0px)",transform:"translate3d("+a+"px, 0px,0px)"}},transition3d:function(a){this.$owlWrapper.css(this.doTranslate(a))},css2move:function(a){this.$owlWrapper.css({left:a})},css2slide:function(a,b){var e=this;e.isCssFinish=!1,e.$owlWrapper.stop(!0,!0).animate({left:a},{duration:b||e.options.slideSpeed,complete:function(){e.isCssFinish=!0}})},checkBrowser:function(){var a=k.createElement("div");a.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",a=a.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==a&&1===a.length,isTouch:"ontouchstart"in g||g.navigator.msMaxTouchPoints}},moveEvents:function(){(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)&&(this.gestures(),this.disabledEvents())},eventTypes:function(){var a=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?a=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(a=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=a[0],this.ev_types.move=a[1],this.ev_types.end=a[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(a){a.preventDefault()}),this.$elem.on("mousedown.disableTextSelect",function(a){return f(a.target).is("input, textarea, select, option")})},gestures:function(){function a(a){if(void 0!==a.touches)return{x:a.touches[0].pageX,y:a.touches[0].pageY};if(void 0===a.touches){if(void 0!==a.pageX)return{x:a.pageX,y:a.pageY};if(void 0===a.pageX)return{x:a.clientX,y:a.clientY}}}function b(a){"on"===a?(f(k).on(d.ev_types.move,e),f(k).on(d.ev_types.end,c)):"off"===a&&(f(k).off(d.ev_types.move),f(k).off(d.ev_types.end))}function e(b){b=b.originalEvent||b||g.event,d.newPosX=a(b).x-h.offsetX,d.newPosY=a(b).y-h.offsetY,d.newRelativeX=d.newPosX-h.relativePos,"function"==typeof d.options.startDragging&&!0!==h.dragging&&0!==d.newRelativeX&&(h.dragging=!0,d.options.startDragging.apply(d,[d.$elem])),(8<d.newRelativeX||-8>d.newRelativeX)&&!0===d.browser.isTouch&&(void 0!==b.preventDefault?b.preventDefault():b.returnValue=!1,h.sliding=!0),(10<d.newPosY||-10>d.newPosY)&&!1===h.sliding&&f(k).off("touchmove.owl"),d.newPosX=Math.max(Math.min(d.newPosX,d.newRelativeX/5),d.maximumPixels+d.newRelativeX/5),!0===d.browser.support3d?d.transition3d(d.newPosX):d.css2move(d.newPosX)}function c(a){a=a.originalEvent||a||g.event;var c;a.target=a.target||a.srcElement,h.dragging=!1,!0!==d.browser.isTouch&&d.$owlWrapper.removeClass("grabbing"),d.dragDirection=0>d.newRelativeX?d.owl.dragDirection="left":d.owl.dragDirection="right",0!==d.newRelativeX&&(c=d.getNewPosition(),d.goTo(c,!1,"drag"),h.targetElement===a.target&&!0!==d.browser.isTouch&&(f(a.target).on("click.disable",function(a){a.stopImmediatePropagation(),a.stopPropagation(),a.preventDefault(),f(a.target).off("click.disable")}),a=f._data(a.target,"events").click,c=a.pop(),a.splice(0,0,c))),b("off")}var d=this,h={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};d.isCssFinish=!0,d.$elem.on(d.ev_types.start,".owl-wrapper",function(c){c=c.originalEvent||c||g.event;var e;if(3===c.which)return!1;if(!(d.itemsAmount<=d.options.items)){if(!1===d.isCssFinish&&!d.options.dragBeforeAnimFinish||!1===d.isCss3Finish&&!d.options.dragBeforeAnimFinish)return!1;!1!==d.options.autoPlay&&g.clearInterval(d.autoPlayInterval),!0===d.browser.isTouch||d.$owlWrapper.hasClass("grabbing")||d.$owlWrapper.addClass("grabbing"),d.newPosX=0,d.newRelativeX=0,f(this).css(d.removeTransition()),e=f(this).position(),h.relativePos=e.left,h.offsetX=a(c).x-e.left,h.offsetY=a(c).y-e.top,b("on"),h.sliding=!1,h.targetElement=c.target||c.srcElement}})},getNewPosition:function(){var a=this.closestItem();return a>this.maximumItem?a=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=a=0),a},closestItem:function(){var a=this,b=!0===a.options.scrollPerPage?a.pagesInArray:a.positionsInArray,e=a.newPosX,c=null;return f.each(b,function(d,g){e-a.itemWidth/20>b[d+1]&&e-a.itemWidth/20<g&&"left"===a.moveDirection()?(c=g,a.currentItem=!0===a.options.scrollPerPage?f.inArray(c,a.positionsInArray):d):e+a.itemWidth/20<g&&e+a.itemWidth/20>(b[d+1]||b[d]-a.itemWidth)&&"right"===a.moveDirection()&&(!0===a.options.scrollPerPage?(c=b[d+1]||b[b.length-1],a.currentItem=f.inArray(c,a.positionsInArray)):(c=b[d+1],a.currentItem=d+1))}),a.currentItem},moveDirection:function(){var a;return 0>this.newRelativeX?(a="right",this.playDirection="next"):(a="left",this.playDirection="prev"),a},customEvents:function(){var a=this;a.$elem.on("owl.next",function(){a.next()}),a.$elem.on("owl.prev",function(){a.prev()}),a.$elem.on("owl.play",function(b,e){a.options.autoPlay=e,a.play(),a.hoverStatus="play"}),a.$elem.on("owl.stop",function(){a.stop(),a.hoverStatus="stop"}),a.$elem.on("owl.goTo",function(b,e){a.goTo(e)}),a.$elem.on("owl.jumpTo",function(b,e){a.jumpTo(e)})},stopOnHover:function(){var a=this;!0===a.options.stopOnHover&&!0!==a.browser.isTouch&&!1!==a.options.autoPlay&&(a.$elem.on("mouseover",function(){a.stop()}),a.$elem.on("mouseout",function(){"stop"!==a.hoverStatus&&a.play()}))},lazyLoad:function(){var a,b,e,c,d;if(!1===this.options.lazyLoad)return!1;for(a=0;a<this.itemsAmount;a+=1)b=f(this.$owlItems[a]),"loaded"!==b.data("owl-loaded")&&(e=b.data("owl-item"),c=b.find(".lazyOwl"),"string"!=typeof c.data("src")?b.data("owl-loaded","loaded"):(void 0===b.data("owl-loaded")&&(c.hide(),b.addClass("loading").data("owl-loaded","checked")),(d=!0===this.options.lazyFollow?e>=this.currentItem:!0)&&e<this.currentItem+this.options.items&&c.length&&this.lazyPreload(b,c)))},lazyPreload:function(a,b){function e(){a.data("owl-loaded","loaded").removeClass("loading"),b.removeAttr("data-src"),"fade"===d.options.lazyEffect?b.fadeIn(400):b.show(),"function"==typeof d.options.afterLazyLoad&&d.options.afterLazyLoad.apply(this,[d.$elem])}function c(){f+=1,d.completeImg(b.get(0))||!0===k?e():100>=f?g.setTimeout(c,100):e()}var k,d=this,f=0;"DIV"===b.prop("tagName")?(b.css("background-image","url("+b.data("src")+")"),k=!0):b[0].src=b.data("src"),c()},autoHeight:function(){function a(){var a=f(e.$owlItems[e.currentItem]).height();e.wrapperOuter.css("height",a+"px"),e.wrapperOuter.hasClass("autoHeight")||g.setTimeout(function(){e.wrapperOuter.addClass("autoHeight")},0)}function b(){d+=1,e.completeImg(c.get(0))?a():100>=d?g.setTimeout(b,100):e.wrapperOuter.css("height","")}var d,e=this,c=f(e.$owlItems[e.currentItem]).find("img");void 0!==c.get(0)?(d=0,b()):a()},completeImg:function(a){return!a.complete||"undefined"!=typeof a.naturalWidth&&0===a.naturalWidth?!1:!0},onVisibleItems:function(){var a;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],a=this.currentItem;a<this.currentItem+this.options.items;a+=1)this.visibleItems.push(a),!0===this.options.addClassActive&&f(this.$owlItems[a]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(a){this.outClass="owl-"+a+"-out",this.inClass="owl-"+a+"-in"},singleItemTransition:function(){var a=this,b=a.outClass,e=a.inClass,c=a.$owlItems.eq(a.currentItem),d=a.$owlItems.eq(a.prevItem),f=Math.abs(a.positionsInArray[a.currentItem])+a.positionsInArray[a.prevItem],g=Math.abs(a.positionsInArray[a.currentItem])+a.itemWidth/2;a.isTransition=!0,a.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":g+"px","-moz-perspective-origin":g+"px","perspective-origin":g+"px"}),d.css({position:"relative",left:f+"px"}).addClass(b).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endPrev=!0,d.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),a.clearTransStyle(d,b)}),c.addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){a.endCurrent=!0,c.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),a.clearTransStyle(c,e)})},clearTransStyle:function(a,b){a.css({position:"",left:""}).removeClass(b),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),f(k).off(".owl owl"),f(g).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),g.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(a){a=f.extend({},this.userOptions,a),this.unWrap(),this.init(a,this.$elem)},addItem:function(a,b){var e;return a?0===this.$elem.children().length?(this.$elem.append(a),this.setVars(),!1):(this.unWrap(),e=void 0===b||-1===b?-1:b,e>=this.$userItems.length||-1===e?this.$userItems.eq(-1).after(a):this.$userItems.eq(e).before(a),void this.setVars()):!1},removeItem:function(a){return 0===this.$elem.children().length?!1:(a=void 0===a||-1===a?-1:a,this.unWrap(),this.$userItems.eq(a).remove(),void this.setVars())}};f.fn.owlCarousel=function(a){return this.each(function(){if(!0===f(this).data("owl-init"))return!1;f(this).data("owl-init",!0);var b=Object.create(l);b.init(a,this),f.data(this,"owlCarousel",b)})},f.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:g,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document)},{}],2:[function(require,module,exports){module.exports={loadjQueryPlugin:function(){require("./owl.carousel.min.js")}}},{"./owl.carousel.min.js":1}],3:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function create(){var hb=new base.HandlebarsEnvironment;return Utils.extend(hb,base),hb.SafeString=_handlebarsSafeString2["default"],hb.Exception=_handlebarsException2["default"],hb.Utils=Utils,hb.escapeExpression=Utils.escapeExpression,hb.VM=runtime,hb.template=function(spec){return runtime.template(spec,hb)},hb}exports.__esModule=!0;var _handlebarsBase=require("./handlebars/base"),base=_interopRequireWildcard(_handlebarsBase),_handlebarsSafeString=require("./handlebars/safe-string"),_handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString),_handlebarsException=require("./handlebars/exception"),_handlebarsException2=_interopRequireDefault(_handlebarsException),_handlebarsUtils=require("./handlebars/utils"),Utils=_interopRequireWildcard(_handlebarsUtils),_handlebarsRuntime=require("./handlebars/runtime"),runtime=_interopRequireWildcard(_handlebarsRuntime),_handlebarsNoConflict=require("./handlebars/no-conflict"),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),inst=create();inst.create=create,_handlebarsNoConflict2["default"](inst),inst["default"]=inst,exports["default"]=inst,module.exports=exports["default"]},{"./handlebars/base":4,"./handlebars/exception":7,"./handlebars/no-conflict":17,"./handlebars/runtime":18,"./handlebars/safe-string":19,"./handlebars/utils":20}],4:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function HandlebarsEnvironment(helpers,partials,decorators){this.helpers=helpers||{},this.partials=partials||{},this.decorators=decorators||{},_helpers.registerDefaultHelpers(this),_decorators.registerDefaultDecorators(this)}exports.__esModule=!0,exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=require("./utils"),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_helpers=require("./helpers"),_decorators=require("./decorators"),_logger=require("./logger"),_logger2=_interopRequireDefault(_logger),VERSION="4.0.5";exports.VERSION=VERSION;var COMPILER_REVISION=7;exports.COMPILER_REVISION=COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};exports.REVISION_CHANGES=REVISION_CHANGES;var objectType="[object Object]";HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2["default"],log:_logger2["default"].log,registerHelper:function(name,fn){if(_utils.toString.call(name)===objectType){if(fn)throw new _exception2["default"]("Arg not supported with multiple helpers");_utils.extend(this.helpers,name)}else this.helpers[name]=fn},unregisterHelper:function(name){delete this.helpers[name]},registerPartial:function(name,partial){if(_utils.toString.call(name)===objectType)_utils.extend(this.partials,name);else{if("undefined"==typeof partial)throw new _exception2["default"]('Attempting to register a partial called "'+name+'" as undefined');this.partials[name]=partial}},unregisterPartial:function(name){delete this.partials[name]},registerDecorator:function(name,fn){if(_utils.toString.call(name)===objectType){if(fn)throw new _exception2["default"]("Arg not supported with multiple decorators");_utils.extend(this.decorators,name)}else this.decorators[name]=fn},unregisterDecorator:function(name){delete this.decorators[name]}};var log=_logger2["default"].log;exports.log=log,exports.createFrame=_utils.createFrame,exports.logger=_logger2["default"]},{"./decorators":5,"./exception":7,"./helpers":8,"./logger":16,"./utils":20}],5:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function registerDefaultDecorators(instance){_decoratorsInline2["default"](instance)}exports.__esModule=!0,exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=require("./decorators/inline"),_decoratorsInline2=_interopRequireDefault(_decoratorsInline)},{"./decorators/inline":6}],6:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerDecorator("inline",function(fn,props,container,options){var ret=fn;return props.partials||(props.partials={},ret=function(context,options){var original=container.partials;container.partials=_utils.extend({},original,props.partials);var ret=fn(context,options);return container.partials=original,ret}),props.partials[options.args[0]]=options.fn,ret})},module.exports=exports["default"]},{"../utils":20}],7:[function(require,module,exports){"use strict";function Exception(message,node){var loc=node&&node.loc,line=void 0,column=void 0;loc&&(line=loc.start.line,column=loc.start.column,message+=" - "+line+":"+column);for(var tmp=Error.prototype.constructor.call(this,message),idx=0;idx<errorProps.length;idx++)this[errorProps[idx]]=tmp[errorProps[idx]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception),loc&&(this.lineNumber=line,this.column=column)}exports.__esModule=!0;var errorProps=["description","fileName","lineNumber","message","name","number","stack"];Exception.prototype=new Error,exports["default"]=Exception,module.exports=exports["default"]},{}],8:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function registerDefaultHelpers(instance){_helpersBlockHelperMissing2["default"](instance),_helpersEach2["default"](instance),_helpersHelperMissing2["default"](instance),_helpersIf2["default"](instance),_helpersLog2["default"](instance),_helpersLookup2["default"](instance),_helpersWith2["default"](instance)}exports.__esModule=!0,exports.registerDefaultHelpers=registerDefaultHelpers;var _helpersBlockHelperMissing=require("./helpers/block-helper-missing"),_helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing),_helpersEach=require("./helpers/each"),_helpersEach2=_interopRequireDefault(_helpersEach),_helpersHelperMissing=require("./helpers/helper-missing"),_helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing),_helpersIf=require("./helpers/if"),_helpersIf2=_interopRequireDefault(_helpersIf),_helpersLog=require("./helpers/log"),_helpersLog2=_interopRequireDefault(_helpersLog),_helpersLookup=require("./helpers/lookup"),_helpersLookup2=_interopRequireDefault(_helpersLookup),_helpersWith=require("./helpers/with"),_helpersWith2=_interopRequireDefault(_helpersWith)},{"./helpers/block-helper-missing":9,"./helpers/each":10,"./helpers/helper-missing":11,"./helpers/if":12,"./helpers/log":13,"./helpers/lookup":14,"./helpers/with":15}],9:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerHelper("blockHelperMissing",function(context,options){
var inverse=options.inverse,fn=options.fn;if(context===!0)return fn(this);if(context===!1||null==context)return inverse(this);if(_utils.isArray(context))return context.length>0?(options.ids&&(options.ids=[options.name]),instance.helpers.each(context,options)):inverse(this);if(options.data&&options.ids){var data=_utils.createFrame(options.data);data.contextPath=_utils.appendContextPath(options.data.contextPath,options.name),options={data:data}}return fn(context,options)})},module.exports=exports["default"]},{"../utils":20}],10:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _utils=require("../utils"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("each",function(context,options){function execIteration(field,index,last){data&&(data.key=field,data.index=index,data.first=0===index,data.last=!!last,contextPath&&(data.contextPath=contextPath+field)),ret+=fn(context[field],{data:data,blockParams:_utils.blockParams([context[field],field],[contextPath+field,null])})}if(!options)throw new _exception2["default"]("Must pass iterator to #each");var fn=options.fn,inverse=options.inverse,i=0,ret="",data=void 0,contextPath=void 0;if(options.data&&options.ids&&(contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])+"."),_utils.isFunction(context)&&(context=context.call(this)),options.data&&(data=_utils.createFrame(options.data)),context&&"object"==typeof context)if(_utils.isArray(context))for(var j=context.length;j>i;i++)i in context&&execIteration(i,i,i===context.length-1);else{var priorKey=void 0;for(var key in context)context.hasOwnProperty(key)&&(void 0!==priorKey&&execIteration(priorKey,i-1),priorKey=key,i++);void 0!==priorKey&&execIteration(priorKey,i-1,!0)}return 0===i&&(ret=inverse(this)),ret})},module.exports=exports["default"]},{"../exception":7,"../utils":20}],11:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}exports.__esModule=!0;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports["default"]=function(instance){instance.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new _exception2["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},module.exports=exports["default"]},{"../exception":7}],12:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerHelper("if",function(conditional,options){return _utils.isFunction(conditional)&&(conditional=conditional.call(this)),!options.hash.includeZero&&!conditional||_utils.isEmpty(conditional)?options.inverse(this):options.fn(this)}),instance.registerHelper("unless",function(conditional,options){return instance.helpers["if"].call(this,conditional,{fn:options.inverse,inverse:options.fn,hash:options.hash})})},module.exports=exports["default"]},{"../utils":20}],13:[function(require,module,exports){"use strict";exports.__esModule=!0,exports["default"]=function(instance){instance.registerHelper("log",function(){for(var args=[void 0],options=arguments[arguments.length-1],i=0;i<arguments.length-1;i++)args.push(arguments[i]);var level=1;null!=options.hash.level?level=options.hash.level:options.data&&null!=options.data.level&&(level=options.data.level),args[0]=level,instance.log.apply(instance,args)})},module.exports=exports["default"]},{}],14:[function(require,module,exports){"use strict";exports.__esModule=!0,exports["default"]=function(instance){instance.registerHelper("lookup",function(obj,field){return obj&&obj[field]})},module.exports=exports["default"]},{}],15:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("../utils");exports["default"]=function(instance){instance.registerHelper("with",function(context,options){_utils.isFunction(context)&&(context=context.call(this));var fn=options.fn;if(_utils.isEmpty(context))return options.inverse(this);var data=options.data;return options.data&&options.ids&&(data=_utils.createFrame(options.data),data.contextPath=_utils.appendContextPath(options.data.contextPath,options.ids[0])),fn(context,{data:data,blockParams:_utils.blockParams([context],[data&&data.contextPath])})})},module.exports=exports["default"]},{"../utils":20}],16:[function(require,module,exports){"use strict";exports.__esModule=!0;var _utils=require("./utils"),logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(level){if("string"==typeof level){var levelMap=_utils.indexOf(logger.methodMap,level.toLowerCase());level=levelMap>=0?levelMap:parseInt(level,10)}return level},log:function(level){if(level=logger.lookupLevel(level),"undefined"!=typeof console&&logger.lookupLevel(logger.level)<=level){var method=logger.methodMap[level];console[method]||(method="log");for(var _len=arguments.length,message=Array(_len>1?_len-1:0),_key=1;_len>_key;_key++)message[_key-1]=arguments[_key];console[method].apply(console,message)}}};exports["default"]=logger,module.exports=exports["default"]},{"./utils":20}],17:[function(require,module,exports){(function(global){"use strict";exports.__esModule=!0,exports["default"]=function(Handlebars){var root="undefined"!=typeof global?global:window,$Handlebars=root.Handlebars;Handlebars.noConflict=function(){return root.Handlebars===Handlebars&&(root.Handlebars=$Handlebars),Handlebars}},module.exports=exports["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;var newObj={};if(null!=obj)for(var key in obj)Object.prototype.hasOwnProperty.call(obj,key)&&(newObj[key]=obj[key]);return newObj["default"]=obj,newObj}function checkRevision(compilerInfo){var compilerRevision=compilerInfo&&compilerInfo[0]||1,currentRevision=_base.COMPILER_REVISION;if(compilerRevision!==currentRevision){if(currentRevision>compilerRevision){var runtimeVersions=_base.REVISION_CHANGES[currentRevision],compilerVersions=_base.REVISION_CHANGES[compilerRevision];throw new _exception2["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+runtimeVersions+") or downgrade your runtime to an older version ("+compilerVersions+").")}throw new _exception2["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+compilerInfo[1]+").")}}function template(templateSpec,env){function invokePartialWrapper(partial,context,options){options.hash&&(context=Utils.extend({},context,options.hash),options.ids&&(options.ids[0]=!0)),partial=env.VM.resolvePartial.call(this,partial,context,options);var result=env.VM.invokePartial.call(this,partial,context,options);if(null==result&&env.compile&&(options.partials[options.name]=env.compile(partial,templateSpec.compilerOptions,env),result=options.partials[options.name](context,options)),null!=result){if(options.indent){for(var lines=result.split("\n"),i=0,l=lines.length;l>i&&(lines[i]||i+1!==l);i++)lines[i]=options.indent+lines[i];result=lines.join("\n")}return result}throw new _exception2["default"]("The partial "+options.name+" could not be compiled when running in runtime-only mode")}function ret(context){function main(context){return""+templateSpec.main(container,context,container.helpers,container.partials,data,blockParams,depths)}var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],data=options.data;ret._setup(options),!options.partial&&templateSpec.useData&&(data=initData(context,data));var depths=void 0,blockParams=templateSpec.useBlockParams?[]:void 0;return templateSpec.useDepths&&(depths=options.depths?context!==options.depths[0]?[context].concat(options.depths):options.depths:[context]),(main=executeDecorators(templateSpec.main,main,container,options.depths||[],data,blockParams))(context,options)}if(!env)throw new _exception2["default"]("No environment passed to template");if(!templateSpec||!templateSpec.main)throw new _exception2["default"]("Unknown template object: "+typeof templateSpec);templateSpec.main.decorator=templateSpec.main_d,env.VM.checkRevision(templateSpec.compiler);var container={strict:function(obj,name){if(!(name in obj))throw new _exception2["default"]('"'+name+'" not defined in '+obj);return obj[name]},lookup:function(depths,name){for(var len=depths.length,i=0;len>i;i++)if(depths[i]&&null!=depths[i][name])return depths[i][name]},lambda:function(current,context){return"function"==typeof current?current.call(context):current},escapeExpression:Utils.escapeExpression,invokePartial:invokePartialWrapper,fn:function(i){var ret=templateSpec[i];return ret.decorator=templateSpec[i+"_d"],ret},programs:[],program:function(i,data,declaredBlockParams,blockParams,depths){var programWrapper=this.programs[i],fn=this.fn(i);return data||depths||blockParams||declaredBlockParams?programWrapper=wrapProgram(this,i,fn,data,declaredBlockParams,blockParams,depths):programWrapper||(programWrapper=this.programs[i]=wrapProgram(this,i,fn)),programWrapper},data:function(value,depth){for(;value&&depth--;)value=value._parent;return value},merge:function(param,common){var obj=param||common;return param&&common&&param!==common&&(obj=Utils.extend({},common,param)),obj},noop:env.VM.noop,compilerInfo:templateSpec.compiler};return ret.isTop=!0,ret._setup=function(options){options.partial?(container.helpers=options.helpers,container.partials=options.partials,container.decorators=options.decorators):(container.helpers=container.merge(options.helpers,env.helpers),templateSpec.usePartial&&(container.partials=container.merge(options.partials,env.partials)),(templateSpec.usePartial||templateSpec.useDecorators)&&(container.decorators=container.merge(options.decorators,env.decorators)))},ret._child=function(i,data,blockParams,depths){if(templateSpec.useBlockParams&&!blockParams)throw new _exception2["default"]("must pass block params");if(templateSpec.useDepths&&!depths)throw new _exception2["default"]("must pass parent depths");return wrapProgram(container,i,templateSpec[i],data,0,blockParams,depths)},ret}function wrapProgram(container,i,fn,data,declaredBlockParams,blockParams,depths){function prog(context){var options=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],currentDepths=depths;return depths&&context!==depths[0]&&(currentDepths=[context].concat(depths)),fn(container,context,container.helpers,container.partials,options.data||data,blockParams&&[options.blockParams].concat(blockParams),currentDepths)}return prog=executeDecorators(fn,prog,container,depths,data,blockParams),prog.program=i,prog.depth=depths?depths.length:0,prog.blockParams=declaredBlockParams||0,prog}function resolvePartial(partial,context,options){return partial?partial.call||options.name||(options.name=partial,partial=options.partials[partial]):partial="@partial-block"===options.name?options.data["partial-block"]:options.partials[options.name],partial}function invokePartial(partial,context,options){options.partial=!0,options.ids&&(options.data.contextPath=options.ids[0]||options.data.contextPath);var partialBlock=void 0;if(options.fn&&options.fn!==noop&&(options.data=_base.createFrame(options.data),partialBlock=options.data["partial-block"]=options.fn,partialBlock.partials&&(options.partials=Utils.extend({},options.partials,partialBlock.partials))),void 0===partial&&partialBlock&&(partial=partialBlock),void 0===partial)throw new _exception2["default"]("The partial "+options.name+" could not be found");return partial instanceof Function?partial(context,options):void 0}function noop(){return""}function initData(context,data){return data&&"root"in data||(data=data?_base.createFrame(data):{},data.root=context),data}function executeDecorators(fn,prog,container,depths,data,blockParams){if(fn.decorator){var props={};prog=fn.decorator(prog,props,container,depths&&depths[0],data,blockParams,depths),Utils.extend(prog,props)}return prog}exports.__esModule=!0,exports.checkRevision=checkRevision,exports.template=template,exports.wrapProgram=wrapProgram,exports.resolvePartial=resolvePartial,exports.invokePartial=invokePartial,exports.noop=noop;var _utils=require("./utils"),Utils=_interopRequireWildcard(_utils),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_base=require("./base")},{"./base":4,"./exception":7,"./utils":20}],19:[function(require,module,exports){"use strict";function SafeString(string){this.string=string}exports.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},exports["default"]=SafeString,module.exports=exports["default"]},{}],20:[function(require,module,exports){"use strict";function escapeChar(chr){return escape[chr]}function extend(obj){for(var i=1;i<arguments.length;i++)for(var key in arguments[i])Object.prototype.hasOwnProperty.call(arguments[i],key)&&(obj[key]=arguments[i][key]);return obj}function indexOf(array,value){for(var i=0,len=array.length;len>i;i++)if(array[i]===value)return i;return-1}function escapeExpression(string){if("string"!=typeof string){if(string&&string.toHTML)return string.toHTML();if(null==string)return"";if(!string)return string+"";string=""+string}return possible.test(string)?string.replace(badChars,escapeChar):string}function isEmpty(value){return value||0===value?isArray(value)&&0===value.length?!0:!1:!0}function createFrame(object){var frame=extend({},object);return frame._parent=object,frame}function blockParams(params,ids){return params.path=ids,params}function appendContextPath(contextPath,id){return(contextPath?contextPath+".":"")+id}exports.__esModule=!0,exports.extend=extend,exports.indexOf=indexOf,exports.escapeExpression=escapeExpression,exports.isEmpty=isEmpty,exports.createFrame=createFrame,exports.blockParams=blockParams,exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/,toString=Object.prototype.toString;exports.toString=toString;var isFunction=function(value){return"function"==typeof value};isFunction(/x/)&&(exports.isFunction=isFunction=function(value){return"function"==typeof value&&"[object Function]"===toString.call(value)}),exports.isFunction=isFunction;var isArray=Array.isArray||function(value){return value&&"object"==typeof value?"[object Array]"===toString.call(value):!1};exports.isArray=isArray},{}],21:[function(require,module,exports){module.exports=require("./dist/cjs/handlebars.runtime")["default"]},{"./dist/cjs/handlebars.runtime":3}],22:[function(require,module,exports){module.exports=require("handlebars/runtime")["default"]},{"handlebars/runtime":21}],23:[function(require,module,exports){!function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function isArraylike(obj){var length="length"in obj&&obj.length,type=jQuery.type(obj);return"function"===type||jQuery.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return indexOf.call(qualifier,elem)>=0!==not})}function sibling(cur,dir){for(;(cur=cur[dir])&&1!==cur.nodeType;);return cur}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Data.uid++}function dataAttr(elem,key,data){var name;if(void 0===data&&1===elem.nodeType)if(name="data-"+key.replace(rmultiDash,"-$1").toLowerCase(),data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}data_user.set(elem,key,data)}else data=void 0;return data}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==elem.getAttribute("type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var i=0,l=elems.length;l>i;i++)data_priv.set(elems[i],"globalEval",!refElements||data_priv.get(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){var i,l,type,pdataOld,pdataCur,udataOld,udataCur,events;if(1===dest.nodeType){if(data_priv.hasData(src)&&(pdataOld=data_priv.access(src),pdataCur=data_priv.set(dest,pdataOld),events=pdataOld.events)){delete pdataCur.handle,pdataCur.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}data_user.hasData(src)&&(udataOld=data_user.access(src),udataCur=jQuery.extend({},udataOld),data_user.set(dest,udataCur))}}function getAll(context,tag){var ret=context.getElementsByTagName?context.getElementsByTagName(tag||"*"):context.querySelectorAll?context.querySelectorAll(tag||"*"):[];return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],ret):ret}function fixInput(src,dest){var nodeName=dest.nodeName.toLowerCase();"input"===nodeName&&rcheckableType.test(src.type)?dest.checked=src.checked:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}function actualDisplay(name,doc){var style,elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle&&(style=window.getDefaultComputedStyle(elem[0]))?style.display:jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=iframe[0].contentDocument,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function curCSS(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),computed&&(ret=computed.getPropertyValue(name)||computed[name]),computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0!==ret?ret+"":ret}function addGetHookIf(conditionFn,hookFn){return{get:function(){return conditionFn()?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(style,name){if(name in style)return name;for(var capName=name[0].toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox="border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=data_priv.get(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=data_priv.access(elem,"olddisplay",defaultDisplay(elem.nodeName)))):(hidden=isHidden(elem),"none"===display&&hidden||data_priv.set(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,i=0,attrs={height:type};for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;length>index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,checkDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=data_priv.get(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),checkDisplay="none"===display?data_priv.get(elem,"olddisplay")||defaultDisplay(elem.nodeName):display,"inline"===checkDisplay&&"none"===jQuery.css(elem,"float")&&(style.display="inline-block")),opts.overflow&&(style.overflow="hidden",anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}else display=void 0;if(jQuery.isEmptyObject(orig))"inline"===("none"===display?defaultDisplay(elem.nodeName):display)&&(style.display=display);else{dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=data_priv.access(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;data_priv.remove(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType[0]?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var key,deep,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var ct,type,finalDataType,firstDataType,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType&&elem.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,support={},document=window.document,version="2.1.4",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?0>num?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args);
},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var options,name,src,copy,copyIsArray,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray,isWindow:function(obj){return null!=obj&&obj===obj.window},isNumeric:function(obj){return!jQuery.isArray(obj)&&obj-parseFloat(obj)+1>=0},isPlainObject:function(obj){return"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj)?!1:obj.constructor&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(1===code.indexOf("use strict")?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){return null==arr?-1:indexOf.call(arr,elem,i)},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;len>j;j++)first[i++]=second[j];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;length>i;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var tmp,args,proxy;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):void 0},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],nodeType=context.nodeType,"string"!=typeof selector||!selector||1!==nodeType&&9!==nodeType&&11!==nodeType)return results;if(!seed&&documentIsHTML){if(11!==nodeType&&(match=rquickExpr.exec(selector)))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=1!==nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&testContext(context.parentNode)||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=attrs.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&"undefined"!=typeof context.getElementsByTagName&&context}function setFilters(){}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),(oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(outerCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){var ret=!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml));return checkContext=null,ret}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;for(outermost&&(outermostContext=context!==document&&context);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}var i,support,Expr,getText,isXML,tokenize,compile,select,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+1*new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=function(list,elem){for(var i=0,len=list.length;len>i;i++)if(list[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")(?:"+whitespace+"*([*^$|!~]?=)"+whitespace+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+identifier+"))|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+attributes+")*)|.*)\\)|)",rwhitespace=new RegExp(whitespace+"+","g"),rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)},unloadHandler=function(){setDocument()};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},setDocument=Sizzle.setDocument=function(node){var hasCompare,parent,doc=node?node.ownerDocument||node:preferredDoc;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,parent=doc.defaultView,parent&&parent!==parent.top&&(parent.addEventListener?parent.addEventListener("unload",unloadHandler,!1):parent.attachEvent&&parent.attachEvent("onunload",unloadHandler)),documentIsHTML=!isXML(doc),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(doc.getElementsByClassName),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!doc.getElementsByName||!doc.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if("undefined"!=typeof context.getElementById&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node="undefined"!=typeof elem.getAttributeNode&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return"undefined"!=typeof context.getElementsByTagName?context.getElementsByTagName(tag):support.qsa?context.querySelectorAll(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(doc.querySelectorAll))&&(assert(function(div){docElem.appendChild(div).innerHTML="<a id='"+expando+"'></a><select id='"+expando+"-\f]' msallowcapture=''><option selected=''></option></select>",div.querySelectorAll("[msallowcapture^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll("[id~="+expando+"-]").length||rbuggyQSA.push("~="),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked"),div.querySelectorAll("a#"+expando+"+*").length||rbuggyQSA.push(".#.+[+~]")}),assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.matches||docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf(sortInput,a)-indexOf(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),support.matchesSelector&&documentIsHTML&&(!rbuggyMatches||!rbuggyMatches.test(expr))&&(!rbuggyQSA||!rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[3]||match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[6]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]?match[2]=match[4]||match[5]||"":unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||"undefined"!=typeof elem.getAttribute&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result.replace(rwhitespace," ")+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),input[0]=null,!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return text=text.replace(runescape,funescape),function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,tokenize=Sizzle.tokenize=function(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)},compile=Sizzle.compile=function(selector,match){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(match||(match=tokenize(selector)),i=match.length;i--;)cached=matcherFromTokens(match[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers)),cached.selector=selector}return cached},select=Sizzle.select=function(selector,context,results,seed){var i,tokens,token,type,find,compiled="function"==typeof selector&&selector,match=!seed&&tokenize(selector=compiled.selector||selector);if(results=results||[],1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],
!context)return results;compiled&&(context=context.parentNode),selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return(compiled||compile(selector,match))(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context),results},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){return isXML?void 0:elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){return isXML||"input"!==elem.nodeName.toLowerCase()?void 0:elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;return isXML?void 0:elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,len=this.length,ret=[],self=this;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len>i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector[0]&&">"===selector[selector.length-1]&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}return elem=document.getElementById(match[2]),elem&&elem.parentNode&&(this.length=1,this[0]=elem),this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?"undefined"!=typeof rootjQuery.ready?rootjQuery.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(elem,dir,until){for(var matched=[],truncate=void 0!==until;(elem=elem[dir])&&9!==elem.nodeType;)if(1===elem.nodeType){if(truncate&&jQuery(elem).is(until))break;matched.push(elem)}return matched},sibling:function(n,elem){for(var matched=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&matched.push(n);return matched}}),jQuery.fn.extend({has:function(target){var targets=jQuery(target,this),l=targets.length;return this.filter(function(){for(var i=0;l>i;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){return elem?"string"==typeof elem?indexOf.call(jQuery(elem),this[0]):indexOf.call(this,elem.jquery?elem[0]:elem):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return elem.contentDocument||jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var matched=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(matched=jQuery.filter(selector,matched)),this.length>1&&(guaranteedUnique[name]||jQuery.unique(matched),rparentsprev.test(name)&&matched.reverse()),this.pushStack(matched)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var memory,fired,firing,firingStart,firingLength,firingIndex,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(firingLength>=index&&firingLength--,firingIndex>=index&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=void 0,this},disabled:function(){return!list},lock:function(){return stack=void 0,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return!list||fired&&!stack||(args=args||[],args=[context,args.slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){(wait===!0?--jQuery.readyWait:jQuery.isReady)||(jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.triggerHandler&&(jQuery(document).triggerHandler("ready"),jQuery(document).off("ready"))))}}),jQuery.ready.promise=function(obj){return readyList||(readyList=jQuery.Deferred(),"complete"===document.readyState?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(obj)},jQuery.ready.promise();var access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,len=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;len>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):len?fn(elems[0],key):emptyGet};jQuery.acceptData=function(owner){return 1===owner.nodeType||9===owner.nodeType||!+owner.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(owner){if(!Data.accepts(owner))return 0;var descriptor={},unlock=owner[this.expando];if(!unlock){unlock=Data.uid++;try{descriptor[this.expando]={value:unlock},Object.defineProperties(owner,descriptor)}catch(e){descriptor[this.expando]=unlock,jQuery.extend(owner,descriptor)}}return this.cache[unlock]||(this.cache[unlock]={}),unlock},set:function(owner,data,value){var prop,unlock=this.key(owner),cache=this.cache[unlock];if("string"==typeof data)cache[data]=value;else if(jQuery.isEmptyObject(cache))jQuery.extend(this.cache[unlock],data);else for(prop in data)cache[prop]=data[prop];return cache},get:function(owner,key){var cache=this.cache[this.key(owner)];return void 0===key?cache:cache[key]},access:function(owner,key,value){var stored;return void 0===key||key&&"string"==typeof key&&void 0===value?(stored=this.get(owner,key),void 0!==stored?stored:this.get(owner,jQuery.camelCase(key))):(this.set(owner,key,value),void 0!==value?value:key)},remove:function(owner,key){var i,name,camel,unlock=this.key(owner),cache=this.cache[unlock];if(void 0===key)this.cache[unlock]={};else{jQuery.isArray(key)?name=key.concat(key.map(jQuery.camelCase)):(camel=jQuery.camelCase(key),key in cache?name=[key,camel]:(name=camel,name=name in cache?[name]:name.match(rnotwhite)||[])),i=name.length;for(;i--;)delete cache[name[i]]}},hasData:function(owner){return!jQuery.isEmptyObject(this.cache[owner[this.expando]]||{})},discard:function(owner){owner[this.expando]&&delete this.cache[owner[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(elem){return data_user.hasData(elem)||data_priv.hasData(elem)},data:function(elem,name,data){return data_user.access(elem,name,data)},removeData:function(elem,name){data_user.remove(elem,name)},_data:function(elem,name,data){return data_priv.access(elem,name,data)},_removeData:function(elem,name){data_priv.remove(elem,name)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=data_user.get(elem),1===elem.nodeType&&!data_priv.get(elem,"hasDataAttrs"))){for(i=attrs.length;i--;)attrs[i]&&(name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name])));data_priv.set(elem,"hasDataAttrs",!0)}return data}return"object"==typeof key?this.each(function(){data_user.set(this,key)}):access(this,function(value){var data,camelKey=jQuery.camelCase(key);if(elem&&void 0===value){if(data=data_user.get(elem,key),void 0!==data)return data;if(data=data_user.get(elem,camelKey),void 0!==data)return data;if(data=dataAttr(elem,camelKey,void 0),void 0!==data)return data}else this.each(function(){var data=data_user.get(this,camelKey);data_user.set(this,camelKey,value),-1!==key.indexOf("-")&&void 0!==data&&data_user.set(this,key,value)})},null,value,arguments.length>1,null,!0)},removeData:function(key){return this.each(function(){data_user.remove(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=data_priv.get(elem,type),data&&(!queue||jQuery.isArray(data)?queue=data_priv.access(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return data_priv.get(elem,key)||data_priv.access(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(elem,[type+"queue",key])})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=data_priv.get(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},rcheckableType=/^(?:checkbox|radio)$/i;!function(){var fragment=document.createDocumentFragment(),div=fragment.appendChild(document.createElement("div")),input=document.createElement("input");input.setAttribute("type","radio"),input.setAttribute("checked","checked"),input.setAttribute("name","t"),div.appendChild(input),support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue}();var strundefined="undefined";support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|pointer|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var handleObjIn,eventHandle,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.get(elem);if(elemData)for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery!==strundefined&&jQuery.event.triggered!==e.type?jQuery.event.dispatch.apply(elem,arguments):void 0}),types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||elem.addEventListener&&elem.addEventListener(type,eventHandle,!1)),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0)},remove:function(elem,types,handler,selector,mappedTypes){var j,origCount,tmp,events,t,handleObj,special,handlers,type,namespaces,origType,elemData=data_priv.hasData(elem)&&data_priv.get(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,data_priv.remove(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var i,cur,tmp,bubbleType,ontype,handle,special,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(data_priv.get(cur,"events")||{})[event.type]&&data_priv.get(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&jQuery.acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());return event.type=type,onlyHandlers||event.isDefaultPrevented()||special._default&&special._default.apply(eventPath.pop(),data)!==!1||!jQuery.acceptData(elem)||ontype&&jQuery.isFunction(elem[type])&&!jQuery.isWindow(elem)&&(tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type,elem[type](),jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)),event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,j,ret,matched,handleObj,handlerQueue=[],args=slice.call(arguments),handlers=(data_priv.get(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.namespace_re||event.namespace_re.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var i,matches,sel,handleObj,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!==this;cur=cur.parentNode||this)if(cur.disabled!==!0||"click"!==event.type){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matches[sel]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var eventDoc,doc,body,button=original.button;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=document),3===event.target.nodeType&&(event.target=event.target.parentNode),fixHook.filter?fixHook.filter(event,originalEvent):event},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==safeActiveElement()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===safeActiveElement()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&jQuery.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&event.originalEvent&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&src.returnValue===!1?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=returnTrue,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix);attaches||doc.addEventListener(orig,handler,!0),data_priv.access(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=data_priv.access(doc,fix)-1;attaches?data_priv.access(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),data_priv.remove(doc,fix))}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var origFn,type;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var i,l,srcElements,destElements,clone=elem.cloneNode(!0),inPage=jQuery.contains(elem.ownerDocument,elem);
if(!(support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0,l=srcElements.length;l>i;i++)fixInput(srcElements[i],destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0,l=srcElements.length;l>i;i++)cloneCopyEvent(srcElements[i],destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),clone},buildFragment:function(elems,context,scripts,selection){for(var elem,tmp,tag,wrap,contains,j,fragment=context.createDocumentFragment(),nodes=[],i=0,l=elems.length;l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;jQuery.merge(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}else nodes.push(context.createTextNode(elem));for(fragment.textContent="",i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(fragment.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return fragment},cleanData:function(elems){for(var data,elem,type,key,special=jQuery.event.special,i=0;void 0!==(elem=elems[i]);i++){if(jQuery.acceptData(elem)&&(key=elem[data_priv.expando],key&&(data=data_priv.cache[key]))){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);data_priv.cache[key]&&delete data_priv.cache[key]}delete data_user.cache[elem[data_user.expando]]}}}),jQuery.fn.extend({text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=value)})},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++)1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.textContent="");return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value&&1===elem.nodeType)return elem.innerHTML;if("string"==typeof value&&!rnoInnerhtml.test(value)&&!wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()]){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];return this.domManip(arguments,function(elem){arg=this.parentNode,jQuery.cleanData(getAll(this)),arg&&arg.replaceChild(elem,this)}),arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback){args=concat.apply([],args);var fragment,first,scripts,hasScripts,node,doc,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!data_priv.access(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval(node.textContent.replace(rcleanScript,"")))}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,ret=[],insert=jQuery(selector),last=insert.length-1,i=0;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(elem){return elem.ownerDocument.defaultView.opener?elem.ownerDocument.defaultView.getComputedStyle(elem,null):window.getComputedStyle(elem,null)};!function(){function computePixelPositionAndBoxSizingReliable(){div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",div.innerHTML="",docElem.appendChild(container);var divStyle=window.getComputedStyle(div,null);pixelPositionVal="1%"!==divStyle.top,boxSizingReliableVal="4px"===divStyle.width,docElem.removeChild(container)}var pixelPositionVal,boxSizingReliableVal,docElem=document.documentElement,container=document.createElement("div"),div=document.createElement("div");div.style&&(div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,container.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",container.appendChild(div),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return computePixelPositionAndBoxSizingReliable(),pixelPositionVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computePixelPositionAndBoxSizingReliable(),boxSizingReliableVal},reliableMarginRight:function(){var ret,marginDiv=div.appendChild(document.createElement("div"));return marginDiv.style.cssText=div.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",docElem.appendChild(container),ret=!parseFloat(window.getComputedStyle(marginDiv,null).marginRight),docElem.removeChild(container),div.removeChild(marginDiv),ret}}))}(),jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:"0",fontWeight:"400"},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value?hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name]:(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null!=value&&value===value&&("number"!==type||jQuery.cssNumber[origName]||(value+="px"),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra))||(style[name]=value)),void 0)}},css:function(elem,name,extra,styles){var val,num,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?rdisplayswap.test(jQuery.css(elem,"display"))&&0===elem.offsetWidth?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){return computed?jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):void 0}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.options.duration?this.pos=eased=jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):this.pos=eased=percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||"px"!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3],parts=parts||[],start=+target||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}return parts&&(start=tween.start=+start||+target||0,tween.unit=unit,tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]),tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||data_priv.get(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=data_priv.get(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=data_priv.get(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,i=0,timers=jQuery.timers;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},function(){var input=document.createElement("input"),select=document.createElement("select"),opt=select.appendChild(document.createElement("option"));input.type="checkbox",support.checkOn=""!==input.value,support.optSelected=opt.selected,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.value="t",input.type="radio",support.radioValue="t"===input.value}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),void 0===value?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret):null!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)&&(elem[propName]=!1),elem.removeAttribute(name)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):elem.setAttribute(name,name),name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return this.each(function(){delete this[jQuery.propFix[name]||name]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){return elem.hasAttribute("tabindex")||rfocusable.test(elem.nodeName)||elem.href?elem.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&parent.parentNode&&parent.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed="string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),elem.className!==finalValue&&(elem.className=finalValue)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,proceed=0===arguments.length||"string"==typeof value&&value,i=0,len=this.length;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");finalValue=value?jQuery.trim(cur):"",elem.className!==finalValue&&(elem.className=finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):jQuery.isFunction(value)?this.each(function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}):this.each(function(){if("string"===type)for(var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else(type===strundefined||"boolean"===type)&&(this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||value===!1?"":data_priv.get(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.trim(jQuery.text(elem))}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],(option.selected||i===index)&&(support.optDisabled?!option.disabled:null===option.getAttribute("disabled"))&&(!option.parentNode.disabled||!jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)option=options[i],(option.selected=jQuery.inArray(option.value,values)>=0)&&(optionSet=!0);return optionSet||(elem.selectedIndex=-1),values}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:void 0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(data){return JSON.parse(data+"")},jQuery.parseXML=function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")}catch(e){xml=void 0}return(!xml||xml.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+data),xml};var rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*"),ajaxLocation=window.location.href,ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[];jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var transport,cacheURL,responseHeadersString,responseHeaders,timeoutTimer,parts,fireGlobals,i,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),
s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;fireGlobals=jQuery.event&&s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){var wrap;return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapAll(html.call(this,i))}):(this[0]&&(wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstElementChild;)elem=elem.firstElementChild;return elem}).append(this)),this)},wrapInner:function(html){return jQuery.isFunction(html)?this.each(function(i){jQuery(this).wrapInner(html.call(this,i))}):this.each(function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.attachEvent&&window.attachEvent("onunload",function(){for(var key in xhrCallbacks)xhrCallbacks[key]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(options){var callback;return support.cors||xhrSupported&&!options.crossDomain?{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)xhr.setRequestHeader(i,headers[i]);callback=function(type){return function(){callback&&(delete xhrCallbacks[id],callback=xhr.onload=xhr.onerror=null,"abort"===type?xhr.abort():"error"===type?complete(xhr.status,xhr.statusText):complete(xhrSuccessStatus[xhr.status]||xhr.status,xhr.statusText,"string"==typeof xhr.responseText?{text:xhr.responseText}:void 0,xhr.getAllResponseHeaders()))}},xhr.onload=callback(),xhr.onerror=callback("error"),callback=xhrCallbacks[id]=callback("abort");try{xhr.send(options.hasContent&&options.data||null)}catch(e){if(callback)throw e}},abort:function(){callback&&callback()}}:void 0}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET")}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,callback;return{send:function(_,complete){script=jQuery("<script>").prop({async:!0,charset:s.scriptCharset,src:s.url}).on("load error",callback=function(evt){script.remove(),callback=null,evt&&complete("error"===evt.type?404:200,evt.type)}),document.head.appendChild(script[0])},abort:function(){callback&&callback()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"):void 0}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,type,response,self=this,off=url.indexOf(" ");return off>=0&&(selector=jQuery.trim(url.slice(off)),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&(curCSSTop+curCSSLeft).indexOf("auto")>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,elem=this[0],box={top:0,left:0},doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+win.pageYOffset-docElem.clientTop,left:box.left+win.pageXOffset-docElem.clientLeft}):box},position:function(){if(this[0]){var offsetParent,offset,elem=this[0],parentOffset={top:0,left:0};return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top="pageYOffset"===prop;jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?win[prop]:elem[method]:void(win?win.scrollTo(top?window.pageXOffset:val,top?val:window.pageYOffset):elem[method]=val)},method,val,arguments.length,null)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):void 0})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery})},{}],24:[function(require,module,exports){(function(global){!function(root,factory){"object"==typeof exports?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):root.ol=factory()}(this,function(){function t(a,b,c){a=a.split("."),c=c||aa,a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)a.length||void 0===b?c=c[d]?c[d]:c[d]={}:c[d]=b}function ba(a){a.Yb=function(){return a.Tg?a.Tg:a.Tg=new a}}function ca(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function da(a){return"string"==typeof a}function ea(a){return"number"==typeof a}function fa(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function w(a){return a[ga]||(a[ga]=++ha)}function ia(a,b,c){return a.call.apply(a.bind,arguments)}function ja(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(c,d),a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ka(a,b,c){return ka=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ia:ja,ka.apply(null,arguments)}function la(a,b){function c(){}c.prototype=b.prototype,a.Yp=b.prototype,a.prototype=new c,a.prototype.constructor=a,a.Rp=function(a,c,f){for(var g=Array(arguments.length-2),h=2;h<arguments.length;h++)g[h-2]=arguments[h];return b.prototype[c].apply(a,g)}}function y(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a}function pa(){}function ra(a){if(Error.captureStackTrace)Error.captureStackTrace(this,ra);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function sa(a,b){for(var c=a.split("%s"),d="",e=Array.prototype.slice.call(arguments,1);e.length&&1<c.length;)d+=c.shift()+e.shift();return d+c.join("%s")}function ua(a,b){return b>a?-1:a>b?1:0}function va(a,b){b.unshift(a),ra.call(this,sa.apply(null,b)),b.shift()}function wa(a,b){throw new va("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1))}function xa(a,b,c){return Math.min(Math.max(a,b),c)}function Ba(a,b,c,d,e,f){var g=e-c,h=f-d;if(0!==g||0!==h){var l=((a-c)*g+(b-d)*h)/(g*g+h*h);l>1?(c=e,d=f):l>0&&(c+=g*l,d+=h*l)}return Ca(a,b,c,d)}function Ca(a,b,c,d){return a=c-a,b=d-b,a*a+b*b}function Da(a){return a*Math.PI/180}function Ea(a,b){var c=a%b;return 0>c*b?c+b:c}function Fa(a,b,c){return a+c*(b-a)}function Ga(a){return function(b){return b?[xa(b[0],a[0],a[2]),xa(b[1],a[1],a[3])]:void 0}}function Ha(a){return a}function Ia(a,b,c){this.center=a,this.resolution=b,this.rotation=c}function Ka(a){for(var b in a)delete a[b]}function La(a){var c,b=[];for(c in a)b.push(a[c]);return b}function Ma(a){for(var b in a)return!1;return!b}function Oa(a){function b(b){var d=a.listener,e=a.ng||a.target;return a.pg&&Pa(a),d.call(e,b)}return a.og=b}function Qa(a,b,c,d){for(var e,f=0,g=a.length;g>f;++f)if(e=a[f],e.listener===b&&e.ng===c)return d&&(e.deleteIndex=f),e}function Ra(a,b){var c=a[Na];return c?c[b]:void 0}function Sa(a){var b=a[Na];return b||(b=a[Na]={}),b}function Ta(a,b){var c=Ra(a,b);if(c){for(var d=0,e=c.length;e>d;++d)a.removeEventListener(b,c[d].og),Ka(c[d]);c.length=0,(c=a[Na])&&(delete c[b],0===Object.keys(c).length&&delete a[Na])}}function B(a,b,c,d,e){var f=Sa(a),g=f[b];return g||(g=f[b]=[]),(f=Qa(g,c,d,!1))?e||(f.pg=!1):(f={ng:d,pg:!!e,listener:c,target:a,type:b},a.addEventListener(b,Oa(f)),g.push(f)),f}function Ua(a,b,c,d){return B(a,b,c,d,!0)}function Xa(a,b,c,d){(a=Ra(a,b))&&(c=Qa(a,c,d,!0))&&Pa(c)}function Pa(a){if(a&&a.target){a.target.removeEventListener(a.type,a.og);var b=Ra(a.target,a.type);if(b){var c="deleteIndex"in a?a.deleteIndex:b.indexOf(a);-1!==c&&b.splice(c,1),0===b.length&&Ta(a.target,a.type)}Ka(a)}}function Za(a){var c,b=Sa(a);for(c in b)Ta(a,c)}function $a(){}function ab(a){a.Fb||(a.Fb=!0,a.ja())}function bb(a,b){this.type=a,this.target=b||null}function cb(a){a.stopPropagation()}function db(a){a.preventDefault()}function eb(){this.Ra={},this.Ba={},this.ya={}}function fb(a,b){return b?b in a.ya:0<Object.keys(a.ya).length}function gb(){eb.call(this),this.g=0}function hb(a){if(Array.isArray(a))for(var b=0,c=a.length;c>b;++b)Pa(a[b]);else Pa(a)}function ib(a,b,c){bb.call(this,a),this.key=b,this.oldValue=c}function jb(a){gb.call(this),w(this),this.U={},void 0!==a&&this.G(a)}function lb(a){return kb.hasOwnProperty(a)?kb[a]:kb[a]="change:"+a}function mb(a,b,c){var d;d=lb(b),a.b(new ib(d,b,c)),a.b(new ib("propertychange",b,c))}function nb(a,b){return a>b?1:b>a?-1:0}function ob(a,b){return 0<=a.indexOf(b)}function pb(a,b,c){var d=a.length;if(a[0]<=b)return 0;if(!(b<=a[d-1])){if(c>0){for(c=1;d>c;++c)if(a[c]<b)return c-1}else if(0>c){for(c=1;d>c;++c)if(a[c]<=b)return c}else for(c=1;d>c;++c){if(a[c]==b)return c;if(a[c]<b)return a[c-1]-b<b-a[c]?c-1:c}wa()}return d-1}function qb(a){return a.reduce(function(a,c){return Array.isArray(c)?a.concat(qb(c)):a.concat(c)},[])}function rb(a,b){var c;c=ca(b);var d="array"==c||"object"==c&&"number"==typeof b.length?b:[b],e=d.length;for(c=0;e>c;c++)a[a.length]=d[c]}function sb(a,b){var c=a.indexOf(b),d=c>-1;return d&&a.splice(c,1),d}function tb(a,b){for(var d,c=a.length>>>0,e=0;c>e;e++)if(d=a[e],b(d,e,a))return d;return null}function ub(a,b){var c=a.length;if(c!==b.length)return!1;for(var d=0;c>d;d++)if(a[d]!==b[d])return!1;return!0}function vb(a){var e,b=wb,c=a.length,d=Array(a.length);for(e=0;c>e;e++)d[e]={index:e,value:a[e]};for(d.sort(function(a,c){return b(a.value,c.value)||a.index-c.index}),e=0;e<a.length;e++)a[e]=d[e].value}function xb(a,b){var c;return a.every(function(d,e){return c=e,!b(d,e,a)})?-1:c}function yb(a){return function(b,c,d){return void 0!==b?(b=pb(a,b,d),b=xa(b+c,0,a.length-1),a[b]):void 0}}function zb(a,b,c){return function(d,e,f){return void 0!==d?(d=Math.max(Math.floor(Math.log(b/d)/Math.log(a)+(f>0?0:0>f?1:.5))+e,0),void 0!==c&&(d=Math.min(d,c)),b/Math.pow(a,d)):void 0}}function Ab(a){return void 0!==a?0:void 0}function Bb(a,b){return void 0!==a?a+b:void 0}function Cb(a){var b=2*Math.PI/a;return function(a,d){return void 0!==a?a=Math.floor((a+d)/b+.5)*b:void 0}}function Db(){var a=Da(5);return function(b,c){return void 0!==b?Math.abs(b+c)<=a?0:b+c:void 0}}function Eb(a,b){var c=void 0!==b?a.toFixed(b):""+a,d=c.indexOf("."),d=-1===d?c.length:d;return d>2?c:Array(3-d).join("0")+c}function Fb(a){a=(""+a).split(".");for(var b=["1","3"],c=0;c<Math.max(a.length,b.length);c++){var d=parseInt(a[c]||"0",10),e=parseInt(b[c]||"0",10);if(d>e)return 1;if(e>d)return-1}return 0}function Gb(a,b){return a[0]+=b[0],a[1]+=b[1],a}function Hb(a,b){var c=a[0],d=a[1],e=b[0],f=b[1],g=e[0],e=e[1],h=f[0],f=f[1],l=h-g,m=f-e,c=0===l&&0===m?0:(l*(c-g)+m*(d-e))/(l*l+m*m||0);return 0>=c||(c>=1?(g=h,e=f):(g+=c*l,e+=c*m)),[g,e]}function Ib(a,b,c){a=Ea(a+180,360)-180;var d=Math.abs(3600*a);return Math.floor(d/3600)+" "+Eb(Math.floor(d/60%60))+" "+Eb(d%60,c||0)+" "+b.charAt(0>a?1:0)}function Jb(a,b,c){return a?b.replace("{x}",a[0].toFixed(c)).replace("{y}",a[1].toFixed(c)):""}function Kb(a,b){for(var c=!0,d=a.length-1;d>=0;--d)if(a[d]!=b[d]){c=!1;break}return c}function Lb(a,b){var c=Math.cos(b),d=Math.sin(b),e=a[1]*c+a[0]*d;return a[0]=a[0]*c-a[1]*d,a[1]=e,a}function Mb(a,b){var c=a[0]-b[0],d=a[1]-b[1];return c*c+d*d}function Nb(a,b){return Mb(a,Hb(a,b))}function Pb(a,b){return Jb(a,"{x}, {y}",b)}function Qb(a){for(var b=Sb(),c=0,d=a.length;d>c;++c)Tb(b,a[c]);return b}function Ub(a,b,c){return c?(c[0]=a[0]-b,c[1]=a[1]-b,c[2]=a[2]+b,c[3]=a[3]+b,c):[a[0]-b,a[1]-b,a[2]+b,a[3]+b]}function Vb(a,b){return b?(b[0]=a[0],b[1]=a[1],b[2]=a[2],b[3]=a[3],b):a.slice()}function Wb(a,b,c){return b=b<a[0]?a[0]-b:a[2]<b?b-a[2]:0,a=c<a[1]?a[1]-c:a[3]<c?c-a[3]:0,b*b+a*a}function Xb(a,b){return Yb(a,b[0],b[1])}function Zb(a,b){return a[0]<=b[0]&&b[2]<=a[2]&&a[1]<=b[1]&&b[3]<=a[3]}function Yb(a,b,c){return a[0]<=b&&b<=a[2]&&a[1]<=c&&c<=a[3]}function $b(a,b){var c=a[1],d=a[2],e=a[3],f=b[0],g=b[1],h=0;return f<a[0]?h|=16:f>d&&(h|=4),c>g?h|=8:g>e&&(h|=2),0===h&&(h=1),h}function Sb(){return[1/0,1/0,-(1/0),-(1/0)]}function ac(a,b,c,d,e){return e?(e[0]=a,e[1]=b,e[2]=c,e[3]=d,e):[a,b,c,d]}function bc(a,b){var c=a[0],d=a[1];return ac(c,d,c,d,b)}function cc(a,b,c,d,e){return e=ac(1/0,1/0,-(1/0),-(1/0),e),dc(e,a,b,c,d)}function ec(a,b){return a[0]==b[0]&&a[2]==b[2]&&a[1]==b[1]&&a[3]==b[3]}function fc(a,b){return b[0]<a[0]&&(a[0]=b[0]),b[2]>a[2]&&(a[2]=b[2]),b[1]<a[1]&&(a[1]=b[1]),b[3]>a[3]&&(a[3]=b[3]),a}function Tb(a,b){b[0]<a[0]&&(a[0]=b[0]),b[0]>a[2]&&(a[2]=b[0]),b[1]<a[1]&&(a[1]=b[1]),b[1]>a[3]&&(a[3]=b[1])}function dc(a,b,c,d,e){for(;d>c;c+=e){var f=a,g=b[c],h=b[c+1];f[0]=Math.min(f[0],g),f[1]=Math.min(f[1],h),f[2]=Math.max(f[2],g),f[3]=Math.max(f[3],h)}return a}function gc(a,b,c){var d;return(d=b.call(c,hc(a)))||(d=b.call(c,ic(a)))||(d=b.call(c,jc(a)))?d:(d=b.call(c,kc(a)))?d:!1}function lc(a){var b=0;return mc(a)||(b=nc(a)*oc(a)),b}function hc(a){return[a[0],a[1]]}function ic(a){return[a[2],a[1]]}function pc(a){return[(a[0]+a[2])/2,(a[1]+a[3])/2]}function qc(a,b,c,d,e){var f=b*d[0]/2;d=b*d[1]/2,b=Math.cos(c);var g=Math.sin(c);c=f*b,f*=g,b*=d;var h=d*g,l=a[0],m=a[1];a=l-c+h,d=l-c-h,g=l+c-h,c=l+c+h;var h=m-f-b,l=m-f+b,n=m+f+b,f=m+f-b;return ac(Math.min(a,d,g,c),Math.min(h,l,n,f),Math.max(a,d,g,c),Math.max(h,l,n,f),e)}function oc(a){return a[3]-a[1]}function rc(a,b,c){return c=c?c:Sb(),sc(a,b)&&(c[0]=a[0]>b[0]?a[0]:b[0],c[1]=a[1]>b[1]?a[1]:b[1],c[2]=a[2]<b[2]?a[2]:b[2],c[3]=a[3]<b[3]?a[3]:b[3]),c}function kc(a){return[a[0],a[3]]}function jc(a){return[a[2],a[3]]}function nc(a){return a[2]-a[0]}function sc(a,b){return a[0]<=b[2]&&a[2]>=b[0]&&a[1]<=b[3]&&a[3]>=b[1]}function mc(a){return a[2]<a[0]||a[3]<a[1]}function tc(a,b){var c=(a[2]-a[0])/2*(b-1),d=(a[3]-a[1])/2*(b-1);a[0]-=c,a[2]+=c,a[1]-=d,a[3]+=d}function uc(a,b,c){a=[a[0],a[1],a[0],a[3],a[2],a[1],a[2],a[3]],b(a,a,2);var d=[a[0],a[2],a[4],a[6]],e=[a[1],a[3],a[5],a[7]];return b=Math.min.apply(null,d),a=Math.min.apply(null,e),d=Math.max.apply(null,d),e=Math.max.apply(null,e),ac(b,a,d,e,c)}function vc(){return!0}function wc(){return!1}function xc(a){this.radius=a}function Ac(a){this.cb=a.code,this.c=a.units,this.f=void 0!==a.extent?a.extent:null,this.i=void 0!==a.worldExtent?a.worldExtent:null,this.b=void 0!==a.axisOrientation?a.axisOrientation:"enu",this.g=void 0!==a.global?a.global:!1,this.a=!(!this.g||!this.f),this.o=void 0!==a.getPointResolution?a.getPointResolution:this.sk,this.l=null,this.j=a.metersPerUnit;var b=Bc,c=a.code,d=Cc||qa.proj4;if("function"==typeof d&&void 0===b[c]){var e=d.defs(c);if(void 0!==e){void 0!==e.axis&&void 0===a.axisOrientation&&(this.b=e.axis),void 0===a.metersPerUnit&&(this.j=e.to_meter),void 0===a.units&&(this.c=e.units);for(var f in b)b=d.defs(f),void 0!==b&&(a=Dc(f),b===e?Ec([a,this]):(b=d(f,c),Fc(a,this,b.forward,b.inverse)))}}}function Ec(a){Ic(a),a.forEach(function(b){a.forEach(function(a){b!==a&&Jc(b,a,Kc)})})}function Lc(){var a=Mc,b=Nc,c=Oc;Pc.forEach(function(d){a.forEach(function(a){Jc(d,a,b),Jc(a,d,c)})})}function Qc(a){Bc[a.cb]=a,Jc(a,a,Kc)}function Ic(a){var b=[];a.forEach(function(a){b.push(Qc(a))})}function Rc(a){return a?"string"==typeof a?Dc(a):a:Dc("EPSG:3857")}function Jc(a,b,c){a=a.cb,b=b.cb,a in Hc||(Hc[a]={}),Hc[a][b]=c}function Fc(a,b,c,d){a=Dc(a),b=Dc(b),Jc(a,b,Sc(c)),Jc(b,a,Sc(d))}function Sc(a){return function(b,c,d){var e=b.length;d=void 0!==d?d:2,c=void 0!==c?c:Array(e);var f,g;for(g=0;e>g;g+=d)for(f=a([b[g],b[g+1]]),c[g]=f[0],c[g+1]=f[1],f=d-1;f>=2;--f)c[g+f]=b[g+f];return c}}function Dc(a){var b;if(a instanceof Ac)b=a;else if("string"==typeof a){b=Bc[a];var c=Cc||qa.proj4;void 0===b&&"function"==typeof c&&void 0!==c.defs(a)&&(b=new Ac({code:a}),Qc(b))}else b=null;return b}function Tc(a,b){if(a===b)return!0;var c=a.vb()===b.vb();return a.cb===b.cb?c:Gc(a,b)===Kc&&c}function Uc(a,b){var c=Dc(a),d=Dc(b);return Gc(c,d)}function Gc(a,b){var e,c=a.cb,d=b.cb;return c in Hc&&d in Hc[c]&&(e=Hc[c][d]),void 0===e&&(e=Vc),e}function Vc(a,b){if(void 0!==b&&a!==b){wa("This should not be used internally.");for(var c=0,d=a.length;d>c;++c)b[c]=a[c];a=b}return a}function Kc(a,b){var c;if(void 0!==b){c=0;for(var d=a.length;d>c;++c)b[c]=a[c];c=b}else c=a.slice();return c}function Wc(a,b,c){return Uc(b,c)(a,void 0,a.length)}function Xc(a,b,c){return b=Uc(b,c),uc(a,b)}function Yc(){jb.call(this),this.v=Sb(),this.A=-1,this.l={},this.s=this.o=0}function Zc(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}function $c(a){this.length=a.length||a;for(var b=0;b<this.length;b++)this[b]=a[b]||0}function ad(a,b,c,d,e){a[0]=b,a[1]=c,a[2]=d,a[3]=e}function bd(){var a=Array(16);return cd(a,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0),a}function dd(){var a=Array(16);return cd(a,1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),a}function cd(a,b,c,d,e,f,g,h,l,m,n,p,q,r,u,x,v){a[0]=b,a[1]=c,a[2]=d,a[3]=e,a[4]=f,a[5]=g,a[6]=h,a[7]=l,a[8]=m,a[9]=n,a[10]=p,a[11]=q,a[12]=r,a[13]=u,a[14]=x,a[15]=v}function ed(a,b){a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3],a[4]=b[4],a[5]=b[5],a[6]=b[6],a[7]=b[7],a[8]=b[8],a[9]=b[9],a[10]=b[10],a[11]=b[11],a[12]=b[12],a[13]=b[13],a[14]=b[14],a[15]=b[15]}function fd(a){a[0]=1,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=1,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=1,a[11]=0,a[12]=0,a[13]=0,a[14]=0,a[15]=1}function gd(a,b,c){var d=a[0],e=a[1],f=a[2],g=a[3],h=a[4],l=a[5],m=a[6],n=a[7],p=a[8],q=a[9],r=a[10],u=a[11],x=a[12],v=a[13],D=a[14];a=a[15];var A=b[0],z=b[1],F=b[2],N=b[3],K=b[4],X=b[5],oa=b[6],H=b[7],ya=b[8],Va=b[9],Ya=b[10],Wa=b[11],Aa=b[12],Rb=b[13],Ob=b[14];b=b[15],c[0]=d*A+h*z+p*F+x*N,c[1]=e*A+l*z+q*F+v*N,c[2]=f*A+m*z+r*F+D*N,c[3]=g*A+n*z+u*F+a*N,c[4]=d*K+h*X+p*oa+x*H,c[5]=e*K+l*X+q*oa+v*H,c[6]=f*K+m*X+r*oa+D*H,c[7]=g*K+n*X+u*oa+a*H,c[8]=d*ya+h*Va+p*Ya+x*Wa,c[9]=e*ya+l*Va+q*Ya+v*Wa,c[10]=f*ya+m*Va+r*Ya+D*Wa,c[11]=g*ya+n*Va+u*Ya+a*Wa,c[12]=d*Aa+h*Rb+p*Ob+x*b,c[13]=e*Aa+l*Rb+q*Ob+v*b,c[14]=f*Aa+m*Rb+r*Ob+D*b,c[15]=g*Aa+n*Rb+u*Ob+a*b}function hd(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=a[6],m=a[7],n=a[8],p=a[9],q=a[10],r=a[11],u=a[12],x=a[13],v=a[14],D=a[15],A=c*h-d*g,z=c*l-e*g,F=c*m-f*g,N=d*l-e*h,K=d*m-f*h,X=e*m-f*l,oa=n*x-p*u,H=n*v-q*u,ya=n*D-r*u,Va=p*v-q*x,Ya=p*D-r*x,Wa=q*D-r*v,Aa=A*Wa-z*Ya+F*Va+N*ya-K*H+X*oa;0!=Aa&&(Aa=1/Aa,b[0]=(h*Wa-l*Ya+m*Va)*Aa,b[1]=(-d*Wa+e*Ya-f*Va)*Aa,b[2]=(x*X-v*K+D*N)*Aa,b[3]=(-p*X+q*K-r*N)*Aa,b[4]=(-g*Wa+l*ya-m*H)*Aa,b[5]=(c*Wa-e*ya+f*H)*Aa,b[6]=(-u*X+v*F-D*z)*Aa,b[7]=(n*X-q*F+r*z)*Aa,b[8]=(g*Ya-h*ya+m*oa)*Aa,b[9]=(-c*Ya+d*ya-f*oa)*Aa,b[10]=(u*K-x*F+D*A)*Aa,b[11]=(-n*K+p*F-r*A)*Aa,b[12]=(-g*Va+h*H-l*oa)*Aa,b[13]=(c*Va-d*H+e*oa)*Aa,b[14]=(-u*N+x*z-v*A)*Aa,b[15]=(n*N-p*z+q*A)*Aa)}function id(a,b,c){var d=a[1]*b+a[5]*c+0*a[9]+a[13],e=a[2]*b+a[6]*c+0*a[10]+a[14],f=a[3]*b+a[7]*c+0*a[11]+a[15];a[12]=a[0]*b+a[4]*c+0*a[8]+a[12],a[13]=d,a[14]=e,a[15]=f}function jd(a,b,c){cd(a,a[0]*b,a[1]*b,a[2]*b,a[3]*b,a[4]*c,a[5]*c,a[6]*c,a[7]*c,1*a[8],1*a[9],1*a[10],1*a[11],a[12],a[13],a[14],a[15])}function kd(a,b){var c=a[0],d=a[1],e=a[2],f=a[3],g=a[4],h=a[5],l=a[6],m=a[7],n=Math.cos(b),p=Math.sin(b);a[0]=c*n+g*p,a[1]=d*n+h*p,a[2]=e*n+l*p,a[3]=f*n+m*p,a[4]=c*-p+g*n,a[5]=d*-p+h*n,a[6]=e*-p+l*n,a[7]=f*-p+m*n}function ld(a,b,c,d,e,f){var g=e[0],h=e[1],l=e[4],m=e[5],n=e[12];e=e[13];for(var p=f?f:[],q=0;c>b;b+=d){var r=a[b],u=a[b+1];p[q++]=g*r+l*u+n,p[q++]=h*r+m*u+e}return f&&p.length!=q&&(p.length=q),p}function md(){Yc.call(this),this.f="XY",this.a=2,this.B=null}function nd(a){return"XY"==a?2:"XYZ"==a||"XYM"==a?3:"XYZM"==a?4:void wa("unsupported layout: "+a)}function od(a,b,c){a.a=nd(b),a.f=b,a.B=c}function pd(a,b,c,d){if(b)c=nd(b);else{for(b=0;d>b;++b){if(0===c.length)return a.f="XY",void(a.a=2);c=c[0]}c=c.length,2==c?b="XY":3==c?b="XYZ":4==c?b="XYZM":(wa("unsupported stride: "+c),b=void 0)}a.f=b,a.a=c}function qd(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];c>b;b+=d)var h=a[b],l=a[b+1],e=e+(g*h-f*l),f=h,g=l;return e/2}function rd(a,b,c,d){var f,g,e=0;for(f=0,g=c.length;g>f;++f){var h=c[f],e=e+qd(a,b,h,d);b=h}return e}function sd(a,b,c,d,e,f,g){var h=a[b],l=a[b+1],m=a[c]-h,n=a[c+1]-l;if(0!==m||0!==n)if(f=((e-h)*m+(f-l)*n)/(m*m+n*n),f>1)b=c;else if(f>0){for(e=0;d>e;++e)g[e]=Fa(a[b+e],a[c+e],f);return void(g.length=d)}for(e=0;d>e;++e)g[e]=a[b+e];g.length=d}function td(a,b,c,d,e){var f=a[b],g=a[b+1];for(b+=d;c>b;b+=d){var h=a[b],l=a[b+1],f=Ca(f,g,h,l);f>e&&(e=f),f=h,g=l}return e}function ud(a,b,c,d,e){var f,g;for(f=0,g=c.length;g>f;++f){var h=c[f];e=td(a,b,h,d,e),b=h}return e}function vd(a,b,c,d,e,f,g,h,l,m,n){if(b==c)return m;var p;if(0===e){if(p=Ca(g,h,a[b],a[b+1]),m>p){for(n=0;d>n;++n)l[n]=a[b+n];return l.length=d,p}return m}for(var q=n?n:[NaN,NaN],r=b+d;c>r;)if(sd(a,r-d,r,d,g,h,q),p=Ca(g,h,q[0],q[1]),m>p){for(m=p,n=0;d>n;++n)l[n]=q[n];l.length=d,r+=d}else r+=d*Math.max((Math.sqrt(p)-Math.sqrt(m))/e|0,1);if(f&&(sd(a,c-d,b,d,g,h,q),p=Ca(g,h,q[0],q[1]),m>p)){for(m=p,n=0;d>n;++n)l[n]=q[n];l.length=d}return m}function wd(a,b,c,d,e,f,g,h,l,m,n){n=n?n:[NaN,NaN];var p,q;for(p=0,q=c.length;q>p;++p){var r=c[p];m=vd(a,b,r,d,e,f,g,h,l,m,n),b=r}return m}function xd(a,b){var d,e,c=0;for(d=0,e=b.length;e>d;++d)a[c++]=b[d];return c}function yd(a,b,c,d){var e,f;for(e=0,f=c.length;f>e;++e){var h,g=c[e];for(h=0;d>h;++h)a[b++]=g[h]}return b}function zd(a,b,c,d,e){e=e?e:[];var g,h,f=0;for(g=0,h=c.length;h>g;++g)b=yd(a,b,c[g],d),e[f++]=b;return e.length=f,e}function Ad(a,b,c,d,e){e=void 0!==e?e:[];for(var f=0;c>b;b+=d)e[f++]=a.slice(b,b+d);return e.length=f,e}function Bd(a,b,c,d,e){e=void 0!==e?e:[];var g,h,f=0;for(g=0,h=c.length;h>g;++g){var l=c[g];e[f++]=Ad(a,b,l,d,e[f]),b=l}return e.length=f,
e}function Cd(a,b,c,d,e,f,g){var h=(c-b)/d;if(3>h){for(;c>b;b+=d)f[g++]=a[b],f[g++]=a[b+1];return g}var l=Array(h);l[0]=1,l[h-1]=1,c=[b,c-d];for(var n,m=0;0<c.length;){var p=c.pop(),q=c.pop(),r=0,u=a[q],x=a[q+1],v=a[p],D=a[p+1];for(n=q+d;p>n;n+=d){var A=Ba(a[n],a[n+1],u,x,v,D);A>r&&(m=n,r=A)}r>e&&(l[(m-b)/d]=1,m>q+d&&c.push(q,m),p>m+d&&c.push(m,p))}for(n=0;h>n;++n)l[n]&&(f[g++]=a[b+n*d],f[g++]=a[b+n*d+1]);return g}function Dd(a,b,c,d,e,f,g,h){var l,m;for(l=0,m=c.length;m>l;++l){var n=c[l];a:{var p=a,q=n,r=d,u=e,x=f;if(b!=q){var v=u*Math.round(p[b]/u),D=u*Math.round(p[b+1]/u);b+=r,x[g++]=v,x[g++]=D;var A,z;do if(A=u*Math.round(p[b]/u),z=u*Math.round(p[b+1]/u),b+=r,b==q){x[g++]=A,x[g++]=z;break a}while(A==v&&z==D);for(;q>b;){var F,N;if(F=u*Math.round(p[b]/u),N=u*Math.round(p[b+1]/u),b+=r,F!=A||N!=z){var K=A-v,X=z-D,oa=F-v,H=N-D;K*H==X*oa&&(0>K&&K>oa||K==oa||K>0&&oa>K)&&(0>X&&X>H||X==H||X>0&&H>X)||(x[g++]=A,x[g++]=z,v=A,D=z),A=F,z=N}}x[g++]=A,x[g++]=z}}h.push(g),b=n}return g}function Ed(a,b){md.call(this),this.i=this.j=-1,this.pa(a,b)}function Fd(a,b,c){od(a,b,c),a.u()}function C(a,b){md.call(this),this.pa(a,b)}function Gd(a,b,c,d,e){return!gc(e,function(e){return!Hd(a,b,c,d,e[0],e[1])})}function Hd(a,b,c,d,e,f){for(var g=!1,h=a[c-d],l=a[c-d+1];c>b;b+=d){var m=a[b],n=a[b+1];l>f!=n>f&&(m-h)*(f-l)/(n-l)+h>e&&(g=!g),h=m,l=n}return g}function Id(a,b,c,d,e,f){if(0===c.length||!Hd(a,b,c[0],d,e,f))return!1;var g;for(b=1,g=c.length;g>b;++b)if(Hd(a,c[b-1],c[b],d,e,f))return!1;return!0}function Jd(a,b,c,d,e,f,g){var h,l,m,n,p,q=e[f+1],r=[],u=c[0];for(m=a[u-d],p=a[u-d+1],h=b;u>h;h+=d)n=a[h],l=a[h+1],(p>=q&&q>=l||q>=p&&l>=q)&&(m=(q-p)/(l-p)*(n-m)+m,r.push(m)),m=n,p=l;for(u=NaN,p=-(1/0),r.sort(nb),m=r[0],h=1,l=r.length;l>h;++h){n=r[h];var x=Math.abs(n-m);x>p&&(m=(m+n)/2,Id(a,b,c,d,m,q)&&(u=m,p=x)),m=n}return isNaN(u)&&(u=e[f]),g?(g.push(u,q),g):[u,q]}function Kd(a,b,c,d,e,f){for(var l,g=[a[b],a[b+1]],h=[];c>b+d;b+=d){if(h[0]=a[b+d],h[1]=a[b+d+1],l=e.call(f,g,h))return l;g[0]=h[0],g[1]=h[1]}return!1}function Ld(a,b,c,d,e){var f=dc(Sb(),a,b,c,d);return sc(e,f)?Zb(e,f)||f[0]>=e[0]&&f[2]<=e[2]||f[1]>=e[1]&&f[3]<=e[3]?!0:Kd(a,b,c,d,function(a,b){var c=!1,d=$b(e,a),f=$b(e,b);if(1===d||1===f)c=!0;else{var p=e[0],q=e[1],r=e[2],u=e[3],x=b[0],v=b[1],D=(v-a[1])/(x-a[0]);2&f&&!(2&d)&&(c=x-(v-u)/D,c=c>=p&&r>=c),c||!(4&f)||4&d||(c=v-(x-r)*D,c=c>=q&&u>=c),c||!(8&f)||8&d||(c=x-(v-q)/D,c=c>=p&&r>=c),c||!(16&f)||16&d||(c=v-(x-p)*D,c=c>=q&&u>=c)}return c}):!1}function Md(a,b,c,d,e){var f=c[0];if(!(Ld(a,b,f,d,e)||Hd(a,b,f,d,e[0],e[1])||Hd(a,b,f,d,e[0],e[3])||Hd(a,b,f,d,e[2],e[1])||Hd(a,b,f,d,e[2],e[3])))return!1;if(1===c.length)return!0;for(b=1,f=c.length;f>b;++b)if(Gd(a,c[b-1],c[b],d,e))return!1;return!0}function Nd(a,b,c,d){for(var e=0,f=a[c-d],g=a[c-d+1];c>b;b+=d)var h=a[b],l=a[b+1],e=e+(h-f)*(l+g),f=h,g=l;return e>0}function Od(a,b,c,d){var e=0;d=void 0!==d?d:!1;var f,g;for(f=0,g=b.length;g>f;++f){var h=b[f],e=Nd(a,e,h,c);if(0===f){if(d&&e||!d&&!e)return!1}else if(d&&!e||!d&&e)return!1;e=h}return!0}function Pd(a,b,c,d,e){e=void 0!==e?e:!1;var f,g;for(f=0,g=c.length;g>f;++f){var h=c[f],l=Nd(a,b,h,d);if(0===f?e&&l||!e&&!l:e&&!l||!e&&l)for(var l=a,m=h,n=d;m-n>b;){var p;for(p=0;n>p;++p){var q=l[b+p];l[b+p]=l[m-n+p],l[m-n+p]=q}b+=n,m-=n}b=h}return b}function Qd(a,b,c,d){var f,g,e=0;for(f=0,g=b.length;g>f;++f)e=Pd(a,e,b[f],c,d);return e}function E(a,b){md.call(this),this.i=[],this.C=-1,this.D=null,this.T=this.R=this.S=-1,this.j=null,this.pa(a,b)}function Rd(a){if(a.C!=a.g){var b=pc(a.H());a.D=Jd(a.Lb(),0,a.i,a.a,b,0),a.C=a.g}return a.D}function Sd(a,b,c,d){var e=d?d:32;d=[];var f;for(f=0;e>f;++f)rb(d,a.offset(b,c,2*Math.PI*f/e));return d.push(d[0],d[1]),a=new E(null),a.ba("XY",d,[d.length]),a}function Td(a){var b=a[0],c=a[1],d=a[2];return a=a[3],b=[b,c,b,a,d,a,d,c,b,c],c=new E(null),c.ba("XY",b,[b.length]),c}function Ud(a,b,c){var d=b?b:32,e=a.va();b=a.f;for(var f=new E(null,b),d=e*(d+1),e=Array(d),g=0;d>g;g++)e[g]=0;return f.ba(b,e,[e.length]),Vd(f,a.qd(),a.vf(),c),f}function Vd(a,b,c,d){var e=a.ka(),f=a.f,g=a.va(),h=a.Cb(),l=e.length/g-1;d=d?d:0;for(var m,n,p=0;l>=p;++p)n=p*g,m=d+2*Ea(p,l)*Math.PI/l,e[n]=b[0]+c*Math.cos(m),e[n+1]=b[1]+c*Math.sin(m);a.ba(f,e,h)}function Wd(a){var b;jb.call(this),a=a||{},this.f=[0,0];var c={};c.center=void 0!==a.center?a.center:null,this.l=Rc(a.projection);var d,e,f=void 0!==a.minZoom?a.minZoom:0;b=void 0!==a.maxZoom?a.maxZoom:28;var g=void 0!==a.zoomFactor?a.zoomFactor:2;if(void 0!==a.resolutions)b=a.resolutions,d=b[0],e=b[b.length-1],b=yb(b);else{d=Rc(a.projection),e=d.H();var h=(e?Math.max(nc(e),oc(e)):360*zc.degrees/d.Zb())/256/Math.pow(2,0),l=h/Math.pow(2,28);d=a.maxResolution,void 0!==d?f=0:d=h/Math.pow(g,f),e=a.minResolution,void 0===e&&(e=void 0!==a.maxZoom?void 0!==a.maxResolution?d/Math.pow(g,b):h/Math.pow(g,b):l),b=f+Math.floor(Math.log(d/e)/Math.log(g)),e=d/Math.pow(g,b-f),b=zb(g,d,b-f)}this.a=d,this.c=e,this.j=a.resolutions,this.i=f,f=void 0!==a.extent?Ga(a.extent):Ha,d=Xd(a),this.o=new Ia(f,b,d),void 0!==a.resolution?c.resolution=a.resolution:void 0!==a.zoom&&(c.resolution=this.constrainResolution(this.a,a.zoom-this.i)),c.rotation=void 0!==a.rotation?a.rotation:0,this.G(c)}function Yd(a,b){return void 0!==b?(b[0]=a.f[0],b[1]=a.f[1],b):a.f.slice()}function Zd(a,b){return Math.max(nc(a)/b[0],oc(a)/b[1])}function $d(a){var b=a.a,c=Math.log(b/a.c)/Math.log(2);return function(a){return b/Math.pow(2,a*c)}}function ae(a){var b=a.a,c=Math.log(b/a.c)/Math.log(2);return function(a){return Math.log(b/a)/Math.log(2)/c}}function be(a){return!!a.ab()&&void 0!==a.$()}function ce(a,b){a.f[1]+=b}function Xd(a){return(void 0!==a.enableRotation?a.enableRotation:1)?(a=a.constrainRotation,void 0===a||!0===a?Db():!1===a?Bb:ea(a)?Cb(a):(wa("illegal option for constrainRotation (%s)",a),Bb)):Ab}function de(a){return Math.pow(a,3)}function ee(a){return 1-de(1-a)}function fe(a){return 3*a*a-2*a*a*a}function ge(a){return a}function he(a){return.5>a?fe(2*a):1-fe(2*(a-.5))}function ie(a){var b=a.source,c=a.start?a.start:Date.now(),d=b[0],e=b[1],f=void 0!==a.duration?a.duration:1e3,g=a.easing?a.easing:fe;return function(a,b){if(b.time<c)return b.animate=!0,b.viewHints[0]+=1,!0;if(b.time<c+f){var m=1-g((b.time-c)/f),n=d-b.viewState.center[0],p=e-b.viewState.center[1];return b.animate=!0,b.viewState.center[0]+=m*n,b.viewState.center[1]+=m*p,b.viewHints[0]+=1,!0}return!1}}function je(a){var b=a.rotation?a.rotation:0,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1e3,e=a.easing?a.easing:fe,f=a.anchor?a.anchor:null;return function(a,h){if(h.time<c)return h.animate=!0,h.viewHints[0]+=1,!0;if(h.time<c+d){var l=1-e((h.time-c)/d),l=(b-h.viewState.rotation)*l;if(h.animate=!0,h.viewState.rotation+=l,f){var m=h.viewState.center;m[0]-=f[0],m[1]-=f[1],Lb(m,l),Gb(m,f)}return h.viewHints[0]+=1,!0}return!1}}function ke(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1e3,e=a.easing?a.easing:fe;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var h=1-e((g.time-c)/d),l=b-g.viewState.resolution;return g.animate=!0,g.viewState.resolution+=h*l,g.viewHints[0]+=1,!0}return!1}}function le(a,b,c,d){this.ca=a,this.ea=b,this.fa=c,this.ga=d}function me(a,b,c){return a.ca<=b&&b<=a.ea&&a.fa<=c&&c<=a.ga}function ne(a,b){return a.ca==b.ca&&a.fa==b.fa&&a.ea==b.ea&&a.ga==b.ga}function oe(a,b){return a.ca<=b.ea&&a.ea>=b.ca&&a.fa<=b.ga&&a.ga>=b.fa}function pe(a){this.a=a.html,this.b=a.tileRanges?a.tileRanges:null}function qe(a,b,c){bb.call(this,a,c),this.element=b}function re(a){jb.call(this),this.a=a?a:[],se(this)}function se(a){a.set("length",a.a.length)}function te(a){return Array.prototype.concat.apply(Array.prototype,arguments)}function ue(a){var b=a.length;if(b>0){for(var c=Array(b),d=0;b>d;d++)c[d]=a[d];return c}return[]}function ve(a,b,c){return 2>=arguments.length?Array.prototype.slice.call(a,b):Array.prototype.slice.call(a,b,c)}function ze(a){return Array.isArray(a)?a:Ae(a)}function Be(a){if("string"!=typeof a){var b=a[0];b!=(0|b)&&(b=b+.5|0);var c=a[1];c!=(0|c)&&(c=c+.5|0);var d=a[2];d!=(0|d)&&(d=d+.5|0),a="rgba("+b+","+c+","+d+","+(void 0===a[3]?1:a[3])+")"}return a}function Ce(a,b){var c=b||[];return c[0]=xa(a[0]+.5|0,0,255),c[1]=xa(a[1]+.5|0,0,255),c[2]=xa(a[2]+.5|0,0,255),c[3]=xa(a[3],0,1),c}function De(a){return"string"==typeof a||a instanceof CanvasPattern||a instanceof CanvasGradient?a:Be(a)}function Ie(a){return-1!=Fe.indexOf(a)}function Ue(a,b){var c=document.createElement("CANVAS");return a&&(c.width=a),b&&(c.height=b),c.getContext("2d")}function Xe(a,b){var c=a.style;if(c.WebkitTransform=b,c.MozTransform=b,c.b=b,c.msTransform=b,c.transform=b,(c=Ke)&&!(c=Te["9.0"])){for(var c=0,d=ta(String(Oe)).split("."),e=ta("9.0").split("."),f=Math.max(d.length,e.length),g=0;0==c&&f>g;g++){var h=d[g]||"",l=e[g]||"",m=RegExp("(\\d*)(\\D*)","g"),n=RegExp("(\\d*)(\\D*)","g");do{var p=m.exec(h)||["","",""],q=n.exec(l)||["","",""];if(0==p[0].length&&0==q[0].length)break;c=ua(0==p[1].length?0:parseInt(p[1],10),0==q[1].length?0:parseInt(q[1],10))||ua(0==p[2].length,0==q[2].length)||ua(p[2],q[2])}while(0==c)}c=Te["9.0"]=c>=0}c&&(a.style.transformOrigin="0 0")}function Ye(a,b){var c;if(We()){var d=Array(16);for(c=0;16>c;++c)d[c]=b[c].toFixed(6);Xe(a,"matrix3d("+d.join(",")+")")}else if(Ve()){var d=[b[0],b[1],b[4],b[5],b[12],b[13]],e=Array(6);for(c=0;6>c;++c)e[c]=d[c].toFixed(6);Xe(a,"matrix("+e.join(",")+")")}else a.style.left=Math.round(b[12])+"px",a.style.top=Math.round(b[13])+"px"}function Ze(a,b){var c=b.parentNode;c&&c.replaceChild(a,b)}function $e(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function af(a){for(;a.lastChild;)a.removeChild(a.lastChild)}function bf(a,b,c){bb.call(this,a),this.map=b,this.frameState=void 0!==c?c:null}function cf(a){jb.call(this),this.element=a.element?a.element:null,this.a=this.S=null,this.s=[],this.render=a.render?a.render:pa,a.target&&this.c(a.target)}function df(){this.g=0,this.f={},this.a=this.b=null}function ef(a,b){return a.f.hasOwnProperty(b)}function ff(a,b,c,d){return void 0!==d?(d[0]=a,d[1]=b,d[2]=c,d):[a,b,c]}function gf(a){var e,f,b=a[0],c=Array(b),d=1<<b-1;for(e=0;b>e;++e)f=48,a[1]&d&&(f+=1),a[2]&d&&(f+=2),c[e]=String.fromCharCode(f),d>>=1;return c.join("")}function hf(a){df.call(this),this.c=void 0!==a?a:2048}function jf(a){return a.vc()>a.c}function kf(a,b){eb.call(this),this.ma=a,this.state=b,this.a=null,this.key=""}function lf(a){a.b("change")}function mf(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]+2*b,c[1]=a[1]+2*b,c}function nf(a,b,c){return void 0===c&&(c=[0,0]),c[0]=a[0]*b+.5|0,c[1]=a[1]*b+.5|0,c}function of(a,b){return Array.isArray(a)?a:(void 0===b?b=[a,a]:(b[0]=a,b[1]=a),b)}function pf(a){jb.call(this),this.f=Dc(a.projection),this.l=qf(a.attributions),this.R=a.logo,this.za=void 0!==a.state?a.state:"ready",this.D=void 0!==a.wrapX?a.wrapX:!1}function qf(a){if("string"==typeof a)return[new pe({html:a})];if(a instanceof pe)return[a];if(Array.isArray(a)){for(var b=a.length,c=Array(b),d=0;b>d;d++){var e=a[d];c[d]="string"==typeof e?new pe({html:e}):e}return c}return null}function rf(a,b){a.za=b,a.u()}function sf(a){this.minZoom=void 0!==a.minZoom?a.minZoom:0,this.b=a.resolutions,this.maxZoom=this.b.length-1,this.g=void 0!==a.origin?a.origin:null,this.c=null,void 0!==a.origins&&(this.c=a.origins);var b=a.extent;void 0===b||this.g||this.c||(this.g=kc(b)),this.i=null,void 0!==a.tileSizes&&(this.i=a.tileSizes),this.o=void 0!==a.tileSize?a.tileSize:this.i?null:256,this.s=void 0!==b?b:null,this.a=null,this.f=[0,0],void 0!==a.sizes?this.a=a.sizes.map(function(a){return new le(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1))},this):b&&tf(this,b)}function wf(a,b,c,d,e){for(e=a.Ea(b,e),b=b[0]-1;b>=a.minZoom;){if(c.call(null,b,vf(a,e,b,d)))return!0;--b}return!1}function xf(a,b,c,d){return b[0]<a.maxZoom?(d=a.Ea(b,d),vf(a,d,b[0]+1,c)):null}function yf(a,b,c,d){zf(a,b[0],b[1],c,!1,uf);var e=uf[1],f=uf[2];return zf(a,b[2],b[3],c,!0,uf),a=uf[1],b=uf[2],void 0!==d?(d.ca=e,d.ea=a,d.fa=f,d.ga=b):d=new le(e,a,f,b),d}function vf(a,b,c,d){return c=a.$(c),yf(a,b,c,d)}function Af(a,b){var c=a.Ia(b[0]),d=a.$(b[0]),e=of(a.Ja(b[0]),a.f);return[c[0]+(b[1]+.5)*e[0]*d,c[1]+(b[2]+.5)*e[1]*d]}function zf(a,b,c,d,e,f){var g=a.Kb(d),h=d/a.$(g),l=a.Ia(g);return a=of(a.Ja(g),a.f),b=h*Math.floor((b-l[0])/d+(e?.5:0))/a[0],c=h*Math.floor((c-l[1])/d+(e?0:.5))/a[1],e?(b=Math.ceil(b)-1,c=Math.ceil(c)-1):(b=Math.floor(b),c=Math.floor(c)),ff(g,b,c,f)}function tf(a,b){for(var c=a.b.length,d=Array(c),e=a.minZoom;c>e;++e)d[e]=vf(a,b,e);a.a=d}function Bf(a){var b=a.l;if(!b){var b=Cf(a),c=Df(b,void 0,void 0),b=new sf({extent:b,origin:kc(b),resolutions:c,tileSize:void 0});a.l=b}return b}function Ef(a){var b={};return Ja(b,void 0!==a?a:{}),void 0===b.extent&&(b.extent=Dc("EPSG:3857").H()),b.resolutions=Df(b.extent,b.maxZoom,b.tileSize),delete b.maxZoom,new sf(b)}function Df(a,b,c){b=void 0!==b?b:42;var d=oc(a);for(a=nc(a),c=of(void 0!==c?c:256),c=Math.max(a/c[0],d/c[1]),b+=1,d=Array(b),a=0;b>a;++a)d[a]=c/Math.pow(2,a);return d}function Cf(a){a=Dc(a);var b=a.H();return b||(a=180*zc.degrees/a.Zb(),b=ac(-a,-a,a,a)),b}function Ff(a){pf.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state,wrapX:a.wrapX}),this.la=void 0!==a.opaque?a.opaque:!1,this.ta=void 0!==a.tilePixelRatio?a.tilePixelRatio:1,this.tileGrid=void 0!==a.tileGrid?a.tileGrid:null,this.a=new hf(a.cacheSize),this.o=[0,0],this.bc=""}function Gf(a,b,c,d,e){if(b=a.od(b),!b)return!1;for(var g,h,f=!0,l=d.ca;l<=d.ea;++l)for(var m=d.fa;m<=d.ga;++m)g=a.Db(c,l,m),h=!1,ef(b,g)&&(g=b.get(g),(h=2===g.V())&&(h=!1!==e(g))),h||(f=!1);return f}function Hf(a,b){a.bc!==b&&(a.bc=b,a.u())}function If(a,b,c){var d=void 0!==c?c:a.f;if(c=a.eb(d),a.D&&d.g){var e=b;b=e[0],a=Af(c,e),d=Cf(d),Xb(d,a)?b=e:(e=nc(d),a[0]+=e*Math.ceil((d[0]-a[0])/e),b=c.pd(a,b))}if(e=b[0],d=b[1],a=b[2],c.minZoom>e||e>c.maxZoom)c=!1;else{var f=c.H();c=(c=f?vf(c,f,e):c.a?c.a[e]:null)?me(c,d,a):!0}return c?b:null}function Jf(a,b){bb.call(this,a),this.tile=b}function Kf(a){a=a?a:{},this.R=document.createElement("UL"),this.v=document.createElement("LI"),this.R.appendChild(this.v),this.v.style.display="none",this.f=void 0!==a.collapsed?a.collapsed:!0,this.o=void 0!==a.collapsible?a.collapsible:!0,this.o||(this.f=!1);var b=void 0!==a.className?a.className:"ol-attribution",c=void 0!==a.tipLabel?a.tipLabel:"Attributions",d=void 0!==a.collapseLabel?a.collapseLabel:"";"string"==typeof d?(this.A=document.createElement("span"),this.A.textContent=d):this.A=d,d=void 0!==a.label?a.label:"i","string"==typeof d?(this.C=document.createElement("span"),this.C.textContent=d):this.C=d;var e=this.o&&!this.f?this.A:this.C,d=document.createElement("button");d.setAttribute("type","button"),d.title=c,d.appendChild(e),B(d,"click",this.am,this),c=document.createElement("div"),c.className=b+" ol-unselectable ol-control"+(this.f&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible"),c.appendChild(this.R),c.appendChild(d),cf.call(this,{element:c,render:a.render?a.render:Lf,target:a.target}),this.D=!0,this.j={},this.l={},this.T={}}function Lf(a){if(a=a.frameState){var b,c,d,e,f,g,h,l,m,n,p,q=a.layerStatesArray,r=Ja({},a.attributions),u={},x=a.viewState.projection;for(c=0,b=q.length;b>c;c++)if((g=q[c].layer.ha())&&(n=w(g).toString(),m=g.l))for(d=0,e=m.length;e>d;d++)if(h=m[d],l=w(h).toString(),!(l in r)){if(f=a.usedTiles[n]){var v=g.eb(x);a:{p=h;var D=x;if(p.b){var A,z,F,N=void 0;for(N in f)if(N in p.b){F=f[N];var K;for(A=0,z=p.b[N].length;z>A;++A){if(K=p.b[N][A],oe(K,F)){p=!0;break a}var X=vf(v,Cf(D),parseInt(N,10)),oa=X.ea-X.ca+1;if((F.ca<X.ca||F.ea>X.ea)&&(oe(K,new le(Ea(F.ca,oa),Ea(F.ea,oa),F.fa,F.ga))||F.ea-F.ca+1>oa&&oe(K,X))){p=!0;break a}}}p=!1}else p=!0}}else p=!1;p?(l in u&&delete u[l],r[l]=h):u[l]=h}b=[r,u],c=b[0],b=b[1];for(var H in this.j)H in c?(this.l[H]||(this.j[H].style.display="",this.l[H]=!0),delete c[H]):H in b?(this.l[H]&&(this.j[H].style.display="none",delete this.l[H]),delete b[H]):($e(this.j[H]),delete this.j[H],delete this.l[H]);for(H in c)d=document.createElement("LI"),d.innerHTML=c[H].a,this.R.appendChild(d),this.j[H]=d,this.l[H]=!0;for(H in b)d=document.createElement("LI"),d.innerHTML=b[H].a,d.style.display="none",this.R.appendChild(d),this.j[H]=d;H=!Ma(this.l)||!Ma(a.logos),this.D!=H&&(this.element.style.display=H?"":"none",this.D=H),H&&Ma(this.l)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var ya;a=a.logos,H=this.T;for(ya in H)ya in a||($e(H[ya]),delete H[ya]);for(var Va in a)b=a[Va],b instanceof HTMLElement&&(this.v.appendChild(b),H[Va]=b),Va in H||(ya=new Image,ya.src=Va,""===b?c=ya:(c=document.createElement("a"),c.href=b,c.appendChild(ya)),this.v.appendChild(c),H[Va]=c);this.v.style.display=Ma(a)?"none":""}else this.D&&(this.element.style.display="none",this.D=!1)}function Mf(a){a.element.classList.toggle("ol-collapsed"),a.f?Ze(a.A,a.C):Ze(a.C,a.A),a.f=!a.f}function Nf(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-rotate",c=void 0!==a.label?a.label:"";this.f=null,"string"==typeof c?(this.f=document.createElement("span"),this.f.className="ol-compass",this.f.textContent=c):(this.f=c,this.f.classList.add("ol-compass"));var d=a.tipLabel?a.tipLabel:"Reset rotation",c=document.createElement("button");c.className=b+"-reset",c.setAttribute("type","button"),c.title=d,c.appendChild(this.f),B(c,"click",Nf.prototype.A,this),d=document.createElement("div"),d.className=b+" ol-unselectable ol-control",d.appendChild(c),b=a.render?a.render:Of,this.o=a.resetNorth?a.resetNorth:void 0,cf.call(this,{element:d,render:b,target:a.target}),this.j=void 0!==a.duration?a.duration:250,this.l=void 0!==a.autoHide?a.autoHide:!0,this.v=void 0,this.l&&this.element.classList.add("ol-hidden")}function Of(a){if(a=a.frameState){if(a=a.viewState.rotation,a!=this.v){var b="rotate("+a+"rad)";if(this.l){var c=this.element.classList.contains("ol-hidden");c||0!==a?c&&0!==a&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.f.style.msTransform=b,this.f.style.webkitTransform=b,this.f.style.transform=b}this.v=a}}function Pf(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-zoom",c=void 0!==a.delta?a.delta:1,d=void 0!==a.zoomInLabel?a.zoomInLabel:"+",e=void 0!==a.zoomOutLabel?a.zoomOutLabel:"",f=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",g=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",h=document.createElement("button");h.className=b+"-in",h.setAttribute("type","button"),h.title=f,h.appendChild("string"==typeof d?document.createTextNode(d):d),B(h,"click",Pf.prototype.l.bind(this,c)),d=document.createElement("button"),d.className=b+"-out",d.setAttribute("type","button"),d.title=g,d.appendChild("string"==typeof e?document.createTextNode(e):e),B(d,"click",Pf.prototype.l.bind(this,-c)),c=document.createElement("div"),c.className=b+" ol-unselectable ol-control",c.appendChild(h),c.appendChild(d),cf.call(this,{element:c,target:a.target}),this.f=void 0!==a.duration?a.duration:250}function Qf(a){a=a?a:{};var b=new re;return(void 0!==a.zoom?a.zoom:1)&&b.push(new Pf(a.zoomOptions)),(void 0!==a.rotate?a.rotate:1)&&b.push(new Nf(a.rotateOptions)),(void 0!==a.attribution?a.attribution:1)&&b.push(new Kf(a.attributionOptions)),b}function Rf(a){a=a?a:{},this.f=void 0!==a.className?a.className:"ol-full-screen";var b=void 0!==a.label?a.label:"";this.o="string"==typeof b?document.createTextNode(b):b,b=void 0!==a.labelActive?a.labelActive:"",this.j="string"==typeof b?document.createTextNode(b):b;var c=a.tipLabel?a.tipLabel:"Toggle full-screen",b=document.createElement("button");b.className=this.f+"-"+Sf(),b.setAttribute("type","button"),b.title=c,b.appendChild(this.o),B(b,"click",this.C,this),c=document.createElement("div"),c.className=this.f+" ol-unselectable ol-control "+(Tf()?"":"ol-unsupported"),c.appendChild(b),cf.call(this,{element:c,target:a.target}),this.A=void 0!==a.keys?a.keys:!1,this.l=a.source}function Tf(){var a=document.body;return!!(a.webkitRequestFullscreen||a.mozRequestFullScreen&&document.mozFullScreenEnabled||a.msRequestFullscreen&&document.msFullscreenEnabled||a.requestFullscreen&&document.fullscreenEnabled)}function Sf(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function Uf(a){a.requestFullscreen?a.requestFullscreen():a.msRequestFullscreen?a.msRequestFullscreen():a.mozRequestFullScreen?a.mozRequestFullScreen():a.webkitRequestFullscreen&&a.webkitRequestFullscreen()}function Wf(a){a=a?a:{};var b=document.createElement("DIV");b.className=void 0!==a.className?a.className:"ol-mouse-position",cf.call(this,{element:b,render:a.render?a.render:Xf,target:a.target}),B(this,lb("projection"),this.dm,this),a.coordinateFormat&&this.ei(a.coordinateFormat),a.projection&&this.ih(Dc(a.projection)),this.v=void 0!==a.undefinedHTML?a.undefinedHTML:"",this.j=b.innerHTML,this.o=this.l=this.f=null}function Xf(a){a=a.frameState,a?this.f!=a.viewState.projection&&(this.f=a.viewState.projection,this.l=null):this.f=null,Yf(this,this.o)}function Yf(a,b){var c=a.v;if(b&&a.f){if(!a.l){var d=a.hh();a.l=d?Gc(a.f,d):Vc}(d=a.a.Ma(b))&&(a.l(d,d),c=(c=a.Cg())?c(d):d.toString())}a.j&&c==a.j||(a.element.innerHTML=c,a.j=c)}function Zf(a,b){var c=a;b&&(c=ka(a,b)),"function"!=ca(aa.setImmediate)||aa.Window&&aa.Window.prototype&&!Ie("Edge")&&aa.Window.prototype.setImmediate==aa.setImmediate?($f||($f=ag()),$f(c)):aa.setImmediate(c)}function ag(){var a=aa.MessageChannel;if("undefined"==typeof a&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!Ie("Presto")&&(a=function(){var a=document.createElement("IFRAME");a.style.display="none",a.src="",document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open(),a.write(""),a.close();var c="callImmediate"+Math.random(),d="file:"==b.location.protocol?"*":b.location.protocol+"//"+b.location.host,a=ka(function(a){"*"!=d&&a.origin!=d||a.data!=c||this.port1.onmessage()},this);b.addEventListener("message",a,!1),this.port1={},this.port2={postMessage:function(){b.postMessage(c,d)}}}),"undefined"!=typeof a&&!Ie("Trident")&&!Ie("MSIE")){var b=new a,c={},d=c;return b.port1.onmessage=function(){if(void 0!==c.next){c=c.next;var a=c.rg;c.rg=null,a()}},function(a){d.next={rg:a},d=d.next,b.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(a){var b=document.createElement("SCRIPT");b.onreadystatechange=function(){b.onreadystatechange=null,b.parentNode.removeChild(b),b=null,a(),a=null},document.documentElement.appendChild(b)}:function(a){aa.setTimeout(a,0)}}function bg(a,b,c){bb.call(this,a),this.b=b,a=c?c:{},this.buttons=cg(a),this.pressure=dg(a,this.buttons),this.bubbles="bubbles"in a?a.bubbles:!1,this.cancelable="cancelable"in a?a.cancelable:!1,this.view="view"in a?a.view:null,this.detail="detail"in a?a.detail:null,this.screenX="screenX"in a?a.screenX:0,this.screenY="screenY"in a?a.screenY:0,this.clientX="clientX"in a?a.clientX:0,this.clientY="clientY"in a?a.clientY:0,this.button="button"in a?a.button:0,this.relatedTarget="relatedTarget"in a?a.relatedTarget:null,this.pointerId="pointerId"in a?a.pointerId:0,this.width="width"in a?a.width:0,this.height="height"in a?a.height:0,this.pointerType="pointerType"in a?a.pointerType:"",this.isPrimary="isPrimary"in a?a.isPrimary:!1,b.preventDefault&&(this.preventDefault=function(){b.preventDefault()})}function cg(a){if(a.buttons||eg)a=a.buttons;else switch(a.which){case 1:a=1;break;case 2:a=4;break;case 3:a=2;break;default:a=0}return a}function dg(a,b){var c=0;return c=a.pressure?a.pressure:b?.5:0}function gg(a,b){var c,d,e=fg.length;for(d=0;e>d;++d)try{if(c=a.getContext(fg[d],b))return c}catch(f){}return null}function yg(a,b){this.b=a,this.c=b}function zg(a){yg.call(this,a,{mousedown:this.rl,mousemove:this.sl,mouseup:this.vl,mouseover:this.ul,mouseout:this.tl}),this.a=a.g,this.g=[]}function Ag(a,b){for(var h,c=a.g,d=b.clientX,e=b.clientY,f=0,g=c.length;g>f&&(h=c[f]);f++){var l=Math.abs(e-h[1]);if(25>=Math.abs(d-h[0])&&25>=l)return!0}return!1}function Bg(a){var b=Cg(a,a),c=b.preventDefault;return b.preventDefault=function(){a.preventDefault(),c()},b.pointerId=1,b.isPrimary=!0,b.pointerType="mouse",b}function Kg(a){yg.call(this,a,{MSPointerDown:this.Al,MSPointerMove:this.Bl,MSPointerUp:this.El,MSPointerOut:this.Cl,MSPointerOver:this.Dl,MSPointerCancel:this.zl,MSGotPointerCapture:this.xl,MSLostPointerCapture:this.yl}),this.a=a.g,this.g=["","unavailable","touch","pen","mouse"]}function Lg(a,b){var c=b;return ea(b.pointerType)&&(c=Cg(b,b),c.pointerType=a.g[b.pointerType]),c}function Mg(a){yg.call(this,a,{pointerdown:this.lo,pointermove:this.mo,pointerup:this.po,pointerout:this.no,pointerover:this.oo,pointercancel:this.ko,gotpointercapture:this.Gk,lostpointercapture:this.ql})}function Og(a,b){yg.call(this,a,{touchstart:this.sp,touchmove:this.rp,touchend:this.qp,touchcancel:this.pp}),this.a=a.g,this.l=b,this.g=void 0,this.i=0,this.f=void 0}function Pg(a,b,c){return b=Cg(b,c),b.pointerId=c.identifier+2,b.bubbles=!0,b.cancelable=!0,b.detail=a.i,b.button=0,b.buttons=1,b.width=c.webkitRadiusX||c.radiusX||0,b.height=c.webkitRadiusY||c.radiusY||0,b.pressure=c.webkitForce||c.force||.5,b.isPrimary=a.g===c.identifier,b.pointerType="touch",b.clientX=c.clientX,b.clientY=c.clientY,b.screenX=c.screenX,b.screenY=c.screenY,b}function Qg(a,b,c){function d(){b.preventDefault()}var g,h,e=Array.prototype.slice.call(b.changedTouches),f=e.length;for(g=0;f>g;++g)h=Pg(a,b,e[g]),h.preventDefault=d,c.call(a,b,h)}function Rg(a,b){var c=a.l.g,d=b.changedTouches[0];if(a.g===d.identifier){var e=[d.clientX,d.clientY];c.push(e),qa.setTimeout(function(){sb(c,e)},2500)}}function Vg(a){eb.call(this),this.i=a,this.g={},this.c={},this.a=[],sg?Wg(this,new Mg(this)):tg?Wg(this,new Kg(this)):(a=new zg(this),Wg(this,a),rg&&Wg(this,new Og(this,a))),a=this.a.length;for(var b,c=0;a>c;c++)b=this.a[c],Xg(this,Object.keys(b.c))}function Wg(a,b){var c=Object.keys(b.c);c&&(c.forEach(function(a){var c=b.c[a];c&&(this.c[a]=c.bind(b))},a),a.a.push(b))}function Xg(a,b){b.forEach(function(a){B(this.i,a,this.f,this)},a)}function Yg(a,b){b.forEach(function(a){Xa(this.i,a,this.f,this)},a)}function Cg(a,b){for(var d,c={},e=0,f=Zg.length;f>e;e++)d=Zg[e][0],c[d]=a[d]||b[d]||Zg[e][1];return c}function Jg(a,b,c){a.out(b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||(b.bubbles=!1,Dg(a,Ug,b,c))}function Ig(a,b,c){b.bubbles=!0,Dg(a,Sg,b,c);var d=b.target,e=b.relatedTarget;d&&e&&d.contains(e)||(b.bubbles=!1,Dg(a,Tg,b,c))}function Dg(a,b,c,d){a.b(new bg(b,d,c))}function Ng(a,b){a.b(new bg(b.type,b,b))}function ah(a,b,c,d,e){bf.call(this,a,b,e),this.originalEvent=c,this.pixel=b.Sd(c),this.coordinate=b.Ma(this.pixel),this.dragging=void 0!==d?d:!1}function bh(a,b,c,d,e){ah.call(this,a,b,c.b,d,e),this.b=c}function ch(a){eb.call(this),this.f=a,this.l=0,this.o=!1,this.c=[],this.g=null,a=this.f.a,this.U=0,this.v={},this.i=new Vg(a),this.a=null,this.j=B(this.i,Fg,this.$k,this),this.s=B(this.i,Gg,this.No,this)}function dh(a,b){var c;c=new bh(eh,a.f,b),a.b(c),0!==a.l?(qa.clearTimeout(a.l),a.l=0,c=new bh(fh,a.f,b),a.b(c)):a.l=qa.setTimeout(function(){this.l=0;var a=new bh(gh,this.f,b);this.b(a)}.bind(a),250)}function hh(a,b){b.type==ih||b.type==jh?delete a.v[b.pointerId]:b.type==kh&&(a.v[b.pointerId]=!0),a.U=Object.keys(a.v).length}function oh(a){jb.call(this);var b=Ja({},a);b.opacity=void 0!==a.opacity?a.opacity:1,b.visible=void 0!==a.visible?a.visible:!0,b.zIndex=void 0!==a.zIndex?a.zIndex:0,b.maxResolution=void 0!==a.maxResolution?a.maxResolution:1/0,b.minResolution=void 0!==a.minResolution?a.minResolution:0,this.G(b)}function ph(a){var b=a.Ob(),c=a.jf(),d=a.wb(),e=a.H(),f=a.Pb(),g=a.Mb(),h=a.Nb();return{layer:a,opacity:xa(b,0,1),Wf:c,visible:d,Pc:!0,extent:e,zIndex:f,maxResolution:g,minResolution:Math.max(h,0)}}function qh(){}function rh(a,b,c,d,e,f){bb.call(this,a,b),this.vectorContext=c,this.frameState=d,this.context=e,this.glContext=f}function sh(a){var b=Ja({},a);delete b.source,oh.call(this,b),this.v=this.j=this.o=null,a.map&&this.setMap(a.map),B(this,lb("source"),this.fl,this),this.Ec(a.source?a.source:null)}function th(a,b){return a.visible&&b>=a.minResolution&&b<a.maxResolution}function uh(a,b,c,d,e){eb.call(this),this.l=e,this.extent=a,this.f=c,this.resolution=b,this.state=d}function vh(a){a.b("change")}function wh(a,b,c,d,e,f,g,h){return fd(a),0===b&&0===c||id(a,b,c),1==d&&1==e||jd(a,d,e),0!==f&&kd(a,f),0===g&&0===h||id(a,g,h),a}function xh(a,b){return a[0]==b[0]&&a[1]==b[1]&&a[4]==b[4]&&a[5]==b[5]&&a[12]==b[12]&&a[13]==b[13]}function yh(a,b,c){var d=a[1],e=a[5],f=a[13],g=b[0];return b=b[1],c[0]=a[0]*g+a[4]*b+a[12],c[1]=d*g+e*b+f,c}function zh(a){gb.call(this),this.a=a}function Bh(a,b){var c=b.V();return 2!=c&&3!=c&&B(b,"change",a.Om,a),0==c&&(b.load(),c=b.V()),2==c}function Ah(a){var b=a.a;b.wb()&&"ready"==b.jf()&&a.u()}function Ch(a,b){b.Ah()&&a.postRenderFunctions.push(function(a,b,e){b=w(a).toString(),a.Kc(e.viewState.projection,e.usedTiles[b])}.bind(null,b))}function Dh(a,b){if(b){var c,d,e;for(d=0,e=b.length;e>d;++d)c=b[d],a[w(c).toString()]=c}}function Eh(a,b){var c=b.R;void 0!==c&&("string"==typeof c?a.logos[c]="":fa(c)&&(a.logos[c.src]=c.href))}function Fh(a,b,c,d){b=w(b).toString(),c=c.toString(),b in a?c in a[b]?(a=a[b][c],d.ca<a.ca&&(a.ca=d.ca),d.ea>a.ea&&(a.ea=d.ea),d.fa<a.fa&&(a.fa=d.fa),d.ga>a.ga&&(a.ga=d.ga)):a[b][c]=d:(a[b]={},a[b][c]=d)}function Gh(a,b,c){return[b*(Math.round(a[0]/b)+c[0]%2/2),b*(Math.round(a[1]/b)+c[1]%2/2)]}function Hh(a,b,c,d,e,f,g,h,l,m){var n=w(b).toString();n in a.wantedTiles||(a.wantedTiles[n]={});var p=a.wantedTiles[n];a=a.tileQueue;var r,u,x,v,D,A,q=c.minZoom;for(A=g;A>=q;--A)for(u=vf(c,f,A,u),x=c.$(A),v=u.ca;v<=u.ea;++v)for(D=u.fa;D<=u.ga;++D)h>=g-A?(r=b.$b(A,v,D,d,e),0==r.V()&&(p[r.ma.toString()]=!0,r.getKey()in a.g||a.f([r,n,Af(c,r.ma),x])),void 0!==l&&l.call(m,r)):b.Yf(A,v,D,e)}function Ih(a){this.v=a.opacity,this.U=a.rotateWithView,this.j=a.rotation,this.i=a.scale,this.C=a.snapToPixel}function Jh(a){a=a||{},this.c=void 0!==a.anchor?a.anchor:[.5,.5],this.f=null,this.a=void 0!==a.anchorOrigin?a.anchorOrigin:"top-left",this.o=void 0!==a.anchorXUnits?a.anchorXUnits:"fraction",this.s=void 0!==a.anchorYUnits?a.anchorYUnits:"fraction";var b=void 0!==a.crossOrigin?a.crossOrigin:null,c=void 0!==a.img?a.img:null,d=void 0!==a.imgSize?a.imgSize:null,e=a.src;void 0!==e&&0!==e.length||!c||(e=c.src||w(c).toString());var f=void 0!==a.src?0:2,g=void 0!==a.color?ze(a.color):null,h=Kh.Yb(),l=h.get(e,b,g);l||(l=new Lh(c,e,d,b,f,g),h.set(e,b,g,l)),this.b=l,this.D=void 0!==a.offset?a.offset:[0,0],this.g=void 0!==a.offsetOrigin?a.offsetOrigin:"top-left",this.l=null,this.A=void 0!==a.size?a.size:null,Ih.call(this,{opacity:void 0!==a.opacity?a.opacity:1,rotation:void 0!==a.rotation?a.rotation:0,scale:void 0!==a.scale?a.scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1})}function Lh(a,b,c,d,e,f){eb.call(this),this.o=null,this.a=a?a:new Image,null!==d&&(this.a.crossOrigin=d),this.c=f?document.createElement("CANVAS"):null,this.l=f,this.i=null,this.f=e,this.g=c,this.j=b,this.s=!1,2==this.f&&Mh(this)}function Mh(a){var b=Ue(1,1);try{b.drawImage(a.a,0,0),b.getImageData(0,0,1,1)}catch(c){a.s=!0}}function Kh(){this.b={},this.a=0}function Nh(a,b){this.i=b,this.g={},this.s={}}function Oh(a){var b=a.viewState,c=a.coordinateToPixelMatrix;wh(c,a.size[0]/2,a.size[1]/2,1/b.resolution,-1/b.resolution,-b.rotation,-b.center[0],-b.center[1]),hd(c,a.pixelToCoordinateMatrix)}function Ph(){var a=Kh.Yb();if(32<a.a){var c,d,b=0;for(c in a.b)d=a.b[c],0!==(3&b++)||fb(d)||(delete a.b[c],--a.a)}}function Qh(a,b){var c=w(b).toString();if(c in a.g)return a.g[c];var d=a.We(b);return a.g[c]=d,a.s[c]=B(d,"change",a.Rk,a),d}function Rh(a,b){for(var c in a.g)if(!(c in b.layerStates)){b.postRenderFunctions.push(a.To.bind(a));break}}function wb(a,b){return a.zIndex-b.zIndex;
}function Sh(a,b){this.j=a,this.l=b,this.b=[],this.a=[],this.g={}}function Th(a){var b=a.b,c=a.a,d=b[0];return 1==b.length?(b.length=0,c.length=0):(b[0]=b.pop(),c[0]=c.pop(),Uh(a,0)),b=a.l(d),delete a.g[b],d}function Uh(a,b){for(var c=a.b,d=a.a,e=c.length,f=c[b],g=d[b],h=b;e>>1>b;){var l=2*b+1,m=2*b+2,l=e>m&&d[m]<d[l]?m:l;c[b]=c[l],d[b]=d[l],b=l}c[b]=f,d[b]=g,Vh(a,h,b)}function Vh(a,b,c){var d=a.b;a=a.a;for(var e=d[c],f=a[c];c>b;){var g=c-1>>1;if(!(a[g]>f))break;d[c]=d[g],a[c]=a[g],c=g}d[c]=e,a[c]=f}function Wh(a){var g,h,l,b=a.j,c=a.b,d=a.a,e=0,f=c.length;for(h=0;f>h;++h)g=c[h],l=b(g),1/0==l?delete a.g[a.l(g)]:(d[e]=l,c[e++]=g);for(c.length=e,d.length=e,b=(a.b.length>>1)-1;b>=0;b--)Uh(a,b)}function Xh(a,b){Sh.call(this,function(b){return a.apply(null,b)},function(a){return a[0].getKey()}),this.s=b,this.i=0,this.c={}}function Yh(a,b,c){for(var e,f,d=0;a.i<b&&c>d&&0<a.vc();)e=Th(a)[0],f=e.getKey(),0!==e.V()||f in a.c||(a.c[f]=!0,++a.i,++d,e.load())}function Zh(a,b,c){this.f=a,this.g=b,this.i=c,this.b=[],this.a=this.c=0}function $h(a,b){var c=a.f,d=a.a,e=a.g-d,f=Math.log(a.g/a.a)/a.f;return ie({source:b,duration:f,easing:function(a){return d*(Math.exp(c*a*f)-1)/e}})}function ai(a){jb.call(this),this.v=null,this.i(!0),this.handleEvent=a.handleEvent}function bi(a,b,c,d,e){if(void 0!==c){var f=b.La(),g=b.ab();void 0!==f&&g&&e&&e>0&&(a.Wa(je({rotation:f,duration:e,easing:ee})),d&&a.Wa(ie({source:g,duration:e,easing:ee}))),b.rotate(c,d)}}function ci(a,b,c,d,e){var f=b.$();c=b.constrainResolution(f,c,0),di(a,b,c,d,e)}function di(a,b,c,d,e){if(c){var f=b.$(),g=b.ab();if(void 0!==f&&g&&c!==f&&e&&e>0&&(a.Wa(ke({resolution:f,duration:e,easing:ee})),d&&a.Wa(ie({source:g,duration:e,easing:ee}))),d){var h;a=b.ab(),e=b.$(),void 0!==a&&void 0!==e&&(h=[d[0]-c*(d[0]-a[0])/e,d[1]-c*(d[1]-a[1])/e]),b.lb(h)}b.Tb(c)}}function ei(a){a=a?a:{},this.a=a.delta?a.delta:1,ai.call(this,{handleEvent:fi}),this.c=void 0!==a.duration?a.duration:250}function fi(a){var b=!1,c=a.originalEvent;if(a.type==fh){var b=a.map,d=a.coordinate,c=c.shiftKey?-this.a:this.a,e=b.aa();ci(b,e,c,d,this.c),a.preventDefault(),b=!0}return!b}function gi(a){return a=a.originalEvent,a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function hi(a){return a=a.originalEvent,0==a.button&&!(Ne&&lg&&a.ctrlKey)}function ii(a){return"pointermove"==a.type}function ji(a){return a.type==gh}function ki(a){return a=a.originalEvent,!a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey}function li(a){return a=a.originalEvent,!a.altKey&&!(a.metaKey||a.ctrlKey)&&a.shiftKey}function mi(a){return a=a.originalEvent.target.tagName,"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a}function ni(a){return"mouse"==a.b.pointerType}function oi(a){return a=a.b,a.isPrimary&&0===a.button}function pi(a){a=a?a:{},ai.call(this,{handleEvent:a.handleEvent?a.handleEvent:qi}),this.Ne=a.handleDownEvent?a.handleDownEvent:wc,this.Oe=a.handleDragEvent?a.handleDragEvent:pa,this.Mi=a.handleMoveEvent?a.handleMoveEvent:pa,this.tj=a.handleUpEvent?a.handleUpEvent:wc,this.C=!1,this.la={},this.o=[]}function ri(a){for(var b=a.length,c=0,d=0,e=0;b>e;e++)c+=a[e].clientX,d+=a[e].clientY;return[c/b,d/b]}function qi(a){if(!(a instanceof bh))return!0;var b=!1,c=a.type;return(c===kh||c===mh||c===ih)&&(c=a.b,a.type==ih?delete this.la[c.pointerId]:a.type==kh?this.la[c.pointerId]=c:c.pointerId in this.la&&(this.la[c.pointerId]=c),this.o=La(this.la)),this.C&&(a.type==mh?this.Oe(a):a.type==ih&&(this.C=this.tj(a))),a.type==kh?(this.C=a=this.Ne(a),b=this.Fc(a)):a.type==lh&&this.Mi(a),!b}function si(a){pi.call(this,{handleDownEvent:ti,handleDragEvent:ui,handleUpEvent:vi}),a=a?a:{},this.a=a.kinetic,this.c=this.j=null,this.A=a.condition?a.condition:ki,this.s=!1}function ui(a){var b=ri(this.o);if(this.a&&this.a.b.push(b[0],b[1],Date.now()),this.c){var c=this.c[0]-b[0],d=b[1]-this.c[1];a=a.map;var e=a.aa(),f=e.V(),d=c=[c,d],g=f.resolution;d[0]*=g,d[1]*=g,Lb(c,f.rotation),Gb(c,f.center),c=e.Od(c),a.render(),e.lb(c)}this.c=b}function vi(a){a=a.map;var b=a.aa();if(0===this.o.length){var c;if(c=!this.s&&this.a)if(c=this.a,6>c.b.length)c=!1;else{var d=Date.now()-c.i,e=c.b.length-3;if(c.b[e+2]<d)c=!1;else{for(var f=e-3;f>0&&c.b[f+2]>d;)f-=3;var d=c.b[e+2]-c.b[f+2],g=c.b[e]-c.b[f],e=c.b[e+1]-c.b[f+1];c.c=Math.atan2(e,g),c.a=Math.sqrt(g*g+e*e)/d,c=c.a>c.g}}return c&&(c=this.a,c=(c.g-c.a)/c.f,e=this.a.c,f=b.ab(),this.j=$h(this.a,f),a.Wa(this.j),f=a.Ga(f),c=a.Ma([f[0]-c*Math.cos(e),f[1]-c*Math.sin(e)]),c=b.Od(c),b.lb(c)),ce(b,-1),a.render(),!1}return this.c=null,!0}function ti(a){if(0<this.o.length&&this.A(a)){var b=a.map,c=b.aa();return this.c=null,this.C||ce(c,1),b.render(),this.j&&sb(b.R,this.j)&&(c.lb(a.frameState.viewState.center),this.j=null),this.a&&(a=this.a,a.b.length=0,a.c=0,a.a=0),this.s=1<this.o.length,!0}return!1}function wi(a){a=a?a:{},pi.call(this,{handleDownEvent:xi,handleDragEvent:yi,handleUpEvent:zi}),this.c=a.condition?a.condition:gi,this.a=void 0,this.j=void 0!==a.duration?a.duration:250}function yi(a){if(ni(a)){var b=a.map,c=b.Za();if(a=a.pixel,c=Math.atan2(c[1]/2-a[1],a[0]-c[0]/2),void 0!==this.a){a=c-this.a;var d=b.aa(),e=d.La();b.render(),bi(b,d,e-a)}this.a=c}}function zi(a){if(!ni(a))return!0;a=a.map;var b=a.aa();ce(b,-1);var c=b.La(),d=this.j,c=b.constrainRotation(c,0);return bi(a,b,c,void 0,d),!1}function xi(a){return ni(a)&&hi(a)&&this.c(a)?(a=a.map,ce(a.aa(),1),a.render(),this.a=void 0,!0):!1}function Ai(a){this.f=null,this.a=document.createElement("div"),this.a.style.position="absolute",this.a.className="ol-box "+a,this.g=this.c=this.b=null}function Bi(a){var b=a.c,c=a.g;a=a.a.style,a.left=Math.min(b[0],c[0])+"px",a.top=Math.min(b[1],c[1])+"px",a.width=Math.abs(c[0]-b[0])+"px",a.height=Math.abs(c[1]-b[1])+"px"}function Ci(a){var b=a.c,c=a.g,b=[b,[b[0],c[1]],c,[c[0],b[1]]].map(a.b.Ma,a.b);b[4]=b[0].slice(),a.f?a.f.pa([b]):a.f=new E([b])}function Di(a,b,c){bb.call(this,a),this.coordinate=b,this.mapBrowserEvent=c}function Ei(a){pi.call(this,{handleDownEvent:Fi,handleDragEvent:Gi,handleUpEvent:Hi}),a=a?a:{},this.a=new Ai(a.className||"ol-dragbox"),this.c=null,this.D=a.condition?a.condition:vc,this.A=a.boxEndCondition?a.boxEndCondition:Ii}function Ii(a,b,c){return a=c[0]-b[0],b=c[1]-b[1],a*a+b*b>=64}function Gi(a){if(ni(a)){var b=this.a,c=a.pixel;b.c=this.c,b.g=c,Ci(b),Bi(b),this.b(new Di("boxdrag",a.coordinate,a))}}function Hi(a){return ni(a)?(this.a.setMap(null),this.A(a,this.c,a.pixel)&&(this.s(a),this.b(new Di("boxend",a.coordinate,a))),!1):!0}function Fi(a){if(ni(a)&&hi(a)&&this.D(a)){this.c=a.pixel,this.a.setMap(a.map);var b=this.a,c=this.c;return b.c=this.c,b.g=c,Ci(b),Bi(b),this.b(new Di("boxstart",a.coordinate,a)),!0}return!1}function Ji(a){a=a?a:{};var b=a.condition?a.condition:li;this.j=void 0!==a.duration?a.duration:200,this.R=void 0!==a.out?a.out:!1,Ei.call(this,{condition:b,className:a.className||"ol-dragzoom"})}function Ki(a){ai.call(this,{handleEvent:Li}),a=a||{},this.a=function(a){return ki(a)&&mi(a)},this.c=void 0!==a.condition?a.condition:this.a,this.o=void 0!==a.duration?a.duration:100,this.j=void 0!==a.pixelDelta?a.pixelDelta:128}function Li(a){var b=!1;if("keydown"==a.type){var c=a.originalEvent.keyCode;if(this.c(a)&&(40==c||37==c||39==c||38==c)){var d=a.map,b=d.aa(),e=b.$()*this.j,f=0,g=0;40==c?g=-e:37==c?f=-e:39==c?f=e:g=e,c=[f,g],Lb(c,b.La()),e=this.o,(f=b.ab())&&(e&&e>0&&d.Wa(ie({source:f,duration:e,easing:ge})),d=b.Od([f[0]+c[0],f[1]+c[1]]),b.lb(d)),a.preventDefault(),b=!0}}return!b}function Mi(a){ai.call(this,{handleEvent:Ni}),a=a?a:{},this.c=a.condition?a.condition:mi,this.a=a.delta?a.delta:1,this.o=void 0!==a.duration?a.duration:100}function Ni(a){var b=!1;if("keydown"==a.type||"keypress"==a.type){var c=a.originalEvent.charCode;if(this.c(a)&&(43==c||45==c)){b=a.map,c=43==c?this.a:-this.a,b.render();var d=b.aa();ci(b,d,c,void 0,this.o),a.preventDefault(),b=!0}}return!b}function Oi(a){ai.call(this,{handleEvent:Pi}),a=a||{},this.c=0,this.C=void 0!==a.duration?a.duration:250,this.s=void 0!==a.useAnchor?a.useAnchor:!0,this.a=null,this.j=this.o=void 0}function Pi(a){var b=!1;if("wheel"==a.type||"mousewheel"==a.type){var b=a.map,c=a.originalEvent;this.s&&(this.a=a.coordinate);var d;"wheel"==a.type?(d=c.deltaY,jg&&c.deltaMode===qa.WheelEvent.DOM_DELTA_PIXEL&&(d/=mg),c.deltaMode===qa.WheelEvent.DOM_DELTA_LINE&&(d*=40)):"mousewheel"==a.type&&(d=-c.wheelDeltaY,kg&&(d/=3)),this.c+=d,void 0===this.o&&(this.o=Date.now()),d=Math.max(80-(Date.now()-this.o),0),qa.clearTimeout(this.j),this.j=qa.setTimeout(this.A.bind(this,b),d),a.preventDefault(),b=!0}return!b}function Qi(a){pi.call(this,{handleDownEvent:Ri,handleDragEvent:Si,handleUpEvent:Ti}),a=a||{},this.c=null,this.j=void 0,this.a=!1,this.s=0,this.D=void 0!==a.threshold?a.threshold:.3,this.A=void 0!==a.duration?a.duration:250}function Si(a){var b=0,c=this.o[0],d=this.o[1],c=Math.atan2(d.clientY-c.clientY,d.clientX-c.clientX);void 0!==this.j&&(b=c-this.j,this.s+=b,!this.a&&Math.abs(this.s)>this.D&&(this.a=!0)),this.j=c,a=a.map,c=a.a.getBoundingClientRect(),d=ri(this.o),d[0]-=c.left,d[1]-=c.top,this.c=a.Ma(d),this.a&&(c=a.aa(),d=c.La(),a.render(),bi(a,c,d+b,this.c))}function Ti(a){if(2>this.o.length){a=a.map;var b=a.aa();if(ce(b,-1),this.a){var c=b.La(),d=this.c,e=this.A,c=b.constrainRotation(c,0);bi(a,b,c,d,e)}return!1}return!0}function Ri(a){return 2<=this.o.length?(a=a.map,this.c=null,this.j=void 0,this.a=!1,this.s=0,this.C||ce(a.aa(),1),a.render(),!0):!1}function Ui(a){pi.call(this,{handleDownEvent:Vi,handleDragEvent:Wi,handleUpEvent:Xi}),a=a?a:{},this.c=null,this.s=void 0!==a.duration?a.duration:400,this.a=void 0,this.j=1}function Wi(a){var b=1,c=this.o[0],d=this.o[1],e=c.clientX-d.clientX,c=c.clientY-d.clientY,e=Math.sqrt(e*e+c*c);void 0!==this.a&&(b=this.a/e),this.a=e,1!=b&&(this.j=b),a=a.map;var e=a.aa(),c=e.$(),d=a.a.getBoundingClientRect(),f=ri(this.o);f[0]-=d.left,f[1]-=d.top,this.c=a.Ma(f),a.render(),di(a,e,c*b,this.c)}function Xi(a){if(2>this.o.length){a=a.map;var b=a.aa();ce(b,-1);var c=b.$(),d=this.c,e=this.s,c=b.constrainResolution(c,0,this.j-1);return di(a,b,c,d,e),!1}return!0}function Vi(a){return 2<=this.o.length?(a=a.map,this.c=null,this.a=void 0,this.j=1,this.C||ce(a.aa(),1),a.render(),!0):!1}function Yi(a){a=a?a:{};var b=new re,c=new Zh(-.005,.05,100);return(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&b.push(new wi),(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&b.push(new ei({delta:a.zoomDelta,duration:a.zoomDuration})),(void 0!==a.dragPan?a.dragPan:1)&&b.push(new si({kinetic:c})),(void 0!==a.pinchRotate?a.pinchRotate:1)&&b.push(new Qi),(void 0!==a.pinchZoom?a.pinchZoom:1)&&b.push(new Ui({duration:a.zoomDuration})),(void 0!==a.keyboard?a.keyboard:1)&&(b.push(new Ki),b.push(new Mi({delta:a.zoomDelta,duration:a.zoomDuration}))),(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&b.push(new Oi({duration:a.zoomDuration})),(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&b.push(new Ji({duration:a.zoomDuration})),b}function Zi(a){var b=a||{};a=Ja({},b),delete a.layers,b=b.layers,oh.call(this,a),this.f=[],this.a={},B(this,lb("layers"),this.Tk,this),b?Array.isArray(b)&&(b=new re(b.slice())):b=new re,this.oh(b)}function $i(a){Ac.call(this,{code:a,units:"m",extent:aj,global:!0,worldExtent:bj})}function Nc(a,b,c){var d=a.length;c=c>1?c:2,void 0===b&&(b=c>2?a.slice():Array(d));for(var e=0;d>e;e+=c)b[e]=6378137*Math.PI*a[e]/180,b[e+1]=6378137*Math.log(Math.tan(Math.PI*(a[e+1]+90)/360));return b}function Oc(a,b,c){var d=a.length;c=c>1?c:2,void 0===b&&(b=c>2?a.slice():Array(d));for(var e=0;d>e;e+=c)b[e]=180*a[e]/(6378137*Math.PI),b[e+1]=360*Math.atan(Math.exp(a[e+1]/6378137))/Math.PI-90;return b}function ej(a,b){Ac.call(this,{code:a,units:"degrees",extent:fj,axisOrientation:b,global:!0,metersPerUnit:gj,worldExtent:fj})}function hj(){Ec(Mc),Ec(Pc),Lc()}function ij(a){sh.call(this,a?a:{})}function jj(a){a=a?a:{};var b=Ja({},a);delete b.preload,delete b.useInterimTilesOnError,sh.call(this,b),this.l(void 0!==a.preload?a.preload:0),this.A(void 0!==a.useInterimTilesOnError?a.useInterimTilesOnError:!0)}function nj(a,b,c,d){0!==b&&(a.translate(c,d),a.rotate(b),a.translate(-c,-d))}function oj(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.a=void 0}function pj(a){return void 0===a.a&&(a.a=a.b instanceof CanvasPattern||a.b instanceof CanvasGradient?w(a.b).toString():"f"+(a.b?Be(a.b):"-")),a.a}function qj(){this.a=-1}function rj(){this.a=64,this.b=Array(4),this.c=Array(this.a),this.b[0]=1732584193,this.b[1]=4023233417,this.b[2]=2562383102,this.b[3]=271733878,this.f=this.g=0}function sj(a,b,c){c||(c=0);var d=Array(16);if(da(b))for(var e=0;16>e;++e)d[e]=b.charCodeAt(c++)|b.charCodeAt(c++)<<8|b.charCodeAt(c++)<<16|b.charCodeAt(c++)<<24;else for(e=0;16>e;++e)d[e]=b[c++]|b[c++]<<8|b[c++]<<16|b[c++]<<24;b=a.b[0],c=a.b[1];var g,e=a.b[2],f=a.b[3];g=b+(f^c&(e^f))+d[0]+3614090360&4294967295,b=c+(g<<7&4294967295|g>>>25),g=f+(e^b&(c^e))+d[1]+3905402710&4294967295,f=b+(g<<12&4294967295|g>>>20),g=e+(c^f&(b^c))+d[2]+606105819&4294967295,e=f+(g<<17&4294967295|g>>>15),g=c+(b^e&(f^b))+d[3]+3250441966&4294967295,c=e+(g<<22&4294967295|g>>>10),g=b+(f^c&(e^f))+d[4]+4118548399&4294967295,b=c+(g<<7&4294967295|g>>>25),g=f+(e^b&(c^e))+d[5]+1200080426&4294967295,f=b+(g<<12&4294967295|g>>>20),g=e+(c^f&(b^c))+d[6]+2821735955&4294967295,e=f+(g<<17&4294967295|g>>>15),g=c+(b^e&(f^b))+d[7]+4249261313&4294967295,c=e+(g<<22&4294967295|g>>>10),g=b+(f^c&(e^f))+d[8]+1770035416&4294967295,b=c+(g<<7&4294967295|g>>>25),g=f+(e^b&(c^e))+d[9]+2336552879&4294967295,f=b+(g<<12&4294967295|g>>>20),g=e+(c^f&(b^c))+d[10]+4294925233&4294967295,e=f+(g<<17&4294967295|g>>>15),g=c+(b^e&(f^b))+d[11]+2304563134&4294967295,c=e+(g<<22&4294967295|g>>>10),g=b+(f^c&(e^f))+d[12]+1804603682&4294967295,b=c+(g<<7&4294967295|g>>>25),g=f+(e^b&(c^e))+d[13]+4254626195&4294967295,f=b+(g<<12&4294967295|g>>>20),g=e+(c^f&(b^c))+d[14]+2792965006&4294967295,e=f+(g<<17&4294967295|g>>>15),g=c+(b^e&(f^b))+d[15]+1236535329&4294967295,c=e+(g<<22&4294967295|g>>>10),g=b+(e^f&(c^e))+d[1]+4129170786&4294967295,b=c+(g<<5&4294967295|g>>>27),g=f+(c^e&(b^c))+d[6]+3225465664&4294967295,f=b+(g<<9&4294967295|g>>>23),g=e+(b^c&(f^b))+d[11]+643717713&4294967295,e=f+(g<<14&4294967295|g>>>18),g=c+(f^b&(e^f))+d[0]+3921069994&4294967295,c=e+(g<<20&4294967295|g>>>12),g=b+(e^f&(c^e))+d[5]+3593408605&4294967295,b=c+(g<<5&4294967295|g>>>27),g=f+(c^e&(b^c))+d[10]+38016083&4294967295,f=b+(g<<9&4294967295|g>>>23),g=e+(b^c&(f^b))+d[15]+3634488961&4294967295,e=f+(g<<14&4294967295|g>>>18),g=c+(f^b&(e^f))+d[4]+3889429448&4294967295,c=e+(g<<20&4294967295|g>>>12),g=b+(e^f&(c^e))+d[9]+568446438&4294967295,b=c+(g<<5&4294967295|g>>>27),g=f+(c^e&(b^c))+d[14]+3275163606&4294967295,f=b+(g<<9&4294967295|g>>>23),g=e+(b^c&(f^b))+d[3]+4107603335&4294967295,e=f+(g<<14&4294967295|g>>>18),g=c+(f^b&(e^f))+d[8]+1163531501&4294967295,c=e+(g<<20&4294967295|g>>>12),g=b+(e^f&(c^e))+d[13]+2850285829&4294967295,b=c+(g<<5&4294967295|g>>>27),g=f+(c^e&(b^c))+d[2]+4243563512&4294967295,f=b+(g<<9&4294967295|g>>>23),g=e+(b^c&(f^b))+d[7]+1735328473&4294967295,e=f+(g<<14&4294967295|g>>>18),g=c+(f^b&(e^f))+d[12]+2368359562&4294967295,c=e+(g<<20&4294967295|g>>>12),g=b+(c^e^f)+d[5]+4294588738&4294967295,b=c+(g<<4&4294967295|g>>>28),g=f+(b^c^e)+d[8]+2272392833&4294967295,f=b+(g<<11&4294967295|g>>>21),g=e+(f^b^c)+d[11]+1839030562&4294967295,e=f+(g<<16&4294967295|g>>>16),g=c+(e^f^b)+d[14]+4259657740&4294967295,c=e+(g<<23&4294967295|g>>>9),g=b+(c^e^f)+d[1]+2763975236&4294967295,b=c+(g<<4&4294967295|g>>>28),g=f+(b^c^e)+d[4]+1272893353&4294967295,f=b+(g<<11&4294967295|g>>>21),g=e+(f^b^c)+d[7]+4139469664&4294967295,e=f+(g<<16&4294967295|g>>>16),g=c+(e^f^b)+d[10]+3200236656&4294967295,c=e+(g<<23&4294967295|g>>>9),g=b+(c^e^f)+d[13]+681279174&4294967295,b=c+(g<<4&4294967295|g>>>28),g=f+(b^c^e)+d[0]+3936430074&4294967295,f=b+(g<<11&4294967295|g>>>21),g=e+(f^b^c)+d[3]+3572445317&4294967295,e=f+(g<<16&4294967295|g>>>16),g=c+(e^f^b)+d[6]+76029189&4294967295,c=e+(g<<23&4294967295|g>>>9),g=b+(c^e^f)+d[9]+3654602809&4294967295,b=c+(g<<4&4294967295|g>>>28),g=f+(b^c^e)+d[12]+3873151461&4294967295,f=b+(g<<11&4294967295|g>>>21),g=e+(f^b^c)+d[15]+530742520&4294967295,e=f+(g<<16&4294967295|g>>>16),g=c+(e^f^b)+d[2]+3299628645&4294967295,c=e+(g<<23&4294967295|g>>>9),g=b+(e^(c|~f))+d[0]+4096336452&4294967295,b=c+(g<<6&4294967295|g>>>26),g=f+(c^(b|~e))+d[7]+1126891415&4294967295,f=b+(g<<10&4294967295|g>>>22),g=e+(b^(f|~c))+d[14]+2878612391&4294967295,e=f+(g<<15&4294967295|g>>>17),g=c+(f^(e|~b))+d[5]+4237533241&4294967295,c=e+(g<<21&4294967295|g>>>11),g=b+(e^(c|~f))+d[12]+1700485571&4294967295,b=c+(g<<6&4294967295|g>>>26),g=f+(c^(b|~e))+d[3]+2399980690&4294967295,f=b+(g<<10&4294967295|g>>>22),g=e+(b^(f|~c))+d[10]+4293915773&4294967295,e=f+(g<<15&4294967295|g>>>17),g=c+(f^(e|~b))+d[1]+2240044497&4294967295,c=e+(g<<21&4294967295|g>>>11),g=b+(e^(c|~f))+d[8]+1873313359&4294967295,b=c+(g<<6&4294967295|g>>>26),g=f+(c^(b|~e))+d[15]+4264355552&4294967295,f=b+(g<<10&4294967295|g>>>22),g=e+(b^(f|~c))+d[6]+2734768916&4294967295,e=f+(g<<15&4294967295|g>>>17),g=c+(f^(e|~b))+d[13]+1309151649&4294967295,c=e+(g<<21&4294967295|g>>>11),g=b+(e^(c|~f))+d[4]+4149444226&4294967295,b=c+(g<<6&4294967295|g>>>26),g=f+(c^(b|~e))+d[11]+3174756917&4294967295,f=b+(g<<10&4294967295|g>>>22),g=e+(b^(f|~c))+d[2]+718787259&4294967295,e=f+(g<<15&4294967295|g>>>17),g=c+(f^(e|~b))+d[9]+3951481745&4294967295,a.b[0]=a.b[0]+b&4294967295,a.b[1]=a.b[1]+(e+(g<<21&4294967295|g>>>11))&4294967295,a.b[2]=a.b[2]+e&4294967295,a.b[3]=a.b[3]+f&4294967295}function tj(a,b){var c;void 0===c&&(c=b.length);for(var d=c-a.a,e=a.c,f=a.g,g=0;c>g;){if(0==f)for(;d>=g;)sj(a,b,g),g+=a.a;if(da(b)){for(;c>g;)if(e[f++]=b.charCodeAt(g++),f==a.a){sj(a,e),f=0;break}}else for(;c>g;)if(e[f++]=b[g++],f==a.a){sj(a,e),f=0;break}}a.g=f,a.f+=c}function uj(a){a=a||{},this.b=void 0!==a.color?a.color:null,this.f=a.lineCap,this.g=void 0!==a.lineDash?a.lineDash:null,this.c=a.lineJoin,this.i=a.miterLimit,this.a=a.width,this.l=void 0}function vj(a){if(void 0===a.l){var b="s"+(a.b?Be(a.b):"-")+","+(void 0!==a.f?a.f.toString():"-")+","+(a.g?a.g.toString():"-")+","+(void 0!==a.c?a.c:"-")+","+(void 0!==a.i?a.i.toString():"-")+","+(void 0!==a.a?a.a.toString():"-"),c=new rj;tj(c,b),b=Array((56>c.g?c.a:2*c.a)-c.g),b[0]=128;for(var d=1;d<b.length-8;++d)b[d]=0;for(var e=8*c.f,d=b.length-8;d<b.length;++d)b[d]=255&e,e/=256;for(tj(c,b),b=Array(16),d=e=0;4>d;++d)for(var f=0;32>f;f+=8)b[e++]=c.b[d]>>>f&255;if(8192>=b.length)c=String.fromCharCode.apply(null,b);else for(c="",d=0;d<b.length;d+=8192)e=ve(b,d,d+8192),c+=String.fromCharCode.apply(null,e);a.l=c}return a.l}function wj(a){a=a||{},this.l=this.f=this.c=null,this.g=void 0!==a.fill?a.fill:null,this.b=void 0!==a.stroke?a.stroke:null,this.a=a.radius,this.A=[0,0],this.s=this.D=this.o=null;var c,e,b=a.atlasManager,d=null,f=0;this.b&&(e=Be(this.b.b),f=this.b.a,void 0===f&&(f=1),d=this.b.g,ng||(d=null));var g=2*(this.a+f)+1;if(e={strokeStyle:e,Ad:f,size:g,lineDash:d},void 0===b)b=Ue(g,g),this.f=b.canvas,c=g=this.f.width,this.Gh(e,b,0,0),this.g?this.l=this.f:(b=Ue(e.size,e.size),this.l=b.canvas,this.Fh(e,b,0,0));else{g=Math.round(g),(d=!this.g)&&(c=this.Fh.bind(this,e));var f=this.b?vj(this.b):"-",h=this.g?pj(this.g):"-";this.c&&f==this.c[1]&&h==this.c[2]&&this.a==this.c[3]||(this.c=["c"+f+h+(void 0!==this.a?this.a.toString():"-"),f,h,this.a]),b=b.add(this.c[0],g,g,this.Gh.bind(this,e),c),this.f=b.image,this.A=[b.offsetX,b.offsetY],c=b.image.width,this.l=d?b.Sg:this.f}this.o=[g/2,g/2],this.D=[g,g],this.s=[c,c],Ih.call(this,{opacity:1,rotateWithView:!1,rotation:0,scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0})}function xj(a){a=a||{},this.i=null,this.g=yj,void 0!==a.geometry&&this.Jh(a.geometry),this.c=void 0!==a.fill?a.fill:null,this.a=void 0!==a.image?a.image:null,this.f=void 0!==a.stroke?a.stroke:null,this.l=void 0!==a.text?a.text:null,this.b=a.zIndex}function zj(a){if("function"!=typeof a){var b;b=Array.isArray(a)?a:[a],a=function(){return b}}return a}function Bj(){if(!Aj){var a=new oj({color:"rgba(255,255,255,0.4)"}),b=new uj({color:"#3399CC",width:1.25});Aj=[new xj({image:new wj({fill:a,stroke:b,radius:5}),fill:a,stroke:b})]}return Aj}function Cj(){var a={},b=[255,255,255,1],c=[0,153,255,1];return a.Polygon=[new xj({fill:new oj({color:[255,255,255,.5]})})],a.MultiPolygon=a.Polygon,a.LineString=[new xj({stroke:new uj({color:b,width:5})}),new xj({stroke:new uj({color:c,width:3})})],a.MultiLineString=a.LineString,a.Circle=a.Polygon.concat(a.LineString),a.Point=[new xj({image:new wj({radius:6,fill:new oj({color:c}),stroke:new uj({color:b,width:1.5})}),zIndex:1/0})],a.MultiPoint=a.Point,a.GeometryCollection=a.Polygon.concat(a.LineString,a.Point),a}function yj(a){return a.W()}function G(a){a=a?a:{};var b=Ja({},a);delete b.style,delete b.renderBuffer,delete b.updateWhileAnimating,delete b.updateWhileInteracting,sh.call(this,b),this.a=void 0!==a.renderBuffer?a.renderBuffer:100,this.A=null,this.i=void 0,this.l(a.style),this.R=void 0!==a.updateWhileAnimating?a.updateWhileAnimating:!1,this.S=void 0!==a.updateWhileInteracting?a.updateWhileInteracting:!1}function Dj(a){return a.get("renderOrder")}function I(a){a=a?a:{};var b=Ja({},a);delete b.preload,delete b.useInterimTilesOnError,G.call(this,b),this.T(a.preload?a.preload:0),this.Y(a.useInterimTilesOnError?a.useInterimTilesOnError:!0),this.s=a.renderMode||"hybrid"}function Ej(a,b,c,d,e){this.f=a,this.A=b,this.c=c,this.D=d,this.Gc=e,this.i=this.b=this.a=this.la=this.Ra=this.Y=null,this.qa=this.za=this.v=this.Ba=this.ya=this.R=0,this.Fb=!1,this.l=this.ta=0,this.Aa=!1,this.S=0,this.g="",this.j=this.C=this.pb=this.Sa=0,this.T=this.s=this.o=null,this.U=[],this.Gb=bd()}function Fj(a,b,c){if(a.i){b=ld(b,0,c,2,a.D,a.U),c=a.f;var d=a.Gb,e=c.globalAlpha;1!=a.v&&(c.globalAlpha=e*a.v);var f=a.ta;a.Fb&&(f+=a.Gc);var g,h;for(g=0,h=b.length;h>g;g+=2){var l=b[g]-a.R,m=b[g+1]-a.ya;if(a.Aa&&(l=Math.round(l),m=Math.round(m)),0!==f||1!=a.l){var n=l+a.R,p=m+a.ya;wh(d,n,p,a.l,a.l,f,-n,-p),c.setTransform(d[0],d[1],d[4],d[5],d[12],d[13])}c.drawImage(a.i,a.za,a.qa,a.S,a.Ba,l,m,a.S,a.Ba)}0===f&&1==a.l||c.setTransform(1,0,0,1,0,0),1!=a.v&&(c.globalAlpha=e)}}function Gj(a,b,c,d){var e=0;if(a.T&&""!==a.g){a.o&&Hj(a,a.o),a.s&&Ij(a,a.s);var f=a.T,g=a.f,h=a.la;for(h?(h.font!=f.font&&(h.font=g.font=f.font),h.textAlign!=f.textAlign&&(h.textAlign=g.textAlign=f.textAlign),h.textBaseline!=f.textBaseline&&(h.textBaseline=g.textBaseline=f.textBaseline)):(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline,a.la={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}),b=ld(b,e,c,d,a.D,a.U),f=a.f;c>e;e+=d){if(g=b[e]+a.Sa,h=b[e+1]+a.pb,0!==a.C||1!=a.j){var l=wh(a.Gb,g,h,a.j,a.j,a.C,-g,-h);f.setTransform(l[0],l[1],l[4],l[5],l[12],l[13])}a.s&&f.strokeText(a.g,g,h),a.o&&f.fillText(a.g,g,h)}0===a.C&&1==a.j||f.setTransform(1,0,0,1,0,0)}}function Jj(a,b,c,d,e,f){var g=a.f;for(a=ld(b,c,d,e,a.D,a.U),g.moveTo(a[0],a[1]),b=a.length,f&&(b-=2),c=2;b>c;c+=2)g.lineTo(a[c],a[c+1]);return f&&g.closePath(),d}function Kj(a,b,c,d,e){var f,g;for(f=0,g=d.length;g>f;++f)c=Jj(a,b,c,d[f],e,!0);return c}function Hj(a,b){var c=a.f,d=a.Y;d?d.fillStyle!=b.fillStyle&&(d.fillStyle=c.fillStyle=b.fillStyle):(c.fillStyle=b.fillStyle,a.Y={fillStyle:b.fillStyle})}function Ij(a,b){var c=a.f,d=a.Ra;d?(d.lineCap!=b.lineCap&&(d.lineCap=c.lineCap=b.lineCap),ng&&!ub(d.lineDash,b.lineDash)&&c.setLineDash(d.lineDash=b.lineDash),d.lineJoin!=b.lineJoin&&(d.lineJoin=c.lineJoin=b.lineJoin),d.lineWidth!=b.lineWidth&&(d.lineWidth=c.lineWidth=b.lineWidth),d.miterLimit!=b.miterLimit&&(d.miterLimit=c.miterLimit=b.miterLimit),d.strokeStyle!=b.strokeStyle&&(d.strokeStyle=c.strokeStyle=b.strokeStyle)):(c.lineCap=b.lineCap,ng&&c.setLineDash(b.lineDash),c.lineJoin=b.lineJoin,c.lineWidth=b.lineWidth,c.miterLimit=b.miterLimit,c.strokeStyle=b.strokeStyle,a.Ra={lineCap:b.lineCap,lineDash:b.lineDash,lineJoin:b.lineJoin,lineWidth:b.lineWidth,miterLimit:b.miterLimit,strokeStyle:b.strokeStyle})}function Pj(a){zh.call(this,a),this.R=bd()}function Qj(a,b,c,d,e){var f=a.a;if(fb(f,b)){var g=d.size[0]*d.pixelRatio,h=d.size[1]*d.pixelRatio,l=d.viewState.rotation;nj(c,-l,g/2,h/2),a=void 0!==e?e:Sj(a,d,0),a=new Ej(c,d.pixelRatio,d.extent,a,d.viewState.rotation),f.b(new rh(b,f,a,d,c,null)),nj(c,l,g/2,h/2)}}function Rj(a,b,c,d){Qj(a,"postcompose",b,c,d)}function Sj(a,b,c){var d=b.viewState,e=b.pixelRatio;return wh(a.R,e*b.size[0]/2,e*b.size[1]/2,e/d.resolution,-e/d.resolution,-d.rotation,-d.center[0]+c,-d.center[1])}function Uj(a,b,c){this.qa=a,this.T=b,this.f=null,this.c=0,this.resolution=c,this.Ba=this.ya=null,this.a=[],this.coordinates=[],this.Ra=bd(),this.b=[],this.Y=[],this.la=bd(),this.za=bd()}function Vj(a,b,c,d,e,f){var p,q,r,g=a.coordinates.length,h=a.cf(),l=[b[c],b[c+1]],m=[NaN,NaN],n=!0;for(p=c+e;d>p;p+=e)m[0]=b[p],m[1]=b[p+1],r=$b(h,m),r!==q?(n&&(a.coordinates[g++]=l[0],a.coordinates[g++]=l[1]),a.coordinates[g++]=m[0],a.coordinates[g++]=m[1],n=!1):1===r?(a.coordinates[g++]=m[0],a.coordinates[g++]=m[1],n=!1):n=!0,l[0]=m[0],l[1]=m[1],q=r;return p===c+e&&(a.coordinates[g++]=l[0],a.coordinates[g++]=l[1]),f&&(a.coordinates[g++]=b[c],a.coordinates[g++]=b[c+1]),g}function Wj(a,b){a.ya=[0,b,0],a.a.push(a.ya),a.Ba=[0,b,0],a.b.push(a.Ba)}function Xj(a,b,c,d,e,f,g,h,l){var m;xh(d,a.Ra)?m=a.Y:(m=ld(a.coordinates,0,a.coordinates.length,2,d,a.Y),ed(a.Ra,d)),d=!Ma(f);var q,r,n=0,p=g.length,u=a.la;a=a.za;for(var x,v,D,A;p>n;){var F,N,K,X,z=g[n];switch(z[0]){case 0:q=z[1],d&&f[w(q).toString()]||!q.W()?n=z[2]:void 0===l||sc(l,q.W().H())?++n:n=z[2];break;case 1:b.beginPath(),++n;break;case 2:q=z[1],r=m[q],z=m[q+1],D=m[q+2]-r,q=m[q+3]-z,b.arc(r,z,Math.sqrt(D*D+q*q),0,2*Math.PI,!0),++n;break;case 3:b.closePath(),++n;break;case 4:q=z[1],r=z[2],F=z[3],K=z[4]*c;var oa=z[5]*c,H=z[6];N=z[7];var ya=z[8],Va=z[9];D=z[11],A=z[12];var Ya=z[13],Wa=z[14];for(z[10]&&(D+=e);r>q;q+=2){if(z=m[q]-K,X=m[q+1]-oa,Ya&&(z=Math.round(z),X=Math.round(X)),1!=A||0!==D){var Aa=z+K,Rb=X+oa;wh(u,Aa,Rb,A,A,D,-Aa,-Rb),b.transform(u[0],u[1],u[4],u[5],u[12],u[13])}Aa=b.globalAlpha,1!=N&&(b.globalAlpha=Aa*N);var Rb=Wa+ya>F.width?F.width-ya:Wa,Ob=H+Va>F.height?F.height-Va:H;b.drawImage(F,ya,Va,Rb,Ob,z,X,Rb*c,Ob*c),1!=N&&(b.globalAlpha=Aa),(1!=A||0!==D)&&(hd(u,a),b.transform(a[0],a[1],a[4],a[5],a[12],a[13]))}++n;break;case 5:for(q=z[1],r=z[2],K=z[3],oa=z[4]*c,H=z[5]*c,D=z[6],A=z[7]*c,F=z[8],N=z[9];r>q;q+=2){for(z=m[q]+oa,X=m[q+1]+H,(1!=A||0!==D)&&(wh(u,z,X,A,A,D,-z,-X),b.transform(u[0],u[1],u[4],u[5],u[12],u[13])),ya=K.split("\n"),Va=ya.length,Va>1?(Ya=Math.round(1.5*b.measureText("M").width),X-=(Va-1)/2*Ya):Ya=0,Wa=0;Va>Wa;Wa++)Aa=ya[Wa],N&&b.strokeText(Aa,z,X),F&&b.fillText(Aa,z,X),X+=Ya;(1!=A||0!==D)&&(hd(u,a),b.transform(a[0],a[1],a[4],a[5],a[12],a[13]))}++n;break;case 6:if(void 0!==h&&(q=z[1],q=h(q)))return q;++n;break;case 7:b.fill(),++n;break;case 8:for(q=z[1],r=z[2],z=m[q],X=m[q+1],D=z+.5|0,A=X+.5|0,(D!==x||A!==v)&&(b.moveTo(z,X),x=D,v=A),q+=2;r>q;q+=2)z=m[q],X=m[q+1],D=z+.5|0,A=X+.5|0,(q==r-2||D!==x||A!==v)&&(b.lineTo(z,X),x=D,v=A);++n;break;case 9:b.fillStyle=z[1],++n;break;case 10:x=void 0!==z[7]?z[7]:!0,v=z[2],b.strokeStyle=z[1],b.lineWidth=x?v*c:v,b.lineCap=z[3],b.lineJoin=z[4],b.miterLimit=z[5],ng&&b.setLineDash(z[6]),v=x=NaN,++n;break;case 11:b.font=z[1],b.textAlign=z[2],b.textBaseline=z[3],++n;break;case 12:b.stroke(),++n;break;default:wa("Unknown canvas render instruction"),++n}}}function Yj(a){var b=a.b;b.reverse();var c,e,f,d=b.length,g=-1;for(c=0;d>c;++c)if(e=b[c],f=e[0],6==f)g=c;else if(0==f){for(e[2]=c,e=a.b,f=c;f>g;){var h=e[g];e[g]=e[f],e[f]=h,++g,--f}g=-1}}function Zj(a,b){a.ya[2]=a.a.length,a.ya=null,a.Ba[2]=a.b.length,a.Ba=null;var c=[6,b];a.a.push(c),a.b.push(c)}function ak(a,b,c){Uj.call(this,a,b,c),this.o=this.S=null,this.R=this.D=this.C=this.A=this.U=this.v=this.s=this.j=this.l=this.i=this.g=void 0}function bk(a,b,c){Uj.call(this,a,b,c),this.g={ed:void 0,$c:void 0,ad:null,bd:void 0,cd:void 0,dd:void 0,mf:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function ck(a,b,c,d,e){var f=a.coordinates.length;return b=Vj(a,b,c,d,e,!1),f=[8,f,b],a.a.push(f),a.b.push(f),d}function dk(a){var b=a.g,c=b.strokeStyle,d=b.lineCap,e=b.lineDash,f=b.lineJoin,g=b.lineWidth,h=b.miterLimit;b.ed==c&&b.$c==d&&ub(b.ad,e)&&b.bd==f&&b.cd==g&&b.dd==h||(b.mf!=a.coordinates.length&&(a.a.push([12]),b.mf=a.coordinates.length),a.a.push([10,c,g,d,f,h,e],[1]),b.ed=c,b.$c=d,b.ad=e,b.bd=f,b.cd=g,b.dd=h)}function ek(a,b,c){Uj.call(this,a,b,c),this.g={ug:void 0,ed:void 0,$c:void 0,ad:null,bd:void 0,cd:void 0,dd:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function fk(a,b,c,d,e){var f=a.g,g=[1];a.a.push(g),a.b.push(g);var h,g=0;for(h=d.length;h>g;++g){var l=d[g],m=a.coordinates.length;c=Vj(a,b,c,l,e,!0),c=[8,m,c],m=[3],a.a.push(c,m),a.b.push(c,m),c=l}return b=[7],a.b.push(b),void 0!==f.fillStyle&&a.a.push(b),void 0!==f.strokeStyle&&(f=[12],a.a.push(f),a.b.push(f)),c}function gk(a){var b=a.g,c=b.fillStyle,d=b.strokeStyle,e=b.lineCap,f=b.lineDash,g=b.lineJoin,h=b.lineWidth,l=b.miterLimit;void 0!==c&&b.ug!=c&&(a.a.push([9,c]),b.ug=b.fillStyle),void 0===d||b.ed==d&&b.$c==e&&b.ad==f&&b.bd==g&&b.cd==h&&b.dd==l||(a.a.push([10,d,h,e,g,l,f]),b.ed=d,b.$c=e,b.ad=f,b.bd=g,b.cd=h,b.dd=l)}function hk(a,b,c){Uj.call(this,a,b,c),this.D=this.C=this.A=null,this.o="",this.U=this.v=this.s=this.j=0,this.l=this.i=this.g=null}function ik(a,b,c,d,e){if(""!==a.o&&a.l&&(a.g||a.i)){if(a.g){var f=a.g,g=a.A;if(!g||g.fillStyle!=f.fillStyle){var h=[9,f.fillStyle];a.a.push(h),a.b.push(h),g?g.fillStyle=f.fillStyle:a.A={fillStyle:f.fillStyle}}}a.i&&(f=a.i,g=a.C,g&&g.lineCap==f.lineCap&&g.lineDash==f.lineDash&&g.lineJoin==f.lineJoin&&g.lineWidth==f.lineWidth&&g.miterLimit==f.miterLimit&&g.strokeStyle==f.strokeStyle||(h=[10,f.strokeStyle,f.lineWidth,f.lineCap,f.lineJoin,f.miterLimit,f.lineDash,!1],a.a.push(h),a.b.push(h),g?(g.lineCap=f.lineCap,g.lineDash=f.lineDash,g.lineJoin=f.lineJoin,g.lineWidth=f.lineWidth,g.miterLimit=f.miterLimit,g.strokeStyle=f.strokeStyle):a.C={lineCap:f.lineCap,lineDash:f.lineDash,lineJoin:f.lineJoin,lineWidth:f.lineWidth,miterLimit:f.miterLimit,strokeStyle:f.strokeStyle})),f=a.l,g=a.D,g&&g.font==f.font&&g.textAlign==f.textAlign&&g.textBaseline==f.textBaseline||(h=[11,f.font,f.textAlign,f.textBaseline],a.a.push(h),a.b.push(h),g?(g.font=f.font,g.textAlign=f.textAlign,g.textBaseline=f.textBaseline):a.D={font:f.font,textAlign:f.textAlign,textBaseline:f.textBaseline}),Wj(a,e),f=a.coordinates.length,b=Vj(a,b,0,c,d,!1),b=[5,f,b,a.o,a.j,a.s,a.v,a.U,!!a.g,!!a.i],a.a.push(b),a.b.push(b),Zj(a,e)}}function jk(a,b,c,d){this.o=a,this.g=b,this.l=c,this.f=d,this.a={},this.c=Ue(1,1),this.i=bd()}function kk(a){for(var b in a.a){var d,c=a.a[b];for(d in c)c[d].je()}}function lk(a,b,c,d,e,f,g){var h=Object.keys(a.a).map(Number);h.sort(function(a,b){return b-a});var l,m,n,p,q;for(l=0,m=h.length;m>l;++l)for(p=a.a[h[l].toString()],n=Tj.length-1;n>=0;--n)if(q=p[Tj[n]],void 0!==q&&(q=Xj(q,b,1,c,d,e,q.b,f,g)))return q}function ok(a,b,c,d){this.g=a,this.b=b,this.c=c,this.f=d}function pk(a,b){return w(a)-w(b)}function qk(a,b){var c=.5*a/b;return c*c}function rk(a,b,c,d,e,f){var h,l,g=!1;return(h=c.a)&&(l=h.sd(),2==l||3==l?h.Xf(e,f):(0==l&&h.load(),h.nf(e,f),g=!0)),(e=c.g(b))&&(d=e.md(d),sk[d.X()](a,d,c,b)),g}function tk(a,b,c,d,e,f){this.c=void 0!==f?f:null,uh.call(this,a,b,c,void 0!==f?0:2,d),this.g=e}function zk(a,b,c,d){var e=Wc(c,b,a);return c=b.getPointResolution(d,c),b=b.Zb(),void 0!==b&&(c*=b),b=a.Zb(),void 0!==b&&(c/=b),a=a.getPointResolution(c,e)/c,isFinite(a)&&a>0&&(c/=a),c}function Ak(a,b,c,d){a=c-a,b=d-b;var e=Math.sqrt(a*a+b*b);return[Math.round(c+a/e),Math.round(d+b/e)]}function Bk(a,b,c,d,e,f,g,h,l,m,n){var p=Ue(Math.round(c*a),Math.round(c*b));if(0===l.length)return p.canvas;p.scale(c,c);var q=Sb();l.forEach(function(a){fc(q,a.extent)});var r=Ue(Math.round(c*nc(q)/d),Math.round(c*oc(q)/d)),u=c/d;l.forEach(function(a){r.drawImage(a.image,m,m,a.image.width-2*m,a.image.height-2*m,(a.extent[0]-q[0])*u,-(a.extent[3]-q[3])*u,nc(a.extent)*u,oc(a.extent)*u);
});var x=kc(g);return h.f.forEach(function(a){var b=a.source,e=a.target,g=b[1][0],h=b[1][1],l=b[2][0],m=b[2][1];a=(e[0][0]-x[0])/f;var n=-(e[0][1]-x[1])/f,u=(e[1][0]-x[0])/f,H=-(e[1][1]-x[1])/f,ya=(e[2][0]-x[0])/f,Va=-(e[2][1]-x[1])/f,e=b[0][0],b=b[0][1],g=g-e,h=h-b,l=l-e,m=m-b;a:{for(g=[[g,h,0,0,u-a],[l,m,0,0,ya-a],[0,0,g,h,H-n],[0,0,l,m,Va-n]],h=g.length,l=0;h>l;l++);for(l=0;h>l;l++){for(var m=l,Ya=Math.abs(g[l][l]),Wa=l+1;h>Wa;Wa++){var Aa=Math.abs(g[Wa][l]);Aa>Ya&&(Ya=Aa,m=Wa)}if(0===Ya){g=null;break a}for(Ya=g[m],g[m]=g[l],g[l]=Ya,m=l+1;h>m;m++)for(Ya=-g[m][l]/g[l][l],Wa=l;h+1>Wa;Wa++)g[m][Wa]=l==Wa?0:g[m][Wa]+Ya*g[l][Wa]}for(l=Array(h),m=h-1;m>=0;m--)for(l[m]=g[m][h]/g[m][m],Ya=m-1;Ya>=0;Ya--)g[Ya][h]-=g[Ya][m]*l[m];g=l}g&&(p.save(),p.beginPath(),uk?(l=(a+u+ya)/3,m=(n+H+Va)/3,h=Ak(l,m,a,n),u=Ak(l,m,u,H),ya=Ak(l,m,ya,Va),p.moveTo(h[0],h[1]),p.lineTo(u[0],u[1]),p.lineTo(ya[0],ya[1])):(p.moveTo(a,n),p.lineTo(u,H),p.lineTo(ya,Va)),p.closePath(),p.clip(),p.transform(g[0],g[2],g[1],g[3],a,n),p.translate(q[0]-e,q[3]-b),p.scale(d/c,-d/c),p.drawImage(r.canvas,0,0),p.restore())}),n&&(p.save(),p.strokeStyle="black",p.lineWidth=1,h.f.forEach(function(a){var b=a.target;a=(b[0][0]-x[0])/f;var c=-(b[0][1]-x[1])/f,d=(b[1][0]-x[0])/f,e=-(b[1][1]-x[1])/f,g=(b[2][0]-x[0])/f,b=-(b[2][1]-x[1])/f;p.beginPath(),p.moveTo(a,c),p.lineTo(d,e),p.lineTo(g,b),p.closePath(),p.stroke()}),p.restore()),p.canvas}function Ck(a,b,c,d,e){this.g=a,this.c=b;var f={},g=Uc(this.c,this.g);this.a=function(a){var b=a[0]+"/"+a[1];return f[b]||(f[b]=g(a)),f[b]},this.i=d,this.s=e*e,this.f=[],this.o=!1,this.j=this.g.a&&!!d&&!!this.g.H()&&nc(d)==nc(this.g.H()),this.b=this.g.H()?nc(this.g.H()):null,this.l=this.c.H()?nc(this.c.H()):null,a=kc(c),b=jc(c),d=ic(c),c=hc(c),e=this.a(a);var h=this.a(b),l=this.a(d),m=this.a(c);if(Dk(this,a,b,d,c,e,h,l,m,10),this.o){var n=1/0;this.f.forEach(function(a){n=Math.min(n,a.source[0][0],a.source[1][0],a.source[2][0])}),this.f.forEach(function(a){if(Math.max(a.source[0][0],a.source[1][0],a.source[2][0])-n>this.b/2){var b=[[a.source[0][0],a.source[0][1]],[a.source[1][0],a.source[1][1]],[a.source[2][0],a.source[2][1]]];b[0][0]-n>this.b/2&&(b[0][0]-=this.b),b[1][0]-n>this.b/2&&(b[1][0]-=this.b),b[2][0]-n>this.b/2&&(b[2][0]-=this.b),Math.max(b[0][0],b[1][0],b[2][0])-Math.min(b[0][0],b[1][0],b[2][0])<this.b/2&&(a.source=b)}},this)}f={}}function Dk(a,b,c,d,e,f,g,h,l,m){var n=Qb([f,g,h,l]),p=a.b?nc(n)/a.b:null,q=a.g.a&&p>.5&&1>p,r=!1;if(m>0){if(a.c.g&&a.l)var u=Qb([b,c,d,e]),r=r|.25<nc(u)/a.l;!q&&a.g.g&&p&&(r|=p>.25)}if(r||!a.i||sc(n,a.i)){if(!(r||isFinite(f[0])&&isFinite(f[1])&&isFinite(g[0])&&isFinite(g[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(l[0])&&isFinite(l[1]))){if(!(m>0))return;r=!0}if(m>0&&(r||(p=a.a([(b[0]+d[0])/2,(b[1]+d[1])/2]),n=q?(Ea(f[0],a.b)+Ea(h[0],a.b))/2-Ea(p[0],a.b):(f[0]+h[0])/2-p[0],p=(f[1]+h[1])/2-p[1],r=n*n+p*p>a.s),r))return void(Math.abs(b[0]-d[0])<=Math.abs(b[1]-d[1])?(q=[(c[0]+d[0])/2,(c[1]+d[1])/2],n=a.a(q),p=[(e[0]+b[0])/2,(e[1]+b[1])/2],r=a.a(p),Dk(a,b,c,q,p,f,g,n,r,m-1),Dk(a,p,q,d,e,r,n,h,l,m-1)):(q=[(b[0]+c[0])/2,(b[1]+c[1])/2],n=a.a(q),p=[(d[0]+e[0])/2,(d[1]+e[1])/2],r=a.a(p),Dk(a,b,q,p,e,f,n,r,l,m-1),Dk(a,q,c,d,p,n,g,h,r,m-1)));if(q){if(!a.j)return;a.o=!0}a.f.push({source:[f,h,l],target:[b,d,e]}),a.f.push({source:[f,g,h],target:[b,c,d]})}}function Ek(a){var b=Sb();return a.f.forEach(function(a){a=a.source,Tb(b,a[0]),Tb(b,a[1]),Tb(b,a[2])}),b}function Fk(a,b,c,d,e,f){this.v=b,this.s=a.H();var g=b.H(),h=g?rc(c,g):c,g=zk(a,b,pc(h),d);this.o=new Ck(a,b,h,this.s,.5*g),this.c=d,this.g=c,a=Ek(this.o),this.j=(this.nb=f(a,g,e))?this.nb.f:1,this.zd=this.i=null,e=2,f=[],this.nb&&(e=0,f=this.nb.l),uh.call(this,c,d,this.j,e,f)}function Gk(a){pf.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,state:a.state}),this.C=void 0!==a.resolutions?a.resolutions:null,this.a=null,this.qa=0}function Hk(a,b){if(a.C){var c=pb(a.C,b,0);b=a.C[c]}return b}function Mk(a,b){a.a().src=b}function Ik(a,b){bb.call(this,a),this.image=b}function Nk(a){Gk.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions,state:a.state}),this.la=a.canvasFunction,this.T=null,this.Y=0,this.ta=void 0!==a.ratio?a.ratio:1.5}function Ok(a){jb.call(this),this.i=void 0,this.a="geometry",this.c=null,this.l=void 0,this.f=null,B(this,lb(this.a),this.ae,this),void 0!==a&&(a instanceof Yc||!a?this.Ua(a):this.G(a))}function Pk(a){if("function"!=typeof a){var b;b=Array.isArray(a)?a:[a],a=function(){return b}}return a}function Qk(a,b,c,d,e){kf.call(this,a,b),this.g=Ue(),this.l=d,this.c=null,this.f={fd:!1,Sf:null,bi:-1,Tf:-1,xd:null,ui:[]},this.v=e,this.j=c}function Sk(a,b){return Rk.createElementNS(a,b)}function Tk(a,b){return Uk(a,b,[]).join("")}function Uk(a,b,c){if(a.nodeType==Node.CDATA_SECTION_NODE||a.nodeType==Node.TEXT_NODE)b?c.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):c.push(a.nodeValue);else for(a=a.firstChild;a;a=a.nextSibling)Uk(a,b,c);return c}function Vk(a){return a instanceof Document}function Wk(a){return a instanceof Node}function Xk(a){return(new DOMParser).parseFromString(a,"application/xml")}function Yk(a,b){return function(c,d){var e=a.call(b,c,d);void 0!==e&&rb(d[d.length-1],e)}}function Zk(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&d[d.length-1].push(e)}}function $k(a,b){return function(c,d){var e=a.call(void 0!==b?b:this,c,d);void 0!==e&&(d[d.length-1]=e)}}function al(a){return function(b,c){var d=a.call(this,b,c);if(void 0!==d){var g,e=c[c.length-1],f=b.localName;g=f in e?e[f]:e[f]=[],g.push(d)}}}function J(a,b){return function(c,d){var e=a.call(this,c,d);void 0!==e&&(d[d.length-1][void 0!==b?b:c.localName]=e)}}function L(a,b){return function(c,d,e){a.call(void 0!==b?b:this,c,d,e),e[e.length-1].node.appendChild(c)}}function bl(a){var b,c;return function(d,e,f){if(void 0===b){b={};var g={};g[d.localName]=a,b[d.namespaceURI]=g,c=cl(d.localName)}dl(b,c,e,f)}}function cl(a,b){return function(c,d,e){return c=d[d.length-1].node,d=a,void 0===d&&(d=e),e=b,void 0===b&&(e=c.namespaceURI),Sk(e,d)}}function fl(a,b){for(var c=b.length,d=Array(c),e=0;c>e;++e)d[e]=a[b[e]];return d}function M(a,b,c){c=void 0!==c?c:{};var d,e;for(d=0,e=a.length;e>d;++d)c[a[d]]=b;return c}function gl(a,b,c,d){for(b=b.firstElementChild;b;b=b.nextElementSibling){var e=a[b.namespaceURI];void 0!==e&&(e=e[b.localName])&&e.call(d,b,c)}}function O(a,b,c,d,e){return d.push(a),gl(b,c,d,e),d.pop()}function dl(a,b,c,d,e,f){for(var h,l,g=(void 0!==e?e:c).length,m=0;g>m;++m)h=c[m],void 0!==h&&(l=b.call(f,h,d,void 0!==e?e[m]:void 0),void 0!==l&&a[l.namespaceURI][l.localName].call(f,l,h,d))}function hl(a,b,c,d,e,f,g){e.push(a),dl(b,c,d,e,f,g),e.pop()}function il(a,b,c,d){return function(e,f,g){var h=new XMLHttpRequest;h.open("GET","function"==typeof a?a(e,f,g):a,!0),"arraybuffer"==b.X()&&(h.responseType="arraybuffer"),h.onload=function(){if(200<=h.status&&300>h.status){var e,a=b.X();"json"==a||"text"==a?e=h.responseText:"xml"==a?(e=h.responseXML)||(e=Xk(h.responseText)):"arraybuffer"==a?e=h.response:wa("unexpected format type"),e?c.call(this,b.Fa(e,{featureProjection:g}),b.Oa(e)):wa("undefined or null source")}else d.call(this)}.bind(this),h.send()}}function jl(a,b){return il(a,b,function(a,b){this.uf(b),this.gi(a)},function(){this.state=3,lf(this)})}function kl(a,b){return il(a,b,function(a){this.Ic(a)},pa)}function ll(){return[[-(1/0),-(1/0),1/0,1/0]]}function rl(a){this.g=ml(a),this.a={},this.b=0}function sl(a,b,c){var d=w(c),d=a.a[d];if(!ec([d.ca,d.fa,d.ea,d.ga],b)){if(a.b)throw Error("Can not update extent while reading");a.remove(c),a.Ca(b,c)}}function tl(a){return a.g.all().map(function(a){return a.value})}function ul(a,b){return a.g.search({ca:b[0],fa:b[1],ea:b[2],ga:b[3]}).map(function(a){return a.value})}function wl(a,b,c,d){++a.b;try{return vl(ul(a,b),c,d)}finally{--a.b}}function vl(a,b,c){for(var d,e=0,f=a.length;f>e&&!(d=b.call(c,a[e]));e++);return d}function P(a){a=a||{},pf.call(this,{attributions:a.attributions,logo:a.logo,projection:void 0,state:"ready",wrapX:void 0!==a.wrapX?a.wrapX:!0}),this.S=pa,this.qa=a.format,this.T=a.url,void 0!==a.loader?this.S=a.loader:void 0!==this.T&&(this.S=kl(this.T,this.qa)),this.pb=void 0!==a.strategy?a.strategy:ll;var b=void 0!==a.useSpatialIndex?a.useSpatialIndex:!0;this.a=b?new rl:null,this.Y=new rl,this.i={},this.o={},this.j={},this.s={},this.c=null;var c,d;a.features instanceof re?(c=a.features,d=c.a):Array.isArray(a.features)&&(d=a.features),b||void 0!==c||(c=new re(d)),void 0!==d&&xl(this,d),void 0!==c&&yl(this,c)}function Al(a,b,c){a.s[b]=[B(c,"change",a.Eh,a),B(c,"propertychange",a.Eh,a)]}function zl(a,b,c){var d=!0,e=c.Xa();return void 0!==e?e.toString()in a.o?d=!1:a.o[e.toString()]=c:a.j[b]=c,d}function xl(a,b){var c,d,e,f,g=[],h=[],l=[];for(d=0,e=b.length;e>d;d++)f=b[d],c=w(f).toString(),zl(a,c,f)&&h.push(f);for(d=0,e=h.length;e>d;d++){f=h[d],c=w(f).toString(),Al(a,c,f);var m=f.W();m?(c=m.H(),g.push(c),l.push(f)):a.i[c]=f}for(a.a&&a.a.load(g,l),d=0,e=h.length;e>d;d++)a.b(new Bl("addfeature",h[d]))}function yl(a,b){var c=!1;B(a,"addfeature",function(a){c||(c=!0,b.push(a.feature),c=!1)}),B(a,"removefeature",function(a){c||(c=!0,b.remove(a.feature),c=!1)}),B(b,"add",function(a){c||(a=a.element,c=!0,this.qb(a),c=!1)},a),B(b,"remove",function(a){c||(a=a.element,c=!0,this.mb(a),c=!1)},a),a.c=b}function Cl(a,b,c){a.tb([b[0],b[1],b[0],b[1]],function(a){return a.W().sg(b)?c.call(void 0,a):void 0})}function Dl(a,b){for(var c in a.o)if(a.o[c]===b){delete a.o[c];break}}function Bl(a,b){bb.call(this,a),this.feature=b}function El(a){this.c=a.source,this.Aa=bd(),this.i=Ue(),this.j=[0,0],this.v=null,Nk.call(this,{attributions:a.attributions,canvasFunction:this.Dj.bind(this),logo:a.logo,projection:a.projection,ratio:a.ratio,resolutions:a.resolutions,state:this.c.V()}),this.S=null,this.s=void 0,this.xh(a.style),B(this.c,"change",this.en,this)}function Fl(a,b,c,d,e){return wh(a.Aa,e[0]/2,e[1]/2,d/c,-d/c,0,-b[0],-b[1])}function Gl(a){Pj.call(this,a),this.f=null,this.s=bd(),this.o=this.c=null}function Hl(a){Pj.call(this,a),this.c=Ue(),this.o=null,this.j=Sb(),this.S=[0,0,0],this.D=bd(),this.C=0}function Il(a,b,c,d){var D,A,z,F,e=c.pixelRatio,f=c.viewState,g=f.center,h=f.projection,l=f.resolution,f=f.rotation,m=c.size,n=Math.round(e*m[0]/2),p=Math.round(e*m[1]/2),m=e/l,q=a.a,r=q.ha(),u=r.Td(h),x=r.eb(h),q=fb(q,"render"),v=b;(f||q)&&(v=a.c,D=v.canvas,F=x.Kb(l),z=r.Zd(F,e,h),F=of(x.Ja(F)),z=z[0]/F[0],l=b.canvas.width*z,A=b.canvas.height*z,F=Math.round(Math.sqrt(l*l+A*A)),D.width!=F?D.width=D.height=F:v.clearRect(0,0,F,F),D=(F-l)/2/z,A=(F-A)/2/z,m*=z,n=Math.round(z*(n+D)),p=Math.round(z*(p+A))),l=v.globalAlpha,v.globalAlpha=d.opacity;var K,N=a.o,X=r.hf(h)&&1==d.opacity;X||(N.reverse(),K=[]);var oa=d.extent;if(d=void 0!==oa){var H=kc(oa),ya=jc(oa),Va=ic(oa),oa=hc(oa);yh(c.coordinateToPixelMatrix,H,H),yh(c.coordinateToPixelMatrix,ya,ya),yh(c.coordinateToPixelMatrix,Va,Va),yh(c.coordinateToPixelMatrix,oa,oa);var Ya=D||0,Wa=A||0;v.save();var Aa=v.canvas.width*e/2,Rb=v.canvas.height*e/2;nj(v,-f,Aa,Rb),v.beginPath(),v.moveTo(H[0]*e+Ya,H[1]*e+Wa),v.lineTo(ya[0]*e+Ya,ya[1]*e+Wa),v.lineTo(Va[0]*e+Ya,Va[1]*e+Wa),v.lineTo(oa[0]*e+Ya,oa[1]*e+Wa),v.clip(),nj(v,f,Aa,Rb)}for(H=0,ya=N.length;ya>H;++H){var Va=N[H],oa=Va.ma,Rb=x.Ea(oa,a.j),Aa=oa[0],Ob=hc(x.Ea(x.pd(g,Aa,a.S))),oa=Math.round(nc(Rb)*m),Ya=Math.round(oc(Rb)*m),Wa=Math.round((Rb[0]-Ob[0])*m/oa)*oa+n+Math.round((Ob[0]-g[0])*m),Rb=Math.round((Ob[1]-Rb[3])*m/Ya)*Ya+p+Math.round((g[1]-Ob[1])*m);if(!X){Ob=[Wa,Rb,Wa+oa,Rb+Ya],v.save();for(var mk=0,Bs=K.length;Bs>mk;++mk){var Ee=K[mk];sc(Ob,Ee)&&(v.beginPath(),v.moveTo(Ob[0],Ob[1]),v.lineTo(Ob[0],Ob[3]),v.lineTo(Ob[2],Ob[3]),v.lineTo(Ob[2],Ob[1]),v.moveTo(Ee[0],Ee[1]),v.lineTo(Ee[2],Ee[1]),v.lineTo(Ee[2],Ee[3]),v.lineTo(Ee[0],Ee[3]),v.closePath(),v.clip())}K.push(Ob)}Aa=r.Zd(Aa,e,h),v.drawImage(Va.$a(),u,u,Aa[0],Aa[1],Wa,Rb,oa,Ya),X||v.restore()}d&&v.restore(),q&&(e=D-n/z+n,h=A-p/z+p,g=wh(a.D,F/2-e,F/2-h,m,-m,-f,-g[0]+e/m,-g[1]-h/m),Qj(a,"render",v,c,g)),(f||q)&&b.drawImage(v.canvas,-Math.round(D),-Math.round(A),F/z,F/z),v.globalAlpha=l}function Jl(a){Pj.call(this,a),this.c=!1,this.C=-1,this.A=NaN,this.v=Sb(),this.o=this.U=null,this.j=Ue()}function Kl(a,b){var c=/\{z\}/g,d=/\{x\}/g,e=/\{y\}/g,f=/\{-y\}/g;return function(g){return g?a.replace(c,g[0].toString()).replace(d,g[1].toString()).replace(e,function(){return(-g[2]-1).toString()}).replace(f,function(){var a=b.a?b.a[g[0]]:null;return(a.ga-a.fa+1+g[2]).toString()}):void 0}}function Ll(a,b){for(var c=a.length,d=Array(c),e=0;c>e;++e)d[e]=Kl(a[e],b);return Ml(d)}function Ml(a){return 1===a.length?a[0]:function(b,c,d){return b?a[Ea((b[1]<<b[0])+b[2],a.length)](b,c,d):void 0}}function Nl(){}function Ol(a){var b=[],c=/\{(\d)-(\d)\}/.exec(a)||/\{([a-z])-([a-z])\}/.exec(a);if(c){var e,d=c[2].charCodeAt(0);for(e=c[1].charCodeAt(0);d>=e;++e)b.push(a.replace(c[0],String.fromCharCode(e)))}else b.push(a);return b}function Pl(a){Ff.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tilePixelRatio:a.tilePixelRatio,wrapX:a.wrapX}),this.tileLoadFunction=a.tileLoadFunction,this.tileUrlFunction=this.uc?this.uc.bind(this):Nl,this.urls=null,a.urls?this.bb(a.urls):a.url&&this.Va(a.url),a.tileUrlFunction&&this.Qa(a.tileUrlFunction)}function Ql(a){Pl.call(this,{attributions:a.attributions,cacheSize:void 0!==a.cacheSize?a.cacheSize:128,extent:a.extent,logo:a.logo,opaque:!1,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:Rl,tileUrlFunction:a.tileUrlFunction,tilePixelRatio:a.tilePixelRatio,url:a.url,urls:a.urls,wrapX:void 0===a.wrapX?!0:a.wrapX}),this.c=a.format?a.format:null,this.tileClass=a.tileClass?a.tileClass:Qk}function Rl(a,b){a.ki(jl(b,a.l))}function Ul(a){Hl.call(this,a),this.U=!1,this.v=bd(),this.C="vector"==a.s?1:0}function Vl(a,b,c){function d(a){var b,c=a.dc();if(c?b=c.call(a,u):(c=e.i)&&(b=c(a,u)),b){Array.isArray(b)||(b=[b]);var c=D,d=v;if(b){var f=!1;if(Array.isArray(b))for(var g=0,h=b.length;h>g;++g)f=rk(d,a,b[g],c,this.A,this)||f;else f=rk(d,a,b,c,this.A,this)||f;a=f}else a=!1;this.U=this.U||a,l.fd=l.fd||a}}var e=a.a,f=c.pixelRatio;c=c.viewState.projection;var g=e.g,h=Dj(e)||null,l=b.f;if(l.fd||l.bi!=g||l.Sf!=h){l.xd=null,l.fd=!1;var x,m=e.ha(),n=m.tileGrid,p=b.ma,q=b.o,r="tile-pixels"==q.vb(),u=n.$(p[0]);r?(r=m=m.ac(f),n=of(n.Ja(p[0])),n=[0,0,n[0]*r,n[1]*r]):(m=u,n=n.Ea(p),Tc(c,q)||(x=!0,b.uf(c))),l.fd=!1;var v=new jk(0,n,m,e.a),D=qk(m,f);for(b=b.c,h&&h!==l.Sf&&b.sort(h),n=0,p=b.length;p>n;++n)f=b[n],x&&f.W().ib(q,c),d.call(a,f);kk(v),l.bi=g,l.Sf=h,l.xd=v,l.resolution=NaN}}function Wl(a,b){Nh.call(this,0,b),this.f=Ue(),this.b=this.f.canvas,this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",a.insertBefore(this.b,a.childNodes[0]||null),this.a=!0,this.c=bd()}function Xl(a,b,c){var d=a.i,e=a.f;if(fb(d,b)){var f=c.extent,g=c.pixelRatio,h=c.viewState.rotation,l=c.pixelRatio,m=c.viewState,n=m.resolution;a=wh(a.c,a.b.width/2,a.b.height/2,l/n,-l/n,-m.rotation,-m.center[0],-m.center[1]),f=new Ej(e,g,f,a,h),d.b(new rh(b,d,f,c,e,null))}}function Yl(a,b){zh.call(this,a),this.target=b}function Zl(a){var b=document.createElement("DIV");b.style.position="absolute",Yl.call(this,a,b),this.f=null,this.c=dd()}function $l(a){var b=document.createElement("DIV");b.style.position="absolute",Yl.call(this,a,b),this.c=!0,this.l=1,this.i=0,this.f={}}function am(a,b){this.target=document.createElement("DIV"),this.target.style.position="absolute",this.target.style.width="100%",this.target.style.height="100%",this.c=a,this.g=b,this.i=kc(a.Ea(b)),this.l=a.$(b[0]),this.a={},this.b=null,this.f=dd(),this.o=[0,0]}function bm(a){this.i=Ue();var b=this.i.canvas;b.style.maxWidth="none",b.style.position="absolute",Yl.call(this,a,b),this.f=!1,this.l=-1,this.s=NaN,this.o=Sb(),this.c=this.j=null,this.U=bd(),this.v=bd()}function cm(a,b,c,d){var e=a.i;a=a.a,fb(a,b)&&(d=new Ej(e,c.pixelRatio,c.extent,d,c.viewState.rotation),a.b(new rh(b,a,d,c,e,null)))}function dm(a,b){Nh.call(this,0,b),this.f=Ue();var c=this.f.canvas;c.style.position="absolute",c.style.width="100%",c.style.height="100%",c.className="ol-unselectable",a.insertBefore(c,a.childNodes[0]||null),this.c=bd(),this.b=document.createElement("DIV"),this.b.className="ol-unselectable",c=this.b.style,c.position="absolute",c.width="100%",c.height="100%",B(this.b,"touchstart",db),a.insertBefore(this.b,a.childNodes[0]||null),this.a=!0}function em(a,b,c){var d=a.i;if(fb(d,b)){var e=c.extent,f=c.pixelRatio,g=c.viewState,h=g.rotation,l=a.f,m=l.canvas;wh(a.c,m.width/2,m.height/2,f/g.resolution,-f/g.resolution,-g.rotation,-g.center[0],-g.center[1]),a=new Ej(l,f,e,a.c,h),d.b(new rh(b,d,a,c,l,null))}}function fm(a){this.b=a}function gm(a){this.b=a}function hm(a){this.b=a}function im(){this.b="precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n"}function jm(){this.b="varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0., 0.);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n"}function km(a,b){this.o=a.getUniformLocation(b,"u_offsetRotateMatrix"),this.j=a.getUniformLocation(b,"u_offsetScaleMatrix"),this.i=a.getUniformLocation(b,"u_opacity"),this.l=a.getUniformLocation(b,"u_projectionMatrix"),this.b=a.getAttribLocation(b,"a_offsets"),this.a=a.getAttribLocation(b,"a_opacity"),this.f=a.getAttribLocation(b,"a_position"),this.g=a.getAttribLocation(b,"a_rotateWithView"),this.c=a.getAttribLocation(b,"a_texCoord")}function lm(a){this.b=void 0!==a?a:[]}function mm(a,b){this.l=a,this.b=b,this.a={},this.c={},this.f={},this.j=this.s=this.i=this.o=null,(this.g=ob(na,"OES_element_index_uint"))&&b.getExtension("OES_element_index_uint"),B(this.l,"webglcontextlost",this.ao,this),B(this.l,"webglcontextrestored",this.bo,this)}function nm(a,b,c){var d=a.b,e=c.b,f=String(w(c));if(f in a.a)d.bindBuffer(b,a.a[f].buffer);else{var g=d.createBuffer();d.bindBuffer(b,g);var h;34962==b?h=new Float32Array(e):34963==b?h=a.g?new Uint32Array(e):new Uint16Array(e):wa(),d.bufferData(b,h,35044),a.a[f]={Bb:c,buffer:g}}}function om(a,b){var c=a.b,d=String(w(b)),e=a.a[d];c.isContextLost()||c.deleteBuffer(e.buffer),delete a.a[d]}function pm(a){if(!a.i){var b=a.b,c=b.createFramebuffer();b.bindFramebuffer(b.FRAMEBUFFER,c);var d=qm(b,1,1),e=b.createRenderbuffer();b.bindRenderbuffer(b.RENDERBUFFER,e),b.renderbufferStorage(b.RENDERBUFFER,b.DEPTH_COMPONENT16,1,1),b.framebufferTexture2D(b.FRAMEBUFFER,b.COLOR_ATTACHMENT0,b.TEXTURE_2D,d,0),b.framebufferRenderbuffer(b.FRAMEBUFFER,b.DEPTH_ATTACHMENT,b.RENDERBUFFER,e),b.bindTexture(b.TEXTURE_2D,null),b.bindRenderbuffer(b.RENDERBUFFER,null),b.bindFramebuffer(b.FRAMEBUFFER,null),a.i=c,a.s=d,a.j=e}return a.i}function rm(a,b){var c=String(w(b));if(c in a.c)return a.c[c];var d=a.b,e=d.createShader(b.X());return d.shaderSource(e,b.b),d.compileShader(e),a.c[c]=e}function sm(a,b,c){var d=w(b)+"/"+w(c);if(d in a.f)return a.f[d];var e=a.b,f=e.createProgram();return e.attachShader(f,rm(a,b)),e.attachShader(f,rm(a,c)),e.linkProgram(f),a.f[d]=f}function tm(a,b,c){var d=a.createTexture();return a.bindTexture(a.TEXTURE_2D,d),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),void 0!==b&&a.texParameteri(3553,10242,b),void 0!==c&&a.texParameteri(3553,10243,c),d}function qm(a,b,c){var d=tm(a,void 0,void 0);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,b,c,0,a.RGBA,a.UNSIGNED_BYTE,null),d}function um(a,b){var c=tm(a,33071,33071);return a.texImage2D(a.TEXTURE_2D,0,a.RGBA,a.RGBA,a.UNSIGNED_BYTE,b),c}function vm(a,b){this.C=this.A=void 0,this.j=pc(b),this.U=[],this.i=[],this.R=void 0,this.c=[],this.f=[],this.Ba=this.ya=void 0,this.a=[],this.D=this.o=null,this.S=void 0,this.ta=dd(),this.Aa=dd(),this.Y=this.T=void 0,this.Sa=dd(),this.za=this.la=this.Ra=void 0,this.Fb=[],this.l=[],this.b=[],this.v=null,this.g=[],this.s=[],this.qa=void 0}function wm(a,b){var c=a.v,d=a.o,e=a.Fb,f=a.l,g=b.b;return function(){if(!g.isContextLost()){var a,l;for(a=0,l=e.length;l>a;++a)g.deleteTexture(e[a]);for(a=0,l=f.length;l>a;++a)g.deleteTexture(f[a])}om(b,c),om(b,d)}}function xm(a,b,c,d){var z,F,N,K,X,oa,e=a.A,f=a.C,g=a.R,h=a.ya,l=a.Ba,m=a.S,n=a.T,p=a.Y,q=a.Ra?1:0,r=a.la,u=a.za,x=a.qa,v=Math.cos(r),r=Math.sin(r),D=a.a.length,A=a.b.length;for(z=0;c>z;z+=d)X=b[z]-a.j[0],oa=b[z+1]-a.j[1],F=A/8,N=-u*e,K=-u*(g-f),a.b[A++]=X,a.b[A++]=oa,a.b[A++]=N*v-K*r,a.b[A++]=N*r+K*v,a.b[A++]=n/l,a.b[A++]=(p+g)/h,a.b[A++]=m,a.b[A++]=q,N=u*(x-e),K=-u*(g-f),a.b[A++]=X,a.b[A++]=oa,a.b[A++]=N*v-K*r,a.b[A++]=N*r+K*v,a.b[A++]=(n+x)/l,a.b[A++]=(p+g)/h,a.b[A++]=m,a.b[A++]=q,N=u*(x-e),K=u*f,a.b[A++]=X,a.b[A++]=oa,a.b[A++]=N*v-K*r,a.b[A++]=N*r+K*v,a.b[A++]=(n+x)/l,a.b[A++]=p/h,a.b[A++]=m,a.b[A++]=q,N=-u*e,K=u*f,a.b[A++]=X,a.b[A++]=oa,a.b[A++]=N*v-K*r,a.b[A++]=N*r+K*v,a.b[A++]=n/l,a.b[A++]=p/h,a.b[A++]=m,a.b[A++]=q,a.a[D++]=F,a.a[D++]=F+1,a.a[D++]=F+2,a.a[D++]=F,a.a[D++]=F+2,a.a[D++]=F+3}function ym(a,b){var c=b.b;a.U.push(a.a.length),a.i.push(a.a.length),a.v=new lm(a.b),nm(b,34962,a.v),a.o=new lm(a.a),nm(b,34963,a.o);var d={};zm(a.Fb,a.c,d,c),zm(a.l,a.f,d,c),a.A=void 0,a.C=void 0,a.R=void 0,a.c=null,a.f=null,a.ya=void 0,a.Ba=void 0,a.a=null,a.S=void 0,a.T=void 0,a.Y=void 0,a.Ra=void 0,a.la=void 0,a.za=void 0,a.b=null,a.qa=void 0}function zm(a,b,c,d){var e,f,g,h=b.length;for(g=0;h>g;++g)e=b[g],f=w(e).toString(),f in c?e=c[f]:(e=um(d,e),c[f]=e),a[g]=e}function Am(a,b,c,d,e,f){var g=c.g?5125:5123;if(c=c.g?4:2,Ma(d)){var h;for(a=0,d=e.length,h=0;d>a;++a){b.bindTexture(3553,e[a]);var l=f[a];b.drawElements(4,l-h,g,h*c),h=l}}else{h=0;var m,l=0;for(m=e.length;m>l;++l){b.bindTexture(3553,e[l]);for(var n=l>0?f[l-1]:0,p=f[l],q=n;h<a.g.length&&a.g[h]<=p;){var r=w(a.s[h]).toString();void 0!==d[r]?(q!==n&&b.drawElements(4,n-q,g,q*c),n=q=h===a.g.length-1?p:a.g[h+1]):n=h===a.g.length-1?p:a.g[h+1],h++}q!==n&&b.drawElements(4,n-q,g,q*c)}}}function Bm(a,b,c){this.f=b,this.c=a,this.g=c,this.a={}}function Cm(a,b){var d,c=[];for(d in a.a)c.push(wm(a.a[d],b));return function(){for(var b,a=c.length,d=0;a>d;d++)b=c[d].apply(this,arguments);return b}}function Dm(a,b){for(var c in a.a)ym(a.a[c],b)}function Fm(a,b,c,d,e,f,g,h,l,m,n){var q,r,p=Gm;for(q=Tj.length-1;q>=0;--q)if(r=a.a[Tj[q]],void 0!==r&&(r=r.Pa(b,c,d,e,p,f,g,h,l,m,n)))return r}function Hm(a,b,c,d,e,f,g,h){var l=c.b;return l.bindFramebuffer(l.FRAMEBUFFER,pm(c)),void 0!==Fm(a,c,b,d,e,f,g,h,function(){var a=new Uint8Array(4);return l.readPixels(0,0,1,1,l.RGBA,l.UNSIGNED_BYTE,a),0<a[3]},!1)}function Im(a,b,c,d,e,f,g){this.b=a,this.f=b,this.g=f,this.c=g,this.o=e,this.l=d,this.i=c,this.a=null}function Jm(){this.b="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n"}function Km(){this.b="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n"}function Lm(a,b){this.g=a.getUniformLocation(b,"u_opacity"),this.f=a.getUniformLocation(b,"u_projectionMatrix"),this.i=a.getUniformLocation(b,"u_texCoordMatrix"),this.c=a.getUniformLocation(b,"u_texture"),this.b=a.getAttribLocation(b,"a_position"),this.a=a.getAttribLocation(b,"a_texCoord")}function Mm(a,b){zh.call(this,b),this.f=a,this.S=new lm([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.i=this.ob=null,this.l=void 0,this.s=bd(),this.U=dd(),this.v=null}function Nm(a,b,c){var d=a.f.f;if(void 0===a.l||a.l!=c){b.postRenderFunctions.push(function(a,b,c){a.isContextLost()||(a.deleteFramebuffer(b),a.deleteTexture(c))}.bind(null,d,a.i,a.ob)),b=qm(d,c,c);var e=d.createFramebuffer();d.bindFramebuffer(36160,e),d.framebufferTexture2D(36160,36064,3553,b,0),a.ob=b,a.i=e,a.l=c}else d.bindFramebuffer(36160,a.i)}function Om(a,b,c,d){if(a=a.a,fb(a,b)){var e=d.viewState;a.b(new rh(b,a,new Im(c,e.center,e.resolution,e.rotation,d.size,d.extent,d.pixelRatio),d,null,c))}}function Pm(a,b){Mm.call(this,a,b),this.j=this.o=this.c=null}function Qm(a,b){var c=b.a();return um(a.f.f,c)}function Rm(a,b,c,d,e,f,g,h){b*=f,c*=f,a=a.U,fd(a),jd(a,2*d/b,2*d/c),kd(a,-g),id(a,h[0]-e[0],h[1]-e[1]),jd(a,(h[2]-h[0])/2,(h[3]-h[1])/2),id(a,1,1)}function Sm(){this.b="precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n"}function Tm(){this.b="varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n"}function Um(a,b){this.g=a.getUniformLocation(b,"u_texture"),this.f=a.getUniformLocation(b,"u_tileOffset"),this.b=a.getAttribLocation(b,"a_position"),this.a=a.getAttribLocation(b,"a_texCoord")}function Vm(a,b){Mm.call(this,a,b),this.D=Sm.Yb(),this.T=Tm.Yb(),this.c=null,this.C=new lm([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.A=this.o=null,this.j=-1,this.R=[0,0]}function Xm(a,b){Mm.call(this,a,b),this.j=!1,this.R=-1,this.D=NaN,this.A=Sb(),this.o=this.c=this.C=null}function Ym(a,b){Nh.call(this,0,b),this.b=document.createElement("CANVAS"),this.b.style.width="100%",this.b.style.height="100%",this.b.className="ol-unselectable",a.insertBefore(this.b,a.childNodes[0]||null),this.U=this.A=0,this.C=Ue(),this.j=!0,this.f=gg(this.b,{antialias:!0,depth:!1,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.c=new mm(this.b,this.f),B(this.b,"webglcontextlost",this.Pm,this),B(this.b,"webglcontextrestored",this.Qm,this),this.a=new df,this.v=null,this.o=new Sh(function(a){var b=a[1];a=a[2];var e=b[0]-this.v[0],b=b[1]-this.v[1];return 65536*Math.log(a)+Math.sqrt(e*e+b*b)/a}.bind(this),function(a){return a[0].getKey()}),this.D=function(){if(!this.o.Ya()){Wh(this.o);var a=Th(this.o);Wm(this,a[0],a[3],a[4])}return!1}.bind(this),this.l=0,Zm(this)}function Wm(a,b,c,d){var e=a.f,f=b.getKey();if(ef(a.a,f))a=a.a.get(f),e.bindTexture(3553,a.ob),9729!=a.Wg&&(e.texParameteri(3553,10240,9729),a.Wg=9729),9729!=a.Yg&&(e.texParameteri(3553,10241,9729),a.Yg=9729);else{var g=e.createTexture();if(e.bindTexture(3553,g),d>0){var h=a.C.canvas,l=a.C;a.A!==c[0]||a.U!==c[1]?(h.width=c[0],h.height=c[1],a.A=c[0],a.U=c[1]):l.clearRect(0,0,c[0],c[1]),l.drawImage(b.$a(),d,d,c[0],c[1],0,0,c[0],c[1]),e.texImage2D(3553,0,6408,6408,5121,h)}else e.texImage2D(3553,0,6408,6408,5121,b.$a());e.texParameteri(3553,10240,9729),e.texParameteri(3553,10241,9729),e.texParameteri(3553,10242,33071),e.texParameteri(3553,10243,33071),a.a.set(f,{ob:g,Wg:9729,Yg:9729})}}function $m(a,b,c){var d=a.i;if(fb(d,b)){a=a.c;var e=c.viewState;d.b(new rh(b,d,new Im(a,e.center,e.resolution,e.rotation,c.size,c.extent,c.pixelRatio),c,null,a))}}function Zm(a){a=a.f,a.activeTexture(33984),a.blendFuncSeparate(770,771,1,771),a.disable(2884),a.disable(2929),a.disable(3089),a.disable(2960)}function Q(a){jb.call(this);var b=bn(a);this.Gb=void 0!==a.loadTilesWhileAnimating?a.loadTilesWhileAnimating:!1,this.Gc=void 0!==a.loadTilesWhileInteracting?a.loadTilesWhileInteracting:!1,this.Ne=void 0!==a.pixelRatio?a.pixelRatio:mg,this.Me=b.logos,this.Y=function(){this.i=void 0,this.Uo.call(this,Date.now())}.bind(this),this.Sa=bd(),this.Oe=bd(),this.pb=0,this.f=null,this.Aa=Sb(),this.D=this.S=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(rg?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.a="none",this.A=document.createElement("DIV"),this.A.className="ol-overlaycontainer",this.a.appendChild(this.A),this.v=document.createElement("DIV"),this.v.className="ol-overlaycontainer-stopevent",a=["click","dblclick","mousedown","touchstart","mspointerdown",kh,"mousewheel","wheel"];for(var c=0,d=a.length;d>c;++c)B(this.v,a[c],cb);this.a.appendChild(this.v),this.za=new ch(this);for(var e in nh)B(this.za,nh[e],this.Pg,this);this.la=b.keyboardEventTarget,this.s=null,B(this.a,"wheel",this.Nc,this),B(this.a,"mousewheel",this.Nc,this),this.o=b.controls,this.l=b.interactions,this.j=b.overlays,this.Bf={},this.C=new b.Wo(this.a,this),this.T=null,this.R=[],this.ta=[],this.qa=new Xh(this.Bk.bind(this),this.hl.bind(this)),this.De={},B(this,lb("layergroup"),this.Ok,this),B(this,lb("view"),this.il,this),B(this,lb("size"),this.el,this),B(this,lb("target"),this.gl,this),this.G(b.values),this.o.forEach(function(a){a.setMap(this)},this),B(this.o,"add",function(a){a.element.setMap(this)},this),B(this.o,"remove",function(a){a.element.setMap(null)},this),this.l.forEach(function(a){a.setMap(this)},this),B(this.l,"add",function(a){a.element.setMap(this)},this),B(this.l,"remove",function(a){a.element.setMap(null)},this),this.j.forEach(this.mg,this),B(this.j,"add",function(a){this.mg(a.element)},this),B(this.j,"remove",function(a){var b=a.element.Xa();void 0!==b&&delete this.Bf[b.toString()],a.element.setMap(null)},this)}function bn(a){var b=null;void 0!==a.keyboardEventTarget&&(b="string"==typeof a.keyboardEventTarget?document.getElementById(a.keyboardEventTarget):a.keyboardEventTarget);var c={},d={};if(void 0===a.logo||"boolean"==typeof a.logo&&a.logo)d["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";else{var e=a.logo;"string"==typeof e?d[e]="":e instanceof HTMLElement?d[w(e).toString()]=e:fa(e)&&(d[e.src]=e.href);
}e=a.layers instanceof Zi?a.layers:new Zi({layers:a.layers}),c.layergroup=e,c.target=a.target,c.view=void 0!==a.view?a.view:new Wd;var f,e=Nh;void 0!==a.renderer?Array.isArray(a.renderer)?f=a.renderer:"string"==typeof a.renderer?f=[a.renderer]:wa("Incorrect format for renderer option"):f=an;var g,h;for(g=0,h=f.length;h>g;++g){var l=f[g];if("canvas"==l){if(og){e=Wl;break}}else{if("dom"==l){e=dm;break}if("webgl"==l&&hg){e=Ym;break}}}var m;m=void 0!==a.controls?Array.isArray(a.controls)?new re(a.controls.slice()):a.controls:Qf();var n;return n=void 0!==a.interactions?Array.isArray(a.interactions)?new re(a.interactions.slice()):a.interactions:Yi(),a=void 0!==a.overlays?Array.isArray(a.overlays)?new re(a.overlays.slice()):a.overlays:new re,{controls:m,interactions:n,keyboardEventTarget:b,logos:d,overlays:a,Wo:e,values:c}}function cn(a){jb.call(this),this.j=a.id,this.o=void 0!==a.insertFirst?a.insertFirst:!0,this.s=void 0!==a.stopEvent?a.stopEvent:!0,this.f=document.createElement("DIV"),this.f.className="ol-overlay-container",this.f.style.position="absolute",this.autoPan=void 0!==a.autoPan?a.autoPan:!1,this.i=void 0!==a.autoPanAnimation?a.autoPanAnimation:{},this.l=void 0!==a.autoPanMargin?a.autoPanMargin:20,this.a={Ld:"",ee:"",Ce:"",Ee:"",visible:!0},this.c=null,B(this,lb("element"),this.Jk,this),B(this,lb("map"),this.Vk,this),B(this,lb("offset"),this.Zk,this),B(this,lb("position"),this.al,this),B(this,lb("positioning"),this.bl,this),void 0!==a.element&&this.fi(a.element),this.li(void 0!==a.offset?a.offset:[0,0]),this.oi(void 0!==a.positioning?a.positioning:"top-left"),void 0!==a.position&&this.tf(a.position)}function en(a,b){var c=a.getBoundingClientRect(),d=c.left+qa.pageXOffset,c=c.top+qa.pageYOffset;return[d,c,d+b[0],c+b[1]]}function fn(a,b){a.a.visible!==b&&(a.f.style.display=b?"":"none",a.a.visible=b)}function dn(a){var b=a.ge(),c=a.gh();if(void 0!==b&&b.f&&void 0!==c){var c=b.Ga(c),d=b.Za(),b=a.f.style,e=a.Kg(),f=a.Lg(),g=e[0],e=e[1];"bottom-right"==f||"center-right"==f||"top-right"==f?(""!==a.a.ee&&(a.a.ee=b.left=""),g=Math.round(d[0]-c[0]-g)+"px",a.a.Ce!=g&&(a.a.Ce=b.right=g)):(""!==a.a.Ce&&(a.a.Ce=b.right=""),("bottom-center"==f||"center-center"==f||"top-center"==f)&&(g-=a.f.offsetWidth/2),g=Math.round(c[0]+g)+"px",a.a.ee!=g&&(a.a.ee=b.left=g)),"bottom-left"==f||"bottom-center"==f||"bottom-right"==f?(""!==a.a.Ee&&(a.a.Ee=b.top=""),c=Math.round(d[1]-c[1]-e)+"px",a.a.Ld!=c&&(a.a.Ld=b.bottom=c)):(""!==a.a.Ld&&(a.a.Ld=b.bottom=""),("center-left"==f||"center-center"==f||"center-right"==f)&&(e-=a.f.offsetHeight/2),c=Math.round(c[1]+e)+"px",a.a.Ee!=c&&(a.a.Ee=b.top=c)),fn(a,!0)}else fn(a,!1)}function gn(a){a=a?a:{},this.l=void 0!==a.collapsed?a.collapsed:!0,this.o=void 0!==a.collapsible?a.collapsible:!0,this.o||(this.l=!1);var b=void 0!==a.className?a.className:"ol-overviewmap",c=void 0!==a.tipLabel?a.tipLabel:"Overview map",d=void 0!==a.collapseLabel?a.collapseLabel:"";"string"==typeof d?(this.j=document.createElement("span"),this.j.textContent=d):this.j=d,d=void 0!==a.label?a.label:"","string"==typeof d?(this.v=document.createElement("span"),this.v.textContent=d):this.v=d;var e=this.o&&!this.l?this.j:this.v,d=document.createElement("button");d.setAttribute("type","button"),d.title=c,d.appendChild(e),B(d,"click",this.gm,this),c=document.createElement("DIV"),c.className="ol-overviewmap-map";var f=this.f=new Q({controls:new re,interactions:new re,target:c,view:a.view});a.layers&&a.layers.forEach(function(a){f.kg(a)},this),e=document.createElement("DIV"),e.className="ol-overviewmap-box",e.style.boxSizing="border-box",this.A=new cn({position:[0,0],positioning:"bottom-left",element:e}),this.f.lg(this.A),e=document.createElement("div"),e.className=b+" ol-unselectable ol-control"+(this.l&&this.o?" ol-collapsed":"")+(this.o?"":" ol-uncollapsible"),e.appendChild(c),e.appendChild(d),cf.call(this,{element:e,render:a.render?a.render:hn,target:a.target})}function hn(){var a=this.a,b=this.f;if(a.f&&b.f){var c=a.Za(),a=a.aa().Jc(c),d=b.Za(),c=b.aa().Jc(d),e=b.Ga(kc(a)),f=b.Ga(ic(a)),b=Math.abs(e[0]-f[0]),e=Math.abs(e[1]-f[1]),f=d[0],d=d[1];.1*f>b||.1*d>e||b>.75*f||e>.75*d?jn(this):Zb(c,a)||(a=this.f,c=this.a.aa(),a.aa().lb(c.ab()))}kn(this)}function jn(a){var b=a.a;a=a.f;var c=b.Za(),b=b.aa().Jc(c),c=a.Za();a=a.aa(),tc(b,1/(.1*Math.pow(2,Math.log(7.5)/Math.LN2/2))),a.bf(b,c)}function kn(a){var b=a.a,c=a.f;if(b.f&&c.f){var d=b.Za(),e=b.aa(),f=c.aa();c.Za();var h,c=e.La(),b=a.A,g=a.A.Rd(),e=e.Jc(d),d=f.$(),f=hc(e),e=jc(e);(a=a.a.aa().ab())&&(h=[f[0]-a[0],f[1]-a[1]],Lb(h,c),Gb(h,a)),b.tf(h),g&&(g.style.width=Math.abs((f[0]-e[0])/d)+"px",g.style.height=Math.abs((e[1]-f[1])/d)+"px")}}function ln(a){a.element.classList.toggle("ol-collapsed"),a.l?Ze(a.j,a.v):Ze(a.v,a.j),a.l=!a.l;var b=a.f;a.l||b.f||(b.Wc(),jn(a),Ua(b,"postrender",function(){kn(this)},a))}function mn(a){a=a?a:{};var b=void 0!==a.className?a.className:"ol-scale-line";this.o=document.createElement("DIV"),this.o.className=b+"-inner",this.f=document.createElement("DIV"),this.f.className=b+" ol-unselectable",this.f.appendChild(this.o),this.v=null,this.j=void 0!==a.minWidth?a.minWidth:64,this.l=!1,this.C=void 0,this.A="",cf.call(this,{element:this.f,render:a.render?a.render:nn,target:a.target}),B(this,lb("units"),this.R,this),this.D(a.units||"metric")}function nn(a){(a=a.frameState)?this.v=a.viewState:this.v=null,pn(this)}function pn(a){var b=a.v;if(b){var c=b.projection,d=c.Zb(),b=c.getPointResolution(b.resolution,b.center)*d,d=a.j*b,c="",e=a.vb();"degrees"==e?(c=zc.degrees,b/=c,c/60>d?(c="",b*=3600):c>d?(c="",b*=60):c=""):"imperial"==e?.9144>d?(c="in",b/=.0254):1609.344>d?(c="ft",b/=.3048):(c="mi",b/=1609.344):"nautical"==e?(b/=1852,c="nm"):"metric"==e?1>d?(c="mm",b*=1e3):1e3>d?c="m":(c="km",b/=1e3):"us"==e?.9144>d?(c="in",b*=39.37):1609.344>d?(c="ft",b/=.30480061):(c="mi",b/=1609.3472):wa("Scale line element cannot be updated");for(var f,e=3*Math.floor(Math.log(a.j*b)/Math.log(10));;){if(f=on[(e%3+3)%3]*Math.pow(10,Math.floor(e/3)),d=Math.round(f/b),isNaN(d))return a.f.style.display="none",void(a.l=!1);if(d>=a.j)break;++e}b=f+" "+c,a.A!=b&&(a.o.innerHTML=b,a.A=b),a.C!=d&&(a.o.style.width=d+"px",a.C=d),a.l||(a.f.style.display="",a.l=!0)}else a.l&&(a.f.style.display="none",a.l=!1)}function qn(a){a=a?a:{},this.f=void 0,this.l=rn,this.v=[],this.C=this.j=0,this.T=null,this.la=!1,this.Y=void 0!==a.duration?a.duration:200;var b=void 0!==a.className?a.className:"ol-zoomslider",c=document.createElement("button");c.setAttribute("type","button"),c.className=b+"-thumb ol-unselectable";var d=document.createElement("div");d.className=b+" ol-unselectable ol-control",d.appendChild(c),this.o=new Vg(d),B(this.o,Fg,this.Ik,this),B(this.o,Gg,this.Ng,this),B(this.o,Hg,this.Og,this),B(d,"click",this.Hk,this),B(c,"click",cb),cf.call(this,{element:d,render:a.render?a.render:sn})}function sn(a){if(a.frameState){if(!this.la){var b=this.element,c=b.offsetWidth,d=b.offsetHeight,e=b.firstElementChild,f=qa.getComputedStyle(e),b=e.offsetWidth+parseFloat(f.marginRight)+parseFloat(f.marginLeft),e=e.offsetHeight+parseFloat(f.marginTop)+parseFloat(f.marginBottom);this.T=[b,e],c>d?(this.l=1,this.C=c-b):(this.l=rn,this.j=d-e),this.la=!0}a=a.frameState.viewState.resolution,a!==this.f&&(this.f=a,tn(this,a))}}function tn(a,b){var c;c=1-ae(a.a.aa())(b);var d=a.element.firstElementChild;1==a.l?d.style.left=a.C*c+"px":d.style.top=a.j*c+"px"}function un(a,b){return $d(a.a.aa())(1-b)}function vn(a){a=a?a:{},this.f=a.extent?a.extent:null;var b=void 0!==a.className?a.className:"ol-zoom-extent",c=void 0!==a.label?a.label:"E",d=void 0!==a.tipLabel?a.tipLabel:"Fit to extent",e=document.createElement("button");e.setAttribute("type","button"),e.title=d,e.appendChild("string"==typeof c?document.createTextNode(c):c),B(e,"click",this.l,this),c=document.createElement("div"),c.className=b+" ol-unselectable ol-control",c.appendChild(e),cf.call(this,{element:c,target:a.target})}function wn(a){jb.call(this),a=a?a:{},this.a=null,B(this,lb("tracking"),this.Il,this),this.qf(void 0!==a.tracking?a.tracking:!1)}function xn(){this.defaultDataProjection=null}function yn(a,b,c){var d;return c&&(d={dataProjection:c.dataProjection?c.dataProjection:a.Oa(b),featureProjection:c.featureProjection}),zn(a,d)}function zn(a,b){var c;return b&&(c={featureProjection:b.featureProjection,dataProjection:b.dataProjection?b.dataProjection:a.defaultDataProjection,rightHanded:b.rightHanded},b.decimals&&(c.decimals=b.decimals)),c}function An(a,b,c){var f,d=c?Dc(c.featureProjection):null,e=c?Dc(c.dataProjection):null;if(f=d&&e&&!Tc(d,e)?a instanceof Yc?(b?a.clone():a).ib(b?d:e,b?e:d):Xc(b?a.slice():a,b?d:e,b?e:d):a,b&&c&&c.decimals){var g=Math.pow(10,c.decimals);a=function(a){for(var b=0,c=a.length;c>b;++b)a[b]=Math.round(a[b]*g)/g;return a},Array.isArray(f)?a(f):f.qc(a)}return f}function Bn(){this.defaultDataProjection=null}function Cn(a){return fa(a)?a:"string"==typeof a?(a=JSON.parse(a))?a:null:(wa(),null)}function Dn(a,b,c,d,e,f){var g=NaN,h=NaN,l=(c-b)/d;if(0===l)wa("n cannot be 0");else if(1==l)g=a[b],h=a[b+1];else if(2==l)g=(1-e)*a[b]+e*a[b+d],h=(1-e)*a[b+1]+e*a[b+d+1];else{var n,h=a[b],l=a[b+1],m=0,g=[0];for(n=b+d;c>n;n+=d){var p=a[n],q=a[n+1],m=m+Math.sqrt((p-h)*(p-h)+(q-l)*(q-l));g.push(m),h=p,l=q}for(c=e*m,l=0,m=g.length,n=!1;m>l;)e=l+(m-l>>1),h=+nb(g[e],c),0>h?l=e+1:(m=e,n=!h);e=n?l:~l,0>e?(c=(c-g[-e-2])/(g[-e-1]-g[-e-2]),b+=(-e-2)*d,g=Fa(a[b],a[b+d],c),h=Fa(a[b+1],a[b+d+1],c)):(g=a[b+e*d],h=a[b+e*d+1])}return f?(f[0]=g,f[1]=h,f):[g,h]}function En(a,b,c,d,e,f){if(c==b)return null;if(e<a[b+d-1])return f?(c=a.slice(b,b+d),c[d-1]=e,c):null;if(a[c-1]<e)return f?(c=a.slice(c-d,c),c[d-1]=e,c):null;if(e==a[b+d-1])return a.slice(b,b+d);for(b/=d,c/=d;c>b;)f=b+c>>1,e<a[(f+1)*d-1]?c=f:b=f+1;if(c=a[b*d-1],e==c)return a.slice((b-1)*d,(b-1)*d+d);f=(e-c)/(a[(b+1)*d-1]-c),c=[];var g;for(g=0;d-1>g;++g)c.push(Fa(a[(b-1)*d+g],a[b*d+g],f));return c.push(e),c}function Fn(a,b,c,d,e,f){var g=0;if(f)return En(a,g,b[b.length-1],c,d,e);if(d<a[c-1])return e?(a=a.slice(0,c),a[c-1]=d,a):null;if(a[a.length-1]<d)return e?(a=a.slice(a.length-c),a[c-1]=d,a):null;for(e=0,f=b.length;f>e;++e){var h=b[e];if(g!=h){if(d<a[g+c-1])return null;if(d<=a[h-1])return En(a,g,h,c,d,!1);g=h}}return wa("ol.geom.flat.lineStringsCoordinateAtM should have returned"),null}function R(a,b){md.call(this),this.i=null,this.C=this.D=this.j=-1,this.pa(a,b)}function Lj(a){return a.j!=a.g&&(a.i=a.Bg(.5,a.i),a.j=a.g),a.i}function S(a,b){md.call(this),this.i=[],this.j=this.C=-1,this.pa(a,b)}function Mj(a){var b=[],c=a.B,d=0,e=a.i;a=a.a;var f,g;for(f=0,g=e.length;g>f;++f){var h=e[f],d=Dn(c,d,h,a,.5);rb(b,d),d=h}return b}function Gn(a,b){var f,g,c=a.f,d=[],e=[];for(f=0,g=b.length;g>f;++f){var h=b[f];0===f&&(c=h.f),rb(d,h.ka()),e.push(d.length)}a.ba(c,d,e)}function Hn(a,b){md.call(this),this.pa(a,b)}function T(a,b){md.call(this),this.i=[],this.C=-1,this.D=null,this.T=this.R=this.S=-1,this.j=null,this.pa(a,b)}function Oj(a){if(a.C!=a.g){var g,h,b=a.B,c=a.i,d=a.a,e=0,f=[];for(g=0,h=c.length;h>g;++g){var l=c[g],e=cc(b,e,l[0],d);f.push((e[0]+e[2])/2,(e[1]+e[3])/2),e=l[l.length-1]}for(b=Nj(a),c=a.i,d=a.a,g=0,h=[],l=0,e=c.length;e>l;++l){var m=c[l];h=Jd(b,g,m,d,f,2*l,h),g=m[m.length-1]}a.D=h,a.C=a.g}return a.D}function Nj(a){if(a.T!=a.g){var c,b=a.B;a:{c=a.i;var d,e;for(d=0,e=c.length;e>d;++d)if(!Od(b,c[d],a.a,void 0)){c=!1;break a}c=!0}c?a.j=b:(a.j=b.slice(),a.j.length=Qd(a.j,a.i,a.a)),a.T=a.g}return a.j}function In(a,b,c,d){od(a,b,c),a.i=d,a.u()}function Jn(a,b){var f,g,h,c=a.f,d=[],e=[];for(f=0,g=b.length;g>f;++f){var l=b[f];0===f&&(c=l.f);var m=d.length;h=l.Cb();var n,p;for(n=0,p=h.length;p>n;++n)h[n]+=m;rb(d,l.ka()),e.push(h)}In(a,c,d,e)}function Kn(a){a=a?a:{},this.defaultDataProjection=null,this.b=a.geometryName}function Ln(a,b){if(!a)return null;var c;if(ea(a.x)&&ea(a.y))c="Point";else if(a.points)c="MultiPoint";else if(a.paths)c=1===a.paths.length?"LineString":"MultiLineString";else if(a.rings){var d=a.rings,e=Mn(a),f=[];c=[];var g,h;for(g=0,h=d.length;h>g;++g){var l=qb(d[g]);Nd(l,0,l.length,e.length)?f.push([d[g]]):c.push(d[g])}for(;c.length;){for(d=c.shift(),e=!1,g=f.length-1;g>=0;g--)if(Zb(new Ed(f[g][0]).H(),new Ed(d).H())){f[g].push(d),e=!0;break}e||f.push([d.reverse()])}a=Ja({},a),1===f.length?(c="Polygon",a.rings=f[0]):(c="MultiPolygon",a.rings=f)}return An(Nn[c](a),!1,b)}function Mn(a){var b="XY";return!0===a.hasZ&&!0===a.hasM?b="XYZM":!0===a.hasZ?b="XYZ":!0===a.hasM&&(b="XYM"),b}function On(a){return a=a.f,{hasZ:"XYZ"===a||"XYZM"===a,hasM:"XYM"===a||"XYZM"===a}}function Qn(a,b){return Pn[a.X()](An(a,!0,b),b)}function Rn(a){Yc.call(this),this.c=a?a:null,Sn(this)}function Tn(a){var c,d,b=[];for(c=0,d=a.length;d>c;++c)b.push(a[c].clone());return b}function Un(a){var b,c;if(a.c)for(b=0,c=a.c.length;c>b;++b)Xa(a.c[b],"change",a.u,a)}function Sn(a){var b,c;if(a.c)for(b=0,c=a.c.length;c>b;++b)B(a.c[b],"change",a.u,a)}function Vn(a){a=a?a:{},this.defaultDataProjection=null,this.defaultDataProjection=Dc(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326"),this.b=a.geometryName}function Wn(a,b){return a?An(Xn[a.type](a),!1,b):null}function Yn(a,b){return Zn[a.X()](An(a,!0,b),b)}function $n(){this.f=new XMLSerializer,this.defaultDataProjection=null}function ao(a,b,c){return a=bo(a,b,c),0<a.length?a[0]:null}function bo(a,b,c){var d=[];for(b=b.firstChild;b;b=b.nextSibling)b.nodeType==Node.ELEMENT_NODE&&rb(d,a.kc(b,c));return d}function co(a){a=a?a:{},this.featureType=a.featureType,this.featureNS=a.featureNS,this.srsName=a.srsName,this.schemaLocation="",this.b={},this.b["http://www.opengis.net/gml"]={featureMember:$k(co.prototype.ud),featureMembers:$k(co.prototype.ud)},$n.call(this)}function fo(a){return a=Tk(a,!1),go(a)}function go(a){return(a=/^\s*(true|1)|(false|0)\s*$/.exec(a))?void 0!==a[1]||!1:void 0}function ho(a){if(a=Tk(a,!1),a=/^\s*(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?))\s*$/.exec(a)){var b=Date.UTC(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10),parseInt(a[4],10),parseInt(a[5],10),parseInt(a[6],10))/1e3;if("Z"!=a[7]){var c="-"==a[8]?-1:1,b=b+60*c*parseInt(a[9],10);void 0!==a[10]&&(b+=3600*c*parseInt(a[10],10))}return b}}function io(a){return a=Tk(a,!1),jo(a)}function jo(a){return(a=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(a))?parseFloat(a[1]):void 0}function ko(a){return a=Tk(a,!1),lo(a)}function lo(a){return(a=/^\s*(\d+)\s*$/.exec(a))?parseInt(a[1],10):void 0}function U(a){return Tk(a,!1).trim()}function mo(a,b){no(a,b?"1":"0")}function oo(a,b){a.appendChild(Rk.createTextNode(b.toPrecision()))}function po(a,b){a.appendChild(Rk.createTextNode(b.toString()))}function no(a,b){a.appendChild(Rk.createTextNode(b))}function qo(a){a=a?a:{},co.call(this,a),this.b["http://www.opengis.net/gml"].featureMember=Zk(co.prototype.ud),this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/2.1.2/feature.xsd"}function ro(a){a=a?a:{},co.call(this,a),this.j=void 0!==a.surface?a.surface:!1,this.i=void 0!==a.curve?a.curve:!1,this.l=void 0!==a.multiCurve?a.multiCurve:!0,this.o=void 0!==a.multiSurface?a.multiSurface:!0,this.schemaLocation=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function so(a,b,c){c=c[c.length-1].srsName,b=b.Z();for(var f,d=b.length,e=Array(d),g=0;d>g;++g){f=b[g];var h=g,l="enu";c&&(l=Dc(c).b),e[h]="en"===l.substr(0,2)?f[0]+" "+f[1]:f[1]+" "+f[0]}no(a,e.join(" "))}function Ao(a){a=a?a:{},$n.call(this),this.defaultDataProjection=Dc("EPSG:4326"),this.b=a.readExtensions}function Co(a,b,c){return a.push(parseFloat(b.getAttribute("lon")),parseFloat(b.getAttribute("lat"))),"ele"in c?(a.push(c.ele),delete c.ele):a.push(0),"time"in c?(a.push(c.time),delete c.time):a.push(0),a}function Do(a,b){var c=b[b.length-1],d=a.getAttribute("href");null!==d&&(c.link=d),gl(Eo,a,b)}function Fo(a,b){b[b.length-1].extensionsNode_=a}function Go(a,b){var c=b[0],d=O({flatCoordinates:[]},Ho,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=new R(null);return f.ba("XYZM",e),An(f,!1,c),c=new Ok(f),c.G(d),c}}function Io(a,b){var c=b[0],d=O({flatCoordinates:[],ends:[]},Jo,a,b);if(d){var e=d.flatCoordinates;delete d.flatCoordinates;var f=d.ends;delete d.ends;var g=new S(null);return g.ba("XYZM",e,f),An(g,!1,c),c=new Ok(g),c.G(d),c}}function Ko(a,b){var c=b[0],d=O({},Lo,a,b);if(d){var e=Co([],a,d),e=new C(e,"XYZM");return An(e,!1,c),c=new Ok(e),c.G(d),c}}function Ro(a,b){b||(b=[]);for(var c=0,d=b.length;d>c;++c){var e=b[c];if(a.b){var f=e.get("extensionsNode_")||null;a.b(e,f)}e.set("extensionsNode_",void 0)}}function So(a,b,c){a.setAttribute("href",b),b=c[c.length-1].properties,hl({node:a},To,el,[b.linkText,b.linkType],c,Uo)}function Vo(a,b,c){var d=c[c.length-1],e=d.node.namespaceURI,f=d.properties;switch(a.setAttributeNS(null,"lat",b[1]),a.setAttributeNS(null,"lon",b[0]),d.geometryLayout){case"XYZM":0!==b[3]&&(f.time=b[3]);case"XYZ":0!==b[2]&&(f.ele=b[2]);break;case"XYM":0!==b[2]&&(f.time=b[2])}b="rtept"==a.nodeName?Wo[e]:Xo[e],d=fl(f,b),hl({node:a,properties:f},Yo,el,d,c,b)}function fp(a,b){var c=a.W();return c&&(c=ep[c.X()])?Sk(b[b.length-1].node.namespaceURI,c):void 0}function hp(){this.defaultDataProjection=null}function ip(a){return"string"==typeof a?a:(wa(),"")}function jp(a){a=a?a:{},this.defaultDataProjection=null,this.defaultDataProjection=Dc("EPSG:4326"),this.b=a.altitudeMode?a.altitudeMode:"none"}function op(a,b){this.a={},this.b=[],this.g=0;var c=arguments.length;if(c>1){if(c%2)throw Error("Uneven number of arguments");for(var d=0;c>d;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){var e;if(a instanceof op)e=a.N(),d=a.yc();else{var c=[],f=0;for(e in a)c[f++]=e;e=c,c=[],f=0;for(d in a)c[f++]=a[d];d=c}for(c=0;c<e.length;c++)this.set(e[c],d[c])}}function pp(a){if(a.g!=a.b.length){for(var b=0,c=0;b<a.b.length;){var d=a.b[b];qp(a.a,d)&&(a.b[c++]=d),b++}a.b.length=c}if(a.g!=a.b.length){for(var e={},c=b=0;b<a.b.length;)d=a.b[b],qp(e,d)||(a.b[c++]=d,e[d]=1),b++;a.b.length=c}}function qp(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function sp(a,b){if(a)for(var c=a.split("&"),d=0;d<c.length;d++){var f,e=c[d].indexOf("="),g=null;e>=0?(f=c[d].substring(0,e),g=c[d].substring(e+1)):f=c[d],b(f,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}function tp(a,b){this.a=this.l=this.g="",this.o=null,this.f=this.b="",this.c=!1;var c;a instanceof tp?(this.c=void 0!==b?b:a.c,up(this,a.g),this.l=a.l,this.a=a.a,vp(this,a.o),this.b=a.b,wp(this,a.i.clone()),this.f=a.f):a&&(c=String(a).match(rp))?(this.c=!!b,up(this,c[1]||"",!0),this.l=xp(c[2]||""),this.a=xp(c[3]||"",!0),vp(this,c[4]),this.b=xp(c[5]||"",!0),wp(this,c[6]||"",!0),this.f=xp(c[7]||"")):(this.c=!!b,this.i=new yp(null,0,this.c))}function up(a,b,c){a.g=c?xp(b,!0):b,a.g&&(a.g=a.g.replace(/:$/,""))}function vp(a,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);a.o=b}else a.o=null}function wp(a,b,c){b instanceof yp?(a.i=b,Ep(a.i,a.c)):(c||(b=zp(b,Fp)),a.i=new yp(b,0,a.c))}function Gp(a){return a instanceof tp?a.clone():new tp(a,void 0)}function Hp(a,b){a instanceof tp||(a=Gp(a)),b instanceof tp||(b=Gp(b));var c=a,d=b,e=c.clone(),f=!!d.g;f?up(e,d.g):f=!!d.l,f?e.l=d.l:f=!!d.a,f?e.a=d.a:f=null!=d.o;var g=d.b;if(f)vp(e,d.o);else if(f=!!d.b)if("/"!=g.charAt(0)&&(c.a&&!c.b?g="/"+g:(c=e.b.lastIndexOf("/"),-1!=c&&(g=e.b.substr(0,c+1)+g))),c=g,".."==c||"."==c)g="";else if(-1!=c.indexOf("./")||-1!=c.indexOf("/.")){for(var g=0==c.lastIndexOf("/",0),c=c.split("/"),h=[],l=0;l<c.length;){var m=c[l++];"."==m?g&&l==c.length&&h.push(""):".."==m?((1<h.length||1==h.length&&""!=h[0])&&h.pop(),g&&l==c.length&&h.push("")):(h.push(m),g=!0)}g=h.join("/")}else g=c;return f?e.b=g:f=""!==d.i.toString(),f?wp(e,xp(d.i.toString())):f=!!d.f,f&&(e.f=d.f),e}function xp(a,b){return a?b?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function zp(a,b,c){return da(a)?(a=encodeURI(a).replace(b,Ip),c&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Ip(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(15&a).toString(16)}function yp(a,b,c){this.a=this.b=null,this.g=a||null,this.f=!!c}function Jp(a){a.b||(a.b=new op,a.a=0,a.g&&sp(a.g,function(b,c){a.add(decodeURIComponent(b.replace(/\+/g," ")),c)}))}function Lp(a,b){return Jp(a),b=Kp(a,b),qp(a.b.a,b)}function Kp(a,b){var c=String(b);return a.f&&(c=c.toLowerCase()),c}function Ep(a,b){b&&!a.f&&(Jp(a),a.g=null,a.b.forEach(function(a,b){var e=b.toLowerCase();b!=e&&(this.remove(b),this.remove(e),0<a.length&&(this.g=null,this.b.set(Kp(this,e),ue(a)),this.a=this.a+a.length))},a)),a.f=b}function Mp(a){a=a||{},this.g=a.font,this.i=a.rotation,this.a=a.scale,this.s=a.text,this.o=a.textAlign,this.j=a.textBaseline,this.b=void 0!==a.fill?a.fill:new oj({color:"#333"}),this.l=void 0!==a.stroke?a.stroke:null,this.f=void 0!==a.offsetX?a.offsetX:0,this.c=void 0!==a.offsetY?a.offsetY:0}function Np(a){a=a?a:{},$n.call(this),this.defaultDataProjection=Dc("EPSG:4326"),this.g=a.defaultStyle?a.defaultStyle:Op,this.c=void 0!==a.extractStyles?a.extractStyles:!0,this.l=void 0!==a.writeStyles?a.writeStyles:!0,this.b={},this.i=void 0!==a.showPointNames?a.showPointNames:!0}function Zp(a,b){var c,d=[0,0],e="start";if(a.a){var f=a.a.kd();f&&2==f.length&&(d[0]=a.a.i*f[0]/2,d[1]=-a.a.i*f[1]/2,e="left")}if(Ma(a.Ha()))c=new Mp({text:b,offsetX:d[0],offsetY:d[1],textAlign:e});else{var f=a.Ha(),g={};for(c in f)g[c]=f[c];c=g,c.pi(b),c.ri(e),c.mi(d[0]),c.ni(d[1])}return new xj({text:c})}function $p(a,b,c,d,e){return function(){var f=e,g="";if(f&&this.W()&&(f="Point"===this.W().X()),f&&(g=this.get("name"),f=f&&g),a)return f?(f=Zp(a[0],g),a.concat(f)):a;if(b){var h=aq(b,c,d);return f?(f=Zp(h[0],g),h.concat(f)):h}return f?(f=Zp(c[0],g),c.concat(f)):c}}function aq(a,b,c){return Array.isArray(a)?a:"string"==typeof a?(!(a in c)&&"#"+a in c&&(a="#"+a),aq(c[a],b,c)):b}function bq(a){return a=Tk(a,!1),(a=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(a))?(a=a[1],[parseInt(a.substr(6,2),16),parseInt(a.substr(4,2),16),parseInt(a.substr(2,2),16),parseInt(a.substr(0,2),16)/255]):void 0}function cq(a){a=Tk(a,!1);for(var d,b=[],c=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;d=c.exec(a);)b.push(parseFloat(d[1]),parseFloat(d[2]),d[3]?parseFloat(d[3]):0),a=a.substr(d[0].length);return""!==a?void 0:b}function dq(a){var b=Tk(a,!1);return a.baseURI?Hp(a.baseURI,b.trim()).toString():b.trim()}function eq(a){return a=io(a),void 0!==a?Math.sqrt(a):void 0}function fq(a,b){return O(null,gq,a,b)}function hq(a,b){var c=O({B:[],zi:[]},iq,a,b);if(c){var e,f,d=c.B,c=c.zi;for(e=0,f=Math.min(d.length,c.length);f>e;++e)d[4*e+3]=c[e];return c=new R(null),c.ba("XYZM",d),c}}function jq(a,b){var c=O({},kq,a,b),d=O(null,lq,a,b);if(d){var e=new R(null);return e.ba("XYZ",d),e.G(c),e}}function mq(a,b){var c=O({},kq,a,b),d=O(null,lq,a,b);if(d){var e=new E(null);return e.ba("XYZ",d,[d.length]),e.G(c),e}}function nq(a,b){var c=O([],oq,a,b);if(!c)return null;if(0===c.length)return new Rn(c);var f,g,h,d=!0,e=c[0].X();for(g=1,h=c.length;h>g;++g)if(f=c[g],f.X()!=e){d=!1;break}if(d){if("Point"==e){for(f=c[0],d=f.f,e=f.ka(),g=1,h=c.length;h>g;++g)f=c[g],rb(e,f.ka());return f=new Hn(null),f.ba(d,e),pq(f,c),f}return"LineString"==e?(f=new S(null),Gn(f,c),pq(f,c),f):"Polygon"==e?(f=new T(null),Jn(f,c),pq(f,c),f):"GeometryCollection"==e?new Rn(c):(wa("Unexpected type: "+e),null)}return new Rn(c)}function qq(a,b){var c=O({},kq,a,b),d=O(null,lq,a,b);if(d){var e=new C(null);return e.ba("XYZ",d),e.G(c),e}}function rq(a,b){var c=O({},kq,a,b),d=O([null],sq,a,b);if(d&&d[0]){var h,l,e=new E(null),f=d[0],g=[f.length];for(h=1,l=d.length;l>h;++h)rb(f,d[h]),g.push(f.length);return e.ba("XYZ",f,g),e.G(c),e}}function tq(a,b){var c=O({},uq,a,b);if(!c)return null;var d="fillStyle"in c?c.fillStyle:Sp,e=c.fill;void 0===e||e||(d=null);var e="imageStyle"in c?c.imageStyle:Vp,f="textStyle"in c?c.textStyle:Xp,g="strokeStyle"in c?c.strokeStyle:Wp,c=c.outline;return void 0===c||c||(g=null),[new xj({fill:d,image:e,stroke:g,text:f,zIndex:void 0})]}function pq(a,b){var f,g,h,l,c=b.length,d=Array(b.length),e=Array(b.length);for(h=l=!1,g=0;c>g;++g)f=b[g],d[g]=f.get("extrude"),e[g]=f.get("altitudeMode"),h=h||void 0!==d[g],l=l||e[g];h&&a.set("extrude",d),l&&a.set("altitudeMode",e)}function vq(a,b){gl(wq,a,b)}function Mq(a,b){var c;for(c=b.firstChild;c;c=c.nextSibling)if(c.nodeType==Node.ELEMENT_NODE){var d=Nq(a,c);if(d)return d}}function Nq(a,b){var c;for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ob(Qp,c.namespaceURI)&&"name"==c.localName)return U(c);for(c=b.firstElementChild;c;c=c.nextElementSibling){var d=c.localName;if(ob(Qp,c.namespaceURI)&&("Document"==d||"Folder"==d||"Placemark"==d||"kml"==d)&&(d=Nq(a,c)))return d}}function Oq(a,b){var c,d=[];for(c=b.firstChild;c;c=c.nextSibling)c.nodeType==Node.ELEMENT_NODE&&rb(d,Pq(a,c));return d}function Pq(a,b){var c,d=[];for(c=b.firstElementChild;c;c=c.nextElementSibling)if(ob(Qp,c.namespaceURI)&&"NetworkLink"==c.localName){var e=O({},Hq,c,[]);d.push(e)}for(c=b.firstElementChild;c;c=c.nextElementSibling)e=c.localName,!ob(Qp,c.namespaceURI)||"Document"!=e&&"Folder"!=e&&"kml"!=e||rb(d,Pq(a,c));return d}function Qq(a,b){var d,c=ze(b),c=[255*(4==c.length?c[3]:1),c[2],c[1],c[0]];for(d=0;4>d;++d){var e=parseInt(c[d],10).toString(16);c[d]=1==e.length?"0"+e:e}no(a,c.join(""))}function Rq(a,b,c){a={node:a};var e,f,d=b.X();"GeometryCollection"==d?(e=b.ef(),f=Sq):"MultiPoint"==d?(e=b.ie(),f=Tq):"MultiLineString"==d?(e=b.ld(),f=Uq):"MultiPolygon"==d?(e=b.Vd(),f=Vq):wa("Unknown geometry type: "+d),hl(a,Wq,f,e,c)}function Xq(a,b,c){hl({node:a},Yq,Zq,[b],c)}function $q(a,b,c){var d={node:a};b.Xa()&&a.setAttribute("id",b.Xa()),a=b.O();var e=b.dc();e&&(e=e.call(b,0))&&(e=Array.isArray(e)?e[0]:e,this.l&&(a.Style=e),(e=e.Ha())&&(a.name=e.Ha())),e=ar[c[c.length-1].node.namespaceURI],a=fl(a,e),hl(d,br,el,a,c,e),a=c[0],(b=b.W())&&(b=An(b,!0,a)),hl(d,br,Sq,[b],c)}function cr(a,b,c){var d=b.ka();a={node:a},a.layout=b.f,a.stride=b.va(),hl(a,dr,er,[d],c)}function fr(a,b,c){b=b.Ud();var d=b.shift();a={node:a},hl(a,gr,hr,b,c),hl(a,gr,ir,[d],c)}function jr(a,b){oo(a,Math.round(b*b*1e6)/1e6)}function sr(a,b,c){return Sk(Pp[0],"gx:"+c)}function mr(a,b){return Sk(b[b.length-1].node.namespaceURI,"Placemark")}function Sq(a,b){return a?Sk(b[b.length-1].node.namespaceURI,or[a.X()]):void 0}function Cr(a){this.defaultDataProjection=null,a=a?a:{},this.defaultDataProjection=new Ac({code:"",units:"tile-pixels"}),this.b=a.featureClass?a.featureClass:ok,this.g=a.geometryName?a.geometryName:"geometry",this.a=a.layerName?a.layerName:"layer",this.f=a.layers?a.layers:null}function Dr(a,b,c){for(var d=0,e=0,f=a.length;f>e;++e){var h,l,g=a[e];for(h=0,l=g.length;l>h;++h){var m=g[h];b.push(m.x,m.y)}d+=2*h,c.push(d)}}function Er(a,b){return new Fr(a,b)}function Gr(a,b,c){return new Hr(a,b,c)}function Ir(a){this.Vb=a}function Jr(a){this.Vb=a}function Kr(a,b,c){this.Vb=a,this.b=b,this.a=c}function Fr(a,b){Kr.call(this,"And",a,b)}function Lr(a,b){Kr.call(this,"Or",a,b)}function Mr(a){this.Vb="Not",this.condition=a}function Hr(a,b,c){this.Vb="BBOX",this.geometryName=a,this.extent=b,this.srsName=c}function Nr(a,b){this.Vb=a,this.b=b}function Or(a,b,c,d){Nr.call(this,a,b),this.g=c,this.a=d}function Pr(a,b,c){Or.call(this,"PropertyIsEqualTo",a,b,c)}function Qr(a,b,c){Or.call(this,"PropertyIsNotEqualTo",a,b,c)}function Rr(a,b){Or.call(this,"PropertyIsLessThan",a,b)}function Sr(a,b){Or.call(this,"PropertyIsLessThanOrEqualTo",a,b)}function Tr(a,b){Or.call(this,"PropertyIsGreaterThan",a,b)}function Ur(a,b){Or.call(this,"PropertyIsGreaterThanOrEqualTo",a,b)}function Vr(a){Nr.call(this,"PropertyIsNull",a)}function Wr(a,b,c){Nr.call(this,"PropertyIsBetween",a),this.a=b,this.g=c}function Xr(a,b,c,d,e,f){Nr.call(this,"PropertyIsLike",a),this.f=b,this.i=void 0!==c?c:"*",this.c=void 0!==d?d:".",this.g=void 0!==e?e:"!",this.a=f}function Yr(){$n.call(this),this.defaultDataProjection=Dc("EPSG:4326")}function Zr(a,b){b[b.length-1].Bd[a.getAttribute("k")]=a.getAttribute("v")}function ds(a){return a.getAttributeNS("http://www.w3.org/1999/xlink","href")}function es(){}function fs(){}function vs(a,b,c,d){var e;e=void 0!==d?d:[];for(var f=d=0;b>f;){var g=a[f++];for(e[d++]=a[f++],e[d++]=g,g=2;c>g;++g)e[d++]=a[f++]}e.length=d}function ws(a){a=a?a:{},this.defaultDataProjection=null,this.defaultDataProjection=Dc("EPSG:4326"),this.b=a.factor?a.factor:1e5,this.a=a.geometryLayout?a.geometryLayout:"XY"}function xs(a,b,c){var d,e=Array(b);for(d=0;b>d;++d)e[d]=0;var f,g;for(f=0,g=a.length;g>f;)for(d=0;b>d;++d,++f){var h=a[f],l=h-e[d];e[d]=h,a[f]=l}return ys(a,c?c:1e5)}function zs(a,b,c){var d,e=Array(b);for(d=0;b>d;++d)e[d]=0;a=As(a,c?c:1e5);var f;for(c=0,f=a.length;f>c;)for(d=0;b>d;++d,++c)e[d]+=a[c],a[c]=e[d];return a}function ys(a,b){var d,e,c=b?b:1e5;for(d=0,e=a.length;e>d;++d)a[d]=Math.round(a[d]*c);for(c=0,d=a.length;d>c;++c)e=a[c],a[c]=0>e?~(e<<1):e<<1;for(c="",d=0,e=a.length;e>d;++d){for(var g,f=a[d],h="";f>=32;)g=(32|31&f)+63,h+=String.fromCharCode(g),f>>=5;h+=String.fromCharCode(f+63),c+=h}return c}function As(a,b){var g,h,c=b?b:1e5,d=[],e=0,f=0;for(g=0,h=a.length;h>g;++g){var l=a.charCodeAt(g)-63,e=e|(31&l)<<f;32>l?(d.push(e),f=e=0):f+=5}for(e=0,f=d.length;f>e;++e)g=d[e],d[e]=1&g?~(g>>1):g>>1;for(e=0,f=d.length;f>e;++e)d[e]/=c;return d}function Cs(a){a=a?a:{},this.defaultDataProjection=null,this.defaultDataProjection=Dc(a.defaultDataProjection?a.defaultDataProjection:"EPSG:4326")}function Ds(a,b){var d,e,f,g,c=[];for(f=0,g=a.length;g>f;++f)d=a[f],f>0&&c.pop(),e=d>=0?b[d]:b[~d].slice().reverse(),c.push.apply(c,e);for(d=0,e=c.length;e>d;++d)c[d]=c[d].slice();return c}function Es(a,b,c,d,e){a=a.geometries;var g,h,f=[];for(g=0,h=a.length;h>g;++g)f[g]=Fs(a[g],b,c,d,e);return f}function Fs(a,b,c,d,e){var f=a.type,g=Gs[f];return b="Point"===f||"MultiPoint"===f?g(a,c,d):g(a,b),c=new Ok,c.Ua(An(b,!1,e)),void 0!==a.id&&c.lc(a.id),a.properties&&c.G(a.properties),c}function Hs(a,b,c){a[0]=a[0]*b[0]+c[0],a[1]=a[1]*b[1]+c[1]}function Is(a){a=a?a:{},this.i=a.featureType,this.g=a.featureNS,this.b=a.gmlFormat?a.gmlFormat:new ro,this.c=a.schemaLocation?a.schemaLocation:"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd",$n.call(this)}function Ls(a,b){for(var c=b.firstChild;c;c=c.nextSibling)if(c.nodeType==Node.ELEMENT_NODE)return Ms(a,c)}function Ms(a,b){var c={},d=lo(b.getAttribute("numberOfFeatures"));return c.numberOfFeatures=d,O(c,Ns,b,[],a.b)}function Js(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return O({},Ks,a,[])}function Ss(a,b){var c=Sk("http://www.opengis.net/ogc","Filter"),d=Sk("http://www.opengis.net/ogc","FeatureId");c.appendChild(d),d.setAttribute("fid",b),a.appendChild(c)}function Us(a,b,c){a={node:a};var d=b.b;hl(a,Vs,cl(d.Vb),[d],c),b=b.a,hl(a,Vs,cl(b.Vb),[b],c)}function Ws(a,b){void 0!==b.a&&a.setAttribute("matchCase",b.a.toString()),Xs(a,b.b),Ys("Literal",a,""+b.g)}function Ys(a,b,c){a=Sk("http://www.opengis.net/ogc",a),no(a,c),b.appendChild(a)}function Xs(a,b){Ys("PropertyName",a,b)}function Zs(a){a=a?a:{},this.defaultDataProjection=null,this.b=void 0!==a.splitCollection?a.splitCollection:!1}function $s(a){return a=a.Z(),0===a.length?"":a[0]+" "+a[1]}function at(a){a=a.Z();for(var b=[],c=0,d=a.length;d>c;++c)b.push(a[c][0]+" "+a[c][1]);return b.join(",")}function bt(a){var b=[];a=a.Ud();for(var c=0,d=a.length;d>c;++c)b.push("("+at(a[c])+")");return b.join(",")}function ct(a){var b=a.X();return a=dt[b](a),b=b.toUpperCase(),0===a.length?b+" EMPTY":b+"("+a+")"}function ft(a){this.a=a,this.b=-1}function gt(a){var b=a.a.charAt(++a.b),c={position:a.b,value:b};if("("==b)c.type=2;else if(","==b)c.type=5;else if(")"==b)c.type=3;else if(b>="0"&&"9">=b||"."==b||"-"==b){c.type=4;var d,b=a.b,e=!1,f=!1;do"."==d?e=!0:("e"==d||"E"==d)&&(f=!0),d=a.a.charAt(++a.b);while(d>="0"&&"9">=d||"."==d&&(void 0===e||!e)||!f&&("e"==d||"E"==d)||f&&("-"==d||"+"==d));a=parseFloat(a.a.substring(b,a.b--)),c.value=a}else if(b>="a"&&"z">=b||b>="A"&&"Z">=b){
c.type=1,b=a.b;do d=a.a.charAt(++a.b);while(d>="a"&&"z">=d||d>="A"&&"Z">=d);a=a.a.substring(b,a.b--).toUpperCase(),c.value=a}else{if(" "==b||"	"==b||"\r"==b||"\n"==b)return gt(a);if(""!==b)throw Error("Unexpected character: "+b);c.type=6}return c}function et(a){this.a=a}function ht(a){var b=a.b;if(a.match(1)){var c=b.value;if("GEOMETRYCOLLECTION"==c){a:{if(a.match(2)){b=[];do b.push(ht(a));while(a.match(5));if(a.match(3)){a=b;break a}}else if(it(a)){a=[];break a}throw Error(jt(a))}return new Rn(a)}var d=kt[c],b=lt[c];if(!d||!b)throw Error("Invalid geometry type: "+c);return a=d.call(a),new b(a)}throw Error(jt(a))}function mt(a){for(var b=[],c=0;2>c;++c){var d=a.b;if(!a.match(4))break;b.push(d.value)}if(2==b.length)return b;throw Error(jt(a))}function nt(a){for(var b=[mt(a)];a.match(5);)b.push(mt(a));return b}function ot(a){for(var b=[a.Cf()];a.match(5);)b.push(a.Cf());return b}function it(a){var b=1==a.b.type&&"EMPTY"==a.b.value;return b&&(a.b=gt(a.a)),b}function jt(a){return"Unexpected `"+a.b.value+"` at position "+a.b.position+" in `"+a.a.a+"`"}function pt(){this.version=void 0}function rt(a,b){return O({},st,a,b)}function tt(a,b){return O({},ut,a,b)}function vt(a,b){var c=rt(a,b);if(c){var d=[lo(a.getAttribute("width")),lo(a.getAttribute("height"))];return c.size=d,c}}function wt(a,b){return O([],xt,a,b)}function Mt(a){a=a?a:{},this.g="http://mapserver.gis.umn.edu/mapserver",this.b=new qo,this.c=a.layers?a.layers:null,$n.call(this)}function Nt(){this.g=new fs}function Pt(a){var b=U(a).split(" ");return b&&2==b.length?(a=+b[0],b=+b[1],isNaN(a)||isNaN(b)?void 0:[a,b]):void 0}function $t(a){jb.call(this),a=a||{},this.a=null,this.c=Vc,this.f=void 0,B(this,lb("projection"),this.Nl,this),B(this,lb("tracking"),this.Ol,this),void 0!==a.projection&&this.dh(Dc(a.projection)),void 0!==a.trackingOptions&&this.si(a.trackingOptions),this.fe(void 0!==a.tracking?a.tracking:!1)}function au(a,b,c){md.call(this),this.Uf(a,b?b:0,c)}function bu(a){var b=a.B[a.a]-a.B[0];return a=a.B[a.a+1]-a.B[1],b*b+a*a}function cu(a,b,c){for(var r,u,x,v,D,d=[],e=a(0),f=a(1),g=b(e),h=b(f),l=[f,e],m=[h,g],n=[1,0],p={},q=1e5;0<--q&&0<n.length;)x=n.pop(),e=l.pop(),g=m.pop(),f=x.toString(),f in p||(d.push(g[0],g[1]),p[f]=!0),v=n.pop(),f=l.pop(),h=m.pop(),D=(x+v)/2,r=a(D),u=b(r),Ba(u[0],u[1],g[0],g[1],h[0],h[1])<c?(d.push(h[0],h[1]),f=v.toString(),p[f]=!0):(n.push(v,D,D,x),m.push(h,u,u,g),l.push(f,r,r,e));return d}function du(a,b,c,d,e){var f=Dc("EPSG:4326");return cu(function(d){return[a,b+(c-b)*d]},Uc(f,d),e)}function eu(a,b,c,d,e){var f=Dc("EPSG:4326");return cu(function(d){return[b+(c-b)*d,a]},Uc(f,d),e)}function fu(a){a=a||{},this.c=this.o=null,this.g=this.i=1/0,this.f=this.l=-(1/0),this.A=this.U=1/0,this.D=this.C=-(1/0),this.Ba=void 0!==a.targetSize?a.targetSize:100,this.R=void 0!==a.maxLines?a.maxLines:100,this.b=[],this.a=[],this.ya=void 0!==a.strokeStyle?a.strokeStyle:gu,this.v=this.j=void 0,this.s=null,this.setMap(void 0!==a.map?a.map:null)}function iu(a,b,c,d,e,f,g){var h=g;return b=du(b,c,d,a.c,e),h=void 0!==a.b[h]?a.b[h]:new R(null),h.ba("XY",b),sc(h.H(),f)&&(a.b[g++]=h),g}function ju(a,b,c,d,e){var f=e;return b=eu(b,a.f,a.g,a.c,c),f=void 0!==a.a[f]?a.a[f]:new R(null),f.ba("XY",b),sc(f.H(),d)&&(a.a[e++]=f),e}function ku(a,b,c,d,e,f,g){uh.call(this,a,b,c,0,d),this.j=e,this.g=new Image,null!==f&&(this.g.crossOrigin=f),this.i={},this.c=null,this.state=0,this.o=g}function lu(a,b,c,d,e){kf.call(this,a,b),this.s=c,this.g=new Image,null!==d&&(this.g.crossOrigin=d),this.c={},this.j=null,this.v=e}function mu(a){a.j.forEach(Pa),a.j=null}function nu(a){a=a?a:{},ai.call(this,{handleEvent:vc}),this.c=a.formatConstructors?a.formatConstructors:[],this.j=a.projection?Dc(a.projection):null,this.a=null,this.target=a.target?a.target:null}function ou(a){a=a.dataTransfer.files;var b,c,d;for(b=0,c=a.length;c>b;++b){d=a.item(b);var e=new FileReader;e.addEventListener("load",this.o.bind(this,d)),e.readAsText(d)}}function pu(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"}function qu(a,b,c,d,e){bb.call(this,a,b),this.features=d,this.file=c,this.projection=e}function su(a){a=a?a:{},pi.call(this,{handleDownEvent:tu,handleDragEvent:uu,handleUpEvent:vu}),this.s=a.condition?a.condition:li,this.a=this.c=void 0,this.j=0,this.A=void 0!==a.duration?a.duration:400}function uu(a){if(ni(a)){var b=a.map,c=b.Za(),d=a.pixel;if(a=d[0]-c[0]/2,d=c[1]/2-d[1],c=Math.atan2(d,a),a=Math.sqrt(a*a+d*d),d=b.aa(),b.render(),void 0!==this.c){var e=c-this.c;bi(b,d,d.La()-e)}this.c=c,void 0!==this.a&&(c=this.a*(d.$()/a),di(b,d,c)),void 0!==this.a&&(this.j=this.a/a),this.a=a}}function vu(a){if(!ni(a))return!0;a=a.map;var b=a.aa();ce(b,-1);var c=this.j-1,d=b.La(),d=b.constrainRotation(d,0);bi(a,b,d,void 0,void 0);var d=b.$(),e=this.A,d=b.constrainResolution(d,0,c);return di(a,b,d,void 0,e),this.j=0,!1}function tu(a){return ni(a)&&this.s(a)?(ce(a.map.aa(),1),this.a=this.c=void 0,!0):!1}function wu(a,b){bb.call(this,a),this.feature=b}function xu(a){pi.call(this,{handleDownEvent:yu,handleEvent:zu,handleUpEvent:Au}),this.za=null,this.S=!1,this.Gc=a.source?a.source:null,this.pb=a.features?a.features:null,this.Cj=a.snapTolerance?a.snapTolerance:12,this.Y=a.type,this.c=Bu(this.Y),this.Sa=a.minPoints?a.minPoints:this.c===Cu?3:2,this.Aa=a.maxPoints?a.maxPoints:1/0,this.Me=a.finishCondition?a.finishCondition:vc;var b=a.geometryFunction;if(!b)if("Circle"===this.Y)b=function(a,b){var c=b?b:new au([NaN,NaN]);return c.Uf(a[0],Math.sqrt(Mb(a[0],a[1]))),c};else{var c,b=this.c;b===Du?c=C:b===Eu?c=R:b===Cu&&(c=E),b=function(a,b){var f=b;return f?f.pa(a):f=new c(a),f}}this.D=b,this.T=this.A=this.a=this.R=this.j=this.s=null,this.Fj=a.clickTolerance?a.clickTolerance*a.clickTolerance:36,this.qa=new G({source:new P({useSpatialIndex:!1,wrapX:a.wrapX?a.wrapX:!1}),style:a.style?a.style:Fu()}),this.Gb=a.geometryName,this.Bj=a.condition?a.condition:ki,this.ta=a.freehandCondition?a.freehandCondition:li,B(this,lb("active"),this.yi,this)}function Fu(){var a=Cj();return function(b){return a[b.W().X()]}}function zu(a){this.c!==Eu&&this.c!==Cu||!this.ta(a)||(this.S=!0);var b=!this.S;return this.S&&a.type===mh?(Gu(this,a),b=!1):a.type===lh?b=Hu(this,a):a.type===fh&&(b=!1),qi.call(this,a)&&b}function yu(a){return this.Bj(a)?(this.za=a.pixel,!0):this.S?(this.za=a.pixel,this.s||Iu(this,a),!0):!1}function Au(a){this.S=!1;var b=this.za,c=a.pixel,d=b[0]-c[0],b=b[1]-c[1],c=!0;return d*d+b*b<=this.Fj&&(Hu(this,a),this.s?this.c===Ju?this.hd():Ku(this,a)?this.Me(a)&&this.hd():Gu(this,a):(Iu(this,a),this.c===Du&&this.hd()),c=!1),c}function Hu(a,b){if(a.s){var e,c=b.coordinate,d=a.j.W();a.c===Du?e=a.a:a.c===Cu?(e=a.a[0],e=e[e.length-1],Ku(a,b)&&(c=a.s.slice())):(e=a.a,e=e[e.length-1]),e[0]=c[0],e[1]=c[1],a.D(a.a,d),a.R&&a.R.W().pa(c),d instanceof E&&a.c!==Cu?(a.A||(a.A=new Ok(new R(null))),d=d.Hg(0),c=a.A.W(),c.ba(d.f,d.ka())):a.T&&(c=a.A.W(),c.pa(a.T)),Lu(a)}else c=b.coordinate.slice(),a.R?a.R.W().pa(c):(a.R=new Ok(new C(c)),Lu(a));return!0}function Ku(a,b){var c=!1;if(a.j){var d=!1,e=[a.s];if(a.c===Eu?d=a.a.length>a.Sa:a.c===Cu&&(d=a.a[0].length>a.Sa,e=[a.a[0][0],a.a[0][a.a[0].length-2]]),d)for(var d=b.map,f=0,g=e.length;g>f;f++){var h=e[f],l=d.Ga(h),m=b.pixel,c=m[0]-l[0],l=m[1]-l[1],m=a.S&&a.ta(b)?1:a.Cj;if(c=Math.sqrt(c*c+l*l)<=m){a.s=h;break}}}return c}function Iu(a,b){var c=b.coordinate;a.s=c,a.c===Du?a.a=c.slice():a.c===Cu?(a.a=[[c.slice(),c.slice()]],a.T=a.a[0]):(a.a=[c.slice(),c.slice()],a.c===Ju&&(a.T=a.a)),a.T&&(a.A=new Ok(new R(a.T))),c=a.D(a.a),a.j=new Ok,a.Gb&&a.j.Dc(a.Gb),a.j.Ua(c),Lu(a),a.b(new wu("drawstart",a.j))}function Gu(a,b){var e,f,c=b.coordinate,d=a.j.W();a.c===Eu?(a.s=c.slice(),f=a.a,f.push(c.slice()),e=f.length>a.Aa,a.D(f,d)):a.c===Cu&&(f=a.a[0],f.push(c.slice()),(e=f.length>a.Aa)&&(a.s=f[0]),a.D(a.a,d)),Lu(a),e&&a.hd()}function Mu(a){a.s=null;var b=a.j;return b&&(a.j=null,a.R=null,a.A=null,a.qa.ha().clear(!0)),b}function Lu(a){var b=[];a.j&&b.push(a.j),a.A&&b.push(a.A),a.R&&b.push(a.R),a=a.qa.ha(),a.clear(!0),a.Ic(b)}function Bu(a){var b;return"Point"===a||"MultiPoint"===a?b=Du:"LineString"===a||"MultiLineString"===a?b=Eu:"Polygon"===a||"MultiPolygon"===a?b=Cu:"Circle"===a&&(b=Ju),b}function Nu(a,b,c){bb.call(this,a),this.features=b,this.mapBrowserEvent=c}function Ou(a){pi.call(this,{handleDownEvent:Pu,handleDragEvent:Qu,handleEvent:Ru,handleUpEvent:Su}),this.Gb=a.condition?a.condition:oi,this.Sa=function(a){return ki(a)&&ji(a)},this.pb=a.deleteCondition?a.deleteCondition:this.Sa,this.Aa=this.c=null,this.qa=[0,0],this.D=this.T=!1,this.a=new rl,this.R=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.s=this.ta=!1,this.j=[],this.S=new G({source:new P({useSpatialIndex:!1,wrapX:!!a.wrapX}),style:a.style?a.style:Tu(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.za={Point:this.ym,LineString:this.kh,LinearRing:this.kh,Polygon:this.zm,MultiPoint:this.wm,MultiLineString:this.vm,MultiPolygon:this.xm,GeometryCollection:this.um},this.A=a.features,this.A.forEach(this.wf,this),B(this.A,"add",this.sm,this),B(this.A,"remove",this.tm,this),this.Y=null}function Vu(a,b){a.D||(a.D=!0,a.b(new Nu("modifystart",a.A,b)))}function Wu(a,b){Xu(a,b),a.c&&0===a.A.cc()&&(a.S.ha().mb(a.c),a.c=null),Xa(b,"change",a.jh,a)}function Xu(a,b){var c=a.a,d=[];c.forEach(function(a){b===a.feature&&d.push(a)});for(var e=d.length-1;e>=0;--e)c.remove(d[e])}function Yu(a,b){var c=a.c;c?c.W().pa(b):(c=new Ok(new C(b)),a.c=c,a.S.ha().qb(c))}function Zu(a,b){return a.index-b.index}function Pu(a){if(!this.Gb(a))return!1;Uu(this,a.pixel,a.map),this.j.length=0,this.D=!1;var b=this.c;if(b){var c=[],b=b.W().Z(),d=Qb([b]),d=ul(this.a,d),e={};d.sort(Zu);for(var f=0,g=d.length;g>f;++f){var h=d[f],l=h.na,m=w(h.feature),n=h.depth;n&&(m+="-"+n.join("-")),e[m]||(e[m]=Array(2)),Kb(l[0],b)&&!e[m][0]?(this.j.push([h,0]),e[m][0]=h):Kb(l[1],b)&&!e[m][1]?("LineString"!==h.geometry.X()&&"MultiLineString"!==h.geometry.X()||!e[m][0]||0!==e[m][0].index)&&(this.j.push([h,1]),e[m][1]=h):w(l)in this.Aa&&!e[m][0]&&!e[m][1]&&c.push([h,b])}for(c.length&&Vu(this,a),a=c.length-1;a>=0;--a)this.nl.apply(this,c[a])}return!!this.c}function Qu(a){this.T=!1,Vu(this,a),a=a.coordinate;for(var b=0,c=this.j.length;c>b;++b){for(var d=this.j[b],e=d[0],f=e.depth,g=e.geometry,h=g.Z(),l=e.na,d=d[1];a.length<g.va();)a.push(0);switch(g.X()){case"Point":h=a,l[0]=l[1]=a;break;case"MultiPoint":h[e.index]=a,l[0]=l[1]=a;break;case"LineString":h[e.index+d]=a,l[d]=a;break;case"MultiLineString":h[f[0]][e.index+d]=a,l[d]=a;break;case"Polygon":h[f[0]][e.index+d]=a,l[d]=a;break;case"MultiPolygon":h[f[1]][f[0]][e.index+d]=a,l[d]=a}e=g,this.s=!0,e.pa(h),this.s=!1}Yu(this,a)}function Su(a){for(var b,c=this.j.length-1;c>=0;--c)b=this.j[c][0],sl(this.a,Qb(b.na),b);return this.D&&(this.b(new Nu("modifyend",this.A,a)),this.D=!1),!1}function Ru(a){if(!(a instanceof bh))return!0;this.Y=a;var b;return Yd(a.map.aa())[1]||a.type!=lh||this.C||(this.qa=a.pixel,Uu(this,a.pixel,a.map)),this.c&&this.pb(a)&&(a.type==gh&&this.T?b=!0:(this.c.W(),b=this.ai())),a.type==gh&&(this.T=!1),qi.call(this,a)&&!b}function Uu(a,b,c){function d(a,b){return Nb(e,a.na)-Nb(e,b.na)}var e=c.Ma(b),f=c.Ma([b[0]-a.R,b[1]+a.R]),g=c.Ma([b[0]+a.R,b[1]-a.R]),f=Qb([f,g]),f=ul(a.a,f);if(0<f.length){f.sort(d);var g=f[0].na,h=Hb(e,g),l=c.Ga(h);if(Math.sqrt(Mb(b,l))<=a.R){for(b=c.Ga(g[0]),c=c.Ga(g[1]),b=Mb(l,b),c=Mb(l,c),a.ta=Math.sqrt(Math.min(b,c))<=a.R,a.ta&&(h=b>c?g[1]:g[0]),Yu(a,h),c={},c[w(g)]=!0,b=1,l=f.length;l>b&&(h=f[b].na,Kb(g[0],h[0])&&Kb(g[1],h[1])||Kb(g[0],h[1])&&Kb(g[1],h[0]));++b)c[w(h)]=!0;return void(a.Aa=c)}}a.c&&(a.S.ha().mb(a.c),a.c=null)}function $u(a,b,c,d,e){wl(a.a,b.H(),function(a){a.geometry===b&&(void 0===d||void 0===a.depth||ub(a.depth,d))&&a.index>c&&(a.index+=e)})}function Tu(){var a=Cj();return function(){return a.Point}}function av(a,b,c,d){bb.call(this,a),this.selected=b,this.deselected=c,this.mapBrowserEvent=d}function bv(a){ai.call(this,{handleEvent:cv});var b=a?a:{};if(this.C=b.condition?b.condition:ji,this.A=b.addCondition?b.addCondition:wc,this.D=b.removeCondition?b.removeCondition:wc,this.R=b.toggleCondition?b.toggleCondition:li,this.j=b.multi?b.multi:!1,this.o=b.filter?b.filter:vc,this.c=new G({source:new P({useSpatialIndex:!1,features:b.features,wrapX:b.wrapX}),style:b.style?b.style:dv(),updateWhileAnimating:!0,updateWhileInteracting:!0}),b.layers)if("function"==typeof b.layers)a=function(a){return b.layers(a)};else{var c=b.layers;a=function(a){return ob(c,a)}}else a=vc;this.s=a,this.a={},a=this.c.ha().c,B(a,"add",this.Am,this),B(a,"remove",this.Dm,this)}function cv(a){if(!this.C(a))return!0;var b=this.A(a),c=this.D(a),d=this.R(a),e=!b&&!c&&!d,f=a.map,g=this.c.ha().c,h=[],l=[];if(e)Ka(this.a),f.jd(a.pixel,function(a,b){if(this.o(a,b)){l.push(a);var c=w(a);return this.a[c]=b,!this.j}},this,this.s),0<l.length&&1==g.cc()&&g.item(0)==l[0]?l.length=0:(0!==g.cc()&&(h=Array.prototype.concat(g.a),g.clear()),g.pf(l));else{for(f.jd(a.pixel,function(a,e){if(this.o(a,e)){if(!b&&!d||ob(g.a,a))(c||d)&&ob(g.a,a)&&(h.push(a),f=w(a),delete this.a[f]);else{l.push(a);var f=w(a);this.a[f]=e}return!this.j}},this,this.s),e=h.length-1;e>=0;--e)g.remove(h[e]);g.pf(l)}return(0<l.length||0<h.length)&&this.b(new av("select",l,h,a)),ii(a)}function dv(){var a=Cj();return rb(a.Polygon,a.LineString),rb(a.GeometryCollection,a.LineString),function(b){return a[b.W().X()]}}function ev(a){pi.call(this,{handleEvent:fv,handleDownEvent:vc,handleUpEvent:gv}),a=a?a:{},this.s=a.source?a.source:null,this.qa=void 0!==a.vertex?a.vertex:!0,this.T=void 0!==a.edge?a.edge:!0,this.j=a.features?a.features:null,this.ta=[],this.D={},this.R={},this.Y={},this.A={},this.S=null,this.c=void 0!==a.pixelTolerance?a.pixelTolerance:10,this.Aa=hv.bind(this),this.a=new rl,this.za={Point:this.Jm,LineString:this.nh,LinearRing:this.nh,Polygon:this.Km,MultiPoint:this.Hm,MultiLineString:this.Gm,MultiPolygon:this.Im,GeometryCollection:this.Fm}}function fv(a){var b,c,d=a.pixel,e=a.coordinate;b=a.map;var f=b.Ma([d[0]-this.c,d[1]+this.c]);c=b.Ma([d[0]+this.c,d[1]-this.c]);var h,f=Qb([f,c]),g=ul(this.a,f),f=!1,l=null;return c=null,0<g.length&&(this.S=e,g.sort(this.Aa),g=g[0].na,this.qa&&!this.T?(e=b.Ga(g[0]),h=b.Ga(g[1]),e=Mb(d,e),d=Mb(d,h),h=Math.sqrt(Math.min(e,d)),(h=h<=this.c)&&(f=!0,l=e>d?g[1]:g[0],c=b.Ga(l))):this.T&&(l=Hb(e,g),c=b.Ga(l),Math.sqrt(Mb(d,c))<=this.c&&(f=!0,this.qa&&(e=b.Ga(g[0]),h=b.Ga(g[1]),e=Mb(c,e),d=Mb(c,h),h=Math.sqrt(Math.min(e,d)),h=h<=this.c)))&&(l=e>d?g[1]:g[0],c=b.Ga(l)),f&&(c=[Math.round(c[0]),Math.round(c[1])])),b=l,f&&(a.coordinate=b.slice(0,2),a.pixel=c),qi.call(this,a)}function gv(){var a=La(this.A);return a.length&&(a.forEach(this.xi,this),this.A={}),!1}function hv(a,b){return Nb(this.S,a.na)-Nb(this.S,b.na)}function iv(a,b,c){bb.call(this,a),this.features=b,this.coordinate=c}function jv(a){pi.call(this,{handleDownEvent:kv,handleDragEvent:lv,handleMoveEvent:mv,handleUpEvent:nv}),this.s=void 0,this.a=null,this.c=void 0!==a.features?a.features:null;var b;if(a.layers)if("function"==typeof a.layers)b=function(b){return a.layers(b)};else{var c=a.layers;b=function(a){return ob(c,a)}}else b=vc;this.A=b,this.j=null}function kv(a){return this.j=ov(this,a.pixel,a.map),!this.a&&this.j?(this.a=a.coordinate,mv.call(this,a),this.b(new iv("translatestart",this.c,a.coordinate)),!0):!1}function nv(a){return this.a?(this.a=null,mv.call(this,a),this.b(new iv("translateend",this.c,a.coordinate)),!0):!1}function lv(a){if(this.a){a=a.coordinate;var b=a[0]-this.a[0],c=a[1]-this.a[1];if(this.c)this.c.forEach(function(a){var d=a.W();d.Rc(b,c),a.Ua(d)});else if(this.j){var d=this.j.W();d.Rc(b,c),this.j.Ua(d)}this.a=a,this.b(new iv("translating",this.c,a))}}function mv(a){var b=a.map.xc();if(a=a.map.jd(a.pixel,function(a){return a})){var c=!1;this.c&&ob(this.c.a,a)&&(c=!0),this.s=b.style.cursor,b.style.cursor=this.a?"-webkit-grabbing":c?"-webkit-grab":"pointer",b.style.cursor=this.a?c?"grab":"pointer":"grabbing"}else b.style.cursor=void 0!==this.s?this.s:"",this.s=void 0}function ov(a,b,c){var d=null;return b=c.jd(b,function(a){return a},a,a.A),a.c&&ob(a.c.a,b)&&(d=b),d}function V(a){a=a?a:{};var b=Ja({},a);delete b.gradient,delete b.radius,delete b.blur,delete b.shadow,delete b.weight,G.call(this,b),this.f=null,this.Y=void 0!==a.shadow?a.shadow:250,this.T=void 0,this.c=null,B(this,lb("gradient"),this.Lk,this),this.ii(a.gradient?a.gradient:pv),this.di(void 0!==a.blur?a.blur:15),this.qh(void 0!==a.radius?a.radius:8),B(this,lb("blur"),this.kf,this),B(this,lb("radius"),this.kf,this),this.kf();var d,c=a.weight?a.weight:"weight";d="string"==typeof c?function(a){return a.get(c)}:c,this.l(function(a){a=d(a),a=void 0!==a?xa(a,0,1):1;var b=255*a|0,c=this.c[b];return c||(c=[new xj({image:new Jh({opacity:a,src:this.T})})],this.c[b]=c),c}.bind(this)),this.set("renderOrder",null),B(this,"render",this.dl,this)}function qv(a,b,c,d){function e(){delete qa[g],f.parentNode.removeChild(f)}var f=qa.document.createElement("script"),g="olc_"+w(b);f.async=!0,f.src=a+(-1==a.indexOf("?")?"?":"&")+(d||"callback")+"="+g;var h=qa.setTimeout(function(){e(),c&&c()},1e4);qa[g]=function(a){qa.clearTimeout(h),e(),b(a)},qa.document.getElementsByTagName("head")[0].appendChild(f)}function rv(a,b,c,d,e,f,g,h,l,m,n){if(kf.call(this,e,0),this.R=void 0!==n?n:!1,this.D=g,this.C=h,this.l=null,this.c={},this.j=b,this.v=d,this.U=f?f:e,this.g=[],this.Vc=null,this.s=0,f=d.Ea(this.U),h=this.v.H(),e=this.j.H(),f=h?rc(f,h):f,0===lc(f))this.state=4;else if((h=a.H())&&(e=e?rc(e,h):h),d=d.$(this.U[0]),d=zk(a,c,pc(f),d),!isFinite(d)||0>=d)this.state=4;else if(this.A=new Ck(a,c,f,e,d*(void 0!==m?m:.5)),0===this.A.f.length)this.state=4;else if(this.s=b.Kb(d),c=Ek(this.A),e&&(a.a?(c[1]=xa(c[1],e[1],e[3]),c[3]=xa(c[3],e[1],e[3])):c=rc(c,e)),lc(c))if(a=vf(b,c,this.s),100>(a.ea-a.ca+1)*(a.ga-a.fa+1)){for(b=a.ca;b<=a.ea;b++)for(c=a.fa;c<=a.ga;c++)(m=l(this.s,b,c,g))&&this.g.push(m);0===this.g.length&&(this.state=4)}else this.state=3;else this.state=4}function W(a){Pl.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,extent:a.extent,logo:a.logo,opaque:a.opaque,projection:a.projection,state:a.state,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction?a.tileLoadFunction:sv,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:a.wrapX}),this.crossOrigin=void 0!==a.crossOrigin?a.crossOrigin:null,this.tileClass=void 0!==a.tileClass?a.tileClass:lu,this.i={},this.s={},this.qa=a.reprojectionErrorThreshold,this.C=!1}function tv(a,b,c,d,e,f,g){return b=[b,c,d],e=(c=If(a,b,f))?a.tileUrlFunction(c,e,f):void 0,e=new a.tileClass(b,void 0!==e?0:4,void 0!==e?e:"",a.crossOrigin,a.tileLoadFunction),e.key=g,B(e,"change",a.Bh,a),e}function uv(a,b,c,d,e,f){var g,h=a.Db(b,c,d),l=a.getKey();if(ef(a.a,h)){if(g=a.a.get(h),g.key!=l){var m=g;g.a&&g.a.key==l?(g=g.a,2==m.V()&&(g.a=m)):(g=tv(a,b,c,d,e,f,l),2==m.V()?g.a=m:m.a&&2==m.a.V()&&(g.a=m.a,m.a=null)),g.a&&(g.a.a=null),a.a.replace(h,g)}}else g=tv(a,b,c,d,e,f,l),a.a.set(h,g);return g}function sv(a,b){a.$a().src=b}function vv(a){W.call(this,{cacheSize:a.cacheSize,crossOrigin:"anonymous",opaque:!0,projection:Dc("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0!==a.wrapX?a.wrapX:!0}),this.j=void 0!==a.culture?a.culture:"en-us",this.c=void 0!==a.maxZoom?a.maxZoom:-1,qv("https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+a.imagerySet+"?uriScheme=https&include=ImageryProviders&key="+a.key,this.v.bind(this),void 0,"jsonp")}function xv(a){a=a||{};var b=void 0!==a.projection?a.projection:"EPSG:3857",c=void 0!==a.tileGrid?a.tileGrid:Ef({extent:Cf(b),maxZoom:a.maxZoom,minZoom:a.minZoom,tileSize:a.tileSize});W.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:a.opaque,projection:b,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:c,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:a.tileUrlFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0})}function yv(a){this.v=a.account,this.A=a.map||"",this.c=a.config||{},this.j={},xv.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,maxZoom:void 0!==a.maxZoom?a.maxZoom:18,minZoom:a.minZoom,projection:a.projection,state:"loading",wrapX:a.wrapX}),zv(this)}function zv(a){var b=JSON.stringify(a.c);if(a.j[b])Av(a,a.j[b]);else{var c="https://"+a.v+".cartodb.com/api/v1/map";a.A&&(c+="/named/"+a.A);var d=new XMLHttpRequest;d.addEventListener("load",a.Nk.bind(a,b)),d.addEventListener("error",a.Mk.bind(a)),d.open("POST",c),d.setRequestHeader("Content-type","application/json"),d.send(JSON.stringify(a.c))}}function Av(a,b){a.Va("https://"+b.Sp.Tp+"/"+a.v+"/api/v1/map/"+b.Up+"/{z}/{x}/{y}.png")}function Y(a){P.call(this,{attributions:a.attributions,extent:a.extent,logo:a.logo,projection:a.projection,wrapX:a.wrapX}),this.C=void 0,this.ta=void 0!==a.distance?a.distance:20,this.A=[],this.la=a.geometryFunction||function(a){return a.W()},this.v=a.source,this.v.I("change",Y.prototype.Sa,this)}function Bv(a){if(void 0!==a.C){a.A.length=0;for(var b=Sb(),c=a.ta*a.C,d=a.v.ne(),e={},f=0,g=d.length;g>f;f++){var h=d[f];w(h).toString()in e||!(h=a.la(h))||(h=h.Z(),bc(h,b),Ub(b,c,b),h=a.v.df(b),h=h.filter(function(a){return a=w(a).toString(),a in e?!1:e[a]=!0}),a.A.push(Cv(a,h)))}}}function Cv(a,b){for(var c=[0,0],d=b.length-1;d>=0;--d){var e=a.la(b[d]);e?Gb(c,e.Z()):b.splice(d,1)}return d=1/b.length,c[0]*=d,c[1]*=d,c=new Ok(new C(c)),c.set("features",b),c}function Dv(a,b){var c=Object.keys(b).map(function(a){return a+"="+encodeURIComponent(b[a])}).join("&");return a=a.replace(/[?&]$/,""),a=-1===a.indexOf("?")?a+"?":a+"&",a+c}function Ev(a){a=a||{},Gk.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.Y=void 0!==a.crossOrigin?a.crossOrigin:null,this.i=a.url,this.j=void 0!==a.imageLoadFunction?a.imageLoadFunction:Mk,this.v=a.params||{},this.c=null,this.s=[0,0],this.T=0,this.S=void 0!==a.ratio?a.ratio:1.5}function Fv(a){Gk.call(this,{projection:a.projection,resolutions:a.resolutions}),this.Y=void 0!==a.crossOrigin?a.crossOrigin:null,this.s=void 0!==a.displayDpi?a.displayDpi:96,this.j=a.params||{},this.T=a.url,this.c=void 0!==a.imageLoadFunction?a.imageLoadFunction:Mk,this.la=void 0!==a.hidpi?a.hidpi:!0,this.ta=void 0!==a.metersPerUnit?a.metersPerUnit:1,this.v=void 0!==a.ratio?a.ratio:1,this.Aa=void 0!==a.useOverlay?a.useOverlay:!1,this.i=null,this.S=0}function Gv(a){var b=a.imageExtent,c=void 0!==a.crossOrigin?a.crossOrigin:null,d=void 0!==a.imageLoadFunction?a.imageLoadFunction:Mk;Gk.call(this,{attributions:a.attributions,logo:a.logo,projection:Dc(a.projection)}),this.c=new ku(b,void 0,1,this.l,a.url,c,d),this.i=a.imageSize?a.imageSize:null,B(this.c,"change",this.o,this)}function Hv(a){a=a||{},Gk.call(this,{attributions:a.attributions,logo:a.logo,projection:a.projection,resolutions:a.resolutions}),this.ta=void 0!==a.crossOrigin?a.crossOrigin:null,this.j=a.url,this.S=void 0!==a.imageLoadFunction?a.imageLoadFunction:Mk,this.i=a.params||{},this.v=!0,Iv(this),this.la=a.serverType,this.Aa=void 0!==a.hidpi?a.hidpi:!0,this.c=null,this.T=[0,0],this.Y=0,this.s=void 0!==a.ratio?a.ratio:1.5}function Kv(a,b,c,d,e,f){if(f[a.v?"CRS":"SRS"]=e.cb,"STYLES"in a.i||(f.STYLES=""),1!=d)switch(a.la){case"geoserver":d=90*d+.5|0,f.FORMAT_OPTIONS="FORMAT_OPTIONS"in f?f.FORMAT_OPTIONS+(";dpi:"+d):"dpi:"+d;break;case"mapserver":f.MAP_RESOLUTION=90*d;break;case"carmentaserver":case"qgis":f.DPI=90*d;break;default:wa("unknown serverType configured")}f.WIDTH=c[0],f.HEIGHT=c[1],c=e.b;var g;return g=a.v&&"ne"==c.substr(0,2)?[b[1],b[0],b[3],b[2]]:b,f.BBOX=g.join(","),Dv(a.j,f)}function Iv(a){a.v=0<=Fb(a.i.VERSION||"1.3.0")}function Lv(a){a=a||{};var b;b=void 0!==a.attributions?a.attributions:[Mv],xv.call(this,{attributions:b,cacheSize:a.cacheSize,crossOrigin:void 0!==a.crossOrigin?a.crossOrigin:"anonymous",opaque:void 0!==a.opaque?a.opaque:!0,maxZoom:void 0!==a.maxZoom?a.maxZoom:19,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:a.wrapX})}function Nv(a){this.S=null,this.Aa=void 0!==a.operationType?a.operationType:"pixel",this.Sa=void 0!==a.threads?a.threads:1,this.c=Ov(a.sources);for(var b=0,c=this.c.length;c>b;++b)B(this.c[b],"change",this.u,this);this.i=Ue(),this.la=new Xh(function(){return 1},this.u.bind(this));for(var b=Pv(this.c),c={},d=0,e=b.length;e>d;++d)c[w(b[d].layer)]=b[d];this.j=this.s=null,this.Y={animate:!1,attributions:{},coordinateToPixelMatrix:bd(),extent:null,focus:null,index:0,layerStates:c,layerStatesArray:b,logos:{},pixelRatio:1,pixelToCoordinateMatrix:bd(),postRenderFunctions:[],size:[0,0],skippedFeatureUids:{},tileQueue:this.la,time:Date.now(),usedTiles:{},viewState:{rotation:0},viewHints:[],wantedTiles:{}},Gk.call(this,{}),void 0!==a.operation&&this.v(a.operation,a.lib)}function Qv(a,b,c){var d=a.s;return!d||a.g!==d.Xo||c!==d.resolution||!ec(b,d.extent)}function Pv(a){return a.map(function(a){return ph(a.a)})}function Ov(a){for(var b=a.length,c=Array(b),d=0;b>d;++d){var e=d,f=a[d],g=null;f instanceof Ff?(f=new jj({source:f}),g=new Hl(f)):f instanceof Gk?(f=new ij({source:f}),g=new Gl(f)):wa("Unsupported source type: "+f),c[e]=g}return c}function Sv(a,b,c){bb.call(this,a),this.extent=b.extent,this.resolution=b.viewState.resolution/b.pixelRatio,this.data=c}function Xv(a){var b=a.layer.indexOf("-"),b=-1==b?a.layer:a.layer.slice(0,b),b=Wv[b],c=Vv[a.layer];xv.call(this,{attributions:Yv,cacheSize:a.cacheSize,crossOrigin:"anonymous",maxZoom:void 0!=a.maxZoom?a.maxZoom:b.maxZoom,minZoom:void 0!=a.minZoom?a.minZoom:b.minZoom,opaque:c.opaque,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileLoadFunction:a.tileLoadFunction,url:void 0!==a.url?a.url:"https://stamen-tiles-{a-d}.a.ssl.fastly.net/"+a.layer+"/{z}/{x}/{y}."+c.sb})}function Zv(a){a=a||{},W.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0}),this.c=a.params||{},this.j=Sb()}function $v(a,b,c){kf.call(this,a,2),this.l=b,this.c=c,this.g={}}function aw(a){Ff.call(this,{opaque:!1,projection:a.projection,tileGrid:a.tileGrid,wrapX:void 0!==a.wrapX?a.wrapX:!0})}function bw(a){if(this.c=null,W.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,projection:Dc("EPSG:3857"),reprojectionErrorThreshold:a.reprojectionErrorThreshold,state:"loading",tileLoadFunction:a.tileLoadFunction,wrapX:void 0!==a.wrapX?a.wrapX:!0}),a.jsonp)qv(a.url,this.yh.bind(this),this.le.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.pn.bind(this)),b.addEventListener("error",this.nn.bind(this)),b.open("GET",a.url),b.send()}}function cw(a){if(Ff.call(this,{projection:Dc("EPSG:3857"),state:"loading"}),this.s=void 0!==a.preemptive?a.preemptive:!0,this.j=Nl,this.i=void 0,this.c=a.jsonp||!1,a.url)if(this.c)qv(a.url,this.Af.bind(this),this.me.bind(this));else{var b=new XMLHttpRequest;b.addEventListener("load",this.tn.bind(this)),b.addEventListener("error",this.sn.bind(this)),b.open("GET",a.url),b.send()}else a.tileJSON?this.Af(a.tileJSON):wa("Either url or tileJSON options must be provided")}function ew(a,b,c,d,e,f){kf.call(this,a,b),this.s=c,this.g=d,this.U=e,this.c=this.j=this.l=null,this.v=f}function dw(a,b,c,d,e){0==a.state&&!0===e?(Ua(a,"change",function(){c.call(d,this.getData(b))},a),fw(a)):!0===e?Zf(function(){c.call(d,this.getData(b))},a):c.call(d,a.getData(b))}function fw(a){if(0==a.state)if(a.state=1,a.v)qv(a.s,a.zh.bind(a),a.$d.bind(a));else{var b=new XMLHttpRequest;b.addEventListener("load",a.rn.bind(a)),b.addEventListener("error",a.qn.bind(a)),b.open("GET",a.s),b.send()}}function gw(a){a=a||{};var b=a.params||{};W.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,opaque:!("TRANSPARENT"in b?b.TRANSPARENT:1),projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileGrid:a.tileGrid,tileLoadFunction:a.tileLoadFunction,url:a.url,urls:a.urls,wrapX:void 0!==a.wrapX?a.wrapX:!0}),this.v=void 0!==a.gutter?a.gutter:0,this.c=b,this.j=!0,this.A=a.serverType,this.T=void 0!==a.hidpi?a.hidpi:!0,this.S="",hw(this),this.Y=Sb(),iw(this),Hf(this,jw(this))}function kw(a,b,c,d,e,f,g){var h=a.urls;if(h){if(g.WIDTH=c[0],g.HEIGHT=c[1],g[a.j?"CRS":"SRS"]=f.cb,"STYLES"in a.c||(g.STYLES=""),1!=e)switch(a.A){case"geoserver":c=90*e+.5|0,g.FORMAT_OPTIONS="FORMAT_OPTIONS"in g?g.FORMAT_OPTIONS+(";dpi:"+c):"dpi:"+c;break;case"mapserver":g.MAP_RESOLUTION=90*e;break;case"carmentaserver":case"qgis":g.DPI=90*e;break;default:wa("unknown serverType configured")}return f=f.b,a.j&&"ne"==f.substr(0,2)&&(a=d[0],d[0]=d[1],d[1]=a,a=d[2],d[2]=d[3],d[3]=a),g.BBOX=d.join(","),Dv(1==h.length?h[0]:h[Ea((b[1]<<b[0])+b[2],h.length)],g)}}function hw(a){var b=0,c=[];if(a.urls){var d,e;for(d=0,e=a.urls.length;e>d;++d)c[b++]=a.urls[d]}a.S=c.join("#")}function jw(a){var d,b=0,c=[];for(d in a.c)c[b++]=d+"-"+a.c[d];return c.join("/")}function iw(a){a.j=0<=Fb(a.c.VERSION||"1.3.0")}function lw(a){this.l=a.matrixIds,sf.call(this,{extent:a.extent,origin:a.origin,origins:a.origins,resolutions:a.resolutions,tileSize:a.tileSize,tileSizes:a.tileSizes,sizes:a.sizes})}function mw(a,b){var h,c=[],d=[],e=[],f=[],g=[];h=Dc(a.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var l=h.Zb(),m="ne"==h.b.substr(0,2);return a.TileMatrix.sort(function(a,b){return b.ScaleDenominator-a.ScaleDenominator}),a.TileMatrix.forEach(function(a){d.push(a.Identifier);var b=28e-5*a.ScaleDenominator/l,h=a.TileWidth,r=a.TileHeight;m?e.push([a.TopLeftCorner[1],a.TopLeftCorner[0]]):e.push(a.TopLeftCorner),c.push(b),f.push(h==r?h:[h,r]),g.push([a.MatrixWidth,-a.MatrixHeight])}),new lw({extent:b,origins:e,resolutions:c,matrixIds:d,tileSizes:f,sizes:g})}function Z(a){function b(a){return a="KVP"==d?Dv(a,f):a.replace(/\{(\w+?)\}/g,function(a,b){return b.toLowerCase()in f?f[b.toLowerCase()]:a}),function(b){if(b){var c={TileMatrix:e.l[b[0]],TileCol:b[1],TileRow:-b[2]-1};return Ja(c,g),b=a,b="KVP"==d?Dv(b,c):b.replace(/\{(\w+?)\}/g,function(a,b){return c[b]})}}}this.T=void 0!==a.version?a.version:"1.0.0",this.v=void 0!==a.format?a.format:"image/jpeg",this.c=void 0!==a.dimensions?a.dimensions:{},this.A=a.layer,this.j=a.matrixSet,this.S=a.style;var c=a.urls;void 0===c&&void 0!==a.url&&(c=Ol(a.url));var d=this.Y=void 0!==a.requestEncoding?a.requestEncoding:"KVP",e=a.tileGrid,f={layer:this.A,style:this.S,tilematrixset:this.j};"KVP"==d&&Ja(f,{Service:"WMTS",Request:"GetTile",Version:this.T,Format:this.v});var g=this.c,h=c&&0<c.length?Ml(c.map(b)):Nl;W.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,projection:a.projection,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:a.tileClass,tileGrid:e,tileLoadFunction:a.tileLoadFunction,tilePixelRatio:a.tilePixelRatio,tileUrlFunction:h,urls:c,wrapX:void 0!==a.wrapX?a.wrapX:!1}),Hf(this,nw(this))}function nw(a){var d,b=0,c=[];for(d in a.c)c[b++]=d+"-"+a.c[d];return c.join("/")}function ow(a){a=a||{};var b=a.size,c=b[0],d=b[1],e=[],f=256;switch(void 0!==a.tierSizeCalculation?a.tierSizeCalculation:"default"){case"default":for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),f+=f;break;case"truncated":for(;c>f||d>f;)e.push([Math.ceil(c/f),Math.ceil(d/f)]),c>>=1,d>>=1;break;default:wa()}e.push([1,1]),e.reverse();for(var f=[1],g=[0],d=1,c=e.length;c>d;d++)f.push(1<<d),g.push(e[d-1][0]*e[d-1][1]+g[d-1]);f.reverse();var b=[0,-b[1],b[0],0],b=new sf({extent:b,origin:kc(b),resolutions:f}),h=a.url;W.call(this,{attributions:a.attributions,cacheSize:a.cacheSize,crossOrigin:a.crossOrigin,logo:a.logo,reprojectionErrorThreshold:a.reprojectionErrorThreshold,tileClass:pw,tileGrid:b,
tileUrlFunction:function(a){if(a){var b=a[0],c=a[1];return a=-a[2]-1,h+"TileGroup"+((c+a*e[b][0]+g[b])/256|0)+"/"+b+"-"+c+"-"+a+".jpg"}}})}function pw(a,b,c,d,e){lu.call(this,a,b,c,d,e),this.l={}}function qw(a){a=a||{},this.a=void 0!==a.initialSize?a.initialSize:256,this.g=void 0!==a.maxSize?a.maxSize:void 0!==ma?ma:2048,this.b=void 0!==a.space?a.space:1,this.c=[new rw(this.a,this.b)],this.f=this.a,this.i=[new rw(this.f,this.b)]}function sw(a,b,c,d,e,f,g){var l,m,n,h=b?a.i:a.c;for(m=0,n=h.length;n>m;++m){if(l=h[m],l=l.add(c,d,e,f,g))return l;l||m!==n-1||(b?(l=Math.min(2*a.f,a.g),a.f=l):(l=Math.min(2*a.a,a.g),a.a=l),l=new rw(l,a.b),h.push(l),++n)}wa("Failed to add to atlasmanager")}function rw(a,b){this.b=b,this.a=[{x:0,y:0,width:a,height:a}],this.f={},this.g=Ue(a,a),this.c=this.g.canvas}function tw(a,b,c,d){b=[b,1],0<c.width&&0<c.height&&b.push(c),0<d.width&&0<d.height&&b.push(d),a.a.splice.apply(a.a,b)}function uw(a){this.A=this.s=this.f=null,this.o=void 0!==a.fill?a.fill:null,this.ya=[0,0],this.b=a.points,this.g=void 0!==a.radius?a.radius:a.radius1,this.c=void 0!==a.radius2?a.radius2:this.g,this.l=void 0!==a.angle?a.angle:0,this.a=void 0!==a.stroke?a.stroke:null,this.R=this.Ba=this.D=null;var g,b=a.atlasManager,c="",d="",e=0,f=null,h=0;this.a&&(g=Be(this.a.b),h=this.a.a,void 0===h&&(h=1),f=this.a.g,ng||(f=null),d=this.a.c,void 0===d&&(d="round"),c=this.a.f,void 0===c&&(c="round"),e=this.a.i,void 0===e&&(e=10));var l=2*(this.g+h)+1,c={strokeStyle:g,Ad:h,size:l,lineCap:c,lineDash:f,lineJoin:d,miterLimit:e};if(void 0===b){var m=Ue(l,l);this.s=m.canvas,b=l=this.s.width,this.Ih(c,m,0,0),this.o?this.A=this.s:(m=Ue(c.size,c.size),this.A=m.canvas,this.Hh(c,m,0,0))}else l=Math.round(l),(d=!this.o)&&(m=this.Hh.bind(this,c)),e=this.a?vj(this.a):"-",f=this.o?pj(this.o):"-",this.f&&e==this.f[1]&&f==this.f[2]&&this.g==this.f[3]&&this.c==this.f[4]&&this.l==this.f[5]&&this.b==this.f[6]||(this.f=["r"+e+f+(void 0!==this.g?this.g.toString():"-")+(void 0!==this.c?this.c.toString():"-")+(void 0!==this.l?this.l.toString():"-")+(void 0!==this.b?this.b.toString():"-"),e,f,this.g,this.c,this.l,this.b]),m=b.add(this.f[0],l,l,this.Ih.bind(this,c),m),this.s=m.image,this.ya=[m.offsetX,m.offsetY],b=m.image.width,this.A=d?m.Sg:this.s;this.D=[l/2,l/2],this.Ba=[l,l],this.R=[b,b],Ih.call(this,{opacity:1,rotateWithView:void 0!==a.rotateWithView?a.rotateWithView:!1,rotation:void 0!==a.rotation?a.rotation:0,scale:1,snapToPixel:void 0!==a.snapToPixel?a.snapToPixel:!0})}var k,ma,na,OPENLAYERS={},aa=this,ga="closure_uid_"+(1e9*Math.random()>>>0),ha=0,qa=Function("return this")();la(ra,Error),ra.prototype.name="CustomError";var ta=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};la(va,ra),va.prototype.name="AssertionError";var za=function(){var a;return a="cosh"in Math?Math.cosh:function(a){return a=Math.exp(a),(a+1/a)/2}}(),Ja="function"==typeof Object.assign?Object.assign:function(a,b){if(!a||!a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),d=1,e=arguments.length;e>d;++d){var f=arguments[d];if(void 0!==f&&null!==f)for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}return c},Na="olm_"+(1e4*Math.random()|0);$a.prototype.Fb=!1,$a.prototype.ja=pa,bb.prototype.preventDefault=bb.prototype.stopPropagation=function(){this.to=!0},y(eb,$a),eb.prototype.addEventListener=function(a,b){var c=this.ya[a];c||(c=this.ya[a]=[]),-1===c.indexOf(b)&&c.push(b)},eb.prototype.b=function(a){var b="string"==typeof a?new bb(a):a;a=b.type,b.target=this;var d,c=this.ya[a];if(c){a in this.Ba||(this.Ba[a]=0,this.Ra[a]=0),++this.Ba[a];for(var e=0,f=c.length;f>e;++e)if(!1===c[e].call(this,b)||b.to){d=!1;break}if(--this.Ba[a],0===this.Ba[a]){for(b=this.Ra[a],delete this.Ra[a];b--;)this.removeEventListener(a,pa);delete this.Ba[a]}return d}},eb.prototype.ja=function(){Za(this)},eb.prototype.removeEventListener=function(a,b){var c=this.ya[a];if(c){var d=c.indexOf(b);a in this.Ra?(c[d]=pa,++this.Ra[a]):(c.splice(d,1),0===c.length&&delete this.ya[a])}},y(gb,eb),k=gb.prototype,k.u=function(){++this.g,this.b("change")},k.K=function(){return this.g},k.I=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;d>f;++f)e[f]=B(this,a[f],b,c);return e}return B(this,a,b,c)},k.L=function(a,b,c){if(Array.isArray(a)){for(var d=a.length,e=Array(d),f=0;d>f;++f)e[f]=Ua(this,a[f],b,c);return e}return Ua(this,a,b,c)},k.J=function(a,b,c){if(Array.isArray(a))for(var d=0,e=a.length;e>d;++d)Xa(this,a[d],b,c);else Xa(this,a,b,c)},k.M=hb,y(ib,bb),y(jb,gb);var kb={};k=jb.prototype,k.get=function(a){var b;return this.U.hasOwnProperty(a)&&(b=this.U[a]),b},k.N=function(){return Object.keys(this.U)},k.O=function(){return Ja({},this.U)},k.set=function(a,b,c){c?this.U[a]=b:(c=this.U[a],this.U[a]=b,c!==b&&mb(this,a,c))},k.G=function(a,b){for(var c in a)this.set(c,a[c],b)},k.P=function(a,b){if(a in this.U){var c=this.U[a];delete this.U[a],b||mb(this,a,c)}},xc.prototype.a=function(a){for(var b=0,c=a.length,d=a[c-1][0],e=a[c-1][1],f=0;c>f;f++)var g=a[f][0],h=a[f][1],b=b+Da(g-d)*(2+Math.sin(Da(e))+Math.sin(Da(h))),d=g,e=h;return b*this.radius*this.radius/2},xc.prototype.b=function(a,b){var c=Da(a[1]),d=Da(b[1]),e=(d-c)/2,f=Da(b[0]-a[0])/2,c=Math.sin(e)*Math.sin(e)+Math.sin(f)*Math.sin(f)*Math.cos(c)*Math.cos(d);return 2*this.radius*Math.atan2(Math.sqrt(c),Math.sqrt(1-c))},xc.prototype.offset=function(a,b,c){var d=Da(a[1]);b/=this.radius;var e=Math.asin(Math.sin(d)*Math.cos(b)+Math.cos(d)*Math.sin(b)*Math.cos(c));return[180*(Da(a[0])+Math.atan2(Math.sin(c)*Math.sin(b)*Math.cos(d),Math.cos(b)-Math.sin(d)*Math.sin(e)))/Math.PI,180*e/Math.PI]};var yc=new xc(6370997),zc={};zc.degrees=2*Math.PI*yc.radius/360,zc.ft=.3048,zc.m=1,zc["us-ft"]=1200/3937,k=Ac.prototype,k.Sj=function(){return this.cb},k.H=function(){return this.f},k.vb=function(){return this.c},k.Zb=function(){return this.j||zc[this.c]},k.Ek=function(){return this.i},k.pl=function(){return this.g},k.ep=function(a){this.g=a,this.a=!(!a||!this.f)},k.Mm=function(a){this.f=a,this.a=!(!this.g||!a)},k.mp=function(a){this.i=a},k.cp=function(a){this.o=a},k.sk=function(a,b){if("degrees"==this.vb())return a;var c=Gc(this,Dc("EPSG:4326")),d=[b[0]-a/2,b[1],b[0]+a/2,b[1],b[0],b[1]-a/2,b[0],b[1]+a/2],d=c(d,d,2),c=yc.b(d.slice(0,2),d.slice(2,4)),d=yc.b(d.slice(4,6),d.slice(6,8)),d=(c+d)/2,c=this.Zb();return void 0!==c&&(d/=c),d},k.getPointResolution=function(a,b){return this.o(a,b)};var Bc={},Hc={},Cc=null;if(y(Yc,jb),k=Yc.prototype,k.ub=function(a,b){var c=b?b:[NaN,NaN];return this.rb(a[0],a[1],c,1/0),c},k.sg=function(a){return this.Ac(a[0],a[1])},k.Ac=wc,k.H=function(a){this.A!=this.g&&(this.v=this.Nd(this.v),this.A=this.g);var b=this.v;return a?(a[0]=b[0],a[1]=b[1],a[2]=b[2],a[3]=b[3]):a=b,a},k.Ab=function(a){return this.md(a*a)},k.ib=function(a,b){return this.qc(Uc(a,b)),this},Zc.prototype.BYTES_PER_ELEMENT=4,Zc.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]},Zc.prototype.toString=Array.prototype.join,"undefined"==typeof Float32Array&&(Zc.BYTES_PER_ELEMENT=4,Zc.prototype.BYTES_PER_ELEMENT=Zc.prototype.BYTES_PER_ELEMENT,Zc.prototype.set=Zc.prototype.set,Zc.prototype.toString=Zc.prototype.toString,t("Float32Array",Zc,void 0)),$c.prototype.BYTES_PER_ELEMENT=8,$c.prototype.set=function(a,b){b=b||0;for(var c=0;c<a.length&&b+c<this.length;c++)this[b+c]=a[c]},$c.prototype.toString=Array.prototype.join,"undefined"==typeof Float64Array){try{$c.BYTES_PER_ELEMENT=8}catch(a){}$c.prototype.BYTES_PER_ELEMENT=$c.prototype.BYTES_PER_ELEMENT,$c.prototype.set=$c.prototype.set,$c.prototype.toString=$c.prototype.toString,t("Float64Array",$c,void 0)}new Float64Array(3),new Float64Array(3),new Float64Array(4),new Float64Array(4),new Float64Array(4),new Float64Array(16),y(md,Yc),k=md.prototype,k.Ac=wc,k.Nd=function(a){return cc(this.B,0,this.B.length,this.a,a)},k.Hb=function(){return this.B.slice(0,this.a)},k.ka=function(){return this.B},k.Ib=function(){return this.B.slice(this.B.length-this.a)},k.Jb=function(){return this.f},k.md=function(a){if(this.s!=this.g&&(Ka(this.l),this.o=0,this.s=this.g),0>a||0!==this.o&&a<=this.o)return this;var b=a.toString();if(this.l.hasOwnProperty(b))return this.l[b];var c=this.Mc(a);return c.ka().length<this.B.length?this.l[b]=c:(this.o=a,this)},k.Mc=function(){return this},k.va=function(){return this.a},k.qc=function(a){this.B&&(a(this.B,this.B,this.a),this.u())},k.rotate=function(a,b){var c=this.ka();if(c){for(var d=c.length,e=this.va(),f=c?c:[],g=Math.cos(a),h=Math.sin(a),l=b[0],m=b[1],n=0,p=0;d>p;p+=e){var q=c[p]-l,r=c[p+1]-m;for(f[n++]=l+q*g-r*h,f[n++]=m+q*h+r*g,q=p+2;p+e>q;++q)f[n++]=c[q]}c&&f.length!=n&&(f.length=n),this.u()}},k.Rc=function(a,b){var c=this.ka();if(c){var h,l,d=c.length,e=this.va(),f=c?c:[],g=0;for(h=0;d>h;h+=e)for(f[g++]=c[h]+a,f[g++]=c[h+1]+b,l=h+2;h+e>l;++l)f[g++]=c[l];c&&f.length!=g&&(f.length=g),this.u()}},y(Ed,md),k=Ed.prototype,k.clone=function(){var a=new Ed(null);return Fd(a,this.f,this.B.slice()),a},k.rb=function(a,b,c,d){return d<Wb(this.H(),a,b)?d:(this.i!=this.g&&(this.j=Math.sqrt(td(this.B,0,this.B.length,this.a,0)),this.i=this.g),vd(this.B,0,this.B.length,this.a,this.j,!0,a,b,c,d))},k.nm=function(){return qd(this.B,0,this.B.length,this.a)},k.Z=function(){return Ad(this.B,0,this.B.length,this.a)},k.Mc=function(a){var b=[];return b.length=Cd(this.B,0,this.B.length,this.a,a,b,0),a=new Ed(null),Fd(a,"XY",b),a},k.X=function(){return"LinearRing"},k.pa=function(a,b){a?(pd(this,b,a,1),this.B||(this.B=[]),this.B.length=yd(this.B,0,a,this.a),this.u()):Fd(this,"XY",null)},y(C,md),k=C.prototype,k.clone=function(){var a=new C(null);return a.ba(this.f,this.B.slice()),a},k.rb=function(a,b,c,d){var e=this.B;if(a=Ca(a,b,e[0],e[1]),d>a){for(d=this.a,b=0;d>b;++b)c[b]=e[b];return c.length=d,a}return d},k.Z=function(){return this.B?this.B.slice():[]},k.Nd=function(a){return bc(this.B,a)},k.X=function(){return"Point"},k.Ka=function(a){return Yb(a,this.B[0],this.B[1])},k.pa=function(a,b){a?(pd(this,b,a,0),this.B||(this.B=[]),this.B.length=xd(this.B,a),this.u()):this.ba("XY",null)},k.ba=function(a,b){od(this,a,b),this.u()},y(E,md),k=E.prototype,k.yj=function(a){this.B?rb(this.B,a.ka()):this.B=a.ka().slice(),this.i.push(this.B.length),this.u()},k.clone=function(){var a=new E(null);return a.ba(this.f,this.B.slice(),this.i.slice()),a},k.rb=function(a,b,c,d){return d<Wb(this.H(),a,b)?d:(this.R!=this.g&&(this.S=Math.sqrt(ud(this.B,0,this.i,this.a,0)),this.R=this.g),wd(this.B,0,this.i,this.a,this.S,!0,a,b,c,d))},k.Ac=function(a,b){return Id(this.Lb(),0,this.i,this.a,a,b)},k.qm=function(){return rd(this.Lb(),0,this.i,this.a)},k.Z=function(a){var b;return void 0!==a?(b=this.Lb().slice(),Pd(b,0,this.i,this.a,a)):b=this.B,Bd(b,0,this.i,this.a)},k.Cb=function(){return this.i},k.bk=function(){return new C(Rd(this))},k.gk=function(){return this.i.length},k.Hg=function(a){if(0>a||this.i.length<=a)return null;var b=new Ed(null);return Fd(b,this.f,this.B.slice(0===a?0:this.i[a-1],this.i[a])),b},k.Ud=function(){var f,g,a=this.f,b=this.B,c=this.i,d=[],e=0;for(f=0,g=c.length;g>f;++f){var h=c[f],l=new Ed(null);Fd(l,a,b.slice(e,h)),d.push(l),e=h}return d},k.Lb=function(){if(this.T!=this.g){var a=this.B;Od(a,this.i,this.a)?this.j=a:(this.j=a.slice(),this.j.length=Pd(this.j,0,this.i,this.a)),this.T=this.g}return this.j},k.Mc=function(a){var b=[],c=[];return b.length=Dd(this.B,0,this.i,this.a,Math.sqrt(a),b,0,c),a=new E(null),a.ba("XY",b,c),a},k.X=function(){return"Polygon"},k.Ka=function(a){return Md(this.Lb(),0,this.i,this.a,a)},k.pa=function(a,b){if(a){pd(this,b,a,2),this.B||(this.B=[]);var c=zd(this.B,0,a,this.a,this.i);this.B.length=0===c.length?0:c[c.length-1],this.u()}else this.ba("XY",null,this.i)},k.ba=function(a,b,c){od(this,a,b),this.i=c,this.u()},y(Wd,jb),k=Wd.prototype,k.Od=function(a){return this.o.center(a)},k.constrainResolution=function(a,b,c){return this.o.resolution(a,b||0,c||0)},k.constrainRotation=function(a,b){return this.o.rotation(a,b||0)},k.ab=function(){return this.get("center")},k.Jc=function(a){var b=this.ab(),c=this.$(),d=this.La();return qc(b,c,d,a)},k.Vl=function(){return this.a},k.Wl=function(){return this.c},k.Xl=function(){return this.l},k.$=function(){return this.get("resolution")},k.Yl=function(){return this.j},k.La=function(){return this.get("rotation")},k.V=function(){var a=this.ab(),b=this.l,c=this.$(),d=this.La();return{center:[Math.round(a[0]/c)*c,Math.round(a[1]/c)*c],projection:void 0!==b?b:null,resolution:c,rotation:d}},k.Fk=function(){var a,b=this.$();if(void 0!==b){var c,d=0;do{if(c=this.constrainResolution(this.a,d),c==b){a=d;break}++d}while(c>this.c)}return void 0!==a?this.i+a:a},k.bf=function(a,b,c){a instanceof md||(a=Td(a));var d=c||{};c=void 0!==d.padding?d.padding:[0,0,0,0];var g,e=void 0!==d.constrainResolution?d.constrainResolution:!0,f=void 0!==d.nearest?d.nearest:!1;g=void 0!==d.minResolution?d.minResolution:void 0!==d.maxZoom?this.constrainResolution(this.a,d.maxZoom-this.i,0):0;var h=a.ka(),l=this.La(),d=Math.cos(-l),l=Math.sin(-l),m=1/0,n=1/0,p=-(1/0),q=-(1/0);a=a.va();for(var r=0,u=h.length;u>r;r+=a)var x=h[r]*d-h[r+1]*l,v=h[r]*l+h[r+1]*d,m=Math.min(m,x),n=Math.min(n,v),p=Math.max(p,x),q=Math.max(q,v);b=Zd([m,n,p,q],[b[0]-c[1]-c[3],b[1]-c[0]-c[2]]),b=isNaN(b)?g:Math.max(b,g),e&&(g=this.constrainResolution(b,0,0),!f&&b>g&&(g=this.constrainResolution(g,-1,0)),b=g),this.Tb(b),l=-l,f=(m+p)/2+(c[1]-c[3])/2*b,c=(n+q)/2+(c[0]-c[2])/2*b,this.lb([f*d-c*l,c*d+f*l])},k.Ej=function(a,b,c){var d=this.La(),e=Math.cos(-d),d=Math.sin(-d),f=a[0]*e-a[1]*d;a=a[1]*e+a[0]*d;var g=this.$(),f=f+(b[0]/2-c[0])*g;a+=(c[1]-b[1]/2)*g,d=-d,this.lb([f*e-a*d,a*e+f*d])},k.rotate=function(a,b){if(void 0!==b){var c,d=this.ab();void 0!==d&&(c=[d[0]-b[0],d[1]-b[1]],Lb(c,a-this.La()),Gb(c,b)),this.lb(c)}this.he(a)},k.lb=function(a){this.set("center",a)},k.Tb=function(a){this.set("resolution",a)},k.he=function(a){this.set("rotation",a)},k.np=function(a){a=this.constrainResolution(this.a,a-this.i,0),this.Tb(a)},le.prototype.contains=function(a){return me(this,a[1],a[2])},pe.prototype.g=function(){return this.a},y(qe,bb),y(re,jb),k=re.prototype,k.clear=function(){for(;0<this.cc();)this.pop()},k.pf=function(a){var b,c;for(b=0,c=a.length;c>b;++b)this.push(a[b]);return this},k.forEach=function(a,b){this.a.forEach(a,b)},k.Gl=function(){return this.a},k.item=function(a){return this.a[a]},k.cc=function(){return this.get("length")},k.de=function(a,b){this.a.splice(a,0,b),se(this),this.b(new qe("add",b,this))},k.pop=function(){return this.Qf(this.cc()-1)},k.push=function(a){var b=this.a.length;return this.de(b,a),b},k.remove=function(a){var c,d,b=this.a;for(c=0,d=b.length;d>c;++c)if(b[c]===a)return this.Qf(c)},k.Qf=function(a){var b=this.a[a];return this.a.splice(a,1),se(this),this.b(new qe("remove",b,this)),b},k.Zo=function(a,b){var c=this.cc();if(c>a)c=this.a[a],this.a[a]=b,this.b(new qe("remove",c,this)),this.b(new qe("add",b,this));else{for(;a>c;++c)this.de(c,void 0);this.de(a,b)}};var Fe,we=/^#(?:[0-9a-f]{3}){1,2}$/i,xe=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,ye=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,Ae=function(){var a={},b=0;return function(c){var d;if(a.hasOwnProperty(c))d=a[c];else{if(b>=1024){d=0;for(var e in a)0===(3&d++)&&(delete a[e],--b)}var f,g;we.exec(c)?(g=3==c.length-1?1:2,d=parseInt(c.substr(1+0*g,g),16),e=parseInt(c.substr(1+1*g,g),16),f=parseInt(c.substr(1+2*g,g),16),1==g&&(d=(d<<4)+d,e=(e<<4)+e,f=(f<<4)+f),d=[d,e,f,1]):(g=ye.exec(c))?(d=Number(g[1]),e=Number(g[2]),f=Number(g[3]),g=Number(g[4]),d=[d,e,f,g],d=Ce(d,d)):(g=xe.exec(c))?(d=Number(g[1]),e=Number(g[2]),f=Number(g[3]),d=[d,e,f,1],d=Ce(d,d)):(wa(c+" is not a valid color"),d=void 0),a[c]=d,++b}return d}}();a:{var Ge=aa.navigator;if(Ge){var He=Ge.userAgent;if(He){Fe=He;break a}}Fe=""}var Oe,Je=Ie("Opera"),Ke=Ie("Trident")||Ie("MSIE"),Le=Ie("Edge"),Me=Ie("Gecko")&&!(-1!=Fe.toLowerCase().indexOf("webkit")&&!Ie("Edge"))&&!(Ie("Trident")||Ie("MSIE"))&&!Ie("Edge"),Ne=-1!=Fe.toLowerCase().indexOf("webkit")&&!Ie("Edge");a:{var Pe="",Qe=function(){var a=Fe;return Me?/rv\:([^\);]+)(\)|;)/.exec(a):Le?/Edge\/([\d\.]+)/.exec(a):Ke?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(a):Ne?/WebKit\/(\S+)/.exec(a):Je?/(?:Version)[ \/]?(\S+)/.exec(a):void 0}();if(Qe&&(Pe=Qe?Qe[1]:""),Ke){var Re,Se=aa.document;if(Re=Se?Se.documentMode:void 0,null!=Re&&Re>parseFloat(Pe)){Oe=String(Re);break a}}Oe=Pe}var Te={},Ve=function(){var a;return function(){if(void 0===a){var c,b=document.createElement("P"),d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate(1px,1px)",c=qa.getComputedStyle(b).getPropertyValue(d[e]));document.body.removeChild(b),a=c&&"none"!==c}return a}}(),We=function(){var a;return function(){if(void 0===a){var c,b=document.createElement("P"),d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.appendChild(b);for(var e in d)e in b.style&&(b.style[e]="translate3d(1px,1px,1px)",c=qa.getComputedStyle(b).getPropertyValue(d[e]));document.body.removeChild(b),a=c&&"none"!==c}return a}}();y(bf,bb),y(cf,jb),cf.prototype.ja=function(){$e(this.element),jb.prototype.ja.call(this)},cf.prototype.i=function(){return this.a},cf.prototype.setMap=function(a){this.a&&$e(this.element);for(var b=0,c=this.s.length;c>b;++b)Pa(this.s[b]);this.s.length=0,(this.a=a)&&((this.S?this.S:a.v).appendChild(this.element),this.render!==pa&&this.s.push(B(a,"postrender",this.render,this)),a.render())},cf.prototype.c=function(a){this.S="string"==typeof a?document.getElementById(a):a},k=df.prototype,k.clear=function(){this.g=0,this.f={},this.a=this.b=null},k.forEach=function(a,b){for(var c=this.b;c;)a.call(b,c.oc,c.bc,this),c=c.xb},k.get=function(a){return a=this.f[a],a===this.a?a.oc:(a===this.b?(this.b=this.b.xb,this.b.jc=null):(a.xb.jc=a.jc,a.jc.xb=a.xb),a.xb=null,a.jc=this.a,this.a=this.a.xb=a,a.oc)},k.vc=function(){return this.g},k.N=function(){var c,a=Array(this.g),b=0;for(c=this.a;c;c=c.jc)a[b++]=c.bc;return a},k.yc=function(){var c,a=Array(this.g),b=0;for(c=this.a;c;c=c.jc)a[b++]=c.oc;return a},k.pop=function(){var a=this.b;return delete this.f[a.bc],a.xb&&(a.xb.jc=null),this.b=a.xb,this.b||(this.a=null),--this.g,a.oc},k.replace=function(a,b){this.get(a),this.f[a].oc=b},k.set=function(a,b){var c={bc:a,xb:null,jc:this.a,oc:b};this.a?this.a.xb=c:this.b=c,this.a=c,this.f[a]=c,++this.g},y(hf,df),hf.prototype.Kc=function(a){for(var b,c;jf(this)&&(b=this.b.oc,c=b.ma[0].toString(),!(c in a&&a[c].contains(b.ma)));)ab(this.pop())},y(kf,eb),kf.prototype.getKey=function(){return w(this).toString()},kf.prototype.i=function(){return this.ma},kf.prototype.V=function(){return this.state},y(pf,jb),k=pf.prototype,k.ra=pa,k.wa=function(){return this.l},k.ua=function(){return this.R},k.xa=function(){return this.f},k.V=function(){return this.za},k.sa=function(){this.u()},k.oa=function(a){this.l=qf(a),this.u()};var uf=[0,0,0];k=sf.prototype,k.yg=function(a,b,c){a=vf(this,a,b);for(var d=a.ca,e=a.ea;e>=d;++d)for(var f=a.fa,g=a.ga;g>=f;++f)c([b,d,f])},k.H=function(){return this.s},k.Ig=function(){return this.maxZoom},k.Jg=function(){return this.minZoom},k.Ia=function(a){return this.g?this.g:this.c[a]},k.$=function(a){return this.b[a]},k.Kh=function(){return this.b},k.Ea=function(a,b){var c=this.Ia(a[0]),d=this.$(a[0]),e=of(this.Ja(a[0]),this.f),f=c[0]+a[1]*e[0]*d,c=c[1]+a[2]*e[1]*d;return ac(f,c,f+e[0]*d,c+e[1]*d,b)},k.Yd=function(a,b,c){return zf(this,a[0],a[1],b,!1,c)},k.pd=function(a,b,c){return b=this.$(b),zf(this,a[0],a[1],b,!1,c)},k.Ja=function(a){return this.o?this.o:this.i[a]},k.Kb=function(a,b){var c=pb(this.b,a,b||0);return xa(c,this.minZoom,this.maxZoom)},y(Ff,pf),k=Ff.prototype,k.Ah=function(){return jf(this.a)},k.Kc=function(a,b){var c=this.od(a);c&&c.Kc(b)},k.Td=function(){return 0},k.getKey=function(){return this.bc},k.Db=function(a,b,c){return a+"/"+b+"/"+c},k.hf=function(){return this.la},k.Na=function(){return this.tileGrid},k.eb=function(a){return this.tileGrid?this.tileGrid:Bf(a)},k.od=function(a){var b=this.f;return b&&!Tc(b,a)?null:this.a},k.ac=function(){return this.ta},k.Zd=function(a,b,c){return c=this.eb(c),b=this.ac(b),a=of(c.Ja(a),this.o),1==b?a:nf(a,b,this.o)},k.sa=function(){this.a.clear(),this.u()},k.Yf=pa,y(Jf,bb),y(Kf,cf),k=Kf.prototype,k.am=function(a){a.preventDefault(),Mf(this)},k.$l=function(){return this.o},k.cm=function(a){this.o!==a&&(this.o=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.f&&Mf(this))},k.bm=function(a){this.o&&this.f!==a&&Mf(this)},k.Zl=function(){return this.f},y(Nf,cf),Nf.prototype.A=function(a){if(a.preventDefault(),void 0!==this.o)this.o();else{a=this.a;var b=a.aa();if(b){var c=b.La();void 0!==c&&(0<this.j&&(c%=2*Math.PI,c<-Math.PI&&(c+=2*Math.PI),c>Math.PI&&(c-=2*Math.PI),a.Wa(je({rotation:c,duration:this.j,easing:ee}))),b.he(0))}}},y(Pf,cf),Pf.prototype.l=function(a,b){b.preventDefault();var c=this.a,d=c.aa();if(d){var e=d.$();e&&(0<this.f&&c.Wa(ke({resolution:e,duration:this.f,easing:ee})),c=d.constrainResolution(e,a),d.Tb(c))}},y(Rf,cf),Rf.prototype.C=function(a){a.preventDefault(),Tf()&&(a=this.a)&&(Sf()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(a=this.l?"string"==typeof this.l?document.getElementById(this.l):this.l:a.xc(),this.A?a.mozRequestFullScreenWithKeys?a.mozRequestFullScreenWithKeys():a.webkitRequestFullscreen?a.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT):Uf(a):Uf(a)))},Rf.prototype.v=function(){var a=this.element.firstElementChild,b=this.a;Sf()?(a.className=this.f+"-true",Ze(this.j,this.o)):(a.className=this.f+"-false",Ze(this.o,this.j)),b&&b.Wc()},Rf.prototype.setMap=function(a){cf.prototype.setMap.call(this,a),a&&this.s.push(B(qa.document,Vf(),this.v,this))};var Vf=function(){var a;return function(){if(!a){var b=document.body;b.webkitRequestFullscreen?a="webkitfullscreenchange":b.mozRequestFullScreen?a="mozfullscreenchange":b.msRequestFullscreen?a="MSFullscreenChange":b.requestFullscreen&&(a="fullscreenchange")}return a}}();y(Wf,cf),k=Wf.prototype,k.dm=function(){this.l=null},k.Cg=function(){return this.get("coordinateFormat")},k.hh=function(){return this.get("projection")},k.Xk=function(a){this.o=this.a.Sd(a),Yf(this,this.o)},k.Yk=function(){Yf(this,null),this.o=null},k.setMap=function(a){cf.prototype.setMap.call(this,a),a&&(a=a.a,this.s.push(B(a,"mousemove",this.Xk,this),B(a,"mouseout",this.Yk,this)))},k.ei=function(a){this.set("coordinateFormat",a)},k.ih=function(a){this.set("projection",a)};var $f;y(bg,bb);var eg=!1;try{eg=1===new MouseEvent("click",{buttons:1}).buttons}catch(a){}var hg,vg,fg=["experimental-webgl","webgl","webkit-3d","moz-webgl"],ig="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",jg=-1!==ig.indexOf("firefox"),kg=-1!==ig.indexOf("safari")&&-1===ig.indexOf("chrom"),lg=-1!==ig.indexOf("macintosh"),mg=qa.devicePixelRatio||1,ng=!1,og=function(){if(!("HTMLCanvasElement"in qa))return!1;try{var a=Ue();return a?(a.setLineDash&&(ng=!0),!0):!1}catch(b){return!1}}(),pg="DeviceOrientationEvent"in qa,qg="geolocation"in qa.navigator,rg="ontouchstart"in qa,sg="PointerEvent"in qa,tg=!!qa.navigator.msPointerEnabled,ug=!1,wg=[];if("WebGLRenderingContext"in qa)try{var xg=gg(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});xg&&(ug=!0,vg=xg.getParameter(xg.MAX_TEXTURE_SIZE),wg=xg.getSupportedExtensions())}catch(a){}hg=ug,na=wg,ma=vg,y(zg,yg),k=zg.prototype,k.rl=function(a){if(!Ag(this,a)){if(1..toString()in this.a){var b=Bg(a);Dg(this.b,Eg,b,a),delete this.a[1..toString()]}b=Bg(a),this.a[1..toString()]=a,Dg(this.b,Fg,b,a)}},k.sl=function(a){if(!Ag(this,a)){var b=Bg(a);Dg(this.b,Gg,b,a)}},k.vl=function(a){if(!Ag(this,a)){var b=this.a[1..toString()];b&&b.button===a.button&&(b=Bg(a),Dg(this.b,Hg,b,a),delete this.a[1..toString()])}},k.ul=function(a){if(!Ag(this,a)){var b=Bg(a);Ig(this.b,b,a)}},k.tl=function(a){if(!Ag(this,a)){var b=Bg(a);Jg(this.b,b,a)}},y(Kg,yg),k=Kg.prototype,k.Al=function(a){this.a[a.pointerId.toString()]=a;var b=Lg(this,a);Dg(this.b,Fg,b,a)},k.Bl=function(a){var b=Lg(this,a);Dg(this.b,Gg,b,a)},k.El=function(a){var b=Lg(this,a);Dg(this.b,Hg,b,a),delete this.a[a.pointerId.toString()]},k.Cl=function(a){var b=Lg(this,a);Jg(this.b,b,a)},k.Dl=function(a){var b=Lg(this,a);Ig(this.b,b,a)},k.zl=function(a){var b=Lg(this,a);Dg(this.b,Eg,b,a),delete this.a[a.pointerId.toString()]},k.yl=function(a){this.b.b(new bg("lostpointercapture",a,a))},k.xl=function(a){this.b.b(new bg("gotpointercapture",a,a))},y(Mg,yg),k=Mg.prototype,k.lo=function(a){Ng(this.b,a)},k.mo=function(a){Ng(this.b,a)},k.po=function(a){Ng(this.b,a)},k.no=function(a){Ng(this.b,a)},k.oo=function(a){Ng(this.b,a)},k.ko=function(a){Ng(this.b,a)},k.ql=function(a){Ng(this.b,a)},k.Gk=function(a){Ng(this.b,a)},y(Og,yg),k=Og.prototype,k.ci=function(){this.i=0,this.f=void 0},k.sp=function(a){var b=a.touches,c=Object.keys(this.a),d=c.length;if(d>=b.length){var f,g,h,e=[];for(f=0;d>f;++f){g=c[f],h=this.a[g];var l;if(!(l=1==g))a:{l=b.length;for(var m,n=0;l>n;n++)if(m=b[n],m.identifier===g-2){l=!0;break a}l=!1}l||e.push(h.out)}for(f=0;f<e.length;++f)this.Te(a,e[f])}b=a.changedTouches[0],c=Object.keys(this.a).length,(0===c||1===c&&1..toString()in this.a)&&(this.g=b.identifier,void 0!==this.f&&qa.clearTimeout(this.f)),Rg(this,a),this.i++,Qg(this,a,this.fo)},k.fo=function(a,b){this.a[b.pointerId]={target:b.target,out:b,Lh:b.target};var c=this.b;b.bubbles=!0,Dg(c,Sg,b,a),c=this.b,b.bubbles=!1,Dg(c,Tg,b,a),Dg(this.b,Fg,b,a)},k.rp=function(a){a.preventDefault(),Qg(this,a,this.wl)},k.wl=function(a,b){var c=this.a[b.pointerId];if(c){var d=c.out,e=c.Lh;Dg(this.b,Gg,b,a),d&&e!==b.target&&(d.relatedTarget=b.target,b.relatedTarget=e,d.target=e,b.target?(Jg(this.b,d,a),Ig(this.b,b,a)):(b.target=e,b.relatedTarget=null,this.Te(a,b))),c.out=b,c.Lh=b.target}},k.qp=function(a){Rg(this,a),Qg(this,a,this.tp)},k.tp=function(a,b){Dg(this.b,Hg,b,a),this.b.out(b,a);var c=this.b;b.bubbles=!1,Dg(c,Ug,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.g=void 0,this.f=qa.setTimeout(this.ci.bind(this),200))},k.pp=function(a){Qg(this,a,this.Te)},k.Te=function(a,b){Dg(this.b,Eg,b,a),this.b.out(b,a);var c=this.b;b.bubbles=!1,Dg(c,Ug,b,a),delete this.a[b.pointerId],b.isPrimary&&(this.g=void 0,this.f=qa.setTimeout(this.ci.bind(this),200))},y(Vg,eb),Vg.prototype.f=function(a){var b=this.c[a.type];b&&b(a)},Vg.prototype.out=function(a,b){a.bubbles=!0,Dg(this,$g,a,b)},Vg.prototype.ja=function(){for(var b,a=this.a.length,c=0;a>c;c++)b=this.a[c],Yg(this,Object.keys(b.c));eb.prototype.ja.call(this)};var Gg="pointermove",Fg="pointerdown",Hg="pointerup",Sg="pointerover",$g="pointerout",Tg="pointerenter",Ug="pointerleave",Eg="pointercancel",Zg=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];y(ah,bf),ah.prototype.preventDefault=function(){bf.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},ah.prototype.stopPropagation=function(){bf.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},y(bh,ah),y(ch,eb),k=ch.prototype,k.Qg=function(a){hh(this,a);var b=new bh(ih,this.f,a);this.b(b),!this.o&&0===a.button&&dh(this,this.g),0===this.U&&(this.c.forEach(Pa),this.c.length=0,this.o=!1,this.g=null,ab(this.a),this.a=null)},k.$k=function(a){hh(this,a);var b=new bh(kh,this.f,a);this.b(b),this.g=a,0===this.c.length&&(this.a=new Vg(document),this.c.push(B(this.a,lh,this.Sl,this),B(this.a,ih,this.Qg,this),B(this.i,jh,this.Qg,this)))},k.Sl=function(a){if(a.clientX!=this.g.clientX||a.clientY!=this.g.clientY){this.o=!0;var b=new bh(mh,this.f,a,this.o);this.b(b)}a.preventDefault()},k.No=function(a){this.b(new bh(a.type,this.f,a,!(!this.g||a.clientX==this.g.clientX&&a.clientY==this.g.clientY)))},k.ja=function(){this.s&&(Pa(this.s),this.s=null),this.j&&(Pa(this.j),this.j=null),this.c.forEach(Pa),this.c.length=0,this.a&&(ab(this.a),this.a=null),this.i&&(ab(this.i),this.i=null),eb.prototype.ja.call(this)};var gh="singleclick",eh="click",fh="dblclick",mh="pointerdrag",lh="pointermove",kh="pointerdown",ih="pointerup",jh="pointercancel",nh={Mp:gh,Bp:eh,Cp:fh,Fp:mh,Ip:lh,Ep:kh,Lp:ih,Kp:"pointerover",Jp:"pointerout",Gp:"pointerenter",Hp:"pointerleave",Dp:jh};y(oh,jb),k=oh.prototype,k.H=function(){return this.get("extent")},k.Mb=function(){return this.get("maxResolution")},k.Nb=function(){return this.get("minResolution")},k.Ob=function(){return this.get("opacity")},k.wb=function(){return this.get("visible")},k.Pb=function(){return this.get("zIndex")},k.ec=function(a){this.set("extent",a)},k.mc=function(a){this.set("maxResolution",a)},k.nc=function(a){this.set("minResolution",a)},k.fc=function(a){this.set("opacity",a)},k.gc=function(a){this.set("visible",a)},k.hc=function(a){this.set("zIndex",a)},y(rh,bb),y(sh,oh),k=sh.prototype,k.gf=function(a){return a=a?a:[],a.push(ph(this)),a},k.ha=function(){return this.get("source")||null},k.jf=function(){var a=this.ha();return a?a.V():"undefined"},k.Lm=function(){this.u()},k.fl=function(){this.v&&(Pa(this.v),this.v=null);var a=this.ha();a&&(this.v=B(a,"change",this.Lm,this)),this.u()},k.setMap=function(a){this.o&&(Pa(this.o),this.o=null),a||this.u(),this.j&&(Pa(this.j),this.j=null),a&&(this.o=B(a,"precompose",function(a){var c=ph(this);c.Pc=!1,c.zIndex=1/0,a.frameState.layerStatesArray.push(c),a.frameState.layerStates[w(this)]=c},this),this.j=B(this,"change",a.render,a),this.u())},k.Ec=function(a){this.set("source",a)},y(uh,eb),uh.prototype.H=function(){return this.extent},uh.prototype.$=function(){return this.resolution},uh.prototype.V=function(){return this.state},y(zh,gb),k=zh.prototype,k.ra=pa,k.Bc=function(a,b,c,d){return a=a.slice(),yh(b.pixelToCoordinateMatrix,a,a),this.ra(a,b,vc,this)?c.call(d,this.a):void 0},k.ke=wc,k.Pd=function(a,b,c){return function(d,e){return Gf(a,b,d,e,function(a){c[d]||(c[d]={}),c[d][a.ma.toString()]=a})}},k.Om=function(a){2===a.target.V()&&Ah(this)},k=Ih.prototype,k.pe=function(){return this.v},k.Wd=function(){return this.U},k.qe=function(){return this.j},k.re=function(){return this.i},k.Xd=function(){return this.C},k.se=function(a){this.v=a},k.te=function(a){this.j=a},k.ue=function(a){this.i=a},y(Jh,Ih),k=Jh.prototype,k.Xb=function(){if(this.f)return this.f;var a=this.c,b=this.Eb();if("fraction"==this.o||"fraction"==this.s){if(!b)return null;a=this.c.slice(),"fraction"==this.o&&(a[0]*=b[0]),"fraction"==this.s&&(a[1]*=b[1])}if("top-left"!=this.a){if(!b)return null;a===this.c&&(a=this.c.slice()),("top-right"==this.a||"bottom-right"==this.a)&&(a[0]=-a[0]+b[0]),("bottom-left"==this.a||"bottom-right"==this.a)&&(a[1]=-a[1]+b[1])}return this.f=a},k.ic=function(){var a=this.b;return a.c?a.c:a.a},k.kd=function(){return this.b.g},k.sd=function(){return this.b.f},k.oe=function(){var a=this.b;if(!a.o)if(a.s){var b=a.g[0],c=a.g[1],d=Ue(b,c);d.fillRect(0,0,b,c),a.o=d.canvas}else a.o=a.a;return a.o},k.Ia=function(){if(this.l)return this.l;var a=this.D;if("top-left"!=this.g){var b=this.Eb(),c=this.b.g;if(!b||!c)return null;a=a.slice(),("top-right"==this.g||"bottom-right"==this.g)&&(a[0]=c[0]-b[0]-a[0]),("bottom-left"==this.g||"bottom-right"==this.g)&&(a[1]=c[1]-b[1]-a[1])}return this.l=a},k.En=function(){return this.b.j},k.Eb=function(){return this.A?this.A:this.b.g},k.nf=function(a,b){return B(this.b,"change",a,b)},k.load=function(){this.b.load();
},k.Xf=function(a,b){Xa(this.b,"change",a,b)},y(Lh,eb),Lh.prototype.v=function(){this.f=3,this.i.forEach(Pa),this.i=null,this.b("change")},Lh.prototype.U=function(){if(this.f=2,this.g&&(this.a.width=this.g[0],this.a.height=this.g[1]),this.g=[this.a.width,this.a.height],this.i.forEach(Pa),this.i=null,Mh(this),!this.s&&null!==this.l){this.c.width=this.a.width,this.c.height=this.a.height;var a=this.c.getContext("2d");a.drawImage(this.a,0,0);for(var b=a.getImageData(0,0,this.a.width,this.a.height),c=b.data,d=this.l[0]/255,e=this.l[1]/255,f=this.l[2]/255,g=0,h=c.length;h>g;g+=4)c[g]*=d,c[g+1]*=e,c[g+2]*=f;a.putImageData(b,0,0)}this.b("change")},Lh.prototype.load=function(){if(0==this.f){this.f=1,this.i=[Ua(this.a,"error",this.v,this),Ua(this.a,"load",this.U,this)];try{this.a.src=this.j}catch(a){this.v()}}},ba(Kh),Kh.prototype.clear=function(){this.b={},this.a=0},Kh.prototype.get=function(a,b,c){return a=b+":"+a+":"+(c?Be(c):"null"),a in this.b?this.b[a]:null},Kh.prototype.set=function(a,b,c,d){this.b[b+":"+a+":"+(c?Be(c):"null")]=d,++this.a},y(Nh,$a),k=Nh.prototype,k.ja=function(){for(var a in this.g)ab(this.g[a])},k.ra=function(a,b,c,d,e,f){function g(a,e){var f=w(a).toString(),g=b.layerStates[w(e)].Pc;return f in b.skippedFeatureUids&&!g?void 0:c.call(d,a,g?e:null)}var h,l=b.viewState,m=l.resolution,n=l.projection,l=a;if(n.a){var n=n.H(),p=nc(n),q=a[0];(q<n[0]||q>n[2])&&(l=[q+p*Math.ceil((n[0]-q)/p),a[1]])}for(n=b.layerStatesArray,p=n.length-1;p>=0;--p){var r=n[p],q=r.layer;if(th(r,m)&&e.call(f,q)&&(r=Qh(this,q),q.ha()&&(h=r.ra(q.ha().D?l:a,b,g,d)),h))return h}},k.rh=function(a,b,c,d,e,f){var g,m,h=b.viewState.resolution,l=b.layerStatesArray;for(m=l.length-1;m>=0;--m){g=l[m];var n=g.layer;if(th(g,h)&&e.call(f,n)&&(g=Qh(this,n).Bc(a,b,c,d)))return g}},k.sh=function(a,b,c,d){return void 0!==this.ra(a,b,vc,this,c,d)},k.Rk=function(){this.i.render()},k.Be=pa,k.To=function(a,b){for(var c in this.g)if(!(b&&c in b.layerStates)){var d=c,e=this.g[d];delete this.g[d],Pa(this.s[d]),delete this.s[d],ab(e)}},Sh.prototype.clear=function(){this.b.length=0,this.a.length=0,Ka(this.g)},Sh.prototype.f=function(a){var b=this.j(a);return 1/0!=b?(this.b.push(a),this.a.push(b),this.g[this.l(a)]=!0,Vh(this,0,this.b.length-1),!0):!1},Sh.prototype.vc=function(){return this.b.length},Sh.prototype.Ya=function(){return 0===this.b.length},y(Xh,Sh),Xh.prototype.f=function(a){var b=Sh.prototype.f.call(this,a);return b&&B(a[0],"change",this.o,this),b},Xh.prototype.o=function(a){a=a.target;var b=a.V();(2===b||3===b||4===b||5===b)&&(Xa(a,"change",this.o,this),a=a.getKey(),a in this.c&&(delete this.c[a],--this.i),this.s())},y(ai,jb),ai.prototype.f=function(){return this.get("active")},ai.prototype.l=function(){return this.v},ai.prototype.i=function(a){this.set("active",a)},ai.prototype.setMap=function(a){this.v=a},y(ei,ai),y(pi,ai),pi.prototype.Fc=function(a){return a},y(si,pi),si.prototype.Fc=wc,y(wi,pi),wi.prototype.Fc=wc,y(Ai,$a),Ai.prototype.ja=function(){this.setMap(null)},Ai.prototype.setMap=function(a){if(this.b){this.b.A.removeChild(this.a);var b=this.a.style;b.left=b.top=b.width=b.height="inherit"}(this.b=a)&&this.b.A.appendChild(this.a)},Ai.prototype.W=function(){return this.f},y(Di,bb),y(Ei,pi),Ei.prototype.W=function(){return this.a.W()},Ei.prototype.s=pa,y(Ji,Ei),Ji.prototype.s=function(){var a=this.v,b=a.aa(),c=a.Za(),d=this.W().H();if(this.R){var g,h,e=b.Jc(c),d=[a.Ga(hc(d)),a.Ga(jc(d))],f=ac(1/0,1/0,-(1/0),-(1/0),void 0);for(g=0,h=d.length;h>g;++g)Tb(f,d[g]);tc(e,1/Zd(f,c)),d=e}c=b.constrainResolution(Zd(d,c)),e=b.$(),f=b.ab(),a.Wa(ke({resolution:e,duration:this.j,easing:ee})),a.Wa(ie({source:f,duration:this.j,easing:ee})),b.lb(pc(d)),b.Tb(c)},y(Ki,ai),y(Mi,ai),y(Oi,ai),Oi.prototype.A=function(a){var b=xa(this.c,-1,1),c=a.aa();a.render(),ci(a,c,-b,this.a,this.C),this.c=0,this.a=null,this.j=this.o=void 0},Oi.prototype.D=function(a){this.s=a,a||(this.a=null)},y(Qi,pi),Qi.prototype.Fc=wc,y(Ui,pi),Ui.prototype.Fc=wc,y(Zi,oh),k=Zi.prototype,k.be=function(){this.wb()&&this.u()},k.Tk=function(){this.f.forEach(Pa),this.f.length=0;var a=this.Sc();this.f.push(B(a,"add",this.Sk,this),B(a,"remove",this.Uk,this));for(var b in this.a)this.a[b].forEach(Pa);Ka(this.a);var c,d,a=a.a;for(b=0,c=a.length;c>b;b++)d=a[b],this.a[w(d).toString()]=[B(d,"propertychange",this.be,this),B(d,"change",this.be,this)];this.u()},k.Sk=function(a){a=a.element;var b=w(a).toString();this.a[b]=[B(a,"propertychange",this.be,this),B(a,"change",this.be,this)],this.u()},k.Uk=function(a){a=w(a.element).toString(),this.a[a].forEach(Pa),delete this.a[a],this.u()},k.Sc=function(){return this.get("layers")},k.oh=function(a){this.set("layers",a)},k.gf=function(a){var b=void 0!==a?a:[],c=b.length;this.Sc().forEach(function(a){a.gf(b)}),a=ph(this);var d,e;for(d=b.length;d>c;c++)e=b[c],e.opacity*=a.opacity,e.visible=e.visible&&a.visible,e.maxResolution=Math.min(e.maxResolution,a.maxResolution),e.minResolution=Math.max(e.minResolution,a.minResolution),void 0!==a.extent&&(e.extent=void 0!==e.extent?rc(e.extent,a.extent):a.extent);return b},k.jf=function(){return"ready"},y($i,Ac),$i.prototype.getPointResolution=function(a,b){return a/za(b[1]/6378137)};var cj=6378137*Math.PI,aj=[-cj,-cj,cj,cj],bj=[-180,-85,180,85],Mc="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(a){return new $i(a)}),dj=new xc(6378137);y(ej,Ac),ej.prototype.getPointResolution=function(a){return a};var fj=[-180,-90,180,90],gj=Math.PI*dj.radius/180,Pc=[new ej("CRS:84"),new ej("EPSG:4326","neu"),new ej("urn:ogc:def:crs:EPSG::4326","neu"),new ej("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new ej("urn:ogc:def:crs:OGC:1.3:CRS84"),new ej("urn:ogc:def:crs:OGC:2:84"),new ej("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ej("urn:x-ogc:def:crs:EPSG:4326","neu")];y(ij,sh),y(jj,sh),jj.prototype.f=function(){return this.get("preload")},jj.prototype.l=function(a){this.set("preload",a)},jj.prototype.c=function(){return this.get("useInterimTilesOnError")},jj.prototype.A=function(a){this.set("useInterimTilesOnError",a)};var kj=[0,0,0,1],lj=[],mj=[0,0,0,1];oj.prototype.g=function(){return this.b},oj.prototype.f=function(a){this.b=a,this.a=void 0},la(rj,qj),k=uj.prototype,k.Kn=function(){return this.b},k.dk=function(){return this.f},k.Ln=function(){return this.g},k.ek=function(){return this.c},k.jk=function(){return this.i},k.Mn=function(){return this.a},k.Nn=function(a){this.b=a,this.l=void 0},k.fp=function(a){this.f=a,this.l=void 0},k.On=function(a){this.g=a,this.l=void 0},k.gp=function(a){this.c=a,this.l=void 0},k.hp=function(a){this.i=a,this.l=void 0},k.lp=function(a){this.a=a,this.l=void 0},y(wj,Ih),k=wj.prototype,k.Xb=function(){return this.o},k.Bn=function(){return this.g},k.oe=function(){return this.l},k.ic=function(){return this.f},k.sd=function(){return 2},k.kd=function(){return this.s},k.Ia=function(){return this.A},k.Cn=function(){return this.a},k.Eb=function(){return this.D},k.Dn=function(){return this.b},k.nf=pa,k.load=pa,k.Xf=pa,k.Gh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),b.arc(a.size/2,a.size/2,this.a,0,2*Math.PI,!0),this.g&&(b.fillStyle=De(this.g.b),b.fill()),this.b&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Ad,a.lineDash&&b.setLineDash(a.lineDash),b.stroke()),b.closePath()},k.Fh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),b.arc(a.size/2,a.size/2,this.a,0,2*Math.PI,!0),b.fillStyle=Be(kj),b.fill(),this.b&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Ad,a.lineDash&&b.setLineDash(a.lineDash),b.stroke()),b.closePath()},k=xj.prototype,k.W=function(){return this.i},k.Zj=function(){return this.g},k.Pn=function(){return this.c},k.Qn=function(){return this.a},k.Rn=function(){return this.f},k.Ha=function(){return this.l},k.Sn=function(){return this.b},k.Jh=function(a){"function"==typeof a?this.g=a:"string"==typeof a?this.g=function(b){return b.get(a)}:a?a&&(this.g=function(){return a}):this.g=yj,this.i=a},k.Tn=function(a){this.b=a};var Aj=null;y(G,sh),G.prototype.C=function(){return this.A},G.prototype.D=function(){return this.i},G.prototype.l=function(a){this.A=void 0!==a?a:Bj,this.i=null===a?void 0:zj(this.A),this.u()},y(I,G),I.prototype.f=function(){return this.get("preload")},I.prototype.c=function(){return this.get("useInterimTilesOnError")},I.prototype.T=function(a){this.set("preload",a)},I.prototype.Y=function(a){this.set("useInterimTilesOnError",a)},y(Ej,qh),k=Ej.prototype,k.Qd=function(a){if(sc(this.c,a.H())){if(this.a||this.b){this.a&&Hj(this,this.a),this.b&&Ij(this,this.b);var b;b=this.D;var c=this.U,d=a.ka();b=d?ld(d,0,d.length,a.va(),b,c):null,c=b[2]-b[0],d=b[3]-b[1],c=Math.sqrt(c*c+d*d),d=this.f,d.beginPath(),d.arc(b[0],b[1],c,0,2*Math.PI),this.a&&d.fill(),this.b&&d.stroke()}""!==this.g&&Gj(this,a.qd(),2,2)}},k.rd=function(a){this.Rb(a.c,a.f),this.Sb(a.a),this.Ub(a.Ha())},k.rc=function(a){var b=a.X();switch(b){case"Point":this.tc(a);break;case"LineString":this.gd(a);break;case"Polygon":this.af(a);break;case"MultiPoint":this.sc(a);break;case"MultiLineString":this.Ze(a);break;case"MultiPolygon":this.$e(a);break;case"GeometryCollection":this.Ye(a);break;case"Circle":this.Qd(a);break;default:wa("Unsupported geometry type: "+b)}},k.Xe=function(a,b){var c=b.g(a);c&&sc(this.c,c.H())&&(this.rd(b),this.rc(c))},k.Ye=function(a){a=a.c;var b,c;for(b=0,c=a.length;c>b;++b)this.rc(a[b])},k.tc=function(a){var b=a.ka();a=a.va(),this.i&&Fj(this,b,b.length),""!==this.g&&Gj(this,b,b.length,a)},k.sc=function(a){var b=a.ka();a=a.va(),this.i&&Fj(this,b,b.length),""!==this.g&&Gj(this,b,b.length,a)},k.gd=function(a){if(sc(this.c,a.H())){if(this.b){Ij(this,this.b);var b=this.f,c=a.ka();b.beginPath(),Jj(this,c,0,c.length,a.va(),!1),b.stroke()}""!==this.g&&(a=Lj(a),Gj(this,a,2,2))}},k.Ze=function(a){var b=a.H();if(sc(this.c,b)){if(this.b){Ij(this,this.b);var b=this.f,c=a.ka(),d=0,e=a.Cb(),f=a.va();b.beginPath();var g,h;for(g=0,h=e.length;h>g;++g)d=Jj(this,c,d,e[g],f,!1);b.stroke()}""!==this.g&&(a=Mj(a),Gj(this,a,a.length,2))}},k.af=function(a){if(sc(this.c,a.H())){if(this.b||this.a){this.a&&Hj(this,this.a),this.b&&Ij(this,this.b);var b=this.f;b.beginPath(),Kj(this,a.Lb(),0,a.Cb(),a.va()),this.a&&b.fill(),this.b&&b.stroke()}""!==this.g&&(a=Rd(a),Gj(this,a,2,2))}},k.$e=function(a){if(sc(this.c,a.H())){if(this.b||this.a){this.a&&Hj(this,this.a),this.b&&Ij(this,this.b);var g,h,b=this.f,c=Nj(a),d=0,e=a.i,f=a.va();for(g=0,h=e.length;h>g;++g){var l=e[g];b.beginPath(),d=Kj(this,c,d,l,f),this.a&&b.fill(),this.b&&b.stroke()}}""!==this.g&&(a=Oj(a),Gj(this,a,a.length,2))}},k.Rb=function(a,b){if(a){var c=a.b;this.a={fillStyle:De(c?c:kj)}}else this.a=null;if(b){var c=b.b,d=b.f,e=b.g,f=b.c,g=b.a,h=b.i;this.b={lineCap:void 0!==d?d:"round",lineDash:e?e:lj,lineJoin:void 0!==f?f:"round",lineWidth:this.A*(void 0!==g?g:1),miterLimit:void 0!==h?h:10,strokeStyle:Be(c?c:mj)}}else this.b=null},k.Sb=function(a){if(a){var b=a.Xb(),c=a.ic(1),d=a.Ia(),e=a.Eb();this.R=b[0],this.ya=b[1],this.Ba=e[1],this.i=c,this.v=a.v,this.za=d[0],this.qa=d[1],this.Fb=a.U,this.ta=a.j,this.l=a.i,this.Aa=a.C,this.S=e[0]}else this.i=null},k.Ub=function(a){if(a){var b=a.b;b?(b=b.b,this.o={fillStyle:De(b?b:kj)}):this.o=null;var c=a.l;if(c){var b=c.b,d=c.f,e=c.g,f=c.c,g=c.a,c=c.i;this.s={lineCap:void 0!==d?d:"round",lineDash:e?e:lj,lineJoin:void 0!==f?f:"round",lineWidth:void 0!==g?g:1,miterLimit:void 0!==c?c:10,strokeStyle:Be(b?b:mj)}}else this.s=null;var b=a.g,d=a.f,e=a.c,f=a.i,g=a.a,c=a.Ha(),h=a.o;a=a.j,this.T={font:void 0!==b?b:"10px sans-serif",textAlign:void 0!==h?h:"center",textBaseline:void 0!==a?a:"middle"},this.g=void 0!==c?c:"",this.Sa=void 0!==d?this.A*d:0,this.pb=void 0!==e?this.A*e:0,this.C=void 0!==f?f:0,this.j=this.A*(void 0!==g?g:1)}else this.g=""},y(Pj,zh),Pj.prototype.i=function(a,b,c){Qj(this,"precompose",c,a,void 0);var d=this.f?this.f.a():null;if(d){var e=b.extent,f=void 0!==e;if(f){var g=a.pixelRatio,h=a.size[0]*g,l=a.size[1]*g,m=a.viewState.rotation,n=kc(e),p=jc(e),q=ic(e),e=hc(e);yh(a.coordinateToPixelMatrix,n,n),yh(a.coordinateToPixelMatrix,p,p),yh(a.coordinateToPixelMatrix,q,q),yh(a.coordinateToPixelMatrix,e,e),c.save(),nj(c,-m,h/2,l/2),c.beginPath(),c.moveTo(n[0]*g,n[1]*g),c.lineTo(p[0]*g,p[1]*g),c.lineTo(q[0]*g,q[1]*g),c.lineTo(e[0]*g,e[1]*g),c.clip(),nj(c,m,h/2,l/2)}g=this.s,h=c.globalAlpha,c.globalAlpha=b.opacity,c.drawImage(d,0,0,+d.width,+d.height,Math.round(g[12]),Math.round(g[13]),Math.round(d.width*g[0]),Math.round(d.height*g[5])),c.globalAlpha=h,f&&c.restore()}Rj(this,c,a)};var Tj=["Polygon","LineString","Image","Text"];y(Uj,qh),Uj.prototype.Pa=function(a,b,c,d,e){Xj(this,a,b,c,d,e,this.a,void 0)},Uj.prototype.je=pa,Uj.prototype.cf=function(){return this.T},y(ak,Uj),ak.prototype.tc=function(a,b){if(this.o){Wj(this,b);var c=a.ka(),d=this.coordinates.length,c=Vj(this,c,0,c.length,a.va(),!1);this.a.push([4,d,c,this.o,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.A,this.C,this.D,this.R]),this.b.push([4,d,c,this.S,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.A,this.C,this.D,this.R]),Zj(this,b)}},ak.prototype.sc=function(a,b){if(this.o){Wj(this,b);var c=a.ka(),d=this.coordinates.length,c=Vj(this,c,0,c.length,a.va(),!1);this.a.push([4,d,c,this.o,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.A,this.C,this.D,this.R]),this.b.push([4,d,c,this.S,this.g,this.i,this.l,this.j,this.s,this.v,this.U,this.A,this.C,this.D,this.R]),Zj(this,b)}},ak.prototype.je=function(){Yj(this),this.i=this.g=void 0,this.o=this.S=null,this.R=this.D=this.A=this.U=this.v=this.s=this.j=this.C=this.l=void 0},ak.prototype.Sb=function(a){var b=a.Xb(),c=a.Eb(),d=a.oe(1),e=a.ic(1),f=a.Ia();this.g=b[0],this.i=b[1],this.S=d,this.o=e,this.l=c[1],this.j=a.v,this.s=f[0],this.v=f[1],this.U=a.U,this.A=a.j,this.C=a.i,this.D=a.C,this.R=c[0]},y(bk,Uj),k=bk.prototype,k.cf=function(){return this.f||(this.f=Vb(this.T),0<this.c&&Ub(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},k.gd=function(a,b){var c=this.g,d=c.lineWidth;void 0!==c.strokeStyle&&void 0!==d&&(dk(this),Wj(this,b),this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]),c=a.ka(),ck(this,c,0,c.length,a.va()),this.b.push([12]),Zj(this,b))},k.Ze=function(a,b){var c=this.g,d=c.lineWidth;if(void 0!==c.strokeStyle&&void 0!==d){dk(this),Wj(this,b),this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash],[1]);var g,h,c=a.Cb(),d=a.ka(),e=a.va(),f=0;for(g=0,h=c.length;h>g;++g)f=ck(this,d,f,c[g],e);this.b.push([12]),Zj(this,b)}},k.je=function(){this.g.mf!=this.coordinates.length&&this.a.push([12]),Yj(this),this.g=null},k.Rb=function(a,b){var c=b.b;this.g.strokeStyle=Be(c?c:mj),c=b.f,this.g.lineCap=void 0!==c?c:"round",c=b.g,this.g.lineDash=c?c:lj,c=b.c,this.g.lineJoin=void 0!==c?c:"round",c=b.a,this.g.lineWidth=void 0!==c?c:1,c=b.i,this.g.miterLimit=void 0!==c?c:10,this.g.lineWidth>this.c&&(this.c=this.g.lineWidth,this.f=null)},y(ek,Uj),k=ek.prototype,k.Qd=function(a,b){var c=this.g,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){gk(this),Wj(this,b),this.b.push([9,Be(kj)]),void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var e=a.ka(),d=this.coordinates.length;Vj(this,e,0,e.length,a.va(),!1),e=[1],d=[2,d],this.a.push(e,d),this.b.push(e,d),d=[7],this.b.push(d),void 0!==c.fillStyle&&this.a.push(d),void 0!==c.strokeStyle&&(c=[12],this.a.push(c),this.b.push(c)),Zj(this,b)}},k.af=function(a,b){var c=this.g,d=c.strokeStyle;(void 0!==c.fillStyle||void 0!==d)&&(gk(this),Wj(this,b),this.b.push([9,Be(kj)]),void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]),c=a.Cb(),d=a.Lb(),fk(this,d,0,c,a.va()),Zj(this,b))},k.$e=function(a,b){var c=this.g,d=c.strokeStyle;if(void 0!==c.fillStyle||void 0!==d){gk(this),Wj(this,b),this.b.push([9,Be(kj)]),void 0!==c.strokeStyle&&this.b.push([10,c.strokeStyle,c.lineWidth,c.lineCap,c.lineJoin,c.miterLimit,c.lineDash]);var g,h,c=a.i,d=Nj(a),e=a.va(),f=0;for(g=0,h=c.length;h>g;++g)f=fk(this,d,f,c[g],e);Zj(this,b)}},k.je=function(){Yj(this),this.g=null;var a=this.qa;if(0!==a){var c,d,b=this.coordinates;for(c=0,d=b.length;d>c;++c)b[c]=a*Math.round(b[c]/a)}},k.cf=function(){return this.f||(this.f=Vb(this.T),0<this.c&&Ub(this.f,this.resolution*(this.c+1)/2,this.f)),this.f},k.Rb=function(a,b){var c=this.g;if(a){var d=a.b;c.fillStyle=De(d?d:kj)}else c.fillStyle=void 0;b?(d=b.b,c.strokeStyle=Be(d?d:mj),d=b.f,c.lineCap=void 0!==d?d:"round",d=b.g,c.lineDash=d?d.slice():lj,d=b.c,c.lineJoin=void 0!==d?d:"round",d=b.a,c.lineWidth=void 0!==d?d:1,d=b.i,c.miterLimit=void 0!==d?d:10,c.lineWidth>this.c&&(this.c=c.lineWidth,this.f=null)):(c.strokeStyle=void 0,c.lineCap=void 0,c.lineDash=null,c.lineJoin=void 0,c.lineWidth=void 0,c.miterLimit=void 0)},y(hk,Uj),hk.prototype.Ub=function(a){if(a){var b=a.b;b?(b=b.b,b=De(b?b:kj),this.g?this.g.fillStyle=b:this.g={fillStyle:b}):this.g=null;var c=a.l;if(c){var b=c.b,d=c.f,e=c.g,f=c.c,g=c.a,c=c.i,d=void 0!==d?d:"round",e=e?e.slice():lj,f=void 0!==f?f:"round",g=void 0!==g?g:1,c=void 0!==c?c:10,b=Be(b?b:mj);if(this.i){var h=this.i;h.lineCap=d,h.lineDash=e,h.lineJoin=f,h.lineWidth=g,h.miterLimit=c,h.strokeStyle=b}else this.i={lineCap:d,lineDash:e,lineJoin:f,lineWidth:g,miterLimit:c,strokeStyle:b}}else this.i=null;var l=a.g,b=a.f,d=a.c,e=a.i,g=a.a,c=a.Ha(),f=a.o,h=a.j;a=void 0!==l?l:"10px sans-serif",f=void 0!==f?f:"center",h=void 0!==h?h:"middle",this.l?(l=this.l,l.font=a,l.textAlign=f,l.textBaseline=h):this.l={font:a,textAlign:f,textBaseline:h},this.o=void 0!==c?c:"",this.j=void 0!==b?b:0,this.s=void 0!==d?d:0,this.v=void 0!==e?e:0,this.U=void 0!==g?g:1}else this.o=""},jk.prototype.ra=function(a,b,c,d,e){var f=this.i;wh(f,.5,.5,1/b,-1/b,-c,-a[0],-a[1]);var g=this.c;g.clearRect(0,0,1,1);var h;return void 0!==this.f&&(h=Sb(),Tb(h,a),Ub(h,b*this.f,h)),lk(this,g,f,c,d,function(a){if(0<g.getImageData(0,0,1,1).data[3]){if(a=e(a))return a;g.clearRect(0,0,1,1)}},h)},jk.prototype.b=function(a,b){var c=void 0!==a?a.toString():"0",d=this.a[c];return void 0===d&&(d={},this.a[c]=d),c=d[b],void 0===c&&(c=new nk[b](this.o,this.g,this.l),d[b]=c),c},jk.prototype.Ya=function(){return Ma(this.a)},jk.prototype.Pa=function(a,b,c,d,e,f){var g=Object.keys(this.a).map(Number);g.sort(nb);var h=this.g,l=h[0],m=h[1],n=h[2],h=h[3],l=[l,m,l,h,n,h,n,m];ld(l,0,8,2,c,l),a.save(),a.beginPath(),a.moveTo(l[0],l[1]),a.lineTo(l[2],l[3]),a.lineTo(l[4],l[5]),a.lineTo(l[6],l[7]),a.closePath(),a.clip(),f=f?f:Tj;for(var p,q,l=0,m=g.length;m>l;++l)for(p=this.a[g[l].toString()],n=0,h=f.length;h>n;++n)q=p[f[n]],void 0!==q&&q.Pa(a,b,c,d,e);a.restore()};var nk={Image:ak,LineString:bk,Polygon:ek,Text:hk};k=ok.prototype,k.get=function(a){return this.f[a]},k.Cb=function(){return this.c},k.H=function(){return this.a||(this.a="Point"===this.g?bc(this.b):cc(this.b,0,this.b.length,2)),this.a},k.Lb=function(){return this.b},k.ka=ok.prototype.Lb,k.W=function(){return this},k.Nm=function(){return this.f},k.md=ok.prototype.W,k.va=function(){return 2},k.dc=pa,k.X=function(){return this.g};var sk={Point:function(a,b,c,d){var e=c.a;if(e){if(2!=e.sd())return;var f=a.b(c.b,"Image");f.Sb(e),f.tc(b,d)}(e=c.Ha())&&(a=a.b(c.b,"Text"),a.Ub(e),ik(a,b.ka(),2,2,d))},LineString:function(a,b,c,d){var e=c.f;if(e){var f=a.b(c.b,"LineString");f.Rb(null,e),f.gd(b,d)}(e=c.Ha())&&(a=a.b(c.b,"Text"),a.Ub(e),ik(a,Lj(b),2,2,d))},Polygon:function(a,b,c,d){var e=c.c,f=c.f;if(e||f){var g=a.b(c.b,"Polygon");g.Rb(e,f),g.af(b,d)}(e=c.Ha())&&(a=a.b(c.b,"Text"),a.Ub(e),ik(a,Rd(b),2,2,d))},MultiPoint:function(a,b,c,d){var e=c.a;if(e){if(2!=e.sd())return;var f=a.b(c.b,"Image");f.Sb(e),f.sc(b,d)}(e=c.Ha())&&(a=a.b(c.b,"Text"),a.Ub(e),c=b.ka(),ik(a,c,c.length,b.va(),d))},MultiLineString:function(a,b,c,d){var e=c.f;if(e){var f=a.b(c.b,"LineString");f.Rb(null,e),f.Ze(b,d)}(e=c.Ha())&&(a=a.b(c.b,"Text"),a.Ub(e),b=Mj(b),ik(a,b,b.length,2,d))},MultiPolygon:function(a,b,c,d){var e=c.c,f=c.f;if(f||e){var g=a.b(c.b,"Polygon");g.Rb(e,f),g.$e(b,d)}(e=c.Ha())&&(a=a.b(c.b,"Text"),a.Ub(e),b=Oj(b),ik(a,b,b.length,2,d))},GeometryCollection:function(a,b,c,d){b=b.c;var e,f;for(e=0,f=b.length;f>e;++e)sk[b[e].X()](a,b[e],c,d)},Circle:function(a,b,c,d){var e=c.c,f=c.f;if(e||f){var g=a.b(c.b,"Polygon");g.Rb(e,f),g.Qd(b,d)}(e=c.Ha())&&(a=a.b(c.b,"Text"),a.Ub(e),ik(a,b.qd(),2,2,d))}};y(tk,uh),tk.prototype.i=function(a){this.state=a?3:2,vh(this)},tk.prototype.load=function(){0==this.state&&(this.state=1,vh(this),this.c(this.i.bind(this)))},tk.prototype.a=function(){return this.g};var uk,vk=qa.navigator,wk=qa.chrome,xk=-1<vk.userAgent.indexOf("OPR"),yk=-1<vk.userAgent.indexOf("Edge");uk=!(!vk.userAgent.match("CriOS")&&null!==wk&&void 0!==wk&&"Google Inc."===vk.vendor&&0==xk&&0==yk),y(Fk,uh),Fk.prototype.ja=function(){1==this.state&&(Pa(this.zd),this.zd=null),uh.prototype.ja.call(this)},Fk.prototype.a=function(){return this.i},Fk.prototype.yd=function(){var a=this.nb.V();2==a&&(this.i=Bk(nc(this.g)/this.c,oc(this.g)/this.c,this.j,this.nb.$(),0,this.c,this.g,this.o,[{extent:this.nb.H(),image:this.nb.a()}],0)),this.state=a,vh(this)},Fk.prototype.load=function(){if(0==this.state){this.state=1,vh(this);var a=this.nb.V();2==a||3==a?this.yd():(this.zd=B(this.nb,"change",function(){var a=this.nb.V();(2==a||3==a)&&(Pa(this.zd),this.zd=null,this.yd())},this),this.nb.load())}},y(Gk,pf),Gk.prototype.A=function(a,b,c,d){var e=this.f;if(e&&d&&!Tc(e,d)){if(this.a){if(this.qa==this.g&&Tc(this.a.v,d)&&this.a.$()==b&&this.a.f==c&&ec(this.a.H(),a))return this.a;ab(this.a),this.a=null}return this.a=new Fk(e,d,a,b,c,function(a,b,c){return this.Lc(a,b,c,e)}.bind(this)),this.qa=this.g,this.a}return e&&(d=e),this.Lc(a,b,c,d)},Gk.prototype.o=function(a){switch(a=a.target,a.V()){case 1:this.b(new Ik(Jk,a));break;case 2:this.b(new Ik(Kk,a));break;case 3:this.b(new Ik(Lk,a))}},y(Ik,bb);var Jk="imageloadstart",Kk="imageloadend",Lk="imageloaderror";y(Nk,Gk),Nk.prototype.Lc=function(a,b,c,d){b=Hk(this,b);var e=this.T;return e&&this.Y==this.g&&e.$()==b&&e.f==c&&Zb(e.H(),a)?e:(a=a.slice(),tc(a,this.ta),(d=this.la(a,b,c,[nc(a)/b*c,oc(a)/b*c],d))&&(e=new tk(a,b,c,this.l,d)),this.T=e,this.Y=this.g,e)},y(Ok,jb),k=Ok.prototype,k.clone=function(){var a=new Ok(this.O());a.Dc(this.a);var b=this.W();return b&&a.Ua(b.clone()),(b=this.c)&&a.rf(b),a},k.W=function(){return this.get(this.a)},k.Xa=function(){return this.i},k.$j=function(){return this.a},k.Jl=function(){return this.c},k.dc=function(){return this.l},k.Kl=function(){this.u()},k.ae=function(){this.f&&(Pa(this.f),this.f=null);var a=this.W();a&&(this.f=B(a,"change",this.Kl,this)),this.u()},k.Ua=function(a){this.set(this.a,a)},k.rf=function(a){this.l=(this.c=a)?Pk(a):void 0,this.u()},k.lc=function(a){this.i=a,this.u()},k.Dc=function(a){Xa(this,lb(this.a),this.ae,this),this.a=a,B(this,lb(this.a),this.ae,this),this.ae()},y(Qk,kf),k=Qk.prototype,k.$a=function(){return-1==this.f.Tf?null:this.g.canvas},k.Ul=function(){return this.l},k.getKey=function(){return this.j},k.load=function(){0==this.state&&(this.state=1,lf(this),this.v(this,this.j),this.s(null,NaN,null))},k.gi=function(a){this.c=a,this.state=2,lf(this)},k.uf=function(a){this.o=a},k.ki=function(a){this.s=a};var ml,nl,pl,ql,Rk=document.implementation.createDocument("","",null),el=cl();!function(){var a={},b={ia:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ia=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Xp=c()}}(function(){return function d(a,b,g){function h(m,p){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!p&&q)return q(m,!0);if(l)return l(m,!0);throw q=Error("Cannot find module '"+m+"'"),q.code="MODULE_NOT_FOUND",q}q=b[m]={ia:{}},a[m][0].call(q.ia,function(b){var d=a[m][1][b];return h(d?d:b)},q,q.ia,d,a,b,g)}return b[m].ia}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b){function f(a,b){return this instanceof f?(this.Se=Math.max(4,a||9),this.hg=Math.max(2,Math.ceil(.4*this.Se)),b&&this.mj(b),void this.clear()):new f(a,b)}function g(a,b){h(a,0,a.children.length,b,a)}function h(a,b,d,e,f){f||(f=x(null)),f.ca=1/0,f.fa=1/0,f.ea=-(1/0),f.ga=-(1/0);for(var g;d>b;b++)g=a.children[b],l(f,a.Ta?e(g):g);return f}function l(a,b){a.ca=Math.min(a.ca,b.ca),a.fa=Math.min(a.fa,b.fa),a.ea=Math.max(a.ea,b.ea),a.ga=Math.max(a.ga,b.ga)}function m(a,b){return a.ca-b.ca}function n(a,b){return a.fa-b.fa}function p(a){return(a.ea-a.ca)*(a.ga-a.fa)}function q(a){return a.ea-a.ca+(a.ga-a.fa)}function r(a,b){return a.ca<=b.ca&&a.fa<=b.fa&&b.ea<=a.ea&&b.ga<=a.ga}function u(a,b){return b.ca<=a.ea&&b.fa<=a.ga&&b.ea>=a.ca&&b.ga>=a.fa}function x(a){return{children:a,height:1,Ta:!0,ca:1/0,fa:1/0,ea:-(1/0),ga:-(1/0)}}function v(a,b,d,e,f){for(var h,g=[b,d];g.length;)d=g.pop(),b=g.pop(),e>=d-b||(h=b+Math.ceil((d-b)/e/2)*e,D(a,h,b,d,f),g.push(b,h,h,d))}b.ia=f;var D=a("quickselect");f.prototype={all:function(){return this.cg(this.data,[])},search:function(a){var b=this.data,d=[],e=this.kb;if(!u(a,b))return d;for(var g,h,l,m,f=[];b;){for(g=0,h=b.children.length;h>g;g++)l=b.children[g],m=b.Ta?e(l):l,u(a,m)&&(b.Ta?d.push(l):r(a,m)?this.cg(l,d):f.push(l));b=f.pop()}return d},load:function(a){if(!a||!a.length)return this;if(a.length<this.hg){for(var b=0,d=a.length;d>b;b++)this.Ca(a[b]);return this}return a=this.eg(a.slice(),0,a.length-1,0),this.data.children.length?this.data.height===a.height?this.jg(this.data,a):(this.data.height<a.height&&(b=this.data,this.data=a,a=b),this.gg(a,this.data.height-a.height-1,!0)):this.data=a,this},Ca:function(a){return a&&this.gg(a,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(a,b){if(!a)return this;for(var h,l,m,n,d=this.data,e=this.kb(a),f=[],g=[];d||f.length;){if(d||(d=f.pop(),l=f[f.length-1],h=g.pop(),n=!0),d.Ta){a:{m=a;var p=d.children,q=b;if(q){for(var u=0;u<p.length;u++)if(q(m,p[u])){m=u;break a}m=-1}else m=p.indexOf(m)}if(-1!==m){d.children.splice(m,1),f.push(d),this.kj(f);break}}n||d.Ta||!r(d,e)?l?(h++,d=l.children[h],n=!1):d=null:(f.push(d),g.push(h),h=0,l=d,d=d.children[0])}return this},kb:function(a){return a},Ue:m,Ve:n,toJSON:function(){return this.data},cg:function(a,b){for(var d=[];a;)a.Ta?b.push.apply(b,a.children):d.push.apply(d,a.children),a=d.pop();return b},eg:function(a,b,d,e){var l,f=d-b+1,h=this.Se;if(h>=f)return l=x(a.slice(b,d+1)),g(l,this.kb),l;e||(e=Math.ceil(Math.log(f)/Math.log(h)),h=Math.ceil(f/Math.pow(h,e-1))),l=x([]),l.Ta=!1,l.height=e;var m,n,p,f=Math.ceil(f/h),h=f*Math.ceil(Math.sqrt(h));for(v(a,b,d,h,this.Ue);d>=b;b+=h)for(n=Math.min(b+h-1,d),v(a,b,n,f,this.Ve),m=b;n>=m;m+=f)p=Math.min(m+f-1,n),l.children.push(this.eg(a,m,p,e-1));return g(l,this.kb),l},jj:function(a,b,d,e){for(var f,g,h,l,m,n,q,r;e.push(b),!b.Ta&&e.length-1!==d;){for(q=r=1/0,f=0,g=b.children.length;g>f;f++)h=b.children[f],m=p(h),n=(Math.max(h.ea,a.ea)-Math.min(h.ca,a.ca))*(Math.max(h.ga,a.ga)-Math.min(h.fa,a.fa))-m,r>n?(r=n,q=q>m?m:q,l=h):n===r&&q>m&&(q=m,l=h);b=l||b.children[0]}return b},gg:function(a,b,d){var e=this.kb;d=d?a:e(a);var e=[],f=this.jj(d,this.data,b,e);for(f.children.push(a),l(f,d);b>=0&&e[b].children.length>this.Se;)this.sj(e,b),b--;this.gj(d,e,b)},sj:function(a,b){var d=a[b],e=d.children.length,f=this.hg;this.hj(d,f,e),e=this.ij(d,f,e),e=x(d.children.splice(e,d.children.length-e)),e.height=d.height,e.Ta=d.Ta,g(d,this.kb),g(e,this.kb),b?a[b-1].children.push(e):this.jg(d,e)},jg:function(a,b){this.data=x([a,b]),this.data.height=a.height+1,this.data.Ta=!1,g(this.data,this.kb)},ij:function(a,b,d){var e,f,g,l,m,n,q;for(m=n=1/0,e=b;d-b>=e;e++)f=h(a,0,e,this.kb),g=h(a,e,d,this.kb),l=Math.max(0,Math.min(f.ea,g.ea)-Math.max(f.ca,g.ca))*Math.max(0,Math.min(f.ga,g.ga)-Math.max(f.fa,g.fa)),f=p(f)+p(g),m>l?(m=l,q=e,n=n>f?f:n):l===m&&n>f&&(n=f,q=e);return q},hj:function(a,b,d){var e=a.Ta?this.Ue:m,f=a.Ta?this.Ve:n,g=this.dg(a,b,d,e);b=this.dg(a,b,d,f),b>g&&a.children.sort(e)},dg:function(a,b,d,e){a.children.sort(e),e=this.kb;var n,p,f=h(a,0,b,e),g=h(a,d-b,d,e),m=q(f)+q(g);for(n=b;d-b>n;n++)p=a.children[n],l(f,a.Ta?e(p):p),m+=q(f);for(n=d-b-1;n>=b;n--)p=a.children[n],l(g,a.Ta?e(p):p),m+=q(g);return m},gj:function(a,b,d){for(;d>=0;d--)l(b[d],a)},kj:function(a){for(var d,b=a.length-1;b>=0;b--)0===a[b].children.length?b>0?(d=a[b-1].children,d.splice(d.indexOf(a[b]),1)):this.clear():g(a[b],this.kb)},mj:function(a){var b=["return a"," - b",";"];this.Ue=new Function("a","b",b.join(a[0])),this.Ve=new Function("a","b",b.join(a[1])),this.kb=new Function("a","return {minX: a"+a[0]+", minY: a"+a[1]+", maxX: a"+a[2]+", maxY: a"+a[3]+"};")}}},{quickselect:2}],2:[function(a,b){function f(a,b,d,e,q){for(d=d||0,e=e||a.length-1,q=q||h;e>d;){if(e-d>600){var r=e-d+1,u=b-d+1,x=Math.log(r),v=.5*Math.exp(2*x/3),x=.5*Math.sqrt(x*v*(r-v)/r)*(0>u-r/2?-1:1);f(a,b,Math.max(d,Math.floor(b-u*v/r+x)),Math.min(e,Math.floor(b+(r-u)*v/r+x)),q)}for(r=a[b],u=d,v=e,g(a,d,b),0<q(a[e],r)&&g(a,d,e);v>u;){for(g(a,u,v),u++,v--;0>q(a[u],r);)u++;for(;0<q(a[v],r);)v--}0===q(a[d],r)?g(a,d,v):(v++,g(a,v,e)),b>=v&&(d=v+1),v>=b&&(e=v-1)}}function g(a,b,d){var e=a[b];a[b]=a[d],a[d]=e}function h(a,b){return b>a?-1:a>b?1:0}b.ia=f},{}]},{},[1])(1)}),ml=b.ia}(),k=rl.prototype,k.Ca=function(a,b){if(this.b)throw Error("Can not insert value while reading");var c={ca:a[0],fa:a[1],ea:a[2],ga:a[3],value:b};this.g.Ca(c),this.a[w(b)]=c},k.load=function(a,b){if(this.b)throw Error("Can not insert values while reading");for(var c=Array(b.length),d=0,e=b.length;e>d;d++){var f=a[d],g=b[d],f={ca:f[0],fa:f[1],ea:f[2],ga:f[3],value:g};c[d]=f,this.a[w(g)]=f}this.g.load(c)},k.remove=function(a){if(this.b)throw Error("Can not remove value while reading");a=w(a);var b=this.a[a];return delete this.a[a],null!==this.g.remove(b)},k.forEach=function(a,b){++this.b;try{return vl(tl(this),a,b)}finally{--this.b}},k.Ya=function(){return Ma(this.a)},k.clear=function(){this.g.clear(),this.a={}},k.H=function(){var a=this.g.data;return[a.ca,a.fa,a.ea,a.ga]},y(P,pf),k=P.prototype,k.qb=function(a){var b=w(a).toString();if(zl(this,b,a)){Al(this,b,a);var c=a.W();c?(b=c.H(),this.a&&this.a.Ca(b,a)):this.i[b]=a,this.b(new Bl("addfeature",a))}this.u()},k.Ic=function(a){xl(this,a),this.u()},k.clear=function(a){if(a){for(var b in this.s)this.s[b].forEach(Pa);this.c||(this.s={},this.o={},this.j={})}else if(this.a){this.a.forEach(this.Rf,this);for(var c in this.i)this.Rf(this.i[c])}this.c&&this.c.clear(),this.a&&this.a.clear(),this.Y.clear(),this.i={},this.b(new Bl("clear")),this.u()},k.wg=function(a,b){return this.a?this.a.forEach(a,b):this.c?this.c.forEach(a,b):void 0},k.tb=function(a,b,c){return this.a?wl(this.a,a,b,c):this.c?this.c.forEach(b,c):void 0},k.xg=function(a,b,c){return this.tb(a,function(d){return d.W().Ka(a)&&(d=b.call(c,d))?d:void 0})},k.Fg=function(){return this.c},k.ne=function(){var a;return this.c?a=this.c.a:this.a&&(a=tl(this.a),Ma(this.i)||rb(a,La(this.i))),a},k.Eg=function(a){var b=[];return Cl(this,a,function(a){b.push(a)}),b},k.df=function(a){return ul(this.a,a)},k.Ag=function(a,b){var c=a[0],d=a[1],e=null,f=[NaN,NaN],g=1/0,h=[-(1/0),-(1/0),1/0,1/0],l=b?b:vc;return wl(this.a,h,function(a){if(l(a)){var b=a.W(),p=g;g=b.rb(c,d,f,g),p>g&&(e=a,a=Math.sqrt(g),h[0]=c-a,h[1]=d-a,h[2]=c+a,h[3]=d+a)}}),e},k.H=function(){return this.a.H()},k.Dg=function(a){return a=this.o[a.toString()],void 0!==a?a:null},k.Ch=function(){return this.qa},k.Dh=function(){return this.T},k.Eh=function(a){a=a.target;var b=w(a).toString(),c=a.W();c?(c=c.H(),b in this.i?(delete this.i[b],this.a&&this.a.Ca(c,a)):this.a&&sl(this.a,c,a)):b in this.i||(this.a&&this.a.remove(a),this.i[b]=a),c=a.Xa(),void 0!==c?(c=c.toString(),b in this.j?(delete this.j[b],this.o[c]=a):this.o[c]!==a&&(Dl(this,a),this.o[c]=a)):b in this.j||(Dl(this,a),this.j[b]=a),this.u(),this.b(new Bl("changefeature",a))},k.Ya=function(){return this.a.Ya()&&Ma(this.i)},k.Oc=function(a,b,c){var d=this.Y;a=this.pb(a,b);var e,f;for(e=0,f=a.length;f>e;++e){var g=a[e];wl(d,g,function(a){
return Zb(a.extent,g)})||(this.S.call(this,g,b,c),d.Ca(g,{extent:g.slice()}))}},k.mb=function(a){var b=w(a).toString();b in this.i?delete this.i[b]:this.a&&this.a.remove(a),this.Rf(a),this.u()},k.Rf=function(a){var b=w(a).toString();this.s[b].forEach(Pa),delete this.s[b];var c=a.Xa();void 0!==c?delete this.o[c.toString()]:delete this.j[b],this.b(new Bl("removefeature",a))},y(Bl,bb),y(El,Nk),k=El.prototype,k.Dj=function(a,b,c,d,e){var f=new jk(.5*b/c,a,b);this.c.Oc(a,b,e);var g=!1;return this.c.tb(a,function(a){var d;if(!(d=g)){var e;if((d=a.dc())?e=d.call(a,b):this.s&&(e=this.s(a,b)),e){var n,p=!1;for(Array.isArray(e)||(e=[e]),d=0,n=e.length;n>d;++d)p=rk(f,a,e[d],qk(b,c),this.dn,this)||p;d=p}else d=!1}g=d},this),kk(f),g?null:(this.j[0]!=d[0]||this.j[1]!=d[1]?(this.i.canvas.width=d[0],this.i.canvas.height=d[1],this.j[0]=d[0],this.j[1]=d[1]):this.i.clearRect(0,0,d[0],d[1]),a=Fl(this,pc(a),b,c,d),f.Pa(this.i,c,a,0,{}),this.v=f,this.i.canvas)},k.ra=function(a,b,c,d,e){if(this.v){var f={};return this.v.ra(a,b,0,d,function(a){var b=w(a).toString();return b in f?void 0:(f[b]=!0,e(a))})}},k.an=function(){return this.c},k.bn=function(){return this.S},k.cn=function(){return this.s},k.dn=function(){this.u()},k.en=function(){rf(this,this.c.V())},k.xh=function(a){this.S=void 0!==a?a:Bj,this.s=a?zj(this.S):void 0,this.u()},y(Gl,Pj),Gl.prototype.ra=function(a,b,c,d){var e=this.a;return e.ha().ra(a,b.viewState.resolution,b.viewState.rotation,b.skippedFeatureUids,function(a){return c.call(d,a,e)})},Gl.prototype.Bc=function(a,b,c,d){if(this.f&&this.f.a())if(this.a.ha()instanceof El){if(a=a.slice(),yh(b.pixelToCoordinateMatrix,a,a),this.ra(a,b,vc,this))return c.call(d,this.a)}else if(this.c||(this.c=bd(),hd(this.s,this.c)),b=[0,0],yh(this.c,a,b),this.o||(this.o=Ue(1,1)),this.o.clearRect(0,0,1,1),this.o.drawImage(this.f?this.f.a():null,b[0],b[1],1,1,0,0,1,1),0<this.o.getImageData(0,0,1,1).data[3])return c.call(d,this.a)},Gl.prototype.l=function(a,b){var c=a.pixelRatio,d=a.viewState,e=d.center,f=d.resolution,g=this.a.ha(),h=a.viewHints,l=a.extent;if(void 0!==b.extent&&(l=rc(l,b.extent)),h[0]||h[1]||mc(l)||(d=g.A(l,f,c,d.projection))&&Bh(this,d)&&(this.f=d),this.f){var d=this.f,h=d.H(),l=d.$(),m=d.f,f=c*l/(f*m);wh(this.s,c*a.size[0]/2,c*a.size[1]/2,f,f,0,m*(h[0]-e[0])/l,m*(e[1]-h[3])/l),this.c=null,Dh(a.attributions,d.l),Eh(a,g)}return!!this.f},y(Hl,Pj),Hl.prototype.i=function(a,b,c){var d=Sj(this,a,0);Qj(this,"precompose",c,a,d),Il(this,c,a,b),Rj(this,c,a,d)},Hl.prototype.l=function(a,b){function c(a){return a=a.V(),2==a||4==a||3==a&&!r}var d=a.pixelRatio,e=a.viewState,f=e.projection,g=this.a,h=g.ha(),l=h.eb(f),m=l.Kb(e.resolution,this.C),n=l.$(m),p=e.center;if(n==e.resolution?(p=Gh(p,n,a.size),e=qc(p,n,e.rotation,a.size)):e=a.extent,void 0!==b.extent&&(e=rc(e,b.extent)),mc(e))return!1;n=yf(l,e,n),p={},p[m]={};var v,D,A,z,q=this.Pd(h,f,p),r=g.c(),u=Sb(),x=new le(0,0,0,0);for(A=n.ca;A<=n.ea;++A)for(z=n.fa;z<=n.ga;++z)v=h.$b(m,A,z,d,f),!c(v)&&v.a&&(v=v.a),c(v)?p[m][v.ma.toString()]=v:(D=wf(l,v.ma,q,x,u),D||(v=xf(l,v.ma,x,u))&&q(m+1,v));q=Object.keys(p).map(Number),q.sort(nb);var F,u=[],x=0;for(A=q.length;A>x;++x)for(F in v=q[x],z=p[v])v=z[F],2==v.V()&&u.push(v);return this.o=u,Fh(a.usedTiles,h,m,n),Hh(a,h,l,d,f,e,m,g.f()),Ch(a,h),Eh(a,h),!0},Hl.prototype.Bc=function(a,b,c,d){var e=this.c.canvas,f=b.size;return e.width=f[0],e.height=f[1],this.i(b,ph(this.a),this.c),0<this.c.getImageData(a[0],a[1],1,1).data[3]?c.call(d,this.a):void 0},y(Jl,Pj),Jl.prototype.i=function(a,b,c){var d=a.extent,e=a.pixelRatio,f=b.Pc?a.skippedFeatureUids:{},g=a.viewState,h=g.projection,g=g.rotation,l=h.H(),m=this.a.ha(),n=Sj(this,a,0);Qj(this,"precompose",c,a,n);var p=this.o;if(p&&!p.Ya()){var q;fb(this.a,"render")?(this.j.canvas.width=c.canvas.width,this.j.canvas.height=c.canvas.height,q=this.j):q=c;var r=q.globalAlpha;q.globalAlpha=b.opacity,b=a.size[0]*e;var u=a.size[1]*e;if(nj(q,-g,b/2,u/2),p.Pa(q,e,n,g,f),m.D&&h.a&&!Zb(l,d)){for(var h=d[0],m=nc(l),x=0;h<l[0];)--x,n=m*x,n=Sj(this,a,n),p.Pa(q,e,n,g,f),h+=m;for(x=0,h=d[2];h>l[2];)++x,n=m*x,n=Sj(this,a,n),p.Pa(q,e,n,g,f),h-=m;n=Sj(this,a,0)}nj(q,g,b/2,u/2),q!=c&&(Qj(this,"render",q,a,n),c.drawImage(q.canvas,0,0)),q.globalAlpha=r}Rj(this,c,a,n)},Jl.prototype.ra=function(a,b,c,d){if(this.o){var e=this.a,f={};return this.o.ra(a,b.viewState.resolution,b.viewState.rotation,{},function(a){var b=w(a).toString();return b in f?void 0:(f[b]=!0,c.call(d,a,e))})}},Jl.prototype.D=function(){Ah(this)},Jl.prototype.l=function(a){function b(a){var b,d=a.dc();if(d?b=d.call(a,m):(d=c.i)&&(b=d(a,m)),b){if(b){if(d=!1,Array.isArray(b))for(var e=0,f=b.length;f>e;++e)d=rk(q,a,b[e],qk(m,n),this.D,this)||d;else d=rk(q,a,b,qk(m,n),this.D,this)||d;a=d}else a=!1;this.c=this.c||a}}var c=this.a,d=c.ha();Dh(a.attributions,d.l),Eh(a,d);var e=a.viewHints[0],f=a.viewHints[1],g=c.R,h=c.S;if(!this.c&&!g&&e||!h&&f)return!0;var l=a.extent,h=a.viewState,e=h.projection,m=h.resolution,n=a.pixelRatio,f=c.g,p=c.a,g=Dj(c);if(void 0===g&&(g=pk),l=Ub(l,p*m),p=h.projection.H(),d.D&&h.projection.a&&!Zb(p,a.extent)&&(a=Math.max(nc(l)/2,nc(p)),l[0]=p[0]-a,l[2]=p[2]+a),!this.c&&this.A==m&&this.C==f&&this.U==g&&Zb(this.v,l))return!0;this.o=null,this.c=!1;var q=new jk(.5*m/n,l,m,c.a);if(d.Oc(l,m,e),g){var r=[];d.tb(l,function(a){r.push(a)},this),r.sort(g),r.forEach(b,this)}else d.tb(l,b,this);return kk(q),this.A=m,this.C=f,this.U=g,this.v=l,this.o=q,!0},y(Pl,Ff),k=Pl.prototype,k.fb=function(){return this.tileLoadFunction},k.gb=function(){return this.tileUrlFunction},k.hb=function(){return this.urls},k.Bh=function(a){switch(a=a.target,a.V()){case 1:this.b(new Jf("tileloadstart",a));break;case 2:this.b(new Jf("tileloadend",a));break;case 3:this.b(new Jf("tileloaderror",a))}},k.jb=function(a){this.a.clear(),this.tileLoadFunction=a,this.u()},k.Qa=function(a,b){this.tileUrlFunction=a,"undefined"!=typeof b?Hf(this,b):this.u()},k.Va=function(a){var b=this.urls=Ol(a);this.Qa(this.uc?this.uc.bind(this):Ll(b,this.tileGrid),a)},k.bb=function(a){this.urls=a;var b=a.join("\n");this.Qa(this.uc?this.uc.bind(this):Ll(a,this.tileGrid),b)},k.Yf=function(a,b,c){a=this.Db(a,b,c),ef(this.a,a)&&this.a.get(a)},y(Ql,Pl),Ql.prototype.$b=function(a,b,c,d,e){var f=this.Db(a,b,c);return ef(this.a,f)?this.a.get(f):(a=[a,b,c],d=(b=If(this,a,e))?this.tileUrlFunction(b,d,e):void 0,d=new this.tileClass(a,void 0!==d?0:4,void 0!==d?d:"",this.c,this.tileLoadFunction),B(d,"change",this.Bh,this),this.a.set(f,d),d)},Ql.prototype.Zd=function(a,b){var c=of(this.tileGrid.Ja(a));return[c[0]*b,c[1]*b]};var Sl={image:Tj,hybrid:["Polygon","LineString"]},Tl={hybrid:["Image","Text"],vector:Tj};y(Ul,Hl),Ul.prototype.i=function(a,b,c){var d=Sj(this,a,0);Qj(this,"precompose",c,a,d);var e=this.a.s;if("vector"!==e&&Il(this,c,a,b),"image"!==e){var f=this.a,e=Tl[f.s],g=a.pixelRatio,h=b.Pc?a.skippedFeatureUids:{},l=a.viewState,m=l.center,n=l.rotation,p=a.size,l=g/l.resolution,q=f.ha(),r=q.ac(g),u=Sj(this,a,0);fb(f,"render")?(this.c.canvas.width=c.canvas.width,this.c.canvas.height=c.canvas.height,f=this.c):f=c;var x=f.globalAlpha;f.globalAlpha=b.opacity,b=this.o;var v,D,A,z,F,N,K,X,q=q.tileGrid;for(D=0,A=b.length;A>D;++D)z=b[D],K=z.f,F=q.Ea(z.ma,this.j),v=z.ma[0],N="tile-pixels"==z.o.vb(),v=q.$(v),X=v/r,v=Math.round(g*p[0]/2),z=Math.round(g*p[1]/2),N?(F=kc(F),F=wh(this.v,v,z,l*X,l*X,n,(F[0]-m[0])/X,(m[1]-F[1])/X)):F=u,nj(f,-n,v,z),K.xd.Pa(f,g,F,n,h,e),nj(f,n,v,z);f!=c&&(Qj(this,"render",f,a,u),c.drawImage(f.canvas,0,0)),f.globalAlpha=x}Rj(this,c,a,d)},Ul.prototype.ra=function(a,b,c,d){var e=b.pixelRatio,f=b.viewState.resolution;b=b.viewState.rotation;var p,q,r,u,x,v,g=this.a,h={},l=this.o,m=g.ha(),n=m.tileGrid;for(r=0,u=l.length;u>r;++r)v=l[r],q=v.ma,x=m.tileGrid.Ea(q,this.j),Xb(x,a)&&("tile-pixels"===v.o.vb()?(x=kc(x),f=m.ac(e),q=n.$(q[0])/f,q=[(a[0]-x[0])/q,(x[1]-a[1])/q]):q=a,v=v.f.xd,p=p||v.ra(q,f,b,{},function(a){var b=w(a).toString();return b in h?void 0:(h[b]=!0,c.call(d,a,g))}));return p},Ul.prototype.A=function(){Ah(this)},Ul.prototype.l=function(a,b){var c=Hl.prototype.l.call(this,a,b);if(c)for(var d=Object.keys(a.De||{}),e=0,f=this.o.length;f>e;++e){var g=this.o[e];Vl(this,g,a);var h=g,g=a,l=this.a,m=Sl[l.s];if(m){var n=g.pixelRatio,p=h.f,q=l.g;if(!ub(p.ui,d)||p.Tf!==q){p.ui=d,p.Tf=q;var q=h.g,r=l.ha(),u=r.tileGrid,x=h.ma[0],v=u.$(x),l=of(u.Ja(x)),x=u.$(x),D=x/v,A=l[0]*n*D,z=l[1]*n*D;q.canvas.width=A/D+.5,q.canvas.height=z/D+.5,q.scale(1/D,1/D),q.translate(A/2,z/2),D="tile-pixels"==h.o.vb(),v=n/v,r=r.ac(n),x/=r,h=u.Ea(h.ma,this.j),D?h=wh(this.v,0,0,v*x,v*x,0,-l[0]*r/2,-l[1]*r/2):(h=pc(h),h=wh(this.v,0,0,v,-v,0,-h[0],-h[1])),p.xd.Pa(q,n,h,0,g.skippedFeatureUids||{},m)}}}return c},y(Wl,Nh),Wl.prototype.We=function(a){return a instanceof ij?new Gl(a):a instanceof jj?new Hl(a):a instanceof I?new Ul(a):a instanceof G?new Jl(a):(wa("unexpected layer configuration"),null)},Wl.prototype.X=function(){return"canvas"},Wl.prototype.Be=function(a){if(a){var b=this.f,c=a.pixelRatio,d=Math.round(a.size[0]*c),c=Math.round(a.size[1]*c);this.b.width!=d||this.b.height!=c?(this.b.width=d,this.b.height=c):b.clearRect(0,0,d,c);var e=a.viewState.rotation;Oh(a),Xl(this,"precompose",a);var f=a.layerStatesArray;vb(f),nj(b,e,d/2,c/2);var h,l,m,n,g=a.viewState.resolution;for(h=0,l=f.length;l>h;++h)n=f[h],m=n.layer,m=Qh(this,m),th(n,g)&&"ready"==n.Wf&&m.l(a,n)&&m.i(a,n,b);nj(b,-e,d/2,c/2),Xl(this,"postcompose",a),this.a||(this.b.style.display="",this.a=!0),Rh(this,a),a.postRenderFunctions.push(Ph)}else this.a&&(this.b.style.display="none",this.a=!1)},y(Yl,zh),Yl.prototype.Md=pa,Yl.prototype.th=pa,y(Zl,Yl),Zl.prototype.ra=function(a,b,c,d){var e=this.a;return e.ha().ra(a,b.viewState.resolution,b.viewState.rotation,b.skippedFeatureUids,function(a){return c.call(d,a,e)})},Zl.prototype.Md=function(){af(this.target),this.f=null},Zl.prototype.xf=function(a,b){var c=a.viewState,d=c.center,e=c.resolution,f=c.rotation,g=this.f,h=this.a.ha(),l=a.viewHints,m=a.extent;return void 0!==b.extent&&(m=rc(m,b.extent)),l[0]||l[1]||mc(m)||(c=h.A(m,e,a.pixelRatio,c.projection))&&Bh(this,c)&&(g=c),g&&(l=g.H(),m=g.$(),c=bd(),wh(c,a.size[0]/2,a.size[1]/2,m/e,m/e,f,(l[0]-d[0])/m,(d[1]-l[3])/m),g!=this.f&&(d=g.a(this),d.style.maxWidth="none",d.style.position="absolute",af(this.target),this.target.appendChild(d),this.f=g),xh(c,this.c)||(Ye(this.target,c),ed(this.c,c)),Dh(a.attributions,g.l),Eh(a,h)),!0},y($l,Yl),$l.prototype.Md=function(){af(this.target),this.i=0},$l.prototype.xf=function(a,b){if(!b.visible)return this.c&&(this.target.style.display="none",this.c=!1),!0;var q,c=a.pixelRatio,d=a.viewState,e=d.projection,f=this.a,g=f.ha(),h=g.eb(e),l=g.Td(e),m=h.Kb(d.resolution),n=h.$(m),p=d.center;n==d.resolution?(p=Gh(p,n,a.size),q=qc(p,n,d.rotation,a.size)):q=a.extent,void 0!==b.extent&&(q=rc(q,b.extent));var n=yf(h,q,n),r={};r[m]={};var A,z,F,N,u=this.Pd(g,e,r),x=f.c(),v=Sb(),D=new le(0,0,0,0);for(F=n.ca;F<=n.ea;++F)for(N=n.fa;N<=n.ga;++N)A=g.$b(m,F,N,c,e),z=A.V(),z=2==z||4==z||3==z&&!x,!z&&A.a&&(A=A.a),z=A.V(),2==z?r[m][A.ma.toString()]=A:4==z||3==z&&!x||(z=wf(h,A.ma,u,D,v),z||(A=xf(h,A.ma,D,v))&&u(m+1,A));var K;if(this.i!=g.g){for(K in this.f)x=this.f[+K],$e(x.target);this.f={},this.i=g.g}v=Object.keys(r).map(Number),v.sort(nb);var X,u={};for(F=0,N=v.length;N>F;++F){K=v[F],K in this.f?x=this.f[K]:(x=h.pd(p,K),x=new am(h,x),u[K]=!0,this.f[K]=x),K=r[K];for(X in K){A=x,z=K[X];var oa=l,H=z.ma,ya=H[0],Va=H[1],Ya=H[2],H=H.toString();if(!(H in A.a)){var ya=of(A.c.Ja(ya),A.o),Wa=z.$a(A),Aa=Wa.style;Aa.maxWidth="none";var Rb,Ob;oa>0?(Rb=document.createElement("DIV"),Ob=Rb.style,Ob.overflow="hidden",Ob.width=ya[0]+"px",Ob.height=ya[1]+"px",Aa.position="absolute",Aa.left=-oa+"px",Aa.top=-oa+"px",Aa.width=ya[0]+2*oa+"px",Aa.height=ya[1]+2*oa+"px",Rb.appendChild(Wa)):(Aa.width=ya[0]+"px",Aa.height=ya[1]+"px",Rb=Wa,Ob=Aa),Ob.position="absolute",Ob.left=(Va-A.g[1])*ya[0]+"px",Ob.top=(A.g[2]-Ya)*ya[1]+"px",A.b||(A.b=document.createDocumentFragment()),A.b.appendChild(Rb),A.a[H]=z}}x.b&&(x.target.appendChild(x.b),x.b=null)}for(l=Object.keys(this.f).map(Number),l.sort(nb),F=bd(),X=0,v=l.length;v>X;++X)if(K=l[X],x=this.f[K],K in r){if(A=x.$(),N=x.Ia(),wh(F,a.size[0]/2,a.size[1]/2,A/d.resolution,A/d.resolution,d.rotation,(N[0]-p[0])/A,(p[1]-N[1])/A),x.setTransform(F),K in u){for(--K;K>=0;--K)if(K in this.f){this.f[K].target.parentNode&&this.f[K].target.parentNode.insertBefore(x.target,this.f[K].target.nextSibling);break}0>K&&this.target.insertBefore(x.target,this.target.childNodes[0]||null)}else if(!a.viewHints[0]&&!a.viewHints[1]){z=vf(x.c,q,x.g[0],D),K=[],A=void 0;for(A in x.a)N=x.a[A],z.contains(N.ma)||K.push(N);for(z=0,oa=K.length;oa>z;++z)N=K[z],A=N.ma.toString(),$e(N.$a(x)),delete x.a[A]}}else $e(x.target),delete this.f[K];return b.opacity!=this.l&&(this.l=this.target.style.opacity=b.opacity),b.visible&&!this.c&&(this.target.style.display="",this.c=!0),Fh(a.usedTiles,g,m,n),Hh(a,g,h,c,e,q,m,f.f()),Ch(a,g),Eh(a,g),!0},am.prototype.Ia=function(){return this.i},am.prototype.$=function(){return this.l},am.prototype.setTransform=function(a){xh(a,this.f)||(Ye(this.target,a),ed(this.f,a))},y(bm,Yl),k=bm.prototype,k.Md=function(){var a=this.i.canvas;a.width=a.width,this.l=0},k.th=function(a,b){var c=a.viewState,d=c.center,e=c.rotation,f=c.resolution,c=a.pixelRatio,g=a.size[0],h=a.size[1],l=g*c,m=h*c,d=wh(this.U,c*g/2,c*h/2,c/f,-c/f,-e,-d[0],-d[1]),f=this.i;f.canvas.width=l,f.canvas.height=m,g=wh(this.v,0,0,1/c,1/c,0,-(l-g)/2*c,-(m-h)/2*c),Ye(f.canvas,g),cm(this,"precompose",a,d),(g=this.c)&&!g.Ya()&&(f.globalAlpha=b.opacity,g.Pa(f,c,d,e,b.Pc?a.skippedFeatureUids:{}),cm(this,"render",a,d)),cm(this,"postcompose",a,d)},k.ra=function(a,b,c,d){if(this.c){var e=this.a,f={};return this.c.ra(a,b.viewState.resolution,b.viewState.rotation,{},function(a){var b=w(a).toString();return b in f?void 0:(f[b]=!0,c.call(d,a,e))})}},k.uh=function(){Ah(this)},k.xf=function(a){function b(a){var b,d=a.dc();if(d?b=d.call(a,l):(d=c.i)&&(b=d(a,l)),b){if(b){if(d=!1,Array.isArray(b))for(var e=0,f=b.length;f>e;++e)d=rk(n,a,b[e],qk(l,m),this.uh,this)||d;else d=rk(n,a,b,qk(l,m),this.uh,this)||d;a=d}else a=!1;this.f=this.f||a}}var c=this.a,d=c.ha();Dh(a.attributions,d.l),Eh(a,d);var e=a.viewHints[0],f=a.viewHints[1],g=c.R,h=c.S;if(!this.f&&!g&&e||!h&&f)return!0;var f=a.extent,g=a.viewState,e=g.projection,l=g.resolution,m=a.pixelRatio;if(a=c.g,h=c.a,g=Dj(c),void 0===g&&(g=pk),f=Ub(f,h*l),!this.f&&this.s==l&&this.l==a&&this.j==g&&Zb(this.o,f))return!0;this.c=null,this.f=!1;var n=new jk(.5*l/m,f,l,c.a);if(d.Oc(f,l,e),g){var p=[];d.tb(f,function(a){p.push(a)},this),p.sort(g),p.forEach(b,this)}else d.tb(f,b,this);return kk(n),this.s=l,this.l=a,this.j=g,this.o=f,this.c=n,!0},y(dm,Nh),dm.prototype.ja=function(){$e(this.b),Nh.prototype.ja.call(this)},dm.prototype.We=function(a){if(a instanceof ij)a=new Zl(a);else if(a instanceof jj)a=new $l(a);else{if(!(a instanceof G))return wa("unexpected layer configuration"),null;a=new bm(a)}return a},dm.prototype.X=function(){return"dom"},dm.prototype.Be=function(a){if(a){var b=this.i;if(fb(b,"precompose")||fb(b,"postcompose")){var b=this.f.canvas,c=a.pixelRatio;b.width=a.size[0]*c,b.height=a.size[1]*c}em(this,"precompose",a),b=a.layerStatesArray,vb(b);var d,e,f,g,c=a.viewState.resolution;for(d=0,e=b.length;e>d;++d)g=b[d],f=g.layer,f=Qh(this,f),this.b.insertBefore(f.target,this.b.childNodes[d]||null),th(g,c)&&"ready"==g.Wf?f.xf(a,g)&&f.th(a,g):f.Md();var h,b=a.layerStates;for(h in this.g)h in b||(f=this.g[h],$e(f.target));this.a||(this.b.style.display="",this.a=!0),Oh(a),Rh(this,a),a.postRenderFunctions.push(Ph),em(this,"postcompose",a)}else this.a&&(this.b.style.display="none",this.a=!1)},y(gm,fm),gm.prototype.X=function(){return 35632},y(hm,fm),hm.prototype.X=function(){return 35633},y(im,gm),ba(im),y(jm,hm),ba(jm),y(mm,$a),k=mm.prototype,k.ja=function(){Za(this.l);var a=this.b;if(!a.isContextLost()){for(var b in this.a)a.deleteBuffer(this.a[b].buffer);for(b in this.f)a.deleteProgram(this.f[b]);for(b in this.c)a.deleteShader(this.c[b]);a.deleteFramebuffer(this.i),a.deleteRenderbuffer(this.j),a.deleteTexture(this.s)}},k.$n=function(){return this.b},k.ao=function(){Ka(this.a),Ka(this.c),Ka(this.f),this.j=this.s=this.i=this.o=null},k.bo=function(){},k.ve=function(a){return a==this.o?!1:(this.b.useProgram(a),this.o=a,!0)},y(vm,qh),vm.prototype.sc=function(a,b){this.g.push(this.a.length),this.s.push(b);var c=a.ka();xm(this,c,c.length,a.va())},vm.prototype.tc=function(a,b){this.g.push(this.a.length),this.s.push(b);var c=a.ka();xm(this,c,c.length,a.va())},vm.prototype.Pa=function(a,b,c,d,e,f,g,h,l,m,n){f=a.b,nm(a,34962,this.v),nm(a,34963,this.o);var p=im.Yb(),q=jm.Yb(),q=sm(a,p,q);this.D?p=this.D:this.D=p=new km(f,q),a.ve(q),f.enableVertexAttribArray(p.f),f.vertexAttribPointer(p.f,2,5126,!1,32,0),f.enableVertexAttribArray(p.b),f.vertexAttribPointer(p.b,2,5126,!1,32,8),f.enableVertexAttribArray(p.c),f.vertexAttribPointer(p.c,2,5126,!1,32,16),f.enableVertexAttribArray(p.a),f.vertexAttribPointer(p.a,1,5126,!1,32,24),f.enableVertexAttribArray(p.g),f.vertexAttribPointer(p.g,1,5126,!1,32,28),q=this.Sa,wh(q,0,0,2/(c*e[0]),2/(c*e[1]),-d,-(b[0]-this.j[0]),-(b[1]-this.j[1])),b=this.Aa,c=2/e[0],e=2/e[1],fd(b),b[0]=c,b[5]=e,b[10]=1,b[15]=1,e=this.ta,fd(e),0!==d&&kd(e,-d),f.uniformMatrix4fv(p.l,!1,q),f.uniformMatrix4fv(p.j,!1,b),f.uniformMatrix4fv(p.o,!1,e),f.uniform1f(p.i,g);var r;if(void 0===l)Am(this,f,a,h,this.Fb,this.U);else{if(m)a:{for(d=a.g?5125:5123,a=a.g?4:2,e=this.g.length-1,g=this.l.length-1;g>=0;--g)for(f.bindTexture(3553,this.l[g]),m=g>0?this.i[g-1]:0,b=this.i[g];e>=0&&this.g[e]>=m;){if(r=this.g[e],c=this.s[e],q=w(c).toString(),void 0===h[q]&&c.W()&&(void 0===n||sc(n,c.W().H()))&&(f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),f.drawElements(4,b-r,d,r*a),b=l(c))){h=b;break a}b=r,e--}h=void 0}else f.clear(f.COLOR_BUFFER_BIT|f.DEPTH_BUFFER_BIT),Am(this,f,a,h,this.l,this.i),h=(h=l(null))?h:void 0;r=h}return f.disableVertexAttribArray(p.f),f.disableVertexAttribArray(p.b),f.disableVertexAttribArray(p.c),f.disableVertexAttribArray(p.a),f.disableVertexAttribArray(p.g),r},vm.prototype.Sb=function(a){var b=a.Xb(),c=a.ic(1),d=a.kd(),e=a.oe(1),f=a.v,g=a.Ia(),h=a.U,l=a.j,m=a.Eb();a=a.i;var n;0===this.c.length?this.c.push(c):(n=this.c[this.c.length-1],w(n)!=w(c)&&(this.U.push(this.a.length),this.c.push(c))),0===this.f.length?this.f.push(e):(n=this.f[this.f.length-1],w(n)!=w(e)&&(this.i.push(this.a.length),this.f.push(e))),this.A=b[0],this.C=b[1],this.R=m[1],this.ya=d[1],this.Ba=d[0],this.S=f,this.T=g[0],this.Y=g[1],this.la=l,this.Ra=h,this.za=a,this.qa=m[0]},Bm.prototype.b=function(a,b){var c=this.a[b];return void 0===c&&(c=new Em[b](this.c,this.f),this.a[b]=c),c},Bm.prototype.Ya=function(){return Ma(this.a)},Bm.prototype.Pa=function(a,b,c,d,e,f,g,h){var l,m,n;for(l=0,m=Tj.length;m>l;++l)n=this.a[Tj[l]],void 0!==n&&n.Pa(a,b,c,d,e,f,g,h,void 0,!1)},Bm.prototype.ra=function(a,b,c,d,e,f,g,h,l,m){var n=b.b;n.bindFramebuffer(n.FRAMEBUFFER,pm(b));var p;return void 0!==this.g&&(p=Ub(bc(a),d*this.g)),Fm(this,b,a,d,e,g,h,l,function(a){var b=new Uint8Array(4);return n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,b),0<b[3]&&(a=m(a))?a:void 0},!0,p)};var Em={Image:vm},Gm=[1,1];y(Im,qh),k=Im.prototype,k.rd=function(a){this.Sb(a.a)},k.rc=function(a){var b=a.X();switch(b){case"Point":this.tc(a,null);break;case"MultiPoint":this.sc(a,null);break;case"GeometryCollection":this.Ye(a,null);break;default:wa("Unsupported geometry type: "+b)}},k.Xe=function(a,b){var c=b.g(a);c&&sc(this.g,c.H())&&(this.rd(b),this.rc(c))},k.Ye=function(a){a=a.c;var b,c;for(b=0,c=a.length;c>b;++b)this.rc(a[b])},k.tc=function(a,b){var c=this.b,d=new Bm(1,this.g).b(0,"Image");d.Sb(this.a),d.tc(a,b),ym(d,c),d.Pa(this.b,this.f,this.i,this.l,this.o,this.c,1,{},void 0,!1),wm(d,c)()},k.sc=function(a,b){var c=this.b,d=new Bm(1,this.g).b(0,"Image");d.Sb(this.a),d.sc(a,b),ym(d,c),d.Pa(this.b,this.f,this.i,this.l,this.o,this.c,1,{},void 0,!1),wm(d,c)()},k.Sb=function(a){this.a=a},y(Jm,gm),ba(Jm),y(Km,hm),ba(Km),y(Mm,zh),Mm.prototype.vh=function(a,b,c){Om(this,"precompose",c,a),nm(c,34962,this.S);var d=c.b,e=Jm.Yb(),f=Km.Yb(),e=sm(c,e,f);this.v?f=this.v:this.v=f=new Lm(d,e),c.ve(e)&&(d.enableVertexAttribArray(f.b),d.vertexAttribPointer(f.b,2,5126,!1,16,0),d.enableVertexAttribArray(f.a),d.vertexAttribPointer(f.a,2,5126,!1,16,8),d.uniform1i(f.c,0)),d.uniformMatrix4fv(f.i,!1,this.s),d.uniformMatrix4fv(f.f,!1,this.U),d.uniform1f(f.g,b.opacity),d.bindTexture(3553,this.ob),d.drawArrays(5,0,4),Om(this,"postcompose",c,a)},Mm.prototype.yf=function(){this.i=this.ob=null,this.l=void 0},y(Pm,Mm),Pm.prototype.ra=function(a,b,c,d){var e=this.a;return e.ha().ra(a,b.viewState.resolution,b.viewState.rotation,b.skippedFeatureUids,function(a){return c.call(d,a,e)})},Pm.prototype.zf=function(a,b){var c=this.f.f,d=a.pixelRatio,e=a.viewState,f=e.center,g=e.resolution,h=e.rotation,l=this.c,m=this.ob,n=this.a.ha(),p=a.viewHints,q=a.extent;return void 0!==b.extent&&(q=rc(q,b.extent)),p[0]||p[1]||mc(q)||(e=n.A(q,g,d,e.projection))&&Bh(this,e)&&(l=e,m=Qm(this,e),this.ob&&a.postRenderFunctions.push(function(a,b){a.isContextLost()||a.deleteTexture(b)}.bind(null,c,this.ob))),l&&(c=this.f.c.l,Rm(this,c.width,c.height,d,f,g,h,l.H()),this.j=null,d=this.s,fd(d),jd(d,1,-1),id(d,0,-1),this.c=l,this.ob=m,Dh(a.attributions,l.l),Eh(a,n)),!0},Pm.prototype.ke=function(a,b){return void 0!==this.ra(a,b,vc,this)},Pm.prototype.Bc=function(a,b,c,d){if(this.c&&this.c.a())if(this.a.ha()instanceof El){if(a=a.slice(),yh(b.pixelToCoordinateMatrix,a,a),this.ra(a,b,vc,this))return c.call(d,this.a)}else{var e=[this.c.a().width,this.c.a().height];if(!this.j){var f=b.size;b=bd(),fd(b),id(b,-1,-1),jd(b,2/f[0],2/f[1]),id(b,0,f[1]),jd(b,1,-1),f=bd(),hd(this.U,f);var g=bd();fd(g),id(g,0,e[1]),jd(g,1,-1),jd(g,e[0]/2,e[1]/2),id(g,1,1);var h=bd();gd(g,f,h),gd(h,b,h),this.j=h}if(b=[0,0],yh(this.j,a,b),!(0>b[0]||b[0]>e[0]||0>b[1]||b[1]>e[1])&&(this.o||(this.o=Ue(1,1)),this.o.clearRect(0,0,1,1),this.o.drawImage(this.c.a(),b[0],b[1],1,1,0,0,1,1),0<this.o.getImageData(0,0,1,1).data[3]))return c.call(d,this.a)}},y(Sm,gm),ba(Sm),y(Tm,hm),ba(Tm),y(Vm,Mm),k=Vm.prototype,k.ja=function(){om(this.f.c,this.C),Mm.prototype.ja.call(this)},k.Pd=function(a,b,c){var d=this.f;return function(e,f){return Gf(a,b,e,f,function(a){var b=ef(d.a,a.getKey());return b&&(c[e]||(c[e]={}),c[e][a.ma.toString()]=a),b})}},k.yf=function(){Mm.prototype.yf.call(this),this.c=null},k.zf=function(a,b,c){var D,d=this.f,e=c.b,f=a.viewState,g=f.projection,h=this.a,l=h.ha(),m=l.eb(g),n=m.Kb(f.resolution),p=m.$(n),q=l.Zd(n,a.pixelRatio,g),r=q[0]/of(m.Ja(n),this.R)[0],u=p/r,x=l.Td(g),v=f.center;if(p==f.resolution?(v=Gh(v,p,a.size),D=qc(v,p,f.rotation,a.size)):D=a.extent,p=yf(m,D,p),this.o&&ne(this.o,p)&&this.j==l.g)u=this.A;else{var A=[p.ea-p.ca+1,p.ga-p.fa+1],z=Math.pow(2,Math.ceil(Math.log(Math.max(A[0]*q[0],A[1]*q[1]))/Math.LN2)),A=u*z,F=m.Ia(n),N=F[0]+p.ca*q[0]*u,u=F[1]+p.fa*q[1]*u,u=[N,u,N+A,u+A];Nm(this,a,z),e.viewport(0,0,z,z),e.clearColor(0,0,0,0),e.clear(16384),e.disable(3042),z=sm(c,this.D,this.T),c.ve(z),this.c||(this.c=new Um(e,z)),nm(c,34962,this.C),e.enableVertexAttribArray(this.c.b),e.vertexAttribPointer(this.c.b,2,5126,!1,16,0),e.enableVertexAttribArray(this.c.a),e.vertexAttribPointer(this.c.a,2,5126,!1,16,8),e.uniform1i(this.c.g,0),c={},c[n]={};var H,ya,Va,K=this.Pd(l,g,c),X=h.c(),z=!0,N=Sb(),oa=new le(0,0,0,0);for(ya=p.ca;ya<=p.ea;++ya)for(Va=p.fa;Va<=p.ga;++Va)if(F=l.$b(n,ya,Va,r,g),void 0===b.extent||(H=m.Ea(F.ma,N),sc(H,b.extent))){if(H=F.V(),H=2==H||4==H||3==H&&!X,!H&&F.a&&(F=F.a),H=F.V(),2==H){if(ef(d.a,F.getKey())){c[n][F.ma.toString()]=F;continue}}else if(4==H||3==H&&!X)continue;z=!1,H=wf(m,F.ma,K,oa,N),H||(F=xf(m,F.ma,oa,N))&&K(n+1,F)}b=Object.keys(c).map(Number),b.sort(nb);for(var Ya,Wa,Aa,K=new Float32Array(4),X=0,oa=b.length;oa>X;++X)for(Ya in Wa=c[b[X]])F=Wa[Ya],H=m.Ea(F.ma,N),ya=2*(H[2]-H[0])/A,Va=2*(H[3]-H[1])/A,Aa=2*(H[0]-u[0])/A-1,H=2*(H[1]-u[1])/A-1,ad(K,ya,Va,Aa,H),e.uniform4fv(this.c.f,K),Wm(d,F,q,x*r),e.drawArrays(5,0,4);z?(this.o=p,this.A=u,this.j=l.g):(this.A=this.o=null,this.j=-1,a.animate=!0)}Fh(a.usedTiles,l,n,p);var Rb=d.o;return Hh(a,l,m,r,g,D,n,h.f(),function(a){var b;(b=2!=a.V()||ef(d.a,a.getKey()))||(b=a.getKey()in Rb.g),b||Rb.f([a,Af(m,a.ma),m.$(a.ma[0]),q,x*r])},this),Ch(a,l),Eh(a,l),e=this.s,fd(e),id(e,(v[0]-u[0])/(u[2]-u[0]),(v[1]-u[1])/(u[3]-u[1])),0!==f.rotation&&kd(e,f.rotation),jd(e,a.size[0]*f.resolution/(u[2]-u[0]),a.size[1]*f.resolution/(u[3]-u[1])),id(e,-.5,-.5),!0},k.Bc=function(a,b,c,d){if(this.i){var e=[0,0];if(yh(this.s,[a[0]/b.size[0],(b.size[1]-a[1])/b.size[1]],e),a=[e[0]*this.l,e[1]*this.l],b=this.f.c.b,b.bindFramebuffer(b.FRAMEBUFFER,this.i),e=new Uint8Array(4),b.readPixels(a[0],a[1],1,1,b.RGBA,b.UNSIGNED_BYTE,e),0<e[3])return c.call(d,this.a)}},y(Xm,Mm),k=Xm.prototype,k.vh=function(a,b,c){this.o=b;var d=a.viewState,e=this.c;e&&!e.Ya()&&e.Pa(c,d.center,d.resolution,d.rotation,a.size,a.pixelRatio,b.opacity,b.Pc?a.skippedFeatureUids:{})},k.ja=function(){var a=this.c;a&&(Cm(a,this.f.c)(),this.c=null),Mm.prototype.ja.call(this)},k.ra=function(a,b,c,d){if(this.c&&this.o){var e=b.viewState,f=this.a,g={};return this.c.ra(a,this.f.c,e.center,e.resolution,e.rotation,b.size,b.pixelRatio,this.o.opacity,{},function(a){var b=w(a).toString();return b in g?void 0:(g[b]=!0,c.call(d,a,f))})}},k.ke=function(a,b){if(this.c&&this.o){var c=b.viewState;return Hm(this.c,a,this.f.c,c.resolution,c.rotation,b.pixelRatio,this.o.opacity,b.skippedFeatureUids)}return!1},k.Bc=function(a,b,c,d){return a=a.slice(),yh(b.pixelToCoordinateMatrix,a,a),this.ke(a,b)?c.call(d,this.a):void 0},k.wh=function(){Ah(this)},k.zf=function(a,b,c){function d(a){var b,c=a.dc();if(c?b=c.call(a,m):(c=e.i)&&(b=c(a,m)),b){if(b){if(c=!1,Array.isArray(b))for(var d=0,f=b.length;f>d;++d)c=rk(q,a,b[d],qk(m,n),this.wh,this)||c;else c=rk(q,a,b,qk(m,n),this.wh,this)||c;a=c}else a=!1;this.j=this.j||a}}var e=this.a;b=e.ha(),Dh(a.attributions,b.l),Eh(a,b);var f=a.viewHints[0],g=a.viewHints[1],h=e.R,l=e.S;if(!this.j&&!h&&f||!l&&g)return!0;var g=a.extent,h=a.viewState,f=h.projection,m=h.resolution,n=a.pixelRatio,h=e.g,p=e.a,l=Dj(e);if(void 0===l&&(l=pk),g=Ub(g,p*m),!this.j&&this.D==m&&this.R==h&&this.C==l&&Zb(this.A,g))return!0;this.c&&a.postRenderFunctions.push(Cm(this.c,c)),this.j=!1;var q=new Bm(.5*m/n,g,e.a);if(b.Oc(g,m,f),l){var r=[];b.tb(g,function(a){r.push(a)},this),r.sort(l),r.forEach(d,this)}else b.tb(g,d,this);return Dm(q,c),this.D=m,this.R=h,this.C=l,this.A=g,this.c=q,!0},y(Ym,Nh),k=Ym.prototype,k.We=function(a){return a instanceof ij?new Pm(this,a):a instanceof jj?new Vm(this,a):a instanceof G?new Xm(this,a):(wa("unexpected layer configuration"),null)},k.ja=function(){var a=this.f;a.isContextLost()||this.a.forEach(function(b){b&&a.deleteTexture(b.ob)}),ab(this.c),Nh.prototype.ja.call(this)},k.Gj=function(a,b){for(var d,c=this.f;1024<this.a.vc()-this.l;){if(d=this.a.b.oc)c.deleteTexture(d.ob);else{if(+this.a.b.bc==b.index)break;--this.l}this.a.pop()}},k.X=function(){return"webgl"},k.Pm=function(a){a.preventDefault(),this.a.clear(),this.l=0,a=this.g;for(var b in a)a[b].yf()},k.Qm=function(){Zm(this),this.i.render()},k.Be=function(a){var b=this.c,c=this.f;if(c.isContextLost())return!1;if(!a)return this.j&&(this.b.style.display="none",this.j=!1),!1;this.v=a.focus,this.a.set((-a.index).toString(),null),++this.l,$m(this,"precompose",a);var d=[],e=a.layerStatesArray;vb(e);var g,h,l,m,f=a.viewState.resolution;for(g=0,h=e.length;h>g;++g)m=e[g],th(m,f)&&"ready"==m.Wf&&(l=Qh(this,m.layer),l.zf(a,m,b)&&d.push(m));for(e=a.size[0]*a.pixelRatio,f=a.size[1]*a.pixelRatio,(this.b.width!=e||this.b.height!=f)&&(this.b.width=e,this.b.height=f),c.bindFramebuffer(36160,null),c.clearColor(0,0,0,0),c.clear(16384),c.enable(3042),c.viewport(0,0,this.b.width,this.b.height),g=0,h=d.length;h>g;++g)m=d[g],l=Qh(this,m.layer),l.vh(a,m,b);this.j||(this.b.style.display="",this.j=!0),Oh(a),1024<this.a.vc()-this.l&&a.postRenderFunctions.push(this.Gj.bind(this)),this.o.Ya()||(a.postRenderFunctions.push(this.D),a.animate=!0),$m(this,"postcompose",a),Rh(this,a),a.postRenderFunctions.push(Ph)},k.ra=function(a,b,c,d,e,f){var g;if(this.f.isContextLost())return!1;var m,h=b.viewState,l=b.layerStatesArray;for(m=l.length-1;m>=0;--m){g=l[m];var n=g.layer;if(th(g,h.resolution)&&e.call(f,n)&&(g=Qh(this,n).ra(a,b,c,d)))return g}},k.sh=function(a,b,c,d){var e=!1;if(this.f.isContextLost())return!1;var h,f=b.viewState,g=b.layerStatesArray;for(h=g.length-1;h>=0;--h){var l=g[h],m=l.layer;if(th(l,f.resolution)&&c.call(d,m)&&(e=Qh(this,m).ke(a,b)))return!0}return e},k.rh=function(a,b,c,d,e){if(this.f.isContextLost())return!1;var g,l,f=b.viewState,h=b.layerStatesArray;for(l=h.length-1;l>=0;--l){g=h[l];var m=g.layer;if(th(g,f.resolution)&&e.call(d,m)&&(g=Qh(this,m).Bc(a,b,c,d)))return g}};var an=["canvas","webgl","dom"];y(Q,jb),k=Q.prototype,k.uj=function(a){this.o.push(a)},k.vj=function(a){this.l.push(a)},k.kg=function(a){this.wc().Sc().push(a)},k.lg=function(a){this.j.push(a)},k.mg=function(a){var b=a.Xa();void 0!==b&&(this.Bf[b.toString()]=a),a.setMap(this)},k.Wa=function(a){this.render(),Array.prototype.push.apply(this.R,arguments)},k.ja=function(){ab(this.za),ab(this.C),Xa(this.a,"wheel",this.Nc,this),Xa(this.a,"mousewheel",this.Nc,this),void 0!==this.c&&(qa.removeEventListener("resize",this.c,!1),this.c=void 0),this.i&&(qa.cancelAnimationFrame(this.i),this.i=void 0),this.fh(null),jb.prototype.ja.call(this)},k.jd=function(a,b,c,d,e){return this.f?(a=this.Ma(a),this.C.ra(a,this.f,b,void 0!==c?c:null,void 0!==d?d:vc,void 0!==e?e:null)):void 0},k.Tl=function(a,b,c,d,e){return this.f?this.C.rh(a,this.f,b,void 0!==c?c:null,void 0!==d?d:vc,void 0!==e?e:null):void 0},k.kl=function(a,b,c){return this.f?(a=this.Ma(a),this.C.sh(a,this.f,void 0!==b?b:vc,void 0!==c?c:null)):!1},k.Wj=function(a){return this.Ma(this.Sd(a))},k.Sd=function(a){var b=this.a.getBoundingClientRect();return a=a.changedTouches?a.changedTouches[0]:a,[a.clientX-b.left,a.clientY-b.top]},k.sf=function(){return this.get("target")},k.xc=function(){var a=this.sf();return void 0!==a?"string"==typeof a?document.getElementById(a):a:null},k.Ma=function(a){var b=this.f;return b?(a=a.slice(),yh(b.pixelToCoordinateMatrix,a,a)):null},k.Uj=function(){return this.o},k.nk=function(){return this.j},k.mk=function(a){return a=this.Bf[a.toString()],void 0!==a?a:null},k.ak=function(){return this.l},k.wc=function(){return this.get("layergroup")},k.eh=function(){return this.wc().Sc()},k.Ga=function(a){var b=this.f;return b?(a=a.slice(0,2),yh(b.coordinateToPixelMatrix,a,a)):null},k.Za=function(){return this.get("size")},k.aa=function(){return this.get("view")},k.Dk=function(){return this.a},k.Bk=function(a,b,c,d){var e=this.f;return e&&b in e.wantedTiles&&e.wantedTiles[b][a.ma.toString()]?(a=c[0]-e.focus[0],c=c[1]-e.focus[1],65536*Math.log(d)+Math.sqrt(a*a+c*c)/d):1/0},k.Nc=function(a,b){var c=new ah(b||a.type,this,a);this.Pg(c)},k.Pg=function(a){if(this.f){this.T=a.coordinate,a.frameState=this.f;var c,b=this.l.a;if(!1!==this.b(a))for(c=b.length-1;c>=0;c--){var d=b[c];if(d.f()&&!d.handleEvent(a))break}}},k.cl=function(){var a=this.f,b=this.qa;if(!b.Ya()){var c=16,d=c;if(a){var e=a.viewHints;e[0]&&(c=this.Gb?8:0,d=2),e[1]&&(c=this.Gc?8:0,d=2)}b.i<c&&(Wh(b),Yh(b,c,d))}for(b=this.ta,c=0,d=b.length;d>c;++c)b[c](this,a);b.length=0},k.el=function(){this.render()},k.gl=function(){var a;if(this.sf()&&(a=this.xc()),this.s){for(var b=0,c=this.s.length;c>b;++b)Pa(this.s[b]);this.s=null}a?(a.appendChild(this.a),a=this.la?this.la:a,this.s=[B(a,"keydown",this.Nc,this),B(a,"keypress",this.Nc,this)],this.c||(this.c=this.Wc.bind(this),qa.addEventListener("resize",this.c,!1))):($e(this.a),void 0!==this.c&&(qa.removeEventListener("resize",this.c,!1),this.c=void 0)),this.Wc()},k.hl=function(){this.render()},k.jl=function(){this.render()},k.il=function(){this.S&&(Pa(this.S),this.S=null);var a=this.aa();a&&(this.S=B(a,"propertychange",this.jl,this)),this.render()},k.Pk=function(){this.render()},k.Qk=function(){this.render()},k.Ok=function(){this.D&&(this.D.forEach(Pa),
this.D=null);var a=this.wc();a&&(this.D=[B(a,"propertychange",this.Qk,this),B(a,"change",this.Pk,this)]),this.render()},k.Vo=function(){this.i&&qa.cancelAnimationFrame(this.i),this.Y()},k.render=function(){void 0===this.i&&(this.i=qa.requestAnimationFrame(this.Y))},k.Oo=function(a){return this.o.remove(a)},k.Po=function(a){return this.l.remove(a)},k.Ro=function(a){return this.wc().Sc().remove(a)},k.So=function(a){return this.j.remove(a)},k.Uo=function(a){var b,c,d,e=this.Za(),f=this.aa(),g=Sb(),h=null;if(void 0!==e&&0<e[0]&&0<e[1]&&f&&be(f)){var h=Yd(f,this.f?this.f.viewHints:void 0),l=this.wc().gf(),m={};for(b=0,c=l.length;c>b;++b)m[w(l[b].layer)]=l[b];d=f.V(),h={animate:!1,attributions:{},coordinateToPixelMatrix:this.Sa,extent:g,focus:this.T?this.T:d.center,index:this.pb++,layerStates:m,layerStatesArray:l,logos:Ja({},this.Me),pixelRatio:this.Ne,pixelToCoordinateMatrix:this.Oe,postRenderFunctions:[],size:e,skippedFeatureUids:this.De,tileQueue:this.qa,time:a,usedTiles:{},viewState:d,viewHints:h,wantedTiles:{}}}if(h){for(a=this.R,b=e=0,c=a.length;c>b;++b)f=a[b],f(this,h)&&(a[e++]=f);a.length=e,h.extent=qc(d.center,d.resolution,d.rotation,h.size,g)}this.f=h,this.C.Be(h),h&&(h.animate&&this.render(),Array.prototype.push.apply(this.ta,h.postRenderFunctions),0!==this.R.length||h.viewHints[0]||h.viewHints[1]||ec(h.extent,this.Aa)||(this.b(new bf("moveend",this,h)),Vb(h.extent,this.Aa))),this.b(new bf("postrender",this,h)),Zf(this.cl,this)},k.ji=function(a){this.set("layergroup",a)},k.Vf=function(a){this.set("size",a)},k.fh=function(a){this.set("target",a)},k.kp=function(a){this.set("view",a)},k.ti=function(a){a=w(a).toString(),this.De[a]=!0,this.render()},k.Wc=function(){var a=this.xc();if(a){var b=qa.getComputedStyle(a);this.Vf([a.offsetWidth-parseFloat(b.borderLeftWidth)-parseFloat(b.paddingLeft)-parseFloat(b.paddingRight)-parseFloat(b.borderRightWidth),a.offsetHeight-parseFloat(b.borderTopWidth)-parseFloat(b.paddingTop)-parseFloat(b.paddingBottom)-parseFloat(b.borderBottomWidth)])}else this.Vf(void 0)},k.wi=function(a){a=w(a).toString(),delete this.De[a],this.render()},hj(),y(cn,jb),k=cn.prototype,k.Rd=function(){return this.get("element")},k.Xa=function(){return this.j},k.ge=function(){return this.get("map")},k.Kg=function(){return this.get("offset")},k.gh=function(){return this.get("position")},k.Lg=function(){return this.get("positioning")},k.Jk=function(){af(this.f);var a=this.Rd();a&&this.f.appendChild(a)},k.Vk=function(){this.c&&($e(this.f),Pa(this.c),this.c=null);var a=this.ge();a&&(this.c=B(a,"postrender",this.render,this),dn(this),a=this.s?a.v:a.A,this.o?a.insertBefore(this.f,a.childNodes[0]||null):a.appendChild(this.f))},k.render=function(){dn(this)},k.Zk=function(){dn(this)},k.al=function(){if(dn(this),void 0!==this.get("position")&&this.autoPan){var a=this.ge();if(void 0!==a&&a.xc()){var b=en(a.xc(),a.Za()),c=this.Rd(),d=c.offsetWidth,e=c.currentStyle||qa.getComputedStyle(c),d=d+(parseInt(e.marginLeft,10)+parseInt(e.marginRight,10)),e=c.offsetHeight,f=c.currentStyle||qa.getComputedStyle(c),e=e+(parseInt(f.marginTop,10)+parseInt(f.marginBottom,10)),g=en(c,[d,e]),c=this.l;Zb(b,g)||(d=g[0]-b[0],e=b[2]-g[2],f=g[1]-b[1],g=b[3]-g[3],b=[0,0],0>d?b[0]=d-c:0>e&&(b[0]=Math.abs(e)+c),0>f?b[1]=f-c:0>g&&(b[1]=Math.abs(g)+c),0===b[0]&&0===b[1])||(c=a.aa().ab(),d=a.Ga(c),b=[d[0]+b[0],d[1]+b[1]],this.i&&(this.i.source=c,a.Wa(ie(this.i))),a.aa().lb(a.Ma(b)))}}},k.bl=function(){dn(this)},k.fi=function(a){this.set("element",a)},k.setMap=function(a){this.set("map",a)},k.li=function(a){this.set("offset",a)},k.tf=function(a){this.set("position",a)},k.oi=function(a){this.set("positioning",a)},y(gn,cf),k=gn.prototype,k.setMap=function(a){var b=this.a;a!==b&&(b&&(b=b.aa())&&Xa(b,lb("rotation"),this.ce,this),cf.prototype.setMap.call(this,a),a&&(this.s.push(B(a,"propertychange",this.Wk,this)),0===this.f.eh().cc()&&this.f.ji(a.wc()),a=a.aa()))&&(B(a,lb("rotation"),this.ce,this),be(a)&&(this.f.Wc(),jn(this)))},k.Wk=function(a){"view"===a.key&&((a=a.oldValue)&&Xa(a,lb("rotation"),this.ce,this),a=this.a.aa(),B(a,lb("rotation"),this.ce,this))},k.ce=function(){this.f.aa().he(this.a.aa().La())},k.gm=function(a){a.preventDefault(),ln(this)},k.fm=function(){return this.o},k.im=function(a){this.o!==a&&(this.o=a,this.element.classList.toggle("ol-uncollapsible"),!a&&this.l&&ln(this))},k.hm=function(a){this.o&&this.l!==a&&ln(this)},k.em=function(){return this.l},k.pk=function(){return this.f},y(mn,cf);var on=[1,2,5];mn.prototype.vb=function(){return this.get("units")},mn.prototype.R=function(){pn(this)},mn.prototype.D=function(a){this.set("units",a)},y(qn,cf),qn.prototype.ja=function(){ab(this.o),cf.prototype.ja.call(this)};var rn=0;k=qn.prototype,k.setMap=function(a){cf.prototype.setMap.call(this,a),a&&a.render()},k.Hk=function(a){var b=this.a,c=b.aa(),d=c.$();b.Wa(ke({resolution:d,duration:this.Y,easing:ee})),a=un(this,xa(1===this.l?(a.offsetX-this.T[0]/2)/this.C:(a.offsetY-this.T[1]/2)/this.j,0,1)),c.Tb(c.constrainResolution(a))},k.Ik=function(a){if(!this.A&&a.b.target===this.element.firstElementChild&&(ce(this.a.aa(),1),this.D=a.clientX,this.R=a.clientY,this.A=!0,0===this.v.length)){a=this.Ng;var b=this.Og;this.v.push(B(document,"mousemove",a,this),B(document,"touchmove",a,this),B(document,Gg,a,this),B(document,"mouseup",b,this),B(document,"touchend",b,this),B(document,Hg,b,this))}},k.Ng=function(a){if(this.A){var b=this.element.firstElementChild;this.f=un(this,xa(1===this.l?(a.clientX-this.D+parseInt(b.style.left,10))/this.C:(a.clientY-this.R+parseInt(b.style.top,10))/this.j,0,1)),this.a.aa().Tb(this.f),tn(this,this.f),this.D=a.clientX,this.R=a.clientY}},k.Og=function(){if(this.A){var a=this.a,b=a.aa();ce(b,-1),a.Wa(ke({resolution:this.f,duration:this.Y,easing:ee})),a=b.constrainResolution(this.f),b.Tb(a),this.A=!1,this.R=this.D=void 0,this.v.forEach(Pa),this.v.length=0}},y(vn,cf),vn.prototype.l=function(a){a.preventDefault();var b=this.a;a=b.aa();var c=this.f?this.f:a.l.H(),b=b.Za();a.bf(c,b)},y(wn,jb),k=wn.prototype,k.ja=function(){this.qf(!1),jb.prototype.ja.call(this)},k.co=function(a){if(null!==a.alpha){var b=Da(a.alpha);this.set("alpha",b),"boolean"==typeof a.absolute&&a.absolute?this.set("heading",b):ea(a.webkitCompassHeading)&&-1!=a.webkitCompassAccuracy&&this.set("heading",Da(a.webkitCompassHeading))}null!==a.beta&&this.set("beta",Da(a.beta)),null!==a.gamma&&this.set("gamma",Da(a.gamma)),this.u()},k.Oj=function(){return this.get("alpha")},k.Rj=function(){return this.get("beta")},k.Yj=function(){return this.get("gamma")},k.Hl=function(){return this.get("heading")},k.$g=function(){return this.get("tracking")},k.Il=function(){if(pg){var a=this.$g();a&&!this.a?this.a=B(qa,"deviceorientation",this.co,this):a||null===this.a||(Pa(this.a),this.a=null)}},k.qf=function(a){this.set("tracking",a)},y(Bn,xn),k=Bn.prototype,k.X=function(){return"json"},k.Qb=function(a,b){return this.Tc(Cn(a),yn(this,a,b))},k.Fa=function(a,b){return this.If(Cn(a),yn(this,a,b))},k.Uc=function(a,b){return this.Rh(Cn(a),yn(this,a,b))},k.Oa=function(a){return this.Yh(Cn(a))},k.Cd=function(a,b){return JSON.stringify(this.Xc(a,b))},k.Wb=function(a,b){return JSON.stringify(this.He(a,b))},k.Yc=function(a,b){return JSON.stringify(this.Je(a,b))},y(R,md),k=R.prototype,k.wj=function(a){this.B?rb(this.B,a):this.B=a.slice(),this.u()},k.clone=function(){var a=new R(null);return a.ba(this.f,this.B.slice()),a},k.rb=function(a,b,c,d){return d<Wb(this.H(),a,b)?d:(this.C!=this.g&&(this.D=Math.sqrt(td(this.B,0,this.B.length,this.a,0)),this.C=this.g),vd(this.B,0,this.B.length,this.a,this.D,!1,a,b,c,d))},k.Lj=function(a,b){return Kd(this.B,0,this.B.length,this.a,a,b)},k.lm=function(a,b){return"XYM"!=this.f&&"XYZM"!=this.f?null:En(this.B,0,this.B.length,this.a,a,void 0!==b?b:!1)},k.Z=function(){return Ad(this.B,0,this.B.length,this.a)},k.Bg=function(a,b){return Dn(this.B,0,this.B.length,this.a,a,b)},k.mm=function(){var f,a=this.B,b=this.a,c=a[0],d=a[1],e=0;for(f=0+b;f<this.B.length;f+=b)var g=a[f],h=a[f+1],e=e+Math.sqrt((g-c)*(g-c)+(h-d)*(h-d)),c=g,d=h;return e},k.Mc=function(a){var b=[];return b.length=Cd(this.B,0,this.B.length,this.a,a,b,0),a=new R(null),a.ba("XY",b),a},k.X=function(){return"LineString"},k.Ka=function(a){return Ld(this.B,0,this.B.length,this.a,a)},k.pa=function(a,b){a?(pd(this,b,a,1),this.B||(this.B=[]),this.B.length=yd(this.B,0,a,this.a),this.u()):this.ba("XY",null)},k.ba=function(a,b){od(this,a,b),this.u()},y(S,md),k=S.prototype,k.xj=function(a){this.B?rb(this.B,a.ka().slice()):this.B=a.ka().slice(),this.i.push(this.B.length),this.u()},k.clone=function(){var a=new S(null);return a.ba(this.f,this.B.slice(),this.i.slice()),a},k.rb=function(a,b,c,d){return d<Wb(this.H(),a,b)?d:(this.j!=this.g&&(this.C=Math.sqrt(ud(this.B,0,this.i,this.a,0)),this.j=this.g),wd(this.B,0,this.i,this.a,this.C,!1,a,b,c,d))},k.om=function(a,b,c){return"XYM"!=this.f&&"XYZM"!=this.f||0===this.B.length?null:Fn(this.B,this.i,this.a,a,void 0!==b?b:!1,void 0!==c?c:!1)},k.Z=function(){return Bd(this.B,0,this.i,this.a)},k.Cb=function(){return this.i},k.fk=function(a){if(0>a||this.i.length<=a)return null;var b=new R(null);return b.ba(this.f,this.B.slice(0===a?0:this.i[a-1],this.i[a])),b},k.ld=function(){var f,g,a=this.B,b=this.i,c=this.f,d=[],e=0;for(f=0,g=b.length;g>f;++f){var h=b[f],l=new R(null);l.ba(c,a.slice(e,h)),d.push(l),e=h}return d},k.Mc=function(a){var l,m,b=[],c=[],d=this.B,e=this.i,f=this.a,g=0,h=0;for(l=0,m=e.length;m>l;++l){var n=e[l],h=Cd(d,g,n,f,a,b,h);c.push(h),g=n}return b.length=h,a=new S(null),a.ba("XY",b,c),a},k.X=function(){return"MultiLineString"},k.Ka=function(a){a:{var f,g,b=this.B,c=this.i,d=this.a,e=0;for(f=0,g=c.length;g>f;++f){if(Ld(b,e,c[f],d,a)){a=!0;break a}e=c[f]}a=!1}return a},k.pa=function(a,b){if(a){pd(this,b,a,2),this.B||(this.B=[]);var c=zd(this.B,0,a,this.a,this.i);this.B.length=0===c.length?0:c[c.length-1],this.u()}else this.ba("XY",null,this.i)},k.ba=function(a,b,c){od(this,a,b),this.i=c,this.u()},y(Hn,md),k=Hn.prototype,k.zj=function(a){this.B?rb(this.B,a.ka()):this.B=a.ka().slice(),this.u()},k.clone=function(){var a=new Hn(null);return a.ba(this.f,this.B.slice()),a},k.rb=function(a,b,c,d){if(d<Wb(this.H(),a,b))return d;var g,h,l,e=this.B,f=this.a;for(g=0,h=e.length;h>g;g+=f)if(l=Ca(a,b,e[g],e[g+1]),d>l){for(d=l,l=0;f>l;++l)c[l]=e[g+l];c.length=f}return d},k.Z=function(){return Ad(this.B,0,this.B.length,this.a)},k.rk=function(a){var b=this.B?this.B.length/this.a:0;return 0>a||a>=b?null:(b=new C(null),b.ba(this.f,this.B.slice(a*this.a,(a+1)*this.a)),b)},k.ie=function(){var e,f,a=this.B,b=this.f,c=this.a,d=[];for(e=0,f=a.length;f>e;e+=c){var g=new C(null);g.ba(b,a.slice(e,e+c)),d.push(g)}return d},k.X=function(){return"MultiPoint"},k.Ka=function(a){var d,e,f,g,b=this.B,c=this.a;for(d=0,e=b.length;e>d;d+=c)if(f=b[d],g=b[d+1],Yb(a,f,g))return!0;return!1},k.pa=function(a,b){a?(pd(this,b,a,1),this.B||(this.B=[]),this.B.length=yd(this.B,0,a,this.a),this.u()):this.ba("XY",null)},k.ba=function(a,b){od(this,a,b),this.u()},y(T,md),k=T.prototype,k.Aj=function(a){if(this.B){var b=this.B.length;rb(this.B,a.ka()),a=a.Cb().slice();var c,d;for(c=0,d=a.length;d>c;++c)a[c]+=b}else this.B=a.ka().slice(),a=a.Cb().slice(),this.i.push();this.i.push(a),this.u()},k.clone=function(){for(var a=new T(null),b=this.i.length,c=Array(b),d=0;b>d;++d)c[d]=this.i[d].slice();return In(a,this.f,this.B.slice(),c),a},k.rb=function(a,b,c,d){if(d<Wb(this.H(),a,b))return d;if(this.R!=this.g){var h,l,e=this.i,f=0,g=0;for(h=0,l=e.length;l>h;++h)var m=e[h],g=ud(this.B,f,m,this.a,g),f=m[m.length-1];this.S=Math.sqrt(g),this.R=this.g}e=Nj(this),f=this.i,g=this.a,h=this.S,l=0;var n,p,m=[NaN,NaN];for(n=0,p=f.length;p>n;++n){var q=f[n];d=wd(e,l,q,g,h,!0,a,b,c,d,m),l=q[q.length-1]}return d},k.Ac=function(a,b){var c;a:{c=Nj(this);var d=this.i,e=0;if(0!==d.length){var f,g;for(f=0,g=d.length;g>f;++f){var h=d[f];if(Id(c,e,h,this.a,a,b)){c=!0;break a}e=h[h.length-1]}}c=!1}return c},k.pm=function(){var e,f,a=Nj(this),b=this.i,c=0,d=0;for(e=0,f=b.length;f>e;++e)var g=b[e],d=d+rd(a,c,g,this.a),c=g[g.length-1];return d},k.Z=function(a){var b;void 0!==a?(b=Nj(this).slice(),Qd(b,this.i,this.a,a)):b=this.B,a=b,b=this.i;var g,h,c=this.a,d=0,e=[],f=0;for(g=0,h=b.length;h>g;++g){var l=b[g];e[f++]=Bd(a,d,l,c,e[f]),d=l[l.length-1]}return e.length=f,e},k.ck=function(){var a=new Hn(null);return a.ba("XY",Oj(this).slice()),a},k.Mc=function(a){var b=[],c=[],d=this.B,e=this.i,f=this.a;a=Math.sqrt(a);var l,m,g=0,h=0;for(l=0,m=e.length;m>l;++l){var n=e[l],p=[],h=Dd(d,g,n,f,a,b,h,p);c.push(p),g=n[n.length-1]}return b.length=h,d=new T(null),In(d,"XY",b,c),d},k.tk=function(a){if(0>a||this.i.length<=a)return null;var b;0===a?b=0:(b=this.i[a-1],b=b[b.length-1]),a=this.i[a].slice();var c=a[a.length-1];if(0!==b){var d,e;for(d=0,e=a.length;e>d;++d)a[d]-=b}return d=new E(null),d.ba(this.f,this.B.slice(b,c),a),d},k.Vd=function(){var f,g,h,l,a=this.f,b=this.B,c=this.i,d=[],e=0;for(f=0,g=c.length;g>f;++f){var m=c[f].slice(),n=m[m.length-1];if(0!==e)for(h=0,l=m.length;l>h;++h)m[h]-=e;h=new E(null),h.ba(a,b.slice(e,n),m),d.push(h),e=n}return d},k.X=function(){return"MultiPolygon"},k.Ka=function(a){a:{var f,g,b=Nj(this),c=this.i,d=this.a,e=0;for(f=0,g=c.length;g>f;++f){var h=c[f];if(Md(b,e,h,d,a)){a=!0;break a}e=h[h.length-1]}a=!1}return a},k.pa=function(a,b){if(a){pd(this,b,a,3),this.B||(this.B=[]);var h,l,c=this.B,d=this.a,e=this.i,f=0,e=e?e:[],g=0;for(h=0,l=a.length;l>h;++h)f=zd(c,f,a[h],d,e[g]),e[g++]=f,f=f[f.length-1];e.length=g,0===e.length?this.B.length=0:(c=e[e.length-1],this.B.length=0===c.length?0:c[c.length-1]),this.u()}else In(this,"XY",null,this.i)},y(Kn,Bn);var Nn={Point:function(a){return void 0!==a.m&&void 0!==a.z?new C([a.x,a.y,a.z,a.m],"XYZM"):void 0!==a.z?new C([a.x,a.y,a.z],"XYZ"):void 0!==a.m?new C([a.x,a.y,a.m],"XYM"):new C([a.x,a.y])},LineString:function(a){return new R(a.paths[0],Mn(a))},Polygon:function(a){return new E(a.rings,Mn(a))},MultiPoint:function(a){return new Hn(a.points,Mn(a))},MultiLineString:function(a){return new S(a.paths,Mn(a))},MultiPolygon:function(a){return new T(a.rings,Mn(a))}},Pn={Point:function(a){var b=a.Z();return a=a.f,"XYZ"===a?{x:b[0],y:b[1],z:b[2]}:"XYM"===a?{x:b[0],y:b[1],m:b[2]}:"XYZM"===a?{x:b[0],y:b[1],z:b[2],m:b[3]}:"XY"===a?{x:b[0],y:b[1]}:void wa("Unknown geometry layout")},LineString:function(a){var b=On(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:[a.Z()]}},Polygon:function(a){var b=On(a);return{hasZ:b.hasZ,hasM:b.hasM,rings:a.Z(!1)}},MultiPoint:function(a){var b=On(a);return{hasZ:b.hasZ,hasM:b.hasM,points:a.Z()}},MultiLineString:function(a){var b=On(a);return{hasZ:b.hasZ,hasM:b.hasM,paths:a.Z()}},MultiPolygon:function(a){var b=On(a);a=a.Z(!1);for(var c=[],d=0;d<a.length;d++)for(var e=a[d].length-1;e>=0;e--)c.push(a[d][e]);return{hasZ:b.hasZ,hasM:b.hasM,rings:c}}};k=Kn.prototype,k.Tc=function(a,b){var c=Ln(a.geometry,b),d=new Ok;return this.b&&d.Dc(this.b),d.Ua(c),b&&b.lf&&a.attributes[b.lf]&&d.lc(a.attributes[b.lf]),a.attributes&&d.G(a.attributes),d},k.If=function(a,b){var c=b?b:{};if(a.features){var f,g,d=[],e=a.features;for(c.lf=a.objectIdFieldName,f=0,g=e.length;g>f;++f)d.push(this.Tc(e[f],c));return d}return[this.Tc(a,c)]},k.Rh=function(a,b){return Ln(a,b)},k.Yh=function(a){return a.spatialReference&&a.spatialReference.wkid?Dc("EPSG:"+a.spatialReference.wkid):null},k.Je=function(a,b){return Qn(a,zn(this,b))},k.Xc=function(a,b){b=zn(this,b);var c={},d=a.W();return d&&(c.geometry=Qn(d,b)),d=a.O(),delete d[a.a],c.attributes=Ma(d)?{}:d,b&&b.featureProjection&&(c.spatialReference={wkid:Dc(b.featureProjection).cb.split(":").pop()}),c},k.He=function(a,b){b=zn(this,b);var d,e,c=[];for(d=0,e=a.length;e>d;++d)c.push(this.Xc(a[d],b));return{features:c}},y(Rn,Yc),k=Rn.prototype,k.clone=function(){var a=new Rn(null);return a.hi(this.c),a},k.rb=function(a,b,c,d){if(d<Wb(this.H(),a,b))return d;var f,g,e=this.c;for(f=0,g=e.length;g>f;++f)d=e[f].rb(a,b,c,d);return d},k.Ac=function(a,b){var d,e,c=this.c;for(d=0,e=c.length;e>d;++d)if(c[d].Ac(a,b))return!0;return!1},k.Nd=function(a){ac(1/0,1/0,-(1/0),-(1/0),a);for(var b=this.c,c=0,d=b.length;d>c;++c)fc(a,b[c].H());return a},k.ef=function(){return Tn(this.c)},k.md=function(a){if(this.s!=this.g&&(Ka(this.l),this.o=0,this.s=this.g),0>a||0!==this.o&&a<this.o)return this;var b=a.toString();if(this.l.hasOwnProperty(b))return this.l[b];var f,g,c=[],d=this.c,e=!1;for(f=0,g=d.length;g>f;++f){var h=d[f],l=h.md(a);c.push(l),l!==h&&(e=!0)}return e?(a=new Rn(null),Un(a),a.c=c,Sn(a),a.u(),this.l[b]=a):(this.o=a,this)},k.X=function(){return"GeometryCollection"},k.Ka=function(a){var c,d,b=this.c;for(c=0,d=b.length;d>c;++c)if(b[c].Ka(a))return!0;return!1},k.Ya=function(){return 0===this.c.length},k.rotate=function(a,b){for(var c=this.c,d=0,e=c.length;e>d;++d)c[d].rotate(a,b);this.u()},k.hi=function(a){a=Tn(a),Un(this),this.c=a,Sn(this),this.u()},k.qc=function(a){var c,d,b=this.c;for(c=0,d=b.length;d>c;++c)b[c].qc(a);this.u()},k.Rc=function(a,b){var d,e,c=this.c;for(d=0,e=c.length;e>d;++d)c[d].Rc(a,b);this.u()},k.ja=function(){Un(this),Yc.prototype.ja.call(this)},y(Vn,Bn);var Xn={Point:function(a){return new C(a.coordinates)},LineString:function(a){return new R(a.coordinates)},Polygon:function(a){return new E(a.coordinates)},MultiPoint:function(a){return new Hn(a.coordinates)},MultiLineString:function(a){return new S(a.coordinates)},MultiPolygon:function(a){return new T(a.coordinates)},GeometryCollection:function(a,b){var c=a.geometries.map(function(a){return Wn(a,b)});return new Rn(c)}},Zn={Point:function(a){return{type:"Point",coordinates:a.Z()}},LineString:function(a){return{type:"LineString",coordinates:a.Z()}},Polygon:function(a,b){var c;return b&&(c=b.rightHanded),{type:"Polygon",coordinates:a.Z(c)}},MultiPoint:function(a){return{type:"MultiPoint",coordinates:a.Z()}},MultiLineString:function(a){return{type:"MultiLineString",coordinates:a.Z()}},MultiPolygon:function(a,b){var c;return b&&(c=b.rightHanded),{type:"MultiPolygon",coordinates:a.Z(c)}},GeometryCollection:function(a,b){return{type:"GeometryCollection",geometries:a.c.map(function(a){var d=Ja({},b);return delete d.featureProjection,Yn(a,d)})}},Circle:function(){return{type:"GeometryCollection",geometries:[]}}};k=Vn.prototype,k.Tc=function(a,b){var c=Wn(a.geometry,b),d=new Ok;return this.b&&d.Dc(this.b),d.Ua(c),void 0!==a.id&&d.lc(a.id),a.properties&&d.G(a.properties),d},k.If=function(a,b){if("Feature"==a.type)return[this.Tc(a,b)];if("FeatureCollection"==a.type){var e,f,c=[],d=a.features;for(e=0,f=d.length;f>e;++e)c.push(this.Tc(d[e],b));return c}return wa("Unknown geoJSONObject.type: "+a.type),[]},k.Rh=function(a,b){return Wn(a,b)},k.Yh=function(a){return(a=a.crs)?"name"==a.type?Dc(a.properties.name):"EPSG"==a.type?Dc("EPSG:"+a.properties.code):(wa("Unknown crs.type: "+a.type),null):this.defaultDataProjection},k.Xc=function(a,b){b=zn(this,b);var c={type:"Feature"},d=a.Xa();return void 0!==d&&(c.id=d),(d=a.W())?c.geometry=Yn(d,b):c.geometry=null,d=a.O(),delete d[a.a],Ma(d)?c.properties=null:c.properties=d,c},k.He=function(a,b){b=zn(this,b);var d,e,c=[];for(d=0,e=a.length;e>d;++d)c.push(this.Xc(a[d],b));return{type:"FeatureCollection",features:c}},k.Je=function(a,b){return Yn(a,zn(this,b))},y($n,xn),k=$n.prototype,k.X=function(){return"xml"},k.Qb=function(a,b){if(Vk(a))return ao(this,a,b);if(Wk(a))return this.Ph(a,b);if("string"==typeof a){var c=Xk(a);return ao(this,c,b)}return wa("Unknown source type"),null},k.Fa=function(a,b){if(Vk(a))return bo(this,a,b);if(Wk(a))return this.kc(a,b);if("string"==typeof a){var c=Xk(a);return bo(this,c,b)}return wa("Unknown source type"),[]},k.Uc=function(a,b){if(Vk(a))return this.v(a,b);if(Wk(a)){var c=this.xe(a,[yn(this,a,b?b:{})]);return c?c:null}return"string"==typeof a?(c=Xk(a),this.v(c,b)):(wa("Unknown source type"),null)},k.Oa=function(a){return Vk(a)?this.Of(a):Wk(a)?this.Ae(a):"string"==typeof a?(a=Xk(a),this.Of(a)):(wa("Unknown source type"),null)},k.Of=function(){return this.defaultDataProjection},k.Ae=function(){return this.defaultDataProjection},k.Cd=function(a,b){var c=this.A(a,b);return this.f.serializeToString(c)},k.Wb=function(a,b){var c=this.a(a,b);return this.f.serializeToString(c)},k.Yc=function(a,b){var c=this.s(a,b);return this.f.serializeToString(c)},y(co,$n);var eo=/^[\s\xa0]*$/;k=co.prototype,k.ud=function(a,b){var c=a.localName,d=null;if("FeatureCollection"==c)d="http://www.opengis.net/wfs"===a.namespaceURI?O([],this.b,a,b,this):O(null,this.b,a,b,this);else if("featureMembers"==c||"featureMember"==c){var h,l,e=b[0],f=e.featureType,g=e.featureNS;if(!f&&a.childNodes){for(f=[],g={},h=0,l=a.childNodes.length;l>h;++h){var m=a.childNodes[h];if(1===m.nodeType){var n=m.nodeName.split(":").pop();if(-1===f.indexOf(n)){var r,p="",q=0,m=m.namespaceURI;for(r in g){if(g[r]===m){p=r;break}++q}p||(p="p"+q,g[p]=m),f.push(p+":"+n)}}}"featureMember"!=c&&(e.featureType=f,e.featureNS=g)}"string"==typeof g&&(h=g,g={},g.p0=h);var u,e={},f=Array.isArray(f)?f:[f];for(u in g){for(n={},h=0,l=f.length;l>h;++h)(-1===f[h].indexOf(":")?"p0":f[h].split(":")[0])===u&&(n[f[h].split(":").pop()]="featureMembers"==c?Zk(this.Hf,this):$k(this.Hf,this));e[g[u]]=n}d="featureMember"==c?O(void 0,e,a,b):O([],e,a,b)}return null===d&&(d=[]),d},k.xe=function(a,b){var c=b[0];c.srsName=a.firstElementChild.getAttribute("srsName");var d=O(null,this.bg,a,b,this);return d?An(d,!1,c):void 0},k.Hf=function(a,b){var c,d;(d=a.getAttribute("fid"))||(d=a.getAttributeNS("http://www.opengis.net/gml","id")||"");var f,e={};for(c=a.firstElementChild;c;c=c.nextElementSibling){var g=c.localName;if(0===c.childNodes.length||1===c.childNodes.length&&(3===c.firstChild.nodeType||4===c.firstChild.nodeType)){var h=Tk(c,!1);eo.test(h)&&(h=void 0),e[g]=h}else"boundedBy"!==g&&(f=g),e[g]=this.xe(c,b)}return c=new Ok(e),f&&c.Dc(f),d&&c.lc(d),c},k.Xh=function(a,b){var c=this.we(a,b);if(c){var d=new C(null);return d.ba("XYZ",c),d}},k.Vh=function(a,b){var c=O([],this.Ui,a,b,this);return c?new Hn(c):void 0},k.Uh=function(a,b){var c=O([],this.Ti,a,b,this);if(c){var d=new S(null);return Gn(d,c),d}},k.Wh=function(a,b){var c=O([],this.Vi,a,b,this);if(c){var d=new T(null);return Jn(d,c),d}},k.Mh=function(a,b){gl(this.Yi,a,b,this)},k.Ug=function(a,b){gl(this.Ri,a,b,this)},k.Nh=function(a,b){gl(this.Zi,a,b,this)},k.ye=function(a,b){var c=this.we(a,b);if(c){var d=new R(null);return d.ba("XYZ",c),d}},k.zo=function(a,b){var c=O(null,this.Ed,a,b,this);return c?c:void 0},k.Th=function(a,b){var c=this.we(a,b);if(c){var d=new Ed(null);return Fd(d,"XYZ",c),d}},k.ze=function(a,b){var c=O([null],this.Le,a,b,this);if(c&&c[0]){var g,h,d=new E(null),e=c[0],f=[e.length];for(g=1,h=c.length;h>g;++g)rb(e,c[g]),f.push(e.length);return d.ba("XYZ",e,f),d}},k.we=function(a,b){return O(null,this.Ed,a,b,this)},k.Ui={"http://www.opengis.net/gml":{pointMember:Zk(co.prototype.Mh),pointMembers:Zk(co.prototype.Mh)}},k.Ti={"http://www.opengis.net/gml":{lineStringMember:Zk(co.prototype.Ug),lineStringMembers:Zk(co.prototype.Ug)}},k.Vi={"http://www.opengis.net/gml":{polygonMember:Zk(co.prototype.Nh),polygonMembers:Zk(co.prototype.Nh)}},k.Yi={"http://www.opengis.net/gml":{Point:Zk(co.prototype.we)}},k.Ri={"http://www.opengis.net/gml":{LineString:Zk(co.prototype.ye)}},k.Zi={"http://www.opengis.net/gml":{Polygon:Zk(co.prototype.ze)}},k.Fd={"http://www.opengis.net/gml":{LinearRing:$k(co.prototype.zo)}},k.kc=function(a,b){var c={featureType:this.featureType,featureNS:this.featureNS};return b&&Ja(c,yn(this,a,b)),this.ud(a,[c])||[]},k.Ae=function(a){return Dc(this.srsName?this.srsName:a.firstElementChild.getAttribute("srsName"))},y(qo,co),k=qo.prototype,k.Qh=function(a,b){var c=Tk(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension"),f="enu";d&&(d=Dc(d))&&(f=d.b),c=c.split(/[\s,]+/),d=2,a.getAttribute("srsDimension")?d=lo(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=lo(a.getAttribute("dimension")):e&&(d=lo(e));for(var g,h,l=[],m=0,n=c.length;n>m;m+=d)e=parseFloat(c[m]),g=parseFloat(c[m+1]),h=3===d?parseFloat(c[m+2]):0,"en"===f.substr(0,2)?l.push(e,g,h):l.push(g,e,h);return l},k.wo=function(a,b){var c=O([null],this.Ni,a,b,this);return ac(c[1][0],c[1][1],c[1][3],c[1][4])},k.ml=function(a,b){var c=O(void 0,this.Fd,a,b,this);c&&b[b.length-1].push(c)},k.eo=function(a,b){var c=O(void 0,this.Fd,a,b,this);c&&(b[b.length-1][0]=c)},k.Ed={"http://www.opengis.net/gml":{coordinates:$k(qo.prototype.Qh)}},k.Le={"http://www.opengis.net/gml":{innerBoundaryIs:qo.prototype.ml,outerBoundaryIs:qo.prototype.eo}},k.Ni={"http://www.opengis.net/gml":{coordinates:Zk(qo.prototype.Qh)}},k.bg={"http://www.opengis.net/gml":{Point:$k(co.prototype.Xh),MultiPoint:$k(co.prototype.Vh),LineString:$k(co.prototype.ye),MultiLineString:$k(co.prototype.Uh),LinearRing:$k(co.prototype.Th),Polygon:$k(co.prototype.ze),MultiPolygon:$k(co.prototype.Wh),Box:$k(qo.prototype.wo)}},y(ro,co),k=ro.prototype,k.Do=function(a,b){var c=O([],this.Si,a,b,this);if(c){var d=new S(null);return Gn(d,c),d}},k.Eo=function(a,b){var c=O([],this.Wi,a,b,this);if(c){var d=new T(null);return Jn(d,c),d}},k.vg=function(a,b){gl(this.Oi,a,b,this)},k.vi=function(a,b){gl(this.cj,a,b,this)},k.Ho=function(a,b){return O([null],this.Xi,a,b,this)},k.Jo=function(a,b){return O([null],this.bj,a,b,this)},k.Io=function(a,b){return O([null],this.Le,a,b,this)},k.Co=function(a,b){return O([null],this.Ed,a,b,this)},k.ol=function(a,b){var c=O(void 0,this.Fd,a,b,this);c&&b[b.length-1].push(c)},k.Hj=function(a,b){var c=O(void 0,this.Fd,a,b,this);c&&(b[b.length-1][0]=c)},k.Zh=function(a,b){var c=O([null],this.dj,a,b,this);if(c&&c[0]){var g,h,d=new E(null),e=c[0],f=[e.length];for(g=1,h=c.length;h>g;++g)rb(e,c[g]),f.push(e.length);return d.ba("XYZ",e,f),d}},k.Oh=function(a,b){var c=O([null],this.Pi,a,b,this);if(c){var d=new R(null);return d.ba("XYZ",c),d}},k.yo=function(a,b){var c=O([null],this.Qi,a,b,this);return ac(c[1][0],c[1][1],c[2][0],c[2][1])},k.Ao=function(a,b){for(var f,c=Tk(a,!1),d=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,e=[];f=d.exec(c);)e.push(parseFloat(f[1])),c=c.substr(f[0].length);if(""===c){if(c=b[0].srsName,d="enu",c&&(d=Dc(c).b),"neu"===d)for(c=0,d=e.length;d>c;c+=3)f=e[c],e[c]=e[c+1],e[c+1]=f;return c=e.length,2==c&&e.push(0),0===c?void 0:e}},k.Lf=function(a,b){var c=Tk(a,!1).replace(/^\s*|\s*$/g,""),d=b[0].srsName,e=a.parentNode.getAttribute("srsDimension"),f="enu";d&&(f=Dc(d).b),c=c.split(/\s+/),d=2,a.getAttribute("srsDimension")?d=lo(a.getAttribute("srsDimension")):a.getAttribute("dimension")?d=lo(a.getAttribute("dimension")):e&&(d=lo(e));for(var g,h,l=[],m=0,n=c.length;n>m;m+=d)e=parseFloat(c[m]),g=parseFloat(c[m+1]),h=3===d?parseFloat(c[m+2]):0,"en"===f.substr(0,2)?l.push(e,g,h):l.push(g,e,h);return l},k.Ed={"http://www.opengis.net/gml":{pos:$k(ro.prototype.Ao),posList:$k(ro.prototype.Lf)}},k.Le={"http://www.opengis.net/gml":{interior:ro.prototype.ol,exterior:ro.prototype.Hj}},k.bg={"http://www.opengis.net/gml":{Point:$k(co.prototype.Xh),MultiPoint:$k(co.prototype.Vh),LineString:$k(co.prototype.ye),MultiLineString:$k(co.prototype.Uh),LinearRing:$k(co.prototype.Th),Polygon:$k(co.prototype.ze),MultiPolygon:$k(co.prototype.Wh),Surface:$k(ro.prototype.Zh),MultiSurface:$k(ro.prototype.Eo),Curve:$k(ro.prototype.Oh),MultiCurve:$k(ro.prototype.Do),Envelope:$k(ro.prototype.yo)}},k.Si={"http://www.opengis.net/gml":{curveMember:Zk(ro.prototype.vg),curveMembers:Zk(ro.prototype.vg)}},k.Wi={"http://www.opengis.net/gml":{surfaceMember:Zk(ro.prototype.vi),surfaceMembers:Zk(ro.prototype.vi)}},k.Oi={"http://www.opengis.net/gml":{LineString:Zk(co.prototype.ye),Curve:Zk(ro.prototype.Oh)}},k.cj={"http://www.opengis.net/gml":{Polygon:Zk(co.prototype.ze),Surface:Zk(ro.prototype.Zh)}},k.dj={"http://www.opengis.net/gml":{patches:$k(ro.prototype.Ho)}},k.Pi={"http://www.opengis.net/gml":{segments:$k(ro.prototype.Jo)}},k.Qi={"http://www.opengis.net/gml":{lowerCorner:Zk(ro.prototype.Lf),upperCorner:Zk(ro.prototype.Lf)}},k.Xi={"http://www.opengis.net/gml":{PolygonPatch:$k(ro.prototype.Io)}},k.bj={"http://www.opengis.net/gml":{LineStringSegment:$k(ro.prototype.Co)}},k.Ji=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=Sk(a.namespaceURI,"pos"),a.appendChild(d),c=c[c.length-1].srsName,a="enu",c&&(a=Dc(c).b),b=b.Z(),no(d,"en"===a.substr(0,2)?b[0]+" "+b[1]:b[1]+" "+b[0])};var to={"http://www.opengis.net/gml":{lowerCorner:L(no),upperCorner:L(no)}};k=ro.prototype,k.xp=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),hl({node:a},to,el,[b[0]+" "+b[1],b[2]+" "+b[3]],c,["lowerCorner","upperCorner"],this)},k.Gi=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),d=Sk(a.namespaceURI,"posList"),a.appendChild(d),so(d,b,c)},k.aj=function(a,b){var c=b[b.length-1],d=c.node,e=c.exteriorWritten;return void 0===e&&(c.exteriorWritten=!0),Sk(d.namespaceURI,void 0!==e?"interior":"exterior")},k.Ke=function(a,b,c){var d=c[c.length-1].srsName;"PolygonPatch"!==a.nodeName&&d&&a.setAttribute("srsName",d),"Polygon"===a.nodeName||"PolygonPatch"===a.nodeName?(b=b.Ud(),hl({node:a,srsName:d},uo,this.aj,b,c,void 0,this)):"Surface"===a.nodeName&&(d=Sk(a.namespaceURI,"patches"),a.appendChild(d),a=Sk(d.namespaceURI,"PolygonPatch"),d.appendChild(a),this.Ke(a,b,c))},k.Fe=function(a,b,c){var d=c[c.length-1].srsName;"LineStringSegment"!==a.nodeName&&d&&a.setAttribute("srsName",d),"LineString"===a.nodeName||"LineStringSegment"===a.nodeName?(d=Sk(a.namespaceURI,"posList"),a.appendChild(d),so(d,b,c)):"Curve"===a.nodeName&&(d=Sk(a.namespaceURI,"segments"),a.appendChild(d),a=Sk(d.namespaceURI,"LineStringSegment"),d.appendChild(a),this.Fe(a,b,c))},k.Ii=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.surface;e&&a.setAttribute("srsName",e),b=b.Vd(),hl({node:a,srsName:e,surface:d},vo,this.c,b,c,void 0,this)},k.yp=function(a,b,c){var d=c[c.length-1].srsName;d&&a.setAttribute("srsName",d),b=b.ie(),hl({node:a,srsName:d},wo,cl("pointMember"),b,c,void 0,this)},k.Hi=function(a,b,c){var d=c[c.length-1],e=d.srsName,d=d.curve;e&&a.setAttribute("srsName",e),b=b.ld(),hl({node:a,srsName:e,curve:d},xo,this.c,b,c,void 0,this)},k.Ki=function(a,b,c){var d=Sk(a.namespaceURI,"LinearRing");a.appendChild(d),this.Gi(d,b,c)},k.Li=function(a,b,c){var d=this.g(b,c);d&&(a.appendChild(d),this.Ke(d,b,c))},k.zp=function(a,b,c){var d=Sk(a.namespaceURI,"Point");a.appendChild(d),this.Ji(d,b,c)},k.Fi=function(a,b,c){var d=this.g(b,c);d&&(a.appendChild(d),this.Fe(d,b,c))},k.Ie=function(a,b,c){var d=c[c.length-1],e=Ja({},d);e.node=a;var f;f=Array.isArray(b)?d.dataProjection?Xc(b,d.featureProjection,d.dataProjection):b:An(b,!0,d),hl(e,yo,this.g,[f],c,void 0,this)},k.Bi=function(a,b,c){var d=b.Xa();d&&a.setAttribute("fid",d);var d=c[c.length-1],e=d.featureNS,f=b.a;d.Cc||(d.Cc={},d.Cc[e]={});var g=b.O();b=[];var l,h=[];for(l in g){var m=g[l];null!==m&&(b.push(l),h.push(m),l==f||m instanceof Yc?l in d.Cc[e]||(d.Cc[e][l]=L(this.Ie,this)):l in d.Cc[e]||(d.Cc[e][l]=L(no)))}l=Ja({},d),l.node=a,hl(l,d.Cc,cl(void 0,e),h,c,b)};var vo={"http://www.opengis.net/gml":{surfaceMember:L(ro.prototype.Li),polygonMember:L(ro.prototype.Li)}},wo={"http://www.opengis.net/gml":{pointMember:L(ro.prototype.zp)}},xo={"http://www.opengis.net/gml":{lineStringMember:L(ro.prototype.Fi),curveMember:L(ro.prototype.Fi)}},uo={"http://www.opengis.net/gml":{exterior:L(ro.prototype.Ki),interior:L(ro.prototype.Ki)}},yo={"http://www.opengis.net/gml":{Curve:L(ro.prototype.Fe),MultiCurve:L(ro.prototype.Hi),Point:L(ro.prototype.Ji),MultiPoint:L(ro.prototype.yp),LineString:L(ro.prototype.Fe),MultiLineString:L(ro.prototype.Hi),LinearRing:L(ro.prototype.Gi),Polygon:L(ro.prototype.Ke),MultiPolygon:L(ro.prototype.Ii),Surface:L(ro.prototype.Ke),MultiSurface:L(ro.prototype.Ii),Envelope:L(ro.prototype.xp)}},zo={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};ro.prototype.c=function(a,b){return Sk("http://www.opengis.net/gml",zo[b[b.length-1].node.nodeName])},ro.prototype.g=function(a,b){var g,c=b[b.length-1],d=c.multiSurface,e=c.surface,f=c.curve,c=c.multiCurve;return Array.isArray(a)?g="Envelope":(g=a.X(),
"MultiPolygon"===g&&!0===d?g="MultiSurface":"Polygon"===g&&!0===e?g="Surface":"LineString"===g&&!0===f?g="Curve":"MultiLineString"===g&&!0===c&&(g="MultiCurve")),Sk("http://www.opengis.net/gml",g)},ro.prototype.s=function(a,b){b=zn(this,b);var c=Sk("http://www.opengis.net/gml","geom"),d={node:c,srsName:this.srsName,curve:this.i,surface:this.j,multiSurface:this.o,multiCurve:this.l};return b&&Ja(d,b),this.Ie(c,a,[d]),c},ro.prototype.a=function(a,b){b=zn(this,b);var c=Sk("http://www.opengis.net/gml","featureMembers");c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var d={srsName:this.srsName,curve:this.i,surface:this.j,multiSurface:this.o,multiCurve:this.l,featureNS:this.featureNS,featureType:this.featureType};b&&Ja(d,b);var d=[d],e=d[d.length-1],f=e.featureType,g=e.featureNS,h={};return h[g]={},h[g][f]=L(this.Bi,this),e=Ja({},e),e.node=c,hl(e,h,cl(f,g),a,d),c},y(Ao,$n);var Bo=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"],Mo={rte:Go,trk:Io,wpt:Ko},No=M(Bo,{rte:Zk(Go),trk:Zk(Io),wpt:Zk(Ko)}),Eo=M(Bo,{text:J(U,"linkText"),type:J(U,"linkType")}),Ho=M(Bo,{name:J(U),cmt:J(U),desc:J(U),src:J(U),link:Do,number:J(ko),extensions:Fo,type:J(U),rtept:function(a,b){var c=O({},Oo,a,b);c&&Co(b[b.length-1].flatCoordinates,a,c)}}),Oo=M(Bo,{ele:J(io),time:J(ho)}),Jo=M(Bo,{name:J(U),cmt:J(U),desc:J(U),src:J(U),link:Do,number:J(ko),type:J(U),extensions:Fo,trkseg:function(a,b){var c=b[b.length-1];gl(Po,a,b),c.ends.push(c.flatCoordinates.length)}}),Po=M(Bo,{trkpt:function(a,b){var c=O({},Qo,a,b);c&&Co(b[b.length-1].flatCoordinates,a,c)}}),Qo=M(Bo,{ele:J(io),time:J(ho)}),Lo=M(Bo,{ele:J(io),time:J(ho),magvar:J(io),geoidheight:J(io),name:J(U),cmt:J(U),desc:J(U),src:J(U),link:Do,sym:J(U),type:J(U),fix:J(U),sat:J(ko),hdop:J(io),vdop:J(io),pdop:J(io),ageofdgpsdata:J(io),dgpsid:J(ko),extensions:Fo});Ao.prototype.Ph=function(a,b){if(!ob(Bo,a.namespaceURI))return null;var c=Mo[a.localName];return c&&(c=c(a,[yn(this,a,b)]))?(Ro(this,[c]),c):null},Ao.prototype.kc=function(a,b){if(!ob(Bo,a.namespaceURI))return[];if("gpx"==a.localName){var c=O([],No,a,[yn(this,a,b)]);if(c)return Ro(this,c),c}return[]};var Uo=["text","type"],To=M(Bo,{text:L(no),type:L(no)}),Zo=M(Bo,"name cmt desc src link number type rtept".split(" ")),$o=M(Bo,{name:L(no),cmt:L(no),desc:L(no),src:L(no),link:L(So),number:L(po),type:L(no),rtept:bl(L(Vo))}),Wo=M(Bo,["ele","time"]),ap=M(Bo,"name cmt desc src link number type trkseg".split(" ")),dp=M(Bo,{name:L(no),cmt:L(no),desc:L(no),src:L(no),link:L(So),number:L(po),type:L(no),trkseg:bl(L(function(a,b,c){hl({node:a,geometryLayout:b.f,properties:{}},bp,cp,b.Z(),c)}))}),cp=cl("trkpt"),bp=M(Bo,{trkpt:L(Vo)}),Xo=M(Bo,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Yo=M(Bo,{ele:L(oo),time:L(function(a,b){var c=new Date(1e3*b);a.appendChild(Rk.createTextNode(c.getUTCFullYear()+"-"+Eb(c.getUTCMonth()+1)+"-"+Eb(c.getUTCDate())+"T"+Eb(c.getUTCHours())+":"+Eb(c.getUTCMinutes())+":"+Eb(c.getUTCSeconds())+"Z"))}),magvar:L(oo),geoidheight:L(oo),name:L(no),cmt:L(no),desc:L(no),src:L(no),link:L(So),sym:L(no),type:L(no),fix:L(no),sat:L(po),hdop:L(oo),vdop:L(oo),pdop:L(oo),ageofdgpsdata:L(oo),dgpsid:L(po)}),ep={Point:"wpt",LineString:"rte",MultiLineString:"trk"},gp=M(Bo,{rte:L(function(a,b,c){var d=c[0],e=b.O();a={node:a,properties:e},(b=b.W())&&(b=An(b,!0,d),a.geometryLayout=b.f,e.rtept=b.Z()),d=Zo[c[c.length-1].node.namespaceURI],e=fl(e,d),hl(a,$o,el,e,c,d)}),trk:L(function(a,b,c){var d=c[0],e=b.O();a={node:a,properties:e},(b=b.W())&&(b=An(b,!0,d),e.trkseg=b.ld()),d=ap[c[c.length-1].node.namespaceURI],e=fl(e,d),hl(a,dp,el,e,c,d)}),wpt:L(function(a,b,c){var d=c[0],e=c[c.length-1];e.properties=b.O(),(b=b.W())&&(b=An(b,!0,d),e.geometryLayout=b.f,Vo(a,b.Z(),c))})});Ao.prototype.a=function(a,b){b=zn(this,b);var c=Sk("http://www.topografix.com/GPX/1/1","gpx");return c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.topografix.com/GPX/1/1 http://www.topografix.com/GPX/1/1/gpx.xsd"),c.setAttribute("version","1.1"),c.setAttribute("creator","OpenLayers 3"),hl({node:c},gp,fp,a,[b]),c},y(hp,xn),k=hp.prototype,k.X=function(){return"text"},k.Qb=function(a,b){return this.td(ip(a),zn(this,b))},k.Fa=function(a,b){return this.Jf(ip(a),zn(this,b))},k.Uc=function(a,b){return this.vd(ip(a),zn(this,b))},k.Oa=function(a){return ip(a),this.defaultDataProjection},k.Cd=function(a,b){return this.Ge(a,zn(this,b))},k.Wb=function(a,b){return this.Ci(a,zn(this,b))},k.Yc=function(a,b){return this.Dd(a,zn(this,b))},y(jp,hp);var kp=/^B(\d{2})(\d{2})(\d{2})(\d{2})(\d{5})([NS])(\d{3})(\d{5})([EW])([AV])(\d{5})(\d{5})/,lp=/^H.([A-Z]{3}).*?:(.*)/,mp=/^HFDTE(\d{2})(\d{2})(\d{2})/,np=/\r\n|\r|\n/;jp.prototype.td=function(a,b){var n,p,c=this.b,d=a.split(np),e={},f=[],g=2e3,h=0,l=1,m=-1;for(n=0,p=d.length;p>n;++n){var r,q=d[n];if("B"==q.charAt(0)){if(r=kp.exec(q)){var q=parseInt(r[1],10),u=parseInt(r[2],10),x=parseInt(r[3],10),v=parseInt(r[4],10)+parseInt(r[5],10)/6e4;"S"==r[6]&&(v=-v);var D=parseInt(r[7],10)+parseInt(r[8],10)/6e4;"W"==r[9]&&(D=-D),f.push(D,v),"none"!=c&&("gps"==c?r=parseInt(r[11],10):"barometric"==c?r=parseInt(r[12],10):(wa(),r=0),f.push(r)),r=Date.UTC(g,h,l,q,u,x),m>r&&(r=Date.UTC(g,h,l+1,q,u,x)),f.push(r/1e3),m=r}}else"H"==q.charAt(0)&&((r=mp.exec(q))?(l=parseInt(r[1],10),h=parseInt(r[2],10)-1,g=2e3+parseInt(r[3],10)):(r=lp.exec(q))&&(e[r[1]]=r[2].trim()))}return 0===f.length?null:(d=new R(null),d.ba("none"==c?"XYM":"XYZM",f),c=new Ok(An(d,!1,b)),c.G(e),c)},jp.prototype.Jf=function(a,b){var c=this.td(a,b);return c?[c]:[]},k=op.prototype,k.vc=function(){return this.g},k.yc=function(){pp(this);for(var a=[],b=0;b<this.b.length;b++)a.push(this.a[this.b[b]]);return a},k.N=function(){return pp(this),this.b.concat()},k.Ya=function(){return 0==this.g},k.clear=function(){this.a={},this.g=this.b.length=0},k.remove=function(a){return qp(this.a,a)?(delete this.a[a],this.g--,this.b.length>2*this.g&&pp(this),!0):!1},k.get=function(a,b){return qp(this.a,a)?this.a[a]:b},k.set=function(a,b){qp(this.a,a)||(this.g++,this.b.push(a)),this.a[a]=b},k.forEach=function(a,b){for(var c=this.N(),d=0;d<c.length;d++){var e=c[d],f=this.get(e);a.call(b,f,e,this)}},k.clone=function(){return new op(this)};var rp=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/;tp.prototype.toString=function(){var a=[],b=this.g;b&&a.push(zp(b,Ap,!0),":");var c=this.a;return(c||"file"==b)&&(a.push("//"),(b=this.l)&&a.push(zp(b,Ap,!0),"@"),a.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c=this.o,null!=c&&a.push(":",String(c))),(c=this.b)&&(this.a&&"/"!=c.charAt(0)&&a.push("/"),a.push(zp(c,"/"==c.charAt(0)?Bp:Cp,!0))),(c=this.i.toString())&&a.push("?",c),(c=this.f)&&a.push("#",zp(c,Dp)),a.join("")},tp.prototype.clone=function(){return new tp(this)};var Ap=/[#\/\?@]/g,Cp=/[\#\?:]/g,Bp=/[\#\?]/g,Fp=/[\#\?@]/g,Dp=/#/g;k=yp.prototype,k.vc=function(){return Jp(this),this.a},k.add=function(a,b){Jp(this),this.g=null,a=Kp(this,a);var c=this.b.get(a);return c||this.b.set(a,c=[]),c.push(b),this.a=this.a+1,this},k.remove=function(a){return Jp(this),a=Kp(this,a),qp(this.b.a,a)?(this.g=null,this.a=this.a-this.b.get(a).length,this.b.remove(a)):!1},k.clear=function(){this.b=this.g=null,this.a=0},k.Ya=function(){return Jp(this),0==this.a},k.N=function(){Jp(this);for(var a=this.b.yc(),b=this.b.N(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c},k.yc=function(a){Jp(this);var b=[];if(da(a))Lp(this,a)&&(b=te(b,this.b.get(Kp(this,a))));else{a=this.b.yc();for(var c=0;c<a.length;c++)b=te(b,a[c])}return b},k.set=function(a,b){return Jp(this),this.g=null,a=Kp(this,a),Lp(this,a)&&(this.a=this.a-this.b.get(a).length),this.b.set(a,[b]),this.a=this.a+1,this},k.get=function(a,b){var c=a?this.yc(a):[];return 0<c.length?String(c[0]):b},k.toString=function(){if(this.g)return this.g;if(!this.b)return"";for(var a=[],b=this.b.N(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.yc(d),f=0;f<d.length;f++){var g=e;""!==d[f]&&(g+="="+encodeURIComponent(String(d[f]))),a.push(g)}return this.g=a.join("&")},k.clone=function(){var a=new yp;return a.g=this.g,this.b&&(a.b=this.b.clone(),a.a=this.a),a},k=Mp.prototype,k.Xj=function(){return this.g},k.kk=function(){return this.f},k.lk=function(){return this.c},k.Un=function(){return this.b},k.Vn=function(){return this.i},k.Wn=function(){return this.a},k.Xn=function(){return this.l},k.Ha=function(){return this.s},k.yk=function(){return this.o},k.zk=function(){return this.j},k.bp=function(a){this.g=a},k.mi=function(a){this.f=a},k.ni=function(a){this.c=a},k.ap=function(a){this.b=a},k.Yn=function(a){this.i=a},k.Zn=function(a){this.a=a},k.ip=function(a){this.l=a},k.pi=function(a){this.s=a},k.ri=function(a){this.o=a},k.jp=function(a){this.j=a},y(Np,$n);var Pp=["http://www.google.com/kml/ext/2.2"],Qp=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],Rp=[255,255,255,1],Sp=new oj({color:Rp}),Tp=[20,2],Up=[64,64],Vp=new Jh({anchor:Tp,anchorOrigin:"bottom-left",anchorXUnits:"pixels",anchorYUnits:"pixels",crossOrigin:"anonymous",rotation:0,scale:.5,size:Up,src:"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"}),Wp=new uj({color:Rp,width:1}),Xp=new Mp({font:"bold 16px Helvetica",fill:Sp,stroke:new uj({color:[51,51,51,1],width:2}),scale:.8}),Op=[new xj({fill:Sp,image:Vp,text:Xp,stroke:Wp,zIndex:0})],Yp={fraction:"fraction",pixels:"pixels"},xq=M(Qp,{value:$k(U)}),wq=M(Qp,{Data:function(a,b){var c=a.getAttribute("name");if(null!==c){var d=O(void 0,xq,a,b);d&&(b[b.length-1][c]=d)}},SchemaData:function(a,b){gl(yq,a,b)}}),kq=M(Qp,{extrude:J(fo),altitudeMode:J(U)}),gq=M(Qp,{coordinates:$k(cq)}),sq=M(Qp,{innerBoundaryIs:function(a,b){var c=O(void 0,zq,a,b);c&&b[b.length-1].push(c)},outerBoundaryIs:function(a,b){var c=O(void 0,Aq,a,b);c&&(b[b.length-1][0]=c)}}),iq=M(Qp,{when:function(a,b){var c=b[b.length-1].zi,d=Tk(a,!1);if(d=/^\s*(\d{4})($|-(\d{2})($|-(\d{2})($|T(\d{2}):(\d{2}):(\d{2})(Z|(?:([+\-])(\d{2})(?::(\d{2}))?)))))\s*$/.exec(d)){var e=Date.UTC(parseInt(d[1],10),d[3]?parseInt(d[3],10)-1:0,d[5]?parseInt(d[5],10):1,d[7]?parseInt(d[7],10):0,d[8]?parseInt(d[8],10):0,d[9]?parseInt(d[9],10):0);if(d[10]&&"Z"!=d[10]){var f="-"==d[11]?-1:1,e=e+60*f*parseInt(d[12],10);d[13]&&(e+=3600*f*parseInt(d[13],10))}c.push(e)}else c.push(0)}},M(Pp,{coord:function(a,b){var c=b[b.length-1].B,d=Tk(a,!1);(d=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(d))?c.push(parseFloat(d[1]),parseFloat(d[2]),parseFloat(d[3]),0):c.push(0,0,0,0)}})),lq=M(Qp,{coordinates:$k(cq)}),Bq=M(Qp,{href:J(dq)},M(Pp,{x:J(io),y:J(io),w:J(io),h:J(io)})),Cq=M(Qp,{Icon:J(function(a,b){var c=O({},Bq,a,b);return c?c:null}),heading:J(io),hotSpot:J(function(a){var b=a.getAttribute("xunits"),c=a.getAttribute("yunits");return{x:parseFloat(a.getAttribute("x")),$f:Yp[b],y:parseFloat(a.getAttribute("y")),ag:Yp[c]}}),scale:J(eq)}),zq=M(Qp,{LinearRing:$k(fq)}),Dq=M(Qp,{color:J(bq),scale:J(eq)}),Eq=M(Qp,{color:J(bq),width:J(io)}),oq=M(Qp,{LineString:Zk(jq),LinearRing:Zk(mq),MultiGeometry:Zk(nq),Point:Zk(qq),Polygon:Zk(rq)}),Fq=M(Pp,{Track:Zk(hq)}),Hq=M(Qp,{ExtendedData:vq,Link:function(a,b){gl(Gq,a,b)},address:J(U),description:J(U),name:J(U),open:J(fo),phoneNumber:J(U),visibility:J(fo)}),Gq=M(Qp,{href:J(dq)}),Aq=M(Qp,{LinearRing:$k(fq)}),Iq=M(Qp,{Style:J(tq),key:J(U),styleUrl:J(function(a){var b=Tk(a,!1).trim();return a.baseURI?Hp(a.baseURI,b).toString():b})}),Kq=M(Qp,{ExtendedData:vq,MultiGeometry:J(nq,"geometry"),LineString:J(jq,"geometry"),LinearRing:J(mq,"geometry"),Point:J(qq,"geometry"),Polygon:J(rq,"geometry"),Style:J(tq),StyleMap:function(a,b){var c=O(void 0,Jq,a,b);if(c){var d=b[b.length-1];Array.isArray(c)?d.Style=c:"string"==typeof c?d.styleUrl=c:wa("styleMapValue has an unknown type")}},address:J(U),description:J(U),name:J(U),open:J(fo),phoneNumber:J(U),styleUrl:J(dq),visibility:J(fo)},M(Pp,{MultiTrack:J(function(a,b){var c=O([],Fq,a,b);if(c){var d=new S(null);return Gn(d,c),d}},"geometry"),Track:J(hq,"geometry")})),Lq=M(Qp,{color:J(bq),fill:J(fo),outline:J(fo)}),yq=M(Qp,{SimpleData:function(a,b){var c=a.getAttribute("name");if(null!==c){var d=U(a);b[b.length-1][c]=d}}}),uq=M(Qp,{IconStyle:function(a,b){var c=O({},Cq,a,b);if(c){var f,d=b[b.length-1],e="Icon"in c?c.Icon:{};f=(f=e.href)?f:"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png";var g,h,l,m=c.hotSpot;m?(g=[m.x,m.y],h=m.$f,l=m.ag):"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"===f?(g=Tp,l=h="pixels"):/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(f)&&(g=[.5,0],l=h="fraction");var n,m=e.x,p=e.y;void 0!==m&&void 0!==p&&(n=[m,p]);var q,m=e.w,e=e.h;void 0!==m&&void 0!==e&&(q=[m,e]);var r,e=c.heading;void 0!==e&&(r=Da(e)),c=c.scale,"https://maps.google.com/mapfiles/kml/pushpin/ylw-pushpin.png"==f&&(q=Up,void 0===c&&(c=.5)),g=new Jh({anchor:g,anchorOrigin:"bottom-left",anchorXUnits:h,anchorYUnits:l,crossOrigin:"anonymous",offset:n,offsetOrigin:"bottom-left",rotation:r,scale:c,size:q,src:f}),d.imageStyle=g}},LabelStyle:function(a,b){var c=O({},Dq,a,b);c&&(b[b.length-1].textStyle=new Mp({fill:new oj({color:"color"in c?c.color:Rp}),scale:c.scale}))},LineStyle:function(a,b){var c=O({},Eq,a,b);c&&(b[b.length-1].strokeStyle=new uj({color:"color"in c?c.color:Rp,width:"width"in c?c.width:1}))},PolyStyle:function(a,b){var c=O({},Lq,a,b);if(c){var d=b[b.length-1];d.fillStyle=new oj({color:"color"in c?c.color:Rp});var e=c.fill;void 0!==e&&(d.fill=e),c=c.outline,void 0!==c&&(d.outline=c)}}}),Jq=M(Qp,{Pair:function(a,b){var c=O({},Iq,a,b);if(c){var d=c.key;d&&"normal"==d&&((d=c.styleUrl)&&(b[b.length-1]=d),(c=c.Style)&&(b[b.length-1]=c))}}});k=Np.prototype,k.Ff=function(a,b){var c=M(Qp,{Document:Yk(this.Ff,this),Folder:Yk(this.Ff,this),Placemark:Zk(this.Nf,this),Style:this.Lo.bind(this),StyleMap:this.Ko.bind(this)});return(c=O([],c,a,b,this))?c:void 0},k.Nf=function(a,b){var c=O({geometry:null},Kq,a,b);if(c){var d=new Ok,e=a.getAttribute("id");null!==e&&d.lc(e);var e=b[0],f=c.geometry;return f&&An(f,!1,e),d.Ua(f),delete c.geometry,this.c&&d.rf($p(c.Style,c.styleUrl,this.g,this.b,this.i)),delete c.Style,d.G(c),d}},k.Lo=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=tq(a,b);d&&(c=a.baseURI?Hp(a.baseURI,"#"+c).toString():"#"+c,this.b[c]=d)}},k.Ko=function(a,b){var c=a.getAttribute("id");if(null!==c){var d=O(void 0,Jq,a,b);d&&(c=a.baseURI?Hp(a.baseURI,"#"+c).toString():"#"+c,this.b[c]=d)}},k.Ph=function(a,b){if(!ob(Qp,a.namespaceURI))return null;var c=this.Nf(a,[yn(this,a,b)]);return c?c:null},k.kc=function(a,b){if(!ob(Qp,a.namespaceURI))return[];var c;if(c=a.localName,"Document"==c||"Folder"==c)return(c=this.Ff(a,[yn(this,a,b)]))?c:[];if("Placemark"==c)return(c=this.Nf(a,[yn(this,a,b)]))?[c]:[];if("kml"==c){c=[];var d;for(d=a.firstElementChild;d;d=d.nextElementSibling){var e=this.kc(d,b);e&&rb(c,e)}return c}return[]},k.Fo=function(a){return Vk(a)?Mq(this,a):Wk(a)?Nq(this,a):"string"==typeof a?(a=Xk(a),Mq(this,a)):void wa("Unknown type for source")},k.Go=function(a){var b=[];return Vk(a)?rb(b,Oq(this,a)):Wk(a)?rb(b,Pq(this,a)):"string"==typeof a?(a=Xk(a),rb(b,Oq(this,a))):wa("unknown type for source"),b};var kr=M(Qp,["Document","Placemark"]),nr=M(Qp,{Document:L(function(a,b,c){hl({node:a},lr,mr,b,c,void 0,this)}),Placemark:L($q)}),lr=M(Qp,{Placemark:L($q)}),or={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},pr=M(Qp,["href"],M(Pp,["x","y","w","h"])),qr=M(Qp,{href:L(no)},M(Pp,{x:L(oo),y:L(oo),w:L(oo),h:L(oo)})),rr=M(Qp,["scale","heading","Icon","hotSpot"]),tr=M(Qp,{Icon:L(function(a,b,c){a={node:a};var d=pr[c[c.length-1].node.namespaceURI],e=fl(b,d);hl(a,qr,el,e,c,d),d=pr[Pp[0]],e=fl(b,d),hl(a,qr,sr,e,c,d)}),heading:L(oo),hotSpot:L(function(a,b){a.setAttribute("x",b.x),a.setAttribute("y",b.y),a.setAttribute("xunits",b.$f),a.setAttribute("yunits",b.ag)}),scale:L(jr)}),ur=M(Qp,["color","scale"]),vr=M(Qp,{color:L(Qq),scale:L(jr)}),wr=M(Qp,["color","width"]),xr=M(Qp,{color:L(Qq),width:L(oo)}),Yq=M(Qp,{LinearRing:L(cr)}),Wq=M(Qp,{LineString:L(cr),Point:L(cr),Polygon:L(fr),GeometryCollection:L(Rq)}),ar=M(Qp,"name open visibility address phoneNumber description styleUrl Style".split(" ")),br=M(Qp,{MultiGeometry:L(Rq),LineString:L(cr),LinearRing:L(cr),Point:L(cr),Polygon:L(fr),Style:L(function(a,b,c){a={node:a};var d={},e=b.c,f=b.f,g=b.a;b=b.Ha(),g instanceof Jh&&(d.IconStyle=g),b&&(d.LabelStyle=b),f&&(d.LineStyle=f),e&&(d.PolyStyle=e),b=yr[c[c.length-1].node.namespaceURI],d=fl(d,b),hl(a,zr,el,d,c,b)}),address:L(no),description:L(no),name:L(no),open:L(mo),phoneNumber:L(no),styleUrl:L(no),visibility:L(mo)}),dr=M(Qp,{coordinates:L(function(a,b,c){c=c[c.length-1];var d=c.layout;c=c.stride;var e;"XY"==d||"XYM"==d?e=2:"XYZ"==d||"XYZM"==d?e=3:wa("Unknown geometry layout");var f,g=b.length,h="";if(g>0){for(h+=b[0],d=1;e>d;++d)h+=","+b[d];for(f=c;g>f;f+=c)for(h+=" "+b[f],d=1;e>d;++d)h+=","+b[f+d]}no(a,h)})}),gr=M(Qp,{outerBoundaryIs:L(Xq),innerBoundaryIs:L(Xq)}),Ar=M(Qp,{color:L(Qq)}),yr=M(Qp,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),zr=M(Qp,{IconStyle:L(function(a,b,c){a={node:a};var d={},e=b.Eb(),f=b.kd(),g={href:b.b.j};if(e){g.w=e[0],g.h=e[1];var h=b.Xb(),l=b.Ia();l&&f&&0!==l[0]&&l[1]!==e[1]&&(g.x=l[0],g.y=f[1]-(l[1]+e[1])),h&&0!==h[0]&&h[1]!==e[1]&&(d.hotSpot={x:h[0],$f:"pixels",y:e[1]-h[1],ag:"pixels"})}d.Icon=g,e=b.i,1!==e&&(d.scale=e),b=b.j,0!==b&&(d.heading=b),b=rr[c[c.length-1].node.namespaceURI],d=fl(d,b),hl(a,tr,el,d,c,b)}),LabelStyle:L(function(a,b,c){a={node:a};var d={},e=b.b;e&&(d.color=e.b),(b=b.a)&&1!==b&&(d.scale=b),b=ur[c[c.length-1].node.namespaceURI],d=fl(d,b),hl(a,vr,el,d,c,b)}),LineStyle:L(function(a,b,c){a={node:a};var d=wr[c[c.length-1].node.namespaceURI];b=fl({color:b.b,width:b.a},d),hl(a,xr,el,b,c,d)}),PolyStyle:L(function(a,b,c){hl({node:a},Ar,Br,[b.b],c)})}),Br=cl("color"),er=cl("coordinates"),hr=cl("innerBoundaryIs"),Tq=cl("Point"),Uq=cl("LineString"),Zq=cl("LinearRing"),Vq=cl("Polygon"),ir=cl("outerBoundaryIs");Np.prototype.a=function(a,b){b=zn(this,b);var c=Sk(Qp[4],"kml");c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:gx",Pp[0]),c.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),c.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation","http://www.opengis.net/kml/2.2 https://developers.google.com/kml/schema/kml22gx.xsd");var d={node:c},e={};1<a.length?e.Document=a:1==a.length&&(e.Placemark=a[0]);var f=kr[c.namespaceURI],e=fl(e,f);return hl(d,nr,el,e,[b],f,this),c},function(){var a={},b={ia:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ia=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Vp=c()}}(function(){return function d(a,b,g){function h(m,p){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!p&&q)return q(m,!0);if(l)return l(m,!0);throw q=Error("Cannot find module '"+m+"'"),q.code="MODULE_NOT_FOUND",q}q=b[m]={ia:{}},a[m][0].call(q.ia,function(b){var d=a[m][1][b];return h(d?d:b)},q,q.ia,d,a,b,g)}return b[m].ia}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b){function f(a){var b;return a&&a.length&&(b=a,a=b.length),a=new Uint8Array(a||0),b&&a.set(b),a.$h=l.$h,a.Zf=l.Zf,a.Sh=l.Sh,a.Ei=l.Ei,a.Mf=l.Mf,a.Di=l.Di,a.Gf=l.Gf,a.Ai=l.Ai,a.toString=l.toString,a.write=l.write,a.slice=l.slice,a.tg=l.tg,a.nj=!0,a}function g(a){for(var f,g,b=a.length,d=[],e=0;b>e;e++){if(f=a.charCodeAt(e),f>55295&&57344>f){if(!g){f>56319||e+1===b?d.push(239,191,189):g=f;continue}if(56320>f){d.push(239,191,189),g=f;continue}f=g-55296<<10|f-56320|65536,g=null}else g&&(d.push(239,191,189),g=null);128>f?d.push(f):2048>f?d.push(f>>6|192,63&f|128):65536>f?d.push(f>>12|224,f>>6&63|128,63&f|128):d.push(f>>18|240,f>>12&63|128,f>>6&63|128,63&f|128)}return d}b.ia=f;var l,m,n,h=a("ieee754");l={$h:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},Zf:function(a,b){this[b]=a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24},Sh:function(a){return(this[a]|this[a+1]<<8|this[a+2]<<16)+(this[a+3]<<24)},Mf:function(a){return h.read(this,a,!0,23,4)},Gf:function(a){return h.read(this,a,!0,52,8)},Di:function(a,b){return h.write(this,a,b,!0,23,4)},Ai:function(a,b){return h.write(this,a,b,!0,52,8)},toString:function(a,b,d){var e=a="";for(d=Math.min(this.length,d||this.length),b=b||0;d>b;b++){var f=this[b];127>=f?(a+=decodeURIComponent(e)+String.fromCharCode(f),e=""):e+="%"+f.toString(16)}return a+=decodeURIComponent(e)},write:function(a,b){for(var d=a===m?n:g(a),e=0;e<d.length;e++)this[b+e]=d[e]},slice:function(a,b){return this.subarray(a,b)},tg:function(a,b){b=b||0;for(var d=0;d<this.length;d++)a[b+d]=this[d]}},l.Ei=l.Zf,f.byteLength=function(a){return m=a,n=g(a),n.length},f.isBuffer=function(a){return!(!a||!a.nj)}},{ieee754:3}],2:[function(a,b){(function(f){function g(a){this.Bb=l.isBuffer(a)?a:new l(a||0),this.da=0,this.length=this.Bb.length}function h(a,b){var e,d=b.Bb;if(e=d[b.da++],a+=268435456*(127&e),128>e)return a;if(e=d[b.da++],a+=34359738368*(127&e),128>e)return a;if(e=d[b.da++],a+=4398046511104*(127&e),128>e)return a;if(e=d[b.da++],a+=562949953421312*(127&e),128>e)return a;if(e=d[b.da++],a+=72057594037927940*(127&e),128>e)return a;if(e=d[b.da++],128>e)return a+0x8000000000000000*(127&e);throw Error("Expected varint not more than 10 bytes")}b.ia=g;var l=f.Ap||a("./buffer");g.f=0,g.g=1,g.b=2,g.a=5;var m=Math.pow(2,63);g.prototype={Kf:function(a,b,d){for(d=d||this.length;this.da<d;){var e=this.Da(),f=this.da;a(e>>3,b,this),this.da===f&&this.op(e)}return b},Bo:function(){var a=this.Bb.Mf(this.da);return this.da+=4,a},xo:function(){var a=this.Bb.Gf(this.da);return this.da+=8,a},Da:function(){var b,d,a=this.Bb;return d=a[this.da++],b=127&d,128>d?b:(d=a[this.da++],b|=(127&d)<<7,128>d?b:(d=a[this.da++],b|=(127&d)<<14,128>d?b:(d=a[this.da++],b|=(127&d)<<21,128>d?b:h(b,this))))},Mo:function(){var a=this.da,b=this.Da();if(m>b)return b;for(var d=this.da-2;255===this.Bb[d];)d--;a>d&&(d=a);for(var e=b=0;d-a+1>e;e++)var f=127&~this.Bb[a+e],b=b+(4>e?f<<7*e:f*Math.pow(2,7*e));return-b-1},wd:function(){var a=this.Da();return 1===a%2?(a+1)/-2:a/2},vo:function(){return!!this.Da()},Pf:function(){var a=this.Da()+this.da,b=this.Bb.toString("utf8",this.da,a);return this.da=a,b},op:function(a){if(a&=7,a===g.f)for(;127<this.Bb[this.da++];);else if(a===g.b)this.da=this.Da()+this.da;else if(a===g.a)this.da+=4;else{if(a!==g.g)throw Error("Unimplemented type: "+a);this.da+=8}}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./buffer":1}],3:[function(a,b,f){f.read=function(a,b,d,e,f){var p;p=8*f-e-1;var q=(1<<p)-1,r=q>>1,u=-7;f=d?f-1:0;var x=d?-1:1,v=a[b+f];for(f+=x,d=v&(1<<-u)-1,v>>=-u,u+=p;u>0;d=256*d+a[b+f],f+=x,u-=8);for(p=d&(1<<-u)-1,d>>=-u,u+=e;u>0;p=256*p+a[b+f],f+=x,u-=8);if(0===d)d=1-r;else{if(d===q)return p?NaN:1/0*(v?-1:1);p+=Math.pow(2,e),d-=r}return(v?-1:1)*p*Math.pow(2,d-e)},f.write=function(a,b,d,e,f,p){var q,r=8*p-f-1,u=(1<<r)-1,x=u>>1,v=23===f?Math.pow(2,-24)-Math.pow(2,-77):0;p=e?0:p-1;var D=e?1:-1,A=0>b||0===b&&0>1/b?1:0;for(b=Math.abs(b),isNaN(b)||1/0===b?(b=isNaN(b)?1:0,e=u):(e=Math.floor(Math.log(b)/Math.LN2),1>b*(q=Math.pow(2,-e))&&(e--,q*=2),b=e+x>=1?b+v/q:b+v*Math.pow(2,1-x),b*q>=2&&(e++,q/=2),e+x>=u?(b=0,e=u):e+x>=1?(b=(b*q-1)*Math.pow(2,f),e+=x):(b=b*Math.pow(2,x-1)*Math.pow(2,f),e=0));f>=8;a[d+p]=255&b,p+=D,b/=256,f-=8);for(e=e<<f|b,r+=f;r>0;a[d+p]=255&e,p+=D,e/=256,r-=8);a[d+p-D]|=128*A}},{}]},{},[2])(2)}),nl=b.ia}(),function(){var a={},b={ia:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ia=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Zp=c()}}(function(){return function d(a,b,g){function h(m,p){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!p&&q)return q(m,!0);if(l)return l(m,!0);throw q=Error("Cannot find module '"+m+"'"),q.code="MODULE_NOT_FOUND",q}q=b[m]={ia:{}},a[m][0].call(q.ia,function(b){var d=a[m][1][b];return h(d?d:b)},q,q.ia,d,a,b,g)}return b[m].ia}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b){b.ia.ej=a("./lib/vectortile.js"),b.ia.Np=a("./lib/vectortilefeature.js"),b.ia.Op=a("./lib/vectortilelayer.js")},{"./lib/vectortile.js":2,"./lib/vectortilefeature.js":3,"./lib/vectortilelayer.js":4}],2:[function(a,b){function f(a,b,d){3===a&&(a=new g(d,d.Da()+d.da),a.length&&(b[a.name]=a))}var g=a("./vectortilelayer");b.ia=function(a,b){this.layers=a.Kf(f,{},b)}},{"./vectortilelayer":4}],3:[function(a,b){function f(a,b,d,e,f){this.properties={},this.extent=d,this.type=0,this.pc=a,this.Pe=-1,this.Hd=e,this.Jd=f,a.Kf(g,this,b)}function g(a,b,d){if(1==a)b.Qp=d.Da();else if(2==a)for(a=d.Da()+d.da;d.da<a;){var e=b.Hd[d.Da()],f=b.Jd[d.Da()];b.properties[e]=f}else 3==a?b.type=d.Da():4==a&&(b.Pe=d.da)}var h=a("point-geometry");b.ia=f,f.b=["Unknown","Point","LineString","Polygon"],f.prototype.Vg=function(){var a=this.pc;a.da=this.Pe;for(var x,b=a.Da()+a.da,d=1,e=0,f=0,g=0,u=[];a.da<b;)if(e||(e=a.Da(),d=7&e,e>>=3),e--,1===d||2===d)f+=a.wd(),g+=a.wd(),1===d&&(x&&u.push(x),x=[]),x.push(new h(f,g));else{if(7!==d)throw Error("unknown command "+d);x&&x.push(x[0].clone())}return x&&u.push(x),u},f.prototype.bbox=function(){var a=this.pc;a.da=this.Pe;for(var b=a.Da()+a.da,d=1,e=0,f=0,g=0,h=1/0,x=-(1/0),v=1/0,D=-(1/0);a.da<b;)if(e||(e=a.Da(),d=7&e,e>>=3),e--,1===d||2===d)f+=a.wd(),g+=a.wd(),h>f&&(h=f),f>x&&(x=f),v>g&&(v=g),g>D&&(D=g);else if(7!==d)throw Error("unknown command "+d);return[h,v,x,D]}},{"point-geometry":5}],4:[function(a,b){function f(a,b){this.version=1,this.name=null,this.extent=4096,this.length=0,this.pc=a,this.Hd=[],this.Jd=[],this.Gd=[],a.Kf(g,this,b),this.length=this.Gd.length}function g(a,b,d){15===a?b.version=d.Da():1===a?b.name=d.Pf():5===a?b.extent=d.Da():2===a?b.Gd.push(d.da):3===a?b.Hd.push(d.Pf()):4===a&&b.Jd.push(h(d))}function h(a){for(var b=null,d=a.Da()+a.da;a.da<d;)b=a.Da()>>3,b=1===b?a.Pf():2===b?a.Bo():3===b?a.xo():4===b?a.Mo():5===b?a.Da():6===b?a.wd():7===b?a.vo():null;return b}var l=a("./vectortilefeature.js");b.ia=f,f.prototype.feature=function(a){if(0>a||a>=this.Gd.length)throw Error("feature index out of bounds");return this.pc.da=this.Gd[a],a=this.pc.Da()+this.pc.da,new l(this.pc,a,this.extent,this.Hd,this.Jd)}},{"./vectortilefeature.js":3}],5:[function(a,b){function f(a,b){this.x=a,this.y=b}b.ia=f,f.prototype={clone:function(){return new f(this.x,this.y)},add:function(a){return this.clone().fj(a)},rotate:function(a){return this.clone().qj(a)},round:function(){return this.clone().rj()},angle:function(){return Math.atan2(this.y,this.x)},fj:function(a){return this.x+=a.x,this.y+=a.y,this},qj:function(a){var b=Math.cos(a);a=Math.sin(a);var d=a*this.x+b*this.y;return this.x=b*this.x-a*this.y,this.y=d,this},rj:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},f.b=function(a){return a instanceof f?a:Array.isArray(a)?new f(a[0],a[1]):a}},{}]},{},[1])(1)}),pl=b.ia}(),y(Cr,xn),Cr.prototype.X=function(){return"arraybuffer"},Cr.prototype.Fa=function(a,b){var g,h,l,c=this.f,d=new nl(a),d=new pl.ej(d),e=[],f=this.b;for(l in d.layers)if(!c||-1!=c.indexOf(l)){g=d.layers[l];for(var m=0,n=g.length;n>m;++m){if(f===ok){var p=g.feature(m);h=l;var q=p.Vg(),r=[],u=[];Dr(q,u,r);var x=p.type,v=void 0;1===x?v=1===q.length?"Point":"MultiPoint":2===x?v=1===q.length?"LineString":"MultiLineString":3===x&&(v="Polygon"),p=p.properties,p[this.a]=h,h=new this.b(v,u,r,p)}else{if(p=g.feature(m),v=l,u=b,h=new this.b,r=p.properties,r[this.a]=v,v=p.type,0===v)v=null;else{p=p.Vg(),q=[],x=[],Dr(p,x,q);var D=void 0;1===v?D=1===p.length?new C(null):new Hn(null):2===v?D=1===p.length?new R(null):new S(null):3===v&&(D=new E(null)),D.ba("XY",x,q),v=D}(u=An(v,!1,zn(this,u)))&&(r[this.g]=u),h.G(r),h.Dc(this.g)}e.push(h)}}return e},Cr.prototype.Oa=function(){return this.defaultDataProjection},Cr.prototype.c=function(a){this.f=a},y(Jr,Ir),y(Kr,Jr),y(Fr,Kr),y(Lr,Kr),y(Mr,Jr),y(Hr,Ir),y(Nr,Ir),y(Or,Nr),y(Pr,Or),y(Qr,Or),y(Rr,Or),y(Sr,Or),y(Tr,Or),y(Ur,Or),y(Vr,Nr),y(Wr,Nr),y(Xr,Nr),y(Yr,$n);var $r=[null],as=M($r,{nd:function(a,b){b[b.length-1].Qc.push(a.getAttribute("ref"))},tag:Zr}),cs=M($r,{node:function(a,b){var c=b[0],d=b[b.length-1],e=a.getAttribute("id"),f=[parseFloat(a.getAttribute("lon")),parseFloat(a.getAttribute("lat"))];d.Zg[e]=f;var g=O({Bd:{}},bs,a,b);Ma(g.Bd)||(f=new C(f),An(f,!1,c),c=new Ok(f),c.lc(e),c.G(g.Bd),d.features.push(c))},way:function(a,b){for(var c=b[0],d=a.getAttribute("id"),e=O({Qc:[],Bd:{}},as,a,b),f=b[b.length-1],g=[],h=0,l=e.Qc.length;l>h;h++)rb(g,f.Zg[e.Qc[h]]);e.Qc[0]==e.Qc[e.Qc.length-1]?(h=new E(null),h.ba("XY",g,[g.length])):(h=new R(null),h.ba("XY",g)),An(h,!1,c),c=new Ok(h),c.lc(d),c.G(e.Bd),f.features.push(c)}}),bs=M($r,{tag:Zr});Yr.prototype.kc=function(a,b){var c=yn(this,a,b);return"osm"==a.localName&&(c=O({Zg:{},features:[]},cs,a,[c]),c.features)?c.features:[]},es.prototype.read=function(a){return Vk(a)?this.a(a):Wk(a)?this.b(a):"string"==typeof a?(a=Xk(a),this.a(a)):(wa(),null)},y(fs,es),fs.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},fs.prototype.b=function(a){return(a=O({},gs,a,[]))?a:null};var hs=[null,"http://www.opengis.net/ows/1.1"],gs=M(hs,{ServiceIdentification:J(function(a,b){return O({},is,a,b)}),ServiceProvider:J(function(a,b){return O({},js,a,b)}),OperationsMetadata:J(function(a,b){return O({},ks,a,b)})}),ls=M(hs,{DeliveryPoint:J(U),City:J(U),AdministrativeArea:J(U),PostalCode:J(U),Country:J(U),ElectronicMailAddress:J(U)}),ms=M(hs,{Value:al(function(a){return U(a)})}),ns=M(hs,{AllowedValues:J(function(a,b){return O({},ms,a,b)})}),ps=M(hs,{Phone:J(function(a,b){return O({},os,a,b)}),Address:J(function(a,b){return O({},ls,a,b)})}),rs=M(hs,{HTTP:J(function(a,b){return O({},qs,a,b)})}),qs=M(hs,{Get:al(function(a,b){var c=ds(a);return c?O({href:c},ss,a,b):void 0}),Post:void 0}),ts=M(hs,{DCP:J(function(a,b){return O({},rs,a,b)})}),ks=M(hs,{Operation:function(a,b){var c=a.getAttribute("name"),d=O({},ts,a,b);d&&(b[b.length-1][c]=d)}}),os=M(hs,{Voice:J(U),Facsimile:J(U)}),ss=M(hs,{Constraint:al(function(a,b){var c=a.getAttribute("name");return c?O({name:c},ns,a,b):void 0})}),us=M(hs,{IndividualName:J(U),PositionName:J(U),ContactInfo:J(function(a,b){return O({},ps,a,b)})}),is=M(hs,{Title:J(U),ServiceTypeVersion:J(U),ServiceType:J(U)}),js=M(hs,{ProviderName:J(U),ProviderSite:J(ds),ServiceContact:J(function(a,b){return O({},us,a,b)})});y(ws,hp),k=ws.prototype,k.td=function(a,b){var c=this.vd(a,b);return new Ok(c)},k.Jf=function(a,b){return[this.td(a,b)]},k.vd=function(a,b){var c=nd(this.a),d=zs(a,c,this.b);return vs(d,d.length,c,d),c=Ad(d,0,d.length,c),An(new R(c,this.a),!1,zn(this,b))},k.Ge=function(a,b){var c=a.W();return c?this.Dd(c,b):(wa("geometry needs to be defined"),"")},k.Ci=function(a,b){return this.Ge(a[0],b)},k.Dd=function(a,b){a=An(a,!0,zn(this,b));var c=a.ka(),d=a.va();return vs(c,c.length,d,c),xs(c,d,this.b)},y(Cs,Bn),Cs.prototype.If=function(a,b){if("Topology"==a.type){var c,d=null,e=null;a.transform&&(c=a.transform,d=c.scale,e=c.translate);var f=a.arcs;if(c){c=d;var h,l,g=e;for(h=0,l=f.length;l>h;++h){var u,x,v,m=f[h],n=c,p=g,q=0,r=0;for(x=0,v=m.length;v>x;++x)u=m[x],q+=u[0],r+=u[1],u[0]=q,u[1]=r,Hs(u,n,p)}}for(c=[],g=La(a.objects),h=0,l=g.length;l>h;++h)"GeometryCollection"===g[h].type?(m=g[h],
c.push.apply(c,Es(m,f,d,e,b))):(m=g[h],c.push(Fs(m,f,d,e,b)));return c}return[]},Cs.prototype.Oa=function(){return this.defaultDataProjection};var Gs={Point:function(a,b,c){return a=a.coordinates,b&&c&&Hs(a,b,c),new C(a)},LineString:function(a,b){var c=Ds(a.arcs,b);return new R(c)},Polygon:function(a,b){var d,e,c=[];for(d=0,e=a.arcs.length;e>d;++d)c[d]=Ds(a.arcs[d],b);return new E(c)},MultiPoint:function(a,b,c){a=a.coordinates;var d,e;if(b&&c)for(d=0,e=a.length;e>d;++d)Hs(a[d],b,c);return new Hn(a)},MultiLineString:function(a,b){var d,e,c=[];for(d=0,e=a.arcs.length;e>d;++d)c[d]=Ds(a.arcs[d],b);return new S(c)},MultiPolygon:function(a,b){var d,e,f,g,h,l,c=[];for(h=0,l=a.arcs.length;l>h;++h){for(d=a.arcs[h],e=[],f=0,g=d.length;g>f;++f)e[f]=Ds(d[f],b);c[h]=e}return new T(c)}};y(Is,$n),Is.prototype.kc=function(a,b){var c={featureType:this.i,featureNS:this.g};return Ja(c,yn(this,a,b?b:{})),c=[c],this.b.b["http://www.opengis.net/gml"].featureMember=Zk(co.prototype.ud),(c=O([],this.b.b,a,c,this.b))||(c=[]),c},Is.prototype.o=function(a){return Vk(a)?Js(a):Wk(a)?O({},Ks,a,[]):"string"==typeof a?(a=Xk(a),Js(a)):void wa("Unknown source type")},Is.prototype.l=function(a){return Vk(a)?Ls(this,a):Wk(a)?Ms(this,a):"string"==typeof a?(a=Xk(a),Ls(this,a)):void wa("Unknown source type")};var Ns={"http://www.opengis.net/gml":{boundedBy:J(co.prototype.xe,"bounds")}},Os={"http://www.opengis.net/wfs":{totalInserted:J(ko),totalUpdated:J(ko),totalDeleted:J(ko)}},Ps={"http://www.opengis.net/ogc":{FeatureId:Zk(function(a){return a.getAttribute("fid")})}},Qs={"http://www.opengis.net/wfs":{Feature:function(a,b){gl(Ps,a,b)}}},Ks={"http://www.opengis.net/wfs":{TransactionSummary:J(function(a,b){return O({},Os,a,b)},"transactionSummary"),InsertResults:J(function(a,b){return O([],Qs,a,b)},"insertIds")}},Rs={"http://www.opengis.net/wfs":{PropertyName:L(no)}},Ts={"http://www.opengis.net/wfs":{Insert:L(function(a,b,c){var d=c[c.length-1],d=Sk(d.featureNS,d.featureType);a.appendChild(d),ro.prototype.Bi(d,b,c)}),Update:L(function(a,b,c){var d=c[c.length-1],e=d.featureType,f=d.featurePrefix,f=f?f:"feature",g=d.featureNS;if(a.setAttribute("typeName",f+":"+e),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+f,g),e=b.Xa(),void 0!==e){for(var f=b.N(),g=[],h=0,l=f.length;l>h;h++){var m=b.get(f[h]);void 0!==m&&g.push({name:f[h],value:m})}hl({node:a,srsName:d.srsName},Ts,cl("Property"),g,c),Ss(a,e)}}),Delete:L(function(a,b,c){var d=c[c.length-1];c=d.featureType;var e=d.featurePrefix,e=e?e:"feature",d=d.featureNS;a.setAttribute("typeName",e+":"+c),a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,d),b=b.Xa(),void 0!==b&&Ss(a,b)}),Property:L(function(a,b,c){var d=Sk("http://www.opengis.net/wfs","Name");a.appendChild(d),no(d,b.name),void 0!==b.value&&null!==b.value&&(d=Sk("http://www.opengis.net/wfs","Value"),a.appendChild(d),b.value instanceof Yc?ro.prototype.Ie(d,b.value,c):no(d,b.value))}),Native:L(function(a,b){b.wp&&a.setAttribute("vendorId",b.wp),void 0!==b.Yo&&a.setAttribute("safeToIgnore",b.Yo),void 0!==b.value&&no(a,b.value)})}},Vs={"http://www.opengis.net/wfs":{Query:L(function(a,b,c){var d=c[c.length-1],e=d.featurePrefix,f=d.featureNS,g=d.propertyNames,h=d.srsName;a.setAttribute("typeName",(e?e+":":"")+b),h&&a.setAttribute("srsName",h),f&&a.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+e,f),b=Ja({},d),b.node=a,hl(b,Rs,cl("PropertyName"),g,c),(d=d.filter)&&(g=Sk("http://www.opengis.net/ogc","Filter"),a.appendChild(g),hl({node:g},Vs,cl(d.Vb),[d],c))})},"http://www.opengis.net/ogc":{And:L(Us),Or:L(Us),Not:L(function(a,b,c){b=b.condition,hl({node:a},Vs,cl(b.Vb),[b],c)}),BBOX:L(function(a,b,c){c[c.length-1].srsName=b.srsName,Xs(a,b.geometryName),ro.prototype.Ie(a,b.extent,c)}),PropertyIsEqualTo:L(Ws),PropertyIsNotEqualTo:L(Ws),PropertyIsLessThan:L(Ws),PropertyIsLessThanOrEqualTo:L(Ws),PropertyIsGreaterThan:L(Ws),PropertyIsGreaterThanOrEqualTo:L(Ws),PropertyIsNull:L(function(a,b){Xs(a,b.b)}),PropertyIsBetween:L(function(a,b){Xs(a,b.b),Ys("LowerBoundary",a,""+b.a),Ys("UpperBoundary",a,""+b.g)}),PropertyIsLike:L(function(a,b){a.setAttribute("wildCard",b.i),a.setAttribute("singleChar",b.c),a.setAttribute("escapeChar",b.g),void 0!==b.a&&a.setAttribute("matchCase",b.a.toString()),Xs(a,b.b),Ys("Literal",a,""+b.f)})}};Is.prototype.j=function(a){var b=Sk("http://www.opengis.net/wfs","GetFeature");b.setAttribute("service","WFS"),b.setAttribute("version","1.1.0");var c;if(a&&(a.handle&&b.setAttribute("handle",a.handle),a.outputFormat&&b.setAttribute("outputFormat",a.outputFormat),void 0!==a.maxFeatures&&b.setAttribute("maxFeatures",a.maxFeatures),a.resultType&&b.setAttribute("resultType",a.resultType),void 0!==a.startIndex&&b.setAttribute("startIndex",a.startIndex),void 0!==a.count&&b.setAttribute("count",a.count),c=a.filter,a.bbox)){var d=Gr(a.geometryName,a.bbox,a.srsName);c=c?Er(c,d):d}return b.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),d=a.featureTypes,a=[{node:b,srsName:a.srsName,featureNS:a.featureNS?a.featureNS:this.g,featurePrefix:a.featurePrefix,geometryName:a.geometryName,filter:c,propertyNames:a.propertyNames?a.propertyNames:[]}],c=Ja({},a[a.length-1]),c.node=b,hl(c,Vs,cl("Query"),d,a),b},Is.prototype.U=function(a,b,c,d){var e=[],f=Sk("http://www.opengis.net/wfs","Transaction");f.setAttribute("service","WFS"),f.setAttribute("version","1.1.0");var g,h;return d&&(g=d.gmlOptions?d.gmlOptions:{},d.handle&&f.setAttribute("handle",d.handle)),f.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.c),a&&(h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},Ja(h,g),hl(h,Ts,cl("Insert"),a,e)),b&&(h={node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},Ja(h,g),hl(h,Ts,cl("Update"),b,e)),c&&hl({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},Ts,cl("Delete"),c,e),d.nativeElements&&hl({node:f,featureNS:d.featureNS,featureType:d.featureType,featurePrefix:d.featurePrefix,srsName:d.srsName},Ts,cl("Native"),d.nativeElements,e),f},Is.prototype.Of=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.Ae(a);return null},Is.prototype.Ae=function(a){if(a.firstElementChild&&a.firstElementChild.firstElementChild)for(a=a.firstElementChild.firstElementChild,a=a.firstElementChild;a;a=a.nextElementSibling)if(0!==a.childNodes.length&&(1!==a.childNodes.length||3!==a.firstChild.nodeType)){var b=[{}];return this.b.xe(a,b),Dc(b.pop().srsName)}return null},y(Zs,hp);var dt={Point:$s,LineString:at,Polygon:bt,MultiPoint:function(a){var b=[];a=a.ie();for(var c=0,d=a.length;d>c;++c)b.push("("+$s(a[c])+")");return b.join(",")},MultiLineString:function(a){var b=[];a=a.ld();for(var c=0,d=a.length;d>c;++c)b.push("("+at(a[c])+")");return b.join(",")},MultiPolygon:function(a){var b=[];a=a.Vd();for(var c=0,d=a.length;d>c;++c)b.push("("+bt(a[c])+")");return b.join(",")},GeometryCollection:function(a){var b=[];a=a.ef();for(var c=0,d=a.length;d>c;++c)b.push(ct(a[c]));return b.join(",")}};k=Zs.prototype,k.td=function(a,b){var c=this.vd(a,b);if(c){var d=new Ok;return d.Ua(c),d}return null},k.Jf=function(a,b){var c=[],d=this.vd(a,b);c=this.b&&"GeometryCollection"==d.X()?d.c:[d];for(var e=[],f=0,g=c.length;g>f;++f)d=new Ok,d.Ua(c[f]),e.push(d);return e},k.vd=function(a,b){var c;return c=new et(new ft(a)),c.b=gt(c.a),(c=ht(c))?An(c,!1,b):null},k.Ge=function(a,b){var c=a.W();return c?this.Dd(c,b):""},k.Ci=function(a,b){if(1==a.length)return this.Ge(a[0],b);for(var c=[],d=0,e=a.length;e>d;++d)c.push(a[d].W());return c=new Rn(c),this.Dd(c,b)},k.Dd=function(a,b){return ct(An(a,!0,b))},k=et.prototype,k.match=function(a){return(a=this.b.type==a)&&(this.b=gt(this.a)),a},k.Df=function(){if(this.match(2)){var a=mt(this);if(this.match(3))return a}else if(it(this))return null;throw Error(jt(this))},k.Cf=function(){if(this.match(2)){var a=nt(this);if(this.match(3))return a}else if(it(this))return[];throw Error(jt(this))},k.Ef=function(){if(this.match(2)){var a=ot(this);if(this.match(3))return a}else if(it(this))return[];throw Error(jt(this))},k.io=function(){if(this.match(2)){var a;if(2==this.b.type)for(a=[this.Df()];this.match(5);)a.push(this.Df());else a=nt(this);if(this.match(3))return a}else if(it(this))return[];throw Error(jt(this))},k.ho=function(){if(this.match(2)){var a=ot(this);if(this.match(3))return a}else if(it(this))return[];throw Error(jt(this))},k.jo=function(){if(this.match(2)){for(var a=[this.Ef()];this.match(5);)a.push(this.Ef());if(this.match(3))return a}else if(it(this))return[];throw Error(jt(this))};var lt={POINT:C,LINESTRING:R,POLYGON:E,MULTIPOINT:Hn,MULTILINESTRING:S,MULTIPOLYGON:T},kt={POINT:et.prototype.Df,LINESTRING:et.prototype.Cf,POLYGON:et.prototype.Ef,MULTIPOINT:et.prototype.io,MULTILINESTRING:et.prototype.ho,MULTIPOLYGON:et.prototype.jo};y(pt,es),pt.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},pt.prototype.b=function(a){return this.version=a.getAttribute("version").trim(),(a=O({version:this.version},qt,a,[]))?a:null};var yt=[null,"http://www.opengis.net/wms"],qt=M(yt,{Service:J(function(a,b){return O({},zt,a,b)}),Capability:J(function(a,b){return O({},At,a,b)})}),At=M(yt,{Request:J(function(a,b){return O({},Bt,a,b)}),Exception:J(function(a,b){return O([],Ct,a,b)}),Layer:J(function(a,b){return O({},Dt,a,b)})}),zt=M(yt,{Name:J(U),Title:J(U),Abstract:J(U),KeywordList:J(wt),OnlineResource:J(ds),ContactInformation:J(function(a,b){return O({},Et,a,b)}),Fees:J(U),AccessConstraints:J(U),LayerLimit:J(ko),MaxWidth:J(ko),MaxHeight:J(ko)}),Et=M(yt,{ContactPersonPrimary:J(function(a,b){return O({},Ft,a,b)}),ContactPosition:J(U),ContactAddress:J(function(a,b){return O({},Gt,a,b)}),ContactVoiceTelephone:J(U),ContactFacsimileTelephone:J(U),ContactElectronicMailAddress:J(U)}),Ft=M(yt,{ContactPerson:J(U),ContactOrganization:J(U)}),Gt=M(yt,{AddressType:J(U),Address:J(U),City:J(U),StateOrProvince:J(U),PostCode:J(U),Country:J(U)}),Ct=M(yt,{Format:Zk(U)}),Dt=M(yt,{Name:J(U),Title:J(U),Abstract:J(U),KeywordList:J(wt),CRS:al(U),EX_GeographicBoundingBox:J(function(a,b){var c=O({},Ht,a,b);if(c){var d=c.westBoundLongitude,e=c.southBoundLatitude,f=c.eastBoundLongitude,c=c.northBoundLatitude;return void 0===d||void 0===e||void 0===f||void 0===c?void 0:[d,e,f,c]}}),BoundingBox:al(function(a){var b=[jo(a.getAttribute("minx")),jo(a.getAttribute("miny")),jo(a.getAttribute("maxx")),jo(a.getAttribute("maxy"))],c=[jo(a.getAttribute("resx")),jo(a.getAttribute("resy"))];return{crs:a.getAttribute("CRS"),extent:b,res:c}}),Dimension:al(function(a){return{name:a.getAttribute("name"),units:a.getAttribute("units"),unitSymbol:a.getAttribute("unitSymbol"),"default":a.getAttribute("default"),multipleValues:go(a.getAttribute("multipleValues")),nearestValue:go(a.getAttribute("nearestValue")),current:go(a.getAttribute("current")),values:U(a)}}),Attribution:J(function(a,b){return O({},It,a,b)}),AuthorityURL:al(function(a,b){var c=rt(a,b);return c?(c.name=a.getAttribute("name"),c):void 0}),Identifier:al(U),MetadataURL:al(function(a,b){var c=rt(a,b);return c?(c.type=a.getAttribute("type"),c):void 0}),DataURL:al(rt),FeatureListURL:al(rt),Style:al(function(a,b){return O({},Jt,a,b)}),MinScaleDenominator:J(io),MaxScaleDenominator:J(io),Layer:al(function(a,b){var c=b[b.length-1],d=O({},Dt,a,b);if(d){var e=go(a.getAttribute("queryable"));return void 0===e&&(e=c.queryable),d.queryable=void 0!==e?e:!1,e=lo(a.getAttribute("cascaded")),void 0===e&&(e=c.cascaded),d.cascaded=e,e=go(a.getAttribute("opaque")),void 0===e&&(e=c.opaque),d.opaque=void 0!==e?e:!1,e=go(a.getAttribute("noSubsets")),void 0===e&&(e=c.noSubsets),d.noSubsets=void 0!==e?e:!1,(e=jo(a.getAttribute("fixedWidth")))||(e=c.fixedWidth),d.fixedWidth=e,(e=jo(a.getAttribute("fixedHeight")))||(e=c.fixedHeight),d.fixedHeight=e,["Style","CRS","AuthorityURL"].forEach(function(a){a in c&&(d[a]=(d[a]||[]).concat(c[a]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(a){a in d||(d[a]=c[a])}),d}})}),It=M(yt,{Title:J(U),OnlineResource:J(ds),LogoURL:J(vt)}),Ht=M(yt,{westBoundLongitude:J(io),eastBoundLongitude:J(io),southBoundLatitude:J(io),northBoundLatitude:J(io)}),Bt=M(yt,{GetCapabilities:J(tt),GetMap:J(tt),GetFeatureInfo:J(tt)}),ut=M(yt,{Format:al(U),DCPType:al(function(a,b){return O({},Kt,a,b)})}),Kt=M(yt,{HTTP:J(function(a,b){return O({},Lt,a,b)})}),Lt=M(yt,{Get:J(rt),Post:J(rt)}),Jt=M(yt,{Name:J(U),Title:J(U),Abstract:J(U),LegendURL:al(vt),StyleSheetURL:J(rt),StyleURL:J(rt)}),st=M(yt,{Format:J(U),OnlineResource:J(ds)}),xt=M(yt,{Keyword:Zk(U)});y(Mt,$n),Mt.prototype.kc=function(a,b){var c={};b&&Ja(c,yn(this,a,b));var d=[c];a.setAttribute("namespaceURI",this.g);var e=a.localName,c=[];if(0!==a.childNodes.length){if("msGMLOutput"==e)for(var f=0,g=a.childNodes.length;g>f;f++){var h=a.childNodes[f];if(h.nodeType===Node.ELEMENT_NODE){var l=d[0],m=h.localName.replace("_layer","");if(!this.c||ob(this.c,m)){m+="_feature",l.featureType=m,l.featureNS=this.g;var n={};n[m]=Zk(this.b.Hf,this.b),l=M([l.featureNS,null],n),h.setAttribute("namespaceURI",this.g),(h=O([],l,h,d,this.b))&&rb(c,h)}}}"FeatureCollection"==e&&(d=O([],this.b.b,a,[{}],this.b))&&(c=d)}return c},y(Nt,es),Nt.prototype.a=function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType==Node.ELEMENT_NODE)return this.b(a);return null},Nt.prototype.b=function(a){var b=a.getAttribute("version").trim(),c=this.g.b(a);return c?(c.version=b,(c=O(c,Ot,a,[]))?c:null):null};var Qt=[null,"http://www.opengis.net/wmts/1.0"],Rt=[null,"http://www.opengis.net/ows/1.1"],Ot=M(Qt,{Contents:J(function(a,b){return O({},St,a,b)})}),St=M(Qt,{Layer:al(function(a,b){return O({},Tt,a,b)}),TileMatrixSet:al(function(a,b){return O({},Ut,a,b)})}),Tt=M(Qt,{Style:al(function(a,b){var c=O({},Vt,a,b);if(c){var d="true"===a.getAttribute("isDefault");return c.isDefault=d,c}}),Format:al(U),TileMatrixSetLink:al(function(a,b){return O({},Wt,a,b)}),Dimension:al(function(a,b){return O({},Xt,a,b)}),ResourceURL:al(function(a){var b=a.getAttribute("format"),c=a.getAttribute("template");a=a.getAttribute("resourceType");var d={};return b&&(d.format=b),c&&(d.template=c),a&&(d.resourceType=a),d})},M(Rt,{Title:J(U),Abstract:J(U),WGS84BoundingBox:J(function(a,b){var c=O([],Yt,a,b);return 2!=c.length?void 0:Qb(c)}),Identifier:J(U)})),Vt=M(Qt,{LegendURL:al(function(a){var b={};return b.format=a.getAttribute("format"),b.href=ds(a),b})},M(Rt,{Title:J(U),Identifier:J(U)})),Wt=M(Qt,{TileMatrixSet:J(U)}),Xt=M(Qt,{Default:J(U),Value:al(U)},M(Rt,{Identifier:J(U)})),Yt=M(Rt,{LowerCorner:Zk(Pt),UpperCorner:Zk(Pt)}),Ut=M(Qt,{WellKnownScaleSet:J(U),TileMatrix:al(function(a,b){return O({},Zt,a,b)})},M(Rt,{SupportedCRS:J(U),Identifier:J(U)})),Zt=M(Qt,{TopLeftCorner:J(Pt),ScaleDenominator:J(io),TileWidth:J(ko),TileHeight:J(ko),MatrixWidth:J(ko),MatrixHeight:J(ko)},M(Rt,{Identifier:J(U)}));y($t,jb),k=$t.prototype,k.ja=function(){this.fe(!1),jb.prototype.ja.call(this)},k.Nl=function(){var a=this.ah();a&&(this.c=Gc(Dc("EPSG:4326"),a),this.a&&this.set("position",this.c(this.a)))},k.Ol=function(){if(qg){var a=this.bh();a&&void 0===this.f?this.f=qa.navigator.geolocation.watchPosition(this.qo.bind(this),this.ro.bind(this),this.Mg()):a||void 0===this.f||(qa.navigator.geolocation.clearWatch(this.f),this.f=void 0)}},k.qo=function(a){a=a.coords,this.set("accuracy",a.accuracy),this.set("altitude",null===a.altitude?void 0:a.altitude),this.set("altitudeAccuracy",null===a.altitudeAccuracy?void 0:a.altitudeAccuracy),this.set("heading",null===a.heading?void 0:Da(a.heading)),this.a?(this.a[0]=a.longitude,this.a[1]=a.latitude):this.a=[a.longitude,a.latitude];var b=this.c(this.a);this.set("position",b),this.set("speed",null===a.speed?void 0:a.speed),a=Sd(dj,this.a,a.accuracy),a.qc(this.c),this.set("accuracyGeometry",a),this.u()},k.ro=function(a){a.type="error",this.fe(!1),this.b(a)},k.Mj=function(){return this.get("accuracy")},k.Nj=function(){return this.get("accuracyGeometry")||null},k.Pj=function(){return this.get("altitude")},k.Qj=function(){return this.get("altitudeAccuracy")},k.Ll=function(){return this.get("heading")},k.Ml=function(){return this.get("position")},k.ah=function(){return this.get("projection")},k.wk=function(){return this.get("speed")},k.bh=function(){return this.get("tracking")},k.Mg=function(){return this.get("trackingOptions")},k.dh=function(a){this.set("projection",a)},k.fe=function(a){this.set("tracking",a)},k.si=function(a){this.set("trackingOptions",a)},y(au,md),k=au.prototype,k.clone=function(){var a=new au(null),b=this.B.slice();return od(a,this.f,b),a.u(),a},k.rb=function(a,b,c,d){var e=this.B;a-=e[0];var f=b-e[1];if(b=a*a+f*f,d>b){if(0===b)for(d=0;d<this.a;++d)c[d]=e[d];else for(d=this.vf()/Math.sqrt(b),c[0]=e[0]+d*a,c[1]=e[1]+d*f,d=2;d<this.a;++d)c[d]=e[d];return c.length=this.a,b}return d},k.Ac=function(a,b){var c=this.B,d=a-c[0],c=b-c[1];return d*d+c*c<=bu(this)},k.qd=function(){return this.B.slice(0,this.a)},k.Nd=function(a){var b=this.B,c=b[this.a]-b[0];return ac(b[0]-c,b[1]-c,b[0]+c,b[1]+c,a)},k.vf=function(){return Math.sqrt(bu(this))},k.X=function(){return"Circle"},k.Ka=function(a){var b=this.H();return sc(a,b)?(b=this.qd(),a[0]<=b[0]&&a[2]>=b[0]||a[1]<=b[1]&&a[3]>=b[1]?!0:gc(a,this.sg,this)):!1},k.jm=function(a){var b=this.a,c=this.B[b]-this.B[0],d=a.slice();for(d[b]=d[0]+c,c=1;b>c;++c)d[b+c]=a[c];od(this,this.f,d),this.u()},k.Uf=function(a,b,c){if(a){pd(this,c,a,0),this.B||(this.B=[]),c=this.B,a=xd(c,a),c[a++]=c[0]+b;var d;for(b=1,d=this.a;d>b;++b)c[a++]=c[b];c.length=a}else od(this,"XY",null);this.u()},k.km=function(a){this.B[this.a]=this.B[0]+a,this.u()};var gu=new uj({color:"rgba(0,0,0,0.2)"}),hu=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001];k=fu.prototype,k.Pl=function(){return this.o},k.ik=function(){return this.b},k.qk=function(){return this.a},k.Rg=function(a){var b=a.vectorContext,c=a.frameState,d=c.extent;a=c.viewState;var e=a.center,f=a.projection,g=a.resolution;if(a=c.pixelRatio,a=g*g/(4*a*a),!this.c||!Tc(this.c,f)){var h=Dc("EPSG:4326"),l=f.H(),m=f.i,n=Xc(m,h,f),p=m[2],q=m[1],r=m[0],u=n[3],x=n[2],v=n[1],n=n[0];this.i=m[3],this.g=p,this.l=q,this.f=r,this.U=u,this.A=x,this.C=v,this.D=n,this.j=Uc(h,f),this.v=Uc(f,h),this.s=this.v(pc(l)),this.c=f}for(f.a&&(f=f.H(),h=nc(f),c=c.focus[0],c<f[0]||c>f[2])&&(c=h*Math.ceil((f[0]-c)/h),d=[d[0]+c,d[1],d[2]+c,d[3]]),c=this.s[0],f=this.s[1],h=-1,m=Math.pow(this.Ba*g,2),p=[],q=[],g=0,l=hu.length;l>g&&(r=hu[g]/2,p[0]=c-r,p[1]=f-r,q[0]=c+r,q[1]=f+r,this.j(p,p),this.j(q,q),r=Math.pow(q[0]-p[0],2)+Math.pow(q[1]-p[1],2),!(m>=r));++g)h=hu[g];if(g=h,-1==g)this.b.length=this.a.length=0;else{for(c=this.v(e),e=c[0],c=c[1],f=this.R,h=[Math.max(d[0],this.D),Math.max(d[1],this.C),Math.min(d[2],this.A),Math.min(d[3],this.U)],h=Xc(h,this.c,"EPSG:4326"),m=h[3],q=h[1],e=Math.floor(e/g)*g,p=xa(e,this.f,this.g),l=iu(this,p,q,m,a,d,0),h=0;p!=this.f&&h++<f;)p=Math.max(p-g,this.f),l=iu(this,p,q,m,a,d,l);for(p=xa(e,this.f,this.g),h=0;p!=this.g&&h++<f;)p=Math.min(p+g,this.g),l=iu(this,p,q,m,a,d,l);for(this.b.length=l,c=Math.floor(c/g)*g,e=xa(c,this.l,this.i),l=ju(this,e,a,d,0),h=0;e!=this.l&&h++<f;)e=Math.max(e-g,this.l),l=ju(this,e,a,d,l);for(e=xa(c,this.l,this.i),h=0;e!=this.i&&h++<f;)e=Math.min(e+g,this.i),l=ju(this,e,a,d,l);this.a.length=l}for(b.Rb(null,this.ya),a=0,e=this.b.length;e>a;++a)g=this.b[a],b.gd(g,null);for(a=0,e=this.a.length;e>a;++a)g=this.a[a],b.gd(g,null)},k.setMap=function(a){this.o&&(this.o.J("postcompose",this.Rg,this),this.o.render()),a&&(a.I("postcompose",this.Rg,this),a.render()),this.o=a},y(ku,uh),ku.prototype.a=function(a){if(void 0!==a){var b;return a=w(a),a in this.i?this.i[a]:(b=Ma(this.i)?this.g:this.g.cloneNode(!1),this.i[a]=b)}return this.g},ku.prototype.s=function(){this.state=3,this.c.forEach(Pa),this.c=null,vh(this)},ku.prototype.v=function(){void 0===this.resolution&&(this.resolution=oc(this.extent)/this.g.height),this.state=2,this.c.forEach(Pa),this.c=null,vh(this)},ku.prototype.load=function(){(0==this.state||3==this.state)&&(this.state=1,vh(this),this.c=[Ua(this.g,"error",this.s,this),Ua(this.g,"load",this.v,this)],this.o(this,this.j))},y(lu,kf),k=lu.prototype,k.ja=function(){1==this.state&&mu(this),this.a&&ab(this.a),this.state=5,lf(this),kf.prototype.ja.call(this)},k.$a=function(a){if(void 0!==a){var b=w(a);return b in this.c?this.c[b]:(a=Ma(this.c)?this.g:this.g.cloneNode(!1),this.c[b]=a)}return this.g},k.getKey=function(){return this.s},k.Ql=function(){this.state=3,mu(this),lf(this)},k.Rl=function(){this.state=this.g.naturalWidth&&this.g.naturalHeight?2:4,mu(this),lf(this)},k.load=function(){(0==this.state||3==this.state)&&(this.state=1,lf(this),this.j=[Ua(this.g,"error",this.Ql,this),Ua(this.g,"load",this.Rl,this)],this.v(this,this.s))},y(nu,ai),nu.prototype.o=function(a,b){var c=b.target.result,d=this.v,e=this.j;e||(e=d.aa().l);var g,h,d=this.c,f=[];for(g=0,h=d.length;h>g;++g){var l=new d[g],m={featureProjection:e};try{f=l.Fa(c,m)}catch(n){f=null}if(f&&0<f.length)break}this.b(new qu(ru,this,a,f,e))},nu.prototype.setMap=function(a){this.a&&(this.a.forEach(Pa),this.a=null),ai.prototype.setMap.call(this,a),a&&(a=this.target?this.target:a.a,this.a=[B(a,"drop",ou,this),B(a,"dragenter",pu,this),B(a,"dragover",pu,this),B(a,"drop",pu,this)])};var ru="addfeatures";y(qu,bb),y(su,pi),y(wu,bb),y(xu,pi),k=xu.prototype,k.setMap=function(a){pi.prototype.setMap.call(this,a),this.yi()},k.Qo=function(){var b,c,a=this.j.W();this.c===Eu?(b=this.a,b.splice(-2,1),this.D(b,a)):this.c===Cu&&(b=this.a[0],b.splice(-2,1),c=this.A.W(),c.pa(b),this.D(this.a,a)),0===b.length&&(this.s=null),Lu(this)},k.hd=function(){var a=Mu(this),b=this.a,c=a.W();this.c===Eu?(b.pop(),this.D(b,c)):this.c===Cu&&(b[0].pop(),b[0].push(b[0][0]),this.D(b,c)),"MultiPoint"===this.Y?a.Ua(new Hn([b])):"MultiLineString"===this.Y?a.Ua(new S([b])):"MultiPolygon"===this.Y&&a.Ua(new T([b])),this.b(new wu("drawend",a)),this.pb&&this.pb.push(a),this.Gc&&this.Gc.qb(a)},k.rm=function(a){var b=a.W();this.j=a,this.a=b.Z(),a=this.a[this.a.length-1],this.s=a.slice(),this.a.push(a.slice()),Lu(this),this.b(new wu("drawstart",this.j))},k.Fc=wc,k.yi=function(){var a=this.v,b=this.f();a&&b||Mu(this),this.qa.setMap(b?a:null)};var Du="Point",Eu="LineString",Cu="Polygon",Ju="Circle";y(Nu,bb),y(Ou,pi),k=Ou.prototype,k.wf=function(a){var b=a.W();b.X()in this.za&&this.za[b.X()].call(this,a,b),(b=this.v)&&Uu(this,this.qa,b),B(a,"change",this.jh,this)},k.setMap=function(a){this.S.setMap(a),pi.prototype.setMap.call(this,a)},k.sm=function(a){this.wf(a.element)},k.jh=function(a){this.s||(a=a.target,Wu(this,a),this.wf(a))},k.tm=function(a){Wu(this,a.element)},k.ym=function(a,b){var c=b.Z(),c={feature:a,geometry:b,na:[c,c]};this.a.Ca(b.H(),c)},k.wm=function(a,b){var d,e,f,c=b.Z();for(e=0,f=c.length;f>e;++e)d=c[e],d={feature:a,geometry:b,depth:[e],index:e,na:[d,d]},this.a.Ca(b.H(),d)},k.kh=function(a,b){var d,e,f,g,c=b.Z();for(d=0,e=c.length-1;e>d;++d)f=c.slice(d,d+2),g={feature:a,geometry:b,index:d,na:f},this.a.Ca(Qb(f),g)},k.vm=function(a,b){var d,e,f,g,h,l,m,c=b.Z();for(g=0,h=c.length;h>g;++g)for(d=c[g],e=0,f=d.length-1;f>e;++e)l=d.slice(e,e+2),m={feature:a,geometry:b,depth:[g],index:e,na:l},this.a.Ca(Qb(l),m)},k.zm=function(a,b){var d,e,f,g,h,l,m,c=b.Z();for(g=0,h=c.length;h>g;++g)for(d=c[g],e=0,f=d.length-1;f>e;++e)l=d.slice(e,e+2),m={feature:a,geometry:b,depth:[g],index:e,na:l},this.a.Ca(Qb(l),m)},k.xm=function(a,b){var d,e,f,g,h,l,m,n,p,q,c=b.Z();for(l=0,m=c.length;m>l;++l)for(n=c[l],g=0,h=n.length;h>g;++g)for(d=n[g],e=0,f=d.length-1;f>e;++e)p=d.slice(e,e+2),q={feature:a,geometry:b,depth:[g,l],index:e,na:p},this.a.Ca(Qb(p),q)},k.um=function(a,b){var c,d=b.c;for(c=0;c<d.length;++c)this.za[d[c].X()].call(this,a,d[c])},k.nl=function(a,b){for(var h,c=a.na,d=a.feature,e=a.geometry,f=a.depth,g=a.index;b.length<e.va();)b.push(0);switch(e.X()){case"MultiLineString":h=e.Z(),h[f[0]].splice(g+1,0,b);break;case"Polygon":h=e.Z(),h[f[0]].splice(g+1,0,b);break;case"MultiPolygon":h=e.Z(),h[f[1]][f[0]].splice(g+1,0,b);break;case"LineString":h=e.Z(),h.splice(g+1,0,b);break;default:return}this.s=!0,e.pa(h),this.s=!1,h=this.a,h.remove(a),$u(this,e,g,f,1);var l={na:[c[0],b],feature:d,geometry:e,depth:f,index:g};h.Ca(Qb(l.na),l),this.j.push([l,1]),c={na:[b,c[1]],feature:d,geometry:e,depth:f,index:g+1},h.Ca(Qb(c.na),c),this.j.push([c,0]),this.T=!0},k.ai=function(){var a=!1;if(this.Y&&this.Y.type!=mh){var b=this.Y;Vu(this,b);var d,e,f,g,h,l,m,n,p,c=this.j,a={};for(g=c.length-1;g>=0;--g)f=c[g],m=f[0],n=w(m.feature),m.depth&&(n+="-"+m.depth.join("-")),n in a||(a[n]={}),0===f[1]?(a[n].right=m,a[n].index=m.index):1==f[1]&&(a[n].left=m,a[n].index=m.index+1);for(n in a){switch(l=a[n].right,g=a[n].left,f=a[n].index,h=f-1,m=void 0!==g?g:l,0>h&&(h=0),c=m.geometry,d=e=c.Z(),p=!1,c.X()){case"MultiLineString":2<e[m.depth[0]].length&&(e[m.depth[0]].splice(f,1),p=!0);break;case"LineString":2<e.length&&(e.splice(f,1),p=!0);break;case"MultiPolygon":d=d[m.depth[1]];case"Polygon":d=d[m.depth[0]],4<d.length&&(f==d.length-1&&(f=0),d.splice(f,1),p=!0,0===f&&(d.pop(),d.push(d[0]),h=d.length-1))}p&&(d=c,this.s=!0,d.pa(e),this.s=!1,e=[],void 0!==g&&(this.a.remove(g),e.push(g.na[0])),void 0!==l&&(this.a.remove(l),e.push(l.na[1])),void 0!==g&&void 0!==l&&(g={depth:m.depth,feature:m.feature,geometry:m.geometry,index:h,na:e},this.a.Ca(Qb(g.na),g)),$u(this,c,f,m.depth,-1),this.c&&(this.S.ha().mb(this.c),this.c=null))}a=!0,this.b(new Nu("modifyend",this.A,b)),this.D=!1}return a},y(av,bb),y(bv,ai),k=bv.prototype,k.Bm=function(){return this.c.ha().c},k.Cm=function(a){return a=w(a),this.a[a]},k.setMap=function(a){var b=this.v,c=this.c.ha().c;b&&c.forEach(b.wi,b),ai.prototype.setMap.call(this,a),this.c.setMap(a),a&&c.forEach(a.ti,a)},k.Am=function(a){a=a.element;var b=this.v;b&&b.ti(a)},k.Dm=function(a){a=a.element;var b=this.v;b&&b.wi(a)},y(ev,pi),k=ev.prototype,k.qb=function(a,b){var c=void 0!==b?b:!0,d=w(a),e=a.W();if(e){var f=this.za[e.X()];f&&(this.Y[d]=e.H(Sb()),f.call(this,a,e),c&&(this.R[d]=B(e,"change",this.Kk.bind(this,a),this)))}c&&(this.D[d]=B(a,lb(a.a),this.Em,this))},k.Jj=function(a){this.qb(a)},k.Kj=function(a){this.mb(a)},k.lh=function(a){var b;a instanceof Bl?b=a.feature:a instanceof qe&&(b=a.element),this.qb(b)},k.mh=function(a){var b;a instanceof Bl?b=a.feature:a instanceof qe&&(b=a.element),this.mb(b)},k.Em=function(a){a=a.target,this.mb(a,!0),this.qb(a,!0)},k.Kk=function(a){if(this.C){var b=w(a);b in this.A||(this.A[b]=a)}else this.xi(a)},k.mb=function(a,b){var c=void 0!==b?b:!0,d=w(a),e=this.Y[d];if(e){var f=this.a,g=[];for(wl(f,e,function(b){a===b.feature&&g.push(b)}),e=g.length-1;e>=0;--e)f.remove(g[e]);c&&(hb(this.R[d]),delete this.R[d])}c&&(hb(this.D[d]),delete this.D[d])},k.setMap=function(a){var d,b=this.v,c=this.ta;this.j?d=this.j:this.s&&(d=this.s.ne()),b&&(c.forEach(hb),c.length=0,d.forEach(this.Kj,this)),pi.prototype.setMap.call(this,a),a&&(this.j?c.push(B(this.j,"add",this.lh,this),B(this.j,"remove",this.mh,this)):this.s&&c.push(B(this.s,"addfeature",this.lh,this),B(this.s,"removefeature",this.mh,this)),d.forEach(this.Jj,this))},k.Fc=wc,k.xi=function(a){this.mb(a,!1),this.qb(a,!1)},k.Fm=function(a,b){var c,d=b.c;for(c=0;c<d.length;++c)this.za[d[c].X()].call(this,a,d[c])},k.nh=function(a,b){var d,e,f,g,c=b.Z();for(d=0,e=c.length-1;e>d;++d)f=c.slice(d,d+2),g={feature:a,na:f},this.a.Ca(Qb(f),g)},k.Gm=function(a,b){var d,e,f,g,h,l,m,c=b.Z();for(g=0,h=c.length;h>g;++g)for(d=c[g],e=0,f=d.length-1;f>e;++e)l=d.slice(e,e+2),m={feature:a,na:l},this.a.Ca(Qb(l),m)},k.Hm=function(a,b){var d,e,f,c=b.Z();for(e=0,f=c.length;f>e;++e)d=c[e],d={feature:a,na:[d,d]},this.a.Ca(b.H(),d)},k.Im=function(a,b){var d,e,f,g,h,l,m,n,p,q,c=b.Z();for(l=0,m=c.length;m>l;++l)for(n=c[l],g=0,h=n.length;h>g;++g)for(d=n[g],e=0,f=d.length-1;f>e;++e)p=d.slice(e,e+2),q={feature:a,na:p},this.a.Ca(Qb(p),q)},k.Jm=function(a,b){var c=b.Z(),c={feature:a,na:[c,c]};this.a.Ca(b.H(),c)},k.Km=function(a,b){var d,e,f,g,h,l,m,c=b.Z();for(g=0,h=c.length;h>g;++g)for(d=c[g],e=0,f=d.length-1;f>e;++e)l=d.slice(e,e+2),m={feature:a,na:l},this.a.Ca(Qb(l),m)},y(iv,bb),y(jv,pi),y(V,G);var pv=["#00f","#0ff","#0f0","#ff0","#f00"];k=V.prototype,k.zg=function(){return this.get("blur")},k.Gg=function(){return this.get("gradient")},k.ph=function(){return this.get("radius")},k.Lk=function(){for(var a=this.Gg(),b=Ue(1,256),c=b.createLinearGradient(0,0,1,256),d=1/(a.length-1),e=0,f=a.length;f>e;++e)c.addColorStop(e*d,a[e]);b.fillStyle=c,b.fillRect(0,0,1,256),this.f=b.getImageData(0,0,1,256).data},k.kf=function(){var a=this.ph(),b=this.zg(),c=a+b+1,d=2*c,d=Ue(d,d);d.shadowOffsetX=d.shadowOffsetY=this.Y,d.shadowBlur=b,d.shadowColor="#000",d.beginPath(),b=c-this.Y,d.arc(b,b,a,0,2*Math.PI,!0),d.fill(),this.T=d.canvas.toDataURL(),this.c=Array(256),this.u()},k.dl=function(a){a=a.context;var d,e,f,b=a.canvas,b=a.getImageData(0,0,b.width,b.height),c=b.data;for(d=0,e=c.length;e>d;d+=4)(f=4*c[d+3])&&(c[d]=this.f[f],c[d+1]=this.f[f+1],c[d+2]=this.f[f+2]);a.putImageData(b,0,0)},k.di=function(a){this.set("blur",a)},k.ii=function(a){this.set("gradient",a)},k.qh=function(a){this.set("radius",a)},y(rv,kf),rv.prototype.ja=function(){1==this.state&&(this.Vc.forEach(Pa),this.Vc=null),kf.prototype.ja.call(this)},rv.prototype.$a=function(a){if(void 0!==a){var b=w(a);return b in this.c?this.c[b]:(a=Ma(this.c)?this.l:this.l.cloneNode(!1),this.c[b]=a)}return this.l},rv.prototype.yd=function(){var a=[];if(this.g.forEach(function(b){b&&2==b.V()&&a.push({extent:this.j.Ea(b.ma),image:b.$a()})},this),this.g.length=0,0===a.length)this.state=3;else{var b=this.U[0],c=this.v.Ja(b),d=ea(c)?c:c[0],c=ea(c)?c:c[1],b=this.v.$(b),e=this.j.$(this.s),f=this.v.Ea(this.U);this.l=Bk(d,c,this.D,e,this.j.H(),b,f,this.A,a,this.C,this.R),this.state=2}lf(this)},rv.prototype.load=function(){if(0==this.state){this.state=1,lf(this);var a=0;this.Vc=[],this.g.forEach(function(b){var c=b.V();if(0==c||1==c){a++;var d;d=B(b,"change",function(){var c=b.V();(2==c||3==c||4==c)&&(Pa(d),a--,0===a&&(this.Vc.forEach(Pa),this.Vc=null,this.yd()))},this),this.Vc.push(d)}},this),this.g.forEach(function(a){0==a.V()&&a.load()}),0===a&&qa.setTimeout(this.yd.bind(this),0)}},y(W,Pl),k=W.prototype,k.Ah=function(){if(jf(this.a))return!0;for(var a in this.i)if(jf(this.i[a]))return!0;return!1},k.Kc=function(a,b){var c=this.od(a);this.a.Kc(this.a==c?b:{});for(var d in this.i){var e=this.i[d];e.Kc(e==c?b:{})}},k.Td=function(a){return this.f&&a&&!Tc(this.f,a)?0:this.ff()},k.ff=function(){return 0},k.hf=function(a){return this.f&&a&&!Tc(this.f,a)?!1:Pl.prototype.hf.call(this,a)},k.eb=function(a){var b=this.f;return!this.tileGrid||b&&!Tc(b,a)?(b=w(a).toString(),b in this.s||(this.s[b]=Bf(a)),this.s[b]):this.tileGrid},k.od=function(a){var b=this.f;return!b||Tc(b,a)?this.a:(a=w(a).toString(),a in this.i||(this.i[a]=new hf),this.i[a])},k.$b=function(a,b,c,d,e){if(this.f&&e&&!Tc(this.f,e)){var f=this.od(e);if(b=[a,b,c],a=this.Db.apply(this,b),ef(f,a))return f.get(a);var g=this.f;c=this.eb(g);var h=this.eb(e),l=If(this,b,e);return d=new rv(g,c,e,h,b,l,this.ac(d),this.ff(),function(a,b,c,d){return uv(this,a,b,c,d,g)}.bind(this),this.qa,this.C),f.set(a,d),d}return uv(this,a,b,c,d,e)},k.yb=function(a){if(this.C!=a){this.C=a;for(var b in this.i)this.i[b].clear();this.u()}},k.zb=function(a,b){var c=Dc(a);c&&(c=w(c).toString(),c in this.s||(this.s[c]=b))},y(vv,W);var wv=new pe({html:'<a class="ol-attribution-bing-tos" href="http://www.microsoft.com/maps/product/terms.html">Terms of Use</a>'});vv.prototype.v=function(a){if(200!=a.statusCode||"OK"!=a.statusDescription||"ValidCredentials"!=a.authenticationResultCode||1!=a.resourceSets.length||1!=a.resourceSets[0].resources.length)rf(this,"error");else{var b=a.brandLogoUri;-1==b.indexOf("https")&&(b=b.replace("http","https"));var c=a.resourceSets[0].resources[0],d=-1==this.c?c.zoomMax:this.c;a=Cf(this.f);var e=Ef({extent:a,minZoom:c.zoomMin,maxZoom:d,
tileSize:c.imageWidth==c.imageHeight?c.imageWidth:[c.imageWidth,c.imageHeight]});this.tileGrid=e;var f=this.j;if(this.tileUrlFunction=Ml(c.imageUrlSubdomains.map(function(a){var b=[0,0,0],d=c.imageUrl.replace("{subdomain}",a).replace("{culture}",f);return function(a){return a?(ff(a[0],a[1],-a[2]-1,b),d.replace("{quadkey}",gf(b))):void 0}})),c.imageryProviders){var g=Gc(Dc("EPSG:4326"),this.f);a=c.imageryProviders.map(function(a){var b=a.attribution,c={};return a.coverageAreas.forEach(function(a){var b=a.zoomMin,f=Math.min(a.zoomMax,d);a=a.bbox,a=uc([a[1],a[0],a[3],a[2]],g);var h,l;for(h=b;f>=h;++h)l=h.toString(),b=vf(e,a,h),l in c?c[l].push(b):c[l]=[b]}),new pe({html:b,tileRanges:c})}),a.push(wv),this.oa(a)}this.R=b,rf(this,"ready")}},y(xv,W),y(yv,xv),k=yv.prototype,k.Tj=function(){return this.c},k.up=function(a){Ja(this.c,a),zv(this)},k.$o=function(a){this.c=a||{},zv(this)},k.Nk=function(a,b){var c=b.target;if(200<=c.status&&300>c.status){var d;try{d=JSON.parse(c.responseText)}catch(e){return void rf(this,"error")}Av(this,d),this.j[a]=d,rf(this,"ready")}else rf(this,"error")},k.Mk=function(){rf(this,"error")},y(Y,P),Y.prototype.Aa=function(){return this.v},Y.prototype.Oc=function(a,b,c){this.v.Oc(a,b,c),b!==this.C&&(this.clear(),this.C=b,Bv(this),this.Ic(this.A))},Y.prototype.Sa=function(){this.clear(),Bv(this),this.Ic(this.A),this.u()},y(Ev,Gk),k=Ev.prototype,k.Sm=function(){return this.v},k.Lc=function(a,b,c,d){if(void 0===this.i)return null;b=Hk(this,b);var e=this.c;if(e&&this.T==this.g&&e.$()==b&&e.f==c&&Zb(e.H(),a))return e;e={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},Ja(e,this.v),a=a.slice();var f=(a[0]+a[2])/2,g=(a[1]+a[3])/2;if(1!=this.S){var h=this.S*nc(a)/2,l=this.S*oc(a)/2;a[0]=f-h,a[1]=g-l,a[2]=f+h,a[3]=g+l}var h=b/c,l=Math.ceil(nc(a)/h),m=Math.ceil(oc(a)/h);return a[0]=f-h*l/2,a[2]=f+h*l/2,a[1]=g-h*m/2,a[3]=g+h*m/2,this.s[0]=l,this.s[1]=m,f=a,g=this.s,d=d.cb.split(":").pop(),e.SIZE=g[0]+","+g[1],e.BBOX=f.join(","),e.BBOXSR=d,e.IMAGESR=d,e.DPI=90*c,d=this.i,f=d.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),f==d&&wa("Unknown Rest Service",d),e=Dv(f,e),this.c=new ku(a,b,c,this.l,e,this.Y,this.j),this.T=this.g,B(this.c,"change",this.o,this),this.c},k.Rm=function(){return this.j},k.Tm=function(){return this.i},k.Um=function(a){this.c=null,this.j=a,this.u()},k.Vm=function(a){a!=this.i&&(this.i=a,this.c=null,this.u())},k.Wm=function(a){Ja(this.v,a),this.c=null,this.u()},y(Fv,Gk),k=Fv.prototype,k.Ym=function(){return this.j},k.Lc=function(a,b,c){b=Hk(this,b),c=this.la?c:1;var d=this.i;if(d&&this.S==this.g&&d.$()==b&&d.f==c&&Zb(d.H(),a))return d;1!=this.v&&(a=a.slice(),tc(a,this.v));var e=[nc(a)/b*c,oc(a)/b*c];if(void 0!==this.T){var d=this.T,f=pc(a),g=this.ta,h=nc(a),l=oc(a),m=e[0],n=e[1],p=.0254/this.s,e={OPERATION:this.Aa?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol.source.ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:this.s,SETDISPLAYWIDTH:Math.round(e[0]),SETDISPLAYHEIGHT:Math.round(e[1]),SETVIEWSCALE:n*h>m*l?h*g/(m*p):l*g/(n*p),SETVIEWCENTERX:f[0],SETVIEWCENTERY:f[1]};Ja(e,this.j),d=Dv(d,e),d=new ku(a,b,c,this.l,d,this.Y,this.c),B(d,"change",this.o,this)}else d=null;return this.i=d,this.S=this.g,d},k.Xm=function(){return this.c},k.$m=function(a){Ja(this.j,a),this.u()},k.Zm=function(a){this.i=null,this.c=a,this.u()},y(Gv,Gk),Gv.prototype.Lc=function(a){return sc(a,this.c.H())?this.c:null},Gv.prototype.o=function(a){if(2==this.c.V()){var d,e,b=this.c.H(),c=this.c.a();if(this.i?(d=this.i[0],e=this.i[1]):(d=c.width,e=c.height),b=Math.ceil(nc(b)/(oc(b)/e)),b!=d){var b=Ue(b,e),f=b.canvas;b.drawImage(c,0,0,d,e,0,0,f.width,f.height),this.c.g=f}}Gk.prototype.o.call(this,a)},y(Hv,Gk);var Jv=[101,101];k=Hv.prototype,k.fn=function(a,b,c,d){if(void 0!==this.j){var e=qc(a,b,0,Jv),f={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.i.LAYERS};return Ja(f,this.i,d),d=Math.floor((e[3]-a[1])/b),f[this.v?"I":"X"]=Math.floor((a[0]-e[0])/b),f[this.v?"J":"Y"]=d,Kv(this,e,Jv,1,Dc(c),f)}},k.hn=function(){return this.i},k.Lc=function(a,b,c,d){if(void 0===this.j)return null;b=Hk(this,b),1==c||this.Aa&&void 0!==this.la||(c=1),a=a.slice();var e=(a[0]+a[2])/2,f=(a[1]+a[3])/2,g=b/c,h=nc(a)/g,g=oc(a)/g,l=this.c;if(l&&this.Y==this.g&&l.$()==b&&l.f==c&&Zb(l.H(),a))return l;if(1!=this.s){var l=this.s*nc(a)/2,m=this.s*oc(a)/2;a[0]=e-l,a[1]=f-m,a[2]=e+l,a[3]=f+m}return e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},Ja(e,this.i),this.T[0]=Math.ceil(h*this.s),this.T[1]=Math.ceil(g*this.s),d=Kv(this,a,this.T,c,d,e),this.c=new ku(a,b,c,this.l,d,this.ta,this.S),this.Y=this.g,B(this.c,"change",this.o,this),this.c},k.gn=function(){return this.S},k.jn=function(){return this.j},k.kn=function(a){this.c=null,this.S=a,this.u()},k.ln=function(a){a!=this.j&&(this.j=a,this.c=null,this.u())},k.mn=function(a){Ja(this.i,a),Iv(this),this.c=null,this.u()},y(Lv,xv);var Mv=new pe({html:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});!function(){var a={},b={ia:a};!function(c){if("object"==typeof a&&"undefined"!=typeof b)b.ia=c();else{var d;d="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,d.Wp=c()}}(function(){return function d(a,b,g){function h(m,p){if(!b[m]){if(!a[m]){var q="function"==typeof require&&require;if(!p&&q)return q(m,!0);if(l)return l(m,!0);throw q=Error("Cannot find module '"+m+"'"),q.code="MODULE_NOT_FOUND",q}q=b[m]={ia:{}},a[m][0].call(q.ia,function(b){var d=a[m][1][b];return h(d?d:b)},q,q.ia,d,a,b,g)}return b[m].ia}for(var l="function"==typeof require&&require,m=0;m<g.length;m++)h(g[m]);return h}({1:[function(a,b,f){a=a("./processor"),f.$i=a},{"./processor":2}],2:[function(a,b){function f(a){var b=!0;try{new ImageData(10,10)}catch(d){b=!1}return function(d){var e=d.buffers,f=d.meta,g=d.width,h=d.height,l=e.length,m=e[0].byteLength;if(d.imageOps){for(m=Array(l),d=0;l>d;++d){var N,z=m,F=d;N=new Uint8ClampedArray(e[d]);var K=g,X=h;N=b?new ImageData(N,K,X):{data:N,width:K,height:X},z[F]=N}g=a(m,f).data}else{for(g=new Uint8ClampedArray(m),h=Array(l),z=Array(l),d=0;l>d;++d)h[d]=new Uint8ClampedArray(e[d]),z[d]=[0,0,0,0];for(e=0;m>e;e+=4){for(d=0;l>d;++d)F=h[d],z[d][0]=F[e],z[d][1]=F[e+1],z[d][2]=F[e+2],z[d][3]=F[e+3];d=a(z,f),g[e]=d[0],g[e+1]=d[1],g[e+2]=d[2],g[e+3]=d[3]}}return g.buffer}}function g(a,b){var d=Object.keys(a.lib||{}).map(function(b){return"var "+b+" = "+a.lib[b].toString()+";"}).concat(["var __minion__ = ("+f.toString()+")(",a.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),d=URL.createObjectURL(new Blob(d,{type:"text/javascript"})),d=new Worker(d);return d.addEventListener("message",b),d}function h(a,b){var d=f(a.operation);return{postMessage:function(a){setTimeout(function(){b({data:{buffer:d(a),meta:a.meta}})},0)}}}function l(a){this.Qe=!!a.ll;var b;b=0===a.threads?0:this.Qe?1:a.threads||1;var d=[];if(b)for(var e=0;b>e;++e)d[e]=g(a,this.ig.bind(this,e));else d[0]=h(a,this.ig.bind(this,0));this.Kd=d,this.Zc=[],this.oj=a.uo||1/0,this.Id=0,this.Hc={},this.Re=null}var m=a("./util").Fl;l.prototype.so=function(a,b,d){this.lj({zc:a,Xg:b,qg:d}),this.fg()},l.prototype.lj=function(a){for(this.Zc.push(a);this.Zc.length>this.oj;)this.Zc.shift().qg(null,null)},l.prototype.fg=function(){if(0===this.Id&&0<this.Zc.length){var a=this.Re=this.Zc.shift(),b=a.zc[0].width,d=a.zc[0].height,e=a.zc.map(function(a){return a.data.buffer}),f=this.Kd.length;if(this.Id=f,1===f)this.Kd[0].postMessage({buffers:e,meta:a.Xg,imageOps:this.Qe,width:b,height:d},e);else for(var g=4*Math.ceil(a.zc[0].data.length/4/f),h=0;f>h;++h){for(var l=h*g,m=[],z=0,F=e.length;F>z;++z)m.push(e[h].slice(l,l+g));this.Kd[h].postMessage({buffers:m,meta:a.Xg,imageOps:this.Qe,width:b,height:d},m)}}},l.prototype.ig=function(a,b){this.Pp||(this.Hc[a]=b.data,--this.Id,0===this.Id&&this.pj())},l.prototype.pj=function(){var d,e,a=this.Re,b=this.Kd.length;if(1===b)d=new Uint8ClampedArray(this.Hc[0].buffer),e=this.Hc[0].meta;else{var f=a.zc[0].data.length;d=new Uint8ClampedArray(f),e=Array(f);for(var f=4*Math.ceil(f/4/b),g=0;b>g;++g){var h=g*f;d.set(new Uint8ClampedArray(this.Hc[g].buffer),h),e[g]=this.Hc[g].meta}}this.Re=null,this.Hc={},a.qg(null,m(d,a.zc[0].width,a.zc[0].height),e),this.fg()},b.ia=l},{"./util":3}],3:[function(a,b,f){var g=!0;try{new ImageData(10,10)}catch(l){g=!1}var h=document.createElement("canvas").getContext("2d");f.Fl=function(a,b,d){return g?new ImageData(a,b,d):(b=h.createImageData(b,d),b.data.set(a),b)}},{}]},{},[1])(1)}),ql=b.ia}(),y(Nv,Gk),Nv.prototype.v=function(a,b){this.S=new ql.$i({operation:a,ll:"image"===this.Aa,uo:1,lib:b,threads:this.Sa}),this.u()},Nv.prototype.A=function(a,b,c,d){c=!0;for(var e,f=0,g=this.c.length;g>f;++f)if(e=this.c[f].a.ha(),"ready"!==e.V()){c=!1;break}if(!c)return null;if(a=a.slice(),!Qv(this,a,b))return this.j;c=this.i.canvas,e=Math.round(nc(a)/b),f=Math.round(oc(a)/b),(e!==c.width||f!==c.height)&&(c.width=e,c.height=f),e=Ja({},this.Y),e.viewState=Ja({},e.viewState);var f=pc(a),g=Math.round(nc(a)/b),h=Math.round(oc(a)/b);return e.extent=a,e.focus=pc(a),e.size[0]=g,e.size[1]=h,g=e.viewState,g.center=f,g.projection=d,g.resolution=b,this.j=d=new tk(a,b,1,this.l,c,this.T.bind(this,e)),this.s={extent:a,resolution:b,Xo:this.g},d},Nv.prototype.T=function(a,b){for(var c=this.c.length,d=Array(c),e=0;c>e;++e){var f;f=this.c[e];var g=a,h=a.layerStatesArray[e];if(f.l(g,h)){var l=g.size[0],m=g.size[1];if(Rv){var n=Rv.canvas;n.width!==l||n.height!==m?Rv=Ue(l,m):Rv.clearRect(0,0,l,m)}else Rv=Ue(l,m);f.i(g,h,Rv),f=Rv.getImageData(0,0,l,m)}else f=null;if(!f)return;d[e]=f}c={},this.b(new Sv(Tv,a,c)),this.S.so(d,c,this.ta.bind(this,a,b)),Yh(a.tileQueue,16,16)},Nv.prototype.ta=function(a,b,c,d,e){c?b(c):d&&(this.b(new Sv(Uv,a,e)),Qv(this,a.extent,a.viewState.resolution/a.pixelRatio)||this.i.putImageData(d,0,0),b(null))};var Rv=null;y(Sv,bb);var Tv="beforeoperations",Uv="afteroperations",Vv={terrain:{sb:"jpg",opaque:!0},"terrain-background":{sb:"jpg",opaque:!0},"terrain-labels":{sb:"png",opaque:!1},"terrain-lines":{sb:"png",opaque:!1},"toner-background":{sb:"png",opaque:!0},toner:{sb:"png",opaque:!0},"toner-hybrid":{sb:"png",opaque:!1},"toner-labels":{sb:"png",opaque:!1},"toner-lines":{sb:"png",opaque:!1},"toner-lite":{sb:"png",opaque:!0},watercolor:{sb:"jpg",opaque:!0}},Wv={terrain:{minZoom:4,maxZoom:18},toner:{minZoom:0,maxZoom:20},watercolor:{minZoom:1,maxZoom:16}};y(Xv,xv);var Yv=[new pe({html:'Map tiles by <a href="http://stamen.com/">Stamen Design</a>, under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.'}),Mv];return y(Zv,W),Zv.prototype.v=function(){return this.c},Zv.prototype.ac=function(a){return a},Zv.prototype.uc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.eb(c)),!(d.b.length<=a[0])){var e=d.Ea(a,this.j),f=of(d.Ja(a[0]),this.o);1!=b&&(f=nf(f,b,this.o)),d={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},Ja(d,this.c);var g=this.urls;return g?(c=c.cb.split(":").pop(),d.SIZE=f[0]+","+f[1],d.BBOX=e.join(","),d.BBOXSR=c,d.IMAGESR=c,d.DPI=Math.round(d.DPI?d.DPI*b:90*b),a=1==g.length?g[0]:g[Ea((a[1]<<a[0])+a[2],g.length)],b=a.replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),b==a&&wa("Unknown Rest Service",a),d=Dv(b,d)):d=void 0,d}},Zv.prototype.A=function(a){Ja(this.c,a),this.u()},y($v,kf),$v.prototype.$a=function(a){if(a=void 0!==a?w(a):-1,a in this.g)return this.g[a];var b=this.l,c=Ue(b[0],b[1]);return c.strokeStyle="black",c.strokeRect(.5,.5,b[0]+.5,b[1]+.5),c.fillStyle="black",c.textAlign="center",c.textBaseline="middle",c.font="24px sans-serif",c.fillText(this.c,b[0]/2,b[1]/2),this.g[a]=c.canvas},y(aw,Ff),aw.prototype.$b=function(a,b,c){var d=this.Db(a,b,c);if(ef(this.a,d))return this.a.get(d);var e=of(this.tileGrid.Ja(a));return a=[a,b,c],b=(b=If(this,a))?If(this,b).toString():"",e=new $v(a,e,b),this.a.set(d,e),e},y(bw,W),k=bw.prototype,k.pn=function(a){if(a=a.target,200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(c){return void this.le()}this.yh(b)}else this.le()},k.nn=function(){this.le()},k.Ak=function(){return this.c},k.yh=function(a){var d,b=Dc("EPSG:4326"),c=this.f;void 0!==a.bounds&&(d=uc(a.bounds,Gc(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;if(this.tileGrid=c=Ef({extent:Cf(c),maxZoom:f,minZoom:e}),this.tileUrlFunction=Ll(a.tiles,c),void 0!==a.attribution&&!this.l){b=void 0!==d?d:b.H(),d={};for(var g;f>=e;++e)g=e.toString(),d[g]=[vf(c,b,e)];this.oa([new pe({html:a.attribution,tileRanges:d})])}this.c=a,rf(this,"ready")},k.le=function(){rf(this,"error")},y(cw,Ff),k=cw.prototype,k.tn=function(a){if(a=a.target,200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(c){return void this.me()}this.Af(b)}else this.me()},k.sn=function(){this.me()},k.xk=function(){return this.i},k.Ij=function(a,b,c,d,e){this.tileGrid?(b=this.tileGrid.Yd(a,b),dw(this.$b(b[0],b[1],b[2],1,this.f),a,c,d,e)):!0===e?Zf(function(){c.call(d,null)}):c.call(d,null)},k.me=function(){rf(this,"error")},k.Af=function(a){var d,b=Dc("EPSG:4326"),c=this.f;void 0!==a.bounds&&(d=uc(a.bounds,Gc(b,c)));var e=a.minzoom||0,f=a.maxzoom||22;this.tileGrid=c=Ef({extent:Cf(c),maxZoom:f,minZoom:e}),this.i=a.template;var g=a.grids;if(g){if(this.j=Ll(g,c),void 0!==a.attribution){for(b=void 0!==d?d:b.H(),d={};f>=e;++e)g=e.toString(),d[g]=[vf(c,b,e)];this.oa([new pe({html:a.attribution,tileRanges:d})])}rf(this,"ready")}else rf(this,"error")},k.$b=function(a,b,c,d,e){var f=this.Db(a,b,c);return ef(this.a,f)?this.a.get(f):(a=[a,b,c],b=If(this,a,e),d=this.j(b,d,e),d=new ew(a,void 0!==d?0:4,void 0!==d?d:"",this.tileGrid.Ea(a),this.s,this.c),this.a.set(f,d),d)},k.Yf=function(a,b,c){a=this.Db(a,b,c),ef(this.a,a)&&this.a.get(a)},y(ew,kf),k=ew.prototype,k.$a=function(){return null},k.getData=function(a){if(!this.l||!this.j)return null;var b=this.l[Math.floor((1-(a[1]-this.g[1])/(this.g[3]-this.g[1]))*this.l.length)];return"string"!=typeof b?null:(b=b.charCodeAt(Math.floor((a[0]-this.g[0])/(this.g[2]-this.g[0])*b.length)),b>=93&&b--,b>=35&&b--,b-=32,a=null,b in this.j&&(b=this.j[b],a=this.c&&b in this.c?this.c[b]:b),a)},k.getKey=function(){return this.s},k.$d=function(){this.state=3,lf(this)},k.zh=function(a){this.l=a.grid,this.j=a.keys,this.c=a.data,this.state=4,lf(this)},k.rn=function(a){if(a=a.target,200<=a.status&&300>a.status){var b;try{b=JSON.parse(a.responseText)}catch(c){return void this.$d()}this.zh(b)}else this.$d()},k.qn=function(){this.$d()},k.load=function(){this.U&&fw(this)},y(gw,W),k=gw.prototype,k.vn=function(a,b,c,d){c=Dc(c);var e=this.tileGrid;if(e||(e=this.eb(c)),b=e.Yd(a,b),!(e.b.length<=b[0])){var f=e.$(b[0]),g=e.Ea(b,this.Y),e=of(e.Ja(b[0]),this.o),h=this.v;return 0!==h&&(e=mf(e,h,this.o),g=Ub(g,f*h,g)),h={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.c.LAYERS},Ja(h,this.c,d),d=Math.floor((g[3]-a[1])/f),h[this.j?"I":"X"]=Math.floor((a[0]-g[0])/f),h[this.j?"J":"Y"]=d,kw(this,b,e,g,1,c,h)}},k.ff=function(){return this.v},k.Db=function(a,b,c){return this.S+W.prototype.Db.call(this,a,b,c)},k.wn=function(){return this.c},k.ac=function(a){return this.T&&void 0!==this.A?a:1},k.uc=function(a,b,c){var d=this.tileGrid;if(d||(d=this.eb(c)),!(d.b.length<=a[0])){1==b||this.T&&void 0!==this.A||(b=1);var e=d.$(a[0]),f=d.Ea(a,this.Y),d=of(d.Ja(a[0]),this.o),g=this.v;return 0!==g&&(d=mf(d,g,this.o),f=Ub(f,e*g,f)),1!=b&&(d=nf(d,b,this.o)),e={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},Ja(e,this.c),kw(this,a,d,f,b,c,e)}},k.xn=function(a){Ja(this.c,a),hw(this),iw(this),Hf(this,jw(this))},y(lw,sf),lw.prototype.j=function(){return this.l},y(Z,W),k=Z.prototype,k.Vj=function(){return this.c},k.yn=function(){return this.v},k.zn=function(){return this.A},k.hk=function(){return this.j},k.vk=function(){return this.Y},k.An=function(){return this.S},k.Ck=function(){return this.T},k.vp=function(a){Ja(this.c,a),Hf(this,nw(this))},y(ow,W),y(pw,lu),pw.prototype.$a=function(a){var b=void 0!==a?w(a).toString():"";if(b in this.l)return this.l[b];if(a=lu.prototype.$a.call(this,a),2==this.state){if(256==a.width&&256==a.height)return this.l[b]=a;var c=Ue(256,256);return c.drawImage(a,0,0),this.l[b]=c.canvas}return a},qw.prototype.add=function(a,b,c,d,e,f){return b+this.b>this.g||c+this.b>this.g?null:(d=sw(this,!1,a,b,c,d,f))?(a=sw(this,!0,a,b,c,void 0!==e?e:pa,f),{offsetX:d.offsetX,offsetY:d.offsetY,image:d.image,Sg:a.image}):null},rw.prototype.get=function(a){return this.f[a]||null},rw.prototype.add=function(a,b,c,d,e){var f,g,h;for(g=0,h=this.a.length;h>g;++g)if(f=this.a[g],f.width>=b+this.b&&f.height>=c+this.b)return h={offsetX:f.x+this.b,offsetY:f.y+this.b,image:this.c},this.f[a]=h,d.call(e,this.g,f.x+this.b,f.y+this.b),a=g,b+=this.b,d=c+this.b,f.width-b>f.height-d?(c={x:f.x+b,y:f.y,width:f.width-b,height:f.height},b={x:f.x,y:f.y+d,width:b,height:f.height-d},tw(this,a,c,b)):(c={x:f.x+b,y:f.y,width:f.width-b,height:d},b={x:f.x,y:f.y+d,width:f.width,height:f.height-d},tw(this,a,c,b)),h;return null},y(uw,Ih),k=uw.prototype,k.Xb=function(){return this.D},k.Fn=function(){return this.l},k.Gn=function(){return this.o},k.oe=function(){return this.A},k.ic=function(){return this.s},k.kd=function(){return this.R},k.sd=function(){return 2},k.Ia=function(){return this.ya},k.Hn=function(){return this.b},k.In=function(){return this.g},k.uk=function(){return this.c},k.Eb=function(){return this.Ba},k.Jn=function(){return this.a},k.nf=pa,k.load=pa,k.Xf=pa,k.Ih=function(a,b,c,d){var e;for(b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),this.c!==this.g&&(this.b*=2),c=0;c<=this.b;c++)d=2*c*Math.PI/this.b-Math.PI/2+this.l,e=0===c%2?this.g:this.c,b.lineTo(a.size/2+e*Math.cos(d),a.size/2+e*Math.sin(d));this.o&&(b.fillStyle=De(this.o.b),b.fill()),this.a&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Ad,a.lineDash&&b.setLineDash(a.lineDash),b.lineCap=a.lineCap,b.lineJoin=a.lineJoin,b.miterLimit=a.miterLimit,b.stroke()),b.closePath()},k.Hh=function(a,b,c,d){b.setTransform(1,0,0,1,0,0),b.translate(c,d),b.beginPath(),this.c!==this.g&&(this.b*=2);var e;for(c=0;c<=this.b;c++)e=2*c*Math.PI/this.b-Math.PI/2+this.l,d=0===c%2?this.g:this.c,b.lineTo(a.size/2+d*Math.cos(e),a.size/2+d*Math.sin(e));b.fillStyle=kj,b.fill(),this.a&&(b.strokeStyle=a.strokeStyle,b.lineWidth=a.Ad,a.lineDash&&b.setLineDash(a.lineDash),b.stroke()),b.closePath()},t("ol.animation.bounce",function(a){var b=a.resolution,c=a.start?a.start:Date.now(),d=void 0!==a.duration?a.duration:1e3,e=a.easing?a.easing:he;return function(a,g){if(g.time<c)return g.animate=!0,g.viewHints[0]+=1,!0;if(g.time<c+d){var h=e((g.time-c)/d),l=b-g.viewState.resolution;return g.animate=!0,g.viewState.resolution+=h*l,g.viewHints[0]+=1,!0}return!1}},OPENLAYERS),t("ol.animation.pan",ie,OPENLAYERS),t("ol.animation.rotate",je,OPENLAYERS),t("ol.animation.zoom",ke,OPENLAYERS),t("ol.Attribution",pe,OPENLAYERS),pe.prototype.getHTML=pe.prototype.g,qe.prototype.element=qe.prototype.element,t("ol.Collection",re,OPENLAYERS),re.prototype.clear=re.prototype.clear,re.prototype.extend=re.prototype.pf,re.prototype.forEach=re.prototype.forEach,re.prototype.getArray=re.prototype.Gl,re.prototype.item=re.prototype.item,re.prototype.getLength=re.prototype.cc,re.prototype.insertAt=re.prototype.de,re.prototype.pop=re.prototype.pop,re.prototype.push=re.prototype.push,re.prototype.remove=re.prototype.remove,re.prototype.removeAt=re.prototype.Qf,re.prototype.setAt=re.prototype.Zo,t("ol.color.asArray",ze,OPENLAYERS),t("ol.color.asString",Be,OPENLAYERS),t("ol.colorlike.asColorLike",De,OPENLAYERS),t("ol.control.Attribution",Kf,OPENLAYERS),t("ol.control.Attribution.render",Lf,OPENLAYERS),Kf.prototype.getCollapsible=Kf.prototype.$l,Kf.prototype.setCollapsible=Kf.prototype.cm,Kf.prototype.setCollapsed=Kf.prototype.bm,Kf.prototype.getCollapsed=Kf.prototype.Zl,t("ol.control.Control",cf,OPENLAYERS),cf.prototype.getMap=cf.prototype.i,cf.prototype.setMap=cf.prototype.setMap,cf.prototype.setTarget=cf.prototype.c,t("ol.control.defaults",Qf,OPENLAYERS),t("ol.control.FullScreen",Rf,OPENLAYERS),t("ol.control.MousePosition",Wf,OPENLAYERS),t("ol.control.MousePosition.render",Xf,OPENLAYERS),Wf.prototype.getCoordinateFormat=Wf.prototype.Cg,Wf.prototype.getProjection=Wf.prototype.hh,Wf.prototype.setCoordinateFormat=Wf.prototype.ei,Wf.prototype.setProjection=Wf.prototype.ih,t("ol.control.OverviewMap",gn,OPENLAYERS),t("ol.control.OverviewMap.render",hn,OPENLAYERS),gn.prototype.getCollapsible=gn.prototype.fm,gn.prototype.setCollapsible=gn.prototype.im,gn.prototype.setCollapsed=gn.prototype.hm,gn.prototype.getCollapsed=gn.prototype.em,gn.prototype.getOverviewMap=gn.prototype.pk,t("ol.control.Rotate",Nf,OPENLAYERS),t("ol.control.Rotate.render",Of,OPENLAYERS),t("ol.control.ScaleLine",mn,OPENLAYERS),mn.prototype.getUnits=mn.prototype.vb,t("ol.control.ScaleLine.render",nn,OPENLAYERS),mn.prototype.setUnits=mn.prototype.D,t("ol.control.Zoom",Pf,OPENLAYERS),t("ol.control.ZoomSlider",qn,OPENLAYERS),t("ol.control.ZoomSlider.render",sn,OPENLAYERS),t("ol.control.ZoomToExtent",vn,OPENLAYERS),t("ol.coordinate.add",Gb,OPENLAYERS),t("ol.coordinate.createStringXY",function(a){return function(b){return Pb(b,a)}},OPENLAYERS),t("ol.coordinate.format",Jb,OPENLAYERS),t("ol.coordinate.rotate",Lb,OPENLAYERS),t("ol.coordinate.toStringHDMS",function(a,b){return a?Ib(a[1],"NS",b)+" "+Ib(a[0],"EW",b):""},OPENLAYERS),t("ol.coordinate.toStringXY",Pb,OPENLAYERS),t("ol.DeviceOrientation",wn,OPENLAYERS),wn.prototype.getAlpha=wn.prototype.Oj,wn.prototype.getBeta=wn.prototype.Rj,wn.prototype.getGamma=wn.prototype.Yj,wn.prototype.getHeading=wn.prototype.Hl,wn.prototype.getTracking=wn.prototype.$g,wn.prototype.setTracking=wn.prototype.qf,t("ol.easing.easeIn",de,OPENLAYERS),t("ol.easing.easeOut",ee,OPENLAYERS),t("ol.easing.inAndOut",fe,OPENLAYERS),t("ol.easing.linear",ge,OPENLAYERS),t("ol.easing.upAndDown",he,OPENLAYERS),t("ol.events.condition.altKeyOnly",function(a){return a=a.originalEvent,a.altKey&&!(a.metaKey||a.ctrlKey)&&!a.shiftKey},OPENLAYERS),t("ol.events.condition.altShiftKeysOnly",gi,OPENLAYERS),t("ol.events.condition.always",vc,OPENLAYERS),t("ol.events.condition.click",function(a){return a.type==eh},OPENLAYERS),t("ol.events.condition.never",wc,OPENLAYERS),t("ol.events.condition.pointerMove",ii,OPENLAYERS),t("ol.events.condition.singleClick",ji,OPENLAYERS),t("ol.events.condition.doubleClick",function(a){return a.type==fh},OPENLAYERS),t("ol.events.condition.noModifierKeys",ki,OPENLAYERS),t("ol.events.condition.platformModifierKeyOnly",function(a){return a=a.originalEvent,!a.altKey&&(lg?a.metaKey:a.ctrlKey)&&!a.shiftKey},OPENLAYERS),t("ol.events.condition.shiftKeyOnly",li,OPENLAYERS),t("ol.events.condition.targetNotEditable",mi,OPENLAYERS),t("ol.events.condition.mouseOnly",ni,OPENLAYERS),t("ol.events.condition.primaryAction",oi,OPENLAYERS),bb.prototype.type=bb.prototype.type,bb.prototype.target=bb.prototype.target,bb.prototype.preventDefault=bb.prototype.preventDefault,bb.prototype.stopPropagation=bb.prototype.stopPropagation,t("ol.extent.boundingExtent",Qb,OPENLAYERS),t("ol.extent.buffer",Ub,OPENLAYERS),t("ol.extent.containsCoordinate",Xb,OPENLAYERS),t("ol.extent.containsExtent",Zb,OPENLAYERS),t("ol.extent.containsXY",Yb,OPENLAYERS),t("ol.extent.createEmpty",Sb,OPENLAYERS),t("ol.extent.equals",ec,OPENLAYERS),t("ol.extent.extend",fc,OPENLAYERS),t("ol.extent.getBottomLeft",hc,OPENLAYERS),t("ol.extent.getBottomRight",ic,OPENLAYERS),t("ol.extent.getCenter",pc,OPENLAYERS),t("ol.extent.getHeight",oc,OPENLAYERS),t("ol.extent.getIntersection",rc,OPENLAYERS),t("ol.extent.getSize",function(a){return[a[2]-a[0],a[3]-a[1]]},OPENLAYERS),t("ol.extent.getTopLeft",kc,OPENLAYERS),t("ol.extent.getTopRight",jc,OPENLAYERS),t("ol.extent.getWidth",nc,OPENLAYERS),t("ol.extent.intersects",sc,OPENLAYERS),t("ol.extent.isEmpty",mc,OPENLAYERS),t("ol.extent.applyTransform",uc,OPENLAYERS),t("ol.Feature",Ok,OPENLAYERS),Ok.prototype.clone=Ok.prototype.clone,Ok.prototype.getGeometry=Ok.prototype.W,Ok.prototype.getId=Ok.prototype.Xa,Ok.prototype.getGeometryName=Ok.prototype.$j,Ok.prototype.getStyle=Ok.prototype.Jl,Ok.prototype.getStyleFunction=Ok.prototype.dc,Ok.prototype.setGeometry=Ok.prototype.Ua,Ok.prototype.setStyle=Ok.prototype.rf,Ok.prototype.setId=Ok.prototype.lc,Ok.prototype.setGeometryName=Ok.prototype.Dc,t("ol.featureloader.tile",jl,OPENLAYERS),t("ol.featureloader.xhr",kl,OPENLAYERS),t("ol.format.EsriJSON",Kn,OPENLAYERS),Kn.prototype.readFeature=Kn.prototype.Qb,Kn.prototype.readFeatures=Kn.prototype.Fa,Kn.prototype.readGeometry=Kn.prototype.Uc,Kn.prototype.readProjection=Kn.prototype.Oa,Kn.prototype.writeGeometry=Kn.prototype.Yc,Kn.prototype.writeGeometryObject=Kn.prototype.Je,Kn.prototype.writeFeature=Kn.prototype.Cd,Kn.prototype.writeFeatureObject=Kn.prototype.Xc,Kn.prototype.writeFeatures=Kn.prototype.Wb,Kn.prototype.writeFeaturesObject=Kn.prototype.He,t("ol.format.Feature",xn,OPENLAYERS),t("ol.format.GeoJSON",Vn,OPENLAYERS),Vn.prototype.readFeature=Vn.prototype.Qb,Vn.prototype.readFeatures=Vn.prototype.Fa,Vn.prototype.readGeometry=Vn.prototype.Uc,Vn.prototype.readProjection=Vn.prototype.Oa,Vn.prototype.writeFeature=Vn.prototype.Cd,Vn.prototype.writeFeatureObject=Vn.prototype.Xc,Vn.prototype.writeFeatures=Vn.prototype.Wb,Vn.prototype.writeFeaturesObject=Vn.prototype.He,Vn.prototype.writeGeometry=Vn.prototype.Yc,Vn.prototype.writeGeometryObject=Vn.prototype.Je,t("ol.format.GML2",qo,OPENLAYERS),t("ol.format.GML3",ro,OPENLAYERS),ro.prototype.writeGeometryNode=ro.prototype.s,ro.prototype.writeFeatures=ro.prototype.Wb,ro.prototype.writeFeaturesNode=ro.prototype.a,t("ol.format.GML",ro,OPENLAYERS),ro.prototype.writeFeatures=ro.prototype.Wb,ro.prototype.writeFeaturesNode=ro.prototype.a,co.prototype.readFeatures=co.prototype.Fa,t("ol.format.GPX",Ao,OPENLAYERS),Ao.prototype.readFeature=Ao.prototype.Qb,Ao.prototype.readFeatures=Ao.prototype.Fa,Ao.prototype.readProjection=Ao.prototype.Oa,Ao.prototype.writeFeatures=Ao.prototype.Wb,Ao.prototype.writeFeaturesNode=Ao.prototype.a,t("ol.format.IGC",jp,OPENLAYERS),jp.prototype.readFeature=jp.prototype.Qb,jp.prototype.readFeatures=jp.prototype.Fa,jp.prototype.readProjection=jp.prototype.Oa,t("ol.format.KML",Np,OPENLAYERS),Np.prototype.readFeature=Np.prototype.Qb,Np.prototype.readFeatures=Np.prototype.Fa,Np.prototype.readName=Np.prototype.Fo,Np.prototype.readNetworkLinks=Np.prototype.Go,Np.prototype.readProjection=Np.prototype.Oa,Np.prototype.writeFeatures=Np.prototype.Wb,Np.prototype.writeFeaturesNode=Np.prototype.a,t("ol.format.MVT",Cr,OPENLAYERS),Cr.prototype.readFeatures=Cr.prototype.Fa,Cr.prototype.readProjection=Cr.prototype.Oa,Cr.prototype.setLayers=Cr.prototype.c,t("ol.format.ogc.filter.and",Er,OPENLAYERS),t("ol.format.ogc.filter.or",function(a,b){return new Lr(a,b)},OPENLAYERS),t("ol.format.ogc.filter.not",function(a){return new Mr(a)},OPENLAYERS),t("ol.format.ogc.filter.bbox",Gr,OPENLAYERS),t("ol.format.ogc.filter.equalTo",function(a,b,c){return new Pr(a,b,c)},OPENLAYERS),t("ol.format.ogc.filter.notEqualTo",function(a,b,c){return new Qr(a,b,c)},OPENLAYERS),t("ol.format.ogc.filter.lessThan",function(a,b){return new Rr(a,b)},OPENLAYERS),t("ol.format.ogc.filter.lessThanOrEqualTo",function(a,b){return new Sr(a,b)},OPENLAYERS),t("ol.format.ogc.filter.greaterThan",function(a,b){return new Tr(a,b)},OPENLAYERS),t("ol.format.ogc.filter.greaterThanOrEqualTo",function(a,b){return new Ur(a,b)},OPENLAYERS),t("ol.format.ogc.filter.isNull",function(a){return new Vr(a)},OPENLAYERS),t("ol.format.ogc.filter.between",function(a,b,c){return new Wr(a,b,c)},OPENLAYERS),t("ol.format.ogc.filter.like",function(a,b,c,d,e,f){return new Xr(a,b,c,d,e,f)},OPENLAYERS),t("ol.format.ogc.filter.Filter",Ir,OPENLAYERS),t("ol.format.ogc.filter.And",Fr,OPENLAYERS),t("ol.format.ogc.filter.Or",Lr,OPENLAYERS),t("ol.format.ogc.filter.Not",Mr,OPENLAYERS),t("ol.format.ogc.filter.Bbox",Hr,OPENLAYERS),t("ol.format.ogc.filter.Comparison",Nr,OPENLAYERS),t("ol.format.ogc.filter.ComparisonBinary",Or,OPENLAYERS),t("ol.format.ogc.filter.EqualTo",Pr,OPENLAYERS),t("ol.format.ogc.filter.NotEqualTo",Qr,OPENLAYERS),t("ol.format.ogc.filter.LessThan",Rr,OPENLAYERS),t("ol.format.ogc.filter.LessThanOrEqualTo",Sr,OPENLAYERS),t("ol.format.ogc.filter.GreaterThan",Tr,OPENLAYERS),t("ol.format.ogc.filter.GreaterThanOrEqualTo",Ur,OPENLAYERS),t("ol.format.ogc.filter.IsNull",Vr,OPENLAYERS),t("ol.format.ogc.filter.IsBetween",Wr,OPENLAYERS),t("ol.format.ogc.filter.IsLike",Xr,OPENLAYERS),t("ol.format.OSMXML",Yr,OPENLAYERS),Yr.prototype.readFeatures=Yr.prototype.Fa,Yr.prototype.readProjection=Yr.prototype.Oa,t("ol.format.Polyline",ws,OPENLAYERS),t("ol.format.Polyline.encodeDeltas",xs,OPENLAYERS),t("ol.format.Polyline.decodeDeltas",zs,OPENLAYERS),t("ol.format.Polyline.encodeFloats",ys,OPENLAYERS),t("ol.format.Polyline.decodeFloats",As,OPENLAYERS),ws.prototype.readFeature=ws.prototype.Qb,ws.prototype.readFeatures=ws.prototype.Fa,ws.prototype.readGeometry=ws.prototype.Uc,ws.prototype.readProjection=ws.prototype.Oa,ws.prototype.writeGeometry=ws.prototype.Yc,t("ol.format.TopoJSON",Cs,OPENLAYERS),Cs.prototype.readFeatures=Cs.prototype.Fa,Cs.prototype.readProjection=Cs.prototype.Oa,t("ol.format.WFS",Is,OPENLAYERS),Is.prototype.readFeatures=Is.prototype.Fa,Is.prototype.readTransactionResponse=Is.prototype.o,Is.prototype.readFeatureCollectionMetadata=Is.prototype.l,Is.prototype.writeGetFeature=Is.prototype.j,Is.prototype.writeTransaction=Is.prototype.U,Is.prototype.readProjection=Is.prototype.Oa,t("ol.format.WKT",Zs,OPENLAYERS),Zs.prototype.readFeature=Zs.prototype.Qb,Zs.prototype.readFeatures=Zs.prototype.Fa,Zs.prototype.readGeometry=Zs.prototype.Uc,Zs.prototype.writeFeature=Zs.prototype.Cd,Zs.prototype.writeFeatures=Zs.prototype.Wb,Zs.prototype.writeGeometry=Zs.prototype.Yc,t("ol.format.WMSCapabilities",pt,OPENLAYERS),pt.prototype.read=pt.prototype.read,t("ol.format.WMSGetFeatureInfo",Mt,OPENLAYERS),Mt.prototype.readFeatures=Mt.prototype.Fa,t("ol.format.WMTSCapabilities",Nt,OPENLAYERS),Nt.prototype.read=Nt.prototype.read,t("ol.Geolocation",$t,OPENLAYERS),$t.prototype.getAccuracy=$t.prototype.Mj,$t.prototype.getAccuracyGeometry=$t.prototype.Nj,$t.prototype.getAltitude=$t.prototype.Pj,$t.prototype.getAltitudeAccuracy=$t.prototype.Qj,$t.prototype.getHeading=$t.prototype.Ll,$t.prototype.getPosition=$t.prototype.Ml,$t.prototype.getProjection=$t.prototype.ah,$t.prototype.getSpeed=$t.prototype.wk,$t.prototype.getTracking=$t.prototype.bh,$t.prototype.getTrackingOptions=$t.prototype.Mg,$t.prototype.setProjection=$t.prototype.dh,$t.prototype.setTracking=$t.prototype.fe,$t.prototype.setTrackingOptions=$t.prototype.si,t("ol.geom.Circle",au,OPENLAYERS),au.prototype.clone=au.prototype.clone,au.prototype.getCenter=au.prototype.qd,au.prototype.getRadius=au.prototype.vf,au.prototype.getType=au.prototype.X,au.prototype.intersectsExtent=au.prototype.Ka,au.prototype.setCenter=au.prototype.jm,au.prototype.setCenterAndRadius=au.prototype.Uf,au.prototype.setRadius=au.prototype.km,au.prototype.transform=au.prototype.ib,t("ol.geom.Geometry",Yc,OPENLAYERS),Yc.prototype.getClosestPoint=Yc.prototype.ub,Yc.prototype.getExtent=Yc.prototype.H,Yc.prototype.rotate=Yc.prototype.rotate,Yc.prototype.simplify=Yc.prototype.Ab,Yc.prototype.transform=Yc.prototype.ib,t("ol.geom.GeometryCollection",Rn,OPENLAYERS),Rn.prototype.clone=Rn.prototype.clone,Rn.prototype.getGeometries=Rn.prototype.ef,Rn.prototype.getType=Rn.prototype.X,Rn.prototype.intersectsExtent=Rn.prototype.Ka,Rn.prototype.setGeometries=Rn.prototype.hi,Rn.prototype.applyTransform=Rn.prototype.qc,Rn.prototype.translate=Rn.prototype.Rc,t("ol.geom.LinearRing",Ed,OPENLAYERS),Ed.prototype.clone=Ed.prototype.clone,Ed.prototype.getArea=Ed.prototype.nm,Ed.prototype.getCoordinates=Ed.prototype.Z,Ed.prototype.getType=Ed.prototype.X,Ed.prototype.setCoordinates=Ed.prototype.pa,
t("ol.geom.LineString",R,OPENLAYERS),R.prototype.appendCoordinate=R.prototype.wj,R.prototype.clone=R.prototype.clone,R.prototype.forEachSegment=R.prototype.Lj,R.prototype.getCoordinateAtM=R.prototype.lm,R.prototype.getCoordinates=R.prototype.Z,R.prototype.getCoordinateAt=R.prototype.Bg,R.prototype.getLength=R.prototype.mm,R.prototype.getType=R.prototype.X,R.prototype.intersectsExtent=R.prototype.Ka,R.prototype.setCoordinates=R.prototype.pa,t("ol.geom.MultiLineString",S,OPENLAYERS),S.prototype.appendLineString=S.prototype.xj,S.prototype.clone=S.prototype.clone,S.prototype.getCoordinateAtM=S.prototype.om,S.prototype.getCoordinates=S.prototype.Z,S.prototype.getLineString=S.prototype.fk,S.prototype.getLineStrings=S.prototype.ld,S.prototype.getType=S.prototype.X,S.prototype.intersectsExtent=S.prototype.Ka,S.prototype.setCoordinates=S.prototype.pa,t("ol.geom.MultiPoint",Hn,OPENLAYERS),Hn.prototype.appendPoint=Hn.prototype.zj,Hn.prototype.clone=Hn.prototype.clone,Hn.prototype.getCoordinates=Hn.prototype.Z,Hn.prototype.getPoint=Hn.prototype.rk,Hn.prototype.getPoints=Hn.prototype.ie,Hn.prototype.getType=Hn.prototype.X,Hn.prototype.intersectsExtent=Hn.prototype.Ka,Hn.prototype.setCoordinates=Hn.prototype.pa,t("ol.geom.MultiPolygon",T,OPENLAYERS),T.prototype.appendPolygon=T.prototype.Aj,T.prototype.clone=T.prototype.clone,T.prototype.getArea=T.prototype.pm,T.prototype.getCoordinates=T.prototype.Z,T.prototype.getInteriorPoints=T.prototype.ck,T.prototype.getPolygon=T.prototype.tk,T.prototype.getPolygons=T.prototype.Vd,T.prototype.getType=T.prototype.X,T.prototype.intersectsExtent=T.prototype.Ka,T.prototype.setCoordinates=T.prototype.pa,t("ol.geom.Point",C,OPENLAYERS),C.prototype.clone=C.prototype.clone,C.prototype.getCoordinates=C.prototype.Z,C.prototype.getType=C.prototype.X,C.prototype.intersectsExtent=C.prototype.Ka,C.prototype.setCoordinates=C.prototype.pa,t("ol.geom.Polygon",E,OPENLAYERS),E.prototype.appendLinearRing=E.prototype.yj,E.prototype.clone=E.prototype.clone,E.prototype.getArea=E.prototype.qm,E.prototype.getCoordinates=E.prototype.Z,E.prototype.getInteriorPoint=E.prototype.bk,E.prototype.getLinearRingCount=E.prototype.gk,E.prototype.getLinearRing=E.prototype.Hg,E.prototype.getLinearRings=E.prototype.Ud,E.prototype.getType=E.prototype.X,E.prototype.intersectsExtent=E.prototype.Ka,E.prototype.setCoordinates=E.prototype.pa,t("ol.geom.Polygon.circular",Sd,OPENLAYERS),t("ol.geom.Polygon.fromExtent",Td,OPENLAYERS),t("ol.geom.Polygon.fromCircle",Ud,OPENLAYERS),t("ol.geom.SimpleGeometry",md,OPENLAYERS),md.prototype.getFirstCoordinate=md.prototype.Hb,md.prototype.getLastCoordinate=md.prototype.Ib,md.prototype.getLayout=md.prototype.Jb,md.prototype.applyTransform=md.prototype.qc,md.prototype.translate=md.prototype.Rc,t("ol.Graticule",fu,OPENLAYERS),fu.prototype.getMap=fu.prototype.Pl,fu.prototype.getMeridians=fu.prototype.ik,fu.prototype.getParallels=fu.prototype.qk,fu.prototype.setMap=fu.prototype.setMap,t("ol.has.DEVICE_PIXEL_RATIO",mg,OPENLAYERS),t("ol.has.CANVAS",og,OPENLAYERS),t("ol.has.DEVICE_ORIENTATION",pg,OPENLAYERS),t("ol.has.GEOLOCATION",qg,OPENLAYERS),t("ol.has.TOUCH",rg,OPENLAYERS),t("ol.has.WEBGL",hg,OPENLAYERS),ku.prototype.getImage=ku.prototype.a,ku.prototype.load=ku.prototype.load,lu.prototype.getImage=lu.prototype.$a,lu.prototype.load=lu.prototype.load,t("ol.interaction.DoubleClickZoom",ei,OPENLAYERS),t("ol.interaction.DoubleClickZoom.handleEvent",fi,OPENLAYERS),t("ol.interaction.DragAndDrop",nu,OPENLAYERS),t("ol.interaction.DragAndDrop.handleEvent",vc,OPENLAYERS),qu.prototype.features=qu.prototype.features,qu.prototype.file=qu.prototype.file,qu.prototype.projection=qu.prototype.projection,Di.prototype.coordinate=Di.prototype.coordinate,Di.prototype.mapBrowserEvent=Di.prototype.mapBrowserEvent,t("ol.interaction.DragBox",Ei,OPENLAYERS),Ei.prototype.getGeometry=Ei.prototype.W,t("ol.interaction.DragPan",si,OPENLAYERS),t("ol.interaction.DragRotateAndZoom",su,OPENLAYERS),t("ol.interaction.DragRotate",wi,OPENLAYERS),t("ol.interaction.DragZoom",Ji,OPENLAYERS),wu.prototype.feature=wu.prototype.feature,t("ol.interaction.Draw",xu,OPENLAYERS),t("ol.interaction.Draw.handleEvent",zu,OPENLAYERS),xu.prototype.removeLastPoint=xu.prototype.Qo,xu.prototype.finishDrawing=xu.prototype.hd,xu.prototype.extend=xu.prototype.rm,t("ol.interaction.Draw.createRegularPolygon",function(a,b){return function(c,d){var e=c[0],f=c[1],g=Math.sqrt(Mb(e,f)),h=d?d:Ud(new au(e),a);return Vd(h,e,g,b?b:Math.atan((f[1]-e[1])/(f[0]-e[0]))),h}},OPENLAYERS),t("ol.interaction.Interaction",ai,OPENLAYERS),ai.prototype.getActive=ai.prototype.f,ai.prototype.getMap=ai.prototype.l,ai.prototype.setActive=ai.prototype.i,t("ol.interaction.defaults",Yi,OPENLAYERS),t("ol.interaction.KeyboardPan",Ki,OPENLAYERS),t("ol.interaction.KeyboardPan.handleEvent",Li,OPENLAYERS),t("ol.interaction.KeyboardZoom",Mi,OPENLAYERS),t("ol.interaction.KeyboardZoom.handleEvent",Ni,OPENLAYERS),Nu.prototype.features=Nu.prototype.features,Nu.prototype.mapBrowserEvent=Nu.prototype.mapBrowserEvent,t("ol.interaction.Modify",Ou,OPENLAYERS),t("ol.interaction.Modify.handleEvent",Ru,OPENLAYERS),Ou.prototype.removePoint=Ou.prototype.ai,t("ol.interaction.MouseWheelZoom",Oi,OPENLAYERS),t("ol.interaction.MouseWheelZoom.handleEvent",Pi,OPENLAYERS),Oi.prototype.setMouseAnchor=Oi.prototype.D,t("ol.interaction.PinchRotate",Qi,OPENLAYERS),t("ol.interaction.PinchZoom",Ui,OPENLAYERS),t("ol.interaction.Pointer",pi,OPENLAYERS),t("ol.interaction.Pointer.handleEvent",qi,OPENLAYERS),av.prototype.selected=av.prototype.selected,av.prototype.deselected=av.prototype.deselected,av.prototype.mapBrowserEvent=av.prototype.mapBrowserEvent,t("ol.interaction.Select",bv,OPENLAYERS),bv.prototype.getFeatures=bv.prototype.Bm,bv.prototype.getLayer=bv.prototype.Cm,t("ol.interaction.Select.handleEvent",cv,OPENLAYERS),bv.prototype.setMap=bv.prototype.setMap,t("ol.interaction.Snap",ev,OPENLAYERS),ev.prototype.addFeature=ev.prototype.qb,ev.prototype.removeFeature=ev.prototype.mb,iv.prototype.features=iv.prototype.features,iv.prototype.coordinate=iv.prototype.coordinate,t("ol.interaction.Translate",jv,OPENLAYERS),t("ol.Kinetic",Zh,OPENLAYERS),t("ol.layer.Heatmap",V,OPENLAYERS),V.prototype.getBlur=V.prototype.zg,V.prototype.getGradient=V.prototype.Gg,V.prototype.getRadius=V.prototype.ph,V.prototype.setBlur=V.prototype.di,V.prototype.setGradient=V.prototype.ii,V.prototype.setRadius=V.prototype.qh,t("ol.layer.Image",ij,OPENLAYERS),ij.prototype.getSource=ij.prototype.ha,t("ol.layer.Layer",sh,OPENLAYERS),sh.prototype.getSource=sh.prototype.ha,sh.prototype.setMap=sh.prototype.setMap,sh.prototype.setSource=sh.prototype.Ec,t("ol.layer.Base",oh,OPENLAYERS),oh.prototype.getExtent=oh.prototype.H,oh.prototype.getMaxResolution=oh.prototype.Mb,oh.prototype.getMinResolution=oh.prototype.Nb,oh.prototype.getOpacity=oh.prototype.Ob,oh.prototype.getVisible=oh.prototype.wb,oh.prototype.getZIndex=oh.prototype.Pb,oh.prototype.setExtent=oh.prototype.ec,oh.prototype.setMaxResolution=oh.prototype.mc,oh.prototype.setMinResolution=oh.prototype.nc,oh.prototype.setOpacity=oh.prototype.fc,oh.prototype.setVisible=oh.prototype.gc,oh.prototype.setZIndex=oh.prototype.hc,t("ol.layer.Group",Zi,OPENLAYERS),Zi.prototype.getLayers=Zi.prototype.Sc,Zi.prototype.setLayers=Zi.prototype.oh,t("ol.layer.Tile",jj,OPENLAYERS),jj.prototype.getPreload=jj.prototype.f,jj.prototype.getSource=jj.prototype.ha,jj.prototype.setPreload=jj.prototype.l,jj.prototype.getUseInterimTilesOnError=jj.prototype.c,jj.prototype.setUseInterimTilesOnError=jj.prototype.A,t("ol.layer.Vector",G,OPENLAYERS),G.prototype.getSource=G.prototype.ha,G.prototype.getStyle=G.prototype.C,G.prototype.getStyleFunction=G.prototype.D,G.prototype.setStyle=G.prototype.l,t("ol.layer.VectorTile",I,OPENLAYERS),I.prototype.getPreload=I.prototype.f,I.prototype.getUseInterimTilesOnError=I.prototype.c,I.prototype.setPreload=I.prototype.T,I.prototype.setUseInterimTilesOnError=I.prototype.Y,t("ol.loadingstrategy.all",ll,OPENLAYERS),t("ol.loadingstrategy.bbox",function(a){return[a]},OPENLAYERS),t("ol.loadingstrategy.tile",function(a){return function(b,c){var d=a.Kb(c),e=vf(a,b,d),f=[],d=[d,0,0];for(d[1]=e.ca;d[1]<=e.ea;++d[1])for(d[2]=e.fa;d[2]<=e.ga;++d[2])f.push(a.Ea(d));return f}},OPENLAYERS),t("ol.Map",Q,OPENLAYERS),Q.prototype.addControl=Q.prototype.uj,Q.prototype.addInteraction=Q.prototype.vj,Q.prototype.addLayer=Q.prototype.kg,Q.prototype.addOverlay=Q.prototype.lg,Q.prototype.beforeRender=Q.prototype.Wa,Q.prototype.forEachFeatureAtPixel=Q.prototype.jd,Q.prototype.forEachLayerAtPixel=Q.prototype.Tl,Q.prototype.hasFeatureAtPixel=Q.prototype.kl,Q.prototype.getEventCoordinate=Q.prototype.Wj,Q.prototype.getEventPixel=Q.prototype.Sd,Q.prototype.getTarget=Q.prototype.sf,Q.prototype.getTargetElement=Q.prototype.xc,Q.prototype.getCoordinateFromPixel=Q.prototype.Ma,Q.prototype.getControls=Q.prototype.Uj,Q.prototype.getOverlays=Q.prototype.nk,Q.prototype.getOverlayById=Q.prototype.mk,Q.prototype.getInteractions=Q.prototype.ak,Q.prototype.getLayerGroup=Q.prototype.wc,Q.prototype.getLayers=Q.prototype.eh,Q.prototype.getPixelFromCoordinate=Q.prototype.Ga,Q.prototype.getSize=Q.prototype.Za,Q.prototype.getView=Q.prototype.aa,Q.prototype.getViewport=Q.prototype.Dk,Q.prototype.renderSync=Q.prototype.Vo,Q.prototype.render=Q.prototype.render,Q.prototype.removeControl=Q.prototype.Oo,Q.prototype.removeInteraction=Q.prototype.Po,Q.prototype.removeLayer=Q.prototype.Ro,Q.prototype.removeOverlay=Q.prototype.So,Q.prototype.setLayerGroup=Q.prototype.ji,Q.prototype.setSize=Q.prototype.Vf,Q.prototype.setTarget=Q.prototype.fh,Q.prototype.setView=Q.prototype.kp,Q.prototype.updateSize=Q.prototype.Wc,ah.prototype.originalEvent=ah.prototype.originalEvent,ah.prototype.pixel=ah.prototype.pixel,ah.prototype.coordinate=ah.prototype.coordinate,ah.prototype.dragging=ah.prototype.dragging,bf.prototype.map=bf.prototype.map,bf.prototype.frameState=bf.prototype.frameState,ib.prototype.key=ib.prototype.key,ib.prototype.oldValue=ib.prototype.oldValue,t("ol.Object",jb,OPENLAYERS),jb.prototype.get=jb.prototype.get,jb.prototype.getKeys=jb.prototype.N,jb.prototype.getProperties=jb.prototype.O,jb.prototype.set=jb.prototype.set,jb.prototype.setProperties=jb.prototype.G,jb.prototype.unset=jb.prototype.P,t("ol.Observable",gb,OPENLAYERS),t("ol.Observable.unByKey",hb,OPENLAYERS),gb.prototype.changed=gb.prototype.u,gb.prototype.dispatchEvent=gb.prototype.b,gb.prototype.getRevision=gb.prototype.K,gb.prototype.on=gb.prototype.I,gb.prototype.once=gb.prototype.L,gb.prototype.un=gb.prototype.J,gb.prototype.unByKey=gb.prototype.M,t("ol.inherits",y,OPENLAYERS),t("ol.Overlay",cn,OPENLAYERS),cn.prototype.getElement=cn.prototype.Rd,cn.prototype.getId=cn.prototype.Xa,cn.prototype.getMap=cn.prototype.ge,cn.prototype.getOffset=cn.prototype.Kg,cn.prototype.getPosition=cn.prototype.gh,cn.prototype.getPositioning=cn.prototype.Lg,cn.prototype.setElement=cn.prototype.fi,cn.prototype.setMap=cn.prototype.setMap,cn.prototype.setOffset=cn.prototype.li,cn.prototype.setPosition=cn.prototype.tf,cn.prototype.setPositioning=cn.prototype.oi,t("ol.proj.common.add",hj,OPENLAYERS),t("ol.proj.METERS_PER_UNIT",zc,OPENLAYERS),t("ol.proj.Projection",Ac,OPENLAYERS),Ac.prototype.getCode=Ac.prototype.Sj,Ac.prototype.getExtent=Ac.prototype.H,Ac.prototype.getUnits=Ac.prototype.vb,Ac.prototype.getMetersPerUnit=Ac.prototype.Zb,Ac.prototype.getWorldExtent=Ac.prototype.Ek,Ac.prototype.isGlobal=Ac.prototype.pl,Ac.prototype.setGlobal=Ac.prototype.ep,Ac.prototype.setExtent=Ac.prototype.Mm,Ac.prototype.setWorldExtent=Ac.prototype.mp,Ac.prototype.setGetPointResolution=Ac.prototype.cp,Ac.prototype.getPointResolution=Ac.prototype.getPointResolution,t("ol.proj.setProj4",function(a){Cc=a},OPENLAYERS),t("ol.proj.addEquivalentProjections",Ec,OPENLAYERS),t("ol.proj.addProjection",Qc,OPENLAYERS),t("ol.proj.addCoordinateTransforms",Fc,OPENLAYERS),t("ol.proj.fromLonLat",function(a,b){return Wc(a,"EPSG:4326",void 0!==b?b:"EPSG:3857")},OPENLAYERS),t("ol.proj.toLonLat",function(a,b){return Wc(a,void 0!==b?b:"EPSG:3857","EPSG:4326")},OPENLAYERS),t("ol.proj.get",Dc,OPENLAYERS),t("ol.proj.equivalent",Tc,OPENLAYERS),t("ol.proj.getTransform",Uc,OPENLAYERS),t("ol.proj.transform",Wc,OPENLAYERS),t("ol.proj.transformExtent",Xc,OPENLAYERS),Ej.prototype.drawCircle=Ej.prototype.Qd,Ej.prototype.setStyle=Ej.prototype.rd,Ej.prototype.drawGeometry=Ej.prototype.rc,Ej.prototype.drawFeature=Ej.prototype.Xe,rh.prototype.vectorContext=rh.prototype.vectorContext,rh.prototype.frameState=rh.prototype.frameState,rh.prototype.context=rh.prototype.context,rh.prototype.glContext=rh.prototype.glContext,ok.prototype.get=ok.prototype.get,ok.prototype.getExtent=ok.prototype.H,ok.prototype.getGeometry=ok.prototype.W,ok.prototype.getProperties=ok.prototype.Nm,ok.prototype.getType=ok.prototype.X,t("ol.render.VectorContext",qh,OPENLAYERS),Im.prototype.setStyle=Im.prototype.rd,Im.prototype.drawGeometry=Im.prototype.rc,Im.prototype.drawFeature=Im.prototype.Xe,t("ol.render.toContext",function(a,b){var c=a.canvas,d=b?b:{},e=d.pixelRatio||mg;return(d=d.size)&&(c.width=d[0]*e,c.height=d[1]*e,c.style.width=d[0]+"px",c.style.height=d[1]+"px"),c=[0,0,c.width,c.height],d=wh(bd(),0,0,e,e,0,0,0),new Ej(a,e,c,d,0)},OPENLAYERS),t("ol.size.toSize",of,OPENLAYERS),t("ol.source.BingMaps",vv,OPENLAYERS),t("ol.source.BingMaps.TOS_ATTRIBUTION",wv,OPENLAYERS),t("ol.source.CartoDB",yv,OPENLAYERS),yv.prototype.getConfig=yv.prototype.Tj,yv.prototype.updateConfig=yv.prototype.up,yv.prototype.setConfig=yv.prototype.$o,t("ol.source.Cluster",Y,OPENLAYERS),Y.prototype.getSource=Y.prototype.Aa,t("ol.source.ImageArcGISRest",Ev,OPENLAYERS),Ev.prototype.getParams=Ev.prototype.Sm,Ev.prototype.getImageLoadFunction=Ev.prototype.Rm,Ev.prototype.getUrl=Ev.prototype.Tm,Ev.prototype.setImageLoadFunction=Ev.prototype.Um,Ev.prototype.setUrl=Ev.prototype.Vm,Ev.prototype.updateParams=Ev.prototype.Wm,t("ol.source.ImageCanvas",Nk,OPENLAYERS),t("ol.source.ImageMapGuide",Fv,OPENLAYERS),Fv.prototype.getParams=Fv.prototype.Ym,Fv.prototype.getImageLoadFunction=Fv.prototype.Xm,Fv.prototype.updateParams=Fv.prototype.$m,Fv.prototype.setImageLoadFunction=Fv.prototype.Zm,t("ol.source.Image",Gk,OPENLAYERS),Ik.prototype.image=Ik.prototype.image,t("ol.source.ImageStatic",Gv,OPENLAYERS),t("ol.source.ImageVector",El,OPENLAYERS),El.prototype.getSource=El.prototype.an,El.prototype.getStyle=El.prototype.bn,El.prototype.getStyleFunction=El.prototype.cn,El.prototype.setStyle=El.prototype.xh,t("ol.source.ImageWMS",Hv,OPENLAYERS),Hv.prototype.getGetFeatureInfoUrl=Hv.prototype.fn,Hv.prototype.getParams=Hv.prototype.hn,Hv.prototype.getImageLoadFunction=Hv.prototype.gn,Hv.prototype.getUrl=Hv.prototype.jn,Hv.prototype.setImageLoadFunction=Hv.prototype.kn,Hv.prototype.setUrl=Hv.prototype.ln,Hv.prototype.updateParams=Hv.prototype.mn,t("ol.source.OSM",Lv,OPENLAYERS),t("ol.source.OSM.ATTRIBUTION",Mv,OPENLAYERS),t("ol.source.Raster",Nv,OPENLAYERS),Nv.prototype.setOperation=Nv.prototype.v,Sv.prototype.extent=Sv.prototype.extent,Sv.prototype.resolution=Sv.prototype.resolution,Sv.prototype.data=Sv.prototype.data,t("ol.source.Source",pf,OPENLAYERS),pf.prototype.getAttributions=pf.prototype.wa,pf.prototype.getLogo=pf.prototype.ua,pf.prototype.getProjection=pf.prototype.xa,pf.prototype.getState=pf.prototype.V,pf.prototype.refresh=pf.prototype.sa,pf.prototype.setAttributions=pf.prototype.oa,t("ol.source.Stamen",Xv,OPENLAYERS),t("ol.source.TileArcGISRest",Zv,OPENLAYERS),Zv.prototype.getParams=Zv.prototype.v,Zv.prototype.updateParams=Zv.prototype.A,t("ol.source.TileDebug",aw,OPENLAYERS),t("ol.source.TileImage",W,OPENLAYERS),W.prototype.setRenderReprojectionEdges=W.prototype.yb,W.prototype.setTileGridForProjection=W.prototype.zb,t("ol.source.TileJSON",bw,OPENLAYERS),bw.prototype.getTileJSON=bw.prototype.Ak,t("ol.source.Tile",Ff,OPENLAYERS),Ff.prototype.getTileGrid=Ff.prototype.Na,Jf.prototype.tile=Jf.prototype.tile,t("ol.source.TileUTFGrid",cw,OPENLAYERS),cw.prototype.getTemplate=cw.prototype.xk,cw.prototype.forDataAtCoordinateAndResolution=cw.prototype.Ij,t("ol.source.TileWMS",gw,OPENLAYERS),gw.prototype.getGetFeatureInfoUrl=gw.prototype.vn,gw.prototype.getParams=gw.prototype.wn,gw.prototype.updateParams=gw.prototype.xn,Pl.prototype.getTileLoadFunction=Pl.prototype.fb,Pl.prototype.getTileUrlFunction=Pl.prototype.gb,Pl.prototype.getUrls=Pl.prototype.hb,Pl.prototype.setTileLoadFunction=Pl.prototype.jb,Pl.prototype.setTileUrlFunction=Pl.prototype.Qa,Pl.prototype.setUrl=Pl.prototype.Va,Pl.prototype.setUrls=Pl.prototype.bb,t("ol.source.Vector",P,OPENLAYERS),P.prototype.addFeature=P.prototype.qb,P.prototype.addFeatures=P.prototype.Ic,P.prototype.clear=P.prototype.clear,P.prototype.forEachFeature=P.prototype.wg,P.prototype.forEachFeatureInExtent=P.prototype.tb,P.prototype.forEachFeatureIntersectingExtent=P.prototype.xg,P.prototype.getFeaturesCollection=P.prototype.Fg,P.prototype.getFeatures=P.prototype.ne,P.prototype.getFeaturesAtCoordinate=P.prototype.Eg,P.prototype.getFeaturesInExtent=P.prototype.df,P.prototype.getClosestFeatureToCoordinate=P.prototype.Ag,P.prototype.getExtent=P.prototype.H,P.prototype.getFeatureById=P.prototype.Dg,P.prototype.getFormat=P.prototype.Ch,P.prototype.getUrl=P.prototype.Dh,P.prototype.removeFeature=P.prototype.mb,Bl.prototype.feature=Bl.prototype.feature,t("ol.source.VectorTile",Ql,OPENLAYERS),t("ol.source.WMTS",Z,OPENLAYERS),Z.prototype.getDimensions=Z.prototype.Vj,Z.prototype.getFormat=Z.prototype.yn,Z.prototype.getLayer=Z.prototype.zn,Z.prototype.getMatrixSet=Z.prototype.hk,Z.prototype.getRequestEncoding=Z.prototype.vk,Z.prototype.getStyle=Z.prototype.An,Z.prototype.getVersion=Z.prototype.Ck,Z.prototype.updateDimensions=Z.prototype.vp,t("ol.source.WMTS.optionsFromCapabilities",function(a,b){var e,f,c=tb(a.Contents.Layer,function(a){return a.Identifier==b.layer}),d=a.Contents.TileMatrixSet;e=1<c.TileMatrixSetLink.length?"projection"in b?xb(c.TileMatrixSetLink,function(a){return tb(d,function(b){return b.Identifier==a.TileMatrixSet}).SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3")==b.projection}):xb(c.TileMatrixSetLink,function(a){return a.TileMatrixSet==b.matrixSet}):0,0>e&&(e=0),f=c.TileMatrixSetLink[e].TileMatrixSet;var g=c.Format[0];"format"in b&&(g=b.format),e=xb(c.Style,function(a){return"style"in b?a.Title==b.style:a.isDefault}),0>e&&(e=0),e=c.Style[e].Identifier;var h={};"Dimension"in c&&c.Dimension.forEach(function(a){var b=a.Identifier,c=a.Default;void 0===c&&(c=a.Value[0]),h[b]=c});var m,l=tb(a.Contents.TileMatrixSet,function(a){return a.Identifier==f});m=Dc("projection"in b?b.projection:l.SupportedCRS.replace(/urn:ogc:def:crs:(\w+):(.*:)?(\w+)$/,"$1:$3"));var p,q,n=c.WGS84BoundingBox;void 0!==n&&(q=Dc("EPSG:4326").H(),q=n[0]==q[0]&&n[2]==q[2],p=Xc(n,"EPSG:4326",m),(n=m.H())&&(Zb(n,p)||(p=void 0)));var l=mw(l,p),r=[];if(p=b.requestEncoding,p=void 0!==p?p:"","OperationsMetadata"in a&&"GetTile"in a.OperationsMetadata)for(var n=a.OperationsMetadata.GetTile.DCP.HTTP.Get,u=0,x=n.length;x>u;++u){var v=tb(n[u].Constraint,function(a){return"GetEncoding"==a.name}).AllowedValues.Value;if(""===p&&(p=v[0]),"KVP"!==p)break;ob(v,"KVP")&&r.push(n[u].href)}return 0===r.length&&(p="REST",c.ResourceURL.forEach(function(a){"tile"===a.resourceType&&(g=a.format,r.push(a.template))})),{urls:r,layer:b.layer,matrixSet:f,format:g,projection:m,requestEncoding:p,tileGrid:l,style:e,dimensions:h,wrapX:q}},OPENLAYERS),t("ol.source.XYZ",xv,OPENLAYERS),t("ol.source.Zoomify",ow,OPENLAYERS),t("ol.Sphere",xc,OPENLAYERS),xc.prototype.geodesicArea=xc.prototype.a,xc.prototype.haversineDistance=xc.prototype.b,t("ol.style.AtlasManager",qw,OPENLAYERS),t("ol.style.Circle",wj,OPENLAYERS),wj.prototype.getFill=wj.prototype.Bn,wj.prototype.getImage=wj.prototype.ic,wj.prototype.getRadius=wj.prototype.Cn,wj.prototype.getStroke=wj.prototype.Dn,t("ol.style.Fill",oj,OPENLAYERS),oj.prototype.getColor=oj.prototype.g,oj.prototype.setColor=oj.prototype.f,t("ol.style.Icon",Jh,OPENLAYERS),Jh.prototype.getAnchor=Jh.prototype.Xb,Jh.prototype.getImage=Jh.prototype.ic,Jh.prototype.getOrigin=Jh.prototype.Ia,Jh.prototype.getSrc=Jh.prototype.En,Jh.prototype.getSize=Jh.prototype.Eb,Jh.prototype.load=Jh.prototype.load,t("ol.style.Image",Ih,OPENLAYERS),Ih.prototype.getOpacity=Ih.prototype.pe,Ih.prototype.getRotateWithView=Ih.prototype.Wd,Ih.prototype.getRotation=Ih.prototype.qe,Ih.prototype.getScale=Ih.prototype.re,Ih.prototype.getSnapToPixel=Ih.prototype.Xd,Ih.prototype.setOpacity=Ih.prototype.se,Ih.prototype.setRotation=Ih.prototype.te,Ih.prototype.setScale=Ih.prototype.ue,t("ol.style.RegularShape",uw,OPENLAYERS),uw.prototype.getAnchor=uw.prototype.Xb,uw.prototype.getAngle=uw.prototype.Fn,uw.prototype.getFill=uw.prototype.Gn,uw.prototype.getImage=uw.prototype.ic,uw.prototype.getOrigin=uw.prototype.Ia,uw.prototype.getPoints=uw.prototype.Hn,uw.prototype.getRadius=uw.prototype.In,uw.prototype.getRadius2=uw.prototype.uk,uw.prototype.getSize=uw.prototype.Eb,uw.prototype.getStroke=uw.prototype.Jn,t("ol.style.Stroke",uj,OPENLAYERS),uj.prototype.getColor=uj.prototype.Kn,uj.prototype.getLineCap=uj.prototype.dk,uj.prototype.getLineDash=uj.prototype.Ln,uj.prototype.getLineJoin=uj.prototype.ek,uj.prototype.getMiterLimit=uj.prototype.jk,uj.prototype.getWidth=uj.prototype.Mn,uj.prototype.setColor=uj.prototype.Nn,uj.prototype.setLineCap=uj.prototype.fp,uj.prototype.setLineDash=uj.prototype.On,uj.prototype.setLineJoin=uj.prototype.gp,uj.prototype.setMiterLimit=uj.prototype.hp,uj.prototype.setWidth=uj.prototype.lp,t("ol.style.Style",xj,OPENLAYERS),xj.prototype.getGeometry=xj.prototype.W,xj.prototype.getGeometryFunction=xj.prototype.Zj,xj.prototype.getFill=xj.prototype.Pn,xj.prototype.getImage=xj.prototype.Qn,xj.prototype.getStroke=xj.prototype.Rn,xj.prototype.getText=xj.prototype.Ha,xj.prototype.getZIndex=xj.prototype.Sn,xj.prototype.setGeometry=xj.prototype.Jh,xj.prototype.setZIndex=xj.prototype.Tn,t("ol.style.Text",Mp,OPENLAYERS),Mp.prototype.getFont=Mp.prototype.Xj,Mp.prototype.getOffsetX=Mp.prototype.kk,Mp.prototype.getOffsetY=Mp.prototype.lk,Mp.prototype.getFill=Mp.prototype.Un,Mp.prototype.getRotation=Mp.prototype.Vn,Mp.prototype.getScale=Mp.prototype.Wn,Mp.prototype.getStroke=Mp.prototype.Xn,Mp.prototype.getText=Mp.prototype.Ha,Mp.prototype.getTextAlign=Mp.prototype.yk,Mp.prototype.getTextBaseline=Mp.prototype.zk,Mp.prototype.setFont=Mp.prototype.bp,Mp.prototype.setOffsetX=Mp.prototype.mi,Mp.prototype.setOffsetY=Mp.prototype.ni,Mp.prototype.setFill=Mp.prototype.ap,Mp.prototype.setRotation=Mp.prototype.Yn,Mp.prototype.setScale=Mp.prototype.Zn,Mp.prototype.setStroke=Mp.prototype.ip,Mp.prototype.setText=Mp.prototype.pi,Mp.prototype.setTextAlign=Mp.prototype.ri,Mp.prototype.setTextBaseline=Mp.prototype.jp,kf.prototype.getTileCoord=kf.prototype.i,kf.prototype.load=kf.prototype.load,t("ol.tilegrid.TileGrid",sf,OPENLAYERS),sf.prototype.forEachTileCoord=sf.prototype.yg,sf.prototype.getMaxZoom=sf.prototype.Ig,sf.prototype.getMinZoom=sf.prototype.Jg,sf.prototype.getOrigin=sf.prototype.Ia,sf.prototype.getResolution=sf.prototype.$,sf.prototype.getResolutions=sf.prototype.Kh,sf.prototype.getTileCoordExtent=sf.prototype.Ea,sf.prototype.getTileCoordForCoordAndResolution=sf.prototype.Yd,sf.prototype.getTileCoordForCoordAndZ=sf.prototype.pd,sf.prototype.getTileSize=sf.prototype.Ja,sf.prototype.getZForResolution=sf.prototype.Kb,t("ol.tilegrid.createXYZ",Ef,OPENLAYERS),t("ol.tilegrid.WMTS",lw,OPENLAYERS),lw.prototype.getMatrixIds=lw.prototype.j,t("ol.tilegrid.WMTS.createFromCapabilitiesMatrixSet",mw,OPENLAYERS),Qk.prototype.getFormat=Qk.prototype.Ul,Qk.prototype.setFeatures=Qk.prototype.gi,Qk.prototype.setProjection=Qk.prototype.uf,Qk.prototype.setLoader=Qk.prototype.ki,t("ol.View",Wd,OPENLAYERS),Wd.prototype.constrainCenter=Wd.prototype.Od,Wd.prototype.constrainResolution=Wd.prototype.constrainResolution,Wd.prototype.constrainRotation=Wd.prototype.constrainRotation,Wd.prototype.getCenter=Wd.prototype.ab,Wd.prototype.calculateExtent=Wd.prototype.Jc,Wd.prototype.getMaxResolution=Wd.prototype.Vl,Wd.prototype.getMinResolution=Wd.prototype.Wl,Wd.prototype.getProjection=Wd.prototype.Xl,Wd.prototype.getResolution=Wd.prototype.$,Wd.prototype.getResolutions=Wd.prototype.Yl,Wd.prototype.getRotation=Wd.prototype.La,Wd.prototype.getZoom=Wd.prototype.Fk,Wd.prototype.fit=Wd.prototype.bf,Wd.prototype.centerOn=Wd.prototype.Ej,Wd.prototype.rotate=Wd.prototype.rotate,Wd.prototype.setCenter=Wd.prototype.lb,Wd.prototype.setResolution=Wd.prototype.Tb,Wd.prototype.setRotation=Wd.prototype.he,Wd.prototype.setZoom=Wd.prototype.np,mm.prototype.getGL=mm.prototype.$n,mm.prototype.useProgram=mm.prototype.ve,t("ol.xml.getAllTextContent",Tk,OPENLAYERS),t("ol.xml.parse",Xk,OPENLAYERS),qe.prototype.type=qe.prototype.type,qe.prototype.target=qe.prototype.target,qe.prototype.preventDefault=qe.prototype.preventDefault,qe.prototype.stopPropagation=qe.prototype.stopPropagation,jb.prototype.changed=jb.prototype.u,jb.prototype.dispatchEvent=jb.prototype.b,jb.prototype.getRevision=jb.prototype.K,jb.prototype.on=jb.prototype.I,jb.prototype.once=jb.prototype.L,jb.prototype.un=jb.prototype.J,jb.prototype.unByKey=jb.prototype.M,re.prototype.get=re.prototype.get,re.prototype.getKeys=re.prototype.N,re.prototype.getProperties=re.prototype.O,re.prototype.set=re.prototype.set,re.prototype.setProperties=re.prototype.G,re.prototype.unset=re.prototype.P,re.prototype.changed=re.prototype.u,re.prototype.dispatchEvent=re.prototype.b,re.prototype.getRevision=re.prototype.K,re.prototype.on=re.prototype.I,re.prototype.once=re.prototype.L,re.prototype.un=re.prototype.J,re.prototype.unByKey=re.prototype.M,cf.prototype.get=cf.prototype.get,cf.prototype.getKeys=cf.prototype.N,cf.prototype.getProperties=cf.prototype.O,cf.prototype.set=cf.prototype.set,cf.prototype.setProperties=cf.prototype.G,cf.prototype.unset=cf.prototype.P,cf.prototype.changed=cf.prototype.u,cf.prototype.dispatchEvent=cf.prototype.b,cf.prototype.getRevision=cf.prototype.K,cf.prototype.on=cf.prototype.I,cf.prototype.once=cf.prototype.L,cf.prototype.un=cf.prototype.J,cf.prototype.unByKey=cf.prototype.M,Kf.prototype.getMap=Kf.prototype.i,Kf.prototype.setMap=Kf.prototype.setMap,Kf.prototype.setTarget=Kf.prototype.c,Kf.prototype.get=Kf.prototype.get,Kf.prototype.getKeys=Kf.prototype.N,Kf.prototype.getProperties=Kf.prototype.O,Kf.prototype.set=Kf.prototype.set,Kf.prototype.setProperties=Kf.prototype.G,Kf.prototype.unset=Kf.prototype.P,Kf.prototype.changed=Kf.prototype.u,Kf.prototype.dispatchEvent=Kf.prototype.b,Kf.prototype.getRevision=Kf.prototype.K,Kf.prototype.on=Kf.prototype.I,Kf.prototype.once=Kf.prototype.L,Kf.prototype.un=Kf.prototype.J,Kf.prototype.unByKey=Kf.prototype.M,Rf.prototype.getMap=Rf.prototype.i,Rf.prototype.setMap=Rf.prototype.setMap,Rf.prototype.setTarget=Rf.prototype.c,Rf.prototype.get=Rf.prototype.get,Rf.prototype.getKeys=Rf.prototype.N,Rf.prototype.getProperties=Rf.prototype.O,Rf.prototype.set=Rf.prototype.set,Rf.prototype.setProperties=Rf.prototype.G,Rf.prototype.unset=Rf.prototype.P,Rf.prototype.changed=Rf.prototype.u,Rf.prototype.dispatchEvent=Rf.prototype.b,Rf.prototype.getRevision=Rf.prototype.K,Rf.prototype.on=Rf.prototype.I,Rf.prototype.once=Rf.prototype.L,Rf.prototype.un=Rf.prototype.J,Rf.prototype.unByKey=Rf.prototype.M,Wf.prototype.getMap=Wf.prototype.i,Wf.prototype.setMap=Wf.prototype.setMap,Wf.prototype.setTarget=Wf.prototype.c,Wf.prototype.get=Wf.prototype.get,Wf.prototype.getKeys=Wf.prototype.N,Wf.prototype.getProperties=Wf.prototype.O,Wf.prototype.set=Wf.prototype.set,Wf.prototype.setProperties=Wf.prototype.G,Wf.prototype.unset=Wf.prototype.P,Wf.prototype.changed=Wf.prototype.u,Wf.prototype.dispatchEvent=Wf.prototype.b,Wf.prototype.getRevision=Wf.prototype.K,Wf.prototype.on=Wf.prototype.I,Wf.prototype.once=Wf.prototype.L,Wf.prototype.un=Wf.prototype.J,Wf.prototype.unByKey=Wf.prototype.M,gn.prototype.getMap=gn.prototype.i,gn.prototype.setMap=gn.prototype.setMap,gn.prototype.setTarget=gn.prototype.c,gn.prototype.get=gn.prototype.get,gn.prototype.getKeys=gn.prototype.N,gn.prototype.getProperties=gn.prototype.O,gn.prototype.set=gn.prototype.set,gn.prototype.setProperties=gn.prototype.G,gn.prototype.unset=gn.prototype.P,gn.prototype.changed=gn.prototype.u,gn.prototype.dispatchEvent=gn.prototype.b,gn.prototype.getRevision=gn.prototype.K,gn.prototype.on=gn.prototype.I,gn.prototype.once=gn.prototype.L,gn.prototype.un=gn.prototype.J,gn.prototype.unByKey=gn.prototype.M,Nf.prototype.getMap=Nf.prototype.i,Nf.prototype.setMap=Nf.prototype.setMap,Nf.prototype.setTarget=Nf.prototype.c,Nf.prototype.get=Nf.prototype.get,Nf.prototype.getKeys=Nf.prototype.N,Nf.prototype.getProperties=Nf.prototype.O,Nf.prototype.set=Nf.prototype.set,Nf.prototype.setProperties=Nf.prototype.G,Nf.prototype.unset=Nf.prototype.P,Nf.prototype.changed=Nf.prototype.u,Nf.prototype.dispatchEvent=Nf.prototype.b,Nf.prototype.getRevision=Nf.prototype.K,Nf.prototype.on=Nf.prototype.I,Nf.prototype.once=Nf.prototype.L,Nf.prototype.un=Nf.prototype.J,Nf.prototype.unByKey=Nf.prototype.M,mn.prototype.getMap=mn.prototype.i,mn.prototype.setMap=mn.prototype.setMap,mn.prototype.setTarget=mn.prototype.c,mn.prototype.get=mn.prototype.get,mn.prototype.getKeys=mn.prototype.N,mn.prototype.getProperties=mn.prototype.O,mn.prototype.set=mn.prototype.set,mn.prototype.setProperties=mn.prototype.G,mn.prototype.unset=mn.prototype.P,mn.prototype.changed=mn.prototype.u,mn.prototype.dispatchEvent=mn.prototype.b,mn.prototype.getRevision=mn.prototype.K,mn.prototype.on=mn.prototype.I,mn.prototype.once=mn.prototype.L,mn.prototype.un=mn.prototype.J,mn.prototype.unByKey=mn.prototype.M,Pf.prototype.getMap=Pf.prototype.i,Pf.prototype.setMap=Pf.prototype.setMap,Pf.prototype.setTarget=Pf.prototype.c,Pf.prototype.get=Pf.prototype.get,Pf.prototype.getKeys=Pf.prototype.N,Pf.prototype.getProperties=Pf.prototype.O,Pf.prototype.set=Pf.prototype.set,Pf.prototype.setProperties=Pf.prototype.G,Pf.prototype.unset=Pf.prototype.P,Pf.prototype.changed=Pf.prototype.u,Pf.prototype.dispatchEvent=Pf.prototype.b,Pf.prototype.getRevision=Pf.prototype.K,Pf.prototype.on=Pf.prototype.I,Pf.prototype.once=Pf.prototype.L,Pf.prototype.un=Pf.prototype.J,Pf.prototype.unByKey=Pf.prototype.M,qn.prototype.getMap=qn.prototype.i,qn.prototype.setMap=qn.prototype.setMap,qn.prototype.setTarget=qn.prototype.c,qn.prototype.get=qn.prototype.get,qn.prototype.getKeys=qn.prototype.N,qn.prototype.getProperties=qn.prototype.O,qn.prototype.set=qn.prototype.set,qn.prototype.setProperties=qn.prototype.G,qn.prototype.unset=qn.prototype.P,qn.prototype.changed=qn.prototype.u,qn.prototype.dispatchEvent=qn.prototype.b,qn.prototype.getRevision=qn.prototype.K,qn.prototype.on=qn.prototype.I,qn.prototype.once=qn.prototype.L,qn.prototype.un=qn.prototype.J,qn.prototype.unByKey=qn.prototype.M,vn.prototype.getMap=vn.prototype.i,vn.prototype.setMap=vn.prototype.setMap,vn.prototype.setTarget=vn.prototype.c,vn.prototype.get=vn.prototype.get,vn.prototype.getKeys=vn.prototype.N,vn.prototype.getProperties=vn.prototype.O,vn.prototype.set=vn.prototype.set,vn.prototype.setProperties=vn.prototype.G,vn.prototype.unset=vn.prototype.P,vn.prototype.changed=vn.prototype.u,vn.prototype.dispatchEvent=vn.prototype.b,vn.prototype.getRevision=vn.prototype.K,vn.prototype.on=vn.prototype.I,vn.prototype.once=vn.prototype.L,vn.prototype.un=vn.prototype.J,vn.prototype.unByKey=vn.prototype.M,wn.prototype.get=wn.prototype.get,wn.prototype.getKeys=wn.prototype.N,wn.prototype.getProperties=wn.prototype.O,wn.prototype.set=wn.prototype.set,wn.prototype.setProperties=wn.prototype.G,wn.prototype.unset=wn.prototype.P,wn.prototype.changed=wn.prototype.u,wn.prototype.dispatchEvent=wn.prototype.b,wn.prototype.getRevision=wn.prototype.K,wn.prototype.on=wn.prototype.I,wn.prototype.once=wn.prototype.L,wn.prototype.un=wn.prototype.J,wn.prototype.unByKey=wn.prototype.M,Ok.prototype.get=Ok.prototype.get,Ok.prototype.getKeys=Ok.prototype.N,Ok.prototype.getProperties=Ok.prototype.O,Ok.prototype.set=Ok.prototype.set,Ok.prototype.setProperties=Ok.prototype.G,Ok.prototype.unset=Ok.prototype.P,Ok.prototype.changed=Ok.prototype.u,
Ok.prototype.dispatchEvent=Ok.prototype.b,Ok.prototype.getRevision=Ok.prototype.K,Ok.prototype.on=Ok.prototype.I,Ok.prototype.once=Ok.prototype.L,Ok.prototype.un=Ok.prototype.J,Ok.prototype.unByKey=Ok.prototype.M,qo.prototype.readFeatures=qo.prototype.Fa,ro.prototype.readFeatures=ro.prototype.Fa,ro.prototype.readFeatures=ro.prototype.Fa,$t.prototype.get=$t.prototype.get,$t.prototype.getKeys=$t.prototype.N,$t.prototype.getProperties=$t.prototype.O,$t.prototype.set=$t.prototype.set,$t.prototype.setProperties=$t.prototype.G,$t.prototype.unset=$t.prototype.P,$t.prototype.changed=$t.prototype.u,$t.prototype.dispatchEvent=$t.prototype.b,$t.prototype.getRevision=$t.prototype.K,$t.prototype.on=$t.prototype.I,$t.prototype.once=$t.prototype.L,$t.prototype.un=$t.prototype.J,$t.prototype.unByKey=$t.prototype.M,Yc.prototype.get=Yc.prototype.get,Yc.prototype.getKeys=Yc.prototype.N,Yc.prototype.getProperties=Yc.prototype.O,Yc.prototype.set=Yc.prototype.set,Yc.prototype.setProperties=Yc.prototype.G,Yc.prototype.unset=Yc.prototype.P,Yc.prototype.changed=Yc.prototype.u,Yc.prototype.dispatchEvent=Yc.prototype.b,Yc.prototype.getRevision=Yc.prototype.K,Yc.prototype.on=Yc.prototype.I,Yc.prototype.once=Yc.prototype.L,Yc.prototype.un=Yc.prototype.J,Yc.prototype.unByKey=Yc.prototype.M,md.prototype.getClosestPoint=md.prototype.ub,md.prototype.getExtent=md.prototype.H,md.prototype.rotate=md.prototype.rotate,md.prototype.simplify=md.prototype.Ab,md.prototype.transform=md.prototype.ib,md.prototype.get=md.prototype.get,md.prototype.getKeys=md.prototype.N,md.prototype.getProperties=md.prototype.O,md.prototype.set=md.prototype.set,md.prototype.setProperties=md.prototype.G,md.prototype.unset=md.prototype.P,md.prototype.changed=md.prototype.u,md.prototype.dispatchEvent=md.prototype.b,md.prototype.getRevision=md.prototype.K,md.prototype.on=md.prototype.I,md.prototype.once=md.prototype.L,md.prototype.un=md.prototype.J,md.prototype.unByKey=md.prototype.M,au.prototype.getFirstCoordinate=au.prototype.Hb,au.prototype.getLastCoordinate=au.prototype.Ib,au.prototype.getLayout=au.prototype.Jb,au.prototype.rotate=au.prototype.rotate,au.prototype.getClosestPoint=au.prototype.ub,au.prototype.getExtent=au.prototype.H,au.prototype.simplify=au.prototype.Ab,au.prototype.get=au.prototype.get,au.prototype.getKeys=au.prototype.N,au.prototype.getProperties=au.prototype.O,au.prototype.set=au.prototype.set,au.prototype.setProperties=au.prototype.G,au.prototype.unset=au.prototype.P,au.prototype.changed=au.prototype.u,au.prototype.dispatchEvent=au.prototype.b,au.prototype.getRevision=au.prototype.K,au.prototype.on=au.prototype.I,au.prototype.once=au.prototype.L,au.prototype.un=au.prototype.J,au.prototype.unByKey=au.prototype.M,Rn.prototype.getClosestPoint=Rn.prototype.ub,Rn.prototype.getExtent=Rn.prototype.H,Rn.prototype.rotate=Rn.prototype.rotate,Rn.prototype.simplify=Rn.prototype.Ab,Rn.prototype.transform=Rn.prototype.ib,Rn.prototype.get=Rn.prototype.get,Rn.prototype.getKeys=Rn.prototype.N,Rn.prototype.getProperties=Rn.prototype.O,Rn.prototype.set=Rn.prototype.set,Rn.prototype.setProperties=Rn.prototype.G,Rn.prototype.unset=Rn.prototype.P,Rn.prototype.changed=Rn.prototype.u,Rn.prototype.dispatchEvent=Rn.prototype.b,Rn.prototype.getRevision=Rn.prototype.K,Rn.prototype.on=Rn.prototype.I,Rn.prototype.once=Rn.prototype.L,Rn.prototype.un=Rn.prototype.J,Rn.prototype.unByKey=Rn.prototype.M,Ed.prototype.getFirstCoordinate=Ed.prototype.Hb,Ed.prototype.getLastCoordinate=Ed.prototype.Ib,Ed.prototype.getLayout=Ed.prototype.Jb,Ed.prototype.rotate=Ed.prototype.rotate,Ed.prototype.getClosestPoint=Ed.prototype.ub,Ed.prototype.getExtent=Ed.prototype.H,Ed.prototype.simplify=Ed.prototype.Ab,Ed.prototype.transform=Ed.prototype.ib,Ed.prototype.get=Ed.prototype.get,Ed.prototype.getKeys=Ed.prototype.N,Ed.prototype.getProperties=Ed.prototype.O,Ed.prototype.set=Ed.prototype.set,Ed.prototype.setProperties=Ed.prototype.G,Ed.prototype.unset=Ed.prototype.P,Ed.prototype.changed=Ed.prototype.u,Ed.prototype.dispatchEvent=Ed.prototype.b,Ed.prototype.getRevision=Ed.prototype.K,Ed.prototype.on=Ed.prototype.I,Ed.prototype.once=Ed.prototype.L,Ed.prototype.un=Ed.prototype.J,Ed.prototype.unByKey=Ed.prototype.M,R.prototype.getFirstCoordinate=R.prototype.Hb,R.prototype.getLastCoordinate=R.prototype.Ib,R.prototype.getLayout=R.prototype.Jb,R.prototype.rotate=R.prototype.rotate,R.prototype.getClosestPoint=R.prototype.ub,R.prototype.getExtent=R.prototype.H,R.prototype.simplify=R.prototype.Ab,R.prototype.transform=R.prototype.ib,R.prototype.get=R.prototype.get,R.prototype.getKeys=R.prototype.N,R.prototype.getProperties=R.prototype.O,R.prototype.set=R.prototype.set,R.prototype.setProperties=R.prototype.G,R.prototype.unset=R.prototype.P,R.prototype.changed=R.prototype.u,R.prototype.dispatchEvent=R.prototype.b,R.prototype.getRevision=R.prototype.K,R.prototype.on=R.prototype.I,R.prototype.once=R.prototype.L,R.prototype.un=R.prototype.J,R.prototype.unByKey=R.prototype.M,S.prototype.getFirstCoordinate=S.prototype.Hb,S.prototype.getLastCoordinate=S.prototype.Ib,S.prototype.getLayout=S.prototype.Jb,S.prototype.rotate=S.prototype.rotate,S.prototype.getClosestPoint=S.prototype.ub,S.prototype.getExtent=S.prototype.H,S.prototype.simplify=S.prototype.Ab,S.prototype.transform=S.prototype.ib,S.prototype.get=S.prototype.get,S.prototype.getKeys=S.prototype.N,S.prototype.getProperties=S.prototype.O,S.prototype.set=S.prototype.set,S.prototype.setProperties=S.prototype.G,S.prototype.unset=S.prototype.P,S.prototype.changed=S.prototype.u,S.prototype.dispatchEvent=S.prototype.b,S.prototype.getRevision=S.prototype.K,S.prototype.on=S.prototype.I,S.prototype.once=S.prototype.L,S.prototype.un=S.prototype.J,S.prototype.unByKey=S.prototype.M,Hn.prototype.getFirstCoordinate=Hn.prototype.Hb,Hn.prototype.getLastCoordinate=Hn.prototype.Ib,Hn.prototype.getLayout=Hn.prototype.Jb,Hn.prototype.rotate=Hn.prototype.rotate,Hn.prototype.getClosestPoint=Hn.prototype.ub,Hn.prototype.getExtent=Hn.prototype.H,Hn.prototype.simplify=Hn.prototype.Ab,Hn.prototype.transform=Hn.prototype.ib,Hn.prototype.get=Hn.prototype.get,Hn.prototype.getKeys=Hn.prototype.N,Hn.prototype.getProperties=Hn.prototype.O,Hn.prototype.set=Hn.prototype.set,Hn.prototype.setProperties=Hn.prototype.G,Hn.prototype.unset=Hn.prototype.P,Hn.prototype.changed=Hn.prototype.u,Hn.prototype.dispatchEvent=Hn.prototype.b,Hn.prototype.getRevision=Hn.prototype.K,Hn.prototype.on=Hn.prototype.I,Hn.prototype.once=Hn.prototype.L,Hn.prototype.un=Hn.prototype.J,Hn.prototype.unByKey=Hn.prototype.M,T.prototype.getFirstCoordinate=T.prototype.Hb,T.prototype.getLastCoordinate=T.prototype.Ib,T.prototype.getLayout=T.prototype.Jb,T.prototype.rotate=T.prototype.rotate,T.prototype.getClosestPoint=T.prototype.ub,T.prototype.getExtent=T.prototype.H,T.prototype.simplify=T.prototype.Ab,T.prototype.transform=T.prototype.ib,T.prototype.get=T.prototype.get,T.prototype.getKeys=T.prototype.N,T.prototype.getProperties=T.prototype.O,T.prototype.set=T.prototype.set,T.prototype.setProperties=T.prototype.G,T.prototype.unset=T.prototype.P,T.prototype.changed=T.prototype.u,T.prototype.dispatchEvent=T.prototype.b,T.prototype.getRevision=T.prototype.K,T.prototype.on=T.prototype.I,T.prototype.once=T.prototype.L,T.prototype.un=T.prototype.J,T.prototype.unByKey=T.prototype.M,C.prototype.getFirstCoordinate=C.prototype.Hb,C.prototype.getLastCoordinate=C.prototype.Ib,C.prototype.getLayout=C.prototype.Jb,C.prototype.rotate=C.prototype.rotate,C.prototype.getClosestPoint=C.prototype.ub,C.prototype.getExtent=C.prototype.H,C.prototype.simplify=C.prototype.Ab,C.prototype.transform=C.prototype.ib,C.prototype.get=C.prototype.get,C.prototype.getKeys=C.prototype.N,C.prototype.getProperties=C.prototype.O,C.prototype.set=C.prototype.set,C.prototype.setProperties=C.prototype.G,C.prototype.unset=C.prototype.P,C.prototype.changed=C.prototype.u,C.prototype.dispatchEvent=C.prototype.b,C.prototype.getRevision=C.prototype.K,C.prototype.on=C.prototype.I,C.prototype.once=C.prototype.L,C.prototype.un=C.prototype.J,C.prototype.unByKey=C.prototype.M,E.prototype.getFirstCoordinate=E.prototype.Hb,E.prototype.getLastCoordinate=E.prototype.Ib,E.prototype.getLayout=E.prototype.Jb,E.prototype.rotate=E.prototype.rotate,E.prototype.getClosestPoint=E.prototype.ub,E.prototype.getExtent=E.prototype.H,E.prototype.simplify=E.prototype.Ab,E.prototype.transform=E.prototype.ib,E.prototype.get=E.prototype.get,E.prototype.getKeys=E.prototype.N,E.prototype.getProperties=E.prototype.O,E.prototype.set=E.prototype.set,E.prototype.setProperties=E.prototype.G,E.prototype.unset=E.prototype.P,E.prototype.changed=E.prototype.u,E.prototype.dispatchEvent=E.prototype.b,E.prototype.getRevision=E.prototype.K,E.prototype.on=E.prototype.I,E.prototype.once=E.prototype.L,E.prototype.un=E.prototype.J,E.prototype.unByKey=E.prototype.M,lu.prototype.getTileCoord=lu.prototype.i,ai.prototype.get=ai.prototype.get,ai.prototype.getKeys=ai.prototype.N,ai.prototype.getProperties=ai.prototype.O,ai.prototype.set=ai.prototype.set,ai.prototype.setProperties=ai.prototype.G,ai.prototype.unset=ai.prototype.P,ai.prototype.changed=ai.prototype.u,ai.prototype.dispatchEvent=ai.prototype.b,ai.prototype.getRevision=ai.prototype.K,ai.prototype.on=ai.prototype.I,ai.prototype.once=ai.prototype.L,ai.prototype.un=ai.prototype.J,ai.prototype.unByKey=ai.prototype.M,ei.prototype.getActive=ei.prototype.f,ei.prototype.getMap=ei.prototype.l,ei.prototype.setActive=ei.prototype.i,ei.prototype.get=ei.prototype.get,ei.prototype.getKeys=ei.prototype.N,ei.prototype.getProperties=ei.prototype.O,ei.prototype.set=ei.prototype.set,ei.prototype.setProperties=ei.prototype.G,ei.prototype.unset=ei.prototype.P,ei.prototype.changed=ei.prototype.u,ei.prototype.dispatchEvent=ei.prototype.b,ei.prototype.getRevision=ei.prototype.K,ei.prototype.on=ei.prototype.I,ei.prototype.once=ei.prototype.L,ei.prototype.un=ei.prototype.J,ei.prototype.unByKey=ei.prototype.M,nu.prototype.getActive=nu.prototype.f,nu.prototype.getMap=nu.prototype.l,nu.prototype.setActive=nu.prototype.i,nu.prototype.get=nu.prototype.get,nu.prototype.getKeys=nu.prototype.N,nu.prototype.getProperties=nu.prototype.O,nu.prototype.set=nu.prototype.set,nu.prototype.setProperties=nu.prototype.G,nu.prototype.unset=nu.prototype.P,nu.prototype.changed=nu.prototype.u,nu.prototype.dispatchEvent=nu.prototype.b,nu.prototype.getRevision=nu.prototype.K,nu.prototype.on=nu.prototype.I,nu.prototype.once=nu.prototype.L,nu.prototype.un=nu.prototype.J,nu.prototype.unByKey=nu.prototype.M,qu.prototype.type=qu.prototype.type,qu.prototype.target=qu.prototype.target,qu.prototype.preventDefault=qu.prototype.preventDefault,qu.prototype.stopPropagation=qu.prototype.stopPropagation,Di.prototype.type=Di.prototype.type,Di.prototype.target=Di.prototype.target,Di.prototype.preventDefault=Di.prototype.preventDefault,Di.prototype.stopPropagation=Di.prototype.stopPropagation,pi.prototype.getActive=pi.prototype.f,pi.prototype.getMap=pi.prototype.l,pi.prototype.setActive=pi.prototype.i,pi.prototype.get=pi.prototype.get,pi.prototype.getKeys=pi.prototype.N,pi.prototype.getProperties=pi.prototype.O,pi.prototype.set=pi.prototype.set,pi.prototype.setProperties=pi.prototype.G,pi.prototype.unset=pi.prototype.P,pi.prototype.changed=pi.prototype.u,pi.prototype.dispatchEvent=pi.prototype.b,pi.prototype.getRevision=pi.prototype.K,pi.prototype.on=pi.prototype.I,pi.prototype.once=pi.prototype.L,pi.prototype.un=pi.prototype.J,pi.prototype.unByKey=pi.prototype.M,Ei.prototype.getActive=Ei.prototype.f,Ei.prototype.getMap=Ei.prototype.l,Ei.prototype.setActive=Ei.prototype.i,Ei.prototype.get=Ei.prototype.get,Ei.prototype.getKeys=Ei.prototype.N,Ei.prototype.getProperties=Ei.prototype.O,Ei.prototype.set=Ei.prototype.set,Ei.prototype.setProperties=Ei.prototype.G,Ei.prototype.unset=Ei.prototype.P,Ei.prototype.changed=Ei.prototype.u,Ei.prototype.dispatchEvent=Ei.prototype.b,Ei.prototype.getRevision=Ei.prototype.K,Ei.prototype.on=Ei.prototype.I,Ei.prototype.once=Ei.prototype.L,Ei.prototype.un=Ei.prototype.J,Ei.prototype.unByKey=Ei.prototype.M,si.prototype.getActive=si.prototype.f,si.prototype.getMap=si.prototype.l,si.prototype.setActive=si.prototype.i,si.prototype.get=si.prototype.get,si.prototype.getKeys=si.prototype.N,si.prototype.getProperties=si.prototype.O,si.prototype.set=si.prototype.set,si.prototype.setProperties=si.prototype.G,si.prototype.unset=si.prototype.P,si.prototype.changed=si.prototype.u,si.prototype.dispatchEvent=si.prototype.b,si.prototype.getRevision=si.prototype.K,si.prototype.on=si.prototype.I,si.prototype.once=si.prototype.L,si.prototype.un=si.prototype.J,si.prototype.unByKey=si.prototype.M,su.prototype.getActive=su.prototype.f,su.prototype.getMap=su.prototype.l,su.prototype.setActive=su.prototype.i,su.prototype.get=su.prototype.get,su.prototype.getKeys=su.prototype.N,su.prototype.getProperties=su.prototype.O,su.prototype.set=su.prototype.set,su.prototype.setProperties=su.prototype.G,su.prototype.unset=su.prototype.P,su.prototype.changed=su.prototype.u,su.prototype.dispatchEvent=su.prototype.b,su.prototype.getRevision=su.prototype.K,su.prototype.on=su.prototype.I,su.prototype.once=su.prototype.L,su.prototype.un=su.prototype.J,su.prototype.unByKey=su.prototype.M,wi.prototype.getActive=wi.prototype.f,wi.prototype.getMap=wi.prototype.l,wi.prototype.setActive=wi.prototype.i,wi.prototype.get=wi.prototype.get,wi.prototype.getKeys=wi.prototype.N,wi.prototype.getProperties=wi.prototype.O,wi.prototype.set=wi.prototype.set,wi.prototype.setProperties=wi.prototype.G,wi.prototype.unset=wi.prototype.P,wi.prototype.changed=wi.prototype.u,wi.prototype.dispatchEvent=wi.prototype.b,wi.prototype.getRevision=wi.prototype.K,wi.prototype.on=wi.prototype.I,wi.prototype.once=wi.prototype.L,wi.prototype.un=wi.prototype.J,wi.prototype.unByKey=wi.prototype.M,Ji.prototype.getGeometry=Ji.prototype.W,Ji.prototype.getActive=Ji.prototype.f,Ji.prototype.getMap=Ji.prototype.l,Ji.prototype.setActive=Ji.prototype.i,Ji.prototype.get=Ji.prototype.get,Ji.prototype.getKeys=Ji.prototype.N,Ji.prototype.getProperties=Ji.prototype.O,Ji.prototype.set=Ji.prototype.set,Ji.prototype.setProperties=Ji.prototype.G,Ji.prototype.unset=Ji.prototype.P,Ji.prototype.changed=Ji.prototype.u,Ji.prototype.dispatchEvent=Ji.prototype.b,Ji.prototype.getRevision=Ji.prototype.K,Ji.prototype.on=Ji.prototype.I,Ji.prototype.once=Ji.prototype.L,Ji.prototype.un=Ji.prototype.J,Ji.prototype.unByKey=Ji.prototype.M,wu.prototype.type=wu.prototype.type,wu.prototype.target=wu.prototype.target,wu.prototype.preventDefault=wu.prototype.preventDefault,wu.prototype.stopPropagation=wu.prototype.stopPropagation,xu.prototype.getActive=xu.prototype.f,xu.prototype.getMap=xu.prototype.l,xu.prototype.setActive=xu.prototype.i,xu.prototype.get=xu.prototype.get,xu.prototype.getKeys=xu.prototype.N,xu.prototype.getProperties=xu.prototype.O,xu.prototype.set=xu.prototype.set,xu.prototype.setProperties=xu.prototype.G,xu.prototype.unset=xu.prototype.P,xu.prototype.changed=xu.prototype.u,xu.prototype.dispatchEvent=xu.prototype.b,xu.prototype.getRevision=xu.prototype.K,xu.prototype.on=xu.prototype.I,xu.prototype.once=xu.prototype.L,xu.prototype.un=xu.prototype.J,xu.prototype.unByKey=xu.prototype.M,Ki.prototype.getActive=Ki.prototype.f,Ki.prototype.getMap=Ki.prototype.l,Ki.prototype.setActive=Ki.prototype.i,Ki.prototype.get=Ki.prototype.get,Ki.prototype.getKeys=Ki.prototype.N,Ki.prototype.getProperties=Ki.prototype.O,Ki.prototype.set=Ki.prototype.set,Ki.prototype.setProperties=Ki.prototype.G,Ki.prototype.unset=Ki.prototype.P,Ki.prototype.changed=Ki.prototype.u,Ki.prototype.dispatchEvent=Ki.prototype.b,Ki.prototype.getRevision=Ki.prototype.K,Ki.prototype.on=Ki.prototype.I,Ki.prototype.once=Ki.prototype.L,Ki.prototype.un=Ki.prototype.J,Ki.prototype.unByKey=Ki.prototype.M,Mi.prototype.getActive=Mi.prototype.f,Mi.prototype.getMap=Mi.prototype.l,Mi.prototype.setActive=Mi.prototype.i,Mi.prototype.get=Mi.prototype.get,Mi.prototype.getKeys=Mi.prototype.N,Mi.prototype.getProperties=Mi.prototype.O,Mi.prototype.set=Mi.prototype.set,Mi.prototype.setProperties=Mi.prototype.G,Mi.prototype.unset=Mi.prototype.P,Mi.prototype.changed=Mi.prototype.u,Mi.prototype.dispatchEvent=Mi.prototype.b,Mi.prototype.getRevision=Mi.prototype.K,Mi.prototype.on=Mi.prototype.I,Mi.prototype.once=Mi.prototype.L,Mi.prototype.un=Mi.prototype.J,Mi.prototype.unByKey=Mi.prototype.M,Nu.prototype.type=Nu.prototype.type,Nu.prototype.target=Nu.prototype.target,Nu.prototype.preventDefault=Nu.prototype.preventDefault,Nu.prototype.stopPropagation=Nu.prototype.stopPropagation,Ou.prototype.getActive=Ou.prototype.f,Ou.prototype.getMap=Ou.prototype.l,Ou.prototype.setActive=Ou.prototype.i,Ou.prototype.get=Ou.prototype.get,Ou.prototype.getKeys=Ou.prototype.N,Ou.prototype.getProperties=Ou.prototype.O,Ou.prototype.set=Ou.prototype.set,Ou.prototype.setProperties=Ou.prototype.G,Ou.prototype.unset=Ou.prototype.P,Ou.prototype.changed=Ou.prototype.u,Ou.prototype.dispatchEvent=Ou.prototype.b,Ou.prototype.getRevision=Ou.prototype.K,Ou.prototype.on=Ou.prototype.I,Ou.prototype.once=Ou.prototype.L,Ou.prototype.un=Ou.prototype.J,Ou.prototype.unByKey=Ou.prototype.M,Oi.prototype.getActive=Oi.prototype.f,Oi.prototype.getMap=Oi.prototype.l,Oi.prototype.setActive=Oi.prototype.i,Oi.prototype.get=Oi.prototype.get,Oi.prototype.getKeys=Oi.prototype.N,Oi.prototype.getProperties=Oi.prototype.O,Oi.prototype.set=Oi.prototype.set,Oi.prototype.setProperties=Oi.prototype.G,Oi.prototype.unset=Oi.prototype.P,Oi.prototype.changed=Oi.prototype.u,Oi.prototype.dispatchEvent=Oi.prototype.b,Oi.prototype.getRevision=Oi.prototype.K,Oi.prototype.on=Oi.prototype.I,Oi.prototype.once=Oi.prototype.L,Oi.prototype.un=Oi.prototype.J,Oi.prototype.unByKey=Oi.prototype.M,Qi.prototype.getActive=Qi.prototype.f,Qi.prototype.getMap=Qi.prototype.l,Qi.prototype.setActive=Qi.prototype.i,Qi.prototype.get=Qi.prototype.get,Qi.prototype.getKeys=Qi.prototype.N,Qi.prototype.getProperties=Qi.prototype.O,Qi.prototype.set=Qi.prototype.set,Qi.prototype.setProperties=Qi.prototype.G,Qi.prototype.unset=Qi.prototype.P,Qi.prototype.changed=Qi.prototype.u,Qi.prototype.dispatchEvent=Qi.prototype.b,Qi.prototype.getRevision=Qi.prototype.K,Qi.prototype.on=Qi.prototype.I,Qi.prototype.once=Qi.prototype.L,Qi.prototype.un=Qi.prototype.J,Qi.prototype.unByKey=Qi.prototype.M,Ui.prototype.getActive=Ui.prototype.f,Ui.prototype.getMap=Ui.prototype.l,Ui.prototype.setActive=Ui.prototype.i,Ui.prototype.get=Ui.prototype.get,Ui.prototype.getKeys=Ui.prototype.N,Ui.prototype.getProperties=Ui.prototype.O,Ui.prototype.set=Ui.prototype.set,Ui.prototype.setProperties=Ui.prototype.G,Ui.prototype.unset=Ui.prototype.P,Ui.prototype.changed=Ui.prototype.u,Ui.prototype.dispatchEvent=Ui.prototype.b,Ui.prototype.getRevision=Ui.prototype.K,Ui.prototype.on=Ui.prototype.I,Ui.prototype.once=Ui.prototype.L,Ui.prototype.un=Ui.prototype.J,Ui.prototype.unByKey=Ui.prototype.M,av.prototype.type=av.prototype.type,av.prototype.target=av.prototype.target,av.prototype.preventDefault=av.prototype.preventDefault,av.prototype.stopPropagation=av.prototype.stopPropagation,bv.prototype.getActive=bv.prototype.f,bv.prototype.getMap=bv.prototype.l,bv.prototype.setActive=bv.prototype.i,bv.prototype.get=bv.prototype.get,bv.prototype.getKeys=bv.prototype.N,bv.prototype.getProperties=bv.prototype.O,bv.prototype.set=bv.prototype.set,bv.prototype.setProperties=bv.prototype.G,bv.prototype.unset=bv.prototype.P,bv.prototype.changed=bv.prototype.u,bv.prototype.dispatchEvent=bv.prototype.b,bv.prototype.getRevision=bv.prototype.K,bv.prototype.on=bv.prototype.I,bv.prototype.once=bv.prototype.L,bv.prototype.un=bv.prototype.J,bv.prototype.unByKey=bv.prototype.M,ev.prototype.getActive=ev.prototype.f,ev.prototype.getMap=ev.prototype.l,ev.prototype.setActive=ev.prototype.i,ev.prototype.get=ev.prototype.get,ev.prototype.getKeys=ev.prototype.N,ev.prototype.getProperties=ev.prototype.O,ev.prototype.set=ev.prototype.set,ev.prototype.setProperties=ev.prototype.G,ev.prototype.unset=ev.prototype.P,ev.prototype.changed=ev.prototype.u,ev.prototype.dispatchEvent=ev.prototype.b,ev.prototype.getRevision=ev.prototype.K,ev.prototype.on=ev.prototype.I,ev.prototype.once=ev.prototype.L,ev.prototype.un=ev.prototype.J,ev.prototype.unByKey=ev.prototype.M,iv.prototype.type=iv.prototype.type,iv.prototype.target=iv.prototype.target,iv.prototype.preventDefault=iv.prototype.preventDefault,iv.prototype.stopPropagation=iv.prototype.stopPropagation,jv.prototype.getActive=jv.prototype.f,jv.prototype.getMap=jv.prototype.l,jv.prototype.setActive=jv.prototype.i,jv.prototype.get=jv.prototype.get,jv.prototype.getKeys=jv.prototype.N,jv.prototype.getProperties=jv.prototype.O,jv.prototype.set=jv.prototype.set,jv.prototype.setProperties=jv.prototype.G,jv.prototype.unset=jv.prototype.P,jv.prototype.changed=jv.prototype.u,jv.prototype.dispatchEvent=jv.prototype.b,jv.prototype.getRevision=jv.prototype.K,jv.prototype.on=jv.prototype.I,jv.prototype.once=jv.prototype.L,jv.prototype.un=jv.prototype.J,jv.prototype.unByKey=jv.prototype.M,oh.prototype.get=oh.prototype.get,oh.prototype.getKeys=oh.prototype.N,oh.prototype.getProperties=oh.prototype.O,oh.prototype.set=oh.prototype.set,oh.prototype.setProperties=oh.prototype.G,oh.prototype.unset=oh.prototype.P,oh.prototype.changed=oh.prototype.u,oh.prototype.dispatchEvent=oh.prototype.b,oh.prototype.getRevision=oh.prototype.K,oh.prototype.on=oh.prototype.I,oh.prototype.once=oh.prototype.L,oh.prototype.un=oh.prototype.J,oh.prototype.unByKey=oh.prototype.M,sh.prototype.getExtent=sh.prototype.H,sh.prototype.getMaxResolution=sh.prototype.Mb,sh.prototype.getMinResolution=sh.prototype.Nb,sh.prototype.getOpacity=sh.prototype.Ob,sh.prototype.getVisible=sh.prototype.wb,sh.prototype.getZIndex=sh.prototype.Pb,sh.prototype.setExtent=sh.prototype.ec,sh.prototype.setMaxResolution=sh.prototype.mc,sh.prototype.setMinResolution=sh.prototype.nc,sh.prototype.setOpacity=sh.prototype.fc,sh.prototype.setVisible=sh.prototype.gc,sh.prototype.setZIndex=sh.prototype.hc,sh.prototype.get=sh.prototype.get,sh.prototype.getKeys=sh.prototype.N,sh.prototype.getProperties=sh.prototype.O,sh.prototype.set=sh.prototype.set,sh.prototype.setProperties=sh.prototype.G,sh.prototype.unset=sh.prototype.P,sh.prototype.changed=sh.prototype.u,sh.prototype.dispatchEvent=sh.prototype.b,sh.prototype.getRevision=sh.prototype.K,sh.prototype.on=sh.prototype.I,sh.prototype.once=sh.prototype.L,sh.prototype.un=sh.prototype.J,sh.prototype.unByKey=sh.prototype.M,G.prototype.setMap=G.prototype.setMap,G.prototype.setSource=G.prototype.Ec,G.prototype.getExtent=G.prototype.H,G.prototype.getMaxResolution=G.prototype.Mb,G.prototype.getMinResolution=G.prototype.Nb,G.prototype.getOpacity=G.prototype.Ob,G.prototype.getVisible=G.prototype.wb,G.prototype.getZIndex=G.prototype.Pb,G.prototype.setExtent=G.prototype.ec,G.prototype.setMaxResolution=G.prototype.mc,G.prototype.setMinResolution=G.prototype.nc,G.prototype.setOpacity=G.prototype.fc,G.prototype.setVisible=G.prototype.gc,G.prototype.setZIndex=G.prototype.hc,G.prototype.get=G.prototype.get,G.prototype.getKeys=G.prototype.N,G.prototype.getProperties=G.prototype.O,G.prototype.set=G.prototype.set,G.prototype.setProperties=G.prototype.G,G.prototype.unset=G.prototype.P,G.prototype.changed=G.prototype.u,G.prototype.dispatchEvent=G.prototype.b,G.prototype.getRevision=G.prototype.K,G.prototype.on=G.prototype.I,G.prototype.once=G.prototype.L,G.prototype.un=G.prototype.J,G.prototype.unByKey=G.prototype.M,V.prototype.getSource=V.prototype.ha,V.prototype.getStyle=V.prototype.C,V.prototype.getStyleFunction=V.prototype.D,V.prototype.setStyle=V.prototype.l,V.prototype.setMap=V.prototype.setMap,V.prototype.setSource=V.prototype.Ec,V.prototype.getExtent=V.prototype.H,V.prototype.getMaxResolution=V.prototype.Mb,V.prototype.getMinResolution=V.prototype.Nb,V.prototype.getOpacity=V.prototype.Ob,V.prototype.getVisible=V.prototype.wb,V.prototype.getZIndex=V.prototype.Pb,V.prototype.setExtent=V.prototype.ec,V.prototype.setMaxResolution=V.prototype.mc,V.prototype.setMinResolution=V.prototype.nc,V.prototype.setOpacity=V.prototype.fc,V.prototype.setVisible=V.prototype.gc,V.prototype.setZIndex=V.prototype.hc,V.prototype.get=V.prototype.get,V.prototype.getKeys=V.prototype.N,V.prototype.getProperties=V.prototype.O,V.prototype.set=V.prototype.set,V.prototype.setProperties=V.prototype.G,V.prototype.unset=V.prototype.P,V.prototype.changed=V.prototype.u,V.prototype.dispatchEvent=V.prototype.b,V.prototype.getRevision=V.prototype.K,V.prototype.on=V.prototype.I,V.prototype.once=V.prototype.L,V.prototype.un=V.prototype.J,V.prototype.unByKey=V.prototype.M,ij.prototype.setMap=ij.prototype.setMap,ij.prototype.setSource=ij.prototype.Ec,ij.prototype.getExtent=ij.prototype.H,ij.prototype.getMaxResolution=ij.prototype.Mb,ij.prototype.getMinResolution=ij.prototype.Nb,ij.prototype.getOpacity=ij.prototype.Ob,ij.prototype.getVisible=ij.prototype.wb,ij.prototype.getZIndex=ij.prototype.Pb,ij.prototype.setExtent=ij.prototype.ec,ij.prototype.setMaxResolution=ij.prototype.mc,ij.prototype.setMinResolution=ij.prototype.nc,ij.prototype.setOpacity=ij.prototype.fc,ij.prototype.setVisible=ij.prototype.gc,ij.prototype.setZIndex=ij.prototype.hc,ij.prototype.get=ij.prototype.get,ij.prototype.getKeys=ij.prototype.N,ij.prototype.getProperties=ij.prototype.O,ij.prototype.set=ij.prototype.set,ij.prototype.setProperties=ij.prototype.G,ij.prototype.unset=ij.prototype.P,ij.prototype.changed=ij.prototype.u,ij.prototype.dispatchEvent=ij.prototype.b,ij.prototype.getRevision=ij.prototype.K,ij.prototype.on=ij.prototype.I,ij.prototype.once=ij.prototype.L,ij.prototype.un=ij.prototype.J,ij.prototype.unByKey=ij.prototype.M,Zi.prototype.getExtent=Zi.prototype.H,Zi.prototype.getMaxResolution=Zi.prototype.Mb,Zi.prototype.getMinResolution=Zi.prototype.Nb,Zi.prototype.getOpacity=Zi.prototype.Ob,Zi.prototype.getVisible=Zi.prototype.wb,Zi.prototype.getZIndex=Zi.prototype.Pb,Zi.prototype.setExtent=Zi.prototype.ec,Zi.prototype.setMaxResolution=Zi.prototype.mc,Zi.prototype.setMinResolution=Zi.prototype.nc,Zi.prototype.setOpacity=Zi.prototype.fc,Zi.prototype.setVisible=Zi.prototype.gc,Zi.prototype.setZIndex=Zi.prototype.hc,Zi.prototype.get=Zi.prototype.get,Zi.prototype.getKeys=Zi.prototype.N,Zi.prototype.getProperties=Zi.prototype.O,Zi.prototype.set=Zi.prototype.set,Zi.prototype.setProperties=Zi.prototype.G,Zi.prototype.unset=Zi.prototype.P,Zi.prototype.changed=Zi.prototype.u,Zi.prototype.dispatchEvent=Zi.prototype.b,Zi.prototype.getRevision=Zi.prototype.K,Zi.prototype.on=Zi.prototype.I,Zi.prototype.once=Zi.prototype.L,Zi.prototype.un=Zi.prototype.J,Zi.prototype.unByKey=Zi.prototype.M,jj.prototype.setMap=jj.prototype.setMap,jj.prototype.setSource=jj.prototype.Ec,jj.prototype.getExtent=jj.prototype.H,jj.prototype.getMaxResolution=jj.prototype.Mb,jj.prototype.getMinResolution=jj.prototype.Nb,jj.prototype.getOpacity=jj.prototype.Ob,jj.prototype.getVisible=jj.prototype.wb,jj.prototype.getZIndex=jj.prototype.Pb,jj.prototype.setExtent=jj.prototype.ec,jj.prototype.setMaxResolution=jj.prototype.mc,jj.prototype.setMinResolution=jj.prototype.nc,jj.prototype.setOpacity=jj.prototype.fc,jj.prototype.setVisible=jj.prototype.gc,jj.prototype.setZIndex=jj.prototype.hc,jj.prototype.get=jj.prototype.get,jj.prototype.getKeys=jj.prototype.N,jj.prototype.getProperties=jj.prototype.O,jj.prototype.set=jj.prototype.set,jj.prototype.setProperties=jj.prototype.G,jj.prototype.unset=jj.prototype.P,jj.prototype.changed=jj.prototype.u,jj.prototype.dispatchEvent=jj.prototype.b,jj.prototype.getRevision=jj.prototype.K,jj.prototype.on=jj.prototype.I,jj.prototype.once=jj.prototype.L,jj.prototype.un=jj.prototype.J,jj.prototype.unByKey=jj.prototype.M,I.prototype.getSource=I.prototype.ha,I.prototype.getStyle=I.prototype.C,I.prototype.getStyleFunction=I.prototype.D,I.prototype.setStyle=I.prototype.l,I.prototype.setMap=I.prototype.setMap,I.prototype.setSource=I.prototype.Ec,I.prototype.getExtent=I.prototype.H,I.prototype.getMaxResolution=I.prototype.Mb,I.prototype.getMinResolution=I.prototype.Nb,I.prototype.getOpacity=I.prototype.Ob,I.prototype.getVisible=I.prototype.wb,I.prototype.getZIndex=I.prototype.Pb,I.prototype.setExtent=I.prototype.ec,I.prototype.setMaxResolution=I.prototype.mc,I.prototype.setMinResolution=I.prototype.nc,I.prototype.setOpacity=I.prototype.fc,I.prototype.setVisible=I.prototype.gc,I.prototype.setZIndex=I.prototype.hc,I.prototype.get=I.prototype.get,I.prototype.getKeys=I.prototype.N,I.prototype.getProperties=I.prototype.O,I.prototype.set=I.prototype.set,I.prototype.setProperties=I.prototype.G,I.prototype.unset=I.prototype.P,I.prototype.changed=I.prototype.u,I.prototype.dispatchEvent=I.prototype.b,I.prototype.getRevision=I.prototype.K,I.prototype.on=I.prototype.I,I.prototype.once=I.prototype.L,I.prototype.un=I.prototype.J,I.prototype.unByKey=I.prototype.M,Q.prototype.get=Q.prototype.get,Q.prototype.getKeys=Q.prototype.N,Q.prototype.getProperties=Q.prototype.O,Q.prototype.set=Q.prototype.set,Q.prototype.setProperties=Q.prototype.G,Q.prototype.unset=Q.prototype.P,Q.prototype.changed=Q.prototype.u,Q.prototype.dispatchEvent=Q.prototype.b,Q.prototype.getRevision=Q.prototype.K,Q.prototype.on=Q.prototype.I,Q.prototype.once=Q.prototype.L,Q.prototype.un=Q.prototype.J,Q.prototype.unByKey=Q.prototype.M,bf.prototype.type=bf.prototype.type,bf.prototype.target=bf.prototype.target,bf.prototype.preventDefault=bf.prototype.preventDefault,bf.prototype.stopPropagation=bf.prototype.stopPropagation,ah.prototype.map=ah.prototype.map,ah.prototype.frameState=ah.prototype.frameState,ah.prototype.type=ah.prototype.type,ah.prototype.target=ah.prototype.target,ah.prototype.preventDefault=ah.prototype.preventDefault,ah.prototype.stopPropagation=ah.prototype.stopPropagation,bh.prototype.originalEvent=bh.prototype.originalEvent,bh.prototype.pixel=bh.prototype.pixel,bh.prototype.coordinate=bh.prototype.coordinate,bh.prototype.dragging=bh.prototype.dragging,bh.prototype.preventDefault=bh.prototype.preventDefault,bh.prototype.stopPropagation=bh.prototype.stopPropagation,bh.prototype.map=bh.prototype.map,bh.prototype.frameState=bh.prototype.frameState,bh.prototype.type=bh.prototype.type,bh.prototype.target=bh.prototype.target,ib.prototype.type=ib.prototype.type,ib.prototype.target=ib.prototype.target,ib.prototype.preventDefault=ib.prototype.preventDefault,ib.prototype.stopPropagation=ib.prototype.stopPropagation,cn.prototype.get=cn.prototype.get,cn.prototype.getKeys=cn.prototype.N,cn.prototype.getProperties=cn.prototype.O,cn.prototype.set=cn.prototype.set,cn.prototype.setProperties=cn.prototype.G,cn.prototype.unset=cn.prototype.P,cn.prototype.changed=cn.prototype.u,cn.prototype.dispatchEvent=cn.prototype.b,cn.prototype.getRevision=cn.prototype.K,cn.prototype.on=cn.prototype.I,cn.prototype.once=cn.prototype.L,cn.prototype.un=cn.prototype.J,cn.prototype.unByKey=cn.prototype.M,bg.prototype.type=bg.prototype.type,bg.prototype.target=bg.prototype.target,bg.prototype.preventDefault=bg.prototype.preventDefault,bg.prototype.stopPropagation=bg.prototype.stopPropagation,rh.prototype.type=rh.prototype.type,rh.prototype.target=rh.prototype.target,rh.prototype.preventDefault=rh.prototype.preventDefault,rh.prototype.stopPropagation=rh.prototype.stopPropagation,zh.prototype.changed=zh.prototype.u,zh.prototype.dispatchEvent=zh.prototype.b,zh.prototype.getRevision=zh.prototype.K,zh.prototype.on=zh.prototype.I,zh.prototype.once=zh.prototype.L,zh.prototype.un=zh.prototype.J,zh.prototype.unByKey=zh.prototype.M,Pj.prototype.changed=Pj.prototype.u,Pj.prototype.dispatchEvent=Pj.prototype.b,Pj.prototype.getRevision=Pj.prototype.K,Pj.prototype.on=Pj.prototype.I,Pj.prototype.once=Pj.prototype.L,Pj.prototype.un=Pj.prototype.J,Pj.prototype.unByKey=Pj.prototype.M,Gl.prototype.changed=Gl.prototype.u,Gl.prototype.dispatchEvent=Gl.prototype.b,Gl.prototype.getRevision=Gl.prototype.K,Gl.prototype.on=Gl.prototype.I,Gl.prototype.once=Gl.prototype.L,Gl.prototype.un=Gl.prototype.J,Gl.prototype.unByKey=Gl.prototype.M,Hl.prototype.changed=Hl.prototype.u,Hl.prototype.dispatchEvent=Hl.prototype.b,
Hl.prototype.getRevision=Hl.prototype.K,Hl.prototype.on=Hl.prototype.I,Hl.prototype.once=Hl.prototype.L,Hl.prototype.un=Hl.prototype.J,Hl.prototype.unByKey=Hl.prototype.M,Jl.prototype.changed=Jl.prototype.u,Jl.prototype.dispatchEvent=Jl.prototype.b,Jl.prototype.getRevision=Jl.prototype.K,Jl.prototype.on=Jl.prototype.I,Jl.prototype.once=Jl.prototype.L,Jl.prototype.un=Jl.prototype.J,Jl.prototype.unByKey=Jl.prototype.M,Ul.prototype.changed=Ul.prototype.u,Ul.prototype.dispatchEvent=Ul.prototype.b,Ul.prototype.getRevision=Ul.prototype.K,Ul.prototype.on=Ul.prototype.I,Ul.prototype.once=Ul.prototype.L,Ul.prototype.un=Ul.prototype.J,Ul.prototype.unByKey=Ul.prototype.M,Yl.prototype.changed=Yl.prototype.u,Yl.prototype.dispatchEvent=Yl.prototype.b,Yl.prototype.getRevision=Yl.prototype.K,Yl.prototype.on=Yl.prototype.I,Yl.prototype.once=Yl.prototype.L,Yl.prototype.un=Yl.prototype.J,Yl.prototype.unByKey=Yl.prototype.M,Zl.prototype.changed=Zl.prototype.u,Zl.prototype.dispatchEvent=Zl.prototype.b,Zl.prototype.getRevision=Zl.prototype.K,Zl.prototype.on=Zl.prototype.I,Zl.prototype.once=Zl.prototype.L,Zl.prototype.un=Zl.prototype.J,Zl.prototype.unByKey=Zl.prototype.M,$l.prototype.changed=$l.prototype.u,$l.prototype.dispatchEvent=$l.prototype.b,$l.prototype.getRevision=$l.prototype.K,$l.prototype.on=$l.prototype.I,$l.prototype.once=$l.prototype.L,$l.prototype.un=$l.prototype.J,$l.prototype.unByKey=$l.prototype.M,bm.prototype.changed=bm.prototype.u,bm.prototype.dispatchEvent=bm.prototype.b,bm.prototype.getRevision=bm.prototype.K,bm.prototype.on=bm.prototype.I,bm.prototype.once=bm.prototype.L,bm.prototype.un=bm.prototype.J,bm.prototype.unByKey=bm.prototype.M,Mm.prototype.changed=Mm.prototype.u,Mm.prototype.dispatchEvent=Mm.prototype.b,Mm.prototype.getRevision=Mm.prototype.K,Mm.prototype.on=Mm.prototype.I,Mm.prototype.once=Mm.prototype.L,Mm.prototype.un=Mm.prototype.J,Mm.prototype.unByKey=Mm.prototype.M,Pm.prototype.changed=Pm.prototype.u,Pm.prototype.dispatchEvent=Pm.prototype.b,Pm.prototype.getRevision=Pm.prototype.K,Pm.prototype.on=Pm.prototype.I,Pm.prototype.once=Pm.prototype.L,Pm.prototype.un=Pm.prototype.J,Pm.prototype.unByKey=Pm.prototype.M,Vm.prototype.changed=Vm.prototype.u,Vm.prototype.dispatchEvent=Vm.prototype.b,Vm.prototype.getRevision=Vm.prototype.K,Vm.prototype.on=Vm.prototype.I,Vm.prototype.once=Vm.prototype.L,Vm.prototype.un=Vm.prototype.J,Vm.prototype.unByKey=Vm.prototype.M,Xm.prototype.changed=Xm.prototype.u,Xm.prototype.dispatchEvent=Xm.prototype.b,Xm.prototype.getRevision=Xm.prototype.K,Xm.prototype.on=Xm.prototype.I,Xm.prototype.once=Xm.prototype.L,Xm.prototype.un=Xm.prototype.J,Xm.prototype.unByKey=Xm.prototype.M,rv.prototype.getTileCoord=rv.prototype.i,rv.prototype.load=rv.prototype.load,pf.prototype.get=pf.prototype.get,pf.prototype.getKeys=pf.prototype.N,pf.prototype.getProperties=pf.prototype.O,pf.prototype.set=pf.prototype.set,pf.prototype.setProperties=pf.prototype.G,pf.prototype.unset=pf.prototype.P,pf.prototype.changed=pf.prototype.u,pf.prototype.dispatchEvent=pf.prototype.b,pf.prototype.getRevision=pf.prototype.K,pf.prototype.on=pf.prototype.I,pf.prototype.once=pf.prototype.L,pf.prototype.un=pf.prototype.J,pf.prototype.unByKey=pf.prototype.M,Ff.prototype.getAttributions=Ff.prototype.wa,Ff.prototype.getLogo=Ff.prototype.ua,Ff.prototype.getProjection=Ff.prototype.xa,Ff.prototype.getState=Ff.prototype.V,Ff.prototype.refresh=Ff.prototype.sa,Ff.prototype.setAttributions=Ff.prototype.oa,Ff.prototype.get=Ff.prototype.get,Ff.prototype.getKeys=Ff.prototype.N,Ff.prototype.getProperties=Ff.prototype.O,Ff.prototype.set=Ff.prototype.set,Ff.prototype.setProperties=Ff.prototype.G,Ff.prototype.unset=Ff.prototype.P,Ff.prototype.changed=Ff.prototype.u,Ff.prototype.dispatchEvent=Ff.prototype.b,Ff.prototype.getRevision=Ff.prototype.K,Ff.prototype.on=Ff.prototype.I,Ff.prototype.once=Ff.prototype.L,Ff.prototype.un=Ff.prototype.J,Ff.prototype.unByKey=Ff.prototype.M,Pl.prototype.getTileGrid=Pl.prototype.Na,Pl.prototype.refresh=Pl.prototype.sa,Pl.prototype.getAttributions=Pl.prototype.wa,Pl.prototype.getLogo=Pl.prototype.ua,Pl.prototype.getProjection=Pl.prototype.xa,Pl.prototype.getState=Pl.prototype.V,Pl.prototype.setAttributions=Pl.prototype.oa,Pl.prototype.get=Pl.prototype.get,Pl.prototype.getKeys=Pl.prototype.N,Pl.prototype.getProperties=Pl.prototype.O,Pl.prototype.set=Pl.prototype.set,Pl.prototype.setProperties=Pl.prototype.G,Pl.prototype.unset=Pl.prototype.P,Pl.prototype.changed=Pl.prototype.u,Pl.prototype.dispatchEvent=Pl.prototype.b,Pl.prototype.getRevision=Pl.prototype.K,Pl.prototype.on=Pl.prototype.I,Pl.prototype.once=Pl.prototype.L,Pl.prototype.un=Pl.prototype.J,Pl.prototype.unByKey=Pl.prototype.M,W.prototype.getTileLoadFunction=W.prototype.fb,W.prototype.getTileUrlFunction=W.prototype.gb,W.prototype.getUrls=W.prototype.hb,W.prototype.setTileLoadFunction=W.prototype.jb,W.prototype.setTileUrlFunction=W.prototype.Qa,W.prototype.setUrl=W.prototype.Va,W.prototype.setUrls=W.prototype.bb,W.prototype.getTileGrid=W.prototype.Na,W.prototype.refresh=W.prototype.sa,W.prototype.getAttributions=W.prototype.wa,W.prototype.getLogo=W.prototype.ua,W.prototype.getProjection=W.prototype.xa,W.prototype.getState=W.prototype.V,W.prototype.setAttributions=W.prototype.oa,W.prototype.get=W.prototype.get,W.prototype.getKeys=W.prototype.N,W.prototype.getProperties=W.prototype.O,W.prototype.set=W.prototype.set,W.prototype.setProperties=W.prototype.G,W.prototype.unset=W.prototype.P,W.prototype.changed=W.prototype.u,W.prototype.dispatchEvent=W.prototype.b,W.prototype.getRevision=W.prototype.K,W.prototype.on=W.prototype.I,W.prototype.once=W.prototype.L,W.prototype.un=W.prototype.J,W.prototype.unByKey=W.prototype.M,vv.prototype.setRenderReprojectionEdges=vv.prototype.yb,vv.prototype.setTileGridForProjection=vv.prototype.zb,vv.prototype.getTileLoadFunction=vv.prototype.fb,vv.prototype.getTileUrlFunction=vv.prototype.gb,vv.prototype.getUrls=vv.prototype.hb,vv.prototype.setTileLoadFunction=vv.prototype.jb,vv.prototype.setTileUrlFunction=vv.prototype.Qa,vv.prototype.setUrl=vv.prototype.Va,vv.prototype.setUrls=vv.prototype.bb,vv.prototype.getTileGrid=vv.prototype.Na,vv.prototype.refresh=vv.prototype.sa,vv.prototype.getAttributions=vv.prototype.wa,vv.prototype.getLogo=vv.prototype.ua,vv.prototype.getProjection=vv.prototype.xa,vv.prototype.getState=vv.prototype.V,vv.prototype.setAttributions=vv.prototype.oa,vv.prototype.get=vv.prototype.get,vv.prototype.getKeys=vv.prototype.N,vv.prototype.getProperties=vv.prototype.O,vv.prototype.set=vv.prototype.set,vv.prototype.setProperties=vv.prototype.G,vv.prototype.unset=vv.prototype.P,vv.prototype.changed=vv.prototype.u,vv.prototype.dispatchEvent=vv.prototype.b,vv.prototype.getRevision=vv.prototype.K,vv.prototype.on=vv.prototype.I,vv.prototype.once=vv.prototype.L,vv.prototype.un=vv.prototype.J,vv.prototype.unByKey=vv.prototype.M,xv.prototype.setRenderReprojectionEdges=xv.prototype.yb,xv.prototype.setTileGridForProjection=xv.prototype.zb,xv.prototype.getTileLoadFunction=xv.prototype.fb,xv.prototype.getTileUrlFunction=xv.prototype.gb,xv.prototype.getUrls=xv.prototype.hb,xv.prototype.setTileLoadFunction=xv.prototype.jb,xv.prototype.setTileUrlFunction=xv.prototype.Qa,xv.prototype.setUrl=xv.prototype.Va,xv.prototype.setUrls=xv.prototype.bb,xv.prototype.getTileGrid=xv.prototype.Na,xv.prototype.refresh=xv.prototype.sa,xv.prototype.getAttributions=xv.prototype.wa,xv.prototype.getLogo=xv.prototype.ua,xv.prototype.getProjection=xv.prototype.xa,xv.prototype.getState=xv.prototype.V,xv.prototype.setAttributions=xv.prototype.oa,xv.prototype.get=xv.prototype.get,xv.prototype.getKeys=xv.prototype.N,xv.prototype.getProperties=xv.prototype.O,xv.prototype.set=xv.prototype.set,xv.prototype.setProperties=xv.prototype.G,xv.prototype.unset=xv.prototype.P,xv.prototype.changed=xv.prototype.u,xv.prototype.dispatchEvent=xv.prototype.b,xv.prototype.getRevision=xv.prototype.K,xv.prototype.on=xv.prototype.I,xv.prototype.once=xv.prototype.L,xv.prototype.un=xv.prototype.J,xv.prototype.unByKey=xv.prototype.M,yv.prototype.setRenderReprojectionEdges=yv.prototype.yb,yv.prototype.setTileGridForProjection=yv.prototype.zb,yv.prototype.getTileLoadFunction=yv.prototype.fb,yv.prototype.getTileUrlFunction=yv.prototype.gb,yv.prototype.getUrls=yv.prototype.hb,yv.prototype.setTileLoadFunction=yv.prototype.jb,yv.prototype.setTileUrlFunction=yv.prototype.Qa,yv.prototype.setUrl=yv.prototype.Va,yv.prototype.setUrls=yv.prototype.bb,yv.prototype.getTileGrid=yv.prototype.Na,yv.prototype.refresh=yv.prototype.sa,yv.prototype.getAttributions=yv.prototype.wa,yv.prototype.getLogo=yv.prototype.ua,yv.prototype.getProjection=yv.prototype.xa,yv.prototype.getState=yv.prototype.V,yv.prototype.setAttributions=yv.prototype.oa,yv.prototype.get=yv.prototype.get,yv.prototype.getKeys=yv.prototype.N,yv.prototype.getProperties=yv.prototype.O,yv.prototype.set=yv.prototype.set,yv.prototype.setProperties=yv.prototype.G,yv.prototype.unset=yv.prototype.P,yv.prototype.changed=yv.prototype.u,yv.prototype.dispatchEvent=yv.prototype.b,yv.prototype.getRevision=yv.prototype.K,yv.prototype.on=yv.prototype.I,yv.prototype.once=yv.prototype.L,yv.prototype.un=yv.prototype.J,yv.prototype.unByKey=yv.prototype.M,P.prototype.getAttributions=P.prototype.wa,P.prototype.getLogo=P.prototype.ua,P.prototype.getProjection=P.prototype.xa,P.prototype.getState=P.prototype.V,P.prototype.refresh=P.prototype.sa,P.prototype.setAttributions=P.prototype.oa,P.prototype.get=P.prototype.get,P.prototype.getKeys=P.prototype.N,P.prototype.getProperties=P.prototype.O,P.prototype.set=P.prototype.set,P.prototype.setProperties=P.prototype.G,P.prototype.unset=P.prototype.P,P.prototype.changed=P.prototype.u,P.prototype.dispatchEvent=P.prototype.b,P.prototype.getRevision=P.prototype.K,P.prototype.on=P.prototype.I,P.prototype.once=P.prototype.L,P.prototype.un=P.prototype.J,P.prototype.unByKey=P.prototype.M,Y.prototype.addFeature=Y.prototype.qb,Y.prototype.addFeatures=Y.prototype.Ic,Y.prototype.clear=Y.prototype.clear,Y.prototype.forEachFeature=Y.prototype.wg,Y.prototype.forEachFeatureInExtent=Y.prototype.tb,Y.prototype.forEachFeatureIntersectingExtent=Y.prototype.xg,Y.prototype.getFeaturesCollection=Y.prototype.Fg,Y.prototype.getFeatures=Y.prototype.ne,Y.prototype.getFeaturesAtCoordinate=Y.prototype.Eg,Y.prototype.getFeaturesInExtent=Y.prototype.df,Y.prototype.getClosestFeatureToCoordinate=Y.prototype.Ag,Y.prototype.getExtent=Y.prototype.H,Y.prototype.getFeatureById=Y.prototype.Dg,Y.prototype.getFormat=Y.prototype.Ch,Y.prototype.getUrl=Y.prototype.Dh,Y.prototype.removeFeature=Y.prototype.mb,Y.prototype.getAttributions=Y.prototype.wa,Y.prototype.getLogo=Y.prototype.ua,Y.prototype.getProjection=Y.prototype.xa,Y.prototype.getState=Y.prototype.V,Y.prototype.refresh=Y.prototype.sa,Y.prototype.setAttributions=Y.prototype.oa,Y.prototype.get=Y.prototype.get,Y.prototype.getKeys=Y.prototype.N,Y.prototype.getProperties=Y.prototype.O,Y.prototype.set=Y.prototype.set,Y.prototype.setProperties=Y.prototype.G,Y.prototype.unset=Y.prototype.P,Y.prototype.changed=Y.prototype.u,Y.prototype.dispatchEvent=Y.prototype.b,Y.prototype.getRevision=Y.prototype.K,Y.prototype.on=Y.prototype.I,Y.prototype.once=Y.prototype.L,Y.prototype.un=Y.prototype.J,Y.prototype.unByKey=Y.prototype.M,Gk.prototype.getAttributions=Gk.prototype.wa,Gk.prototype.getLogo=Gk.prototype.ua,Gk.prototype.getProjection=Gk.prototype.xa,Gk.prototype.getState=Gk.prototype.V,Gk.prototype.refresh=Gk.prototype.sa,Gk.prototype.setAttributions=Gk.prototype.oa,Gk.prototype.get=Gk.prototype.get,Gk.prototype.getKeys=Gk.prototype.N,Gk.prototype.getProperties=Gk.prototype.O,Gk.prototype.set=Gk.prototype.set,Gk.prototype.setProperties=Gk.prototype.G,Gk.prototype.unset=Gk.prototype.P,Gk.prototype.changed=Gk.prototype.u,Gk.prototype.dispatchEvent=Gk.prototype.b,Gk.prototype.getRevision=Gk.prototype.K,Gk.prototype.on=Gk.prototype.I,Gk.prototype.once=Gk.prototype.L,Gk.prototype.un=Gk.prototype.J,Gk.prototype.unByKey=Gk.prototype.M,Ev.prototype.getAttributions=Ev.prototype.wa,Ev.prototype.getLogo=Ev.prototype.ua,Ev.prototype.getProjection=Ev.prototype.xa,Ev.prototype.getState=Ev.prototype.V,Ev.prototype.refresh=Ev.prototype.sa,Ev.prototype.setAttributions=Ev.prototype.oa,Ev.prototype.get=Ev.prototype.get,Ev.prototype.getKeys=Ev.prototype.N,Ev.prototype.getProperties=Ev.prototype.O,Ev.prototype.set=Ev.prototype.set,Ev.prototype.setProperties=Ev.prototype.G,Ev.prototype.unset=Ev.prototype.P,Ev.prototype.changed=Ev.prototype.u,Ev.prototype.dispatchEvent=Ev.prototype.b,Ev.prototype.getRevision=Ev.prototype.K,Ev.prototype.on=Ev.prototype.I,Ev.prototype.once=Ev.prototype.L,Ev.prototype.un=Ev.prototype.J,Ev.prototype.unByKey=Ev.prototype.M,Nk.prototype.getAttributions=Nk.prototype.wa,Nk.prototype.getLogo=Nk.prototype.ua,Nk.prototype.getProjection=Nk.prototype.xa,Nk.prototype.getState=Nk.prototype.V,Nk.prototype.refresh=Nk.prototype.sa,Nk.prototype.setAttributions=Nk.prototype.oa,Nk.prototype.get=Nk.prototype.get,Nk.prototype.getKeys=Nk.prototype.N,Nk.prototype.getProperties=Nk.prototype.O,Nk.prototype.set=Nk.prototype.set,Nk.prototype.setProperties=Nk.prototype.G,Nk.prototype.unset=Nk.prototype.P,Nk.prototype.changed=Nk.prototype.u,Nk.prototype.dispatchEvent=Nk.prototype.b,Nk.prototype.getRevision=Nk.prototype.K,Nk.prototype.on=Nk.prototype.I,Nk.prototype.once=Nk.prototype.L,Nk.prototype.un=Nk.prototype.J,Nk.prototype.unByKey=Nk.prototype.M,Fv.prototype.getAttributions=Fv.prototype.wa,Fv.prototype.getLogo=Fv.prototype.ua,Fv.prototype.getProjection=Fv.prototype.xa,Fv.prototype.getState=Fv.prototype.V,Fv.prototype.refresh=Fv.prototype.sa,Fv.prototype.setAttributions=Fv.prototype.oa,Fv.prototype.get=Fv.prototype.get,Fv.prototype.getKeys=Fv.prototype.N,Fv.prototype.getProperties=Fv.prototype.O,Fv.prototype.set=Fv.prototype.set,Fv.prototype.setProperties=Fv.prototype.G,Fv.prototype.unset=Fv.prototype.P,Fv.prototype.changed=Fv.prototype.u,Fv.prototype.dispatchEvent=Fv.prototype.b,Fv.prototype.getRevision=Fv.prototype.K,Fv.prototype.on=Fv.prototype.I,Fv.prototype.once=Fv.prototype.L,Fv.prototype.un=Fv.prototype.J,Fv.prototype.unByKey=Fv.prototype.M,Ik.prototype.type=Ik.prototype.type,Ik.prototype.target=Ik.prototype.target,Ik.prototype.preventDefault=Ik.prototype.preventDefault,Ik.prototype.stopPropagation=Ik.prototype.stopPropagation,Gv.prototype.getAttributions=Gv.prototype.wa,Gv.prototype.getLogo=Gv.prototype.ua,Gv.prototype.getProjection=Gv.prototype.xa,Gv.prototype.getState=Gv.prototype.V,Gv.prototype.refresh=Gv.prototype.sa,Gv.prototype.setAttributions=Gv.prototype.oa,Gv.prototype.get=Gv.prototype.get,Gv.prototype.getKeys=Gv.prototype.N,Gv.prototype.getProperties=Gv.prototype.O,Gv.prototype.set=Gv.prototype.set,Gv.prototype.setProperties=Gv.prototype.G,Gv.prototype.unset=Gv.prototype.P,Gv.prototype.changed=Gv.prototype.u,Gv.prototype.dispatchEvent=Gv.prototype.b,Gv.prototype.getRevision=Gv.prototype.K,Gv.prototype.on=Gv.prototype.I,Gv.prototype.once=Gv.prototype.L,Gv.prototype.un=Gv.prototype.J,Gv.prototype.unByKey=Gv.prototype.M,El.prototype.getAttributions=El.prototype.wa,El.prototype.getLogo=El.prototype.ua,El.prototype.getProjection=El.prototype.xa,El.prototype.getState=El.prototype.V,El.prototype.refresh=El.prototype.sa,El.prototype.setAttributions=El.prototype.oa,El.prototype.get=El.prototype.get,El.prototype.getKeys=El.prototype.N,El.prototype.getProperties=El.prototype.O,El.prototype.set=El.prototype.set,El.prototype.setProperties=El.prototype.G,El.prototype.unset=El.prototype.P,El.prototype.changed=El.prototype.u,El.prototype.dispatchEvent=El.prototype.b,El.prototype.getRevision=El.prototype.K,El.prototype.on=El.prototype.I,El.prototype.once=El.prototype.L,El.prototype.un=El.prototype.J,El.prototype.unByKey=El.prototype.M,Hv.prototype.getAttributions=Hv.prototype.wa,Hv.prototype.getLogo=Hv.prototype.ua,Hv.prototype.getProjection=Hv.prototype.xa,Hv.prototype.getState=Hv.prototype.V,Hv.prototype.refresh=Hv.prototype.sa,Hv.prototype.setAttributions=Hv.prototype.oa,Hv.prototype.get=Hv.prototype.get,Hv.prototype.getKeys=Hv.prototype.N,Hv.prototype.getProperties=Hv.prototype.O,Hv.prototype.set=Hv.prototype.set,Hv.prototype.setProperties=Hv.prototype.G,Hv.prototype.unset=Hv.prototype.P,Hv.prototype.changed=Hv.prototype.u,Hv.prototype.dispatchEvent=Hv.prototype.b,Hv.prototype.getRevision=Hv.prototype.K,Hv.prototype.on=Hv.prototype.I,Hv.prototype.once=Hv.prototype.L,Hv.prototype.un=Hv.prototype.J,Hv.prototype.unByKey=Hv.prototype.M,Lv.prototype.setRenderReprojectionEdges=Lv.prototype.yb,Lv.prototype.setTileGridForProjection=Lv.prototype.zb,Lv.prototype.getTileLoadFunction=Lv.prototype.fb,Lv.prototype.getTileUrlFunction=Lv.prototype.gb,Lv.prototype.getUrls=Lv.prototype.hb,Lv.prototype.setTileLoadFunction=Lv.prototype.jb,Lv.prototype.setTileUrlFunction=Lv.prototype.Qa,Lv.prototype.setUrl=Lv.prototype.Va,Lv.prototype.setUrls=Lv.prototype.bb,Lv.prototype.getTileGrid=Lv.prototype.Na,Lv.prototype.refresh=Lv.prototype.sa,Lv.prototype.getAttributions=Lv.prototype.wa,Lv.prototype.getLogo=Lv.prototype.ua,Lv.prototype.getProjection=Lv.prototype.xa,Lv.prototype.getState=Lv.prototype.V,Lv.prototype.setAttributions=Lv.prototype.oa,Lv.prototype.get=Lv.prototype.get,Lv.prototype.getKeys=Lv.prototype.N,Lv.prototype.getProperties=Lv.prototype.O,Lv.prototype.set=Lv.prototype.set,Lv.prototype.setProperties=Lv.prototype.G,Lv.prototype.unset=Lv.prototype.P,Lv.prototype.changed=Lv.prototype.u,Lv.prototype.dispatchEvent=Lv.prototype.b,Lv.prototype.getRevision=Lv.prototype.K,Lv.prototype.on=Lv.prototype.I,Lv.prototype.once=Lv.prototype.L,Lv.prototype.un=Lv.prototype.J,Lv.prototype.unByKey=Lv.prototype.M,Nv.prototype.getAttributions=Nv.prototype.wa,Nv.prototype.getLogo=Nv.prototype.ua,Nv.prototype.getProjection=Nv.prototype.xa,Nv.prototype.getState=Nv.prototype.V,Nv.prototype.refresh=Nv.prototype.sa,Nv.prototype.setAttributions=Nv.prototype.oa,Nv.prototype.get=Nv.prototype.get,Nv.prototype.getKeys=Nv.prototype.N,Nv.prototype.getProperties=Nv.prototype.O,Nv.prototype.set=Nv.prototype.set,Nv.prototype.setProperties=Nv.prototype.G,Nv.prototype.unset=Nv.prototype.P,Nv.prototype.changed=Nv.prototype.u,Nv.prototype.dispatchEvent=Nv.prototype.b,Nv.prototype.getRevision=Nv.prototype.K,Nv.prototype.on=Nv.prototype.I,Nv.prototype.once=Nv.prototype.L,Nv.prototype.un=Nv.prototype.J,Nv.prototype.unByKey=Nv.prototype.M,Sv.prototype.type=Sv.prototype.type,Sv.prototype.target=Sv.prototype.target,Sv.prototype.preventDefault=Sv.prototype.preventDefault,Sv.prototype.stopPropagation=Sv.prototype.stopPropagation,Xv.prototype.setRenderReprojectionEdges=Xv.prototype.yb,Xv.prototype.setTileGridForProjection=Xv.prototype.zb,Xv.prototype.getTileLoadFunction=Xv.prototype.fb,Xv.prototype.getTileUrlFunction=Xv.prototype.gb,Xv.prototype.getUrls=Xv.prototype.hb,Xv.prototype.setTileLoadFunction=Xv.prototype.jb,Xv.prototype.setTileUrlFunction=Xv.prototype.Qa,Xv.prototype.setUrl=Xv.prototype.Va,Xv.prototype.setUrls=Xv.prototype.bb,Xv.prototype.getTileGrid=Xv.prototype.Na,Xv.prototype.refresh=Xv.prototype.sa,Xv.prototype.getAttributions=Xv.prototype.wa,Xv.prototype.getLogo=Xv.prototype.ua,Xv.prototype.getProjection=Xv.prototype.xa,Xv.prototype.getState=Xv.prototype.V,Xv.prototype.setAttributions=Xv.prototype.oa,Xv.prototype.get=Xv.prototype.get,Xv.prototype.getKeys=Xv.prototype.N,Xv.prototype.getProperties=Xv.prototype.O,Xv.prototype.set=Xv.prototype.set,Xv.prototype.setProperties=Xv.prototype.G,Xv.prototype.unset=Xv.prototype.P,Xv.prototype.changed=Xv.prototype.u,Xv.prototype.dispatchEvent=Xv.prototype.b,Xv.prototype.getRevision=Xv.prototype.K,Xv.prototype.on=Xv.prototype.I,Xv.prototype.once=Xv.prototype.L,Xv.prototype.un=Xv.prototype.J,Xv.prototype.unByKey=Xv.prototype.M,Zv.prototype.setRenderReprojectionEdges=Zv.prototype.yb,Zv.prototype.setTileGridForProjection=Zv.prototype.zb,Zv.prototype.getTileLoadFunction=Zv.prototype.fb,Zv.prototype.getTileUrlFunction=Zv.prototype.gb,Zv.prototype.getUrls=Zv.prototype.hb,Zv.prototype.setTileLoadFunction=Zv.prototype.jb,Zv.prototype.setTileUrlFunction=Zv.prototype.Qa,Zv.prototype.setUrl=Zv.prototype.Va,Zv.prototype.setUrls=Zv.prototype.bb,Zv.prototype.getTileGrid=Zv.prototype.Na,Zv.prototype.refresh=Zv.prototype.sa,Zv.prototype.getAttributions=Zv.prototype.wa,Zv.prototype.getLogo=Zv.prototype.ua,Zv.prototype.getProjection=Zv.prototype.xa,Zv.prototype.getState=Zv.prototype.V,Zv.prototype.setAttributions=Zv.prototype.oa,Zv.prototype.get=Zv.prototype.get,Zv.prototype.getKeys=Zv.prototype.N,Zv.prototype.getProperties=Zv.prototype.O,Zv.prototype.set=Zv.prototype.set,Zv.prototype.setProperties=Zv.prototype.G,Zv.prototype.unset=Zv.prototype.P,Zv.prototype.changed=Zv.prototype.u,Zv.prototype.dispatchEvent=Zv.prototype.b,Zv.prototype.getRevision=Zv.prototype.K,Zv.prototype.on=Zv.prototype.I,Zv.prototype.once=Zv.prototype.L,Zv.prototype.un=Zv.prototype.J,Zv.prototype.unByKey=Zv.prototype.M,aw.prototype.getTileGrid=aw.prototype.Na,aw.prototype.refresh=aw.prototype.sa,aw.prototype.getAttributions=aw.prototype.wa,aw.prototype.getLogo=aw.prototype.ua,aw.prototype.getProjection=aw.prototype.xa,aw.prototype.getState=aw.prototype.V,aw.prototype.setAttributions=aw.prototype.oa,aw.prototype.get=aw.prototype.get,aw.prototype.getKeys=aw.prototype.N,aw.prototype.getProperties=aw.prototype.O,aw.prototype.set=aw.prototype.set,aw.prototype.setProperties=aw.prototype.G,aw.prototype.unset=aw.prototype.P,aw.prototype.changed=aw.prototype.u,aw.prototype.dispatchEvent=aw.prototype.b,aw.prototype.getRevision=aw.prototype.K,aw.prototype.on=aw.prototype.I,aw.prototype.once=aw.prototype.L,aw.prototype.un=aw.prototype.J,aw.prototype.unByKey=aw.prototype.M,bw.prototype.setRenderReprojectionEdges=bw.prototype.yb,bw.prototype.setTileGridForProjection=bw.prototype.zb,bw.prototype.getTileLoadFunction=bw.prototype.fb,bw.prototype.getTileUrlFunction=bw.prototype.gb,bw.prototype.getUrls=bw.prototype.hb,bw.prototype.setTileLoadFunction=bw.prototype.jb,bw.prototype.setTileUrlFunction=bw.prototype.Qa,bw.prototype.setUrl=bw.prototype.Va,bw.prototype.setUrls=bw.prototype.bb,bw.prototype.getTileGrid=bw.prototype.Na,bw.prototype.refresh=bw.prototype.sa,bw.prototype.getAttributions=bw.prototype.wa,bw.prototype.getLogo=bw.prototype.ua,bw.prototype.getProjection=bw.prototype.xa,bw.prototype.getState=bw.prototype.V,bw.prototype.setAttributions=bw.prototype.oa,bw.prototype.get=bw.prototype.get,bw.prototype.getKeys=bw.prototype.N,bw.prototype.getProperties=bw.prototype.O,bw.prototype.set=bw.prototype.set,bw.prototype.setProperties=bw.prototype.G,bw.prototype.unset=bw.prototype.P,bw.prototype.changed=bw.prototype.u,bw.prototype.dispatchEvent=bw.prototype.b,bw.prototype.getRevision=bw.prototype.K,bw.prototype.on=bw.prototype.I,bw.prototype.once=bw.prototype.L,bw.prototype.un=bw.prototype.J,bw.prototype.unByKey=bw.prototype.M,Jf.prototype.type=Jf.prototype.type,Jf.prototype.target=Jf.prototype.target,Jf.prototype.preventDefault=Jf.prototype.preventDefault,Jf.prototype.stopPropagation=Jf.prototype.stopPropagation,cw.prototype.getTileGrid=cw.prototype.Na,cw.prototype.refresh=cw.prototype.sa,cw.prototype.getAttributions=cw.prototype.wa,cw.prototype.getLogo=cw.prototype.ua,cw.prototype.getProjection=cw.prototype.xa,cw.prototype.getState=cw.prototype.V,cw.prototype.setAttributions=cw.prototype.oa,cw.prototype.get=cw.prototype.get,cw.prototype.getKeys=cw.prototype.N,cw.prototype.getProperties=cw.prototype.O,cw.prototype.set=cw.prototype.set,cw.prototype.setProperties=cw.prototype.G,cw.prototype.unset=cw.prototype.P,cw.prototype.changed=cw.prototype.u,cw.prototype.dispatchEvent=cw.prototype.b,cw.prototype.getRevision=cw.prototype.K,cw.prototype.on=cw.prototype.I,cw.prototype.once=cw.prototype.L,cw.prototype.un=cw.prototype.J,cw.prototype.unByKey=cw.prototype.M,gw.prototype.setRenderReprojectionEdges=gw.prototype.yb,gw.prototype.setTileGridForProjection=gw.prototype.zb,gw.prototype.getTileLoadFunction=gw.prototype.fb,gw.prototype.getTileUrlFunction=gw.prototype.gb,gw.prototype.getUrls=gw.prototype.hb,gw.prototype.setTileLoadFunction=gw.prototype.jb,gw.prototype.setTileUrlFunction=gw.prototype.Qa,gw.prototype.setUrl=gw.prototype.Va,gw.prototype.setUrls=gw.prototype.bb,gw.prototype.getTileGrid=gw.prototype.Na,gw.prototype.refresh=gw.prototype.sa,gw.prototype.getAttributions=gw.prototype.wa,gw.prototype.getLogo=gw.prototype.ua,gw.prototype.getProjection=gw.prototype.xa,gw.prototype.getState=gw.prototype.V,gw.prototype.setAttributions=gw.prototype.oa,gw.prototype.get=gw.prototype.get,gw.prototype.getKeys=gw.prototype.N,gw.prototype.getProperties=gw.prototype.O,gw.prototype.set=gw.prototype.set,gw.prototype.setProperties=gw.prototype.G,gw.prototype.unset=gw.prototype.P,gw.prototype.changed=gw.prototype.u,gw.prototype.dispatchEvent=gw.prototype.b,gw.prototype.getRevision=gw.prototype.K,gw.prototype.on=gw.prototype.I,gw.prototype.once=gw.prototype.L,gw.prototype.un=gw.prototype.J,gw.prototype.unByKey=gw.prototype.M,Bl.prototype.type=Bl.prototype.type,Bl.prototype.target=Bl.prototype.target,Bl.prototype.preventDefault=Bl.prototype.preventDefault,Bl.prototype.stopPropagation=Bl.prototype.stopPropagation,Ql.prototype.getTileLoadFunction=Ql.prototype.fb,Ql.prototype.getTileUrlFunction=Ql.prototype.gb,Ql.prototype.getUrls=Ql.prototype.hb,Ql.prototype.setTileLoadFunction=Ql.prototype.jb,Ql.prototype.setTileUrlFunction=Ql.prototype.Qa,Ql.prototype.setUrl=Ql.prototype.Va,Ql.prototype.setUrls=Ql.prototype.bb,Ql.prototype.getTileGrid=Ql.prototype.Na,Ql.prototype.refresh=Ql.prototype.sa,Ql.prototype.getAttributions=Ql.prototype.wa,Ql.prototype.getLogo=Ql.prototype.ua,Ql.prototype.getProjection=Ql.prototype.xa,Ql.prototype.getState=Ql.prototype.V,Ql.prototype.setAttributions=Ql.prototype.oa,Ql.prototype.get=Ql.prototype.get,Ql.prototype.getKeys=Ql.prototype.N,Ql.prototype.getProperties=Ql.prototype.O,Ql.prototype.set=Ql.prototype.set,Ql.prototype.setProperties=Ql.prototype.G,Ql.prototype.unset=Ql.prototype.P,Ql.prototype.changed=Ql.prototype.u,Ql.prototype.dispatchEvent=Ql.prototype.b,Ql.prototype.getRevision=Ql.prototype.K,Ql.prototype.on=Ql.prototype.I,Ql.prototype.once=Ql.prototype.L,Ql.prototype.un=Ql.prototype.J,Ql.prototype.unByKey=Ql.prototype.M,Z.prototype.setRenderReprojectionEdges=Z.prototype.yb,Z.prototype.setTileGridForProjection=Z.prototype.zb,Z.prototype.getTileLoadFunction=Z.prototype.fb,Z.prototype.getTileUrlFunction=Z.prototype.gb,Z.prototype.getUrls=Z.prototype.hb,Z.prototype.setTileLoadFunction=Z.prototype.jb,Z.prototype.setTileUrlFunction=Z.prototype.Qa,Z.prototype.setUrl=Z.prototype.Va,Z.prototype.setUrls=Z.prototype.bb,Z.prototype.getTileGrid=Z.prototype.Na,Z.prototype.refresh=Z.prototype.sa,Z.prototype.getAttributions=Z.prototype.wa,Z.prototype.getLogo=Z.prototype.ua,Z.prototype.getProjection=Z.prototype.xa,Z.prototype.getState=Z.prototype.V,Z.prototype.setAttributions=Z.prototype.oa,Z.prototype.get=Z.prototype.get,Z.prototype.getKeys=Z.prototype.N,Z.prototype.getProperties=Z.prototype.O,Z.prototype.set=Z.prototype.set,Z.prototype.setProperties=Z.prototype.G,Z.prototype.unset=Z.prototype.P,Z.prototype.changed=Z.prototype.u,Z.prototype.dispatchEvent=Z.prototype.b,Z.prototype.getRevision=Z.prototype.K,Z.prototype.on=Z.prototype.I,Z.prototype.once=Z.prototype.L,Z.prototype.un=Z.prototype.J,Z.prototype.unByKey=Z.prototype.M,ow.prototype.setRenderReprojectionEdges=ow.prototype.yb,ow.prototype.setTileGridForProjection=ow.prototype.zb,ow.prototype.getTileLoadFunction=ow.prototype.fb,ow.prototype.getTileUrlFunction=ow.prototype.gb,ow.prototype.getUrls=ow.prototype.hb,ow.prototype.setTileLoadFunction=ow.prototype.jb,ow.prototype.setTileUrlFunction=ow.prototype.Qa,ow.prototype.setUrl=ow.prototype.Va,ow.prototype.setUrls=ow.prototype.bb,ow.prototype.getTileGrid=ow.prototype.Na,ow.prototype.refresh=ow.prototype.sa,ow.prototype.getAttributions=ow.prototype.wa,ow.prototype.getLogo=ow.prototype.ua,ow.prototype.getProjection=ow.prototype.xa,ow.prototype.getState=ow.prototype.V,ow.prototype.setAttributions=ow.prototype.oa,ow.prototype.get=ow.prototype.get,ow.prototype.getKeys=ow.prototype.N,ow.prototype.getProperties=ow.prototype.O,ow.prototype.set=ow.prototype.set,ow.prototype.setProperties=ow.prototype.G,ow.prototype.unset=ow.prototype.P,ow.prototype.changed=ow.prototype.u,ow.prototype.dispatchEvent=ow.prototype.b,ow.prototype.getRevision=ow.prototype.K,ow.prototype.on=ow.prototype.I,ow.prototype.once=ow.prototype.L,ow.prototype.un=ow.prototype.J,ow.prototype.unByKey=ow.prototype.M,wj.prototype.getOpacity=wj.prototype.pe,wj.prototype.getRotateWithView=wj.prototype.Wd,wj.prototype.getRotation=wj.prototype.qe,wj.prototype.getScale=wj.prototype.re,wj.prototype.getSnapToPixel=wj.prototype.Xd,wj.prototype.setOpacity=wj.prototype.se,wj.prototype.setRotation=wj.prototype.te,wj.prototype.setScale=wj.prototype.ue,Jh.prototype.getOpacity=Jh.prototype.pe,Jh.prototype.getRotateWithView=Jh.prototype.Wd,Jh.prototype.getRotation=Jh.prototype.qe,Jh.prototype.getScale=Jh.prototype.re,Jh.prototype.getSnapToPixel=Jh.prototype.Xd,Jh.prototype.setOpacity=Jh.prototype.se,Jh.prototype.setRotation=Jh.prototype.te,Jh.prototype.setScale=Jh.prototype.ue,uw.prototype.getOpacity=uw.prototype.pe,uw.prototype.getRotateWithView=uw.prototype.Wd,uw.prototype.getRotation=uw.prototype.qe,uw.prototype.getScale=uw.prototype.re,uw.prototype.getSnapToPixel=uw.prototype.Xd,uw.prototype.setOpacity=uw.prototype.se,uw.prototype.setRotation=uw.prototype.te,uw.prototype.setScale=uw.prototype.ue,lw.prototype.forEachTileCoord=lw.prototype.yg,lw.prototype.getMaxZoom=lw.prototype.Ig,lw.prototype.getMinZoom=lw.prototype.Jg,lw.prototype.getOrigin=lw.prototype.Ia,lw.prototype.getResolution=lw.prototype.$,lw.prototype.getResolutions=lw.prototype.Kh,lw.prototype.getTileCoordExtent=lw.prototype.Ea,lw.prototype.getTileCoordForCoordAndResolution=lw.prototype.Yd,lw.prototype.getTileCoordForCoordAndZ=lw.prototype.pd,lw.prototype.getTileSize=lw.prototype.Ja,lw.prototype.getZForResolution=lw.prototype.Kb,Qk.prototype.getTileCoord=Qk.prototype.i,Wd.prototype.get=Wd.prototype.get,Wd.prototype.getKeys=Wd.prototype.N,Wd.prototype.getProperties=Wd.prototype.O,Wd.prototype.set=Wd.prototype.set,Wd.prototype.setProperties=Wd.prototype.G,Wd.prototype.unset=Wd.prototype.P,Wd.prototype.changed=Wd.prototype.u,Wd.prototype.dispatchEvent=Wd.prototype.b,Wd.prototype.getRevision=Wd.prototype.K,Wd.prototype.on=Wd.prototype.I,Wd.prototype.once=Wd.prototype.L,Wd.prototype.un=Wd.prototype.J,Wd.prototype.unByKey=Wd.prototype.M,OPENLAYERS.ol})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(require,module,exports){function Point(x,y,z){if(!(this instanceof Point))return new Point(x,y,z);if(Array.isArray(x))this.x=x[0],this.y=x[1],this.z=x[2]||0;else if("object"==typeof x)this.x=x.x,this.y=x.y,this.z=x.z||0;else if("string"==typeof x&&"undefined"==typeof y){var coords=x.split(",");this.x=parseFloat(coords[0],10),this.y=parseFloat(coords[1],10),this.z=parseFloat(coords[2],10)||0}else this.x=x,this.y=y,this.z=z||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var mgrs=require("mgrs");Point.fromMGRS=function(mgrsStr){return new Point(mgrs.toPoint(mgrsStr))},Point.prototype.toMGRS=function(accuracy){return mgrs.forward([this.x,this.y],accuracy)},module.exports=Point},{mgrs:92}],26:[function(require,module,exports){function Projection(srsCode,callback){if(!(this instanceof Projection))return new Projection(srsCode);callback=callback||function(error){if(error)throw error};var json=parseCode(srsCode);if("object"!=typeof json)return void callback(srsCode);var modifiedJSON=deriveConstants(json),ourProj=Projection.projections.get(modifiedJSON.projName);ourProj?(extend(this,modifiedJSON),extend(this,ourProj),this.init(),callback(null,this)):callback(srsCode)}var parseCode=require("./parseCode"),extend=require("./extend"),projections=require("./projections"),deriveConstants=require("./deriveConstants");Projection.projections=projections,Projection.projections.start(),
module.exports=Projection},{"./deriveConstants":57,"./extend":58,"./parseCode":62,"./projections":64}],27:[function(require,module,exports){module.exports=function(crs,denorm,point){var v,t,i,xin=point.x,yin=point.y,zin=point.z||0;for(i=0;3>i;i++)if(!denorm||2!==i||void 0!==point.z)switch(0===i?(v=xin,t="x"):1===i?(v=yin,t="y"):(v=zin,t="z"),crs.axis[i]){case"e":point[t]=v;break;case"w":point[t]=-v;break;case"n":point[t]=v;break;case"s":point[t]=-v;break;case"u":void 0!==point[t]&&(point.z=v);break;case"d":void 0!==point[t]&&(point.z=-v);break;default:return null}return point}},{}],28:[function(require,module,exports){var HALF_PI=Math.PI/2,sign=require("./sign");module.exports=function(x){return Math.abs(x)<HALF_PI?x:x-sign(x)*Math.PI}},{"./sign":45}],29:[function(require,module,exports){var TWO_PI=2*Math.PI,SPI=3.14159265359,sign=require("./sign");module.exports=function(x){return Math.abs(x)<=SPI?x:x-sign(x)*TWO_PI}},{"./sign":45}],30:[function(require,module,exports){module.exports=function(x){return Math.abs(x)>1&&(x=x>1?1:-1),Math.asin(x)}},{}],31:[function(require,module,exports){module.exports=function(x){return 1-.25*x*(1+x/16*(3+1.25*x))}},{}],32:[function(require,module,exports){module.exports=function(x){return.375*x*(1+.25*x*(1+.46875*x))}},{}],33:[function(require,module,exports){module.exports=function(x){return.05859375*x*x*(1+.75*x)}},{}],34:[function(require,module,exports){module.exports=function(x){return x*x*x*(35/3072)}},{}],35:[function(require,module,exports){module.exports=function(a,e,sinphi){var temp=e*sinphi;return a/Math.sqrt(1-temp*temp)}},{}],36:[function(require,module,exports){module.exports=function(ml,e0,e1,e2,e3){var phi,dphi;phi=ml/e0;for(var i=0;15>i;i++)if(dphi=(ml-(e0*phi-e1*Math.sin(2*phi)+e2*Math.sin(4*phi)-e3*Math.sin(6*phi)))/(e0-2*e1*Math.cos(2*phi)+4*e2*Math.cos(4*phi)-6*e3*Math.cos(6*phi)),phi+=dphi,Math.abs(dphi)<=1e-10)return phi;return NaN}},{}],37:[function(require,module,exports){var HALF_PI=Math.PI/2;module.exports=function(eccent,q){var temp=1-(1-eccent*eccent)/(2*eccent)*Math.log((1-eccent)/(1+eccent));if(Math.abs(Math.abs(q)-temp)<1e-6)return 0>q?-1*HALF_PI:HALF_PI;for(var dphi,sin_phi,cos_phi,con,phi=Math.asin(.5*q),i=0;30>i;i++)if(sin_phi=Math.sin(phi),cos_phi=Math.cos(phi),con=eccent*sin_phi,dphi=Math.pow(1-con*con,2)/(2*cos_phi)*(q/(1-eccent*eccent)-sin_phi/(1-con*con)+.5/eccent*Math.log((1-con)/(1+con))),phi+=dphi,Math.abs(dphi)<=1e-10)return phi;return NaN}},{}],38:[function(require,module,exports){module.exports=function(e0,e1,e2,e3,phi){return e0*phi-e1*Math.sin(2*phi)+e2*Math.sin(4*phi)-e3*Math.sin(6*phi)}},{}],39:[function(require,module,exports){module.exports=function(eccent,sinphi,cosphi){var con=eccent*sinphi;return cosphi/Math.sqrt(1-con*con)}},{}],40:[function(require,module,exports){var HALF_PI=Math.PI/2;module.exports=function(eccent,ts){for(var con,dphi,eccnth=.5*eccent,phi=HALF_PI-2*Math.atan(ts),i=0;15>=i;i++)if(con=eccent*Math.sin(phi),dphi=HALF_PI-2*Math.atan(ts*Math.pow((1-con)/(1+con),eccnth))-phi,phi+=dphi,Math.abs(dphi)<=1e-10)return phi;return-9999}},{}],41:[function(require,module,exports){var C00=1,C02=.25,C04=.046875,C06=.01953125,C08=.01068115234375,C22=.75,C44=.46875,C46=.013020833333333334,C48=.007120768229166667,C66=.3645833333333333,C68=.005696614583333333,C88=.3076171875;module.exports=function(es){var en=[];en[0]=C00-es*(C02+es*(C04+es*(C06+es*C08))),en[1]=es*(C22-es*(C04+es*(C06+es*C08)));var t=es*es;return en[2]=t*(C44-es*(C46+es*C48)),t*=es,en[3]=t*(C66-es*C68),en[4]=t*es*C88,en}},{}],42:[function(require,module,exports){var pj_mlfn=require("./pj_mlfn"),EPSLN=1e-10,MAX_ITER=20;module.exports=function(arg,es,en){for(var k=1/(1-es),phi=arg,i=MAX_ITER;i;--i){var s=Math.sin(phi),t=1-es*s*s;if(t=(pj_mlfn(phi,s,Math.cos(phi),en)-arg)*(t*Math.sqrt(t))*k,phi-=t,Math.abs(t)<EPSLN)return phi}return phi}},{"./pj_mlfn":43}],43:[function(require,module,exports){module.exports=function(phi,sphi,cphi,en){return cphi*=sphi,sphi*=sphi,en[0]*phi-cphi*(en[1]+sphi*(en[2]+sphi*(en[3]+sphi*en[4])))}},{}],44:[function(require,module,exports){module.exports=function(eccent,sinphi){var con;return eccent>1e-7?(con=eccent*sinphi,(1-eccent*eccent)*(sinphi/(1-con*con)-.5/eccent*Math.log((1-con)/(1+con)))):2*sinphi}},{}],45:[function(require,module,exports){module.exports=function(x){return 0>x?-1:1}},{}],46:[function(require,module,exports){module.exports=function(esinp,exp){return Math.pow((1-esinp)/(1+esinp),exp)}},{}],47:[function(require,module,exports){module.exports=function(array){var out={x:array[0],y:array[1]};return array.length>2&&(out.z=array[2]),array.length>3&&(out.m=array[3]),out}},{}],48:[function(require,module,exports){var HALF_PI=Math.PI/2;module.exports=function(eccent,phi,sinphi){var con=eccent*sinphi,com=.5*eccent;return con=Math.pow((1-con)/(1+con),com),Math.tan(.5*(HALF_PI-phi))/con}},{}],49:[function(require,module,exports){exports.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},exports.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},exports.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},exports.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},exports.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},exports.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},exports.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},exports.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},exports.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},exports.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},exports.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},exports.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},exports.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},exports.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},exports.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},exports.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],50:[function(require,module,exports){exports.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},exports.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},exports.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},exports.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},exports.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},exports.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},exports.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},exports.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},exports.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},exports.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},exports.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},exports.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},exports.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},exports.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},exports.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},exports.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},exports.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},exports.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},exports.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},exports.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},exports.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},exports.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},exports.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},exports.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},exports.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},exports.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},exports.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},exports.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},exports.hough={a:6378270,rf:297,ellipseName:"Hough"},exports.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},exports.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},exports.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},exports.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},exports.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},exports.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},exports.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},exports.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},exports.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},exports.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},exports.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},exports.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},exports.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},exports.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],51:[function(require,module,exports){exports.greenwich=0,exports.lisbon=-9.131906111111,exports.paris=2.337229166667,exports.bogota=-74.080916666667,exports.madrid=-3.687938888889,exports.rome=12.452333333333,exports.bern=7.439583333333,exports.jakarta=106.807719444444,exports.ferro=-17.666666666667,exports.brussels=4.367975,exports.stockholm=18.058277777778,exports.athens=23.7163375,exports.oslo=10.722916666667},{}],52:[function(require,module,exports){exports.ft={to_meter:.3048},exports["us-ft"]={to_meter:1200/3937}},{}],53:[function(require,module,exports){function transformer(from,to,coords){var transformedArray;return Array.isArray(coords)?(transformedArray=transform(from,to,coords),3===coords.length?[transformedArray.x,transformedArray.y,transformedArray.z]:[transformedArray.x,transformedArray.y]):transform(from,to,coords)}function checkProj(item){return item instanceof proj?item:item.oProj?item.oProj:proj(item)}function proj4(fromProj,toProj,coord){fromProj=checkProj(fromProj);var obj,single=!1;return"undefined"==typeof toProj?(toProj=fromProj,fromProj=wgs84,single=!0):("undefined"!=typeof toProj.x||Array.isArray(toProj))&&(coord=toProj,toProj=fromProj,fromProj=wgs84,single=!0),toProj=checkProj(toProj),coord?transformer(fromProj,toProj,coord):(obj={forward:function(coords){return transformer(fromProj,toProj,coords)},inverse:function(coords){return transformer(toProj,fromProj,coords)}},single&&(obj.oProj=toProj),obj)}var proj=require("./Proj"),transform=require("./transform"),wgs84=proj("WGS84");module.exports=proj4},{"./Proj":26,"./transform":90}],54:[function(require,module,exports){var HALF_PI=Math.PI/2,PJD_3PARAM=1,PJD_7PARAM=2,PJD_GRIDSHIFT=3,PJD_WGS84=4,PJD_NODATUM=5,SEC_TO_RAD=484813681109536e-20,AD_C=1.0026,COS_67P5=.3826834323650898,datum=function(proj){if(!(this instanceof datum))return new datum(proj);if(this.datum_type=PJD_WGS84,proj){if(proj.datumCode&&"none"===proj.datumCode&&(this.datum_type=PJD_NODATUM),proj.datum_params){for(var i=0;i<proj.datum_params.length;i++)proj.datum_params[i]=parseFloat(proj.datum_params[i]);(0!==proj.datum_params[0]||0!==proj.datum_params[1]||0!==proj.datum_params[2])&&(this.datum_type=PJD_3PARAM),proj.datum_params.length>3&&(0!==proj.datum_params[3]||0!==proj.datum_params[4]||0!==proj.datum_params[5]||0!==proj.datum_params[6])&&(this.datum_type=PJD_7PARAM,proj.datum_params[3]*=SEC_TO_RAD,proj.datum_params[4]*=SEC_TO_RAD,proj.datum_params[5]*=SEC_TO_RAD,proj.datum_params[6]=proj.datum_params[6]/1e6+1)}this.datum_type=proj.grids?PJD_GRIDSHIFT:this.datum_type,this.a=proj.a,this.b=proj.b,this.es=proj.es,this.ep2=proj.ep2,this.datum_params=proj.datum_params,this.datum_type===PJD_GRIDSHIFT&&(this.grids=proj.grids)}};datum.prototype={compare_datums:function(dest){return this.datum_type!==dest.datum_type?!1:this.a!==dest.a||Math.abs(this.es-dest.es)>5e-11?!1:this.datum_type===PJD_3PARAM?this.datum_params[0]===dest.datum_params[0]&&this.datum_params[1]===dest.datum_params[1]&&this.datum_params[2]===dest.datum_params[2]:this.datum_type===PJD_7PARAM?this.datum_params[0]===dest.datum_params[0]&&this.datum_params[1]===dest.datum_params[1]&&this.datum_params[2]===dest.datum_params[2]&&this.datum_params[3]===dest.datum_params[3]&&this.datum_params[4]===dest.datum_params[4]&&this.datum_params[5]===dest.datum_params[5]&&this.datum_params[6]===dest.datum_params[6]:this.datum_type===PJD_GRIDSHIFT||dest.datum_type===PJD_GRIDSHIFT?this.nadgrids===dest.nadgrids:!0},geodetic_to_geocentric:function(p){var X,Y,Z,Rn,Sin_Lat,Sin2_Lat,Cos_Lat,Longitude=p.x,Latitude=p.y,Height=p.z?p.z:0,Error_Code=0;if(-HALF_PI>Latitude&&Latitude>-1.001*HALF_PI)Latitude=-HALF_PI;else if(Latitude>HALF_PI&&1.001*HALF_PI>Latitude)Latitude=HALF_PI;else if(-HALF_PI>Latitude||Latitude>HALF_PI)return null;return Longitude>Math.PI&&(Longitude-=2*Math.PI),Sin_Lat=Math.sin(Latitude),Cos_Lat=Math.cos(Latitude),Sin2_Lat=Sin_Lat*Sin_Lat,Rn=this.a/Math.sqrt(1-this.es*Sin2_Lat),X=(Rn+Height)*Cos_Lat*Math.cos(Longitude),Y=(Rn+Height)*Cos_Lat*Math.sin(Longitude),Z=(Rn*(1-this.es)+Height)*Sin_Lat,p.x=X,p.y=Y,p.z=Z,Error_Code},geocentric_to_geodetic:function(p){var P,RR,CT,ST,RX,RK,RN,CPHI0,SPHI0,CPHI,SPHI,SDPHI,At_Pole,iter,Longitude,Latitude,Height,genau=1e-12,genau2=genau*genau,maxiter=30,X=p.x,Y=p.y,Z=p.z?p.z:0;if(At_Pole=!1,P=Math.sqrt(X*X+Y*Y),RR=Math.sqrt(X*X+Y*Y+Z*Z),P/this.a<genau){if(At_Pole=!0,Longitude=0,RR/this.a<genau)return Latitude=HALF_PI,void(Height=-this.b)}else Longitude=Math.atan2(Y,X);CT=Z/RR,ST=P/RR,RX=1/Math.sqrt(1-this.es*(2-this.es)*ST*ST),CPHI0=ST*(1-this.es)*RX,SPHI0=CT*RX,iter=0;do iter++,RN=this.a/Math.sqrt(1-this.es*SPHI0*SPHI0),Height=P*CPHI0+Z*SPHI0-RN*(1-this.es*SPHI0*SPHI0),RK=this.es*RN/(RN+Height),RX=1/Math.sqrt(1-RK*(2-RK)*ST*ST),CPHI=ST*(1-RK)*RX,SPHI=CT*RX,SDPHI=SPHI*CPHI0-CPHI*SPHI0,CPHI0=CPHI,SPHI0=SPHI;while(SDPHI*SDPHI>genau2&&maxiter>iter);return Latitude=Math.atan(SPHI/Math.abs(CPHI)),p.x=Longitude,p.y=Latitude,p.z=Height,p},geocentric_to_geodetic_noniter:function(p){var Longitude,Latitude,Height,W,W2,T0,T1,S0,S1,Sin_B0,Sin3_B0,Cos_B0,Sin_p1,Cos_p1,Rn,Sum,At_Pole,X=p.x,Y=p.y,Z=p.z?p.z:0;if(X=parseFloat(X),Y=parseFloat(Y),Z=parseFloat(Z),At_Pole=!1,0!==X)Longitude=Math.atan2(Y,X);else if(Y>0)Longitude=HALF_PI;else if(0>Y)Longitude=-HALF_PI;else if(At_Pole=!0,Longitude=0,Z>0)Latitude=HALF_PI;else{if(!(0>Z))return Latitude=HALF_PI,void(Height=-this.b);Latitude=-HALF_PI}return W2=X*X+Y*Y,W=Math.sqrt(W2),T0=Z*AD_C,S0=Math.sqrt(T0*T0+W2),Sin_B0=T0/S0,Cos_B0=W/S0,Sin3_B0=Sin_B0*Sin_B0*Sin_B0,T1=Z+this.b*this.ep2*Sin3_B0,Sum=W-this.a*this.es*Cos_B0*Cos_B0*Cos_B0,S1=Math.sqrt(T1*T1+Sum*Sum),Sin_p1=T1/S1,Cos_p1=Sum/S1,Rn=this.a/Math.sqrt(1-this.es*Sin_p1*Sin_p1),Height=Cos_p1>=COS_67P5?W/Cos_p1-Rn:-COS_67P5>=Cos_p1?W/-Cos_p1-Rn:Z/Sin_p1+Rn*(this.es-1),At_Pole===!1&&(Latitude=Math.atan(Sin_p1/Cos_p1)),p.x=Longitude,p.y=Latitude,p.z=Height,p},geocentric_to_wgs84:function(p){if(this.datum_type===PJD_3PARAM)p.x+=this.datum_params[0],p.y+=this.datum_params[1],p.z+=this.datum_params[2];else if(this.datum_type===PJD_7PARAM){var Dx_BF=this.datum_params[0],Dy_BF=this.datum_params[1],Dz_BF=this.datum_params[2],Rx_BF=this.datum_params[3],Ry_BF=this.datum_params[4],Rz_BF=this.datum_params[5],M_BF=this.datum_params[6],x_out=M_BF*(p.x-Rz_BF*p.y+Ry_BF*p.z)+Dx_BF,y_out=M_BF*(Rz_BF*p.x+p.y-Rx_BF*p.z)+Dy_BF,z_out=M_BF*(-Ry_BF*p.x+Rx_BF*p.y+p.z)+Dz_BF;p.x=x_out,p.y=y_out,p.z=z_out}},geocentric_from_wgs84:function(p){if(this.datum_type===PJD_3PARAM)p.x-=this.datum_params[0],p.y-=this.datum_params[1],p.z-=this.datum_params[2];else if(this.datum_type===PJD_7PARAM){var Dx_BF=this.datum_params[0],Dy_BF=this.datum_params[1],Dz_BF=this.datum_params[2],Rx_BF=this.datum_params[3],Ry_BF=this.datum_params[4],Rz_BF=this.datum_params[5],M_BF=this.datum_params[6],x_tmp=(p.x-Dx_BF)/M_BF,y_tmp=(p.y-Dy_BF)/M_BF,z_tmp=(p.z-Dz_BF)/M_BF;p.x=x_tmp+Rz_BF*y_tmp-Ry_BF*z_tmp,p.y=-Rz_BF*x_tmp+y_tmp+Rx_BF*z_tmp,p.z=Ry_BF*x_tmp-Rx_BF*y_tmp+z_tmp}}},module.exports=datum},{}],55:[function(require,module,exports){var PJD_3PARAM=1,PJD_7PARAM=2,PJD_GRIDSHIFT=3,PJD_NODATUM=5,SRS_WGS84_SEMIMAJOR=6378137,SRS_WGS84_ESQUARED=.006694379990141316;module.exports=function(source,dest,point){function checkParams(fallback){return fallback===PJD_3PARAM||fallback===PJD_7PARAM}var wp,i,l;if(source.compare_datums(dest))return point;if(source.datum_type===PJD_NODATUM||dest.datum_type===PJD_NODATUM)return point;var src_a=source.a,src_es=source.es,dst_a=dest.a,dst_es=dest.es,fallback=source.datum_type;if(fallback===PJD_GRIDSHIFT)if(0===this.apply_gridshift(source,0,point))source.a=SRS_WGS84_SEMIMAJOR,source.es=SRS_WGS84_ESQUARED;else{if(!source.datum_params)return source.a=src_a,source.es=source.es,point;for(wp=1,i=0,l=source.datum_params.length;l>i;i++)wp*=source.datum_params[i];if(0===wp)return source.a=src_a,source.es=source.es,point;fallback=source.datum_params.length>3?PJD_7PARAM:PJD_3PARAM}return dest.datum_type===PJD_GRIDSHIFT&&(dest.a=SRS_WGS84_SEMIMAJOR,dest.es=SRS_WGS84_ESQUARED),(source.es!==dest.es||source.a!==dest.a||checkParams(fallback)||checkParams(dest.datum_type))&&(source.geodetic_to_geocentric(point),checkParams(source.datum_type)&&source.geocentric_to_wgs84(point),checkParams(dest.datum_type)&&dest.geocentric_from_wgs84(point),dest.geocentric_to_geodetic(point)),dest.datum_type===PJD_GRIDSHIFT&&this.apply_gridshift(dest,1,point),source.a=src_a,source.es=src_es,dest.a=dst_a,dest.es=dst_es,point}},{}],56:[function(require,module,exports){function defs(name){var that=this;if(2===arguments.length){var def=arguments[1];"string"==typeof def?"+"===def.charAt(0)?defs[name]=parseProj(arguments[1]):defs[name]=wkt(arguments[1]):defs[name]=def}else if(1===arguments.length){if(Array.isArray(name))return name.map(function(v){Array.isArray(v)?defs.apply(that,v):defs(v)});if("string"==typeof name){if(name in defs)return defs[name]}else"EPSG"in name?defs["EPSG:"+name.EPSG]=name:"ESRI"in name?defs["ESRI:"+name.ESRI]=name:"IAU2000"in name?defs["IAU2000:"+name.IAU2000]=name:console.log(name);return}}var globals=require("./global"),parseProj=require("./projString"),wkt=require("./wkt");globals(defs),module.exports=defs},{"./global":59,"./projString":63,"./wkt":91}],57:[function(require,module,exports){var Datum=require("./constants/Datum"),Ellipsoid=require("./constants/Ellipsoid"),extend=require("./extend"),datum=require("./datum"),EPSLN=1e-10,SIXTH=.16666666666666666,RA4=.04722222222222222,RA6=.022156084656084655;module.exports=function(json){if(json.datumCode&&"none"!==json.datumCode){var datumDef=Datum[json.datumCode];datumDef&&(json.datum_params=datumDef.towgs84?datumDef.towgs84.split(","):null,json.ellps=datumDef.ellipse,json.datumName=datumDef.datumName?datumDef.datumName:json.datumCode)}if(!json.a){var ellipse=Ellipsoid[json.ellps]?Ellipsoid[json.ellps]:Ellipsoid.WGS84;extend(json,ellipse)}return json.rf&&!json.b&&(json.b=(1-1/json.rf)*json.a),(0===json.rf||Math.abs(json.a-json.b)<EPSLN)&&(json.sphere=!0,json.b=json.a),json.a2=json.a*json.a,json.b2=json.b*json.b,json.es=(json.a2-json.b2)/json.a2,json.e=Math.sqrt(json.es),json.R_A&&(json.a*=1-json.es*(SIXTH+json.es*(RA4+json.es*RA6)),json.a2=json.a*json.a,json.b2=json.b*json.b,json.es=0),json.ep2=(json.a2-json.b2)/json.b2,json.k0||(json.k0=1),json.axis||(json.axis="enu"),json.datum||(json.datum=datum(json)),json}},{"./constants/Datum":49,"./constants/Ellipsoid":50,"./datum":54,"./extend":58}],58:[function(require,module,exports){module.exports=function(destination,source){destination=destination||{};var value,property;if(!source)return destination;for(property in source)value=source[property],void 0!==value&&(destination[property]=value);return destination}},{}],59:[function(require,module,exports){module.exports=function(defs){defs("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),defs("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),defs("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),defs.WGS84=defs["EPSG:4326"],defs["EPSG:3785"]=defs["EPSG:3857"],defs.GOOGLE=defs["EPSG:3857"],defs["EPSG:900913"]=defs["EPSG:3857"],defs["EPSG:102113"]=defs["EPSG:3857"]}},{}],60:[function(require,module,exports){var projs=[require("./projections/tmerc"),require("./projections/utm"),require("./projections/sterea"),require("./projections/stere"),require("./projections/somerc"),require("./projections/omerc"),require("./projections/lcc"),require("./projections/krovak"),require("./projections/cass"),require("./projections/laea"),require("./projections/aea"),require("./projections/gnom"),require("./projections/cea"),require("./projections/eqc"),require("./projections/poly"),require("./projections/nzmg"),require("./projections/mill"),require("./projections/sinu"),require("./projections/moll"),require("./projections/eqdc"),require("./projections/vandg"),require("./projections/aeqd")];module.exports=function(proj4){projs.forEach(function(proj){proj4.Proj.projections.add(proj)})}},{"./projections/aea":65,"./projections/aeqd":66,"./projections/cass":67,"./projections/cea":68,"./projections/eqc":69,"./projections/eqdc":70,"./projections/gnom":72,"./projections/krovak":73,"./projections/laea":74,"./projections/lcc":75,"./projections/mill":78,"./projections/moll":79,"./projections/nzmg":80,"./projections/omerc":81,"./projections/poly":82,"./projections/sinu":83,"./projections/somerc":84,"./projections/stere":85,"./projections/sterea":86,"./projections/tmerc":87,"./projections/utm":88,"./projections/vandg":89}],61:[function(require,module,exports){var proj4=require("./core");proj4.defaultDatum="WGS84",proj4.Proj=require("./Proj"),proj4.WGS84=new proj4.Proj("WGS84"),proj4.Point=require("./Point"),proj4.toPoint=require("./common/toPoint"),proj4.defs=require("./defs"),proj4.transform=require("./transform"),proj4.mgrs=require("mgrs"),proj4.version=require("../package.json").version,require("./includedProjections")(proj4),module.exports=proj4},{"../package.json":93,"./Point":25,"./Proj":26,"./common/toPoint":47,"./core":53,"./defs":56,"./includedProjections":60,"./transform":90,mgrs:92}],62:[function(require,module,exports){function testObj(code){return"string"==typeof code}function testDef(code){return code in defs}function testWKT(code){var codeWords=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return codeWords.reduce(function(a,b){return a+1+code.indexOf(b)},0)}function testProj(code){return"+"===code[0]}function parse(code){return testObj(code)?testDef(code)?defs[code]:testWKT(code)?wkt(code):testProj(code)?projStr(code):void 0:code}var defs=require("./defs"),wkt=require("./wkt"),projStr=require("./projString");module.exports=parse},{"./defs":56,"./projString":63,"./wkt":91}],63:[function(require,module,exports){var D2R=.017453292519943295,PrimeMeridian=require("./constants/PrimeMeridian"),units=require("./constants/units");module.exports=function(defData){var self={},paramObj={};defData.split("+").map(function(v){return v.trim()}).filter(function(a){return a}).forEach(function(a){var split=a.split("=");split.push(!0),paramObj[split[0].toLowerCase()]=split[1]});var paramName,paramVal,paramOutname,params={proj:"projName",datum:"datumCode",rf:function(v){self.rf=parseFloat(v)},lat_0:function(v){self.lat0=v*D2R},lat_1:function(v){self.lat1=v*D2R},lat_2:function(v){self.lat2=v*D2R},lat_ts:function(v){self.lat_ts=v*D2R},lon_0:function(v){self.long0=v*D2R},lon_1:function(v){self.long1=v*D2R},lon_2:function(v){self.long2=v*D2R},alpha:function(v){self.alpha=parseFloat(v)*D2R},lonc:function(v){self.longc=v*D2R},x_0:function(v){self.x0=parseFloat(v)},y_0:function(v){self.y0=parseFloat(v)},k_0:function(v){self.k0=parseFloat(v)},k:function(v){self.k0=parseFloat(v)},a:function(v){self.a=parseFloat(v)},b:function(v){self.b=parseFloat(v)},r_a:function(){self.R_A=!0},zone:function(v){self.zone=parseInt(v,10)},south:function(){self.utmSouth=!0},towgs84:function(v){self.datum_params=v.split(",").map(function(a){return parseFloat(a)})},to_meter:function(v){self.to_meter=parseFloat(v)},units:function(v){self.units=v,units[v]&&(self.to_meter=units[v].to_meter)},from_greenwich:function(v){self.from_greenwich=v*D2R},pm:function(v){self.from_greenwich=(PrimeMeridian[v]?PrimeMeridian[v]:parseFloat(v))*D2R},nadgrids:function(v){"@null"===v?self.datumCode="none":self.nadgrids=v},axis:function(v){var legalAxis="ewnsud";3===v.length&&-1!==legalAxis.indexOf(v.substr(0,1))&&-1!==legalAxis.indexOf(v.substr(1,1))&&-1!==legalAxis.indexOf(v.substr(2,1))&&(self.axis=v)}};for(paramName in paramObj)paramVal=paramObj[paramName],paramName in params?(paramOutname=params[paramName],"function"==typeof paramOutname?paramOutname(paramVal):self[paramOutname]=paramVal):self[paramName]=paramVal;return"string"==typeof self.datumCode&&"WGS84"!==self.datumCode&&(self.datumCode=self.datumCode.toLowerCase()),self}},{"./constants/PrimeMeridian":51,"./constants/units":52}],64:[function(require,module,exports){function add(proj,i){var len=projStore.length;return proj.names?(projStore[len]=proj,proj.names.forEach(function(n){names[n.toLowerCase()]=len}),this):(console.log(i),!0)}var projs=[require("./projections/merc"),require("./projections/longlat")],names={},projStore=[];exports.add=add,exports.get=function(name){if(!name)return!1;var n=name.toLowerCase();return"undefined"!=typeof names[n]&&projStore[names[n]]?projStore[names[n]]:void 0},exports.start=function(){projs.forEach(add)}},{"./projections/longlat":76,"./projections/merc":77}],65:[function(require,module,exports){var EPSLN=1e-10,msfnz=require("../common/msfnz"),qsfnz=require("../common/qsfnz"),adjust_lon=require("../common/adjust_lon"),asinz=require("../common/asinz");exports.init=function(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=msfnz(this.e3,this.sin_po,this.cos_po),this.qs1=qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=msfnz(this.e3,this.sin_po,this.cos_po),this.qs2=qsfnz(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=qsfnz(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>EPSLN?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},exports.forward=function(p){var lon=p.x,lat=p.y;this.sin_phi=Math.sin(lat),this.cos_phi=Math.cos(lat);var qs=qsfnz(this.e3,this.sin_phi,this.cos_phi),rh1=this.a*Math.sqrt(this.c-this.ns0*qs)/this.ns0,theta=this.ns0*adjust_lon(lon-this.long0),x=rh1*Math.sin(theta)+this.x0,y=this.rh-rh1*Math.cos(theta)+this.y0;return p.x=x,p.y=y,p},exports.inverse=function(p){var rh1,qs,con,theta,lon,lat;return p.x-=this.x0,p.y=this.rh-p.y+this.y0,this.ns0>=0?(rh1=Math.sqrt(p.x*p.x+p.y*p.y),con=1):(rh1=-Math.sqrt(p.x*p.x+p.y*p.y),con=-1),theta=0,0!==rh1&&(theta=Math.atan2(con*p.x,con*p.y)),con=rh1*this.ns0/this.a,this.sphere?lat=Math.asin((this.c-con*con)/(2*this.ns0)):(qs=(this.c-con*con)/this.ns0,lat=this.phi1z(this.e3,qs)),lon=adjust_lon(theta/this.ns0+this.long0),p.x=lon,p.y=lat,p},exports.phi1z=function(eccent,qs){var sinphi,cosphi,con,com,dphi,phi=asinz(.5*qs);if(EPSLN>eccent)return phi;for(var eccnts=eccent*eccent,i=1;25>=i;i++)if(sinphi=Math.sin(phi),cosphi=Math.cos(phi),con=eccent*sinphi,com=1-con*con,dphi=.5*com*com/cosphi*(qs/(1-eccnts)-sinphi/com+.5/eccent*Math.log((1-con)/(1+con))),phi+=dphi,Math.abs(dphi)<=1e-7)return phi;return null},exports.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":29,"../common/asinz":30,"../common/msfnz":39,"../common/qsfnz":44}],66:[function(require,module,exports){var adjust_lon=require("../common/adjust_lon"),HALF_PI=Math.PI/2,EPSLN=1e-10,mlfn=require("../common/mlfn"),e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),gN=require("../common/gN"),asinz=require("../common/asinz"),imlfn=require("../common/imlfn");exports.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},exports.forward=function(p){var e0,e1,e2,e3,Mlp,Ml,tanphi,Nl1,Nl,psi,Az,G,H,GH,Hs,c,kp,cos_c,s,s2,s3,s4,s5,lon=p.x,lat=p.y,sinphi=Math.sin(p.y),cosphi=Math.cos(p.y),dlon=adjust_lon(lon-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=EPSLN?(p.x=this.x0+this.a*(HALF_PI-lat)*Math.sin(dlon),p.y=this.y0-this.a*(HALF_PI-lat)*Math.cos(dlon),p):Math.abs(this.sin_p12+1)<=EPSLN?(p.x=this.x0+this.a*(HALF_PI+lat)*Math.sin(dlon),p.y=this.y0+this.a*(HALF_PI+lat)*Math.cos(dlon),p):(cos_c=this.sin_p12*sinphi+this.cos_p12*cosphi*Math.cos(dlon),c=Math.acos(cos_c),kp=c/Math.sin(c),p.x=this.x0+this.a*kp*cosphi*Math.sin(dlon),p.y=this.y0+this.a*kp*(this.cos_p12*sinphi-this.sin_p12*cosphi*Math.cos(dlon)),p):(e0=e0fn(this.es),e1=e1fn(this.es),e2=e2fn(this.es),e3=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),Ml=this.a*mlfn(e0,e1,e2,e3,lat),p.x=this.x0+(Mlp-Ml)*Math.sin(dlon),p.y=this.y0-(Mlp-Ml)*Math.cos(dlon),p):Math.abs(this.sin_p12+1)<=EPSLN?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),Ml=this.a*mlfn(e0,e1,e2,e3,lat),p.x=this.x0+(Mlp+Ml)*Math.sin(dlon),p.y=this.y0+(Mlp+Ml)*Math.cos(dlon),p):(tanphi=sinphi/cosphi,Nl1=gN(this.a,this.e,this.sin_p12),Nl=gN(this.a,this.e,sinphi),psi=Math.atan((1-this.es)*tanphi+this.es*Nl1*this.sin_p12/(Nl*cosphi)),Az=Math.atan2(Math.sin(dlon),this.cos_p12*Math.tan(psi)-this.sin_p12*Math.cos(dlon)),s=0===Az?Math.asin(this.cos_p12*Math.sin(psi)-this.sin_p12*Math.cos(psi)):Math.abs(Math.abs(Az)-Math.PI)<=EPSLN?-Math.asin(this.cos_p12*Math.sin(psi)-this.sin_p12*Math.cos(psi)):Math.asin(Math.sin(dlon)*Math.cos(psi)/Math.sin(Az)),G=this.e*this.sin_p12/Math.sqrt(1-this.es),H=this.e*this.cos_p12*Math.cos(Az)/Math.sqrt(1-this.es),GH=G*H,Hs=H*H,s2=s*s,s3=s2*s,s4=s3*s,s5=s4*s,c=Nl1*s*(1-s2*Hs*(1-Hs)/6+s3/8*GH*(1-2*Hs)+s4/120*(Hs*(4-7*Hs)-3*G*G*(1-7*Hs))-s5/48*GH),p.x=this.x0+c*Math.sin(Az),p.y=this.y0+c*Math.cos(Az),p))},exports.inverse=function(p){p.x-=this.x0,p.y-=this.y0;var rh,z,sinz,cosz,lon,lat,con,e0,e1,e2,e3,Mlp,M,N1,psi,Az,cosAz,tmp,A,B,D,Ee,F;if(this.sphere){if(rh=Math.sqrt(p.x*p.x+p.y*p.y),rh>2*HALF_PI*this.a)return;return z=rh/this.a,sinz=Math.sin(z),cosz=Math.cos(z),lon=this.long0,Math.abs(rh)<=EPSLN?lat=this.lat0:(lat=asinz(cosz*this.sin_p12+p.y*sinz*this.cos_p12/rh),con=Math.abs(this.lat0)-HALF_PI,lon=adjust_lon(Math.abs(con)<=EPSLN?this.lat0>=0?this.long0+Math.atan2(p.x,-p.y):this.long0-Math.atan2(-p.x,p.y):this.long0+Math.atan2(p.x*sinz,rh*this.cos_p12*cosz-p.y*this.sin_p12*sinz))),p.x=lon,p.y=lat,p}return e0=e0fn(this.es),e1=e1fn(this.es),e2=e2fn(this.es),e3=e3fn(this.es),Math.abs(this.sin_p12-1)<=EPSLN?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),rh=Math.sqrt(p.x*p.x+p.y*p.y),M=Mlp-rh,lat=imlfn(M/this.a,e0,e1,e2,e3),lon=adjust_lon(this.long0+Math.atan2(p.x,-1*p.y)),p.x=lon,p.y=lat,p):Math.abs(this.sin_p12+1)<=EPSLN?(Mlp=this.a*mlfn(e0,e1,e2,e3,HALF_PI),rh=Math.sqrt(p.x*p.x+p.y*p.y),M=rh-Mlp,lat=imlfn(M/this.a,e0,e1,e2,e3),lon=adjust_lon(this.long0+Math.atan2(p.x,p.y)),
p.x=lon,p.y=lat,p):(rh=Math.sqrt(p.x*p.x+p.y*p.y),Az=Math.atan2(p.x,p.y),N1=gN(this.a,this.e,this.sin_p12),cosAz=Math.cos(Az),tmp=this.e*this.cos_p12*cosAz,A=-tmp*tmp/(1-this.es),B=3*this.es*(1-A)*this.sin_p12*this.cos_p12*cosAz/(1-this.es),D=rh/N1,Ee=D-A*(1+A)*Math.pow(D,3)/6-B*(1+3*A)*Math.pow(D,4)/24,F=1-A*Ee*Ee/2-D*Ee*Ee*Ee/6,psi=Math.asin(this.sin_p12*Math.cos(Ee)+this.cos_p12*Math.sin(Ee)*cosAz),lon=adjust_lon(this.long0+Math.asin(Math.sin(Az)*Math.sin(Ee)/Math.cos(psi))),lat=Math.atan((1-this.es*F*this.sin_p12/Math.sin(psi))*Math.tan(psi)/(1-this.es)),p.x=lon,p.y=lat,p)},exports.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":29,"../common/asinz":30,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/gN":35,"../common/imlfn":36,"../common/mlfn":38}],67:[function(require,module,exports){var mlfn=require("../common/mlfn"),e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),gN=require("../common/gN"),adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat"),imlfn=require("../common/imlfn"),HALF_PI=Math.PI/2,EPSLN=1e-10;exports.init=function(){this.sphere||(this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0))},exports.forward=function(p){var x,y,lam=p.x,phi=p.y;if(lam=adjust_lon(lam-this.long0),this.sphere)x=this.a*Math.asin(Math.cos(phi)*Math.sin(lam)),y=this.a*(Math.atan2(Math.tan(phi),Math.cos(lam))-this.lat0);else{var sinphi=Math.sin(phi),cosphi=Math.cos(phi),nl=gN(this.a,this.e,sinphi),tl=Math.tan(phi)*Math.tan(phi),al=lam*Math.cos(phi),asq=al*al,cl=this.es*cosphi*cosphi/(1-this.es),ml=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,phi);x=nl*al*(1-asq*tl*(1/6-(8-tl+8*cl)*asq/120)),y=ml-this.ml0+nl*sinphi/cosphi*asq*(.5+(5-tl+6*cl)*asq/24)}return p.x=x+this.x0,p.y=y+this.y0,p},exports.inverse=function(p){p.x-=this.x0,p.y-=this.y0;var phi,lam,x=p.x/this.a,y=p.y/this.a;if(this.sphere){var dd=y+this.lat0;phi=Math.asin(Math.sin(dd)*Math.cos(x)),lam=Math.atan2(Math.tan(x),Math.cos(dd))}else{var ml1=this.ml0/this.a+y,phi1=imlfn(ml1,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(phi1)-HALF_PI)<=EPSLN)return p.x=this.long0,p.y=HALF_PI,0>y&&(p.y*=-1),p;var nl1=gN(this.a,this.e,Math.sin(phi1)),rl1=nl1*nl1*nl1/this.a/this.a*(1-this.es),tl1=Math.pow(Math.tan(phi1),2),dl=x*this.a/nl1,dsq=dl*dl;phi=phi1-nl1*Math.tan(phi1)/rl1*dl*dl*(.5-(1+3*tl1)*dl*dl/24),lam=dl*(1-dsq*(tl1/3+(1+3*tl1)*tl1*dsq/15))/Math.cos(phi1)}return p.x=adjust_lon(lam+this.long0),p.y=adjust_lat(phi),p},exports.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":28,"../common/adjust_lon":29,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/gN":35,"../common/imlfn":36,"../common/mlfn":38}],68:[function(require,module,exports){var adjust_lon=require("../common/adjust_lon"),qsfnz=require("../common/qsfnz"),msfnz=require("../common/msfnz"),iqsfnz=require("../common/iqsfnz");exports.init=function(){this.sphere||(this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},exports.forward=function(p){var x,y,lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0);if(this.sphere)x=this.x0+this.a*dlon*Math.cos(this.lat_ts),y=this.y0+this.a*Math.sin(lat)/Math.cos(this.lat_ts);else{var qs=qsfnz(this.e,Math.sin(lat));x=this.x0+this.a*this.k0*dlon,y=this.y0+this.a*qs*.5/this.k0}return p.x=x,p.y=y,p},exports.inverse=function(p){p.x-=this.x0,p.y-=this.y0;var lon,lat;return this.sphere?(lon=adjust_lon(this.long0+p.x/this.a/Math.cos(this.lat_ts)),lat=Math.asin(p.y/this.a*Math.cos(this.lat_ts))):(lat=iqsfnz(this.e,2*p.y*this.k0/this.a),lon=adjust_lon(this.long0+p.x/(this.a*this.k0))),p.x=lon,p.y=lat,p},exports.names=["cea"]},{"../common/adjust_lon":29,"../common/iqsfnz":37,"../common/msfnz":39,"../common/qsfnz":44}],69:[function(require,module,exports){var adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat");exports.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},exports.forward=function(p){var lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0),dlat=adjust_lat(lat-this.lat0);return p.x=this.x0+this.a*dlon*this.rc,p.y=this.y0+this.a*dlat,p},exports.inverse=function(p){var x=p.x,y=p.y;return p.x=adjust_lon(this.long0+(x-this.x0)/(this.a*this.rc)),p.y=adjust_lat(this.lat0+(y-this.y0)/this.a),p},exports.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":28,"../common/adjust_lon":29}],70:[function(require,module,exports){var e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),msfnz=require("../common/msfnz"),mlfn=require("../common/mlfn"),adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat"),imlfn=require("../common/imlfn"),EPSLN=1e-10;exports.init=function(){Math.abs(this.lat1+this.lat2)<EPSLN||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=msfnz(this.e,this.sinphi,this.cosphi),this.ml1=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<EPSLN?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=msfnz(this.e,this.sinphi,this.cosphi),this.ml2=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},exports.forward=function(p){var rh1,lon=p.x,lat=p.y;if(this.sphere)rh1=this.a*(this.g-lat);else{var ml=mlfn(this.e0,this.e1,this.e2,this.e3,lat);rh1=this.a*(this.g-ml)}var theta=this.ns*adjust_lon(lon-this.long0),x=this.x0+rh1*Math.sin(theta),y=this.y0+this.rh-rh1*Math.cos(theta);return p.x=x,p.y=y,p},exports.inverse=function(p){p.x-=this.x0,p.y=this.rh-p.y+this.y0;var con,rh1,lat,lon;this.ns>=0?(rh1=Math.sqrt(p.x*p.x+p.y*p.y),con=1):(rh1=-Math.sqrt(p.x*p.x+p.y*p.y),con=-1);var theta=0;if(0!==rh1&&(theta=Math.atan2(con*p.x,con*p.y)),this.sphere)return lon=adjust_lon(this.long0+theta/this.ns),lat=adjust_lat(this.g-rh1/this.a),p.x=lon,p.y=lat,p;var ml=this.g-rh1/this.a;return lat=imlfn(ml,this.e0,this.e1,this.e2,this.e3),lon=adjust_lon(this.long0+theta/this.ns),p.x=lon,p.y=lat,p},exports.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":28,"../common/adjust_lon":29,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/imlfn":36,"../common/mlfn":38,"../common/msfnz":39}],71:[function(require,module,exports){var FORTPI=Math.PI/4,srat=require("../common/srat"),HALF_PI=Math.PI/2,MAX_ITER=20;exports.init=function(){var sphi=Math.sin(this.lat0),cphi=Math.cos(this.lat0);cphi*=cphi,this.rc=Math.sqrt(1-this.es)/(1-this.es*sphi*sphi),this.C=Math.sqrt(1+this.es*cphi*cphi/(1-this.es)),this.phic0=Math.asin(sphi/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+FORTPI)/(Math.pow(Math.tan(.5*this.lat0+FORTPI),this.C)*srat(this.e*sphi,this.ratexp))},exports.forward=function(p){var lon=p.x,lat=p.y;return p.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*lat+FORTPI),this.C)*srat(this.e*Math.sin(lat),this.ratexp))-HALF_PI,p.x=this.C*lon,p},exports.inverse=function(p){for(var DEL_TOL=1e-14,lon=p.x/this.C,lat=p.y,num=Math.pow(Math.tan(.5*lat+FORTPI)/this.K,1/this.C),i=MAX_ITER;i>0&&(lat=2*Math.atan(num*srat(this.e*Math.sin(p.y),-.5*this.e))-HALF_PI,!(Math.abs(lat-p.y)<DEL_TOL));--i)p.y=lat;return i?(p.x=lon,p.y=lat,p):null},exports.names=["gauss"]},{"../common/srat":46}],72:[function(require,module,exports){var adjust_lon=require("../common/adjust_lon"),EPSLN=1e-10,asinz=require("../common/asinz");exports.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},exports.forward=function(p){var sinphi,cosphi,dlon,coslon,ksp,g,x,y,lon=p.x,lat=p.y;return dlon=adjust_lon(lon-this.long0),sinphi=Math.sin(lat),cosphi=Math.cos(lat),coslon=Math.cos(dlon),g=this.sin_p14*sinphi+this.cos_p14*cosphi*coslon,ksp=1,g>0||Math.abs(g)<=EPSLN?(x=this.x0+this.a*ksp*cosphi*Math.sin(dlon)/g,y=this.y0+this.a*ksp*(this.cos_p14*sinphi-this.sin_p14*cosphi*coslon)/g):(x=this.x0+this.infinity_dist*cosphi*Math.sin(dlon),y=this.y0+this.infinity_dist*(this.cos_p14*sinphi-this.sin_p14*cosphi*coslon)),p.x=x,p.y=y,p},exports.inverse=function(p){var rh,sinc,cosc,c,lon,lat;return p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,(rh=Math.sqrt(p.x*p.x+p.y*p.y))?(c=Math.atan2(rh,this.rc),sinc=Math.sin(c),cosc=Math.cos(c),lat=asinz(cosc*this.sin_p14+p.y*sinc*this.cos_p14/rh),lon=Math.atan2(p.x*sinc,rh*this.cos_p14*cosc-p.y*this.sin_p14*sinc),lon=adjust_lon(this.long0+lon)):(lat=this.phic0,lon=0),p.x=lon,p.y=lat,p},exports.names=["gnom"]},{"../common/adjust_lon":29,"../common/asinz":30}],73:[function(require,module,exports){var adjust_lon=require("../common/adjust_lon");exports.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},exports.forward=function(p){var gfi,u,deltav,s,d,eps,ro,lon=p.x,lat=p.y,delta_lon=adjust_lon(lon-this.long0);return gfi=Math.pow((1+this.e*Math.sin(lat))/(1-this.e*Math.sin(lat)),this.alfa*this.e/2),u=2*(Math.atan(this.k*Math.pow(Math.tan(lat/2+this.s45),this.alfa)/gfi)-this.s45),deltav=-delta_lon*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(u)+Math.sin(this.ad)*Math.cos(u)*Math.cos(deltav)),d=Math.asin(Math.cos(u)*Math.sin(deltav)/Math.cos(s)),eps=this.n*d,ro=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),p.y=ro*Math.cos(eps)/1,p.x=ro*Math.sin(eps)/1,this.czech||(p.y*=-1,p.x*=-1),p},exports.inverse=function(p){var u,deltav,s,d,eps,ro,fi1,ok,tmp=p.x;p.x=p.y,p.y=tmp,this.czech||(p.y*=-1,p.x*=-1),ro=Math.sqrt(p.x*p.x+p.y*p.y),eps=Math.atan2(p.y,p.x),d=eps/Math.sin(this.s0),s=2*(Math.atan(Math.pow(this.ro0/ro,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),u=Math.asin(Math.cos(this.ad)*Math.sin(s)-Math.sin(this.ad)*Math.cos(s)*Math.cos(d)),deltav=Math.asin(Math.cos(s)*Math.sin(d)/Math.cos(u)),p.x=this.long0-deltav/this.alfa,fi1=u,ok=0;var iter=0;do p.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(u/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(fi1))/(1-this.e*Math.sin(fi1)),this.e/2))-this.s45),Math.abs(fi1-p.y)<1e-10&&(ok=1),fi1=p.y,iter+=1;while(0===ok&&15>iter);return iter>=15?null:p},exports.names=["Krovak","krovak"]},{"../common/adjust_lon":29}],74:[function(require,module,exports){var HALF_PI=Math.PI/2,FORTPI=Math.PI/4,EPSLN=1e-10,qsfnz=require("../common/qsfnz"),adjust_lon=require("../common/adjust_lon");exports.S_POLE=1,exports.N_POLE=2,exports.EQUIT=3,exports.OBLIQ=4,exports.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-HALF_PI)<EPSLN?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<EPSLN?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var sinphi;switch(this.qp=qsfnz(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),sinphi=Math.sin(this.lat0),this.sinb1=qsfnz(this.e,sinphi)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*sinphi*sinphi)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},exports.forward=function(p){var x,y,coslam,sinlam,sinphi,q,sinb,cosb,b,cosphi,lam=p.x,phi=p.y;if(lam=adjust_lon(lam-this.long0),this.sphere){if(sinphi=Math.sin(phi),cosphi=Math.cos(phi),coslam=Math.cos(lam),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(y=this.mode===this.EQUIT?1+cosphi*coslam:1+this.sinph0*sinphi+this.cosph0*cosphi*coslam,EPSLN>=y)return null;y=Math.sqrt(2/y),x=y*cosphi*Math.sin(lam),y*=this.mode===this.EQUIT?sinphi:this.cosph0*sinphi-this.sinph0*cosphi*coslam}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(coslam=-coslam),Math.abs(phi+this.phi0)<EPSLN)return null;y=FORTPI-.5*phi,y=2*(this.mode===this.S_POLE?Math.cos(y):Math.sin(y)),x=y*Math.sin(lam),y*=coslam}}else{switch(sinb=0,cosb=0,b=0,coslam=Math.cos(lam),sinlam=Math.sin(lam),sinphi=Math.sin(phi),q=qsfnz(this.e,sinphi),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(sinb=q/this.qp,cosb=Math.sqrt(1-sinb*sinb)),this.mode){case this.OBLIQ:b=1+this.sinb1*sinb+this.cosb1*cosb*coslam;break;case this.EQUIT:b=1+cosb*coslam;break;case this.N_POLE:b=HALF_PI+phi,q=this.qp-q;break;case this.S_POLE:b=phi-HALF_PI,q=this.qp+q}if(Math.abs(b)<EPSLN)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:b=Math.sqrt(2/b),y=this.mode===this.OBLIQ?this.ymf*b*(this.cosb1*sinb-this.sinb1*cosb*coslam):(b=Math.sqrt(2/(1+cosb*coslam)))*sinb*this.ymf,x=this.xmf*b*cosb*sinlam;break;case this.N_POLE:case this.S_POLE:q>=0?(x=(b=Math.sqrt(q))*sinlam,y=coslam*(this.mode===this.S_POLE?b:-b)):x=y=0}}return p.x=this.a*x+this.x0,p.y=this.a*y+this.y0,p},exports.inverse=function(p){p.x-=this.x0,p.y-=this.y0;var lam,phi,cCe,sCe,q,rho,ab,x=p.x/this.a,y=p.y/this.a;if(this.sphere){var rh,cosz=0,sinz=0;if(rh=Math.sqrt(x*x+y*y),phi=.5*rh,phi>1)return null;switch(phi=2*Math.asin(phi),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(sinz=Math.sin(phi),cosz=Math.cos(phi)),this.mode){case this.EQUIT:phi=Math.abs(rh)<=EPSLN?0:Math.asin(y*sinz/rh),x*=sinz,y=cosz*rh;break;case this.OBLIQ:phi=Math.abs(rh)<=EPSLN?this.phi0:Math.asin(cosz*this.sinph0+y*sinz*this.cosph0/rh),x*=sinz*this.cosph0,y=(cosz-Math.sin(phi)*this.sinph0)*rh;break;case this.N_POLE:y=-y,phi=HALF_PI-phi;break;case this.S_POLE:phi-=HALF_PI}lam=0!==y||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(x,y):0}else{if(ab=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(x/=this.dd,y*=this.dd,rho=Math.sqrt(x*x+y*y),EPSLN>rho)return p.x=0,p.y=this.phi0,p;sCe=2*Math.asin(.5*rho/this.rq),cCe=Math.cos(sCe),x*=sCe=Math.sin(sCe),this.mode===this.OBLIQ?(ab=cCe*this.sinb1+y*sCe*this.cosb1/rho,q=this.qp*ab,y=rho*this.cosb1*cCe-y*this.sinb1*sCe):(ab=y*sCe/rho,q=this.qp*ab,y=rho*cCe)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(y=-y),q=x*x+y*y,!q)return p.x=0,p.y=this.phi0,p;ab=1-q/this.qp,this.mode===this.S_POLE&&(ab=-ab)}lam=Math.atan2(x,y),phi=this.authlat(Math.asin(ab),this.apa)}return p.x=adjust_lon(this.long0+lam),p.y=phi,p},exports.P00=.3333333333333333,exports.P01=.17222222222222222,exports.P02=.10257936507936508,exports.P10=.06388888888888888,exports.P11=.0664021164021164,exports.P20=.016415012942191543,exports.authset=function(es){var t,APA=[];return APA[0]=es*this.P00,t=es*es,APA[0]+=t*this.P01,APA[1]=t*this.P10,t*=es,APA[0]+=t*this.P02,APA[1]+=t*this.P11,APA[2]=t*this.P20,APA},exports.authlat=function(beta,APA){var t=beta+beta;return beta+APA[0]*Math.sin(t)+APA[1]*Math.sin(t+t)+APA[2]*Math.sin(t+t+t)},exports.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":29,"../common/qsfnz":44}],75:[function(require,module,exports){var EPSLN=1e-10,msfnz=require("../common/msfnz"),tsfnz=require("../common/tsfnz"),HALF_PI=Math.PI/2,sign=require("../common/sign"),adjust_lon=require("../common/adjust_lon"),phi2z=require("../common/phi2z");exports.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<EPSLN)){var temp=this.b/this.a;this.e=Math.sqrt(1-temp*temp);var sin1=Math.sin(this.lat1),cos1=Math.cos(this.lat1),ms1=msfnz(this.e,sin1,cos1),ts1=tsfnz(this.e,this.lat1,sin1),sin2=Math.sin(this.lat2),cos2=Math.cos(this.lat2),ms2=msfnz(this.e,sin2,cos2),ts2=tsfnz(this.e,this.lat2,sin2),ts0=tsfnz(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>EPSLN?this.ns=Math.log(ms1/ms2)/Math.log(ts1/ts2):this.ns=sin1,isNaN(this.ns)&&(this.ns=sin1),this.f0=ms1/(this.ns*Math.pow(ts1,this.ns)),this.rh=this.a*this.f0*Math.pow(ts0,this.ns),this.title||(this.title="Lambert Conformal Conic")}},exports.forward=function(p){var lon=p.x,lat=p.y;Math.abs(2*Math.abs(lat)-Math.PI)<=EPSLN&&(lat=sign(lat)*(HALF_PI-2*EPSLN));var ts,rh1,con=Math.abs(Math.abs(lat)-HALF_PI);if(con>EPSLN)ts=tsfnz(this.e,lat,Math.sin(lat)),rh1=this.a*this.f0*Math.pow(ts,this.ns);else{if(con=lat*this.ns,0>=con)return null;rh1=0}var theta=this.ns*adjust_lon(lon-this.long0);return p.x=this.k0*(rh1*Math.sin(theta))+this.x0,p.y=this.k0*(this.rh-rh1*Math.cos(theta))+this.y0,p},exports.inverse=function(p){var rh1,con,ts,lat,lon,x=(p.x-this.x0)/this.k0,y=this.rh-(p.y-this.y0)/this.k0;this.ns>0?(rh1=Math.sqrt(x*x+y*y),con=1):(rh1=-Math.sqrt(x*x+y*y),con=-1);var theta=0;if(0!==rh1&&(theta=Math.atan2(con*x,con*y)),0!==rh1||this.ns>0){if(con=1/this.ns,ts=Math.pow(rh1/(this.a*this.f0),con),lat=phi2z(this.e,ts),-9999===lat)return null}else lat=-HALF_PI;return lon=adjust_lon(theta/this.ns+this.long0),p.x=lon,p.y=lat,p},exports.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":29,"../common/msfnz":39,"../common/phi2z":40,"../common/sign":45,"../common/tsfnz":48}],76:[function(require,module,exports){function identity(pt){return pt}exports.init=function(){},exports.forward=identity,exports.inverse=identity,exports.names=["longlat","identity"]},{}],77:[function(require,module,exports){var msfnz=require("../common/msfnz"),HALF_PI=Math.PI/2,EPSLN=1e-10,R2D=57.29577951308232,adjust_lon=require("../common/adjust_lon"),FORTPI=Math.PI/4,tsfnz=require("../common/tsfnz"),phi2z=require("../common/phi2z");exports.init=function(){var con=this.b/this.a;this.es=1-con*con,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},exports.forward=function(p){var lon=p.x,lat=p.y;if(lat*R2D>90&&-90>lat*R2D&&lon*R2D>180&&-180>lon*R2D)return null;var x,y;if(Math.abs(Math.abs(lat)-HALF_PI)<=EPSLN)return null;if(this.sphere)x=this.x0+this.a*this.k0*adjust_lon(lon-this.long0),y=this.y0+this.a*this.k0*Math.log(Math.tan(FORTPI+.5*lat));else{var sinphi=Math.sin(lat),ts=tsfnz(this.e,lat,sinphi);x=this.x0+this.a*this.k0*adjust_lon(lon-this.long0),y=this.y0-this.a*this.k0*Math.log(ts)}return p.x=x,p.y=y,p},exports.inverse=function(p){var lon,lat,x=p.x-this.x0,y=p.y-this.y0;if(this.sphere)lat=HALF_PI-2*Math.atan(Math.exp(-y/(this.a*this.k0)));else{var ts=Math.exp(-y/(this.a*this.k0));if(lat=phi2z(this.e,ts),-9999===lat)return null}return lon=adjust_lon(this.long0+x/(this.a*this.k0)),p.x=lon,p.y=lat,p},exports.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":29,"../common/msfnz":39,"../common/phi2z":40,"../common/tsfnz":48}],78:[function(require,module,exports){var adjust_lon=require("../common/adjust_lon");exports.init=function(){},exports.forward=function(p){var lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0),x=this.x0+this.a*dlon,y=this.y0+this.a*Math.log(Math.tan(Math.PI/4+lat/2.5))*1.25;return p.x=x,p.y=y,p},exports.inverse=function(p){p.x-=this.x0,p.y-=this.y0;var lon=adjust_lon(this.long0+p.x/this.a),lat=2.5*(Math.atan(Math.exp(.8*p.y/this.a))-Math.PI/4);return p.x=lon,p.y=lat,p},exports.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":29}],79:[function(require,module,exports){var adjust_lon=require("../common/adjust_lon"),EPSLN=1e-10;exports.init=function(){},exports.forward=function(p){for(var lon=p.x,lat=p.y,delta_lon=adjust_lon(lon-this.long0),theta=lat,con=Math.PI*Math.sin(lat),i=0;!0;i++){var delta_theta=-(theta+Math.sin(theta)-con)/(1+Math.cos(theta));if(theta+=delta_theta,Math.abs(delta_theta)<EPSLN)break}theta/=2,Math.PI/2-Math.abs(lat)<EPSLN&&(delta_lon=0);var x=.900316316158*this.a*delta_lon*Math.cos(theta)+this.x0,y=1.4142135623731*this.a*Math.sin(theta)+this.y0;return p.x=x,p.y=y,p},exports.inverse=function(p){var theta,arg;p.x-=this.x0,p.y-=this.y0,arg=p.y/(1.4142135623731*this.a),Math.abs(arg)>.999999999999&&(arg=.999999999999),theta=Math.asin(arg);var lon=adjust_lon(this.long0+p.x/(.900316316158*this.a*Math.cos(theta)));lon<-Math.PI&&(lon=-Math.PI),lon>Math.PI&&(lon=Math.PI),arg=(2*theta+Math.sin(2*theta))/Math.PI,Math.abs(arg)>1&&(arg=1);var lat=Math.asin(arg);return p.x=lon,p.y=lat,p},exports.names=["Mollweide","moll"]},{"../common/adjust_lon":29}],80:[function(require,module,exports){var SEC_TO_RAD=484813681109536e-20;exports.iterations=1,exports.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},exports.forward=function(p){var n,lon=p.x,lat=p.y,delta_lat=lat-this.lat0,delta_lon=lon-this.long0,d_phi=delta_lat/SEC_TO_RAD*1e-5,d_lambda=delta_lon,d_phi_n=1,d_psi=0;for(n=1;10>=n;n++)d_phi_n*=d_phi,d_psi+=this.A[n]*d_phi_n;var th_n_re1,th_n_im1,th_re=d_psi,th_im=d_lambda,th_n_re=1,th_n_im=0,z_re=0,z_im=0;for(n=1;6>=n;n++)th_n_re1=th_n_re*th_re-th_n_im*th_im,th_n_im1=th_n_im*th_re+th_n_re*th_im,th_n_re=th_n_re1,th_n_im=th_n_im1,z_re=z_re+this.B_re[n]*th_n_re-this.B_im[n]*th_n_im,z_im=z_im+this.B_im[n]*th_n_re+this.B_re[n]*th_n_im;return p.x=z_im*this.a+this.x0,p.y=z_re*this.a+this.y0,p},exports.inverse=function(p){var n,z_n_re1,z_n_im1,x=p.x,y=p.y,delta_x=x-this.x0,delta_y=y-this.y0,z_re=delta_y/this.a,z_im=delta_x/this.a,z_n_re=1,z_n_im=0,th_re=0,th_im=0;for(n=1;6>=n;n++)z_n_re1=z_n_re*z_re-z_n_im*z_im,z_n_im1=z_n_im*z_re+z_n_re*z_im,z_n_re=z_n_re1,z_n_im=z_n_im1,th_re=th_re+this.C_re[n]*z_n_re-this.C_im[n]*z_n_im,th_im=th_im+this.C_im[n]*z_n_re+this.C_re[n]*z_n_im;for(var i=0;i<this.iterations;i++){var th_n_re1,th_n_im1,th_n_re=th_re,th_n_im=th_im,num_re=z_re,num_im=z_im;for(n=2;6>=n;n++)th_n_re1=th_n_re*th_re-th_n_im*th_im,th_n_im1=th_n_im*th_re+th_n_re*th_im,th_n_re=th_n_re1,th_n_im=th_n_im1,num_re+=(n-1)*(this.B_re[n]*th_n_re-this.B_im[n]*th_n_im),num_im+=(n-1)*(this.B_im[n]*th_n_re+this.B_re[n]*th_n_im);th_n_re=1,th_n_im=0;var den_re=this.B_re[1],den_im=this.B_im[1];for(n=2;6>=n;n++)th_n_re1=th_n_re*th_re-th_n_im*th_im,th_n_im1=th_n_im*th_re+th_n_re*th_im,th_n_re=th_n_re1,th_n_im=th_n_im1,den_re+=n*(this.B_re[n]*th_n_re-this.B_im[n]*th_n_im),den_im+=n*(this.B_im[n]*th_n_re+this.B_re[n]*th_n_im);var den2=den_re*den_re+den_im*den_im;th_re=(num_re*den_re+num_im*den_im)/den2,th_im=(num_im*den_re-num_re*den_im)/den2}var d_psi=th_re,d_lambda=th_im,d_psi_n=1,d_phi=0;for(n=1;9>=n;n++)d_psi_n*=d_psi,d_phi+=this.D[n]*d_psi_n;var lat=this.lat0+d_phi*SEC_TO_RAD*1e5,lon=this.long0+d_lambda;return p.x=lon,p.y=lat,p},exports.names=["New_Zealand_Map_Grid","nzmg"]},{}],81:[function(require,module,exports){var tsfnz=require("../common/tsfnz"),adjust_lon=require("../common/adjust_lon"),phi2z=require("../common/phi2z"),HALF_PI=Math.PI/2,FORTPI=Math.PI/4,EPSLN=1e-10;exports.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var sinlat=Math.sin(this.lat0),coslat=Math.cos(this.lat0),con=this.e*sinlat;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(coslat,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-con*con);var t0=tsfnz(this.e,this.lat0,sinlat),dl=this.bl/coslat*Math.sqrt((1-this.es)/(1-con*con));1>dl*dl&&(dl=1);var fl,gl;if(isNaN(this.longc)){var t1=tsfnz(this.e,this.lat1,Math.sin(this.lat1)),t2=tsfnz(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(dl+Math.sqrt(dl*dl-1))*Math.pow(t0,this.bl):this.el=(dl-Math.sqrt(dl*dl-1))*Math.pow(t0,this.bl);var hl=Math.pow(t1,this.bl),ll=Math.pow(t2,this.bl);fl=this.el/hl,gl=.5*(fl-1/fl);var jl=(this.el*this.el-ll*hl)/(this.el*this.el+ll*hl),pl=(ll-hl)/(ll+hl),dlon12=adjust_lon(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(jl*Math.tan(.5*this.bl*dlon12)/pl)/this.bl,this.long0=adjust_lon(this.long0);var dlon10=adjust_lon(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*dlon10)/gl),this.alpha=Math.asin(dl*Math.sin(this.gamma0))}else fl=this.lat0>=0?dl+Math.sqrt(dl*dl-1):dl-Math.sqrt(dl*dl-1),this.el=fl*Math.pow(t0,this.bl),gl=.5*(fl-1/fl),this.gamma0=Math.asin(Math.sin(this.alpha)/dl),this.long0=this.longc-Math.asin(gl*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(dl*dl-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(dl*dl-1),Math.cos(this.alpha))},exports.forward=function(p){var us,vs,con,lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0);if(Math.abs(Math.abs(lat)-HALF_PI)<=EPSLN)con=lat>0?-1:1,vs=this.al/this.bl*Math.log(Math.tan(FORTPI+con*this.gamma0*.5)),us=-1*con*HALF_PI*this.al/this.bl;else{var t=tsfnz(this.e,lat,Math.sin(lat)),ql=this.el/Math.pow(t,this.bl),sl=.5*(ql-1/ql),tl=.5*(ql+1/ql),vl=Math.sin(this.bl*dlon),ul=(sl*Math.sin(this.gamma0)-vl*Math.cos(this.gamma0))/tl;vs=Math.abs(Math.abs(ul)-1)<=EPSLN?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-ul)/(1+ul))/this.bl,us=Math.abs(Math.cos(this.bl*dlon))<=EPSLN?this.al*this.bl*dlon:this.al*Math.atan2(sl*Math.cos(this.gamma0)+vl*Math.sin(this.gamma0),Math.cos(this.bl*dlon))/this.bl}return this.no_rot?(p.x=this.x0+us,p.y=this.y0+vs):(us-=this.uc,p.x=this.x0+vs*Math.cos(this.alpha)+us*Math.sin(this.alpha),p.y=this.y0+us*Math.cos(this.alpha)-vs*Math.sin(this.alpha)),p},exports.inverse=function(p){var us,vs;this.no_rot?(vs=p.y-this.y0,us=p.x-this.x0):(vs=(p.x-this.x0)*Math.cos(this.alpha)-(p.y-this.y0)*Math.sin(this.alpha),us=(p.y-this.y0)*Math.cos(this.alpha)+(p.x-this.x0)*Math.sin(this.alpha),us+=this.uc);var qp=Math.exp(-1*this.bl*vs/this.al),sp=.5*(qp-1/qp),tp=.5*(qp+1/qp),vp=Math.sin(this.bl*us/this.al),up=(vp*Math.cos(this.gamma0)+sp*Math.sin(this.gamma0))/tp,ts=Math.pow(this.el/Math.sqrt((1+up)/(1-up)),1/this.bl);return Math.abs(up-1)<EPSLN?(p.x=this.long0,p.y=HALF_PI):Math.abs(up+1)<EPSLN?(p.x=this.long0,p.y=-1*HALF_PI):(p.y=phi2z(this.e,ts),p.x=adjust_lon(this.long0-Math.atan2(sp*Math.cos(this.gamma0)-vp*Math.sin(this.gamma0),Math.cos(this.bl*us/this.al))/this.bl)),p},exports.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":29,"../common/phi2z":40,"../common/tsfnz":48}],82:[function(require,module,exports){var e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat"),mlfn=require("../common/mlfn"),EPSLN=1e-10,gN=require("../common/gN"),MAX_ITER=20;exports.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},exports.forward=function(p){var x,y,el,lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0);if(el=dlon*Math.sin(lat),this.sphere)Math.abs(lat)<=EPSLN?(x=this.a*dlon,y=-1*this.a*this.lat0):(x=this.a*Math.sin(el)/Math.tan(lat),y=this.a*(adjust_lat(lat-this.lat0)+(1-Math.cos(el))/Math.tan(lat)));else if(Math.abs(lat)<=EPSLN)x=this.a*dlon,y=-1*this.ml0;else{var nl=gN(this.a,this.e,Math.sin(lat))/Math.tan(lat);x=nl*Math.sin(el),y=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,lat)-this.ml0+nl*(1-Math.cos(el))}return p.x=x+this.x0,p.y=y+this.y0,p},exports.inverse=function(p){var lon,lat,x,y,i,al,bl,phi,dphi;if(x=p.x-this.x0,y=p.y-this.y0,this.sphere)if(Math.abs(y+this.a*this.lat0)<=EPSLN)lon=adjust_lon(x/this.a+this.long0),lat=0;else{al=this.lat0+y/this.a,bl=x*x/this.a/this.a+al*al,phi=al;var tanphi;for(i=MAX_ITER;i;--i)if(tanphi=Math.tan(phi),dphi=-1*(al*(phi*tanphi+1)-phi-.5*(phi*phi+bl)*tanphi)/((phi-al)/tanphi-1),phi+=dphi,Math.abs(dphi)<=EPSLN){lat=phi;break}lon=adjust_lon(this.long0+Math.asin(x*Math.tan(phi)/this.a)/Math.sin(lat))}else if(Math.abs(y+this.ml0)<=EPSLN)lat=0,lon=adjust_lon(this.long0+x/this.a);else{al=(this.ml0+y)/this.a,bl=x*x/this.a/this.a+al*al,phi=al;var cl,mln,mlnp,ma,con;for(i=MAX_ITER;i;--i)if(con=this.e*Math.sin(phi),cl=Math.sqrt(1-con*con)*Math.tan(phi),mln=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,phi),mlnp=this.e0-2*this.e1*Math.cos(2*phi)+4*this.e2*Math.cos(4*phi)-6*this.e3*Math.cos(6*phi),ma=mln/this.a,dphi=(al*(cl*ma+1)-ma-.5*cl*(ma*ma+bl))/(this.es*Math.sin(2*phi)*(ma*ma+bl-2*al*ma)/(4*cl)+(al-ma)*(cl*mlnp-2/Math.sin(2*phi))-mlnp),phi-=dphi,Math.abs(dphi)<=EPSLN){lat=phi;break}cl=Math.sqrt(1-this.es*Math.pow(Math.sin(lat),2))*Math.tan(lat),lon=adjust_lon(this.long0+Math.asin(x*cl/this.a)/Math.sin(lat))}return p.x=lon,p.y=lat,p},exports.names=["Polyconic","poly"]},{"../common/adjust_lat":28,"../common/adjust_lon":29,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/gN":35,"../common/mlfn":38}],83:[function(require,module,exports){var adjust_lon=require("../common/adjust_lon"),adjust_lat=require("../common/adjust_lat"),pj_enfn=require("../common/pj_enfn"),MAX_ITER=20,pj_mlfn=require("../common/pj_mlfn"),pj_inv_mlfn=require("../common/pj_inv_mlfn"),HALF_PI=Math.PI/2,EPSLN=1e-10,asinz=require("../common/asinz");exports.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=pj_enfn(this.es)},exports.forward=function(p){var x,y,lon=p.x,lat=p.y;if(lon=adjust_lon(lon-this.long0),this.sphere){if(this.m)for(var k=this.n*Math.sin(lat),i=MAX_ITER;i;--i){var V=(this.m*lat+Math.sin(lat)-k)/(this.m+Math.cos(lat));if(lat-=V,Math.abs(V)<EPSLN)break}else lat=1!==this.n?Math.asin(this.n*Math.sin(lat)):lat;x=this.a*this.C_x*lon*(this.m+Math.cos(lat)),y=this.a*this.C_y*lat}else{var s=Math.sin(lat),c=Math.cos(lat);y=this.a*pj_mlfn(lat,s,c,this.en),
x=this.a*lon*c/Math.sqrt(1-this.es*s*s)}return p.x=x,p.y=y,p},exports.inverse=function(p){var lat,temp,lon,s;return p.x-=this.x0,lon=p.x/this.a,p.y-=this.y0,lat=p.y/this.a,this.sphere?(lat/=this.C_y,lon/=this.C_x*(this.m+Math.cos(lat)),this.m?lat=asinz((this.m*lat+Math.sin(lat))/this.n):1!==this.n&&(lat=asinz(Math.sin(lat)/this.n)),lon=adjust_lon(lon+this.long0),lat=adjust_lat(lat)):(lat=pj_inv_mlfn(p.y/this.a,this.es,this.en),s=Math.abs(lat),HALF_PI>s?(s=Math.sin(lat),temp=this.long0+p.x*Math.sqrt(1-this.es*s*s)/(this.a*Math.cos(lat)),lon=adjust_lon(temp)):HALF_PI>s-EPSLN&&(lon=this.long0)),p.x=lon,p.y=lat,p},exports.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":28,"../common/adjust_lon":29,"../common/asinz":30,"../common/pj_enfn":41,"../common/pj_inv_mlfn":42,"../common/pj_mlfn":43}],84:[function(require,module,exports){exports.init=function(){var phy0=this.lat0;this.lambda0=this.long0;var sinPhy0=Math.sin(phy0),semiMajorAxis=this.a,invF=this.rf,flattening=1/invF,e2=2*flattening-Math.pow(flattening,2),e=this.e=Math.sqrt(e2);this.R=this.k0*semiMajorAxis*Math.sqrt(1-e2)/(1-e2*Math.pow(sinPhy0,2)),this.alpha=Math.sqrt(1+e2/(1-e2)*Math.pow(Math.cos(phy0),4)),this.b0=Math.asin(sinPhy0/this.alpha);var k1=Math.log(Math.tan(Math.PI/4+this.b0/2)),k2=Math.log(Math.tan(Math.PI/4+phy0/2)),k3=Math.log((1+e*sinPhy0)/(1-e*sinPhy0));this.K=k1-this.alpha*k2+this.alpha*e/2*k3},exports.forward=function(p){var Sa1=Math.log(Math.tan(Math.PI/4-p.y/2)),Sa2=this.e/2*Math.log((1+this.e*Math.sin(p.y))/(1-this.e*Math.sin(p.y))),S=-this.alpha*(Sa1+Sa2)+this.K,b=2*(Math.atan(Math.exp(S))-Math.PI/4),I=this.alpha*(p.x-this.lambda0),rotI=Math.atan(Math.sin(I)/(Math.sin(this.b0)*Math.tan(b)+Math.cos(this.b0)*Math.cos(I))),rotB=Math.asin(Math.cos(this.b0)*Math.sin(b)-Math.sin(this.b0)*Math.cos(b)*Math.cos(I));return p.y=this.R/2*Math.log((1+Math.sin(rotB))/(1-Math.sin(rotB)))+this.y0,p.x=this.R*rotI+this.x0,p},exports.inverse=function(p){for(var Y=p.x-this.x0,X=p.y-this.y0,rotI=Y/this.R,rotB=2*(Math.atan(Math.exp(X/this.R))-Math.PI/4),b=Math.asin(Math.cos(this.b0)*Math.sin(rotB)+Math.sin(this.b0)*Math.cos(rotB)*Math.cos(rotI)),I=Math.atan(Math.sin(rotI)/(Math.cos(this.b0)*Math.cos(rotI)-Math.sin(this.b0)*Math.tan(rotB))),lambda=this.lambda0+I/this.alpha,S=0,phy=b,prevPhy=-1e3,iteration=0;Math.abs(phy-prevPhy)>1e-7;){if(++iteration>20)return;S=1/this.alpha*(Math.log(Math.tan(Math.PI/4+b/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(phy))/2)),prevPhy=phy,phy=2*Math.atan(Math.exp(S))-Math.PI/2}return p.x=lambda,p.y=phy,p},exports.names=["somerc"]},{}],85:[function(require,module,exports){var HALF_PI=Math.PI/2,EPSLN=1e-10,sign=require("../common/sign"),msfnz=require("../common/msfnz"),tsfnz=require("../common/tsfnz"),phi2z=require("../common/phi2z"),adjust_lon=require("../common/adjust_lon");exports.ssfn_=function(phit,sinphi,eccen){return sinphi*=eccen,Math.tan(.5*(HALF_PI+phit))*Math.pow((1-sinphi)/(1+sinphi),.5*eccen)},exports.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*(1+sign(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=EPSLN&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=EPSLN&&(this.k0=.5*this.cons*msfnz(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/tsfnz(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=msfnz(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-HALF_PI,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},exports.forward=function(p){var A,X,sinX,cosX,ts,rh,lon=p.x,lat=p.y,sinlat=Math.sin(lat),coslat=Math.cos(lat),dlon=adjust_lon(lon-this.long0);return Math.abs(Math.abs(lon-this.long0)-Math.PI)<=EPSLN&&Math.abs(lat+this.lat0)<=EPSLN?(p.x=NaN,p.y=NaN,p):this.sphere?(A=2*this.k0/(1+this.sinlat0*sinlat+this.coslat0*coslat*Math.cos(dlon)),p.x=this.a*A*coslat*Math.sin(dlon)+this.x0,p.y=this.a*A*(this.coslat0*sinlat-this.sinlat0*coslat*Math.cos(dlon))+this.y0,p):(X=2*Math.atan(this.ssfn_(lat,sinlat,this.e))-HALF_PI,cosX=Math.cos(X),sinX=Math.sin(X),Math.abs(this.coslat0)<=EPSLN?(ts=tsfnz(this.e,lat*this.con,this.con*sinlat),rh=2*this.a*this.k0*ts/this.cons,p.x=this.x0+rh*Math.sin(lon-this.long0),p.y=this.y0-this.con*rh*Math.cos(lon-this.long0),p):(Math.abs(this.sinlat0)<EPSLN?(A=2*this.a*this.k0/(1+cosX*Math.cos(dlon)),p.y=A*sinX):(A=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*sinX+this.cosX0*cosX*Math.cos(dlon))),p.y=A*(this.cosX0*sinX-this.sinX0*cosX*Math.cos(dlon))+this.y0),p.x=A*cosX*Math.sin(dlon)+this.x0,p))},exports.inverse=function(p){p.x-=this.x0,p.y-=this.y0;var lon,lat,ts,ce,Chi,rh=Math.sqrt(p.x*p.x+p.y*p.y);if(this.sphere){var c=2*Math.atan(rh/(.5*this.a*this.k0));return lon=this.long0,lat=this.lat0,EPSLN>=rh?(p.x=lon,p.y=lat,p):(lat=Math.asin(Math.cos(c)*this.sinlat0+p.y*Math.sin(c)*this.coslat0/rh),lon=adjust_lon(Math.abs(this.coslat0)<EPSLN?this.lat0>0?this.long0+Math.atan2(p.x,-1*p.y):this.long0+Math.atan2(p.x,p.y):this.long0+Math.atan2(p.x*Math.sin(c),rh*this.coslat0*Math.cos(c)-p.y*this.sinlat0*Math.sin(c))),p.x=lon,p.y=lat,p)}if(Math.abs(this.coslat0)<=EPSLN){if(EPSLN>=rh)return lat=this.lat0,lon=this.long0,p.x=lon,p.y=lat,p;p.x*=this.con,p.y*=this.con,ts=rh*this.cons/(2*this.a*this.k0),lat=this.con*phi2z(this.e,ts),lon=this.con*adjust_lon(this.con*this.long0+Math.atan2(p.x,-1*p.y))}else ce=2*Math.atan(rh*this.cosX0/(2*this.a*this.k0*this.ms1)),lon=this.long0,EPSLN>=rh?Chi=this.X0:(Chi=Math.asin(Math.cos(ce)*this.sinX0+p.y*Math.sin(ce)*this.cosX0/rh),lon=adjust_lon(this.long0+Math.atan2(p.x*Math.sin(ce),rh*this.cosX0*Math.cos(ce)-p.y*this.sinX0*Math.sin(ce)))),lat=-1*phi2z(this.e,Math.tan(.5*(HALF_PI+Chi)));return p.x=lon,p.y=lat,p},exports.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":29,"../common/msfnz":39,"../common/phi2z":40,"../common/sign":45,"../common/tsfnz":48}],86:[function(require,module,exports){var gauss=require("./gauss"),adjust_lon=require("../common/adjust_lon");exports.init=function(){gauss.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},exports.forward=function(p){var sinc,cosc,cosl,k;return p.x=adjust_lon(p.x-this.long0),gauss.forward.apply(this,[p]),sinc=Math.sin(p.y),cosc=Math.cos(p.y),cosl=Math.cos(p.x),k=this.k0*this.R2/(1+this.sinc0*sinc+this.cosc0*cosc*cosl),p.x=k*cosc*Math.sin(p.x),p.y=k*(this.cosc0*sinc-this.sinc0*cosc*cosl),p.x=this.a*p.x+this.x0,p.y=this.a*p.y+this.y0,p},exports.inverse=function(p){var sinc,cosc,lon,lat,rho;if(p.x=(p.x-this.x0)/this.a,p.y=(p.y-this.y0)/this.a,p.x/=this.k0,p.y/=this.k0,rho=Math.sqrt(p.x*p.x+p.y*p.y)){var c=2*Math.atan2(rho,this.R2);sinc=Math.sin(c),cosc=Math.cos(c),lat=Math.asin(cosc*this.sinc0+p.y*sinc*this.cosc0/rho),lon=Math.atan2(p.x*sinc,rho*this.cosc0*cosc-p.y*this.sinc0*sinc)}else lat=this.phic0,lon=0;return p.x=lon,p.y=lat,gauss.inverse.apply(this,[p]),p.x=adjust_lon(p.x+this.long0),p},exports.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":29,"./gauss":71}],87:[function(require,module,exports){var e0fn=require("../common/e0fn"),e1fn=require("../common/e1fn"),e2fn=require("../common/e2fn"),e3fn=require("../common/e3fn"),mlfn=require("../common/mlfn"),adjust_lon=require("../common/adjust_lon"),HALF_PI=Math.PI/2,EPSLN=1e-10,sign=require("../common/sign"),asinz=require("../common/asinz");exports.init=function(){this.e0=e0fn(this.es),this.e1=e1fn(this.es),this.e2=e2fn(this.es),this.e3=e3fn(this.es),this.ml0=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,this.lat0)},exports.forward=function(p){var con,x,y,lon=p.x,lat=p.y,delta_lon=adjust_lon(lon-this.long0),sin_phi=Math.sin(lat),cos_phi=Math.cos(lat);if(this.sphere){var b=cos_phi*Math.sin(delta_lon);if(Math.abs(Math.abs(b)-1)<1e-10)return 93;x=.5*this.a*this.k0*Math.log((1+b)/(1-b)),con=Math.acos(cos_phi*Math.cos(delta_lon)/Math.sqrt(1-b*b)),0>lat&&(con=-con),y=this.a*this.k0*(con-this.lat0)}else{var al=cos_phi*delta_lon,als=Math.pow(al,2),c=this.ep2*Math.pow(cos_phi,2),tq=Math.tan(lat),t=Math.pow(tq,2);con=1-this.es*Math.pow(sin_phi,2);var n=this.a/Math.sqrt(con),ml=this.a*mlfn(this.e0,this.e1,this.e2,this.e3,lat);x=this.k0*n*al*(1+als/6*(1-t+c+als/20*(5-18*t+Math.pow(t,2)+72*c-58*this.ep2)))+this.x0,y=this.k0*(ml-this.ml0+n*tq*(als*(.5+als/24*(5-t+9*c+4*Math.pow(c,2)+als/30*(61-58*t+Math.pow(t,2)+600*c-330*this.ep2)))))+this.y0}return p.x=x,p.y=y,p},exports.inverse=function(p){var con,phi,delta_phi,i,lat,lon,max_iter=6;if(this.sphere){var f=Math.exp(p.x/(this.a*this.k0)),g=.5*(f-1/f),temp=this.lat0+p.y/(this.a*this.k0),h=Math.cos(temp);con=Math.sqrt((1-h*h)/(1+g*g)),lat=asinz(con),0>temp&&(lat=-lat),lon=0===g&&0===h?this.long0:adjust_lon(Math.atan2(g,h)+this.long0)}else{var x=p.x-this.x0,y=p.y-this.y0;for(con=(this.ml0+y/this.k0)/this.a,phi=con,i=0;!0&&(delta_phi=(con+this.e1*Math.sin(2*phi)-this.e2*Math.sin(4*phi)+this.e3*Math.sin(6*phi))/this.e0-phi,phi+=delta_phi,!(Math.abs(delta_phi)<=EPSLN));i++)if(i>=max_iter)return 95;if(Math.abs(phi)<HALF_PI){var sin_phi=Math.sin(phi),cos_phi=Math.cos(phi),tan_phi=Math.tan(phi),c=this.ep2*Math.pow(cos_phi,2),cs=Math.pow(c,2),t=Math.pow(tan_phi,2),ts=Math.pow(t,2);con=1-this.es*Math.pow(sin_phi,2);var n=this.a/Math.sqrt(con),r=n*(1-this.es)/con,d=x/(n*this.k0),ds=Math.pow(d,2);lat=phi-n*tan_phi*ds/r*(.5-ds/24*(5+3*t+10*c-4*cs-9*this.ep2-ds/30*(61+90*t+298*c+45*ts-252*this.ep2-3*cs))),lon=adjust_lon(this.long0+d*(1-ds/6*(1+2*t+c-ds/20*(5-2*c+28*t-3*cs+8*this.ep2+24*ts)))/cos_phi)}else lat=HALF_PI*sign(y),lon=this.long0}return p.x=lon,p.y=lat,p},exports.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":29,"../common/asinz":30,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/mlfn":38,"../common/sign":45}],88:[function(require,module,exports){var D2R=.017453292519943295,tmerc=require("./tmerc");exports.dependsOn="tmerc",exports.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*D2R,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,tmerc.init.apply(this),this.forward=tmerc.forward,this.inverse=tmerc.inverse)},exports.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":87}],89:[function(require,module,exports){var adjust_lon=require("../common/adjust_lon"),HALF_PI=Math.PI/2,EPSLN=1e-10,asinz=require("../common/asinz");exports.init=function(){this.R=this.a},exports.forward=function(p){var x,y,lon=p.x,lat=p.y,dlon=adjust_lon(lon-this.long0);Math.abs(lat)<=EPSLN&&(x=this.x0+this.R*dlon,y=this.y0);var theta=asinz(2*Math.abs(lat/Math.PI));(Math.abs(dlon)<=EPSLN||Math.abs(Math.abs(lat)-HALF_PI)<=EPSLN)&&(x=this.x0,y=lat>=0?this.y0+Math.PI*this.R*Math.tan(.5*theta):this.y0+Math.PI*this.R*-Math.tan(.5*theta));var al=.5*Math.abs(Math.PI/dlon-dlon/Math.PI),asq=al*al,sinth=Math.sin(theta),costh=Math.cos(theta),g=costh/(sinth+costh-1),gsq=g*g,m=g*(2/sinth-1),msq=m*m,con=Math.PI*this.R*(al*(g-msq)+Math.sqrt(asq*(g-msq)*(g-msq)-(msq+asq)*(gsq-msq)))/(msq+asq);0>dlon&&(con=-con),x=this.x0+con;var q=asq+g;return con=Math.PI*this.R*(m*q-al*Math.sqrt((msq+asq)*(asq+1)-q*q))/(msq+asq),y=lat>=0?this.y0+con:this.y0-con,p.x=x,p.y=y,p},exports.inverse=function(p){var lon,lat,xx,yy,xys,c1,c2,c3,a1,m1,con,th1,d;return p.x-=this.x0,p.y-=this.y0,con=Math.PI*this.R,xx=p.x/con,yy=p.y/con,xys=xx*xx+yy*yy,c1=-Math.abs(yy)*(1+xys),c2=c1-2*yy*yy+xx*xx,c3=-2*c1+1+2*yy*yy+xys*xys,d=yy*yy/c3+(2*c2*c2*c2/c3/c3/c3-9*c1*c2/c3/c3)/27,a1=(c1-c2*c2/3/c3)/c3,m1=2*Math.sqrt(-a1/3),con=3*d/a1/m1,Math.abs(con)>1&&(con=con>=0?1:-1),th1=Math.acos(con)/3,lat=p.y>=0?(-m1*Math.cos(th1+Math.PI/3)-c2/3/c3)*Math.PI:-(-m1*Math.cos(th1+Math.PI/3)-c2/3/c3)*Math.PI,lon=Math.abs(xx)<EPSLN?this.long0:adjust_lon(this.long0+Math.PI*(xys-1+Math.sqrt(1+2*(xx*xx-yy*yy)+xys*xys))/2/xx),p.x=lon,p.y=lat,p},exports.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":29,"../common/asinz":30}],90:[function(require,module,exports){var D2R=.017453292519943295,R2D=57.29577951308232,PJD_3PARAM=1,PJD_7PARAM=2,datum_transform=require("./datum_transform"),adjust_axis=require("./adjust_axis"),proj=require("./Proj"),toPoint=require("./common/toPoint");module.exports=function transform(source,dest,point){function checkNotWGS(source,dest){return(source.datum.datum_type===PJD_3PARAM||source.datum.datum_type===PJD_7PARAM)&&"WGS84"!==dest.datumCode}var wgs84;return Array.isArray(point)&&(point=toPoint(point)),source.datum&&dest.datum&&(checkNotWGS(source,dest)||checkNotWGS(dest,source))&&(wgs84=new proj("WGS84"),transform(source,wgs84,point),source=wgs84),"enu"!==source.axis&&adjust_axis(source,!1,point),"longlat"===source.projName?(point.x*=D2R,point.y*=D2R):(source.to_meter&&(point.x*=source.to_meter,point.y*=source.to_meter),source.inverse(point)),source.from_greenwich&&(point.x+=source.from_greenwich),point=datum_transform(source.datum,dest.datum,point),dest.from_greenwich&&(point.x-=dest.from_greenwich),"longlat"===dest.projName?(point.x*=R2D,point.y*=R2D):(dest.forward(point),dest.to_meter&&(point.x/=dest.to_meter,point.y/=dest.to_meter)),"enu"!==dest.axis&&adjust_axis(dest,!0,point),point}},{"./Proj":26,"./adjust_axis":27,"./common/toPoint":47,"./datum_transform":55}],91:[function(require,module,exports){function mapit(obj,key,v){obj[key]=v.map(function(aa){var o={};return sExpr(aa,o),o}).reduce(function(a,b){return extend(a,b)},{})}function sExpr(v,obj){var key;return Array.isArray(v)?(key=v.shift(),"PARAMETER"===key&&(key=v.shift()),1===v.length?Array.isArray(v[0])?(obj[key]={},sExpr(v[0],obj[key])):obj[key]=v[0]:v.length?"TOWGS84"===key?obj[key]=v:(obj[key]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(key)>-1?(obj[key]={name:v[0].toLowerCase(),convert:v[1]},3===v.length&&(obj[key].auth=v[2])):"SPHEROID"===key?(obj[key]={name:v[0],a:v[1],rf:v[2]},4===v.length&&(obj[key].auth=v[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(key)>-1?(v[0]=["name",v[0]],mapit(obj,key,v)):v.every(function(aa){return Array.isArray(aa)})?mapit(obj,key,v):sExpr(v,obj[key])):obj[key]=!0,void 0):void(obj[v]=!0)}function rename(obj,params){var outName=params[0],inName=params[1];!(outName in obj)&&inName in obj&&(obj[outName]=obj[inName],3===params.length&&(obj[outName]=params[2](obj[outName])))}function d2r(input){return input*D2R}function cleanWKT(wkt){function toMeter(input){var ratio=wkt.to_meter||1;return parseFloat(input,10)*ratio}"GEOGCS"===wkt.type?wkt.projName="longlat":"LOCAL_CS"===wkt.type?(wkt.projName="identity",wkt.local=!0):"object"==typeof wkt.PROJECTION?wkt.projName=Object.keys(wkt.PROJECTION)[0]:wkt.projName=wkt.PROJECTION,wkt.UNIT&&(wkt.units=wkt.UNIT.name.toLowerCase(),"metre"===wkt.units&&(wkt.units="meter"),wkt.UNIT.convert&&(wkt.to_meter=parseFloat(wkt.UNIT.convert,10))),wkt.GEOGCS&&(wkt.GEOGCS.DATUM?wkt.datumCode=wkt.GEOGCS.DATUM.name.toLowerCase():wkt.datumCode=wkt.GEOGCS.name.toLowerCase(),"d_"===wkt.datumCode.slice(0,2)&&(wkt.datumCode=wkt.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===wkt.datumCode||"new_zealand_1949"===wkt.datumCode)&&(wkt.datumCode="nzgd49"),"wgs_1984"===wkt.datumCode&&("Mercator_Auxiliary_Sphere"===wkt.PROJECTION&&(wkt.sphere=!0),wkt.datumCode="wgs84"),"_ferro"===wkt.datumCode.slice(-6)&&(wkt.datumCode=wkt.datumCode.slice(0,-6)),"_jakarta"===wkt.datumCode.slice(-8)&&(wkt.datumCode=wkt.datumCode.slice(0,-8)),~wkt.datumCode.indexOf("belge")&&(wkt.datumCode="rnb72"),wkt.GEOGCS.DATUM&&wkt.GEOGCS.DATUM.SPHEROID&&(wkt.ellps=wkt.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===wkt.ellps.toLowerCase().slice(0,13)&&(wkt.ellps="intl"),wkt.a=wkt.GEOGCS.DATUM.SPHEROID.a,wkt.rf=parseFloat(wkt.GEOGCS.DATUM.SPHEROID.rf,10)),~wkt.datumCode.indexOf("osgb_1936")&&(wkt.datumCode="osgb36")),wkt.b&&!isFinite(wkt.b)&&(wkt.b=wkt.a);var renamer=function(a){return rename(wkt,a)},list=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",d2r],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",d2r],["x0","false_easting",toMeter],["y0","false_northing",toMeter],["long0","central_meridian",d2r],["lat0","latitude_of_origin",d2r],["lat0","standard_parallel_1",d2r],["lat1","standard_parallel_1",d2r],["lat2","standard_parallel_2",d2r],["alpha","azimuth",d2r],["srsCode","name"]];list.forEach(renamer),wkt.long0||!wkt.longc||"Albers_Conic_Equal_Area"!==wkt.projName&&"Lambert_Azimuthal_Equal_Area"!==wkt.projName||(wkt.long0=wkt.longc),wkt.lat_ts||!wkt.lat1||"Stereographic_South_Pole"!==wkt.projName&&"Polar Stereographic (variant B)"!==wkt.projName||(wkt.lat0=d2r(wkt.lat1>0?90:-90),wkt.lat_ts=wkt.lat1)}var D2R=.017453292519943295,extend=require("./extend");module.exports=function(wkt,self){var lisp=JSON.parse((","+wkt).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),type=lisp.shift(),name=lisp.shift();lisp.unshift(["name",name]),lisp.unshift(["type",type]),lisp.unshift("output");var obj={};return sExpr(lisp,obj),cleanWKT(obj.output),extend(self,obj.output)}},{"./extend":58}],92:[function(require,module,exports){function degToRad(deg){return deg*(Math.PI/180)}function radToDeg(rad){return 180*(rad/Math.PI)}function LLtoUTM(ll){var LongOrigin,eccPrimeSquared,N,T,C,A,M,LongOriginRad,ZoneNumber,Lat=ll.lat,Long=ll.lon,a=6378137,eccSquared=.00669438,k0=.9996,LatRad=degToRad(Lat),LongRad=degToRad(Long);ZoneNumber=Math.floor((Long+180)/6)+1,180===Long&&(ZoneNumber=60),Lat>=56&&64>Lat&&Long>=3&&12>Long&&(ZoneNumber=32),Lat>=72&&84>Lat&&(Long>=0&&9>Long?ZoneNumber=31:Long>=9&&21>Long?ZoneNumber=33:Long>=21&&33>Long?ZoneNumber=35:Long>=33&&42>Long&&(ZoneNumber=37)),LongOrigin=6*(ZoneNumber-1)-180+3,LongOriginRad=degToRad(LongOrigin),eccPrimeSquared=eccSquared/(1-eccSquared),N=a/Math.sqrt(1-eccSquared*Math.sin(LatRad)*Math.sin(LatRad)),T=Math.tan(LatRad)*Math.tan(LatRad),C=eccPrimeSquared*Math.cos(LatRad)*Math.cos(LatRad),A=Math.cos(LatRad)*(LongRad-LongOriginRad),M=a*((1-eccSquared/4-3*eccSquared*eccSquared/64-5*eccSquared*eccSquared*eccSquared/256)*LatRad-(3*eccSquared/8+3*eccSquared*eccSquared/32+45*eccSquared*eccSquared*eccSquared/1024)*Math.sin(2*LatRad)+(15*eccSquared*eccSquared/256+45*eccSquared*eccSquared*eccSquared/1024)*Math.sin(4*LatRad)-35*eccSquared*eccSquared*eccSquared/3072*Math.sin(6*LatRad));var UTMEasting=k0*N*(A+(1-T+C)*A*A*A/6+(5-18*T+T*T+72*C-58*eccPrimeSquared)*A*A*A*A*A/120)+5e5,UTMNorthing=k0*(M+N*Math.tan(LatRad)*(A*A/2+(5-T+9*C+4*C*C)*A*A*A*A/24+(61-58*T+T*T+600*C-330*eccPrimeSquared)*A*A*A*A*A*A/720));return 0>Lat&&(UTMNorthing+=1e7),{northing:Math.round(UTMNorthing),easting:Math.round(UTMEasting),zoneNumber:ZoneNumber,zoneLetter:getLetterDesignator(Lat)}}function UTMtoLL(utm){var UTMNorthing=utm.northing,UTMEasting=utm.easting,zoneLetter=utm.zoneLetter,zoneNumber=utm.zoneNumber;if(0>zoneNumber||zoneNumber>60)return null;var eccPrimeSquared,N1,T1,C1,R1,D,M,LongOrigin,mu,phi1Rad,k0=.9996,a=6378137,eccSquared=.00669438,e1=(1-Math.sqrt(1-eccSquared))/(1+Math.sqrt(1-eccSquared)),x=UTMEasting-5e5,y=UTMNorthing;"N">zoneLetter&&(y-=1e7),LongOrigin=6*(zoneNumber-1)-180+3,eccPrimeSquared=eccSquared/(1-eccSquared),M=y/k0,mu=M/(a*(1-eccSquared/4-3*eccSquared*eccSquared/64-5*eccSquared*eccSquared*eccSquared/256)),phi1Rad=mu+(3*e1/2-27*e1*e1*e1/32)*Math.sin(2*mu)+(21*e1*e1/16-55*e1*e1*e1*e1/32)*Math.sin(4*mu)+151*e1*e1*e1/96*Math.sin(6*mu),N1=a/Math.sqrt(1-eccSquared*Math.sin(phi1Rad)*Math.sin(phi1Rad)),T1=Math.tan(phi1Rad)*Math.tan(phi1Rad),C1=eccPrimeSquared*Math.cos(phi1Rad)*Math.cos(phi1Rad),R1=a*(1-eccSquared)/Math.pow(1-eccSquared*Math.sin(phi1Rad)*Math.sin(phi1Rad),1.5),D=x/(N1*k0);var lat=phi1Rad-N1*Math.tan(phi1Rad)/R1*(D*D/2-(5+3*T1+10*C1-4*C1*C1-9*eccPrimeSquared)*D*D*D*D/24+(61+90*T1+298*C1+45*T1*T1-252*eccPrimeSquared-3*C1*C1)*D*D*D*D*D*D/720);lat=radToDeg(lat);var lon=(D-(1+2*T1+C1)*D*D*D/6+(5-2*C1+28*T1-3*C1*C1+8*eccPrimeSquared+24*T1*T1)*D*D*D*D*D/120)/Math.cos(phi1Rad);lon=LongOrigin+radToDeg(lon);var result;if(utm.accuracy){var topRight=UTMtoLL({northing:utm.northing+utm.accuracy,easting:utm.easting+utm.accuracy,zoneLetter:utm.zoneLetter,zoneNumber:utm.zoneNumber});result={top:topRight.lat,right:topRight.lon,bottom:lat,left:lon}}else result={lat:lat,lon:lon};return result}function getLetterDesignator(lat){var LetterDesignator="Z";return 84>=lat&&lat>=72?LetterDesignator="X":72>lat&&lat>=64?LetterDesignator="W":64>lat&&lat>=56?LetterDesignator="V":56>lat&&lat>=48?LetterDesignator="U":48>lat&&lat>=40?LetterDesignator="T":40>lat&&lat>=32?LetterDesignator="S":32>lat&&lat>=24?LetterDesignator="R":24>lat&&lat>=16?LetterDesignator="Q":16>lat&&lat>=8?LetterDesignator="P":8>lat&&lat>=0?LetterDesignator="N":0>lat&&lat>=-8?LetterDesignator="M":-8>lat&&lat>=-16?LetterDesignator="L":-16>lat&&lat>=-24?LetterDesignator="K":-24>lat&&lat>=-32?LetterDesignator="J":-32>lat&&lat>=-40?LetterDesignator="H":-40>lat&&lat>=-48?LetterDesignator="G":-48>lat&&lat>=-56?LetterDesignator="F":-56>lat&&lat>=-64?LetterDesignator="E":-64>lat&&lat>=-72?LetterDesignator="D":-72>lat&&lat>=-80&&(LetterDesignator="C"),LetterDesignator}function encode(utm,accuracy){var seasting="00000"+utm.easting,snorthing="00000"+utm.northing;return utm.zoneNumber+utm.zoneLetter+get100kID(utm.easting,utm.northing,utm.zoneNumber)+seasting.substr(seasting.length-5,accuracy)+snorthing.substr(snorthing.length-5,accuracy)}function get100kID(easting,northing,zoneNumber){var setParm=get100kSetForZone(zoneNumber),setColumn=Math.floor(easting/1e5),setRow=Math.floor(northing/1e5)%20;return getLetter100kID(setColumn,setRow,setParm)}function get100kSetForZone(i){var setParm=i%NUM_100K_SETS;return 0===setParm&&(setParm=NUM_100K_SETS),setParm}function getLetter100kID(column,row,parm){var index=parm-1,colOrigin=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(index),rowOrigin=SET_ORIGIN_ROW_LETTERS.charCodeAt(index),colInt=colOrigin+column-1,rowInt=rowOrigin+row,rollover=!1;colInt>Z&&(colInt=colInt-Z+A-1,rollover=!0),(colInt===I||I>colOrigin&&colInt>I||(colInt>I||I>colOrigin)&&rollover)&&colInt++,(colInt===O||O>colOrigin&&colInt>O||(colInt>O||O>colOrigin)&&rollover)&&(colInt++,colInt===I&&colInt++),colInt>Z&&(colInt=colInt-Z+A-1),rowInt>V?(rowInt=rowInt-V+A-1,rollover=!0):rollover=!1,(rowInt===I||I>rowOrigin&&rowInt>I||(rowInt>I||I>rowOrigin)&&rollover)&&rowInt++,(rowInt===O||O>rowOrigin&&rowInt>O||(rowInt>O||O>rowOrigin)&&rollover)&&(rowInt++,rowInt===I&&rowInt++),rowInt>V&&(rowInt=rowInt-V+A-1);var twoLetter=String.fromCharCode(colInt)+String.fromCharCode(rowInt);return twoLetter}function decode(mgrsString){if(mgrsString&&0===mgrsString.length)throw"MGRSPoint coverting from nothing";for(var testChar,length=mgrsString.length,hunK=null,sb="",i=0;!/[A-Z]/.test(testChar=mgrsString.charAt(i));){if(i>=2)throw"MGRSPoint bad conversion from: "+mgrsString;sb+=testChar,i++}var zoneNumber=parseInt(sb,10);if(0===i||i+3>length)throw"MGRSPoint bad conversion from: "+mgrsString;var zoneLetter=mgrsString.charAt(i++);if("A">=zoneLetter||"B"===zoneLetter||"Y"===zoneLetter||zoneLetter>="Z"||"I"===zoneLetter||"O"===zoneLetter)throw"MGRSPoint zone letter "+zoneLetter+" not handled: "+mgrsString;hunK=mgrsString.substring(i,i+=2);for(var set=get100kSetForZone(zoneNumber),east100k=getEastingFromChar(hunK.charAt(0),set),north100k=getNorthingFromChar(hunK.charAt(1),set);north100k<getMinNorthing(zoneLetter);)north100k+=2e6;var remainder=length-i;if(remainder%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+mgrsString;var accuracyBonus,sepEastingString,sepNorthingString,easting,northing,sep=remainder/2,sepEasting=0,sepNorthing=0;return sep>0&&(accuracyBonus=1e5/Math.pow(10,sep),sepEastingString=mgrsString.substring(i,i+sep),sepEasting=parseFloat(sepEastingString)*accuracyBonus,sepNorthingString=mgrsString.substring(i+sep),sepNorthing=parseFloat(sepNorthingString)*accuracyBonus),easting=sepEasting+east100k,northing=sepNorthing+north100k,{easting:easting,northing:northing,zoneLetter:zoneLetter,zoneNumber:zoneNumber,accuracy:accuracyBonus}}function getEastingFromChar(e,set){for(var curCol=SET_ORIGIN_COLUMN_LETTERS.charCodeAt(set-1),eastingValue=1e5,rewindMarker=!1;curCol!==e.charCodeAt(0);){if(curCol++,curCol===I&&curCol++,curCol===O&&curCol++,curCol>Z){if(rewindMarker)throw"Bad character: "+e;curCol=A,rewindMarker=!0}eastingValue+=1e5}return eastingValue}function getNorthingFromChar(n,set){if(n>"V")throw"MGRSPoint given invalid Northing "+n;for(var curRow=SET_ORIGIN_ROW_LETTERS.charCodeAt(set-1),northingValue=0,rewindMarker=!1;curRow!==n.charCodeAt(0);){if(curRow++,curRow===I&&curRow++,curRow===O&&curRow++,curRow>V){if(rewindMarker)throw"Bad character: "+n;curRow=A,rewindMarker=!0}northingValue+=1e5}return northingValue}function getMinNorthing(zoneLetter){var northing;switch(zoneLetter){case"C":northing=11e5;break;case"D":northing=2e6;break;case"E":northing=28e5;break;case"F":northing=37e5;break;case"G":northing=46e5;break;case"H":northing=55e5;break;case"J":northing=64e5;break;case"K":northing=73e5;break;case"L":northing=82e5;break;case"M":northing=91e5;break;case"N":northing=0;break;case"P":northing=8e5;break;case"Q":northing=17e5;break;case"R":northing=26e5;break;case"S":northing=35e5;break;case"T":northing=44e5;break;case"U":northing=53e5;break;case"V":northing=62e5;break;case"W":northing=7e6;break;case"X":northing=79e5;break;default:northing=-1}if(northing>=0)return northing;throw"Invalid zone letter: "+zoneLetter}var NUM_100K_SETS=6,SET_ORIGIN_COLUMN_LETTERS="AJSAJS",SET_ORIGIN_ROW_LETTERS="AFAFAF",A=65,I=73,O=79,V=86,Z=90;exports.forward=function(ll,accuracy){return accuracy=accuracy||5,encode(LLtoUTM({lat:ll[1],lon:ll[0]}),accuracy)},exports.inverse=function(mgrs){var bbox=UTMtoLL(decode(mgrs.toUpperCase()));return bbox.lat&&bbox.lon?[bbox.lon,bbox.lat,bbox.lon,bbox.lat]:[bbox.left,bbox.bottom,bbox.right,bbox.top]},exports.toPoint=function(mgrs){var bbox=UTMtoLL(decode(mgrs.toUpperCase()));return bbox.lat&&bbox.lon?[bbox.lon,bbox.lat]:[(bbox.left+bbox.right)/2,(bbox.top+bbox.bottom)/2]}},{}],93:[function(require,module,exports){module.exports={name:"proj4",version:"2.3.10",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],gitHead:"ac03d1439491dc313da80985193f702ca471b3d0",bugs:{url:"https://github.com/proj4js/proj4js/issues"},homepage:"https://github.com/proj4js/proj4js#readme",_id:"proj4@2.3.10",_shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",_from:"proj4@2.3.10",_npmVersion:"2.11.2",_nodeVersion:"0.12.5",_npmUser:{name:"ahocevar",email:"andreas.hocevar@gmail.com"},maintainers:[{name:"cwmma",email:"calvin.metcalf@gmail.com"},{name:"ahocevar",email:"andreas.hocevar@gmail.com"}],dist:{shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz"},_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz"}},{}],94:[function(require,module,exports){!function(root,factory){"function"==typeof define&&define.amd?define([],function(){return root.svg4everybody=factory()}):"object"==typeof exports?module.exports=factory():root.svg4everybody=factory()}(this,function(){function embed(svg,target){if(target){var fragment=document.createDocumentFragment(),viewBox=!svg.getAttribute("viewBox")&&target.getAttribute("viewBox");viewBox&&svg.setAttribute("viewBox",viewBox);for(var clone=target.cloneNode(!0);clone.childNodes.length;)fragment.appendChild(clone.firstChild);svg.appendChild(fragment)}}function loadreadystatechange(xhr){xhr.onreadystatechange=function(){if(4===xhr.readyState){var cachedDocument=xhr._cachedDocument;cachedDocument||(cachedDocument=xhr._cachedDocument=document.implementation.createHTMLDocument(""),cachedDocument.body.innerHTML=xhr.responseText,xhr._cachedTarget={}),xhr._embeds.splice(0).map(function(item){var target=xhr._cachedTarget[item.id];target||(target=xhr._cachedTarget[item.id]=cachedDocument.getElementById(item.id)),embed(item.svg,target)})}},xhr.onreadystatechange()}function svg4everybody(rawopts){function oninterval(){for(var index=0;index<uses.length;){var use=uses[index],svg=use.parentNode;if(svg&&/svg/i.test(svg.nodeName)){var src=use.getAttribute("xlink:href");if(polyfill&&(!opts.validate||opts.validate(src,svg,use))){svg.removeChild(use);var srcSplit=src.split("#"),url=srcSplit.shift(),id=srcSplit.join("#");if(url.length){var xhr=requests[url];xhr||(xhr=requests[url]=new XMLHttpRequest,xhr.open("GET",url),xhr.send(),xhr._embeds=[]),xhr._embeds.push({svg:svg,id:id}),loadreadystatechange(xhr)}else embed(svg,document.getElementById(id))}}else++index}requestAnimationFrame(oninterval,67)}var polyfill,opts=Object(rawopts),newerIEUA=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,webkitUA=/\bAppleWebKit\/(\d+)\b/,olderEdgeUA=/\bEdge\/12\.(\d+)\b/;polyfill="polyfill"in opts?opts.polyfill:newerIEUA.test(navigator.userAgent)||(navigator.userAgent.match(olderEdgeUA)||[])[1]<10547||(navigator.userAgent.match(webkitUA)||[])[1]<537;var requests={},requestAnimationFrame=window.requestAnimationFrame||setTimeout,uses=document.getElementsByTagName("use");polyfill&&oninterval()}return svg4everybody})},{}],95:[function(require,module,exports){module.exports={Bloodhound:require("typeahead.js/dist/bloodhound.js"),loadjQueryPlugin:function(){require("typeahead.js")}}},{"typeahead.js":97,"typeahead.js/dist/bloodhound.js":96}],96:[function(require,module,exports){!function(root,factory){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(a0){return root.Bloodhound=factory(a0)}):"object"==typeof exports?module.exports=factory(require("jquery")):root.Bloodhound=factory(jQuery)}(this,function($){var _=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(str){return!str||/^\s*$/.test(str)},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(obj){return"string"==typeof obj},isNumber:function(obj){return"number"==typeof obj},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,
isUndefined:function(obj){return"undefined"==typeof obj},isElement:function(obj){return!(!obj||1!==obj.nodeType)},isJQuery:function(obj){return obj instanceof $},toStr:function(s){return _.isUndefined(s)||null===s?"":s+""},bind:$.proxy,each:function(collection,cb){function reverseArgs(index,value){return cb(value,index)}$.each(collection,reverseArgs)},map:$.map,filter:$.grep,every:function(obj,test){var result=!0;return obj?($.each(obj,function(key,val){return(result=test.call(null,val,key,obj))?void 0:!1}),!!result):result},some:function(obj,test){var result=!1;return obj?($.each(obj,function(key,val){return(result=test.call(null,val,key,obj))?!1:void 0}),!!result):result},mixin:$.extend,identity:function(x){return x},clone:function(obj){return $.extend(!0,{},obj)},getIdGenerator:function(){var counter=0;return function(){return counter++}},templatify:function(obj){function template(){return String(obj)}return $.isFunction(obj)?obj:template},defer:function(fn){setTimeout(fn,0)},debounce:function(func,wait,immediate){var timeout,result;return function(){var later,callNow,context=this,args=arguments;return later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout,clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},throttle:function(func,wait){var context,args,timeout,result,previous,later;return previous=0,later=function(){previous=new Date,timeout=null,result=func.apply(context,args)},function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||(timeout=setTimeout(later,remaining)),result}},stringify:function(val){return _.isString(val)?val:JSON.stringify(val)},noop:function(){}}}(),VERSION="0.11.1",tokenizers=function(){"use strict";function whitespace(str){return str=_.toStr(str),str?str.split(/\s+/):[]}function nonword(str){return str=_.toStr(str),str?str.split(/\W+/):[]}function getObjTokenizer(tokenizer){return function(keys){return keys=_.isArray(keys)?keys:[].slice.call(arguments,0),function(o){var tokens=[];return _.each(keys,function(k){tokens=tokens.concat(tokenizer(_.toStr(o[k])))}),tokens}}}return{nonword:nonword,whitespace:whitespace,obj:{nonword:getObjTokenizer(nonword),whitespace:getObjTokenizer(whitespace)}}}(),LruCache=function(){"use strict";function LruCache(maxSize){this.maxSize=_.isNumber(maxSize)?maxSize:100,this.reset(),this.maxSize<=0&&(this.set=this.get=$.noop)}function List(){this.head=this.tail=null}function Node(key,val){this.key=key,this.val=val,this.prev=this.next=null}return _.mixin(LruCache.prototype,{set:function(key,val){var node,tailItem=this.list.tail;this.size>=this.maxSize&&(this.list.remove(tailItem),delete this.hash[tailItem.key],this.size--),(node=this.hash[key])?(node.val=val,this.list.moveToFront(node)):(node=new Node(key,val),this.list.add(node),this.hash[key]=node,this.size++)},get:function(key){var node=this.hash[key];return node?(this.list.moveToFront(node),node.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new List}}),_.mixin(List.prototype,{add:function(node){this.head&&(node.next=this.head,this.head.prev=node),this.head=node,this.tail=this.tail||node},remove:function(node){node.prev?node.prev.next=node.next:this.head=node.next,node.next?node.next.prev=node.prev:this.tail=node.prev},moveToFront:function(node){this.remove(node),this.add(node)}}),LruCache}(),PersistentStorage=function(){"use strict";function PersistentStorage(namespace,override){this.prefix=["__",namespace,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+_.escapeRegExChars(this.prefix)),this.ls=override||LOCAL_STORAGE,!this.ls&&this._noop()}function now(){return(new Date).getTime()}function encode(val){return JSON.stringify(_.isUndefined(val)?null:val)}function decode(val){return $.parseJSON(val)}function gatherMatchingKeys(keyMatcher){var i,key,keys=[],len=LOCAL_STORAGE.length;for(i=0;len>i;i++)(key=LOCAL_STORAGE.key(i)).match(keyMatcher)&&keys.push(key.replace(keyMatcher,""));return keys}var LOCAL_STORAGE;try{LOCAL_STORAGE=window.localStorage,LOCAL_STORAGE.setItem("~~~","!"),LOCAL_STORAGE.removeItem("~~~")}catch(err){LOCAL_STORAGE=null}return _.mixin(PersistentStorage.prototype,{_prefix:function(key){return this.prefix+key},_ttlKey:function(key){return this._prefix(key)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=_.noop},_safeSet:function(key,val){try{this.ls.setItem(key,val)}catch(err){"QuotaExceededError"===err.name&&(this.clear(),this._noop())}},get:function(key){return this.isExpired(key)&&this.remove(key),decode(this.ls.getItem(this._prefix(key)))},set:function(key,val,ttl){return _.isNumber(ttl)?this._safeSet(this._ttlKey(key),encode(now()+ttl)):this.ls.removeItem(this._ttlKey(key)),this._safeSet(this._prefix(key),encode(val))},remove:function(key){return this.ls.removeItem(this._ttlKey(key)),this.ls.removeItem(this._prefix(key)),this},clear:function(){var i,keys=gatherMatchingKeys(this.keyMatcher);for(i=keys.length;i--;)this.remove(keys[i]);return this},isExpired:function(key){var ttl=decode(this.ls.getItem(this._ttlKey(key)));return _.isNumber(ttl)&&now()>ttl?!0:!1}}),PersistentStorage}(),Transport=function(){"use strict";function Transport(o){o=o||{},this.cancelled=!1,this.lastReq=null,this._send=o.transport,this._get=o.limiter?o.limiter(this._get):this._get,this._cache=o.cache===!1?new LruCache(0):sharedCache}var pendingRequestsCount=0,pendingRequests={},maxPendingRequests=6,sharedCache=new LruCache(10);return Transport.setMaxPendingRequests=function(num){maxPendingRequests=num},Transport.resetCache=function(){sharedCache.reset()},_.mixin(Transport.prototype,{_fingerprint:function(o){return o=o||{},o.url+o.type+$.param(o.data||{})},_get:function(o,cb){function done(resp){cb(null,resp),that._cache.set(fingerprint,resp)}function fail(){cb(!0)}function always(){pendingRequestsCount--,delete pendingRequests[fingerprint],that.onDeckRequestArgs&&(that._get.apply(that,that.onDeckRequestArgs),that.onDeckRequestArgs=null)}var fingerprint,jqXhr,that=this;fingerprint=this._fingerprint(o),this.cancelled||fingerprint!==this.lastReq||((jqXhr=pendingRequests[fingerprint])?jqXhr.done(done).fail(fail):maxPendingRequests>pendingRequestsCount?(pendingRequestsCount++,pendingRequests[fingerprint]=this._send(o).done(done).fail(fail).always(always)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(o,cb){var resp,fingerprint;cb=cb||$.noop,o=_.isString(o)?{url:o}:o||{},fingerprint=this._fingerprint(o),this.cancelled=!1,this.lastReq=fingerprint,(resp=this._cache.get(fingerprint))?cb(null,resp):this._get(o,cb)},cancel:function(){this.cancelled=!0}}),Transport}(),SearchIndex=window.SearchIndex=function(){"use strict";function SearchIndex(o){o=o||{},o.datumTokenizer&&o.queryTokenizer||$.error("datumTokenizer and queryTokenizer are both required"),this.identify=o.identify||_.stringify,this.datumTokenizer=o.datumTokenizer,this.queryTokenizer=o.queryTokenizer,this.reset()}function normalizeTokens(tokens){return tokens=_.filter(tokens,function(token){return!!token}),tokens=_.map(tokens,function(token){return token.toLowerCase()})}function newNode(){var node={};return node[IDS]=[],node[CHILDREN]={},node}function unique(array){for(var seen={},uniques=[],i=0,len=array.length;len>i;i++)seen[array[i]]||(seen[array[i]]=!0,uniques.push(array[i]));return uniques}function getIntersection(arrayA,arrayB){var ai=0,bi=0,intersection=[];arrayA=arrayA.sort(),arrayB=arrayB.sort();for(var lenArrayA=arrayA.length,lenArrayB=arrayB.length;lenArrayA>ai&&lenArrayB>bi;)arrayA[ai]<arrayB[bi]?ai++:arrayA[ai]>arrayB[bi]?bi++:(intersection.push(arrayA[ai]),ai++,bi++);return intersection}var CHILDREN="c",IDS="i";return _.mixin(SearchIndex.prototype,{bootstrap:function(o){this.datums=o.datums,this.trie=o.trie},add:function(data){var that=this;data=_.isArray(data)?data:[data],_.each(data,function(datum){var id,tokens;that.datums[id=that.identify(datum)]=datum,tokens=normalizeTokens(that.datumTokenizer(datum)),_.each(tokens,function(token){var node,chars,ch;for(node=that.trie,chars=token.split("");ch=chars.shift();)node=node[CHILDREN][ch]||(node[CHILDREN][ch]=newNode()),node[IDS].push(id)})})},get:function(ids){var that=this;return _.map(ids,function(id){return that.datums[id]})},search:function(query){var tokens,matches,that=this;return tokens=normalizeTokens(this.queryTokenizer(query)),_.each(tokens,function(token){var node,chars,ch,ids;if(matches&&0===matches.length)return!1;for(node=that.trie,chars=token.split("");node&&(ch=chars.shift());)node=node[CHILDREN][ch];return node&&0===chars.length?(ids=node[IDS].slice(0),void(matches=matches?getIntersection(matches,ids):ids)):(matches=[],!1)}),matches?_.map(unique(matches),function(id){return that.datums[id]}):[]},all:function(){var values=[];for(var key in this.datums)values.push(this.datums[key]);return values},reset:function(){this.datums={},this.trie=newNode()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),SearchIndex}(),Prefetch=function(){"use strict";function Prefetch(o){this.url=o.url,this.ttl=o.ttl,this.cache=o.cache,this.prepare=o.prepare,this.transform=o.transform,this.transport=o.transport,this.thumbprint=o.thumbprint,this.storage=new PersistentStorage(o.cacheKey)}var keys;return keys={data:"data",protocol:"protocol",thumbprint:"thumbprint"},_.mixin(Prefetch.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(data){this.cache&&(this.storage.set(keys.data,data,this.ttl),this.storage.set(keys.protocol,location.protocol,this.ttl),this.storage.set(keys.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var isExpired,stored={};return this.cache?(stored.data=this.storage.get(keys.data),stored.protocol=this.storage.get(keys.protocol),stored.thumbprint=this.storage.get(keys.thumbprint),isExpired=stored.thumbprint!==this.thumbprint||stored.protocol!==location.protocol,stored.data&&!isExpired?stored.data:null):null},fromNetwork:function(cb){function onError(){cb(!0)}function onResponse(resp){cb(null,that.transform(resp))}var settings,that=this;cb&&(settings=this.prepare(this._settings()),this.transport(settings).fail(onError).done(onResponse))},clear:function(){return this.storage.clear(),this}}),Prefetch}(),Remote=function(){"use strict";function Remote(o){this.url=o.url,this.prepare=o.prepare,this.transform=o.transform,this.transport=new Transport({cache:o.cache,limiter:o.limiter,transport:o.transport})}return _.mixin(Remote.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(query,cb){function onResponse(err,resp){cb(err?[]:that.transform(resp))}var settings,that=this;if(cb)return query=query||"",settings=this.prepare(query,this._settings()),this.transport.get(settings,onResponse)},cancelLastRequest:function(){this.transport.cancel()}}),Remote}(),oParser=function(){"use strict";function parsePrefetch(o){var defaults;return o?(defaults={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:_.identity,transform:_.identity,transport:null},o=_.isString(o)?{url:o}:o,o=_.mixin(defaults,o),!o.url&&$.error("prefetch requires url to be set"),o.transform=o.filter||o.transform,o.cacheKey=o.cacheKey||o.url,o.thumbprint=VERSION+o.thumbprint,o.transport=o.transport?callbackToDeferred(o.transport):$.ajax,o):null}function parseRemote(o){var defaults;if(o)return defaults={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:_.identity,transport:null},o=_.isString(o)?{url:o}:o,o=_.mixin(defaults,o),!o.url&&$.error("remote requires url to be set"),o.transform=o.filter||o.transform,o.prepare=toRemotePrepare(o),o.limiter=toLimiter(o),o.transport=o.transport?callbackToDeferred(o.transport):$.ajax,delete o.replace,delete o.wildcard,delete o.rateLimitBy,delete o.rateLimitWait,o}function toRemotePrepare(o){function prepareByReplace(query,settings){return settings.url=replace(settings.url,query),settings}function prepareByWildcard(query,settings){return settings.url=settings.url.replace(wildcard,encodeURIComponent(query)),settings}function idenityPrepare(query,settings){return settings}var prepare,replace,wildcard;return prepare=o.prepare,replace=o.replace,wildcard=o.wildcard,prepare?prepare:prepare=replace?prepareByReplace:o.wildcard?prepareByWildcard:idenityPrepare}function toLimiter(o){function debounce(wait){return function(fn){return _.debounce(fn,wait)}}function throttle(wait){return function(fn){return _.throttle(fn,wait)}}var limiter,method,wait;return limiter=o.limiter,method=o.rateLimitBy,wait=o.rateLimitWait,limiter||(limiter=/^throttle$/i.test(method)?throttle(wait):debounce(wait)),limiter}function callbackToDeferred(fn){return function(o){function onSuccess(resp){_.defer(function(){deferred.resolve(resp)})}function onError(err){_.defer(function(){deferred.reject(err)})}var deferred=$.Deferred();return fn(o,onSuccess,onError),deferred}}return function(o){var defaults,sorter;return defaults={initialize:!0,identify:_.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},o=_.mixin(defaults,o||{}),!o.datumTokenizer&&$.error("datumTokenizer is required"),!o.queryTokenizer&&$.error("queryTokenizer is required"),sorter=o.sorter,o.sorter=sorter?function(x){return x.sort(sorter)}:_.identity,o.local=_.isFunction(o.local)?o.local():o.local,o.prefetch=parsePrefetch(o.prefetch),o.remote=parseRemote(o.remote),o}}(),Bloodhound=function(){"use strict";function Bloodhound(o){o=oParser(o),this.sorter=o.sorter,this.identify=o.identify,this.sufficient=o.sufficient,this.local=o.local,this.remote=o.remote?new Remote(o.remote):null,this.prefetch=o.prefetch?new Prefetch(o.prefetch):null,this.index=new SearchIndex({identify:this.identify,datumTokenizer:o.datumTokenizer,queryTokenizer:o.queryTokenizer}),o.initialize!==!1&&this.initialize()}var old;return old=window&&window.Bloodhound,Bloodhound.noConflict=function(){return window&&(window.Bloodhound=old),Bloodhound},Bloodhound.tokenizers=tokenizers,_.mixin(Bloodhound.prototype,{__ttAdapter:function(){function withAsync(query,sync,async){return that.search(query,sync,async)}function withoutAsync(query,sync){return that.search(query,sync)}var that=this;return this.remote?withAsync:withoutAsync},_loadPrefetch:function(){function done(err,data){return err?deferred.reject():(that.add(data),that.prefetch.store(that.index.serialize()),void deferred.resolve())}var deferred,serialized,that=this;return deferred=$.Deferred(),this.prefetch?(serialized=this.prefetch.fromCache())?(this.index.bootstrap(serialized),deferred.resolve()):this.prefetch.fromNetwork(done):deferred.resolve(),deferred.promise()},_initialize:function(){function addLocalToIndex(){that.add(that.local)}var that=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(addLocalToIndex),this.initPromise},initialize:function(force){return!this.initPromise||force?this._initialize():this.initPromise},add:function(data){return this.index.add(data),this},get:function(ids){return ids=_.isArray(ids)?ids:[].slice.call(arguments),this.index.get(ids)},search:function(query,sync,async){function processRemote(remote){var nonDuplicates=[];_.each(remote,function(r){!_.some(local,function(l){return that.identify(r)===that.identify(l)})&&nonDuplicates.push(r)}),async&&async(nonDuplicates)}var local,that=this;return local=this.sorter(this.index.search(query)),sync(this.remote?local.slice():local),this.remote&&local.length<this.sufficient?this.remote.get(query,processRemote):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return Transport.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),Bloodhound}();return Bloodhound})},{jquery:23}],97:[function(require,module,exports){!function(root,factory){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(a0){return root.Bloodhound=factory(a0)}):"object"==typeof exports?module.exports=factory(require("jquery")):root.Bloodhound=factory(jQuery)}(this,function($){var _=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(str){return!str||/^\s*$/.test(str)},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(obj){return"string"==typeof obj},isNumber:function(obj){return"number"==typeof obj},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(obj){return"undefined"==typeof obj},isElement:function(obj){return!(!obj||1!==obj.nodeType)},isJQuery:function(obj){return obj instanceof $},toStr:function(s){return _.isUndefined(s)||null===s?"":s+""},bind:$.proxy,each:function(collection,cb){function reverseArgs(index,value){return cb(value,index)}$.each(collection,reverseArgs)},map:$.map,filter:$.grep,every:function(obj,test){var result=!0;return obj?($.each(obj,function(key,val){return(result=test.call(null,val,key,obj))?void 0:!1}),!!result):result},some:function(obj,test){var result=!1;return obj?($.each(obj,function(key,val){return(result=test.call(null,val,key,obj))?!1:void 0}),!!result):result},mixin:$.extend,identity:function(x){return x},clone:function(obj){return $.extend(!0,{},obj)},getIdGenerator:function(){var counter=0;return function(){return counter++}},templatify:function(obj){function template(){return String(obj)}return $.isFunction(obj)?obj:template},defer:function(fn){setTimeout(fn,0)},debounce:function(func,wait,immediate){var timeout,result;return function(){var later,callNow,context=this,args=arguments;return later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout,clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},throttle:function(func,wait){var context,args,timeout,result,previous,later;return previous=0,later=function(){previous=new Date,timeout=null,result=func.apply(context,args)},function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||(timeout=setTimeout(later,remaining)),result}},stringify:function(val){return _.isString(val)?val:JSON.stringify(val)},noop:function(){}}}(),VERSION="0.11.1",tokenizers=function(){"use strict";function whitespace(str){return str=_.toStr(str),str?str.split(/\s+/):[]}function nonword(str){return str=_.toStr(str),str?str.split(/\W+/):[]}function getObjTokenizer(tokenizer){return function(keys){return keys=_.isArray(keys)?keys:[].slice.call(arguments,0),function(o){var tokens=[];return _.each(keys,function(k){tokens=tokens.concat(tokenizer(_.toStr(o[k])))}),tokens}}}return{nonword:nonword,whitespace:whitespace,obj:{nonword:getObjTokenizer(nonword),whitespace:getObjTokenizer(whitespace)}}}(),LruCache=function(){"use strict";function LruCache(maxSize){this.maxSize=_.isNumber(maxSize)?maxSize:100,this.reset(),this.maxSize<=0&&(this.set=this.get=$.noop)}function List(){this.head=this.tail=null}function Node(key,val){this.key=key,this.val=val,this.prev=this.next=null}return _.mixin(LruCache.prototype,{set:function(key,val){var node,tailItem=this.list.tail;this.size>=this.maxSize&&(this.list.remove(tailItem),delete this.hash[tailItem.key],this.size--),(node=this.hash[key])?(node.val=val,this.list.moveToFront(node)):(node=new Node(key,val),this.list.add(node),this.hash[key]=node,this.size++)},get:function(key){var node=this.hash[key];return node?(this.list.moveToFront(node),node.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new List}}),_.mixin(List.prototype,{add:function(node){this.head&&(node.next=this.head,this.head.prev=node),this.head=node,this.tail=this.tail||node},remove:function(node){node.prev?node.prev.next=node.next:this.head=node.next,node.next?node.next.prev=node.prev:this.tail=node.prev},moveToFront:function(node){this.remove(node),this.add(node)}}),LruCache}(),PersistentStorage=function(){"use strict";function PersistentStorage(namespace,override){this.prefix=["__",namespace,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+_.escapeRegExChars(this.prefix)),this.ls=override||LOCAL_STORAGE,!this.ls&&this._noop()}function now(){return(new Date).getTime()}function encode(val){return JSON.stringify(_.isUndefined(val)?null:val)}function decode(val){return $.parseJSON(val)}function gatherMatchingKeys(keyMatcher){var i,key,keys=[],len=LOCAL_STORAGE.length;for(i=0;len>i;i++)(key=LOCAL_STORAGE.key(i)).match(keyMatcher)&&keys.push(key.replace(keyMatcher,""));return keys}var LOCAL_STORAGE;try{LOCAL_STORAGE=window.localStorage,LOCAL_STORAGE.setItem("~~~","!"),LOCAL_STORAGE.removeItem("~~~")}catch(err){LOCAL_STORAGE=null}return _.mixin(PersistentStorage.prototype,{_prefix:function(key){return this.prefix+key},_ttlKey:function(key){return this._prefix(key)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=_.noop},_safeSet:function(key,val){try{this.ls.setItem(key,val)}catch(err){"QuotaExceededError"===err.name&&(this.clear(),this._noop())}},get:function(key){return this.isExpired(key)&&this.remove(key),decode(this.ls.getItem(this._prefix(key)))},set:function(key,val,ttl){return _.isNumber(ttl)?this._safeSet(this._ttlKey(key),encode(now()+ttl)):this.ls.removeItem(this._ttlKey(key)),this._safeSet(this._prefix(key),encode(val))},remove:function(key){return this.ls.removeItem(this._ttlKey(key)),this.ls.removeItem(this._prefix(key)),this},clear:function(){var i,keys=gatherMatchingKeys(this.keyMatcher);for(i=keys.length;i--;)this.remove(keys[i]);return this},isExpired:function(key){var ttl=decode(this.ls.getItem(this._ttlKey(key)));return _.isNumber(ttl)&&now()>ttl?!0:!1}}),PersistentStorage}(),Transport=function(){"use strict";function Transport(o){o=o||{},this.cancelled=!1,this.lastReq=null,this._send=o.transport,this._get=o.limiter?o.limiter(this._get):this._get,this._cache=o.cache===!1?new LruCache(0):sharedCache}var pendingRequestsCount=0,pendingRequests={},maxPendingRequests=6,sharedCache=new LruCache(10);return Transport.setMaxPendingRequests=function(num){maxPendingRequests=num},Transport.resetCache=function(){sharedCache.reset()},_.mixin(Transport.prototype,{_fingerprint:function(o){return o=o||{},o.url+o.type+$.param(o.data||{})},_get:function(o,cb){function done(resp){cb(null,resp),that._cache.set(fingerprint,resp)}function fail(){cb(!0)}function always(){pendingRequestsCount--,delete pendingRequests[fingerprint],that.onDeckRequestArgs&&(that._get.apply(that,that.onDeckRequestArgs),that.onDeckRequestArgs=null)}var fingerprint,jqXhr,that=this;fingerprint=this._fingerprint(o),this.cancelled||fingerprint!==this.lastReq||((jqXhr=pendingRequests[fingerprint])?jqXhr.done(done).fail(fail):maxPendingRequests>pendingRequestsCount?(pendingRequestsCount++,pendingRequests[fingerprint]=this._send(o).done(done).fail(fail).always(always)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(o,cb){var resp,fingerprint;cb=cb||$.noop,o=_.isString(o)?{url:o}:o||{},fingerprint=this._fingerprint(o),this.cancelled=!1,this.lastReq=fingerprint,(resp=this._cache.get(fingerprint))?cb(null,resp):this._get(o,cb)},cancel:function(){this.cancelled=!0}}),Transport}(),SearchIndex=window.SearchIndex=function(){"use strict";function SearchIndex(o){o=o||{},o.datumTokenizer&&o.queryTokenizer||$.error("datumTokenizer and queryTokenizer are both required"),this.identify=o.identify||_.stringify,this.datumTokenizer=o.datumTokenizer,this.queryTokenizer=o.queryTokenizer,this.reset()}function normalizeTokens(tokens){return tokens=_.filter(tokens,function(token){return!!token}),tokens=_.map(tokens,function(token){return token.toLowerCase()})}function newNode(){var node={};return node[IDS]=[],node[CHILDREN]={},node}function unique(array){for(var seen={},uniques=[],i=0,len=array.length;len>i;i++)seen[array[i]]||(seen[array[i]]=!0,uniques.push(array[i]));return uniques}function getIntersection(arrayA,arrayB){var ai=0,bi=0,intersection=[];arrayA=arrayA.sort(),arrayB=arrayB.sort();for(var lenArrayA=arrayA.length,lenArrayB=arrayB.length;lenArrayA>ai&&lenArrayB>bi;)arrayA[ai]<arrayB[bi]?ai++:arrayA[ai]>arrayB[bi]?bi++:(intersection.push(arrayA[ai]),ai++,bi++);return intersection}var CHILDREN="c",IDS="i";return _.mixin(SearchIndex.prototype,{bootstrap:function(o){this.datums=o.datums,this.trie=o.trie},add:function(data){var that=this;data=_.isArray(data)?data:[data],_.each(data,function(datum){var id,tokens;that.datums[id=that.identify(datum)]=datum,tokens=normalizeTokens(that.datumTokenizer(datum)),_.each(tokens,function(token){var node,chars,ch;for(node=that.trie,chars=token.split("");ch=chars.shift();)node=node[CHILDREN][ch]||(node[CHILDREN][ch]=newNode()),node[IDS].push(id)})})},get:function(ids){var that=this;return _.map(ids,function(id){return that.datums[id]})},search:function(query){var tokens,matches,that=this;return tokens=normalizeTokens(this.queryTokenizer(query)),_.each(tokens,function(token){var node,chars,ch,ids;if(matches&&0===matches.length)return!1;for(node=that.trie,chars=token.split("");node&&(ch=chars.shift());)node=node[CHILDREN][ch];return node&&0===chars.length?(ids=node[IDS].slice(0),void(matches=matches?getIntersection(matches,ids):ids)):(matches=[],!1)}),matches?_.map(unique(matches),function(id){return that.datums[id]}):[]},all:function(){var values=[];for(var key in this.datums)values.push(this.datums[key]);return values},reset:function(){this.datums={},this.trie=newNode()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),SearchIndex}(),Prefetch=function(){"use strict";function Prefetch(o){this.url=o.url,this.ttl=o.ttl,this.cache=o.cache,this.prepare=o.prepare,this.transform=o.transform,this.transport=o.transport,this.thumbprint=o.thumbprint,this.storage=new PersistentStorage(o.cacheKey)}var keys;return keys={data:"data",protocol:"protocol",thumbprint:"thumbprint"},_.mixin(Prefetch.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(data){this.cache&&(this.storage.set(keys.data,data,this.ttl),this.storage.set(keys.protocol,location.protocol,this.ttl),this.storage.set(keys.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var isExpired,stored={};return this.cache?(stored.data=this.storage.get(keys.data),stored.protocol=this.storage.get(keys.protocol),stored.thumbprint=this.storage.get(keys.thumbprint),isExpired=stored.thumbprint!==this.thumbprint||stored.protocol!==location.protocol,stored.data&&!isExpired?stored.data:null):null},fromNetwork:function(cb){function onError(){cb(!0)}function onResponse(resp){cb(null,that.transform(resp))}var settings,that=this;cb&&(settings=this.prepare(this._settings()),this.transport(settings).fail(onError).done(onResponse))},clear:function(){return this.storage.clear(),this}}),Prefetch}(),Remote=function(){"use strict";function Remote(o){this.url=o.url,this.prepare=o.prepare,this.transform=o.transform,this.transport=new Transport({cache:o.cache,limiter:o.limiter,transport:o.transport})}return _.mixin(Remote.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(query,cb){function onResponse(err,resp){cb(err?[]:that.transform(resp))}var settings,that=this;if(cb)return query=query||"",settings=this.prepare(query,this._settings()),this.transport.get(settings,onResponse)},cancelLastRequest:function(){this.transport.cancel()}}),Remote}(),oParser=function(){"use strict";function parsePrefetch(o){var defaults;return o?(defaults={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:_.identity,transform:_.identity,transport:null},o=_.isString(o)?{url:o}:o,o=_.mixin(defaults,o),!o.url&&$.error("prefetch requires url to be set"),o.transform=o.filter||o.transform,o.cacheKey=o.cacheKey||o.url,o.thumbprint=VERSION+o.thumbprint,o.transport=o.transport?callbackToDeferred(o.transport):$.ajax,o):null}function parseRemote(o){var defaults;if(o)return defaults={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:_.identity,transport:null},o=_.isString(o)?{url:o}:o,o=_.mixin(defaults,o),!o.url&&$.error("remote requires url to be set"),o.transform=o.filter||o.transform,o.prepare=toRemotePrepare(o),o.limiter=toLimiter(o),o.transport=o.transport?callbackToDeferred(o.transport):$.ajax,delete o.replace,delete o.wildcard,delete o.rateLimitBy,delete o.rateLimitWait,o}function toRemotePrepare(o){function prepareByReplace(query,settings){return settings.url=replace(settings.url,query),settings}function prepareByWildcard(query,settings){return settings.url=settings.url.replace(wildcard,encodeURIComponent(query)),settings}function idenityPrepare(query,settings){return settings}var prepare,replace,wildcard;return prepare=o.prepare,replace=o.replace,wildcard=o.wildcard,prepare?prepare:prepare=replace?prepareByReplace:o.wildcard?prepareByWildcard:idenityPrepare}function toLimiter(o){function debounce(wait){return function(fn){return _.debounce(fn,wait)}}function throttle(wait){return function(fn){return _.throttle(fn,wait)}}var limiter,method,wait;return limiter=o.limiter,method=o.rateLimitBy,wait=o.rateLimitWait,limiter||(limiter=/^throttle$/i.test(method)?throttle(wait):debounce(wait)),limiter}function callbackToDeferred(fn){return function(o){function onSuccess(resp){_.defer(function(){deferred.resolve(resp)})}function onError(err){_.defer(function(){deferred.reject(err)})}var deferred=$.Deferred();return fn(o,onSuccess,onError),deferred}}return function(o){var defaults,sorter;return defaults={initialize:!0,identify:_.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},o=_.mixin(defaults,o||{}),!o.datumTokenizer&&$.error("datumTokenizer is required"),!o.queryTokenizer&&$.error("queryTokenizer is required"),sorter=o.sorter,o.sorter=sorter?function(x){return x.sort(sorter)}:_.identity,o.local=_.isFunction(o.local)?o.local():o.local,o.prefetch=parsePrefetch(o.prefetch),o.remote=parseRemote(o.remote),o}}(),Bloodhound=function(){"use strict";function Bloodhound(o){o=oParser(o),this.sorter=o.sorter,this.identify=o.identify,this.sufficient=o.sufficient,this.local=o.local,this.remote=o.remote?new Remote(o.remote):null,this.prefetch=o.prefetch?new Prefetch(o.prefetch):null,this.index=new SearchIndex({identify:this.identify,datumTokenizer:o.datumTokenizer,queryTokenizer:o.queryTokenizer}),o.initialize!==!1&&this.initialize()}var old;return old=window&&window.Bloodhound,Bloodhound.noConflict=function(){return window&&(window.Bloodhound=old),Bloodhound},Bloodhound.tokenizers=tokenizers,_.mixin(Bloodhound.prototype,{__ttAdapter:function(){function withAsync(query,sync,async){return that.search(query,sync,async)}function withoutAsync(query,sync){return that.search(query,sync)}var that=this;return this.remote?withAsync:withoutAsync},_loadPrefetch:function(){function done(err,data){return err?deferred.reject():(that.add(data),that.prefetch.store(that.index.serialize()),void deferred.resolve())}var deferred,serialized,that=this;return deferred=$.Deferred(),this.prefetch?(serialized=this.prefetch.fromCache())?(this.index.bootstrap(serialized),deferred.resolve()):this.prefetch.fromNetwork(done):deferred.resolve(),deferred.promise()},_initialize:function(){function addLocalToIndex(){that.add(that.local)}var that=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(addLocalToIndex),this.initPromise},initialize:function(force){return!this.initPromise||force?this._initialize():this.initPromise;
},add:function(data){return this.index.add(data),this},get:function(ids){return ids=_.isArray(ids)?ids:[].slice.call(arguments),this.index.get(ids)},search:function(query,sync,async){function processRemote(remote){var nonDuplicates=[];_.each(remote,function(r){!_.some(local,function(l){return that.identify(r)===that.identify(l)})&&nonDuplicates.push(r)}),async&&async(nonDuplicates)}var local,that=this;return local=this.sorter(this.index.search(query)),sync(this.remote?local.slice():local),this.remote&&local.length<this.sufficient?this.remote.get(query,processRemote):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return Transport.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),Bloodhound}();return Bloodhound}),function(root,factory){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(a0){return factory(a0)}):"object"==typeof exports?module.exports=factory(require("jquery")):factory(jQuery)}(this,function($){var _=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(str){return!str||/^\s*$/.test(str)},escapeRegExChars:function(str){return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(obj){return"string"==typeof obj},isNumber:function(obj){return"number"==typeof obj},isArray:$.isArray,isFunction:$.isFunction,isObject:$.isPlainObject,isUndefined:function(obj){return"undefined"==typeof obj},isElement:function(obj){return!(!obj||1!==obj.nodeType)},isJQuery:function(obj){return obj instanceof $},toStr:function(s){return _.isUndefined(s)||null===s?"":s+""},bind:$.proxy,each:function(collection,cb){function reverseArgs(index,value){return cb(value,index)}$.each(collection,reverseArgs)},map:$.map,filter:$.grep,every:function(obj,test){var result=!0;return obj?($.each(obj,function(key,val){return(result=test.call(null,val,key,obj))?void 0:!1}),!!result):result},some:function(obj,test){var result=!1;return obj?($.each(obj,function(key,val){return(result=test.call(null,val,key,obj))?!1:void 0}),!!result):result},mixin:$.extend,identity:function(x){return x},clone:function(obj){return $.extend(!0,{},obj)},getIdGenerator:function(){var counter=0;return function(){return counter++}},templatify:function(obj){function template(){return String(obj)}return $.isFunction(obj)?obj:template},defer:function(fn){setTimeout(fn,0)},debounce:function(func,wait,immediate){var timeout,result;return function(){var later,callNow,context=this,args=arguments;return later=function(){timeout=null,immediate||(result=func.apply(context,args))},callNow=immediate&&!timeout,clearTimeout(timeout),timeout=setTimeout(later,wait),callNow&&(result=func.apply(context,args)),result}},throttle:function(func,wait){var context,args,timeout,result,previous,later;return previous=0,later=function(){previous=new Date,timeout=null,result=func.apply(context,args)},function(){var now=new Date,remaining=wait-(now-previous);return context=this,args=arguments,0>=remaining?(clearTimeout(timeout),timeout=null,previous=now,result=func.apply(context,args)):timeout||(timeout=setTimeout(later,remaining)),result}},stringify:function(val){return _.isString(val)?val:JSON.stringify(val)},noop:function(){}}}(),WWW=function(){"use strict";function build(o){var www,classes;return classes=_.mixin({},defaultClassNames,o),www={css:buildCss(),classes:classes,html:buildHtml(classes),selectors:buildSelectors(classes)},{css:www.css,html:www.html,classes:www.classes,selectors:www.selectors,mixin:function(o){_.mixin(o,www)}}}function buildHtml(c){return{wrapper:'<span class="'+c.wrapper+'"></span>',menu:'<div class="'+c.menu+'"></div>'}}function buildSelectors(classes){var selectors={};return _.each(classes,function(v,k){selectors[k]="."+v}),selectors}function buildCss(){var css={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return _.isMsie()&&_.mixin(css.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),css}var defaultClassNames={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return build}(),EventBus=function(){"use strict";function EventBus(o){o&&o.el||$.error("EventBus initialized without el"),this.$el=$(o.el)}var namespace,deprecationMap;return namespace="typeahead:",deprecationMap={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},_.mixin(EventBus.prototype,{_trigger:function(type,args){var $e;return $e=$.Event(namespace+type),(args=args||[]).unshift($e),this.$el.trigger.apply(this.$el,args),$e},before:function(type){var args,$e;return args=[].slice.call(arguments,1),$e=this._trigger("before"+type,args),$e.isDefaultPrevented()},trigger:function(type){var deprecatedType;this._trigger(type,[].slice.call(arguments,1)),(deprecatedType=deprecationMap[type])&&this._trigger(deprecatedType,[].slice.call(arguments,1))}}),EventBus}(),EventEmitter=function(){"use strict";function on(method,types,cb,context){var type;if(!cb)return this;for(types=types.split(splitter),cb=context?bindContext(cb,context):cb,this._callbacks=this._callbacks||{};type=types.shift();)this._callbacks[type]=this._callbacks[type]||{sync:[],async:[]},this._callbacks[type][method].push(cb);return this}function onAsync(types,cb,context){return on.call(this,"async",types,cb,context)}function onSync(types,cb,context){return on.call(this,"sync",types,cb,context)}function off(types){var type;if(!this._callbacks)return this;for(types=types.split(splitter);type=types.shift();)delete this._callbacks[type];return this}function trigger(types){var type,callbacks,args,syncFlush,asyncFlush;if(!this._callbacks)return this;for(types=types.split(splitter),args=[].slice.call(arguments,1);(type=types.shift())&&(callbacks=this._callbacks[type]);)syncFlush=getFlush(callbacks.sync,this,[type].concat(args)),asyncFlush=getFlush(callbacks.async,this,[type].concat(args)),syncFlush()&&nextTick(asyncFlush);return this}function getFlush(callbacks,context,args){function flush(){for(var cancelled,i=0,len=callbacks.length;!cancelled&&len>i;i+=1)cancelled=callbacks[i].apply(context,args)===!1;return!cancelled}return flush}function getNextTick(){var nextTickFn;return nextTickFn=window.setImmediate?function(fn){setImmediate(function(){fn()})}:function(fn){setTimeout(function(){fn()},0)}}function bindContext(fn,context){return fn.bind?fn.bind(context):function(){fn.apply(context,[].slice.call(arguments,0))}}var splitter=/\s+/,nextTick=getNextTick();return{onSync:onSync,onAsync:onAsync,off:off,trigger:trigger}}(),highlight=function(doc){"use strict";function getRegex(patterns,caseSensitive,wordsOnly){for(var regexStr,escapedPatterns=[],i=0,len=patterns.length;len>i;i++)escapedPatterns.push(_.escapeRegExChars(patterns[i]));return regexStr=wordsOnly?"\\b("+escapedPatterns.join("|")+")\\b":"("+escapedPatterns.join("|")+")",caseSensitive?new RegExp(regexStr):new RegExp(regexStr,"i")}var defaults={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(o){function hightlightTextNode(textNode){var match,patternNode,wrapperNode;return(match=regex.exec(textNode.data))&&(wrapperNode=doc.createElement(o.tagName),o.className&&(wrapperNode.className=o.className),patternNode=textNode.splitText(match.index),patternNode.splitText(match[0].length),wrapperNode.appendChild(patternNode.cloneNode(!0)),textNode.parentNode.replaceChild(wrapperNode,patternNode)),!!match}function traverse(el,hightlightTextNode){for(var childNode,TEXT_NODE_TYPE=3,i=0;i<el.childNodes.length;i++)childNode=el.childNodes[i],childNode.nodeType===TEXT_NODE_TYPE?i+=hightlightTextNode(childNode)?1:0:traverse(childNode,hightlightTextNode)}var regex;o=_.mixin({},defaults,o),o.node&&o.pattern&&(o.pattern=_.isArray(o.pattern)?o.pattern:[o.pattern],regex=getRegex(o.pattern,o.caseSensitive,o.wordsOnly),traverse(o.node,hightlightTextNode))}}(window.document),Input=function(){"use strict";function Input(o,www){o=o||{},o.input||$.error("input is missing"),www.mixin(this),this.$hint=$(o.hint),this.$input=$(o.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=buildOverflowHelper(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=_.noop)}function buildOverflowHelper($input){return $('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:$input.css("font-family"),fontSize:$input.css("font-size"),fontStyle:$input.css("font-style"),fontVariant:$input.css("font-variant"),fontWeight:$input.css("font-weight"),wordSpacing:$input.css("word-spacing"),letterSpacing:$input.css("letter-spacing"),textIndent:$input.css("text-indent"),textRendering:$input.css("text-rendering"),textTransform:$input.css("text-transform")}).insertAfter($input)}function areQueriesEquivalent(a,b){return Input.normalizeQuery(a)===Input.normalizeQuery(b)}function withModifier($e){return $e.altKey||$e.ctrlKey||$e.metaKey||$e.shiftKey}var specialKeyCodeMap;return specialKeyCodeMap={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},Input.normalizeQuery=function(str){return _.toStr(str).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},_.mixin(Input.prototype,EventEmitter,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function($e){var keyName=specialKeyCodeMap[$e.which||$e.keyCode];this._managePreventDefault(keyName,$e),keyName&&this._shouldTrigger(keyName,$e)&&this.trigger(keyName+"Keyed",$e)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(keyName,$e){var preventDefault;switch(keyName){case"up":case"down":preventDefault=!withModifier($e);break;default:preventDefault=!1}preventDefault&&$e.preventDefault()},_shouldTrigger:function(keyName,$e){var trigger;switch(keyName){case"tab":trigger=!withModifier($e);break;default:trigger=!0}return trigger},_checkLanguageDirection:function(){var dir=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==dir&&(this.dir=dir,this.$hint.attr("dir",dir),this.trigger("langDirChanged",dir))},_setQuery:function(val,silent){var areEquivalent,hasDifferentWhitespace;areEquivalent=areQueriesEquivalent(val,this.query),hasDifferentWhitespace=areEquivalent?this.query.length!==val.length:!1,this.query=val,silent||areEquivalent?!silent&&hasDifferentWhitespace&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var onBlur,onFocus,onKeydown,onInput,that=this;return onBlur=_.bind(this._onBlur,this),onFocus=_.bind(this._onFocus,this),onKeydown=_.bind(this._onKeydown,this),onInput=_.bind(this._onInput,this),this.$input.on("blur.tt",onBlur).on("focus.tt",onFocus).on("keydown.tt",onKeydown),!_.isMsie()||_.isMsie()>9?this.$input.on("input.tt",onInput):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function($e){specialKeyCodeMap[$e.which||$e.keyCode]||_.defer(_.bind(that._onInput,that,$e))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(val,silent){this.setInputValue(val),this._setQuery(val,silent)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(value){this.$input.val(value),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(value){this.$hint.val(value)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var val,hint,valIsPrefixOfHint,isValid;val=this.getInputValue(),hint=this.getHint(),valIsPrefixOfHint=val!==hint&&0===hint.indexOf(val),isValid=""!==val&&valIsPrefixOfHint&&!this.hasOverflow(),!isValid&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var constraint=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=constraint},isCursorAtEnd:function(){var valueLength,selectionStart,range;return valueLength=this.$input.val().length,selectionStart=this.$input[0].selectionStart,_.isNumber(selectionStart)?selectionStart===valueLength:document.selection?(range=document.selection.createRange(),range.moveStart("character",-valueLength),valueLength===range.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=$("<div>")}}),Input}(),Dataset=function(){"use strict";function Dataset(o,www){o=o||{},o.templates=o.templates||{},o.templates.notFound=o.templates.notFound||o.templates.empty,o.source||$.error("missing source"),o.node||$.error("missing node"),o.name&&!isValidName(o.name)&&$.error("invalid dataset name: "+o.name),www.mixin(this),this.highlight=!!o.highlight,this.name=o.name||nameGenerator(),this.limit=o.limit||5,this.displayFn=getDisplayFn(o.display||o.displayKey),this.templates=getTemplates(o.templates,this.displayFn),this.source=o.source.__ttAdapter?o.source.__ttAdapter():o.source,this.async=_.isUndefined(o.async)?this.source.length>2:!!o.async,this._resetLastSuggestion(),this.$el=$(o.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function getDisplayFn(display){function displayFn(obj){return obj[display]}return display=display||_.stringify,_.isFunction(display)?display:displayFn}function getTemplates(templates,displayFn){function suggestionTemplate(context){return $("<div>").text(displayFn(context))}return{notFound:templates.notFound&&_.templatify(templates.notFound),pending:templates.pending&&_.templatify(templates.pending),header:templates.header&&_.templatify(templates.header),footer:templates.footer&&_.templatify(templates.footer),suggestion:templates.suggestion||suggestionTemplate}}function isValidName(str){return/^[_a-zA-Z0-9-]+$/.test(str)}var keys,nameGenerator;return keys={val:"tt-selectable-display",obj:"tt-selectable-object"},nameGenerator=_.getIdGenerator(),Dataset.extractData=function(el){var $el=$(el);return $el.data(keys.obj)?{val:$el.data(keys.val)||"",obj:$el.data(keys.obj)||null}:null},_.mixin(Dataset.prototype,EventEmitter,{_overwrite:function(query,suggestions){suggestions=suggestions||[],suggestions.length?this._renderSuggestions(query,suggestions):this.async&&this.templates.pending?this._renderPending(query):!this.async&&this.templates.notFound?this._renderNotFound(query):this._empty(),this.trigger("rendered",this.name,suggestions,!1)},_append:function(query,suggestions){suggestions=suggestions||[],suggestions.length&&this.$lastSuggestion.length?this._appendSuggestions(query,suggestions):suggestions.length?this._renderSuggestions(query,suggestions):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(query),this.trigger("rendered",this.name,suggestions,!0)},_renderSuggestions:function(query,suggestions){var $fragment;$fragment=this._getSuggestionsFragment(query,suggestions),this.$lastSuggestion=$fragment.children().last(),this.$el.html($fragment).prepend(this._getHeader(query,suggestions)).append(this._getFooter(query,suggestions))},_appendSuggestions:function(query,suggestions){var $fragment,$lastSuggestion;$fragment=this._getSuggestionsFragment(query,suggestions),$lastSuggestion=$fragment.children().last(),this.$lastSuggestion.after($fragment),this.$lastSuggestion=$lastSuggestion},_renderPending:function(query){var template=this.templates.pending;this._resetLastSuggestion(),template&&this.$el.html(template({query:query,dataset:this.name}))},_renderNotFound:function(query){var template=this.templates.notFound;this._resetLastSuggestion(),template&&this.$el.html(template({query:query,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(query,suggestions){var fragment,that=this;return fragment=document.createDocumentFragment(),_.each(suggestions,function(suggestion){var $el,context;context=that._injectQuery(query,suggestion),$el=$(that.templates.suggestion(context)).data(keys.obj,suggestion).data(keys.val,that.displayFn(suggestion)).addClass(that.classes.suggestion+" "+that.classes.selectable),fragment.appendChild($el[0])}),this.highlight&&highlight({className:this.classes.highlight,node:fragment,pattern:query}),$(fragment)},_getFooter:function(query,suggestions){return this.templates.footer?this.templates.footer({query:query,suggestions:suggestions,dataset:this.name}):null},_getHeader:function(query,suggestions){return this.templates.header?this.templates.header({query:query,suggestions:suggestions,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=$()},_injectQuery:function(query,obj){return _.isObject(obj)?_.mixin({_query:query},obj):obj},update:function(query){function sync(suggestions){syncCalled||(syncCalled=!0,suggestions=(suggestions||[]).slice(0,that.limit),rendered=suggestions.length,that._overwrite(query,suggestions),rendered<that.limit&&that.async&&that.trigger("asyncRequested",query))}function async(suggestions){suggestions=suggestions||[],!canceled&&rendered<that.limit&&(that.cancel=$.noop,rendered+=suggestions.length,that._append(query,suggestions.slice(0,that.limit-rendered)),that.async&&that.trigger("asyncReceived",query))}var that=this,canceled=!1,syncCalled=!1,rendered=0;this.cancel(),this.cancel=function(){canceled=!0,that.cancel=$.noop,that.async&&that.trigger("asyncCanceled",query)},this.source(query,sync,async),!syncCalled&&sync([])},cancel:$.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=$("<div>")}}),Dataset}(),Menu=function(){"use strict";function Menu(o,www){function initializeDataset(oDataset){var node=that.$node.find(oDataset.node).first();return oDataset.node=node.length?node:$("<div>").appendTo(that.$node),new Dataset(oDataset,www)}var that=this;o=o||{},o.node||$.error("node is required"),www.mixin(this),this.$node=$(o.node),this.query=null,this.datasets=_.map(o.datasets,initializeDataset),this.autoSelect=!!o.autoSelect}return _.mixin(Menu.prototype,EventEmitter,{_onSelectableClick:function($e){this.trigger("selectableClicked",$($e.currentTarget))},_onRendered:function(type,dataset,suggestions,async){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",dataset,suggestions,async)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function isDatasetEmpty(dataset){return dataset.isEmpty()}return _.every(this.datasets,isDatasetEmpty)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var $selectable=this.getActiveSelectable();$selectable&&$selectable.removeClass(this.classes.cursor)},_ensureVisible:function($el){var elTop,elBottom,nodeScrollTop,nodeHeight;elTop=$el.position().top,elBottom=elTop+$el.outerHeight(!0),nodeScrollTop=this.$node.scrollTop(),nodeHeight=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>elTop?this.$node.scrollTop(nodeScrollTop+elTop):elBottom>nodeHeight&&this.$node.scrollTop(nodeScrollTop+(elBottom-nodeHeight))},bind:function(){var onSelectableClick,that=this;return onSelectableClick=_.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,onSelectableClick),_.each(this.datasets,function(dataset){dataset.onSync("asyncRequested",that._propagate,that).onSync("asyncCanceled",that._propagate,that).onSync("asyncReceived",that._propagate,that).onSync("rendered",that._onRendered,that).onSync("cleared",that._onCleared,that)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){var $suggestionList=$(this.$node[0].children[0]).find(this.selectors.suggestion+this.selectors.selectable);this.autoSelect&&$suggestionList.length>0&&$suggestionList.first().addClass(this.classes.cursor),this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(dir){this.$node.attr("dir",dir)},selectableRelativeToCursor:function(delta){var $selectables,$oldCursor,oldIndex,newIndex;return $oldCursor=this.getActiveSelectable(),$selectables=this._getSelectables(),oldIndex=$oldCursor?$selectables.index($oldCursor):-1,newIndex=oldIndex+delta,newIndex=(newIndex+1)%($selectables.length+1)-1,newIndex=-1>newIndex?$selectables.length-1:newIndex,-1===newIndex?null:$selectables.eq(newIndex)},setCursor:function($selectable){this._removeCursor(),($selectable=$selectable&&$selectable.first())&&($selectable.addClass(this.classes.cursor),this._ensureVisible($selectable))},getSelectableData:function($el){return $el&&$el.length?Dataset.extractData($el):null},getActiveSelectable:function(){var $selectable=this._getSelectables().filter(this.selectors.cursor).first();return $selectable.length?$selectable:null},getTopSelectable:function(){var $selectable=this._getSelectables().first();return $selectable.length?$selectable:null},update:function(query){function updateDataset(dataset){dataset.update(query)}var isValidUpdate=query!==this.query;return isValidUpdate&&(this.query=query,_.each(this.datasets,updateDataset)),isValidUpdate},empty:function(){function clearDataset(dataset){dataset.clear()}_.each(this.datasets,clearDataset),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function destroyDataset(dataset){dataset.destroy()}this.$node.off(".tt"),this.$node=$("<div>"),_.each(this.datasets,destroyDataset)}}),Menu}(),DefaultMenu=function(){"use strict";function DefaultMenu(){Menu.apply(this,[].slice.call(arguments,0))}var s=Menu.prototype;return _.mixin(DefaultMenu.prototype,Menu.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),s.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),s.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),s._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),s._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(dir){return this.$node.css("ltr"===dir?this.css.ltr:this.css.rtl),s.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),DefaultMenu}(),Typeahead=function(){"use strict";function Typeahead(o,www){var onFocused,onBlurred,onEnterKeyed,onTabKeyed,onEscKeyed,onUpKeyed,onDownKeyed,onLeftKeyed,onRightKeyed,onQueryChanged,onWhitespaceChanged;o=o||{},o.input||$.error("missing input"),o.menu||$.error("missing menu"),o.eventBus||$.error("missing event bus"),www.mixin(this),this.eventBus=o.eventBus,this.minLength=_.isNumber(o.minLength)?o.minLength:1,this.input=o.input,this.menu=o.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),onFocused=c(this,"activate","open","_onFocused"),onBlurred=c(this,"deactivate","_onBlurred"),onEnterKeyed=c(this,"isActive","isOpen","_onEnterKeyed"),onTabKeyed=c(this,"isActive","isOpen","_onTabKeyed"),onEscKeyed=c(this,"isActive","_onEscKeyed"),onUpKeyed=c(this,"isActive","open","_onUpKeyed"),onDownKeyed=c(this,"isActive","open","_onDownKeyed"),onLeftKeyed=c(this,"isActive","isOpen","_onLeftKeyed"),onRightKeyed=c(this,"isActive","isOpen","_onRightKeyed"),onQueryChanged=c(this,"_openIfActive","_onQueryChanged"),onWhitespaceChanged=c(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",onFocused,this).onSync("blurred",onBlurred,this).onSync("enterKeyed",onEnterKeyed,this).onSync("tabKeyed",onTabKeyed,this).onSync("escKeyed",onEscKeyed,this).onSync("upKeyed",onUpKeyed,this).onSync("downKeyed",onDownKeyed,this).onSync("leftKeyed",onLeftKeyed,this).onSync("rightKeyed",onRightKeyed,this).onSync("queryChanged",onQueryChanged,this).onSync("whitespaceChanged",onWhitespaceChanged,this).onSync("langDirChanged",this._onLangDirChanged,this)}function c(ctx){var methods=[].slice.call(arguments,1);return function(){var args=[].slice.call(arguments);_.each(methods,function(method){return ctx[method].apply(ctx,args)})}}return _.mixin(Typeahead.prototype,{_hacks:function(){var $input,$menu;$input=this.input.$input||$("<div>"),$menu=this.menu.$node||$("<div>"),$input.on("blur.tt",function($e){var active,isActive,hasActive;active=document.activeElement,isActive=$menu.is(active),hasActive=$menu.has(active).length>0,_.isMsie()&&(isActive||hasActive)&&($e.preventDefault(),$e.stopImmediatePropagation(),_.defer(function(){$input.focus()}))}),$menu.on("mousedown.tt",function($e){$e.preventDefault()})},_onSelectableClicked:function(type,$el){this.select($el)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(type,dataset,suggestions,async){this._updateHint(),this.eventBus.trigger("render",suggestions,async,dataset)},_onAsyncRequested:function(type,dataset,query){this.eventBus.trigger("asyncrequest",query,dataset)},_onAsyncCanceled:function(type,dataset,query){this.eventBus.trigger("asynccancel",query,dataset)},_onAsyncReceived:function(type,dataset,query){this.eventBus.trigger("asyncreceive",query,dataset)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(type,$e){var $selectable;($selectable=this.menu.getActiveSelectable())&&this.select($selectable)&&$e.preventDefault()},_onTabKeyed:function(type,$e){var $selectable;($selectable=this.menu.getActiveSelectable())?this.select($selectable)&&$e.preventDefault():($selectable=this.menu.getTopSelectable())&&this.autocomplete($selectable)&&$e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(e,query){this._minLengthMet(query)?this.menu.update(query):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(e,dir){this.dir!==dir&&(this.dir=dir,this.menu.setLanguageDirection(dir))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(query){return query=_.isString(query)?query:this.input.getQuery()||"",query.length>=this.minLength},_updateHint:function(){var $selectable,data,val,query,escapedQuery,frontMatchRegEx,match;$selectable=this.menu.getTopSelectable(),data=this.menu.getSelectableData($selectable),val=this.input.getInputValue(),!data||_.isBlankString(val)||this.input.hasOverflow()?this.input.clearHint():(query=Input.normalizeQuery(val),escapedQuery=_.escapeRegExChars(query),frontMatchRegEx=new RegExp("^(?:"+escapedQuery+")(.+$)","i"),match=frontMatchRegEx.exec(data.val),match&&this.input.setHint(val+match[1]),this.menu.autoSelect&&!$selectable.hasClass(this.classes.cursor)&&$selectable.addClass(this.classes.cursor))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(val){this.input.setQuery(_.toStr(val))},getVal:function(){return this.input.getQuery()},select:function($selectable){var data=this.menu.getSelectableData($selectable);return data&&!this.eventBus.before("select",data.obj)?(this.input.setQuery(data.val,!0),this.eventBus.trigger("select",data.obj),this.close(),!0):!1},autocomplete:function($selectable){var query,data,isValid;return query=this.input.getQuery(),data=this.menu.getSelectableData($selectable),isValid=data&&query!==data.val,isValid&&!this.eventBus.before("autocomplete",data.obj)?(this.input.setQuery(data.val),this.eventBus.trigger("autocomplete",data.obj),!0):!1},moveCursor:function(delta){var query,$candidate,data,payload,cancelMove;return query=this.input.getQuery(),$candidate=this.menu.selectableRelativeToCursor(delta),data=this.menu.getSelectableData($candidate),payload=data?data.obj:null,cancelMove=this._minLengthMet()&&this.menu.update(query),cancelMove||this.eventBus.before("cursorchange",payload)?!1:(this.menu.setCursor($candidate),data?this.input.setInputValue(data.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",payload),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),Typeahead}();!function(){"use strict";function ttEach($els,fn){$els.each(function(){var typeahead,$input=$(this);(typeahead=$input.data(keys.typeahead))&&fn(typeahead,$input)})}function buildHintFromInput($input,www){return $input.clone().addClass(www.classes.hint).removeData().css(www.css.hint).css(getBackgroundStyles($input)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function prepInput($input,www){$input.data(keys.attrs,{dir:$input.attr("dir"),autocomplete:$input.attr("autocomplete"),spellcheck:$input.attr("spellcheck"),style:$input.attr("style")}),$input.addClass(www.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!$input.attr("dir")&&$input.attr("dir","auto")}catch(e){}return $input}function getBackgroundStyles($el){return{backgroundAttachment:$el.css("background-attachment"),backgroundClip:$el.css("background-clip"),backgroundColor:$el.css("background-color"),backgroundImage:$el.css("background-image"),backgroundOrigin:$el.css("background-origin"),
backgroundPosition:$el.css("background-position"),backgroundRepeat:$el.css("background-repeat"),backgroundSize:$el.css("background-size")}}function revert($input){var www,$wrapper;www=$input.data(keys.www),$wrapper=$input.parent().filter(www.selectors.wrapper),_.each($input.data(keys.attrs),function(val,key){_.isUndefined(val)?$input.removeAttr(key):$input.attr(key,val)}),$input.removeData(keys.typeahead).removeData(keys.www).removeData(keys.attr).removeClass(www.classes.input),$wrapper.length&&($input.detach().insertAfter($wrapper),$wrapper.remove())}function $elOrNull(obj){var isValid,$el;return isValid=_.isJQuery(obj)||_.isElement(obj),$el=isValid?$(obj).first():[],$el.length?$el:null}var old,keys,methods;old=$.fn.typeahead,keys={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},methods={initialize:function(o,datasets){function attach(){var $input,$wrapper,$hint,$menu,defaultHint,defaultMenu,eventBus,input,menu,typeahead,MenuConstructor;_.each(datasets,function(d){d.highlight=!!o.highlight}),$input=$(this),$wrapper=$(www.html.wrapper),$hint=$elOrNull(o.hint),$menu=$elOrNull(o.menu),defaultHint=o.hint!==!1&&!$hint,defaultMenu=o.menu!==!1&&!$menu,defaultHint&&($hint=buildHintFromInput($input,www)),defaultMenu&&($menu=$(www.html.menu).css(www.css.menu)),$hint&&$hint.val(""),$input=prepInput($input,www),(defaultHint||defaultMenu)&&($wrapper.css(www.css.wrapper),$input.css(defaultHint?www.css.input:www.css.inputWithNoHint),$input.wrap($wrapper).parent().prepend(defaultHint?$hint:null).append(defaultMenu?$menu:null)),MenuConstructor=defaultMenu?DefaultMenu:Menu,eventBus=new EventBus({el:$input}),input=new Input({hint:$hint,input:$input},www),menu=new MenuConstructor({node:$menu,autoSelect:!!o.autoSelect,datasets:datasets},www),typeahead=new Typeahead({input:input,menu:menu,eventBus:eventBus,minLength:o.minLength},www),$input.data(keys.www,www),$input.data(keys.typeahead,typeahead)}var www;return datasets=_.isArray(datasets)?datasets:[].slice.call(arguments,1),o=o||{},www=WWW(o.classNames),this.each(attach)},isEnabled:function(){var enabled;return ttEach(this.first(),function(t){enabled=t.isEnabled()}),enabled},enable:function(){return ttEach(this,function(t){t.enable()}),this},disable:function(){return ttEach(this,function(t){t.disable()}),this},isActive:function(){var active;return ttEach(this.first(),function(t){active=t.isActive()}),active},activate:function(){return ttEach(this,function(t){t.activate()}),this},deactivate:function(){return ttEach(this,function(t){t.deactivate()}),this},isOpen:function(){var open;return ttEach(this.first(),function(t){open=t.isOpen()}),open},open:function(){return ttEach(this,function(t){t.open()}),this},close:function(){return ttEach(this,function(t){t.close()}),this},select:function(el){var success=!1,$el=$(el);return ttEach(this.first(),function(t){success=t.select($el)}),success},autocomplete:function(el){var success=!1,$el=$(el);return ttEach(this.first(),function(t){success=t.autocomplete($el)}),success},moveCursor:function(delta){var success=!1;return ttEach(this.first(),function(t){success=t.moveCursor(delta)}),success},val:function(newVal){var query;return arguments.length?(ttEach(this,function(t){t.setVal(newVal)}),this):(ttEach(this.first(),function(t){query=t.getVal()}),query)},destroy:function(){return ttEach(this,function(typeahead,$input){revert($input),typeahead.destroy()}),this}},$.fn.typeahead=function(method){return methods[method]?methods[method].apply(this,[].slice.call(arguments,1)):methods.initialize.apply(this,arguments)},$.fn.typeahead.noConflict=function(){return $.fn.typeahead=old,this}}()})},{jquery:23}],98:[function(require,module,exports){(function(global){"use strict";function init(config){viewer.init(config.el,config.options);var controls=config.options.controls||[];controlInitialiser(controls)}window.proj4=require("proj4");var svg4everybody=require("svg4everybody");svg4everybody(),global.jQuery=require("jquery");var viewer=(require("jquery"),require("./src/viewer")),mapLoader=require("./src/maploader"),controlInitialiser=require("./src/controlinitialiser"),origo={};origo.map={},origo.controls={},origo.controls.geoposition=require("./src/geoposition"),origo.controls.mapmenu=require("./src/mapmenu"),origo.controls.print=require("./src/print"),origo.controls.sharemap=require("./src/sharemap"),origo.controls.legend=require("./src/legend"),origo.controls.search=require("./src/search"),origo.controls.editor=require("./src/editor"),origo.controls.home=require("./src/home"),origo.map.init=function(el,options){var map=mapLoader(el,options);return"function"==typeof map.then?map.then(function(config){init(config)}):init(map),viewer},module.exports=origo}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./src/controlinitialiser":99,"./src/editor":100,"./src/geoposition":105,"./src/home":109,"./src/legend":110,"./src/maploader":111,"./src/mapmenu":112,"./src/print":120,"./src/search":121,"./src/sharemap":122,"./src/viewer":137,jquery:23,proj4:61,svg4everybody:94}],99:[function(require,module,exports){"use strict";var controlInitialiser=function(controls){var controlName,controlOptions;controls.forEach(function(control){controlName=control.name,controlOptions=control.options||void 0,origo.controls.hasOwnProperty(controlName)&&(controlOptions?origo.controls[controlName].init(controlOptions):origo.controls[controlName].init())})};module.exports=controlInitialiser},{}],100:[function(require,module,exports){"use strict";var $=require("jquery"),utils=require("./utils"),editortoolbar=require("./editortoolbar");module.exports=function(){function bindUIActions(){$editorButton.on("click",function(e){$(".o-map").trigger({type:"enableInteraction",interaction:"editor"}),this.blur(),e.preventDefault()})}function render(){var el=utils.createListButton({id:"o-editor",iconCls:"o-icon-fa-pencil",src:"css/svg/fa-icons.svg#fa-pencil",text:"Redigera"});$("#o-menutools").append(el)}var $editorButton;return{init:function(options){render(),$editorButton=$("#o-editor-button"),bindUIActions(),editortoolbar.init(options)}}}()},{"./editortoolbar":101,"./utils":132,jquery:23}],101:[function(require,module,exports){"use strict";var $=(require("openlayers"),require("jquery")),viewer=require("./viewer"),transactionhandler=require("./transactionhandler"),editortemplate=require("./templates/editortoolbar.template.handlebars");module.exports=function(){function render(selectOptions){$("#o-map").append(editortemplate(selectOptions))}function onEnableInteraction(e){"editor"===e.interaction?(setActive(!0),transactionhandler.onSetEditLayer(editableLayers[defaultLayer])):(setActive(!1),transactionhandler.removeInteractions())}function setActive(state){state===!0?$("#o-editor-toolbar").removeClass("o-hidden"):$("#o-editor-toolbar").addClass("o-hidden")}function emitEnableInteraction(){$(".o-map").trigger({type:"enableInteraction",interaction:"editor"})}function selectionModel(layerNames){var selectOptions=layerNames.map(function(layerName){var obj={};return obj.name=viewer.getLayer(layerName).get("title"),obj.value=layerName,obj});return selectOptions}function setEditProps(layerNames,map,srsName){var initialValue={},result=layerNames.reduce(function(layerProps,layerName){var layer=viewer.getLayer(layerName),source=viewer.getMapSource()[layer.get("sourceName")];return layerProps[layerName]={editableLayer:layer,source:layer.getSource(),geometryType:layer.get("geometryType")||void 0,geometryName:layer.get("geometryName")||void 0,srsName:srsName,featureNS:source.workspace,featureType:layer.get("featureType"),attributes:layer.get("attributes"),title:layer.get("title")||"Information",url:source.url,map:map},layerProps},initialValue);return result}var defaultLayer,options={},editableLayers={};return{init:function(opt_options){$.extend(options,opt_options),defaultLayer=options.defaultLayer||options.editableLayers[0];var map=viewer.getMap(),srsName=viewer.getProjectionCode();render(selectionModel(options.editableLayers)),$(".o-map").on("enableInteraction",onEnableInteraction),editableLayers=setEditProps(options.editableLayers,map,srsName),options.editableLayers.forEach(function(layerName){var layer=viewer.getLayer(layerName);layer.getSource().once("addfeature",function(e){editableLayers[layerName].geometryType=layer.getSource().getFeatures()[0].getGeometry().getType(),editableLayers[layerName].geometryName=layer.getSource().getFeatures()[0].getGeometryName(),layerName===defaultLayer&&options.isActive&&emitEnableInteraction()})}),this.bindUIActions(),options.isActive&&setActive(!0)},deleteFeature:function(){transactionhandler.deleteSelected()},attributeFeature:function(){transactionhandler.onAttributes()},drawFeature:function(){transactionhandler.activateInsert()},bindUIActions:function(){var self=this;$("#o-editor-draw").on("touchend click",function(e){self.drawFeature(),$("#o-editor-draw").blur(),e.preventDefault()}),$("#o-editor-attribute").on("touchend click",function(e){self.attributeFeature(),$("#o-editor-attribute").blur(),e.preventDefault()}),$("#o-editor-delete").on("touchend click",function(e){self.deleteFeature(),$("#o-editor-delete").blur(),e.preventDefault()}),$("#o-editor-close").on("click",function(e){$(".o-map").trigger({type:"enableInteraction",interaction:"featureInfo"}),$("#o-editor-close").blur(),e.preventDefault()}),$('select[name="layer-dropdown"]').change(function(){transactionhandler.removeInteractions(),transactionhandler.onSetEditLayer(editableLayers[$(this).val()])})}}}()},{"./templates/editortoolbar.template.handlebars":127,"./transactionhandler":131,"./viewer":137,jquery:23,openlayers:24}],102:[function(require,module,exports){"use strict";function init(opt_options){map=Viewer.getMap(),options=opt_options||{},pinning=options.hasOwnProperty("pinning")?options.pinning:!0;var pinStyleOptions=options.hasOwnProperty("pinStyle")?options.pinStyle:styleTypes.getStyle("pin");pinStyle=style.createStyleRule(pinStyleOptions)[0],savedPin=options.savedPin?maputils.createPointFeature(opt_options.savedPin,pinStyle):void 0,selectionStyles=style.createEditStyle();var savedSelection=options.savedSelection||void 0,savedFeature=savedPin||savedSelection||void 0;selectionLayer=featurelayer(savedFeature,map),showOverlay=options.hasOwnProperty("overlay")?options.overlay:!0,showOverlay?(Popup.init("#o-map"),identifyTarget="overlay"):(sidebar.init(),identifyTarget="sidebar"),clusterFeatureinfoLevel=options.hasOwnProperty("clusterFeatureinfoLevel")?options.clusterFeatureinfoLevel:1,map.on("click",onClick),$(".o-map").on("enableInteraction",onEnableInteraction)}function getSelection(){var selection={};return selection.geometryType=selectionLayer.getFeatures()[0].getGeometry().getType(),selection.coordinates=selectionLayer.getFeatures()[0].getGeometry().getCoordinates(),selection}function getPin(){return savedPin}function identify(items,target,coordinate){var content=items.map(function(i){return i.content}).join("");switch(content='<div id="o-identify"><div id="o-identify-carousel" class="owl-carousel owl-theme">'+content+"</div></div>",target){case"overlay":var overlay=new ol.Overlay({element:$("#o-popup").get(0)});map.addOverlay(overlay);var coord,geometry=items[0].feature.getGeometry();coord="Point"==geometry.getType()?geometry.getCoordinates():coordinate,overlay.setPosition(coord),Popup.setContent({content:content,title:items[0].title}),Popup.setVisibility(!0);initCarousel("#o-identify-carousel",void 0,function(){var currentItem=this.owl.currentItem;selectionLayer.clearAndAdd(items[currentItem].feature.clone(),selectionStyles[items[currentItem].feature.getGeometry().getType()]),Popup.setTitle(items[currentItem].title)});Viewer.autoPan();break;case"sidebar":sidebar.setContent({content:content,title:items[0].title}),sidebar.setVisibility(!0);initCarousel("#o-identify-carousel",void 0,function(){var currentItem=this.owl.currentItem;selectionLayer.clearAndAdd(items[currentItem].feature.clone(),selectionStyles[items[currentItem].feature.getGeometry().getType()]),sidebar.setTitle(items[currentItem].title)})}}function onClick(evt){Popup.setVisibility(!1),Viewer.removeOverlays(),savedPin=void 0;var clientResult=getFeatureInfo.getFeaturesAtPixel(evt,clusterFeatureinfoLevel);clientResult!==!1&&getFeatureInfo.getFeaturesFromRemote(evt).done(function(data){var serverResult=data||[],result=serverResult.concat(clientResult);if(result.length>0)selectionLayer.clear(),identify(result,identifyTarget,evt.coordinate);else if(selectionLayer.getFeatures().length>0)clear();else if(pinning){sidebar.setVisibility(!1);var resolution=map.getView().getResolution();setTimeout(function(){maputils.checkZoomChange(resolution,map.getView().getResolution())||(savedPin=maputils.createPointFeature(evt.coordinate,pinStyle),selectionLayer.addFeature(savedPin))},250)}else console.log("No features identified")})}function setActive(state){state===!0?map.on("click",onClick):(selectionLayer.clear(),Popup.setVisibility(!1),map.un("click",onClick))}function clear(){selectionLayer.clear(),sidebar.setVisibility(!1),Popup.setVisibility(!1),console.log("Clearing selection")}function onEnableInteraction(e){setActive("featureInfo"===e.interaction?!0:!1)}function initCarousel(id,options,cb){var carouselOptions=options||{navigation:!0,slideSpeed:300,paginationSpeed:400,singleItem:!0,rewindSpeed:200,navigationText:['<svg class="o-icon-fa-chevron-left"><use xlink:href="css/svg/fa-icons.svg#fa-chevron-left"></use></svg>','<svg class="o-icon-fa-chevron-right"><use xlink:href="css/svg/fa-icons.svg#fa-chevron-right"></use></svg>'],afterAction:cb};return $(id).owlCarousel(carouselOptions)}var ol=require("openlayers"),$=require("jquery"),Viewer=require("./viewer"),Popup=require("./popup"),sidebar=require("./sidebar"),maputils=require("./maputils"),featurelayer=require("./featurelayer"),style=require("./style"),styleTypes=require("./style/styletypes"),getFeatureInfo=require("./getfeatureinfo"),owlCarousel=require("../externs/owlcarousel-browserify");owlCarousel.loadjQueryPlugin();var options,map,pinning,pinStyle,selectionStyles,showOverlay,identifyTarget,clusterFeatureinfoLevel,selectionLayer=void 0,savedPin=void 0;module.exports.init=init,module.exports.clear=clear,module.exports.getSelection=getSelection,module.exports.getPin=getPin,module.exports.identify=identify},{"../externs/owlcarousel-browserify":2,"./featurelayer":104,"./getfeatureinfo":108,"./maputils":113,"./popup":119,"./sidebar":123,"./style":124,"./style/styletypes":126,"./viewer":137,jquery:23,openlayers:24}],103:[function(require,module,exports){"use strict";function featureinfotemplates(template,attributes){return templates[template](attributes)}var templates={};templates["default"]=require("./templates/featureinfotemplates/default"),module.exports=featureinfotemplates},{"./templates/featureinfotemplates/default":129}],104:[function(require,module,exports){"use strict";var ol=require("openlayers");module.exports=function(features,map){var collection=features?[features]:[],featureLayerStore=new ol.source.Vector({features:collection}),featureLayer=new ol.layer.Vector({source:featureLayerStore,map:map});return{addFeature:function(feature){featureLayerStore.addFeature(feature)},getFeatures:function(){return featureLayerStore.getFeatures()},getFeatureLayer:function(){return featurelayer},getFeatureStore:function(){return featureLayerStore},clear:function(){featureLayerStore.clear()},clearAndAdd:function(feature,style){featureLayerStore.clear(),featureLayer.setStyle(style),featureLayerStore.addFeature(feature)}}}},{openlayers:24}],105:[function(require,module,exports){"use strict";function init(){map=viewer.getMap();var tooltipText="Visa nuvarande position i kartan",el=utils.createButton({id:"o-geolocation-button",cls:"o-geolocation-button",iconCls:"o-icon-fa-location-arrow",src:"css/svg/fa-icons.svg#fa-location-arrow",tooltipText:tooltipText,tooltipPlacement:"east"});$("#o-map").append(el),settings.geolocateButtonId=$("#o-geolocation-button"),settings.geolocateButton=$("#o-geolocation-button button");var markerImg='<img id="o-geolocation_marker" src="img/geolocation_marker.png" />';$("#o-map").prepend(markerImg),markerEl=$("#o-geolocation_marker").get(0),marker=new ol.Overlay({positioning:"center-center",element:markerEl,stopEvent:!1}),positions=new ol.geom.LineString([],"XYZM"),geolocation=new ol.Geolocation({projection:map.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),bindUIActions()}function bindUIActions(){settings.geolocateButtonId.on("touchend click",function(e){enabled=!1,toggle(),settings.geolocateButton.blur(),e.preventDefault()})}function toggle(){settings.geolocateButton.hasClass("o-geolocation-button-true")?(settings.geolocateButton.removeClass("o-geolocation-button-true"),geolocation.setTracking(!1),geolocation.un("change",getPositionVal),map.un("postcompose",render),map.removeOverlay(marker)):(settings.geolocateButton.addClass("o-geolocation-button-true"),map.addOverlay(marker),geolocation.on("change",getPositionVal),geolocation.setTracking(!0),map.on("postcompose",render),map.render())}function getPositionVal(){var position=geolocation.getPosition(),heading=(geolocation.getAccuracy(),geolocation.getHeading()||0),speed=geolocation.getSpeed()||0,m=Date.now();addPosition(position,heading,m,speed)}function addPosition(position,heading,m,speed){var x=position[0],y=position[1],fCoords=positions.getCoordinates(),previous=fCoords[fCoords.length-1],prevHeading=previous&&previous[2];if(prevHeading){var headingDiff=heading-this.mod(prevHeading);if(Math.abs(headingDiff)>Math.PI){var sign=headingDiff>=0?1:-1;headingDiff=-sign*(2*Math.PI-Math.abs(headingDiff))}heading=prevHeading+headingDiff}positions.appendCoordinate([x,y,heading,m]),positions.setCoordinates(positions.getCoordinates().slice(-20)),heading&&speed?markerEl.src="img/geolocation_marker_heading.png":markerEl.src="img/geolocation_marker.png";var previousM=0;map.beforeRender(function(map,frameState){if(null!==frameState){var m=frameState.time-1.5*settings.deltaMean;m=Math.max(m,previousM),previousM=m;var c=positions.getCoordinateAtM(m,!0);frameState.viewState;c&&0==enabled&&geolocation.getTracking()?(marker.setPosition(c),map.getView().setCenter(c),map.getView().setZoom(10),enabled=!0):c&&geolocation.getTracking()&&marker.setPosition(c)}return!0})}function mod(n){return(n%(2*Math.PI)+2*Math.PI)%(2*Math.PI)}function getCenterWithHeading(position,rotation,resolution){var size=map.getSize(),height=size[1];return[position[0]-Math.sin(rotation)*height*resolution*1/4,position[1]+Math.cos(rotation)*height*resolution*1/4]}function render(){map.render}var map,geolocation,marker,markerEl,positions,ol=require("openlayers"),$=require("jquery"),viewer=require("./viewer"),utils=require("./utils"),settings={geolocateButtonId:void 0,geolocateButton:void 0,deltaMean:500},enabled=!1;module.exports.init=init,module.exports.bindUIActions=bindUIActions,module.exports.toggle=toggle,module.exports.getPositionVal=getPositionVal,module.exports.addPosition=addPosition,module.exports.mod=mod,module.exports.getCenterWithHeading=getCenterWithHeading,module.exports.render=render},{"./utils":132,"./viewer":137,jquery:23,openlayers:24}],106:[function(require,module,exports){"use strict";function filterObject(obj,excludedKeys){var key,result={};for(key in obj)-1===excludedKeys.indexOf(key)&&(result[key]=obj[key]);return result}function createUrl(prefix,suffix,url){var p=prefix||"",s=suffix||"";return p+url+s}var featureinfotemplates=require("./featureinfotemplates"),replacer=require("../src/utils/replacer");module.exports=function(feature,layer){var attribute,title,val,content="<div><ul>",li="";if(layer.get("attributes"))if("string"==typeof layer.get("attributes"))li=featureinfotemplates(layer.get("attributes"),feature.getProperties());else for(var i=0;i<layer.get("attributes").length;i++){if(attribute=layer.get("attributes")[i],title="",val="",attribute.name){if(feature.get(attribute.name)&&(val=feature.get(attribute.name),attribute.title&&(title="<b>"+attribute.title+"</b>"),attribute.url&&feature.get(attribute.url))){var url=createUrl(attribute.urlPrefix,attribute.urlSuffix,replacer.replace(feature.get(attribute.url),feature.getProperties()));val='<a href="'+url+'" target="_blank">'+feature.get(attribute.name)+"</a>"}}else if(attribute.url){if(feature.get(attribute.url)){var text=attribute.html||attribute.url,url=createUrl(attribute.urlPrefix,attribute.urlSuffix,replacer.replace(feature.get(attribute.url),feature.getProperties()));val='<a href="'+url+'" target="_blank">'+text+"</a>"}}else if(attribute.img){if(feature.get(attribute.img)){var url=createUrl(attribute.urlPrefix,attribute.urlSuffix,replacer.replace(feature.get(attribute.img),feature.getProperties())),attribution=attribute.attribution?'<div class="o-image-attribution">'+attribute.attribution+"</div>":"";val='<div class="o-image-container"><img src="'+url+'">'+attribution+"</div>"}}else attribute.html&&(val=replacer.replace(attribute.html,feature.getProperties()));var cls=' class="'+attribute.cls+'" '||"";li+="<li"+cls+">"+title+val+"</li>"}else{var attributes=filterObject(feature.getProperties(),["FID_","geometry"]);li=featureinfotemplates("default",attributes)}return content+=li+"</ul></div>"}},{"../src/utils/replacer":135,"./featureinfotemplates":103}],107:[function(require,module,exports){function fail(response){response.error&&console.log(response.error.message+"\n"+response.error.details.join("\n"))}var projectionCode,source,ol=require("openlayers"),$=require("jquery"),viewer=require("./viewer"),sourceType={};module.exports=function(id,layer){projectionCode=viewer.getProjectionCode(),source=viewer.getMapSource();var serverUrl=source[layer.get("sourceName")].url,type=layer.get("type");return sourceType[type](id,layer,serverUrl)},sourceType.AGS_FEATURE=function(id,layer,serverUrl){var esriSrs=projectionCode.split(":").pop(),layerId=layer.get("id"),esrijsonFormat=new ol.format.EsriJSON,url=serverUrl+"/"+layerId+"/query?f=json&returnGeometry=true&objectIds="+id+"&geometryType=esriGeometryEnvelope&inSR="+esriSrs+"&outFields=*&returnIdsOnly=false&returnCountOnly=false&geometryPrecision=2&outSR="+esriSrs;return $.ajax({url:url,dataType:"jsonp"}).then(function(response){if(response.error)return fail(response),[];var features=esrijsonFormat.readFeatures(response,{featureProjection:viewer.getProjection()});return features},fail)},sourceType.WFS=function(id,layer,serverUrl){var geometryName=layer.get("geometryName"),format=new ol.format.GeoJSON({geometryName:geometryName}),url=serverUrl+"?",data="service=WFS&version=1.0.0&request=GetFeature&typeName="+layer.get("name")+"&outputFormat=json&featureId="+id;return $.ajax({url:url,data:data,type:"POST",dataType:"json"}).then(function(response){return format.readFeatures(response)})}},{"./viewer":137,jquery:23,openlayers:24}],108:[function(require,module,exports){"use strict";function getFeaturesFromRemote(evt){map=Viewer.getMap();var requestResult=[],requestPromises=getFeatureInfoRequests(evt).map(function(request){return request.fn.then(function(feature){var layer=Viewer.getLayer(request.layer);return feature?(requestResult.push({title:layer.get("title"),feature:feature,content:getAttributes(feature,layer)}),requestResult):void 0})});return $.when.apply($,requestPromises).then(function(data){return requestResult})}function getFeatureInfoRequests(evt){var requests=[];if("crossOrigin"in new Image)map.forEachLayerAtPixel(evt.pixel,function(layer){var item=getGetFeatureInfoRequest(layer,evt.coordinate);item&&requests.push(item)});else if(isTainted(evt.pixel)){var layers=Viewer.getQueryableLayers();layers.forEach(function(layer){if(isTainted(evt.pixel,layer)){var item=getGetFeatureInfoRequest(layer,evt.coordinate);item&&requests.push(item)}else if(layerAtPixel(evt.pixel,layer)){var item=getGetFeatureInfoRequest(layer,evt.coordinate);item&&requests.push(item)}})}else map.forEachLayerAtPixel(evt.pixel,function(layer){var item=getGetFeatureInfoRequest(layer,evt.coordinate);item&&requests.push(item)});return requests}function getGetFeatureInfoRequest(layer,coordinate){var layerType=layer.get("type"),obj={};switch(obj.layer=layer.get("name"),layerType){case"WMTS":if(layer.get("featureinfoLayer")){var featureinfoLayerName=layer.get("featureinfoLayer"),featureinfoLayer=Viewer.getLayer(featureinfoLayerName);return getGetFeatureInfoRequest(featureinfoLayer,coordinate)}return void 0;case"WMS":if(layer.get("featureinfoLayer")){var featureinfoLayerName=layer.get("featureinfoLayer"),featureinfoLayer=Viewer.getLayer(featureinfoLayerName);return getGetFeatureInfoRequest(featureinfoLayer,coordinate)}return obj.cb="GEOJSON",obj.fn=getGetFeatureInfoUrl(layer,coordinate),obj;case"AGS_TILE":if(layer.get("featureinfoLayer")){var featureinfoLayerName=layer.get("featureinfoLayer"),featureinfoLayer=Viewer.getLayer(featureinfoLayerName);return getGetFeatureInfoRequest(featureinfoLayer,coordinate)}return obj.fn=getAGSIdentifyUrl(layer,coordinate),obj;default:return void 0}}function isTainted(pixel,layerFilter){try{return layerFilter?map.forEachLayerAtPixel(pixel,function(layer){return layerFilter===layer}):map.forEachLayerAtPixel(pixel,function(layer){}),!1}catch(e){return console.log(e),!0}}function layerAtPixel(pixel,matchLayer){map.forEachLayerAtPixel(pixel,function(layer){return matchLayer===layer})}function getFeaturesAtPixel(evt,clusterFeatureinfoLevel){map=Viewer.getMap();var result=[],cluster=!1;return map.forEachFeatureAtPixel(evt.pixel,function(feature,layer){var l=layer,queryable=!1;if(layer&&(queryable=layer.get("queryable")),feature.get("features")){var collection=feature.get("features");if(collection.length>1){var zoom=map.getView().getZoom(),zoomLimit=-1===clusterFeatureinfoLevel?Viewer.getResolutions().length:zoom+clusterFeatureinfoLevel;if(zoomLimit<Viewer.getResolutions().length)return map.getView().setCenter(evt.coordinate),map.getView().setZoom(zoom+1),cluster=!0,!0;collection.forEach(function(f){var item={};item.title=l.get("title"),item.feature=f,item.content=getAttributes(f,l),result.push(item)})}else if(1==collection.length&&queryable){var item={};item.title=l.get("title"),item.feature=collection[0],item.content=getAttributes(collection[0],l),result.push(item)}}else if(queryable){var item={};item.title=l.get("title"),item.feature=feature,item.content=getAttributes(feature,l),result.push(item)}}),cluster?!1:result}function getGetFeatureInfoUrl(layer,coordinate){var url=layer.getSource().getGetFeatureInfoUrl(coordinate,map.getView().getResolution(),Viewer.getProjection(),{INFO_FORMAT:"application/json"});return $.ajax(url,{type:"post"}).then(function(response){return response.error?[]:maputils.geojsonToFeature(response)})}function getAGSIdentifyUrl(layer,coordinate){var projectionCode=Viewer.getProjectionCode(),esriSrs=projectionCode.split(":").pop(),layerId=layer.get("id"),source=Viewer.getMapSource()[layer.get("sourceName")],serverUrl=source.url,esrijsonFormat=new ol.format.EsriJSON,size=map.getSize(),tolerance=source.hasOwnProperty("tolerance")?source.tolerance.toString():5,extent=map.getView().calculateExtent(size),url=serverUrl+"/identify?f=json&returnGeometry=true&geometryType=esriGeometryPoint&sr="+esriSrs+"&geometry="+coordinate+"&outFields=*&geometryPrecision=2&tolerance="+tolerance+"&layers=all:"+layerId+"&mapExtent="+extent+"&imageDisplay="+size+",96";return $.ajax({url:url,dataType:"jsonp"}).then(function(response){if(response.error)return[];var obj={};obj.features=response.results;var features=esrijsonFormat.readFeatures(obj,{featureProjection:Viewer.getProjection()});return features[0]})}var map,ol=require("openlayers"),$=require("jquery"),Viewer=require("./viewer"),maputils=require("./maputils"),getAttributes=require("./getattributes");module.exports.getFeaturesFromRemote=getFeaturesFromRemote,module.exports.getFeaturesAtPixel=getFeaturesAtPixel},{"./getattributes":106,"./maputils":113,"./viewer":137,jquery:23,openlayers:24}],109:[function(require,module,exports){"use strict";function Init(opt_options){var options=opt_options||{};map=Viewer.getMap(),tooltip=options.tooltipText||"Zooma till hela kartan",extent=options.extent||map.getView().calculateExtent(map.getSize()),render(),bindUIActions()}function render(){var el=utils.createButton({id:"o-home-button",iconCls:"o-icon-fa-home",src:"css/svg/fa-icons.svg#fa-home",tooltipText:tooltip});$("#o-map").append(el)}function bindUIActions(){$("#o-home-button").on("click",function(e){map.getView().fit(extent,map.getSize()),$("#o-home-button button").blur(),e.preventDefault()})}var map,tooltip,extent,$=(require("openlayers"),require("jquery")),Viewer=require("./viewer"),utils=require("./utils");module.exports.init=Init},{"./utils":132,"./viewer":137,jquery:23,openlayers:24}],110:[function(require,module,exports){"use strict";function init(opt_options){var options=opt_options||{};hasMapLegend=options.hasOwnProperty("hasMapLegend")?options.hasMapLegend:!0,styleSettings=viewer.getStyleSettings(),mapMenu=$("#o-mapmenu"),$("#o-menutools").append('<li class="o-menu-item"><div class="o-menu-item-divider"></div><li>'),addLegend(viewer.getGroups())}function getSymbol(style){var symbol="",s=style[0];if(s[0].hasOwnProperty("icon")){var src=s[0].icon.src,format=s[0].format||"png";if("png"==format)symbol='<div class="o-legend-item-img"><img style="width: auto; height: 20px;" src="'+src+'"></div>';else if("svg"==format){var o='<object type="image/svg+xml" data="'+src+'" style="width: 20px;"></object>',inlineStyle="background: url("+src+") no-repeat;width: 20px; height: 20px;background-size: 20px;";symbol='<div class="o-legend-item-img">'+o+"</div>"}}else if(s[0].hasOwnProperty("fill")){for(var fill="",i=0;i<s.length;i++)fill+=createFill(s[i]);symbol+='<div class="o-legend-item-img"><svg height="'+symbolSize+'" width="'+symbolSize+'">',symbol+=fill,symbol+="</svg></div>"}else if(s[0].hasOwnProperty("stroke")){for(var stroke="",i=0;i<s.length;i++)stroke+=createStroke(s[i]);symbol+='<div class="o-legend-item-img"><svg height="'+symbolSize+'" width="'+symbolSize+'">',symbol+=stroke,symbol+="</svg></div>"}else if(s[0].hasOwnProperty("circle")){for(var circle="",i=0;i<s.length;i++)circle+=createCircle(s[i]);symbol+='<div class="o-legend-item-img"><svg height="'+symbolSize+'" width="'+symbolSize+'">',symbol+=circle,symbol+="</svg></div>"}else if(s[0].hasOwnProperty("image")){var src=s[0].image.src,inlineStyle="background: url("+src+") no-repeat;width: 30px; height: 30px;background-size: 30px;";symbol='<div class="o-legend-item-img" style="'+inlineStyle+'"></div>'}return symbol}function createFill(fillProperties){var f=fillProperties,strokeWidth=0;if(f.hasOwnProperty("stroke")){strokeWidth=f.stroke.width>=3?3:f.stroke.width;var stroke="stroke:"+f.stroke.color+";"||"stroke:none;";stroke+="stroke-width:"+strokeWidth+";"||"",stroke+="stroke-dasharray:"+f.stroke.lineDash+";"||""}var fillSize=symbolSize-4,fill='<rect x="2" y="2" rx="2" ry="2" width="'+fillSize+'" height="'+fillSize+'" ';return fill+=f.hasOwnProperty("fill")?'style="fill:'+f.fill.color+";":'style="fill:none;',fill+=stroke,fill+='"></rect>'}function createCircle(circleProperties){var c=circleProperties.circle,strokeWidth=0;if(c.hasOwnProperty("stroke")){strokeWidth=c.stroke.width>=3?3:c.stroke.width;var stroke="stroke:"+c.stroke.color+";"||"stroke:none;";stroke+="stroke-width:"+strokeWidth+";"||""}var size=symbolSize/2,fill='<circle cx="'+size+'" cy="'+size+'" r="'+c.radius+'" ';return fill+=c.hasOwnProperty("fill")?'style="fill:'+c.fill.color+";":'style="fill:none;',fill+=stroke,fill+='"></circle>'}function createStroke(strokeProperties){var s=strokeProperties,strokeWidth=s.stroke.width>4?4:s.stroke.width;strokeWidth=s.stroke.width<2?2:strokeWidth;var stroke='<line x1 = "2" y1= "'+(symbolSize-4).toString()+'" x2="'+(symbolSize-4).toString()+'" y2="2" ';return stroke+='style="',stroke+="stroke:"+s.stroke.color+";"||"stroke:none;",stroke+="stroke-width:"+strokeWidth+";"||"",
stroke+="stroke-dasharray:"+s.stroke.lineDash+";"||"",stroke+='"/>'}function createLegendItem(layerid){var layername=layerid.split("o-legend-").pop(),layer=viewer.getLayer(layername),legendItem='<li class="o-legend '+layername+'" id="'+layerid+'"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-check-square-o"></use></svg></div>';legendItem+=layer.get("styleName")?getSymbol(styleSettings[layer.get("styleName")]):"";var title='<div class="o-legend-item-title">'+layer.get("title")+"</div></div></li>";return legendItem+=title}function addLegend(groups){var legendGroup,overlayGroup,layers=viewer.getLayers(),item="",legend='<div id="o-legendlist"><ul class="o-legendlist"></ul></div>';$("#o-mapmenu").append(legend);for(var i=0;i<groups.length;i++)groups[i].hasOwnProperty("overlayGroup")&&(overlayGroup=groups[i].name),legendGroup='<li><ul id="o-group-'+groups[i].name+'" class="o-legend-group"><li class="o-legend-header"><div class="o-legend-item">'+groups[i].title+'<div class="o-icon-expand"><svg class="o-icon-fa-chevron-right"><use xlink:href="css/svg/fa-icons.svg#fa-chevron-right"></use></svg><svg class="o-icon-fa-chevron-down"><use xlink:href="css/svg/fa-icons.svg#fa-chevron-down"></use></svg></div></div></li></ul></li>',$("#o-legendlist .o-legendlist").append(legendGroup),1==groups[i].expanded?$("#o-group-"+groups[i].name+" .o-icon-expand").addClass("o-icon-expand-true"):($("#o-group-"+groups[i].name+" .o-icon-expand").addClass("o-icon-expand-false"),$("#o-group-"+groups[i].name).addClass("o-ul-expand-false")),$("#o-group-"+groups[i].name+" .o-legend-header").on("touchend click",function(evt){toggleGroup($(this)),evt.preventDefault()});if(hasMapLegend){var mapLegend='<div id="o-map-legend"><ul id="o-legend-overlay"><li class="o-legend o-hidden"><div class ="o-toggle-button o-toggle-button-max"><svg class="o-icon-fa-angle-double-down"><use xlink:href="css/svg/fa-icons.svg#fa-angle-double-down"></use></svg><svg class="o-icon-fa-angle-double-up"><use xlink:href="css/svg/fa-icons.svg#fa-angle-double-up"></use></svg></div></li><li><ul id="o-overlay-list"></li></ul></ul><ul id="o-map-legend-background"></ul></div>';$("#o-map").append(mapLegend),overlayGroup&&$("#o-map-legend-background").prepend('<div class="o-legend-item-divider"></div>')}for(var i=layers.length-1;i>=0;i--){var name=layers[i].get("name"),title='<div class="o-legend-item-title">'+layers[i].get("title")+"</div></div></li>";"background"==layers[i].get("group")?(item='<li class="o-legend '+name+'" id="'+name+'"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-check"><use xlink:href="css/svg/fa-icons.svg#fa-check"></use></svg></div>',item+=title,$("#o-group-"+layers[i].get("group")).append(item),item='<li class="o-legend '+name+'" id="o-legend-'+name+'"><div class ="o-legend-item">',item+=layers[i].get("styleName")?getSymbol(styleSettings[layers[i].get("styleName")]):"",item+="</div>",$("#o-map-legend-background").append(item)):layers[i].get("group")&&"none"!=layers[i].get("group")&&(item='<li class="o-legend '+name+'" id="'+name+'"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-check-square-o"></use></svg></div>',item+=layers[i].get("styleName")?getSymbol(styleSettings[layers[i].get("styleName")]):"",item+=title,$("#o-group-"+layers[i].get("group")).append(item),(1==layers[i].get("legend")||layers[i].getVisible(!0))&&(item='<li class="o-legend '+name+'" id="o-legend-'+name+'"><div class ="o-legend-item"><div class="o-checkbox"><svg class="o-icon-fa-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-square-o"></use></svg><svg class="o-icon-fa-check-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-check-square-o"></use></svg></div>',item+=layers[i].get("styleName")?getSymbol(styleSettings[layers[i].get("styleName")]):"",item+=title,$("#o-overlay-list").append(item))),checkToggleOverlay(),"background"==layers[i].get("group")?1==layers[i].getVisible()?($("#"+name+" .o-checkbox").addClass("o-check-true"),$("#o-legend-"+name).addClass("o-check-true-img")):($("#"+name+" .o-checkbox").addClass("o-check-false"),$("#o-legend-"+name).addClass("o-check-false-img")):1==layers[i].getVisible()?$("."+name+" .o-checkbox").addClass("o-checkbox-true"):$("."+name+" .o-checkbox").addClass("o-checkbox-false"),$("#"+name).on("touchend click",function(evt){$(this).each(function(){var that=this;toggleCheck($(that).attr("id"))}),evt.preventDefault()}),$("#o-legend-"+name).on("touchend click",function(evt){$(this).each(function(){var that=this;toggleCheck($(that).attr("id"))}),evt.preventDefault()})}$("#o-legend-overlay .o-toggle-button").on("touchend click",function(evt){toggleOverlay(),evt.preventDefault()})}function onToggleCheck(layername){$("#"+layername).on("touchend click",function(evt){$(this).each(function(){var that=this;toggleCheck($(that).attr("id"))}),evt.preventDefault()})}function offToggleCheck(layername){$("#"+layername).off("touchend click",function(evt){$(this).each(function(){var that=this;toggleCheck($(that).attr("id"))}),evt.preventDefault()})}function toggleGroup(groupheader){var group=groupheader.parent(".o-legend-group"),groupicon=$("#"+group.attr("id")+" .o-icon-expand");groupicon.hasClass("o-icon-expand-false")?(groupicon.removeClass("o-icon-expand-false"),groupicon.addClass("o-icon-expand-true"),group.removeClass("o-ul-expand-false")):(groupicon.removeClass("o-icon-expand-true"),groupicon.addClass("o-icon-expand-false"),group.addClass("o-ul-expand-false"))}function toggleCheck(layerid){var layername=layerid.split("o-legend-").pop(),inMapLegend=layerid.split("o-legend-").length>1?!0:!1,layer=viewer.getLayer(layername);if("background"==layer.get("group")){for(var group=viewer.getGroup("background"),i=0;i<group.length;i++)group[i].setVisible(!1),$("#o-"+group[i].get("name")+" .o-checkbox").removeClass("o-check-true"),$("#o-"+group[i].get("name")+" .o-checkbox").addClass("o-check-false"),$("#o-legend-"+group[i].get("name")).removeClass("o-check-true-img"),$("#o-legend-"+group[i].get("name")).addClass("o-check-false-img");layer.setVisible(!0),$("#"+layername+" .o-checkbox").removeClass("o-check-false"),$("#"+layername+" .o-checkbox").addClass("o-check-true"),$("#o-legend-"+layername).removeClass("o-check-false-img"),$("#o-legend-"+layername).addClass("o-check-true-img")}else $("."+layername+" .o-checkbox").hasClass("o-checkbox-true")?($("."+layername+" .o-checkbox").removeClass("o-checkbox-true"),$("."+layername+" .o-checkbox").addClass("o-checkbox-false"),0==inMapLegend&&(offToggleCheck("o-legend-"+layername),$("#o-legend-"+layername).remove(),layer.set("legend",!1),checkToggleOverlay()),layer.setVisible(!1)):(0==inMapLegend&&0==$("#o-legend-"+layername).length&&($("#o-overlay-list").append(createLegendItem("o-legend-"+layername)),onToggleCheck("o-legend-"+layername),checkToggleOverlay()),$("."+layername+" .o-checkbox").removeClass("o-checkbox-false"),$("."+layername+" .o-checkbox").addClass("o-checkbox-true"),layer.setVisible(!0),layer.set("legend",!0))}function checkToggleOverlay(){$("#o-overlay-list li").length>1&&$("#o-legend-overlay >li:first-child").hasClass("o-hidden")?$("#o-legend-overlay > li:first-child").removeClass("o-hidden"):$("#o-overlay-list li").length<2&&($("#o-legend-overlay > li:first-child").addClass("o-hidden"),1==$("#o-overlay-list").length&&$("#o-overlay-list").hasClass("o-hidden")&&($("#o-overlay-list").removeClass("o-hidden"),toggleOverlay()))}function toggleOverlay(){$("#o-legend-overlay .o-toggle-button").hasClass("o-toggle-button-max")?($("#o-legend-overlay .o-toggle-button").removeClass("o-toggle-button-max"),$("#o-legend-overlay .o-toggle-button").addClass("o-toggle-button-min"),$("#o-overlay-list").addClass("o-hidden")):($("#o-legend-overlay .o-toggle-button").removeClass("o-toggle-button-min"),$("#o-legend-overlay .o-toggle-button").addClass("o-toggle-button-max"),$("#o-overlay-list").removeClass("o-hidden"))}var styleSettings,mapMenu,hasMapLegend,$=require("jquery"),viewer=require("./viewer"),symbolSize=(require("./utils"),20);module.exports.init=init},{"./utils":132,"./viewer":137,jquery:23}],111:[function(require,module,exports){"use strict";var $=require("jquery"),permalink=require("./permalink/permalink"),getUrl=require("./utils/geturl"),isUrl=require("./utils/isurl"),mapLoader=function(el,mapOptions){var map={},mapEl="#app-wrapper",urlParams=void 0;if(mapOptions?"#"!==mapEl.substring(0,0)?mapEl="#"+el:"#"===mapEl.substring(0,0)&&(mapEl=el):mapOptions=el,map.el=mapEl,"object"==typeof mapOptions)return window.location.hash&&(urlParams=permalink.parsePermalink(window.location.href)),map.options=mapOptions,map.options.url=getUrl(),map.options.map=void 0,map.options.params=urlParams,map;if("string"==typeof mapOptions){if(isUrl(mapOptions)){urlParams=permalink.parsePermalink(mapOptions);var url=mapOptions.split("#")[0];-1!==url.substring(url.lastIndexOf("/")).indexOf(".htm")?url=url.substring(0,url.lastIndexOf("/")+1):"/"!==url.substr(url.length-1)&&(url+="/");var json=urlParams.map+".json";return url+=json,$.getJSON(url).then(function(data){return map.options=data,map.options.url=url,map.options.map=json,map.options.params=urlParams,map})}return window.location.hash&&(urlParams=permalink.parsePermalink(window.location.href)),$.getJSON(mapOptions).then(function(data){return map.options=data,map.options.url=getUrl(),map.options.map=mapOptions,map.options.params=urlParams,map})}};module.exports=mapLoader},{"./permalink/permalink":116,"./utils/geturl":133,"./utils/isurl":134,jquery:23}],112:[function(require,module,exports){"use strict";function init(){styleSettings=viewer.getStyleSettings();var el=utils.createButton({text:"Meny",id:"o-mapmenu-button",cls:"o-mapmenu-button-true",iconCls:"o-icon-fa-bars",src:"css/svg/fa-icons.svg#fa-bars",tooltipText:"Meny",tooltipPlacement:"west"});$("#o-map").append(el),$menuButton=$("#o-mapmenu-button button");var menuEl='<div id="o-mapmenu"><div class="o-block"><ul id="o-menutools"><li></li></ul>';$("#o-map").append(menuEl),$mapMenu=$("#o-mapmenu");var closeButton=utils.createButton({id:"o-mapmenu-button-close",cls:"o-no-boxshadow",iconCls:"o-icon-menu-fa-times",src:"css/svg/fa-icons.svg#fa-times",tooltipText:"Stng meny",tooltipPlacement:"west"});$("#o-menutools").append(closeButton),$closeButton=$("#o-mapmenu-button-close"),bindUIActions()}function bindUIActions(){$menuButton.on("touchend click",function(e){toggleMenu(),$menuButton.blur(),e.preventDefault()}),$closeButton.on("click",function(e){toggleMenu(),$closeButton.blur(),e.preventDefault()})}function toggleMenu(){$mapMenu.hasClass("o-mapmenu-show")?($mapMenu.removeClass("o-mapmenu-show"),$menuButton.removeClass("o-mapmenu-button-false"),$menuButton.addClass("o-mapmenu-button-true")):($mapMenu.addClass("o-mapmenu-show"),$menuButton.removeClass("o-mapmenu-button-true"),$menuButton.addClass("o-mapmenu-button-false"))}function getTarget(){return $mapMenu}var $menuButton,$closeButton,$mapMenu,styleSettings,$=require("jquery"),viewer=require("./viewer"),utils=require("./utils");module.exports.init=init,module.exports.toggleMenu=toggleMenu,module.exports.getTarget=getTarget},{"./utils":132,"./viewer":137,jquery:23}],113:[function(require,module,exports){"use strict";var ol=require("openlayers"),viewer=(require("jquery"),require("./viewer"));module.exports={customProjection:function(projectionCode,extent){return new ol.proj.Projection({code:projectionCode,extent:extent})},tileGrid:function(extent,resolutions){var origin=ol.extent.getTopLeft(extent);return new ol.tilegrid.TileGrid({extent:extent,origin:origin,resolutions:resolutions})},checkZoomChange:function(resolution,currentResolution){return resolution!==currentResolution?!0:!1},createPointFeature:function(coordinate,style){var feature=new ol.Feature({geometry:new ol.geom.Point(coordinate)});return feature.setStyle(style),feature},geojsonToFeature:function(obj){var vectorSource=new ol.source.Vector({features:(new ol.format.GeoJSON).readFeatures(obj)});return vectorSource.getFeatures()[0]},wktToFeature:function(wkt,srsName){var format=new ol.format.WKT,feature=format.readFeature(wkt,{dataProjection:srsName,featureProjection:srsName});return feature},zoomToExent:function(geometry,level){var map=viewer.getMap(),view=map.getView(),maxZoom=level,extent=geometry.getExtent();return extent?(view.fit(extent,map.getSize(),{maxZoom:maxZoom}),extent):void 0},getCenter:function(geometry){var center,type=geometry.getType();switch(type){case"Polygon":center=geometry.getInteriorPoint().getCoordinates(),console.log(center);break;case"MultiPolygon":center=geometry.getInteriorPoints()[0].getCoordinates();break;case"Point":center=geometry.getCoordinates();break;case"MultiPoint":center=geometry[0].getCoordinates();break;case"LineString":center=geometry.getCoordinateAt(.5);break;case"MultiLineString":center=geometry.getLineStrings()[0].getCoordinateAt(.5);break;case"Circle":center=geometry.getCenter()}return center}}},{"./viewer":137,jquery:23,openlayers:24}],114:[function(require,module,exports){"use strict";function init(){createButton(),bindUIActions()}function bindUIActions(){$("#o-window-button button").click(function(){$("#o-window-button button").blur(),openMapWindow()})}function createButton(){var tooltipText="Visa kartan i nytt fnster",el=utils.createButton({id:"o-window-button",cls:"o-mapwindow-button",iconCls:"o-icon-fa-expand",src:"css/svg/fa-icons.svg#fa-expand",tooltipText:tooltipText,tooltipPlacement:"east"});$("#o-map").append(el)}function openMapWindow(){var url=viewer.getMapUrl();window.open(url)}var $=require("jquery"),utils=require("./utils"),viewer=require("./viewer");({windowButton:$("#o-window-button button")});module.exports.init=init},{"./utils":132,"./viewer":137,jquery:23}],115:[function(require,module,exports){function init(){}function bindUIActions(){$(".o-modal-screen, .o-close-button").click(function(){closeModal()})}function createModal(modalTarget,options){var title=options.title||void 0,content=options.content||void 0;options.footer||void 0;settings.target=$(modalTarget),settings.modal='<div id="o-modal"><div class="o-modal-screen"></div><div class="o-modal"><div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="css/svg/fa-icons.svg#fa-times"></use></svg></div><div class="o-modal-title">'+title+'</div><div class="o-modal-content">'+content+"</div></div></div>"}function showModal(){settings.target.prepend(settings.modal),bindUIActions()}function closeModal(){$("#o-modal").remove()}var $=require("jquery"),settings={target:void 0,modal:void 0};module.exports.init=init,module.exports.createModal=createModal,module.exports.showModal=showModal,module.exports.closeModal=closeModal},{jquery:23}],116:[function(require,module,exports){"use strict";var permalinkParser=require("./permalinkparser"),permalinkStore=require("./permalinkstore"),urlparser=require("../utils/urlparser");module.exports=function(){return{getPermalink:function(options){var hash=urlparser.formatUrl(permalinkStore.getState()),url=permalinkStore.getUrl()+"#"+hash;return url},parsePermalink:function(url){if(url.indexOf("#")>-1){var urlSearch=url.split("#")[1],urlParts=urlSearch.split("&"),urlAsObj={};return urlParts.forEach(function(part){var key=part.split("=")[0],val=part.split("=")[1];permalinkParser.hasOwnProperty(key)&&(urlAsObj[key]=permalinkParser[key](val))}),urlAsObj}return!1}}}()},{"../utils/urlparser":136,"./permalinkparser":117,"./permalinkstore":118}],117:[function(require,module,exports){"use strict";var urlparser=require("../utils/urlparser"),layerModel={v:{name:"visible",dataType:"boolean"},s:{name:"legend",dataType:"boolean"}};module.exports={layers:function(layersStr){var layers=layersStr.split(","),layerObjects={};return layers.forEach(function(layer){var obj={},layerObject=urlparser.objectify(layer,{topmost:"name"});Object.getOwnPropertyNames(layerObject).forEach(function(prop){var val=layerObject[prop];if(layerModel.hasOwnProperty(prop)){var attribute=layerModel[prop];obj[attribute.name]=urlparser.strBoolean(val)}else obj[prop]=val}),layerObjects[obj.name]=obj}),layerObjects},zoom:function(zoomStr){return parseInt(zoomStr)},center:function(centerStr){var center=centerStr.split(",").map(function(coord){return parseInt(coord)});return center},selection:function(selectionStr){return urlparser.strArrayify(selectionStr,{topmostName:"geometryType",arrName:"coordinates"})},pin:function(pinStr){return urlparser.strIntify(pinStr)},map:function(mapStr){return mapStr}}},{"../utils/urlparser":136}],118:[function(require,module,exports){"use strict";function getSaveLayers(layers){var saveLayers=[];return layers.forEach(function(layer){var saveLayer={};saveLayer.v=layer.getVisible()===!0?1:0,saveLayer.s=layer.get("legend")===!0?1:0,(saveLayer.s||saveLayer.v)&&(saveLayer.name=layer.get("name"),saveLayers.push(urlparser.stringify(saveLayer,{topmost:"name"})))}),saveLayers}var state,url,viewer=require("../viewer"),getPin=(require("../featureinfo").getSelection,require("../featureinfo").getPin),urlparser=require("../utils/urlparser"),permalinkStore={};permalinkStore.getState=function(){state={};var view=viewer.getMap().getView(),layers=viewer.getLayers();return state.layers=getSaveLayers(layers),state.center=view.getCenter().map(function(coord){return Math.round(coord)}).join(),state.zoom=view.getZoom().toString(),getPin()&&(state.pin=getPin().getGeometry().getCoordinates().map(function(coord){return Math.round(coord)}).join()),viewer.getMapName()&&(state.map=viewer.getMapName().split(".")[0]),state},permalinkStore.getUrl=function(){return url=viewer.getUrl()},module.exports=permalinkStore},{"../featureinfo":102,"../utils/urlparser":136,"../viewer":137}],119:[function(require,module,exports){function init(target){var pop='<div id="o-popup"><div class="o-popup"><div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="css/svg/fa-icons.svg#fa-times"></use></svg></div><div class="o-popup-title"></div><div class="o-popup-content"></div></div></div>';$(target).append(pop),bindUIActions()}function bindUIActions(){$("#o-popup .o-popup .o-close-button").on("touchend click",function(evt){closePopup(),evt.preventDefault()})}function setVisibility(visible){1==visible?$("#o-popup .o-popup").css("display","block"):$("#o-popup .o-popup").css("display","none")}function setTitle(title){$("#o-popup .o-popup-title").html(title)}function setContent(config){config.title?$("#o-popup .o-popup .o-popup-title").html(config.title):$("#o-popup .o-popup .o-popup-title").html(""),config.content?$("#o-popup .o-popup .o-popup-content").html(config.content):$("#o-popup .o-popup .o-popup-content").html("")}function closePopup(){setVisibility(!1)}var $=require("jquery");module.exports.init=init,module.exports.setVisibility=setVisibility,module.exports.setTitle=setTitle,module.exports.setContent=setContent,module.exports.closePopup=closePopup},{jquery:23}],120:[function(require,module,exports){"use strict";function init(){map=viewer.getMap();var el=utils.createListButton({id:"o-print",iconCls:"o-icon-fa-print",src:"css/svg/fa-icons.svg#fa-print",text:"Skriv ut"});$("#o-menutools").append(el),printButton=$("#o-print-button"),bindUIActions()}function bindUIActions(){printButton.on("touchend click",function(e){$("#app-wrapper").append('<canvas id="o-print" style="display: none"></canvas>'),createImage(),e.preventDefault()})}function imageToPrint(printCanvas){var imageCrop=new Image;try{imageCrop.src=printCanvas.get(0).toDataURL("image/png")}catch(e){console.log(e)}finally{var pw='<html><head><link href="img/print.css" rel="stylesheet"></head><body>';pw+='<div class="o-print-logo"><img src="print/logo_print.png"></div>',pw+='<div class="o-map-canvas"><img src="'+imageCrop.src+'"/></div>',pw+='<div class="o-print-attribution">&copy&nbsp;Lantmteriet&nbsp;Geodatasamverkan</div>',pw+="</body></html>";var printWindow=window.open("","","width=800,height=820");printWindow.document.write(pw),printWindow.document.close(),setTimeout(function(){printWindow.print(),setTimeout(function(){printWindow.close(),$("#o-print").remove()},10)},200)}}function createImage(){var canvas=$("canvas"),image=new Image;try{var imageUrl=canvas.get(0).toDataURL("image/png")}catch(e){console.log(e)}finally{var printCanvas=$("#o-print");image.onload=function(){var ctxCanvas=printCanvas[0].getContext("2d"),sourceWidth=canvas[0].width,sourceHeight=canvas[0].height;sourceWidth<settings.printWith?printCanvas[0].width=sourceWidth:sourceWidth>=settings.printWith&&(printCanvas[0].width=settings.printWith),sourceHeight<settings.printWith?printCanvas[0].height=sourceHeight:sourceWidth>=settings.printWith&&(printCanvas[0].height=settings.printWith),ctxCanvas.drawImage(image,sourceWidth/2-printCanvas[0].width/2,0,printCanvas[0].width,printCanvas[0].height,0,0,printCanvas[0].width,printCanvas[0].height),imageToPrint(printCanvas)},image.src=imageUrl}}var printButton,map,$=require("jquery"),viewer=require("./viewer"),utils=require("./utils"),settings={printWith:800};module.exports.init=init},{"./utils":132,"./viewer":137,jquery:23}],121:[function(require,module,exports){"use strict";function init(options){name=options.searchAttribute,northing=options.northing||void 0,easting=options.easting||void 0,geometryAttribute=options.geometryAttribute,idAttribute=options.idAttribute,layerNameAttribute=options.layerNameAttribute||void 0,layerName=options.layerName||void 0,url=options.url,title=options.title||"",titleAttribute=options.titleAttribute||void 0,contentAttribute=options.contentAttribute||void 0,options.maxZoomLevel||2,hintText=options.hintText||"Sk...",hint=options.hasOwnProperty("hint")?options.hint:!0,highlight=options.hasOwnProperty("highlight")?options.highlight:!0,projectionCode=Viewer.getProjectionCode(),map=Viewer.getMap();var el='<div id="o-search-wrapper"><div id="o-search" class="o-search o-search-false"><input class="o-search-field typeahead form-control" type="text" placeholder="'+hintText+'"><button id="o-search-button"><svg class="o-icon-fa-search"><use xlink:href="css/svg/fa-icons.svg#fa-search"></use></svg></button><button id="o-search-button-close"><svg class="o-icon-search-fa-times"><use xlink:href="css/svg/fa-icons.svg#fa-times"></use></svg></button></div></div>';$("#o-map").append(el),$.support.cors=!0,adress=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace(name),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,remote:{url:url+"?q=&QUERY",wildcard:"&QUERY",ajax:{contentType:"application/json",type:"POST",crossDomain:!0,success:function(data){data.sort(function(a,b){return a[name].localeCompare(b[name])})},error:function(jqXHR,textStatus,errorThrown){console.log(errorThrown)}}}}),adress.initialize(),$(".typeahead").typeahead({autoSelect:!0,hint:hint,highlight:highlight,minLength:4},{name:"adress",limit:9,displayKey:name,source:adress.ttAdapter()}),bindUIActions()}function bindUIActions(){$(".typeahead").on("typeahead:selected",selectHandler),$("#o-search .o-search-field").on("input",function(){$("#o-search .o-search-field.tt-input").val()&&$("#o-search").hasClass("o-search-false")?($("#o-search").removeClass("o-search-false"),$("#o-search").addClass("o-search-true"),onClearSearch()):!$("#o-search .o-search-field.tt-input").val()&&$("#o-search").hasClass("o-search-true")&&($("#o-search").removeClass("o-search-true"),$("#o-search").addClass("o-search-false"),offClearSearch())})}function onClearSearch(){$("#o-search-button-close").on("touchend click",function(e){$(".typeahead").typeahead("val",""),featureInfo.clear(),Viewer.removeOverlays(),$("#o-search").removeClass("o-search-true"),$("#o-search").addClass("o-search-false"),$("#o-search .o-search-field.tt-input").val(""),$("#o-search-button").blur(),e.preventDefault()})}function offClearSearch(){console.log("offClearSearch")}function showOverlay(data,coord){Viewer.removeOverlays();var overlay=new ol.Overlay({element:$("#o-popup").get(0)});map.addOverlay(overlay),overlay.setPosition(coord);var content=data[name];Popup.setContent({content:content,title:title}),Popup.setVisibility(!0),mapUtils.zoomToExent(new ol.geom.Point(coord),maxZoomLevel)}function showFeatureInfo(features,title,content){var obj={};obj.feature=features[0],obj.title=title,obj.content=content,featureInfo.identify([obj],"overlay",mapUtils.getCenter(features[0].getGeometry())),mapUtils.zoomToExent(features[0].getGeometry(),maxZoomLevel)}function selectHandler(evt,data){if(layerNameAttribute&&idAttribute){var layer=Viewer.getLayer(data[layerNameAttribute]),id=data[idAttribute];getFeature(id,layer).done(function(res){if(res.length>0)showFeatureInfo(res,layer.get("title"),getAttributes(res[0],layer));else if(geometryAttribute){var feature=wktToFeature(data[geometryAttribute],projectionCode),coord=feature.getGeometry().getCoordinates();showOverlay(data,coord)}})}else if(geometryAttribute&&layerName){var feature=wktToFeature(data[geometryAttribute],projectionCode),layer=Viewer.getLayer(data[layerName]);showFeatureInfo([feature],layer.get("title"),getAttributes(feature,layer))}else if(titleAttribute&&contentAttribute&&geometryAttribute){var feature=wktToFeature(data[geometryAttribute],projectionCode),content=utils.createElement("div",data[contentAttribute]);showFeatureInfo([feature],data[titleAttribute],content)}else if(geometryAttribute&&title){var feature=wktToFeature(data[geometryAttribute],projectionCode),content=utils.createElement("div",data[name]);showFeatureInfo([feature],title,content)}else if(easting&&northing&&title){var coord=[data[easting],data[northing]];showOverlay(data,coord)}else console.log("Search options are missing")}var ol=require("openlayers"),$=require("jquery"),Viewer=require("./viewer"),wktToFeature=require("./maputils").wktToFeature,Popup=require("./popup"),typeahead=require("typeahead.js-browserify");typeahead.loadjQueryPlugin();var adress,map,name,northing,easting,geometryAttribute,idAttribute,layerNameAttribute,layerName,titleAttribute,contentAttribute,maxZoomLevel,url,title,hintText,hint,highlight,projectionCode,Bloodhound=require("typeahead.js-browserify").Bloodhound,getFeature=require("./getfeature"),getAttributes=require("./getattributes"),featureInfo=require("./featureinfo"),mapUtils=require("./maputils"),utils=require("./utils");module.exports.init=init},{"./featureinfo":102,"./getattributes":106,"./getfeature":107,"./maputils":113,"./popup":119,"./utils":132,"./viewer":137,jquery:23,openlayers:24,"typeahead.js-browserify":95}],122:[function(require,module,exports){"use strict";function init(){var el=utils.createListButton({id:"o-share",iconCls:"o-icon-fa-share-square-o",src:"css/svg/fa-icons.svg#fa-share-square-o",text:"Dela karta"});$("#o-menutools").append(el),shareButton=$("#o-share-button"),bindUIActions()}function bindUIActions(){shareButton.on("touchend click",function(e){modal.createModal("#o-map",{title:"Lnk till karta",content:createContent()}),modal.showModal(),createLink(),mapmenu.toggleMenu(),e.preventDefault()})}function createContent(){return'<div class="o-share-link"><input type="text"></div><i>Kopiera och klistra in lnken fr att dela kartan.</i>'}function createLink(){var url=permalink.getPermalink();$(".o-share-link input").val(url).select()}var shareButton,$=require("jquery"),modal=(require("./viewer"),require("./modal")),mapmenu=require("./mapmenu"),utils=require("./utils"),permalink=require("./permalink/permalink");module.exports.init=init},{"./mapmenu":112,"./modal":115,"./permalink/permalink":116,"./utils":132,"./viewer":137,jquery:23}],123:[function(require,module,exports){"use strict";function init(){var el='<div id="o-sidebar"><div class="o-sidebar"><div class="o-close-button"><svg class="o-icon-fa-times"><use xlink:href="css/svg/fa-icons.svg#fa-times"></use></svg></div><div class="o-sidebar-title"></div><div class="o-sidebar-content"></div></div></div>';$("#o-map").append(el),sidebar=$("#o-sidebar"),bindUIActions()}function bindUIActions(){$("#o-sidebar .o-sidebar .o-close-button").on("touchend click",function(evt){closeSidebar(),evt.preventDefault()})}function setVisibility(visible){1==visible?$("#o-sidebar").addClass("o-sidebar-show"):$("#o-sidebar").removeClass("o-sidebar-show")}function setTitle(title){$("#o-sidebar .o-sidebar-title").html(title)}function setContent(config){config.title?$("#o-sidebar .o-sidebar .o-sidebar-title").html(config.title):$("#o-sidebar .o-sidebar .o-sidebar-title").html(""),config.content?$("#o-sidebar .o-sidebar .o-sidebar-content").html(config.content):$("#o-sidebar .o-sidebar .o-sidebar-content").html("")}function closeSidebar(){setVisibility(!1)}var sidebar,$=require("jquery");require("./viewer"),require("./utils");module.exports.init=init,module.exports.setVisibility=setVisibility,module.exports.setTitle=setTitle,module.exports.setContent=setContent,module.exports.closeSidebar=closeSidebar},{"./utils":132,"./viewer":137,jquery:23}],124:[function(require,module,exports){"use strict";var ol=require("openlayers");module.exports=function(){var white=[255,255,255,1],blue=[0,153,255,1],width=3,editStyleOptions={Point:[{circle:{radius:1,stroke:{color:blue,width:0},fill:{color:blue}}}],LineString:[{stroke:{color:white,width:width+2}},{stroke:{color:blue,width:width}}],Polygon:[{stroke:{color:white,width:width+2}},{stroke:{color:blue,width:width}}]};return{createStyleOptions:function(styleParams){var styleOptions={};if(styleParams.hasOwnProperty("geometry"))switch(styleParams.geometry){case"centerPoint":styleOptions.geometry=function(feature){var coordinates=feature.getGeometry().getInteriorPoints().getFirstCoordinate();return new ol.geom.Point(coordinates)}}return styleParams.hasOwnProperty("zIndex")&&(styleOptions.zIndex=styleParams.zIndex),styleParams.hasOwnProperty("fill")&&(styleOptions.fill=new ol.style.Fill(styleParams.fill)),styleParams.hasOwnProperty("stroke")&&(styleOptions.stroke=new ol.style.Stroke(styleParams.stroke)),styleParams.hasOwnProperty("text")&&(styleOptions.text=new ol.style.Text(styleParams.text),styleParams.text.hasOwnProperty("fill")&&styleOptions.text.setFill(new ol.style.Fill(styleParams.text.fill)),styleParams.text.hasOwnProperty("stroke")&&styleOptions.text.setStroke(new ol.style.Stroke(styleParams.text.stroke))),styleParams.hasOwnProperty("icon")&&(styleOptions.image=new ol.style.Icon(styleParams.icon)),styleParams.hasOwnProperty("circle")&&(styleOptions.image=new ol.style.Circle({radius:styleParams.circle.radius,fill:new ol.style.Fill(styleParams.circle.fill)||void 0,stroke:new ol.style.Stroke(styleParams.circle.stroke)||void 0})),styleOptions},createStyleList:function(styleOptions){for(var styleList=[],i=0;i<styleOptions.length;i++){var styleOption,styleRule=[];if(styleOptions[i].constructor===Array)for(var j=0;j<styleOptions[i].length;j++)styleOption=this.createStyleOptions(styleOptions[i][j]),styleRule.push(new ol.style.Style(styleOption));else styleOption=this.createStyleOptions(styleOptions[i]),styleRule=[new ol.style.Style(styleOption)];styleList.push(styleRule)}return styleList},createStyleRule:function(options){var styleOption,styleRule=[];if(options.constructor===Array)for(var i=0;i<options.length;i++){var styleOption=this.createStyleOptions(options[i]);styleRule.push(new ol.style.Style(styleOption))}else styleOption=this.createStyleOptions(options),styleRule=[new ol.style.Style(styleOption)];return styleRule},styleFunction:function(styleSettings,styleList,clusterStyleSettings,clusterStyleList){var fn=function(feature,resolution){var styleL,scale=getScale(resolution),size=clusterStyleList?feature.get("features").length:1;return styleL=size>1&&map.getView().getResolution()!=settings.resolutions[settings.resolutions.length-1]?checkOptions(feature,scale,clusterStyleSettings,clusterStyleList,size.toString()):checkOptions(feature,scale,styleSettings,styleList);
};return fn},createEditStyle:function(){return{Point:this.createStyleRule(editStyleOptions.Point),MultiPoint:this.createStyleRule(editStyleOptions.Point),LineString:this.createStyleRule(editStyleOptions.LineString),MultiLineString:this.createStyleRule(editStyleOptions.LineString),Polygon:this.createStyleRule(editStyleOptions.Polygon),MultiPolygon:this.createStyleRule(editStyleOptions.Polygon)}}}}()},{openlayers:24}],125:[function(require,module,exports){"use strict";var pin=[{icon:{anchor:[.5,32],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"img/png/drop_blue.png"}}];module.exports=pin},{}],126:[function(require,module,exports){"use strict";var pin=require("./pin");module.exports=function(){var styleTypes={};return styleTypes.pin=pin,{getStyle:function(type){return type?styleTypes[type]:void console.log(type+" is not a default style")}}}()},{"./pin":125}],127:[function(require,module,exports){var HandlebarsCompiler=require("hbsfy/runtime");module.exports=HandlebarsCompiler.template({1:function(container,depth0,helpers,partials,data){var alias1=container.lambda,alias2=container.escapeExpression;return'        <option value="'+alias2(alias1(null!=depth0?depth0.value:depth0,depth0))+'">'+alias2(alias1(null!=depth0?depth0.name:depth0,depth0))+"</option>\r\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return'<div id="o-editor-toolbar" class="o-control o-toolbar o-padding-horizontal-8 o-rounded-top o-hidden">\r\n    <select name="layer-dropdown">\r\n'+(null!=(stack1=helpers.each.call(null!=depth0?depth0:{},depth0,{name:"each",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:"")+'    </select>\r\n    <button id="o-editor-draw" class="o-btn-3" type="button" name="button">\r\n        <svg class="o-icon-fa-pencil">\r\n            <use xlink:href="css/svg/fa-icons.svg#fa-pencil"></use>\r\n        </svg>\r\n    </button>\r\n    <button id="o-editor-attribute" class="o-btn-3" type="button" name="button">\r\n      <svg class="o-icon-fa-font">\r\n          <use xlink:href="css/svg/fa-icons.svg#fa-font"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-delete" class="o-btn-3" type="button" name="button">\r\n      <svg class="o-icon-fa-trash">\r\n          <use xlink:href="css/svg/fa-icons.svg#fa-trash"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-close" class="o-btn-3" type="button" name="button">\r\n        <svg class="o-icon-fa-times">\r\n            <use xlink:href="css/svg/fa-icons.svg#fa-times"></use>\r\n        </svg>\r\n    </button>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":22}],128:[function(require,module,exports){var HandlebarsCompiler=require("hbsfy/runtime");module.exports=HandlebarsCompiler.template({1:function(container,depth0,helpers,partials,data){var helper,alias1=container.escapeExpression;return"      <li><b>"+alias1((helper=null!=(helper=helpers.key||data&&data.key)?helper:helpers.helperMissing,"function"==typeof helper?helper.call(null!=depth0?depth0:{},{name:"key",hash:{},data:data}):helper))+"</b> : "+alias1(container.lambda(depth0,depth0))+"</li>\r\n"},compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){var stack1;return null!=(stack1=helpers.each.call(null!=depth0?depth0:{},depth0,{name:"each",hash:{},fn:container.program(1,data,0),inverse:container.noop,data:data}))?stack1:""},useData:!0})},{"hbsfy/runtime":22}],129:[function(require,module,exports){"use strict";var defaultTemplate=require("./default.handlebars");module.exports=function(attributes){return defaultTemplate(attributes)}},{"./default.handlebars":128}],130:[function(require,module,exports){var HandlebarsCompiler=require("hbsfy/runtime");module.exports=HandlebarsCompiler.template({compiler:[7,">= 4.0.0"],main:function(container,depth0,helpers,partials,data){return'<div id="o-no-map"><div class="o-no-map-message">Du anvnder en frldrad webblsare. Uppgradera din webblsare fr att visa kartan.</div></div>\r\n<div id="o-wrapper" class="o-map o-grid">\r\n  <div id="o-map" class="o-map">\r\n    <div id="o-bottom-tools"></div>\r\n    <div id="o-footer">\r\n      <div class="o-footer-left">&nbsp;</div>\r\n      <div class="o-footer-middle">\r\n      </div>\r\n      <div class="o-footer-right">\r\n      </div>\r\n  </div>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":22}],131:[function(require,module,exports){"use strict";var ol=require("openlayers"),$=require("jquery"),modal=(require("./viewer"),require("./modal"));module.exports=function(){function isActive(){return void 0===settings.modify||void 0===settings.select?!1:!0}var settings={srsName:void 0,source:void 0,geometryType:void 0,geometryName:void 0,url:void 0,map:void 0,featureNS:void 0,featureType:void 0,draw:void 0,hasDraw:void 0,select:void 0,modify:void 0,dirty:void 0,format:void 0,serializer:void 0};return{onSetEditLayer:function(options){settings.srsName=options.srsName,settings.source=options.source,settings.geometryType=options.geometryType,settings.geometryName=options.geometryName,settings.url=options.url,settings.map=options.map,settings.featureNS=options.featureNS,settings.featureType=options.featureType,settings.attributes=options.attributes,settings.title=options.title,settings.draw=new ol.interaction.Draw({source:settings.source,type:settings.geometryType,geometryName:settings.geometryName}),settings.hasDraw=!1,settings.select=new ol.interaction.Select({layers:[options.editableLayer]}),settings.modify=new ol.interaction.Modify({features:settings.select.getFeatures()}),settings.select.getFeatures().on("add",this.onSelectAdd,this),settings.select.getFeatures().on("remove",this.onSelectRemove,this),settings.dirty={},settings.map.addInteraction(settings.select),settings.map.addInteraction(settings.modify),settings.format=new ol.format.WFS,settings.serializer=new XMLSerializer,settings.draw.on("drawend",this.onDrawEnd,this)},readResponse:function(data){var result;return window.Document&&data instanceof Document&&data.documentElement&&"ExceptionReport"==data.documentElement.localName?alert(data.getElementsByTagNameNS("http://www.opengis.net/ows","ExceptionText").item(0).textContent):result=settings.format.readTransactionResponse(data),result},getSelect:function(){return settings.select},onSelectAdd:function(evt){var feature=evt.element;feature.getId();feature.on("change",function(evt){settings.dirty[evt.target.getId()]=!0},this)},onSelectRemove:function(evt){var feature=evt.element,fid=feature.getId();if(settings.dirty[fid]){var properties=feature.getProperties();console.log(properties),delete properties.bbox;var clone=new ol.Feature(properties);clone.setId(fid);var node=settings.format.writeTransaction(null,[clone],null,{gmlOptions:{srsName:settings.srsName},featureNS:settings.featureNS,featureType:settings.featureType});$.ajax({type:"POST",url:settings.url,data:settings.serializer.serializeToString(node),contentType:"text/xml",success:function(data){var result=this.readResponse(data);result&&1===result.transactionSummary.totalUpdated&&delete settings.dirty[fid]},context:this})}},onDrawEnd:function(evt){var feature=evt.feature,node=settings.format.writeTransaction([feature],null,null,{gmlOptions:{srsName:settings.srsName},featureNS:settings.featureNS,featureType:settings.featureType});$.ajax({type:"POST",url:settings.url,data:settings.serializer.serializeToString(node),contentType:"text/xml",success:function(data){var result=this.readResponse(data);if(result){var insertId=result.insertIds[0];"new0"==insertId?settings.source.clear():feature.setId(insertId)}settings.map.removeInteraction(settings.draw),settings.hasDraw=!1},error:function(e){settings.map.removeInteraction(settings.draw),settings.hasDraw=!1;var errorMsg=e?e.status+" "+e.statusText:"";alert("Error saving this feature to GeoServer.<br><br>"+errorMsg)},context:this})},onAttributesSave:function(feature,attributes){var self=this;$("#o-save-button").on("touchend click",function(e){for(var editEl={},i=0;i<attributes.length;i++){var containerClass="."+attributes[i].elId.slice(1);$(containerClass).hasClass("hidden")===!1&&("checkbox"==$(attributes[i].elId).attr("type")?editEl[attributes[i].name]=$(attributes[i].elId).is(":checked")?1:0:editEl[attributes[i].name]=$(attributes[i].elId).val())}modal.closeModal(),self.attributesSaveHandler(feature,editEl),$("#o-save-button").blur(),e.preventDefault()})},attributesSaveHandler:function(f,el){var formEl=el,feature=f,fid=feature.getId(),clone=new ol.Feature;clone.setId(fid);for(var i=0;i<settings.attributes.length;i++)formEl.hasOwnProperty(settings.attributes[i].name)&&(feature.set(settings.attributes[i].name,formEl[settings.attributes[i].name]),clone.set(settings.attributes[i].name,formEl[settings.attributes[i].name]));var node=settings.format.writeTransaction(null,[clone],null,{gmlOptions:{srsName:settings.srsName},featureNS:settings.featureNS,featureType:settings.featureType});$.ajax({type:"POST",url:settings.url,data:settings.serializer.serializeToString(node),contentType:"text/xml",success:function(data){},error:function(e){var errorMsg=e?e.status+" "+e.statusText:"";alert("Error saving this feature to GeoServer.<br><br>"+errorMsg)},context:this})},removeInteractions:function(){isActive()&&(settings.map.removeInteraction(settings.modify),settings.map.removeInteraction(settings.select))},activateInsert:function(){settings.hasDraw!==!0&&(settings.map.addInteraction(settings.draw),settings.hasDraw=!0)},addListener:function(){var fn=function(obj){$(obj.elDependencyId).on(obj.eventType,function(e){var containerClass="."+obj.elId.slice(1);$(obj.elDependencyId+" option:selected").text()===obj.requiredVal?$(containerClass).removeClass("o-hidden"):$(containerClass).addClass("o-hidden")})};return fn},onAttributes:function(){var self=this,features=settings.select.getFeatures();if(1===features.getLength()){var feature=features.item(0);if(settings.attributes.length>0)var attributeObjects=settings.attributes.map(function(attributeObject){var obj={};if($.extend(obj,attributeObject),obj.val=feature.get(obj.name)||"",obj.hasOwnProperty("constraint")){var constraintProps=obj.constraint.split(":");3===constraintProps.length?(obj.eventType=constraintProps[0],obj.dependencyVal=feature.get(constraintProps[1]),obj.requiredVal=constraintProps[2],obj.dependencyVal===obj.requiredVal?obj.isVisible=!0:obj.isVisible=!1,obj.addListener=self.addListener(),obj.elId="#input-"+obj.name+"-"+obj.requiredVal,obj.elDependencyId="#input-"+constraintProps[1]):alert("Constraint properties are not written correct, it should written as for example change:attribute:value")}else obj.isVisible=!0,obj.elId="#input-"+obj.name;return obj.formElement=self.createFormElement(obj),obj});var formElement=attributeObjects.reduce(function(prev,next){return prev+next.formElement},""),title=settings.title,form="<form>"+formElement+'<br><div class="o-form-save"><input id="o-save-button" type="button" value="Spara"></input></div></form>';modal.createModal("#o-map",{title:title,content:form}),modal.showModal(),attributeObjects.forEach(function(obj){obj.hasOwnProperty("addListener")&&obj.addListener(obj)}),this.onAttributesSave(feature,attributeObjects)}},deleteSelected:function(){var features=settings.select.getFeatures();if(1===features.getLength()){var feature=features.item(0),r=confirm("r du sker p att du vill ta bort det hr objektet?");if(r===!0){var node=settings.format.writeTransaction(null,null,[feature],{featureNS:settings.featureNS,featureType:settings.featureType});$.ajax({type:"POST",url:settings.url,data:settings.serializer.serializeToString(node),contentType:"text/xml",success:function(data){var result=this.readResponse(data);result&&(1===result.transactionSummary.totalDeleted?(settings.select.getFeatures().clear(),settings.source.removeFeature(feature)):alert("There was an issue deleting the feature."))},context:this})}}},createFormElement:function(obj){var id=obj.elId.slice(1),cls=obj.cls||"";cls+=id,cls+=obj.isVisible?"":" hidden";var el,label=obj.title,val=obj.isVisible?obj.val:"",type=obj.type,maxLength=obj.maxLength?' maxlength="'+obj.maxLength+'" ':"",dropdownOptions=obj.options||[];switch(type){case"text":el="<div><label>"+label+'</label><br><input type="text" id="'+id+'" value="'+val+'"'+maxLength+"></div>";break;case"textarea":el="<div><label>"+label+'</label><br><textarea id="'+id+'"'+maxLength+'rows="3">'+val+"</textarea></div>";break;case"checkbox":var checked=1==val?" checked":"";el='<div class="o-form-checkbox"><label>'+label+'</label><input type="checkbox" id="'+id+'" value="'+val+'"'+checked+"></div>";break;case"dropdown":var firstOption;firstOption=val?'<option value="'+val+'" selected>'+val+"</option>":'<option value="" selected>Vlj</option>',el='<div class="'+cls+'"><label>'+label+"</label><br><select id="+id+">"+firstOption;for(var i=0;i<dropdownOptions.length;i++)el+='<option value="'+dropdownOptions[i]+'">'+dropdownOptions[i]+"</option>";el+="</select></div>"}return el}}}()},{"./modal":115,"./viewer":137,jquery:23,openlayers:24}],132:[function(require,module,exports){"use strict";require("jquery");module.exports={createButton:function(options){var tooltip="",text="",cls=options.cls||"",iconCls=options.iconCls||"",placement=options.tooltipPlacement||"east";options.text&&(text='<span class="o-button-text">'+options.text+"</span>"),options.tooltipText&&(tooltip='<span data-tooltip="'+options.tooltipText+'" data-placement="'+placement+'"></span>');var el='<div id="'+options.id+'" class="o-button-container o-tooltip"><button class="o-button '+cls+'">'+text+'<svg class="'+iconCls+'"><use xlink:href="'+options.src+'"></use></svg></button>'+tooltip+"</div>";return el},createListButton:function(options){var el='<li><div id="'+options.id+'-button" class="o-menu-button"><div class="o-button-icon"><svg class="'+options.iconCls+'"><use xlink:href="'+options.src+'"></use></svg></div>'+options.text+"</div></li>";return el},createElement:function(el,val,attributes){var prefix="<"+el,suffix="</"+el+">",attributeNames=attributes?attributes.getOwnProperties():[],attributeList=attributeNames.map(function(name){return name+"="+attributes[name]}),element=prefix.concat(attributeList.join(" "),">",val,suffix);return element}}},{jquery:23}],133:[function(require,module,exports){"use strict";module.exports=function(){return location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+location.pathname}},{}],134:[function(require,module,exports){"use strict";module.exports=function(s){var regexp=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return regexp.test(s)}},{}],135:[function(require,module,exports){"use strict";var Replacer=function(){function replace(name,obj,options){var start=options.start||defaultOptions.start,end=options.end||defaultOptions.end,result=searchAndReplace(name,obj,start,end);return result}function searchAndReplace(name,obj,start,end){var regex=new RegExp(start+"(.*?)"+end,"g"),matches=regex.exec(name);if(matches){var val=obj.hasOwnProperty(matches[1])?obj[matches[1]]:"";return searchAndReplace(name.replace(matches[0],val),obj,start,end)}return name}var defaultOptions={start:"{{",end:"}}"};return{replace:function(name,obj,options){var opt=options||{};return replace(name,obj,opt)}}};module.exports=Replacer()},{}],136:[function(require,module,exports){"use strict";var urlparser={};urlparser.objectify=function(objString,opt_options){var options=opt_options||{},delimeter=options.delimeter||"/",topmost=options.topmost||"name",parts=objString.split(delimeter),obj={};if(options.topmost&&(""===parts[0]?console.log("Topmost value is missing"):obj[topmost]=parts[0]),parts.length>1)for(var i=1,ii=parts.length;ii>i;i+=2)obj[parts[i]]=parts[i+1];return obj},urlparser.stringify=function(obj,opt_options){var options=opt_options||{},delimeter=options.delimeter||"/",topmost=options.topmost||void 0,objString=topmost?obj[topmost]:"";for(var key in obj)key!==topmost&&(objString+=delimeter+key+delimeter+obj[key]);return objString},urlparser.arrStringify=function(arr,opt_options){var options=opt_options||{},delimeter=options.delimeter||"/",topmost=options.topmost||"",arrString=topmost?topmost+delimeter:"";if("undefined"==typeof arr[0][0])arrString+=arr.join(",");else{var outer=arr.map(function(inner){var res=inner.map(function(innerpart){return innerpart.join("!")});return res.join(",")});arrString+=outer.join(options.delimeter)}return arrString},urlparser.strArrayify=function(str,opt_options){var options=opt_options||{},delimeter=options.delimeter||"/",topmostName=opt_options.topmostName||"topmost",arrName=opt_options.arrName||"arr",topmost=str.substring(0,str.indexOf(delimeter)),arrStr=str.substring(str.indexOf(delimeter)+1),arr=arrStr.split(delimeter).map(function(el){return el.split("!")}),obj={};return obj[topmostName]=topmost,obj[arrName]=arr,obj},urlparser.strIntify=function(str,opt_options){var options=opt_options||{},delimiter=options.delimiter||",",arr=str.split(delimiter),strToInt=arr.map(function(el){return parseInt(el)});return strToInt},urlparser.strBoolean=function(str){return"1"===str?!0:"0"===str?!1:(console.log("String is not 1 or 0"),!1)},urlparser.formatUrl=function(obj){var url=Object.getOwnPropertyNames(obj).reduce(function(prev,current){return current=prev?"&"+current+"="+obj[current]:current+"="+obj[current],prev+current},"");return url},module.exports=urlparser},{}],137:[function(require,module,exports){"use strict";function init(el,mapOptions){if($(el).html(template),mapOptions.hasOwnProperty("proj4Defs")&&proj4)for(var proj=mapOptions.proj4Defs,i=0;i<proj.length;i++)proj4.defs(proj[i].code,proj[i].projection),proj[i].hasOwnProperty("alias")&&proj4.defs(proj[i].alias,proj4.defs(proj[i].code));settings.params=urlParams=mapOptions.params||{},settings.map=mapOptions.map,settings.url=mapOptions.url,mapOptions.hasOwnProperty("proj4Defs")&&(settings.projectionCode=mapOptions.projectionCode||void 0,settings.projectionExtent=mapOptions.projectionExtent,settings.projection=new ol.proj.Projection({code:settings.projectionCode,extent:settings.projectionExtent}),settings.resolutions=mapOptions.resolutions||void 0,settings.tileGrid=maputils.tileGrid(settings.projectionExtent,settings.resolutions)),settings.extent=mapOptions.extent||void 0,settings.center=urlParams.center||mapOptions.center,settings.zoom=urlParams.zoom||mapOptions.zoom,settings.source=mapOptions.source,settings.groups=mapOptions.groups,settings.editLayer=mapOptions.editLayer,settings.styles=mapOptions.styles,createLayers(mapOptions.layers,settings.layers,urlParams.layers),settings.controls=mapOptions.controls,settings.featureinfoOptions=mapOptions.featureinfoOptions||{},window.location.search&&parseArg(),attribution=new ol.control.Attribution({collapsible:!1});var zoomControl=new ol.control.Zoom({zoomInTipLabel:" ",zoomOutTipLabel:" ",zoomInLabel:$.parseHTML('<svg class="o-icon-fa-plus"><use xlink:href="css/svg/fa-icons.svg#fa-plus"></use></svg>')[0],zoomOutLabel:$.parseHTML('<svg class="o-icon-fa-minus"><use xlink:href="css/svg/fa-icons.svg#fa-minus"></use></svg>')[0]});mapControls=[zoomControl,attribution,new ol.control.Rotate({label:""}),new ol.control.ScaleLine({target:"bottom-tools"})],window.top!=window.self&&mapwindow.init(),loadMap(),$(window).on("resize",checkSize),checkSize(),urlParams.pin?settings.featureinfoOptions.savedPin=urlParams.pin:urlParams.selection&&(settings.featureinfoOptions.savedSelection=new ol.Feature({geometry:new ol.geom[urlParams.selection.geometryType](urlParams.selection.coordinates)})),featureinfo.init(settings.featureinfoOptions)}function createLayers(layerlist,layers,savedLayers){for(var i=layerlist.length-1;i>=0;i--){var savedLayer={};savedLayers&&(savedLayer=savedLayers[layerlist[i].name.split(":").pop()]||{visible:!1,legend:!1},savedLayer.name=layerlist[i].name);var layer=$.extend(layerlist[i],savedLayer),layerOptions=setLayerOptions(layer);if("WMTS"==layer.type)layers.push(addWMTS(layer));else if("WMS"==layer.type)layers.push(addWMS(layer));else if("WFS"==layer.type){var wfsSource=wfs(layerOptions);layers.push(createVectorLayer(layerOptions,wfsSource))}else if("AGS_FEATURE"==layer.type){var agsFeatureSource=agsFeature(layerOptions);layers.push(createVectorLayer(layerOptions,agsFeatureSource))}else if("AGS_TILE"==layer.type){var agsTileSource=agsTile(layerOptions);layers.push(createTileLayer(layerOptions,agsTileSource))}else if("GEOJSON"==layer.type){var geojsonSource=geojson(layerOptions);layers.push(createVectorLayer(layerOptions,geojsonSource))}else if("XYZ"==layer.type){var xyzSource=xyz(layerOptions);layers.push(createTileLayer(layerOptions,xyzSource))}else"GROUP"==layer.type&&layers.push(createLayerGroup(layer.layers,layer))}return layers}function setLayerOptions(options){var attr,geometryName=options.hasOwnProperty("geometryName")?options.geometryName:"geom",featureType=options.name.split("__").shift();options.hasOwnProperty("attribution")?attr=[new ol.Attribution({html:options.attribution})]:[attr=null];var layerOptions={featureType:featureType.split("__").shift(),name:options.name.split(":").pop(),id:options.id||void 0,title:options.title,group:options.group||"none",opacity:options.opacity||1,geometryName:geometryName,filter:options.filter||void 0,relations:options.relations||void 0,layerType:options.layerType||"vector",legend:options.legend||!1,sourceName:options.source,attribution:attr,style:options.style||"default",styleName:options.style,tileGrid:options.tileGrid||void 0,queryable:options.hasOwnProperty("queryable")?options.queryable:!0,minResolution:options.hasOwnProperty("minScale")?scaleToResolution(options.minScale):void 0,maxResolution:options.hasOwnProperty("maxScale")?scaleToResolution(options.maxScale):void 0,visible:options.visible,type:options.type||void 0,extent:options.extent||void 0,attributes:options.attributes};return options.hasOwnProperty("clusterStyle")&&(layerOptions.clusterStyle=options.clusterStyle),layerOptions}function createLayerGroup(layers,layersConfig){var group=[];return group=createLayers(layers,group),new ol.layer.Group({name:layersConfig.name,group:layersConfig.group,title:layersConfig.title,styleName:layersConfig.style||"default",layers:group,sourceName:layersConfig.source,visible:layersConfig.visible})}function loadMap(){map=new ol.Map({target:"o-map",controls:mapControls,layers:settings.layers,view:new ol.View({extent:settings.extent||void 0,projection:settings.projection||void 0,center:settings.center,resolutions:settings.resolutions||void 0,zoom:settings.zoom})})}function parseArg(){for(var str=window.location.search.substring(1),elements=str.split("&"),i=0;i<elements.length;i++)if(0==i){var z=elements[i].split(",");settings.center[0]=parseInt(z[0]),settings.center[1]=parseInt(z[1])}else if(1==i)settings.zoom=parseInt(elements[i]);else if(2==i)for(var la,match,l=elements[i].split(";"),layers=settings.layers,j=0;j<layers.length;j++)match=0,$.each(l,function(index,el){la=el.split(","),layers[j].get("group")&&("background"==layers[j].get("group")&&la[0]==layers[j].get("name")?(layers[j].setVisible(!0),match=1):"background"==layers[j].get("group")&&0==match?layers[j].setVisible(!1):la[0]==layers[j].get("name")&&(1==la[1]?(layers[j].set("legend",!0),layers[j].setVisible(!1)):(layers[j].set("legend",!0),layers[j].setVisible(!0))))})}function getSettings(){return settings}function getMapName(){return settings.map}function getUrl(){return settings.url}function getStyleSettings(){return settings.styles}function getResolutions(){return settings.resolutions}function getMapUrl(){var url,layerNames="";url=window.location.search?window.location.href.replace(window.location.search,"?"):window.location.href+"?";for(var mapView=map.getView(),center=mapView.getCenter(),i=0;2>i;i++)center[i]=parseInt(center[i]);var zoom=mapView.getZoom(),layers=map.getLayers();return layers.forEach(function(el){1==el.getVisible()?layerNames+=el.get("name")+";":1==el.get("legend")&&(layerNames+=el.get("name")+",1;")}),url+center+"&"+zoom+"&"+layerNames.slice(0,layerNames.lastIndexOf(";"))}function getMap(){return map}function getLayers(){return settings.layers}function getLayer(layername){var layer=$.grep(settings.layers,function(obj){return obj.get("name")==layername});return layer[0]}function getQueryableLayers(){var queryableLayers=settings.layers.filter(function(layer){return layer.get("queryable")&&layer.getVisible()?layer:void 0});return queryableLayers}function getEditLayer(){return settings.editLayer}function getGroup(group){var group=$.grep(settings.layers,function(obj){return obj.get("group")==group});return group}function getGroups(){return settings.groups}function getProjectionCode(){return settings.projectionCode}function getProjection(){return settings.projection}function getMapSource(){return settings.source}function getControlNames(){var controlNames=settings.controls.map(function(obj){return obj.name});return controlNames}function createTileLayer(options,source){var tileLayer;return options.source=source,tileLayer=new ol.layer.Tile(options)}function createVectorLayer(options,source){var vectorLayer;switch(options.layerType){case"vector":options.source=source,options.style=createStyle(options.style),vectorLayer=new ol.layer.Vector(options);break;case"cluster":options.source=new ol.source.Cluster({attributions:options.attribution,source:source,distance:60}),options.style=createStyle(options.style,options.clusterStyle),vectorLayer=new ol.layer.Vector(options);break;case"image":options.source=new ol.source.ImageVector({source:source,style:createStyle(options.style)}),vectorLayer=new ol.layer.Image(options)}return vectorLayer}function addWMS(layersConfig){var attr;return layersConfig.hasOwnProperty("attribution")?attr=[new ol.Attribution({html:layersConfig.attribution})]:[attr=null],new ol.layer.Tile({name:layersConfig.name.split(":").pop(),group:layersConfig.group||"default",opacity:layersConfig.opacity||1,title:layersConfig.title,styleName:layersConfig.style||"default",extent:layersConfig.extent||void 0,minResolution:layersConfig.hasOwnProperty("minScale")?scaleToResolution(layersConfig.minScale):void 0,maxResolution:layersConfig.hasOwnProperty("maxScale")?scaleToResolution(layersConfig.maxScale):void 0,type:layersConfig.type,visible:layersConfig.visible,attributes:layersConfig.attributes,queryable:!0,featureinfoLayer:layersConfig.featureinfoLayer||void 0,legend:!1,sourceName:layersConfig.source,source:new ol.source.TileWMS({attributions:attr,url:settings.source[layersConfig.source].url,gutter:layersConfig.gutter||0,crossOrigin:"anonymous",projection:settings.projection,params:{LAYERS:layersConfig.name,TILED:!0,VERSION:settings.source[layersConfig.source].version}})})}function addWMTS(layersConfig){for(var matrixIds=[],attr=null,layerSource=settings.source[layersConfig.source],matrixSet=layerSource.hasOwnProperty("matrixSetName")?layerSource.matrixSetName:settings.projectionCode,matrixIdsPrefix=layerSource.hasOwnProperty("matrixIdsPrefix")?layerSource.matrixIdsPrefix:settings.projectionCode+":",z=0;z<settings.resolutions.length;++z)matrixIds[z]=matrixIdsPrefix+z;return layersConfig.hasOwnProperty("attribution")?attr=[new ol.Attribution({html:layersConfig.attribution})]:[attr=null],new ol.layer.Tile({group:layersConfig.group||"background",name:layersConfig.name.split(":").pop(),opacity:layersConfig.opacity||1,title:layersConfig.title,styleName:layersConfig.style||"default",minResolution:layersConfig.hasOwnProperty("minScale")?scaleToResolution(layersConfig.minScale):void 0,maxResolution:layersConfig.hasOwnProperty("maxScale")?scaleToResolution(layersConfig.maxScale):void 0,visible:layersConfig.visible,type:layersConfig.type,queryable:layersConfig.queryable||!1,featureinfoLayer:layersConfig.featureinfoLayer||void 0,extent:layersConfig.extent||settings.extent,sourceName:layersConfig.name,source:new ol.source.WMTS({crossOrigin:"anonymous",attributions:attr,url:layerSource.url,projection:settings.projection,layer:layersConfig.name,matrixSet:matrixSet,format:layersConfig.format,tileGrid:new ol.tilegrid.WMTS({origin:ol.extent.getTopLeft(settings.projectionExtent),resolutions:settings.resolutions,matrixIds:matrixIds}),style:"default"})})}function geojson(options){return new ol.source.Vector({attributions:options.attribution,url:options.sourceName,format:new ol.format.GeoJSON})}function wfs(options){var vectorSource=null,serverUrl=settings.source[options.sourceName].url,geometryName=options.geometryName,queryFilter=options.filter?"&CQL_FILTER="+options.filter+" AND BBOX("+geometryName+",":"&BBOX=",bboxProjectionCode=options.filter?"'"+settings.projectionCode+"')":settings.projectionCode;return vectorSource=new ol.source.Vector({attributions:options.attribution,format:new ol.format.GeoJSON({geometryName:options.geometryName}),loader:function(extent,resolution,projection){var url=serverUrl+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+options.featureType+"&outputFormat=application/json&srsname="+settings.projectionCode+queryFilter+extent.join(",")+","+bboxProjectionCode;$.ajax({url:url,cache:!1}).done(function(response){vectorSource.addFeatures(vectorSource.getFormat().readFeatures(response))})},strategy:ol.loadingstrategy.tile(ol.tilegrid.createXYZ({maxZoom:settings.resolutions.length}))})}function agsFeature(options){var vectorSource=null,esriSrs=settings.projectionCode.split(":").pop(),serverUrl=settings.source[options.sourceName].url,queryFilter=options.filter?"&where="+options.filter:"",esrijsonFormat=new ol.format.EsriJSON;return vectorSource=new ol.source.Vector({attributions:options.attribution,loader:function(extent,resolution,projection){var that=this,url=serverUrl+options.id+"/query?f=json&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry="+encodeURIComponent('{"xmin":'+extent[0]+',"ymin":'+extent[1]+',"xmax":'+extent[2]+',"ymax":'+extent[3]+',"spatialReference":{"wkid":'+esriSrs+"}}")+"&geometryType=esriGeometryEnvelope&inSR="+esriSrs+"&outFields=*&returnIdsOnly=false&returnCountOnly=false&geometryPrecision=2&outSR="+esriSrs+queryFilter;$.ajax({url:url,dataType:"jsonp",success:function(response){if(response.error)alert(response.error.message+"\n"+response.error.details.join("\n"));else{var features=esrijsonFormat.readFeatures(response,{featureProjection:projection});features.length>0&&that.addFeatures(features)}}})},strategy:ol.loadingstrategy.bbox})}function agsTile(options){var url=settings.source[options.sourceName].url,params=options.params||{};params.layers="show:"+options.id;var tileSource=new ol.source.TileArcGISRest({attributions:options.attribution,projection:settings.projection,params:params,url:url});return tileSource}function xyz(options){var format=options.sourceName.split(".")[1],url=options.sourceName.split(".")[0]+"/{z}/{x}/{y}.";url+=format;var tileSource=new ol.source.XYZ({attributions:options.attribution,projection:settings.projection||"EPSG:3857",tileGrid:settings.tileGrid||void 0,url:url});return tileSource}function wfsCql(relations,coordinates){var url,finishedQueries=0;cqlQuery=[];for(var i=0;i<relations.length;i++)!function(index){var layer=relations[index].layer,mapServer=settings.source[getLayer(layer).get("sourceName")].url;url=mapServer+"?",data="service=WFS&version=1.0.0&request=GetFeature&typeName="+layer+"&outputFormat=json&CQL_FILTER=INTERSECTS(geom,"+coordinates+")&outputFormat=json",$.ajax({url:url,type:"POST",data:data,dataType:"json",success:function(response){var result={};result.layer=relations[index].layer,result.url=relations[index].url||void 0,result.features=[];for(var j=0;j<response.features.length;j++){var f={};f.attribute=response.features[j].properties[relations[index].attribute],f.url=response.features[j].properties[relations[index].url]||void 0,result.features.push(f)}cqlQuery.push(result),finishedQueries++,finishedQueries>=relations.length&&(queryFinished=!0)},error:function(jqXHR,textStatus,errorThrown){console.log(errorThrown)}})}(i)}function getCqlQuery(){return cqlQuery;
}function modalMoreInfo(){function checkQuery(){return queryFinished?(appendQuery(),void(queryFinished=!1)):void setTimeout(function(){tries>=nrTries&&(nrTries++,checkQuery())},100)}function appendQuery(){cqlQuery.sort(function(a,b){return a.layer.localeCompare(b.layer)});for(var i=0;i<cqlQuery.length;i++)if(cqlQuery[i].features.length){var l=getLayer(cqlQuery[i].layer);queryListItems+="<ul><li>"+l.get("title")+"</li>";for(var j=0;j<cqlQuery[i].features.length;j++){var attr=cqlQuery[i].features[j].attribute;queryListItems+=cqlQuery[i].features[j].url?'<li><div class="query-item"><a href="'+cqlQuery[i].features[j].url+'" target="_blank">'+attr+"</a></div></li>":'<li><div class="query-item">'+attr+"</div></li>"}queryListItems+="</ul>"}$("#querylist").append(queryListItems)}var content=$("#identify").html(),title=$(".popup-title").html();Popup.setVisibility(!1);var queryList='<ul id="querylist">';queryList+="</ul>";var modal=Modal("#o-map",{title:title,content:content+queryList});modal.showModal(),$(".modal li").removeClass("hidden");var queryListItems="",tries=10,nrTries=0;checkQuery()}function createStyle(styleName,clusterStyleName){var styleSettings=settings.styles[styleName];$.isEmptyObject(styleSettings)&&alert("Style "+styleName+" is not defined");var clusterStyleSettings=settings.styles[clusterStyleName],style=function(){var styleList=createStyleList(styleSettings);if(clusterStyleSettings){var clusterStyleList=createStyleList(clusterStyleSettings);return styleFunction(styleSettings,styleList,clusterStyleSettings,clusterStyleList)}return styleFunction(styleSettings,styleList)}();return style}function createStyleList(styleSettings){for(var styleList=[],i=0;i<styleSettings.length;i++){var styleOptions,styleRule=[];if(styleSettings[i].constructor===Array)for(var j=0;j<styleSettings[i].length;j++)styleOptions=createStyleOptions(styleSettings[i][j]),styleRule.push(new ol.style.Style(styleOptions));else styleOptions=createStyleOptions(styleSettings[i]),styleRule=[new ol.style.Style(styleOptions)];styleList.push(styleRule)}return styleList}function styleFunction(styleSettings,styleList,clusterStyleSettings,clusterStyleList){var fn=function(feature,resolution){var styleL,scale=getScale(resolution),size=clusterStyleList?feature.get("features").length:1;return styleL=size>1&&map.getView().getResolution()!=settings.resolutions[settings.resolutions.length+1]?checkOptions(feature,scale,clusterStyleSettings,clusterStyleList,size.toString()):checkOptions(feature,scale,styleSettings,styleList)};return fn}function checkScale(scale,maxScale,minScale){if(!maxScale&&!minScale)return!0;if(maxScale&&minScale){if(scale>maxScale&&minScale>scale)return!0}else if(maxScale){if(scale>maxScale)return!0}else if(minScale&&minScale>scale)return!0}function checkOptions(feature,scale,styleSettings,styleList,size){for(var s=styleSettings,j=0;j<s.length;j++){var styleL;if(checkScale(scale,s[j][0].maxScale,s[j][0].minScale)){if(s[j].some(function(element,index,array){element.hasOwnProperty("text")&&size&&styleList[j][index].getText().setText(size)}),!s[j][0].hasOwnProperty("filter"))return styleL=styleList[j];var featAttr,expr,featMatch,matches=s[j][0].filter.match(/\[(.*?)\]/);if(matches&&(featAttr=matches[1],expr=s[j][0].filter.split("]")[1],featMatch=feature.get(featAttr),expr="number"==typeof featMatch?featMatch+expr:'"'+featMatch+'"'+expr),eval(expr))return styleL=styleList[j]}}}function createStyleOptions(styleParams){var styleOptions={};if(styleParams.hasOwnProperty("geometry"))switch(styleParams.geometry){case"centerPoint":styleOptions.geometry=function(feature){if("Polygon"===feature.getGeometry().getType()){var coordinates=feature.getGeometry().getInteriorPoint().getFirstCoordinate();return new ol.geom.Point(coordinates)}if("MultiPolygon"===feature.getGeometry().getType()){var coordinates=feature.getGeometry().getInteriorPoints().getFirstCoordinate();return new ol.geom.Point(coordinates)}}}return styleParams.hasOwnProperty("zIndex")&&(styleOptions.zIndex=styleParams.zIndex),styleParams.hasOwnProperty("fill")&&(styleOptions.fill=new ol.style.Fill(styleParams.fill)),styleParams.hasOwnProperty("stroke")&&(styleOptions.stroke=new ol.style.Stroke(styleParams.stroke)),styleParams.hasOwnProperty("text")&&(styleOptions.text=new ol.style.Text(styleParams.text),styleParams.text.hasOwnProperty("fill")&&styleOptions.text.setFill(new ol.style.Fill(styleParams.text.fill)),styleParams.text.hasOwnProperty("stroke")&&styleOptions.text.setStroke(new ol.style.Stroke(styleParams.text.stroke))),styleParams.hasOwnProperty("icon")&&(styleOptions.image=new ol.style.Icon(styleParams.icon)),styleParams.hasOwnProperty("circle")&&(styleOptions.image=new ol.style.Circle({radius:styleParams.circle.radius,fill:new ol.style.Fill(styleParams.circle.fill)||void 0,stroke:new ol.style.Stroke(styleParams.circle.stroke)||void 0})),styleOptions}function getScale(resolution){var dpi=25.4/.28,mpu=settings.projection.getMetersPerUnit(),scale=resolution*mpu*39.37*dpi;return scale=Math.round(scale)}function scaleToResolution(scale){var dpi=25.4/.28,mpu=settings.projection.getMetersPerUnit(),resolution=scale/(39.37*mpu*dpi);return resolution}function autoPan(){var el=$(".o-popup"),center=map.getView().getCenter(),popupOffset=$(el).offset(),mapOffset=$("#"+map.getTarget()).offset(),offsetY=popupOffset.top-mapOffset.top,mapSize=map.getSize(),offsetX=mapOffset.left+mapSize[0]-(popupOffset.left+$(el).outerWidth(!0)),menuSize=0;if(settings.controls.hasOwnProperty("mapmenu")&&(menuSize=settings.controls.mapmenu.getTarget().offset().left>0?mapSize[0]-settings.controls.mapmenu.getTarget().offset().left:menuSize=0),0>offsetY||0+menuSize>offsetX||offsetX>mapSize[0]-$(el).outerWidth(!0)){var dx=0,dy=0;0+menuSize>offsetX&&(dx=(-offsetX+menuSize)*map.getView().getResolution()),offsetX>mapSize[0]-$(el).outerWidth(!0)&&(dx=-($(el).outerWidth(!0)-(mapSize[0]-offsetX))*map.getView().getResolution()),0>offsetY&&(dy=-offsetY*map.getView().getResolution());var pan=ol.animation.pan({duration:300,source:center});map.beforeRender(pan),map.getView().setCenter([center[0]+dx,center[1]+dy])}}function removeOverlays(){var overlays=map.getOverlays();if(overlays.length>0)for(var i=0;i<overlays.length;i++)map.removeOverlay(overlays[i])}function checkSize(){var small=map.getSize()[0]<768;attribution.setCollapsible(small),attribution.setCollapsed(small)}var ol=require("openlayers"),$=require("jquery"),template=require("./templates/viewer.handlebars"),Popup=require("./popup"),Modal=require("./modal"),utils=require("./utils"),featureinfo=require("./featureinfo"),mapwindow=require("./mapwindow"),maputils=require("./maputils"),map,mapControls,attribution,template,settings={projection:"",projectionCode:"",projectionExtent:"",extent:[],center:[0,0],zoom:0,resolutions:null,source:{},group:[],layers:[],styles:{},controls:[],featureInfoOverlay:void 0,editLayer:null},cqlQuery,queryFinished=!1,urlParams;module.exports.init=init,module.exports.createLayers=createLayers,module.exports.createLayerGroup=createLayerGroup,module.exports.loadMap=loadMap,module.exports.parseArg=parseArg,module.exports.getSettings=getSettings,module.exports.getStyleSettings=getStyleSettings,module.exports.getMapUrl=getMapUrl,module.exports.getMap=getMap,module.exports.getLayers=getLayers,module.exports.getLayer=getLayer,module.exports.getControlNames=getControlNames,module.exports.getQueryableLayers=getQueryableLayers,module.exports.getEditLayer=getEditLayer,module.exports.getGroup=getGroup,module.exports.getGroups=getGroups,module.exports.getProjectionCode=getProjectionCode,module.exports.getProjection=getProjection,module.exports.getMapSource=getMapSource,module.exports.getResolutions=getResolutions,module.exports.addWMS=addWMS,module.exports.addWMTS=addWMTS,module.exports.geojson=geojson,module.exports.wfs=wfs,module.exports.wfsCql=wfsCql,module.exports.getCqlQuery=getCqlQuery,module.exports.modalMoreInfo=modalMoreInfo,module.exports.createStyle=createStyle,module.exports.styleFunction=styleFunction,module.exports.createStyleOptions=createStyleOptions,module.exports.getScale=getScale,module.exports.scaleToResolution=scaleToResolution,module.exports.autoPan=autoPan,module.exports.removeOverlays=removeOverlays,module.exports.checkSize=checkSize,module.exports.getMapName=getMapName,module.exports.getUrl=getUrl},{"./featureinfo":102,"./maputils":113,"./mapwindow":114,"./modal":115,"./popup":119,"./templates/viewer.handlebars":130,"./utils":132,jquery:23,openlayers:24}]},{},[98])(98)});