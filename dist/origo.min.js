!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.origo=t()}}(function(){var define,module,exports;return function t(e,i,n){function r(o,a){if(!i[o]){if(!e[o]){var h="function"==typeof require&&require;if(!a&&h)return h(o,!0);if(s)return s(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[o]={exports:{}};e[o][0].call(u.exports,function(t){var i=e[o][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[o].exports}for(var s="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,i){"function"!=typeof Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),function(t,e,i){var n={init:function(e,i){this.$elem=t(i),this.options=t.extend({},t.fn.owlCarousel.options,this.$elem.data(),e),this.userOptions=e,this.loadContent()},loadContent:function(){function e(t){var e,i="";if("function"==typeof n.options.jsonSuccess)n.options.jsonSuccess.apply(this,[t]);else{for(e in t.owl)t.owl.hasOwnProperty(e)&&(i+=t.owl[e].item);n.$elem.html(i)}n.logIn()}var i,n=this;"function"==typeof n.options.beforeInit&&n.options.beforeInit.apply(this,[n.$elem]),"string"==typeof n.options.jsonPath?(i=n.options.jsonPath,t.getJSON(i,e)):n.logIn()},logIn:function(){this.$elem.data("owl-originalStyles",this.$elem.attr("style")),this.$elem.data("owl-originalClasses",this.$elem.attr("class")),this.$elem.css({opacity:0}),this.orignalItems=this.options.items,this.checkBrowser(),this.wrapperWidth=0,this.checkVisible=null,this.setVars()},setVars:function(){return 0===this.$elem.children().length?!1:(this.baseClass(),this.eventTypes(),this.$userItems=this.$elem.children(),this.itemsAmount=this.$userItems.length,this.wrapItems(),this.$owlItems=this.$elem.find(".owl-item"),this.$owlWrapper=this.$elem.find(".owl-wrapper"),this.playDirection="next",this.prevItem=0,this.prevArr=[0],this.currentItem=0,this.customEvents(),void this.onStartup())},onStartup:function(){this.updateItems(),this.calculateAll(),this.buildControls(),this.updateControls(),this.response(),this.moveEvents(),this.stopOnHover(),this.owlStatus(),!1!==this.options.transitionStyle&&this.transitionTypes(this.options.transitionStyle),!0===this.options.autoPlay&&(this.options.autoPlay=5e3),this.play(),this.$elem.find(".owl-wrapper").css("display","block"),this.$elem.is(":visible")?this.$elem.css("opacity",1):this.watchVisibility(),this.onstartup=!1,this.eachMoveUpdate(),"function"==typeof this.options.afterInit&&this.options.afterInit.apply(this,[this.$elem])},eachMoveUpdate:function(){!0===this.options.lazyLoad&&this.lazyLoad(),!0===this.options.autoHeight&&this.autoHeight(),this.onVisibleItems(),"function"==typeof this.options.afterAction&&this.options.afterAction.apply(this,[this.$elem])},updateVars:function(){"function"==typeof this.options.beforeUpdate&&this.options.beforeUpdate.apply(this,[this.$elem]),this.watchVisibility(),this.updateItems(),this.calculateAll(),this.updatePosition(),this.updateControls(),this.eachMoveUpdate(),"function"==typeof this.options.afterUpdate&&this.options.afterUpdate.apply(this,[this.$elem])},reload:function(){var t=this;e.setTimeout(function(){t.updateVars()},0)},watchVisibility:function(){var t=this;return!1!==t.$elem.is(":visible")?!1:(t.$elem.css({opacity:0}),e.clearInterval(t.autoPlayInterval),e.clearInterval(t.checkVisible),void(t.checkVisible=e.setInterval(function(){t.$elem.is(":visible")&&(t.reload(),t.$elem.animate({opacity:1},200),e.clearInterval(t.checkVisible))},500)))},wrapItems:function(){this.$userItems.wrapAll('<div class="owl-wrapper">').wrap('<div class="owl-item"></div>'),this.$elem.find(".owl-wrapper").wrap('<div class="owl-wrapper-outer">'),this.wrapperOuter=this.$elem.find(".owl-wrapper-outer"),this.$elem.css("display","block")},baseClass:function(){var t=this.$elem.hasClass(this.options.baseClass),e=this.$elem.hasClass(this.options.theme);t||this.$elem.addClass(this.options.baseClass),e||this.$elem.addClass(this.options.theme)},updateItems:function(){var e,i;if(!1===this.options.responsive)return!1;if(!0===this.options.singleItem)return this.options.items=this.orignalItems=1,this.options.itemsCustom=!1,this.options.itemsDesktop=!1,this.options.itemsDesktopSmall=!1,this.options.itemsTablet=!1,this.options.itemsTabletSmall=!1,this.options.itemsMobile=!1;if(e=t(this.options.responsiveBaseWidth).width(),e>(this.options.itemsDesktop[0]||this.orignalItems)&&(this.options.items=this.orignalItems),!1!==this.options.itemsCustom)for(this.options.itemsCustom.sort(function(t,e){return t[0]-e[0]}),i=0;i<this.options.itemsCustom.length;i+=1)this.options.itemsCustom[i][0]<=e&&(this.options.items=this.options.itemsCustom[i][1]);else e<=this.options.itemsDesktop[0]&&!1!==this.options.itemsDesktop&&(this.options.items=this.options.itemsDesktop[1]),e<=this.options.itemsDesktopSmall[0]&&!1!==this.options.itemsDesktopSmall&&(this.options.items=this.options.itemsDesktopSmall[1]),e<=this.options.itemsTablet[0]&&!1!==this.options.itemsTablet&&(this.options.items=this.options.itemsTablet[1]),e<=this.options.itemsTabletSmall[0]&&!1!==this.options.itemsTabletSmall&&(this.options.items=this.options.itemsTabletSmall[1]),e<=this.options.itemsMobile[0]&&!1!==this.options.itemsMobile&&(this.options.items=this.options.itemsMobile[1]);this.options.items>this.itemsAmount&&!0===this.options.itemsScaleUp&&(this.options.items=this.itemsAmount)},response:function(){var i,n,r=this;return!0!==r.options.responsive?!1:(n=t(e).width(),r.resizer=function(){t(e).width()!==n&&(!1!==r.options.autoPlay&&e.clearInterval(r.autoPlayInterval),e.clearTimeout(i),i=e.setTimeout(function(){n=t(e).width(),r.updateVars()},r.options.responsiveRefreshRate))},void t(e).resize(r.resizer))},updatePosition:function(){this.jumpTo(this.currentItem),!1!==this.options.autoPlay&&this.checkAp()},appendItemsSizes:function(){var e=this,i=0,n=e.itemsAmount-e.options.items;e.$owlItems.each(function(r){var s=t(this);s.css({width:e.itemWidth}).data("owl-item",Number(r)),(0===r%e.options.items||r===n)&&(r>n||(i+=1)),s.data("owl-roundPages",i)})},appendWrapperSizes:function(){this.$owlWrapper.css({width:this.$owlItems.length*this.itemWidth*2,left:0}),this.appendItemsSizes()},calculateAll:function(){this.calculateWidth(),this.appendWrapperSizes(),this.loops(),this.max()},calculateWidth:function(){this.itemWidth=Math.round(this.$elem.width()/this.options.items)},max:function(){var t=-1*(this.itemsAmount*this.itemWidth-this.options.items*this.itemWidth);return this.options.items>this.itemsAmount?this.maximumPixels=t=this.maximumItem=0:(this.maximumItem=this.itemsAmount-this.options.items,this.maximumPixels=t),t},min:function(){return 0},loops:function(){var e,i,n=0,r=0;for(this.positionsInArray=[0],this.pagesInArray=[],e=0;e<this.itemsAmount;e+=1)r+=this.itemWidth,this.positionsInArray.push(-r),!0===this.options.scrollPerPage&&(i=t(this.$owlItems[e]),i=i.data("owl-roundPages"),i!==n&&(this.pagesInArray[n]=this.positionsInArray[e],n=i))},buildControls:function(){(!0===this.options.navigation||!0===this.options.pagination)&&(this.owlControls=t('<div class="owl-controls"/>').toggleClass("clickable",!this.browser.isTouch).appendTo(this.$elem)),!0===this.options.pagination&&this.buildPagination(),!0===this.options.navigation&&this.buildButtons()},buildButtons:function(){var e=this,i=t('<div class="owl-buttons"/>');e.owlControls.append(i),e.buttonPrev=t("<div/>",{"class":"owl-prev",html:e.options.navigationText[0]||""}),e.buttonNext=t("<div/>",{"class":"owl-next",html:e.options.navigationText[1]||""}),i.append(e.buttonPrev).append(e.buttonNext),i.on("touchstart.owlControls mousedown.owlControls",'div[class^="owl"]',function(t){t.preventDefault()}),i.on("touchend.owlControls mouseup.owlControls",'div[class^="owl"]',function(i){i.preventDefault(),t(this).hasClass("owl-next")?e.next():e.prev()})},buildPagination:function(){var e=this;e.paginationWrapper=t('<div class="owl-pagination"/>'),e.owlControls.append(e.paginationWrapper),e.paginationWrapper.on("touchend.owlControls mouseup.owlControls",".owl-page",function(i){i.preventDefault(),Number(t(this).data("owl-page"))!==e.currentItem&&e.goTo(Number(t(this).data("owl-page")),!0)})},updatePagination:function(){var e,i,n,r,s,o;if(!1===this.options.pagination)return!1;for(this.paginationWrapper.html(""),e=0,i=this.itemsAmount-this.itemsAmount%this.options.items,r=0;r<this.itemsAmount;r+=1)0===r%this.options.items&&(e+=1,i===r&&(n=this.itemsAmount-this.options.items),s=t("<div/>",{"class":"owl-page"}),o=t("<span></span>",{text:!0===this.options.paginationNumbers?e:"","class":!0===this.options.paginationNumbers?"owl-numbers":""}),s.append(o),s.data("owl-page",i===r?n:r),s.data("owl-roundPages",e),this.paginationWrapper.append(s));this.checkPagination()},checkPagination:function(){var e=this;return!1===e.options.pagination?!1:void e.paginationWrapper.find(".owl-page").each(function(){t(this).data("owl-roundPages")===t(e.$owlItems[e.currentItem]).data("owl-roundPages")&&(e.paginationWrapper.find(".owl-page").removeClass("active"),t(this).addClass("active"))})},checkNavigation:function(){return!1===this.options.navigation?!1:void(!1===this.options.rewindNav&&(0===this.currentItem&&0===this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.addClass("disabled")):0===this.currentItem&&0!==this.maximumItem?(this.buttonPrev.addClass("disabled"),this.buttonNext.removeClass("disabled")):this.currentItem===this.maximumItem?(this.buttonPrev.removeClass("disabled"),this.buttonNext.addClass("disabled")):0!==this.currentItem&&this.currentItem!==this.maximumItem&&(this.buttonPrev.removeClass("disabled"),this.buttonNext.removeClass("disabled"))))},updateControls:function(){this.updatePagination(),this.checkNavigation(),this.owlControls&&(this.options.items>=this.itemsAmount?this.owlControls.hide():this.owlControls.show())},destroyControls:function(){this.owlControls&&this.owlControls.remove()},next:function(t){if(this.isTransition)return!1;if(this.currentItem+=!0===this.options.scrollPerPage?this.options.items:1,this.currentItem>this.maximumItem+(!0===this.options.scrollPerPage?this.options.items-1:0)){if(!0!==this.options.rewindNav)return this.currentItem=this.maximumItem,!1;this.currentItem=0,t="rewind"}this.goTo(this.currentItem,t)},prev:function(t){if(this.isTransition)return!1;if(this.currentItem=!0===this.options.scrollPerPage&&0<this.currentItem&&this.currentItem<this.options.items?0:this.currentItem-(!0===this.options.scrollPerPage?this.options.items:1),0>this.currentItem){if(!0!==this.options.rewindNav)return this.currentItem=0,!1;this.currentItem=this.maximumItem,t="rewind"}this.goTo(this.currentItem,t)},goTo:function(t,i,n){var r=this;return r.isTransition?!1:("function"==typeof r.options.beforeMove&&r.options.beforeMove.apply(this,[r.$elem]),t>=r.maximumItem?t=r.maximumItem:0>=t&&(t=0),r.currentItem=r.owl.currentItem=t,!1!==r.options.transitionStyle&&"drag"!==n&&1===r.options.items&&!0===r.browser.support3d?(r.swapSpeed(0),!0===r.browser.support3d?r.transition3d(r.positionsInArray[t]):r.css2slide(r.positionsInArray[t],1),r.afterGo(),r.singleItemTransition(),!1):(t=r.positionsInArray[t],!0===r.browser.support3d?(r.isCss3Finish=!1,!0===i?(r.swapSpeed("paginationSpeed"),e.setTimeout(function(){r.isCss3Finish=!0},r.options.paginationSpeed)):"rewind"===i?(r.swapSpeed(r.options.rewindSpeed),e.setTimeout(function(){r.isCss3Finish=!0},r.options.rewindSpeed)):(r.swapSpeed("slideSpeed"),e.setTimeout(function(){r.isCss3Finish=!0},r.options.slideSpeed)),r.transition3d(t)):!0===i?r.css2slide(t,r.options.paginationSpeed):"rewind"===i?r.css2slide(t,r.options.rewindSpeed):r.css2slide(t,r.options.slideSpeed),void r.afterGo()))},jumpTo:function(t){"function"==typeof this.options.beforeMove&&this.options.beforeMove.apply(this,[this.$elem]),t>=this.maximumItem||-1===t?t=this.maximumItem:0>=t&&(t=0),this.swapSpeed(0),!0===this.browser.support3d?this.transition3d(this.positionsInArray[t]):this.css2slide(this.positionsInArray[t],1),this.currentItem=this.owl.currentItem=t,this.afterGo()},afterGo:function(){this.prevArr.push(this.currentItem),this.prevItem=this.owl.prevItem=this.prevArr[this.prevArr.length-2],this.prevArr.shift(0),this.prevItem!==this.currentItem&&(this.checkPagination(),this.checkNavigation(),this.eachMoveUpdate(),!1!==this.options.autoPlay&&this.checkAp()),"function"==typeof this.options.afterMove&&this.prevItem!==this.currentItem&&this.options.afterMove.apply(this,[this.$elem])},stop:function(){this.apStatus="stop",e.clearInterval(this.autoPlayInterval)},checkAp:function(){"stop"!==this.apStatus&&this.play()},play:function(){var t=this;return t.apStatus="play",!1===t.options.autoPlay?!1:(e.clearInterval(t.autoPlayInterval),void(t.autoPlayInterval=e.setInterval(function(){t.next(!0)},t.options.autoPlay)))},swapSpeed:function(t){"slideSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.slideSpeed)):"paginationSpeed"===t?this.$owlWrapper.css(this.addCssSpeed(this.options.paginationSpeed)):"string"!=typeof t&&this.$owlWrapper.css(this.addCssSpeed(t))},addCssSpeed:function(t){return{"-webkit-transition":"all "+t+"ms ease","-moz-transition":"all "+t+"ms ease","-o-transition":"all "+t+"ms ease",transition:"all "+t+"ms ease"}},removeTransition:function(){return{"-webkit-transition":"","-moz-transition":"","-o-transition":"",transition:""}},doTranslate:function(t){return{"-webkit-transform":"translate3d("+t+"px, 0px, 0px)","-moz-transform":"translate3d("+t+"px, 0px, 0px)","-o-transform":"translate3d("+t+"px, 0px, 0px)","-ms-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px,0px)"}},transition3d:function(t){this.$owlWrapper.css(this.doTranslate(t))},css2move:function(t){this.$owlWrapper.css({left:t})},css2slide:function(t,e){var i=this;i.isCssFinish=!1,i.$owlWrapper.stop(!0,!0).animate({left:t},{duration:e||i.options.slideSpeed,complete:function(){i.isCssFinish=!0}})},checkBrowser:function(){var t=i.createElement("div");t.style.cssText="  -moz-transform:translate3d(0px, 0px, 0px); -ms-transform:translate3d(0px, 0px, 0px); -o-transform:translate3d(0px, 0px, 0px); -webkit-transform:translate3d(0px, 0px, 0px); transform:translate3d(0px, 0px, 0px)",t=t.style.cssText.match(/translate3d\(0px, 0px, 0px\)/g),this.browser={support3d:null!==t&&1===t.length,isTouch:"ontouchstart"in e||e.navigator.msMaxTouchPoints}},moveEvents:function(){(!1!==this.options.mouseDrag||!1!==this.options.touchDrag)&&(this.gestures(),this.disabledEvents())},eventTypes:function(){var t=["s","e","x"];this.ev_types={},!0===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl mousedown.owl","touchmove.owl mousemove.owl","touchend.owl touchcancel.owl mouseup.owl"]:!1===this.options.mouseDrag&&!0===this.options.touchDrag?t=["touchstart.owl","touchmove.owl","touchend.owl touchcancel.owl"]:!0===this.options.mouseDrag&&!1===this.options.touchDrag&&(t=["mousedown.owl","mousemove.owl","mouseup.owl"]),this.ev_types.start=t[0],this.ev_types.move=t[1],this.ev_types.end=t[2]},disabledEvents:function(){this.$elem.on("dragstart.owl",function(t){t.preventDefault()}),this.$elem.on("mousedown.disableTextSelect",function(e){return t(e.target).is("input, textarea, select, option")})},gestures:function(){function n(t){if(void 0!==t.touches)return{x:t.touches[0].pageX,y:t.touches[0].pageY};if(void 0===t.touches){if(void 0!==t.pageX)return{x:t.pageX,y:t.pageY};if(void 0===t.pageX)return{x:t.clientX,y:t.clientY}}}function r(e){"on"===e?(t(i).on(a.ev_types.move,s),t(i).on(a.ev_types.end,o)):"off"===e&&(t(i).off(a.ev_types.move),t(i).off(a.ev_types.end))}function s(r){r=r.originalEvent||r||e.event,a.newPosX=n(r).x-h.offsetX,a.newPosY=n(r).y-h.offsetY,a.newRelativeX=a.newPosX-h.relativePos,"function"==typeof a.options.startDragging&&!0!==h.dragging&&0!==a.newRelativeX&&(h.dragging=!0,a.options.startDragging.apply(a,[a.$elem])),(8<a.newRelativeX||-8>a.newRelativeX)&&!0===a.browser.isTouch&&(void 0!==r.preventDefault?r.preventDefault():r.returnValue=!1,h.sliding=!0),(10<a.newPosY||-10>a.newPosY)&&!1===h.sliding&&t(i).off("touchmove.owl"),a.newPosX=Math.max(Math.min(a.newPosX,a.newRelativeX/5),a.maximumPixels+a.newRelativeX/5),!0===a.browser.support3d?a.transition3d(a.newPosX):a.css2move(a.newPosX)}function o(i){i=i.originalEvent||i||e.event;var n;i.target=i.target||i.srcElement,h.dragging=!1,!0!==a.browser.isTouch&&a.$owlWrapper.removeClass("grabbing"),a.dragDirection=0>a.newRelativeX?a.owl.dragDirection="left":a.owl.dragDirection="right",0!==a.newRelativeX&&(n=a.getNewPosition(),a.goTo(n,!1,"drag"),h.targetElement===i.target&&!0!==a.browser.isTouch&&(t(i.target).on("click.disable",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),t(e.target).off("click.disable")}),i=t._data(i.target,"events").click,n=i.pop(),i.splice(0,0,n))),r("off")}var a=this,h={offsetX:0,offsetY:0,baseElWidth:0,relativePos:0,position:null,minSwipe:null,maxSwipe:null,sliding:null,dargging:null,targetElement:null};a.isCssFinish=!0,a.$elem.on(a.ev_types.start,".owl-wrapper",function(i){i=i.originalEvent||i||e.event;var s;if(3===i.which)return!1;if(!(a.itemsAmount<=a.options.items)){if(!1===a.isCssFinish&&!a.options.dragBeforeAnimFinish||!1===a.isCss3Finish&&!a.options.dragBeforeAnimFinish)return!1;!1!==a.options.autoPlay&&e.clearInterval(a.autoPlayInterval),!0===a.browser.isTouch||a.$owlWrapper.hasClass("grabbing")||a.$owlWrapper.addClass("grabbing"),a.newPosX=0,a.newRelativeX=0,t(this).css(a.removeTransition()),s=t(this).position(),h.relativePos=s.left,h.offsetX=n(i).x-s.left,h.offsetY=n(i).y-s.top,r("on"),h.sliding=!1,h.targetElement=i.target||i.srcElement}})},getNewPosition:function(){var t=this.closestItem();return t>this.maximumItem?t=this.currentItem=this.maximumItem:0<=this.newPosX&&(this.currentItem=t=0),t},closestItem:function(){var e=this,i=!0===e.options.scrollPerPage?e.pagesInArray:e.positionsInArray,n=e.newPosX,r=null;return t.each(i,function(s,o){n-e.itemWidth/20>i[s+1]&&n-e.itemWidth/20<o&&"left"===e.moveDirection()?(r=o,e.currentItem=!0===e.options.scrollPerPage?t.inArray(r,e.positionsInArray):s):n+e.itemWidth/20<o&&n+e.itemWidth/20>(i[s+1]||i[s]-e.itemWidth)&&"right"===e.moveDirection()&&(!0===e.options.scrollPerPage?(r=i[s+1]||i[i.length-1],e.currentItem=t.inArray(r,e.positionsInArray)):(r=i[s+1],e.currentItem=s+1))}),e.currentItem},moveDirection:function(){var t;return 0>this.newRelativeX?(t="right",this.playDirection="next"):(t="left",this.playDirection="prev"),t},customEvents:function(){var t=this;t.$elem.on("owl.next",function(){t.next()}),t.$elem.on("owl.prev",function(){t.prev()}),t.$elem.on("owl.play",function(e,i){t.options.autoPlay=i,t.play(),t.hoverStatus="play"}),t.$elem.on("owl.stop",function(){t.stop(),t.hoverStatus="stop"}),t.$elem.on("owl.goTo",function(e,i){t.goTo(i)}),t.$elem.on("owl.jumpTo",function(e,i){t.jumpTo(i)})},stopOnHover:function(){var t=this;!0===t.options.stopOnHover&&!0!==t.browser.isTouch&&!1!==t.options.autoPlay&&(t.$elem.on("mouseover",function(){t.stop()}),t.$elem.on("mouseout",function(){"stop"!==t.hoverStatus&&t.play()}))},lazyLoad:function(){var e,i,n,r,s;if(!1===this.options.lazyLoad)return!1;for(e=0;e<this.itemsAmount;e+=1)i=t(this.$owlItems[e]),"loaded"!==i.data("owl-loaded")&&(n=i.data("owl-item"),r=i.find(".lazyOwl"),"string"!=typeof r.data("src")?i.data("owl-loaded","loaded"):(void 0===i.data("owl-loaded")&&(r.hide(),i.addClass("loading").data("owl-loaded","checked")),(s=!0===this.options.lazyFollow?n>=this.currentItem:!0)&&n<this.currentItem+this.options.items&&r.length&&this.lazyPreload(i,r)))},lazyPreload:function(t,i){function n(){t.data("owl-loaded","loaded").removeClass("loading"),i.removeAttr("data-src"),"fade"===o.options.lazyEffect?i.fadeIn(400):i.show(),"function"==typeof o.options.afterLazyLoad&&o.options.afterLazyLoad.apply(this,[o.$elem])}function r(){a+=1,o.completeImg(i.get(0))||!0===s?n():100>=a?e.setTimeout(r,100):n()}var s,o=this,a=0;"DIV"===i.prop("tagName")?(i.css("background-image","url("+i.data("src")+")"),s=!0):i[0].src=i.data("src"),r()},autoHeight:function(){function i(){var i=t(s.$owlItems[s.currentItem]).height();s.wrapperOuter.css("height",i+"px"),s.wrapperOuter.hasClass("autoHeight")||e.setTimeout(function(){s.wrapperOuter.addClass("autoHeight")},0)}function n(){r+=1,s.completeImg(o.get(0))?i():100>=r?e.setTimeout(n,100):s.wrapperOuter.css("height","")}var r,s=this,o=t(s.$owlItems[s.currentItem]).find("img");void 0!==o.get(0)?(r=0,n()):i()},completeImg:function(t){return!t.complete||"undefined"!=typeof t.naturalWidth&&0===t.naturalWidth?!1:!0},onVisibleItems:function(){var e;for(!0===this.options.addClassActive&&this.$owlItems.removeClass("active"),this.visibleItems=[],e=this.currentItem;e<this.currentItem+this.options.items;e+=1)this.visibleItems.push(e),!0===this.options.addClassActive&&t(this.$owlItems[e]).addClass("active");this.owl.visibleItems=this.visibleItems},transitionTypes:function(t){this.outClass="owl-"+t+"-out",this.inClass="owl-"+t+"-in"},singleItemTransition:function(){var t=this,e=t.outClass,i=t.inClass,n=t.$owlItems.eq(t.currentItem),r=t.$owlItems.eq(t.prevItem),s=Math.abs(t.positionsInArray[t.currentItem])+t.positionsInArray[t.prevItem],o=Math.abs(t.positionsInArray[t.currentItem])+t.itemWidth/2;t.isTransition=!0,t.$owlWrapper.addClass("owl-origin").css({"-webkit-transform-origin":o+"px","-moz-perspective-origin":o+"px","perspective-origin":o+"px"}),r.css({position:"relative",left:s+"px"}).addClass(e).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endPrev=!0,r.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(r,e)}),n.addClass(i).on("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend",function(){t.endCurrent=!0,n.off("webkitAnimationEnd oAnimationEnd MSAnimationEnd animationend"),t.clearTransStyle(n,i)})},clearTransStyle:function(t,e){t.css({position:"",left:""}).removeClass(e),this.endPrev&&this.endCurrent&&(this.$owlWrapper.removeClass("owl-origin"),this.isTransition=this.endCurrent=this.endPrev=!1)},owlStatus:function(){this.owl={userOptions:this.userOptions,baseElement:this.$elem,userItems:this.$userItems,owlItems:this.$owlItems,currentItem:this.currentItem,prevItem:this.prevItem,visibleItems:this.visibleItems,isTouch:this.browser.isTouch,browser:this.browser,dragDirection:this.dragDirection}},clearEvents:function(){this.$elem.off(".owl owl mousedown.disableTextSelect"),t(i).off(".owl owl"),t(e).off("resize",this.resizer)},unWrap:function(){0!==this.$elem.children().length&&(this.$owlWrapper.unwrap(),this.$userItems.unwrap().unwrap(),this.owlControls&&this.owlControls.remove()),this.clearEvents(),this.$elem.attr("style",this.$elem.data("owl-originalStyles")||"").attr("class",this.$elem.data("owl-originalClasses"))},destroy:function(){this.stop(),e.clearInterval(this.checkVisible),this.unWrap(),this.$elem.removeData()},reinit:function(e){e=t.extend({},this.userOptions,e),this.unWrap(),this.init(e,this.$elem)},addItem:function(t,e){var i;return t?0===this.$elem.children().length?(this.$elem.append(t),this.setVars(),!1):(this.unWrap(),i=void 0===e||-1===e?-1:e,i>=this.$userItems.length||-1===i?this.$userItems.eq(-1).after(t):this.$userItems.eq(i).before(t),void this.setVars()):!1},removeItem:function(t){return 0===this.$elem.children().length?!1:(t=void 0===t||-1===t?-1:t,this.unWrap(),this.$userItems.eq(t).remove(),void this.setVars())}};t.fn.owlCarousel=function(e){return this.each(function(){if(!0===t(this).data("owl-init"))return!1;t(this).data("owl-init",!0);var i=Object.create(n);i.init(e,this),t.data(this,"owlCarousel",i)})},t.fn.owlCarousel.options={items:5,itemsCustom:!1,itemsDesktop:[1199,4],itemsDesktopSmall:[979,3],itemsTablet:[768,2],itemsTabletSmall:!1,itemsMobile:[479,1],singleItem:!1,itemsScaleUp:!1,slideSpeed:200,paginationSpeed:800,rewindSpeed:1e3,autoPlay:!1,stopOnHover:!1,navigation:!1,navigationText:["prev","next"],rewindNav:!0,scrollPerPage:!1,pagination:!0,paginationNumbers:!1,responsive:!0,responsiveRefreshRate:200,responsiveBaseWidth:e,baseClass:"owl-carousel",theme:"owl-theme",lazyLoad:!1,lazyFollow:!0,lazyEffect:"fade",autoHeight:!1,jsonPath:!1,jsonSuccess:!1,dragBeforeAnimFinish:!0,mouseDrag:!0,touchDrag:!0,addClassActive:!1,transitionStyle:!1,beforeUpdate:!1,afterUpdate:!1,beforeInit:!1,afterInit:!1,beforeMove:!1,afterMove:!1,afterAction:!1,startDragging:!1,afterLazyLoad:!1}}(jQuery,window,document)},{}],2:[function(t,e,i){e.exports={loadjQueryPlugin:function(){t("./owl.carousel.min.js")}}},{"./owl.carousel.min.js":1}],3:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function s(){var t=new a.HandlebarsEnvironment;return p.extend(t,a),t.SafeString=l["default"],t.Exception=c["default"],t.Utils=p,t.escapeExpression=p.escapeExpression,t.VM=m,t.template=function(e){return m.template(e,t)},t}i.__esModule=!0;var o=t("./handlebars/base"),a=r(o),h=t("./handlebars/safe-string"),l=n(h),u=t("./handlebars/exception"),c=n(u),f=t("./handlebars/utils"),p=r(f),d=t("./handlebars/runtime"),m=r(d),g=t("./handlebars/no-conflict"),v=n(g),y=s();y.create=s,v["default"](y),y["default"]=y,i["default"]=y,e.exports=i["default"]},{"./handlebars/base":4,"./handlebars/exception":7,"./handlebars/no-conflict":17,"./handlebars/runtime":18,"./handlebars/safe-string":19,"./handlebars/utils":20}],4:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t,e,i){this.helpers=t||{},this.partials=e||{},this.decorators=i||{},h.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}i.__esModule=!0,i.HandlebarsEnvironment=r;var s=t("./utils"),o=t("./exception"),a=n(o),h=t("./helpers"),l=t("./decorators"),u=t("./logger"),c=n(u),f="4.0.5";i.VERSION=f;var p=7;i.COMPILER_REVISION=p;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};i.REVISION_CHANGES=d;var m="[object Object]";r.prototype={constructor:r,logger:c["default"],log:c["default"].log,registerHelper:function(t,e){if(s.toString.call(t)===m){if(e)throw new a["default"]("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(s.toString.call(t)===m)s.extend(this.partials,t);else{if("undefined"==typeof e)throw new a["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(s.toString.call(t)===m){if(e)throw new a["default"]("Arg not supported with multiple decorators");s.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var g=c["default"].log;i.log=g,i.createFrame=s.createFrame,i.logger=c["default"]},{"./decorators":5,"./exception":7,"./helpers":8,"./logger":16,"./utils":20}],5:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){o["default"](t)}i.__esModule=!0,i.registerDefaultDecorators=r;var s=t("./decorators/inline"),o=n(s)},{"./decorators/inline":6}],6:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i["default"]=function(t){t.registerDecorator("inline",function(t,e,i,r){var s=t;return e.partials||(e.partials={},s=function(r,s){var o=i.partials;i.partials=n.extend({},o,e.partials);var a=t(r,s);return i.partials=o,a}),e.partials[r.args[0]]=r.fn,s})},e.exports=i["default"]},{"../utils":20}],7:[function(t,e,i){"use strict";function n(t,e){var i=e&&e.loc,s=void 0,o=void 0;i&&(s=i.start.line,o=i.start.column,t+=" - "+s+":"+o);for(var a=Error.prototype.constructor.call(this,t),h=0;h<r.length;h++)this[r[h]]=a[r[h]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=s,this.column=o)}i.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,i["default"]=n,e.exports=i["default"]},{}],8:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){o["default"](t),h["default"](t),u["default"](t),f["default"](t),d["default"](t),g["default"](t),y["default"](t)}i.__esModule=!0,i.registerDefaultHelpers=r;var s=t("./helpers/block-helper-missing"),o=n(s),a=t("./helpers/each"),h=n(a),l=t("./helpers/helper-missing"),u=n(l),c=t("./helpers/if"),f=n(c),p=t("./helpers/log"),d=n(p),m=t("./helpers/lookup"),g=n(m),v=t("./helpers/with"),y=n(v)},{"./helpers/block-helper-missing":9,"./helpers/each":10,"./helpers/helper-missing":11,"./helpers/if":12,"./helpers/log":13,"./helpers/lookup":14,"./helpers/with":15}],9:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,i){var r=i.inverse,s=i.fn;if(e===!0)return s(this);if(e===!1||null==e)return r(this);if(n.isArray(e))return e.length>0?(i.ids&&(i.ids=[i.name]),t.helpers.each(e,i)):r(this);if(i.data&&i.ids){var o=n.createFrame(i.data);o.contextPath=n.appendContextPath(i.data.contextPath,i.name),i={data:o}}return s(e,i)})},e.exports=i["default"]},{"../utils":20}],10:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../utils"),s=t("../exception"),o=n(s);i["default"]=function(t){t.registerHelper("each",function(t,e){function i(e,i,s){l&&(l.key=e,l.index=i,l.first=0===i,l.last=!!s,u&&(l.contextPath=u+e)),h+=n(t[e],{data:l,blockParams:r.blockParams([t[e],e],[u+e,null])})}if(!e)throw new o["default"]("Must pass iterator to #each");var n=e.fn,s=e.inverse,a=0,h="",l=void 0,u=void 0;if(e.data&&e.ids&&(u=r.appendContextPath(e.data.contextPath,e.ids[0])+"."),r.isFunction(t)&&(t=t.call(this)),e.data&&(l=r.createFrame(e.data)),t&&"object"==typeof t)if(r.isArray(t))for(var c=t.length;c>a;a++)a in t&&i(a,a,a===t.length-1);else{var f=void 0;for(var p in t)t.hasOwnProperty(p)&&(void 0!==f&&i(f,a-1),f=p,a++);void 0!==f&&i(f,a-1,!0)}return 0===a&&(h=s(this)),h})},e.exports=i["default"]},{"../exception":7,"../utils":20}],11:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}i.__esModule=!0;var r=t("../exception"),s=n(r);i["default"]=function(t){t.registerHelper("helperMissing",function(){if(1===arguments.length)return void 0;throw new s["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},e.exports=i["default"]},{"../exception":7}],12:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i["default"]=function(t){t.registerHelper("if",function(t,e){return n.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,i){return t.helpers["if"].call(this,e,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},e.exports=i["default"]},{"../utils":20}],13:[function(t,e,i){"use strict";i.__esModule=!0,i["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],i=arguments[arguments.length-1],n=0;n<arguments.length-1;n++)e.push(arguments[n]);var r=1;null!=i.hash.level?r=i.hash.level:i.data&&null!=i.data.level&&(r=i.data.level),e[0]=r,t.log.apply(t,e)})},e.exports=i["default"]},{}],14:[function(t,e,i){"use strict";i.__esModule=!0,i["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},e.exports=i["default"]},{}],15:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("../utils");i["default"]=function(t){t.registerHelper("with",function(t,e){n.isFunction(t)&&(t=t.call(this));var i=e.fn;if(n.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&(r=n.createFrame(e.data),r.contextPath=n.appendContextPath(e.data.contextPath,e.ids[0])),
i(t,{data:r,blockParams:n.blockParams([t],[r&&r.contextPath])})})},e.exports=i["default"]},{"../utils":20}],16:[function(t,e,i){"use strict";i.__esModule=!0;var n=t("./utils"),r={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=n.indexOf(r.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=r.lookupLevel(t),"undefined"!=typeof console&&r.lookupLevel(r.level)<=t){var e=r.methodMap[t];console[e]||(e="log");for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;i>s;s++)n[s-1]=arguments[s];console[e].apply(console,n)}}};i["default"]=r,e.exports=i["default"]},{"./utils":20}],17:[function(t,e,i){(function(t){"use strict";i.__esModule=!0,i["default"]=function(e){var i="undefined"!=typeof t?t:window,n=i.Handlebars;e.noConflict=function(){return i.Handlebars===e&&(i.Handlebars=n),e}},e.exports=i["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e}function s(t){var e=t&&t[0]||1,i=v.COMPILER_REVISION;if(e!==i){if(i>e){var n=v.REVISION_CHANGES[i],r=v.REVISION_CHANGES[e];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function o(t,e){function i(i,n,r){r.hash&&(n=d.extend({},n,r.hash),r.ids&&(r.ids[0]=!0)),i=e.VM.resolvePartial.call(this,i,n,r);var s=e.VM.invokePartial.call(this,i,n,r);if(null==s&&e.compile&&(r.partials[r.name]=e.compile(i,t.compilerOptions,e),s=r.partials[r.name](n,r)),null!=s){if(r.indent){for(var o=s.split("\n"),a=0,h=o.length;h>a&&(o[a]||a+1!==h);a++)o[a]=r.indent+o[a];s=o.join("\n")}return s}throw new g["default"]("The partial "+r.name+" could not be compiled when running in runtime-only mode")}function n(e){function i(e){return""+t.main(r,e,r.helpers,r.partials,o,h,a)}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=s.data;n._setup(s),!s.partial&&t.useData&&(o=c(e,o));var a=void 0,h=t.useBlockParams?[]:void 0;return t.useDepths&&(a=s.depths?e!==s.depths[0]?[e].concat(s.depths):s.depths:[e]),(i=f(t.main,i,r,s.depths||[],o,h))(e,s)}if(!e)throw new g["default"]("No environment passed to template");if(!t||!t.main)throw new g["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var r={strict:function(t,e){if(!(e in t))throw new g["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var i=t.length,n=0;i>n;n++)if(t[n]&&null!=t[n][e])return t[n][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:d.escapeExpression,invokePartial:i,fn:function(e){var i=t[e];return i.decorator=t[e+"_d"],i},programs:[],program:function(t,e,i,n,r){var s=this.programs[t],o=this.fn(t);return e||r||n||i?s=a(this,t,o,e,i,n,r):s||(s=this.programs[t]=a(this,t,o)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i=d.extend({},e,t)),i},noop:e.VM.noop,compilerInfo:t.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(r.helpers=i.helpers,r.partials=i.partials,r.decorators=i.decorators):(r.helpers=r.merge(i.helpers,e.helpers),t.usePartial&&(r.partials=r.merge(i.partials,e.partials)),(t.usePartial||t.useDecorators)&&(r.decorators=r.merge(i.decorators,e.decorators)))},n._child=function(e,i,n,s){if(t.useBlockParams&&!n)throw new g["default"]("must pass block params");if(t.useDepths&&!s)throw new g["default"]("must pass parent depths");return a(r,e,t[e],i,0,n,s)},n}function a(t,e,i,n,r,s,o){function a(e){var r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=o;return o&&e!==o[0]&&(a=[e].concat(o)),i(t,e,t.helpers,t.partials,r.data||n,s&&[r.blockParams].concat(s),a)}return a=f(i,a,t,o,n,s),a.program=e,a.depth=o?o.length:0,a.blockParams=r||0,a}function h(t,e,i){return t?t.call||i.name||(i.name=t,t=i.partials[t]):t="@partial-block"===i.name?i.data["partial-block"]:i.partials[i.name],t}function l(t,e,i){i.partial=!0,i.ids&&(i.data.contextPath=i.ids[0]||i.data.contextPath);var n=void 0;if(i.fn&&i.fn!==u&&(i.data=v.createFrame(i.data),n=i.data["partial-block"]=i.fn,n.partials&&(i.partials=d.extend({},i.partials,n.partials))),void 0===t&&n&&(t=n),void 0===t)throw new g["default"]("The partial "+i.name+" could not be found");return t instanceof Function?t(e,i):void 0}function u(){return""}function c(t,e){return e&&"root"in e||(e=e?v.createFrame(e):{},e.root=t),e}function f(t,e,i,n,r,s){if(t.decorator){var o={};e=t.decorator(e,o,i,n&&n[0],r,s,n),d.extend(e,o)}return e}i.__esModule=!0,i.checkRevision=s,i.template=o,i.wrapProgram=a,i.resolvePartial=h,i.invokePartial=l,i.noop=u;var p=t("./utils"),d=r(p),m=t("./exception"),g=n(m),v=t("./base")},{"./base":4,"./exception":7,"./utils":20}],19:[function(t,e,i){"use strict";function n(t){this.string=t}i.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},i["default"]=n,e.exports=i["default"]},{}],20:[function(t,e,i){"use strict";function n(t){return c[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var i in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],i)&&(t[i]=arguments[e][i]);return t}function s(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1}function o(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return p.test(t)?t.replace(f,n):t}function a(t){return t||0===t?g(t)&&0===t.length?!0:!1:!0}function h(t){var e=r({},t);return e._parent=t,e}function l(t,e){return t.path=e,t}function u(t,e){return(t?t+".":"")+e}i.__esModule=!0,i.extend=r,i.indexOf=s,i.escapeExpression=o,i.isEmpty=a,i.createFrame=h,i.blockParams=l,i.appendContextPath=u;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},f=/[&<>"'`=]/g,p=/[&<>"'`=]/,d=Object.prototype.toString;i.toString=d;var m=function(t){return"function"==typeof t};m(/x/)&&(i.isFunction=m=function(t){return"function"==typeof t&&"[object Function]"===d.call(t)}),i.isFunction=m;var g=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===d.call(t):!1};i.isArray=g},{}],21:[function(t,e,i){e.exports=t("./dist/cjs/handlebars.runtime")["default"]},{"./dist/cjs/handlebars.runtime":3}],22:[function(t,e,i){e.exports=t("handlebars/runtime")["default"]},{"handlebars/runtime":21}],23:[function(t,e,i){!function(t,i){"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?i(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return i(t)}:i(t)}("undefined"!=typeof window?window:this,function(t,e){function i(t){var e=t.length,i=Q.type(t);return"function"===i||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t}function n(t,e,i){if(Q.isFunction(e))return Q.grep(t,function(t,n){return!!e.call(t,n,t)!==i});if(e.nodeType)return Q.grep(t,function(t){return t===e!==i});if("string"==typeof e){if(at.test(e))return Q.filter(e,t,i);e=Q.filter(e,t)}return Q.grep(t,function(t){return V.call(e,t)>=0!==i})}function r(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function s(t){var e=dt[t]={};return Q.each(t.match(pt)||[],function(t,i){e[i]=!0}),e}function o(){J.removeEventListener("DOMContentLoaded",o,!1),t.removeEventListener("load",o,!1),Q.ready()}function a(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+a.uid++}function h(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(wt,"-$1").toLowerCase(),i=t.getAttribute(n),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:bt.test(i)?Q.parseJSON(i):i}catch(r){}yt.set(t,e,i)}else i=void 0;return i}function l(){return!0}function u(){return!1}function c(){try{return J.activeElement}catch(t){}}function f(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function p(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function d(t){var e=Dt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function m(t,e){for(var i=0,n=t.length;n>i;i++)vt.set(t[i],"globalEval",!e||vt.get(e[i],"globalEval"))}function g(t,e){var i,n,r,s,o,a,h,l;if(1===e.nodeType){if(vt.hasData(t)&&(s=vt.access(t),o=vt.set(e,s),l=s.events)){delete o.handle,o.events={};for(r in l)for(i=0,n=l[r].length;n>i;i++)Q.event.add(e,r,l[r][i])}yt.hasData(t)&&(a=yt.access(t),h=Q.extend({},a),yt.set(e,h))}}function v(t,e){var i=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],i):i}function y(t,e){var i=e.nodeName.toLowerCase();"input"===i&&kt.test(t.type)?e.checked=t.checked:("input"===i||"textarea"===i)&&(e.defaultValue=t.defaultValue)}function b(e,i){var n,r=Q(i.createElement(e)).appendTo(i.body),s=t.getDefaultComputedStyle&&(n=t.getDefaultComputedStyle(r[0]))?n.display:Q.css(r[0],"display");return r.detach(),s}function w(t){var e=J,i=zt[t];return i||(i=b(t,e),"none"!==i&&i||(Ft=(Ft||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ft[0].contentDocument,e.write(),e.close(),i=b(t,e),Ft.detach()),zt[t]=i),i}function x(t,e,i){var n,r,s,o,a=t.style;return i=i||Bt(t),i&&(o=i.getPropertyValue(e)||i[e]),i&&(""!==o||Q.contains(t.ownerDocument,t)||(o=Q.style(t,e)),Gt.test(o)&&Wt.test(e)&&(n=a.width,r=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=r,a.maxWidth=s)),void 0!==o?o+"":o}function M(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function S(t,e){if(e in t)return e;for(var i=e[0].toUpperCase()+e.slice(1),n=e,r=Yt.length;r--;)if(e=Yt[r]+i,e in t)return e;return n}function k(t,e,i){var n=Ht.exec(e);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):e}function C(t,e,i,n,r){for(var s=i===(n?"border":"content")?4:"width"===e?1:0,o=0;4>s;s+=2)"margin"===i&&(o+=Q.css(t,i+Mt[s],!0,r)),n?("content"===i&&(o-=Q.css(t,"padding"+Mt[s],!0,r)),"margin"!==i&&(o-=Q.css(t,"border"+Mt[s]+"Width",!0,r))):(o+=Q.css(t,"padding"+Mt[s],!0,r),"padding"!==i&&(o+=Q.css(t,"border"+Mt[s]+"Width",!0,r)));return o}function P(t,e,i){var n=!0,r="width"===e?t.offsetWidth:t.offsetHeight,s=Bt(t),o="border-box"===Q.css(t,"boxSizing",!1,s);if(0>=r||null==r){if(r=x(t,e,s),(0>r||null==r)&&(r=t.style[e]),Gt.test(r))return r;n=o&&(K.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+C(t,e,i||(o?"border":"content"),n,s)+"px"}function T(t,e){for(var i,n,r,s=[],o=0,a=t.length;a>o;o++)n=t[o],n.style&&(s[o]=vt.get(n,"olddisplay"),i=n.style.display,e?(s[o]||"none"!==i||(n.style.display=""),""===n.style.display&&St(n)&&(s[o]=vt.access(n,"olddisplay",w(n.nodeName)))):(r=St(n),"none"===i&&r||vt.set(n,"olddisplay",r?i:Q.css(n,"display"))));for(o=0;a>o;o++)n=t[o],n.style&&(e&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=e?s[o]||"":"none"));return t}function _(t,e,i,n,r){return new _.prototype.init(t,e,i,n,r)}function j(){return setTimeout(function(){Kt=void 0}),Kt=Q.now()}function A(t,e){var i,n=0,r={height:t};for(e=e?1:0;4>n;n+=2-e)i=Mt[n],r["margin"+i]=r["padding"+i]=t;return e&&(r.opacity=r.width=t),r}function I(t,e,i){for(var n,r=(ie[e]||[]).concat(ie["*"]),s=0,o=r.length;o>s;s++)if(n=r[s].call(i,e,t))return n}function E(t,e,i){var n,r,s,o,a,h,l,u,c=this,f={},p=t.style,d=t.nodeType&&St(t),m=vt.get(t,"fxshow");i.queue||(a=Q._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,h=a.empty.fire,a.empty.fire=function(){a.unqueued||h()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,Q.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[p.overflow,p.overflowX,p.overflowY],l=Q.css(t,"display"),u="none"===l?vt.get(t,"olddisplay")||w(t.nodeName):l,"inline"===u&&"none"===Q.css(t,"float")&&(p.display="inline-block")),i.overflow&&(p.overflow="hidden",c.always(function(){p.overflow=i.overflow[0],p.overflowX=i.overflow[1],p.overflowY=i.overflow[2]}));for(n in e)if(r=e[n],Zt.exec(r)){if(delete e[n],s=s||"toggle"===r,r===(d?"hide":"show")){if("show"!==r||!m||void 0===m[n])continue;d=!0}f[n]=m&&m[n]||Q.style(t,n)}else l=void 0;if(Q.isEmptyObject(f))"inline"===("none"===l?w(t.nodeName):l)&&(p.display=l);else{m?"hidden"in m&&(d=m.hidden):m=vt.access(t,"fxshow",{}),s&&(m.hidden=!d),d?Q(t).show():c.done(function(){Q(t).hide()}),c.done(function(){var e;vt.remove(t,"fxshow");for(e in f)Q.style(t,e,f[e])});for(n in f)o=I(d?m[n]:0,n,c),n in m||(m[n]=o.start,d&&(o.end=o.start,o.start="width"===n||"height"===n?1:0))}}function N(t,e){var i,n,r,s,o;for(i in t)if(n=Q.camelCase(i),r=e[n],s=t[i],Q.isArray(s)&&(r=s[1],s=t[i]=s[0]),i!==n&&(t[n]=s,delete t[i]),o=Q.cssHooks[n],o&&"expand"in o){s=o.expand(s),delete t[n];for(i in s)i in t||(t[i]=s[i],e[i]=r)}else e[n]=r}function L(t,e,i){var n,r,s=0,o=ee.length,a=Q.Deferred().always(function(){delete h.elem}),h=function(){if(r)return!1;for(var e=Kt||j(),i=Math.max(0,l.startTime+l.duration-e),n=i/l.duration||0,s=1-n,o=0,h=l.tweens.length;h>o;o++)l.tweens[o].run(s);return a.notifyWith(t,[l,s,i]),1>s&&h?i:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},i),originalProperties:e,originalOptions:i,startTime:Kt||j(),duration:i.duration,tweens:[],createTween:function(e,i){var n=Q.Tween(t,l.opts,e,i,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var i=0,n=e?l.tweens.length:0;if(r)return this;for(r=!0;n>i;i++)l.tweens[i].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),u=l.props;for(N(u,l.opts.specialEasing);o>s;s++)if(n=ee[s].call(l,t,u,l.opts))return n;return Q.map(u,I,l),Q.isFunction(l.opts.start)&&l.opts.start.call(t,l),Q.fx.timer(Q.extend(h,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function O(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,r=0,s=e.toLowerCase().match(pt)||[];if(Q.isFunction(i))for(;n=s[r++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function D(t,e,i,n){function r(a){var h;return s[a]=!0,Q.each(t[a]||[],function(t,a){var l=a(e,i,n);return"string"!=typeof l||o||s[l]?o?!(h=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),h}var s={},o=t===be;return r(e.dataTypes[0])||!s["*"]&&r("*")}function R(t,e){var i,n,r=Q.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&Q.extend(!0,t,n),t}function q(t,e,i){for(var n,r,s,o,a=t.contents,h=t.dataTypes;"*"===h[0];)h.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(r in a)if(a[r]&&a[r].test(n)){h.unshift(r);break}if(h[0]in i)s=h[0];else{for(r in i){if(!h[0]||t.converters[r+" "+h[0]]){s=r;break}o||(o=r)}s=s||o}return s?(s!==h[0]&&h.unshift(s),i[s]):void 0}function F(t,e,i,n){var r,s,o,a,h,l={},u=t.dataTypes.slice();if(u[1])for(o in t.converters)l[o.toLowerCase()]=t.converters[o];for(s=u.shift();s;)if(t.responseFields[s]&&(i[t.responseFields[s]]=e),!h&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),h=s,s=u.shift())if("*"===s)s=h;else if("*"!==h&&h!==s){if(o=l[h+" "+s]||l["* "+s],!o)for(r in l)if(a=r.split(" "),a[1]===s&&(o=l[h+" "+a[0]]||l["* "+a[0]])){o===!0?o=l[r]:l[r]!==!0&&(s=a[0],u.unshift(a[1]));break}if(o!==!0)if(o&&t["throws"])e=o(e);else try{e=o(e)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+h+" to "+s}}}return{state:"success",data:e}}function z(t,e,i,n){var r;if(Q.isArray(e))Q.each(e,function(e,r){i||ke.test(t)?n(t,r):z(t+"["+("object"==typeof r?e:"")+"]",r,i,n)});else if(i||"object"!==Q.type(e))n(t,e);else for(r in e)z(t+"["+r+"]",e[r],i,n)}function W(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var G=[],B=G.slice,$=G.concat,H=G.push,V=G.indexOf,X={},U=X.toString,Y=X.hasOwnProperty,K={},J=t.document,Z="2.1.3",Q=function(t,e){return new Q.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,it=/-([\da-z])/gi,nt=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return B.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:B.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(B.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(0>t?e:0);return this.pushStack(i>=0&&e>i?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:H,sort:G.sort,splice:G.splice},Q.extend=Q.fn.extend=function(){var t,e,i,n,r,s,o=arguments[0]||{},a=1,h=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||Q.isFunction(o)||(o={}),a===h&&(o=this,a--);h>a;a++)if(null!=(t=arguments[a]))for(e in t)i=o[e],n=t[e],o!==n&&(l&&n&&(Q.isPlainObject(n)||(r=Q.isArray(n)))?(r?(r=!1,s=i&&Q.isArray(i)?i:[]):s=i&&Q.isPlainObject(i)?i:{},o[e]=Q.extend(l,s,n)):void 0!==n&&(o[e]=n));return o},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!Y.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?X[U.call(t)]||"object":typeof t},globalEval:function(t){var e,i=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=J.createElement("script"),e.text=t,J.head.appendChild(e).parentNode.removeChild(e)):i(t))},camelCase:function(t){return t.replace(et,"ms-").replace(it,nt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,n){var r,s=0,o=t.length,a=i(t);if(n){if(a)for(;o>s&&(r=e.apply(t[s],n),r!==!1);s++);else for(s in t)if(r=e.apply(t[s],n),r===!1)break}else if(a)for(;o>s&&(r=e.call(t[s],s,t[s]),r!==!1);s++);else for(s in t)if(r=e.call(t[s],s,t[s]),r===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(i(Object(t))?Q.merge(n,"string"==typeof t?[t]:t):H.call(n,t)),n},inArray:function(t,e,i){return null==e?-1:V.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,r=t.length;i>n;n++)t[r++]=e[n];return t.length=r,t},grep:function(t,e,i){for(var n,r=[],s=0,o=t.length,a=!i;o>s;s++)n=!e(t[s],s),n!==a&&r.push(t[s]);return r},map:function(t,e,n){var r,s=0,o=t.length,a=i(t),h=[];if(a)for(;o>s;s++)r=e(t[s],s,n),null!=r&&h.push(r);else for(s in t)r=e(t[s],s,n),null!=r&&h.push(r);return $.apply([],h)},guid:1,proxy:function(t,e){var i,n,r;return"string"==typeof e&&(i=t[e],e=t,t=i),Q.isFunction(t)?(n=B.call(arguments,2),r=function(){return t.apply(e||this,n.concat(B.call(arguments)))},r.guid=t.guid=t.guid||Q.guid++,r):void 0},now:Date.now,support:K}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){X["[object "+e+"]"]=e.toLowerCase()});var rt=function(t){function e(t,e,i,n){var r,s,o,a,h,l,c,p,d,m;if((e?e.ownerDocument||e:z)!==E&&I(e),e=e||E,i=i||[],a=e.nodeType,"string"!=typeof t||!t||1!==a&&9!==a&&11!==a)return i;if(!n&&L){if(11!==a&&(r=yt.exec(t)))if(o=r[1]){if(9===a){if(s=e.getElementById(o),!s||!s.parentNode)return i;if(s.id===o)return i.push(s),i}else if(e.ownerDocument&&(s=e.ownerDocument.getElementById(o))&&q(e,s)&&s.id===o)return i.push(s),i}else{if(r[2])return Z.apply(i,e.getElementsByTagName(t)),i;if((o=r[3])&&x.getElementsByClassName)return Z.apply(i,e.getElementsByClassName(o)),i}if(x.qsa&&(!O||!O.test(t))){if(p=c=F,d=e,m=1!==a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=C(t),(c=e.getAttribute("id"))?p=c.replace(wt,"\\$&"):e.setAttribute("id",p),p="[id='"+p+"'] ",h=l.length;h--;)l[h]=p+f(l[h]);d=bt.test(t)&&u(e.parentNode)||e,m=l.join(",")}if(m)try{return Z.apply(i,d.querySelectorAll(m)),i}catch(g){}finally{c||e.removeAttribute("id")}}}return T(t.replace(ht,"$1"),e,i,n)}function i(){function t(i,n){return e.push(i+" ")>M.cacheLength&&delete t[e.shift()],t[i+" "]=n}var e=[];return t}function n(t){return t[F]=!0,t}function r(t){var e=E.createElement("div");try{return!!t(e)}catch(i){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function s(t,e){for(var i=t.split("|"),n=t.length;n--;)M.attrHandle[i[n]]=e}function o(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||X)-(~t.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function a(t){return function(e){var i=e.nodeName.toLowerCase();return"input"===i&&e.type===t}}function h(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function l(t){return n(function(e){return e=+e,n(function(i,n){for(var r,s=t([],i.length,e),o=s.length;o--;)i[r=s[o]]&&(i[r]=!(n[r]=i[r]))})})}function u(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function c(){}function f(t){for(var e=0,i=t.length,n="";i>e;e++)n+=t[e].value;return n}function p(t,e,i){var n=e.dir,r=i&&"parentNode"===n,s=G++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||r)return t(e,i,s)}:function(e,i,o){var a,h,l=[W,s];if(o){for(;e=e[n];)if((1===e.nodeType||r)&&t(e,i,o))return!0}else for(;e=e[n];)if(1===e.nodeType||r){if(h=e[F]||(e[F]={}),(a=h[n])&&a[0]===W&&a[1]===s)return l[2]=a[2];if(h[n]=l,l[2]=t(e,i,o))return!0}}}function d(t){return t.length>1?function(e,i,n){for(var r=t.length;r--;)if(!t[r](e,i,n))return!1;return!0}:t[0]}function m(t,i,n){for(var r=0,s=i.length;s>r;r++)e(t,i[r],n);return n}function g(t,e,i,n,r){for(var s,o=[],a=0,h=t.length,l=null!=e;h>a;a++)(s=t[a])&&(!i||i(s,n,r))&&(o.push(s),l&&e.push(a));return o}function v(t,e,i,r,s,o){return r&&!r[F]&&(r=v(r)),s&&!s[F]&&(s=v(s,o)),n(function(n,o,a,h){var l,u,c,f=[],p=[],d=o.length,v=n||m(e||"*",a.nodeType?[a]:a,[]),y=!t||!n&&e?v:g(v,f,t,a,h),b=i?s||(n?t:d||r)?[]:o:y;if(i&&i(y,b,a,h),r)for(l=g(b,p),r(l,[],a,h),u=l.length;u--;)(c=l[u])&&(b[p[u]]=!(y[p[u]]=c));if(n){if(s||t){if(s){for(l=[],u=b.length;u--;)(c=b[u])&&l.push(y[u]=c);s(null,b=[],l,h)}for(u=b.length;u--;)(c=b[u])&&(l=s?tt(n,c):f[u])>-1&&(n[l]=!(o[l]=c))}}else b=g(b===o?b.splice(d,b.length):b),s?s(null,o,b,h):Z.apply(o,b)})}function y(t){for(var e,i,n,r=t.length,s=M.relative[t[0].type],o=s||M.relative[" "],a=s?1:0,h=p(function(t){return t===e},o,!0),l=p(function(t){return tt(e,t)>-1},o,!0),u=[function(t,i,n){var r=!s&&(n||i!==_)||((e=i).nodeType?h(t,i,n):l(t,i,n));return e=null,r}];r>a;a++)if(i=M.relative[t[a].type])u=[p(d(u),i)];else{if(i=M.filter[t[a].type].apply(null,t[a].matches),i[F]){for(n=++a;r>n&&!M.relative[t[n].type];n++);return v(a>1&&d(u),a>1&&f(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ht,"$1"),i,n>a&&y(t.slice(a,n)),r>n&&y(t=t.slice(n)),r>n&&f(t))}u.push(i)}return d(u)}function b(t,i){var r=i.length>0,s=t.length>0,o=function(n,o,a,h,l){var u,c,f,p=0,d="0",m=n&&[],v=[],y=_,b=n||s&&M.find.TAG("*",l),w=W+=null==y?1:Math.random()||.1,x=b.length;for(l&&(_=o!==E&&o);d!==x&&null!=(u=b[d]);d++){if(s&&u){for(c=0;f=t[c++];)if(f(u,o,a)){h.push(u);break}l&&(W=w)}r&&((u=!f&&u)&&p--,n&&m.push(u))}if(p+=d,r&&d!==p){for(c=0;f=i[c++];)f(m,v,o,a);if(n){if(p>0)for(;d--;)m[d]||v[d]||(v[d]=K.call(h));v=g(v)}Z.apply(h,v),l&&!n&&v.length>0&&p+i.length>1&&e.uniqueSort(h)}return l&&(W=w,_=y),m};return r?n(o):o}var w,x,M,S,k,C,P,T,_,j,A,I,E,N,L,O,D,R,q,F="sizzle"+1*new Date,z=t.document,W=0,G=0,B=i(),$=i(),H=i(),V=function(t,e){return t===e&&(A=!0),0},X=1<<31,U={}.hasOwnProperty,Y=[],K=Y.pop,J=Y.push,Z=Y.push,Q=Y.slice,tt=function(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",it="[\\x20\\t\\r\\n\\f]",nt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",rt=nt.replace("w","w#"),st="\\["+it+"*("+nt+")(?:"+it+"*([*^$|!~]?=)"+it+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+rt+"))|)"+it+"*\\]",ot=":("+nt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+st+")*)|.*)\\)|)",at=new RegExp(it+"+","g"),ht=new RegExp("^"+it+"+|((?:^|[^\\\\])(?:\\\\.)*)"+it+"+$","g"),lt=new RegExp("^"+it+"*,"+it+"*"),ut=new RegExp("^"+it+"*([>+~]|"+it+")"+it+"*"),ct=new RegExp("="+it+"*([^\\]'\"]*?)"+it+"*\\]","g"),ft=new RegExp(ot),pt=new RegExp("^"+rt+"$"),dt={ID:new RegExp("^#("+nt+")"),CLASS:new RegExp("^\\.("+nt+")"),TAG:new RegExp("^("+nt.replace("w","w*")+")"),ATTR:new RegExp("^"+st),PSEUDO:new RegExp("^"+ot),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+it+"*(even|odd|(([+-]|)(\\d*)n|)"+it+"*(?:([+-]|)"+it+"*(\\d+)|))"+it+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+it+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+it+"*((?:-\\d)?\\d*)"+it+"*\\)|)(?=[^-]|$)","i")},mt=/^(?:input|select|textarea|button)$/i,gt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,bt=/[+~]/,wt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+it+"?|("+it+")|.)","ig"),Mt=function(t,e,i){var n="0x"+e-65536;return n!==n||i?e:0>n?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},St=function(){I()};try{Z.apply(Y=Q.call(z.childNodes),z.childNodes),Y[z.childNodes.length].nodeType}catch(kt){Z={apply:Y.length?function(t,e){J.apply(t,Q.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}x=e.support={},k=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},I=e.setDocument=function(t){var e,i,n=t?t.ownerDocument||t:z;return n!==E&&9===n.nodeType&&n.documentElement?(E=n,N=n.documentElement,i=n.defaultView,i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",St,!1):i.attachEvent&&i.attachEvent("onunload",St)),L=!k(n),x.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(n.getElementsByClassName),x.getById=r(function(t){return N.appendChild(t).id=F,!n.getElementsByName||!n.getElementsByName(F).length}),x.getById?(M.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&L){var i=e.getElementById(t);return i&&i.parentNode?[i]:[]}},M.filter.ID=function(t){var e=t.replace(xt,Mt);return function(t){return t.getAttribute("id")===e}}):(delete M.find.ID,M.filter.ID=function(t){var e=t.replace(xt,Mt);return function(t){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}}),M.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],r=0,s=e.getElementsByTagName(t);if("*"===t){for(;i=s[r++];)1===i.nodeType&&n.push(i);return n}return s},M.find.CLASS=x.getElementsByClassName&&function(t,e){return L?e.getElementsByClassName(t):void 0},D=[],O=[],(x.qsa=vt.test(n.querySelectorAll))&&(r(function(t){N.appendChild(t).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&O.push("[*^$]="+it+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||O.push("\\["+it+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+F+"-]").length||O.push("~="),t.querySelectorAll(":checked").length||O.push(":checked"),t.querySelectorAll("a#"+F+"+*").length||O.push(".#.+[+~]")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&O.push("name"+it+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||O.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),O.push(",.*:")})),(x.matchesSelector=vt.test(R=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(t){x.disconnectedMatch=R.call(t,"div"),R.call(t,"[s!='']:x"),D.push("!=",ot)}),O=O.length&&new RegExp(O.join("|")),D=D.length&&new RegExp(D.join("|")),e=vt.test(N.compareDocumentPosition),q=e||vt.test(N.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},V=e?function(t,e){if(t===e)return A=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!x.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===z&&q(z,t)?-1:e===n||e.ownerDocument===z&&q(z,e)?1:j?tt(j,t)-tt(j,e):0:4&i?-1:1)}:function(t,e){if(t===e)return A=!0,0;var i,r=0,s=t.parentNode,a=e.parentNode,h=[t],l=[e];if(!s||!a)return t===n?-1:e===n?1:s?-1:a?1:j?tt(j,t)-tt(j,e):0;if(s===a)return o(t,e);for(i=t;i=i.parentNode;)h.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;h[r]===l[r];)r++;return r?o(h[r],l[r]):h[r]===z?-1:l[r]===z?1:0},n):E},e.matches=function(t,i){return e(t,null,null,i)},e.matchesSelector=function(t,i){if((t.ownerDocument||t)!==E&&I(t),i=i.replace(ct,"='$1']"),x.matchesSelector&&L&&(!D||!D.test(i))&&(!O||!O.test(i)))try{var n=R.call(t,i);if(n||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(r){}return e(i,E,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==E&&I(t),q(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==E&&I(t);var i=M.attrHandle[e.toLowerCase()],n=i&&U.call(M.attrHandle,e.toLowerCase())?i(t,e,!L):void 0;return void 0!==n?n:x.attributes||!L?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,i=[],n=0,r=0;if(A=!x.detectDuplicates,j=!x.sortStable&&t.slice(0),t.sort(V),A){for(;e=t[r++];)e===t[r]&&(n=i.push(r));for(;n--;)t.splice(i[n],1)}return j=null,t},S=e.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=S(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=S(e);return i},M=e.selectors={cacheLength:50,createPseudo:n,match:dt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,Mt),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,Mt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return dt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&ft.test(i)&&(e=C(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),
t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,Mt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=B[t+" "];return e||(e=new RegExp("(^|"+it+")"+t+"("+it+"|$)"))&&B(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,i,n){return function(r){var s=e.attr(r,t);return null==s?"!="===i:i?(s+="","="===i?s===n:"!="===i?s!==n:"^="===i?n&&0===s.indexOf(n):"*="===i?n&&s.indexOf(n)>-1:"$="===i?n&&s.slice(-n.length)===n:"~="===i?(" "+s.replace(at," ")+" ").indexOf(n)>-1:"|="===i?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(t,e,i,n,r){var s="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===r?function(t){return!!t.parentNode}:function(e,i,h){var l,u,c,f,p,d,m=s!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!h&&!a;if(g){if(s){for(;m;){for(c=e;c=c[m];)if(a?c.nodeName.toLowerCase()===v:1===c.nodeType)return!1;d=m="only"===t&&!d&&"nextSibling"}return!0}if(d=[o?g.firstChild:g.lastChild],o&&y){for(u=g[F]||(g[F]={}),l=u[t]||[],p=l[0]===W&&l[1],f=l[0]===W&&l[2],c=p&&g.childNodes[p];c=++p&&c&&c[m]||(f=p=0)||d.pop();)if(1===c.nodeType&&++f&&c===e){u[t]=[W,p,f];break}}else if(y&&(l=(e[F]||(e[F]={}))[t])&&l[0]===W)f=l[1];else for(;(c=++p&&c&&c[m]||(f=p=0)||d.pop())&&((a?c.nodeName.toLowerCase()!==v:1!==c.nodeType)||!++f||(y&&((c[F]||(c[F]={}))[t]=[W,f]),c!==e)););return f-=r,f===n||f%n===0&&f/n>=0}}},PSEUDO:function(t,i){var r,s=M.pseudos[t]||M.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return s[F]?s(i):s.length>1?(r=[t,t,"",i],M.setFilters.hasOwnProperty(t.toLowerCase())?n(function(t,e){for(var n,r=s(t,i),o=r.length;o--;)n=tt(t,r[o]),t[n]=!(e[n]=r[o])}):function(t){return s(t,0,r)}):s}},pseudos:{not:n(function(t){var e=[],i=[],r=P(t.replace(ht,"$1"));return r[F]?n(function(t,e,i,n){for(var s,o=r(t,null,n,[]),a=t.length;a--;)(s=o[a])&&(t[a]=!(e[a]=s))}):function(t,n,s){return e[0]=t,r(e,null,s,i),e[0]=null,!i.pop()}}),has:n(function(t){return function(i){return e(t,i).length>0}}),contains:n(function(t){return t=t.replace(xt,Mt),function(e){return(e.textContent||e.innerText||S(e)).indexOf(t)>-1}}),lang:n(function(t){return pt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,Mt).toLowerCase(),function(e){var i;do if(i=L?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return i=i.toLowerCase(),i===t||0===i.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===N},focus:function(t){return t===E.activeElement&&(!E.hasFocus||E.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!M.pseudos.empty(t)},header:function(t){return gt.test(t.nodeName)},input:function(t){return mt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,i){return[0>i?i+e:i]}),even:l(function(t,e){for(var i=0;e>i;i+=2)t.push(i);return t}),odd:l(function(t,e){for(var i=1;e>i;i+=2)t.push(i);return t}),lt:l(function(t,e,i){for(var n=0>i?i+e:i;--n>=0;)t.push(n);return t}),gt:l(function(t,e,i){for(var n=0>i?i+e:i;++n<e;)t.push(n);return t})}},M.pseudos.nth=M.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})M.pseudos[w]=a(w);for(w in{submit:!0,reset:!0})M.pseudos[w]=h(w);return c.prototype=M.filters=M.pseudos,M.setFilters=new c,C=e.tokenize=function(t,i){var n,r,s,o,a,h,l,u=$[t+" "];if(u)return i?0:u.slice(0);for(a=t,h=[],l=M.preFilter;a;){(!n||(r=lt.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),h.push(s=[])),n=!1,(r=ut.exec(a))&&(n=r.shift(),s.push({value:n,type:r[0].replace(ht," ")}),a=a.slice(n.length));for(o in M.filter)!(r=dt[o].exec(a))||l[o]&&!(r=l[o](r))||(n=r.shift(),s.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return i?a.length:a?e.error(t):$(t,h).slice(0)},P=e.compile=function(t,e){var i,n=[],r=[],s=H[t+" "];if(!s){for(e||(e=C(t)),i=e.length;i--;)s=y(e[i]),s[F]?n.push(s):r.push(s);s=H(t,b(r,n)),s.selector=t}return s},T=e.select=function(t,e,i,n){var r,s,o,a,h,l="function"==typeof t&&t,c=!n&&C(t=l.selector||t);if(i=i||[],1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(o=s[0]).type&&x.getById&&9===e.nodeType&&L&&M.relative[s[1].type]){if(e=(M.find.ID(o.matches[0].replace(xt,Mt),e)||[])[0],!e)return i;l&&(e=e.parentNode),t=t.slice(s.shift().value.length)}for(r=dt.needsContext.test(t)?0:s.length;r--&&(o=s[r],!M.relative[a=o.type]);)if((h=M.find[a])&&(n=h(o.matches[0].replace(xt,Mt),bt.test(s[0].type)&&u(e.parentNode)||e))){if(s.splice(r,1),t=n.length&&f(s),!t)return Z.apply(i,n),i;break}}return(l||P(t,c))(n,e,!L,i,bt.test(t)&&u(e.parentNode)||e),i},x.sortStable=F.split("").sort(V).join("")===F,x.detectDuplicates=!!A,I(),x.sortDetached=r(function(t){return 1&t.compareDocumentPosition(E.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||s("type|href|height|width",function(t,e,i){return i?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||s("value",function(t,e,i){return i||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||s(et,function(t,e,i){var n;return i?void 0:t[e]===!0?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),e}(t);Q.find=rt,Q.expr=rt.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=rt.uniqueSort,Q.text=rt.getText,Q.isXMLDoc=rt.isXML,Q.contains=rt.contains;var st=Q.expr.match.needsContext,ot=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,at=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?Q.find.matchesSelector(n,t)?[n]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,i=this.length,n=[],r=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;i>e;e++)if(Q.contains(r[e],this))return!0}));for(e=0;i>e;e++)Q.find(t,r[e],n);return n=this.pushStack(i>1?Q.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(n(this,t||[],!1))},not:function(t){return this.pushStack(n(this,t||[],!0))},is:function(t){return!!n(this,"string"==typeof t&&st.test(t)?Q(t):t||[],!1).length}});var ht,lt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ut=Q.fn.init=function(t,e){var i,n;if(!t)return this;if("string"==typeof t){if(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:lt.exec(t),!i||!i[1]&&e)return!e||e.jquery?(e||ht).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:J,!0)),ot.test(i[1])&&Q.isPlainObject(e))for(i in e)Q.isFunction(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return n=J.getElementById(i[2]),n&&n.parentNode&&(this.length=1,this[0]=n),this.context=J,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof ht.ready?ht.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ut.prototype=Q.fn,ht=Q(J);var ct=/^(?:parents|prev(?:Until|All))/,ft={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,i){for(var n=[],r=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&Q(t).is(i))break;n.push(t)}return n},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}}),Q.fn.extend({has:function(t){var e=Q(t,this),i=e.length;return this.filter(function(){for(var t=0;i>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var i,n=0,r=this.length,s=[],o=st.test(t)||"string"!=typeof t?Q(t,e||this.context):0;r>n;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&Q.find.matchesSelector(i,t))){s.push(i);break}return this.pushStack(s.length>1?Q.unique(s):s)},index:function(t){return t?"string"==typeof t?V.call(Q(t),this[0]):V.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,i){return Q.dir(t,"parentNode",i)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,i){return Q.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return Q.dir(t,"previousSibling",i)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(i,n){var r=Q.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(r=Q.filter(n,r)),this.length>1&&(ft[t]||Q.unique(r),ct.test(t)&&r.reverse()),this.pushStack(r)}});var pt=/\S+/g,dt={};Q.Callbacks=function(t){t="string"==typeof t?dt[t]||s(t):Q.extend({},t);var e,i,n,r,o,a,h=[],l=!t.once&&[],u=function(s){for(e=t.memory&&s,i=!0,a=r||0,r=0,o=h.length,n=!0;h&&o>a;a++)if(h[a].apply(s[0],s[1])===!1&&t.stopOnFalse){e=!1;break}n=!1,h&&(l?l.length&&u(l.shift()):e?h=[]:c.disable())},c={add:function(){if(h){var i=h.length;!function s(e){Q.each(e,function(e,i){var n=Q.type(i);"function"===n?t.unique&&c.has(i)||h.push(i):i&&i.length&&"string"!==n&&s(i)})}(arguments),n?o=h.length:e&&(r=i,u(e))}return this},remove:function(){return h&&Q.each(arguments,function(t,e){for(var i;(i=Q.inArray(e,h,i))>-1;)h.splice(i,1),n&&(o>=i&&o--,a>=i&&a--)}),this},has:function(t){return t?Q.inArray(t,h)>-1:!(!h||!h.length)},empty:function(){return h=[],o=0,this},disable:function(){return h=l=e=void 0,this},disabled:function(){return!h},lock:function(){return l=void 0,e||c.disable(),this},locked:function(){return!l},fireWith:function(t,e){return!h||i&&!l||(e=e||[],e=[t,e.slice?e.slice():e],n?l.push(e):u(e)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(i){Q.each(e,function(e,s){var o=Q.isFunction(t[e])&&t[e];r[s[1]](function(){var t=o&&o.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[s[0]+"With"](this===n?i.promise():this,o?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,n):n}},r={};return n.pipe=n.then,Q.each(e,function(t,s){var o=s[2],a=s[3];n[s[1]]=o.add,a&&o.add(function(){i=a},e[1^t][2].disable,e[2][2].lock),r[s[0]]=function(){return r[s[0]+"With"](this===r?n:this,arguments),this},r[s[0]+"With"]=o.fireWith}),n.promise(r),t&&t.call(r,r),r},when:function(t){var e,i,n,r=0,s=B.call(arguments),o=s.length,a=1!==o||t&&Q.isFunction(t.promise)?o:0,h=1===a?t:Q.Deferred(),l=function(t,i,n){return function(r){i[t]=this,n[t]=arguments.length>1?B.call(arguments):r,n===e?h.notifyWith(i,n):--a||h.resolveWith(i,n)}};if(o>1)for(e=new Array(o),i=new Array(o),n=new Array(o);o>r;r++)s[r]&&Q.isFunction(s[r].promise)?s[r].promise().done(l(r,n,s)).fail(h.reject).progress(l(r,i,e)):--a;return a||h.resolveWith(n,s),h.promise()}});var mt;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(mt.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(e){return mt||(mt=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",o,!1),t.addEventListener("load",o,!1))),mt.promise(e)},Q.ready.promise();var gt=Q.access=function(t,e,i,n,r,s,o){var a=0,h=t.length,l=null==i;if("object"===Q.type(i)){r=!0;for(a in i)Q.access(t,e,a,i[a],!0,s,o)}else if(void 0!==n&&(r=!0,Q.isFunction(n)||(o=!0),l&&(o?(e.call(t,n),e=null):(l=e,e=function(t,e,i){return l.call(Q(t),i)})),e))for(;h>a;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return r?t:l?e.call(t):h?e(t[0],i):s};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},a.uid=1,a.accepts=Q.acceptData,a.prototype={key:function(t){if(!a.accepts(t))return 0;var e={},i=t[this.expando];if(!i){i=a.uid++;try{e[this.expando]={value:i},Object.defineProperties(t,e)}catch(n){e[this.expando]=i,Q.extend(t,e)}}return this.cache[i]||(this.cache[i]={}),i},set:function(t,e,i){var n,r=this.key(t),s=this.cache[r];if("string"==typeof e)s[e]=i;else if(Q.isEmptyObject(s))Q.extend(this.cache[r],e);else for(n in e)s[n]=e[n];return s},get:function(t,e){var i=this.cache[this.key(t)];return void 0===e?i:i[e]},access:function(t,e,i){var n;return void 0===e||e&&"string"==typeof e&&void 0===i?(n=this.get(t,e),void 0!==n?n:this.get(t,Q.camelCase(e))):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n,r,s=this.key(t),o=this.cache[s];if(void 0===e)this.cache[s]={};else{Q.isArray(e)?n=e.concat(e.map(Q.camelCase)):(r=Q.camelCase(e),e in o?n=[e,r]:(n=r,n=n in o?[n]:n.match(pt)||[])),i=n.length;for(;i--;)delete o[n[i]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new a,yt=new a,bt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,wt=/([A-Z])/g;Q.extend({hasData:function(t){return yt.hasData(t)||vt.hasData(t)},data:function(t,e,i){return yt.access(t,e,i)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,i){return vt.access(t,e,i)},_removeData:function(t,e){vt.remove(t,e)}}),Q.fn.extend({data:function(t,e){var i,n,r,s=this[0],o=s&&s.attributes;if(void 0===t){if(this.length&&(r=yt.get(s),1===s.nodeType&&!vt.get(s,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&(n=o[i].name,0===n.indexOf("data-")&&(n=Q.camelCase(n.slice(5)),h(s,n,r[n])));vt.set(s,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each(function(){yt.set(this,t)}):gt(this,function(e){var i,n=Q.camelCase(t);if(s&&void 0===e){if(i=yt.get(s,t),void 0!==i)return i;if(i=yt.get(s,n),void 0!==i)return i;if(i=h(s,n,void 0),void 0!==i)return i}else this.each(function(){var i=yt.get(this,n);yt.set(this,n,e),-1!==t.indexOf("-")&&void 0!==i&&yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){yt.remove(this,t)})}}),Q.extend({queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=vt.get(t,e),i&&(!n||Q.isArray(i)?n=vt.access(t,e,Q.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=Q.queue(t,e),n=i.length,r=i.shift(),s=Q._queueHooks(t,e),o=function(){Q.dequeue(t,e)};"inprogress"===r&&(r=i.shift(),n--),r&&("fx"===e&&i.unshift("inprogress"),delete s.stop,r.call(t,o,s)),!n&&s&&s.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return vt.get(t,i)||vt.access(t,i,{empty:Q.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",i])})})}}),Q.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?Q.queue(this[0],t):void 0===e?this:this.each(function(){var i=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,r=Q.Deferred(),s=this,o=this.length,a=function(){--n||r.resolveWith(s,[s])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)i=vt.get(s[o],t+"queueHooks"),i&&i.empty&&(n++,i.empty.add(a));return a(),r.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Mt=["Top","Right","Bottom","Left"],St=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},kt=/^(?:checkbox|radio)$/i;!function(){var t=J.createDocumentFragment(),e=t.appendChild(J.createElement("div")),i=J.createElement("input");i.setAttribute("type","radio"),i.setAttribute("checked","checked"),i.setAttribute("name","t"),e.appendChild(i),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Ct="undefined";K.focusinBubbles="onfocusin"in t;var Pt=/^key/,Tt=/^(?:mouse|pointer|contextmenu)|click/,_t=/^(?:focusinfocus|focusoutblur)$/,jt=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,i,n,r){var s,o,a,h,l,u,c,f,p,d,m,g=vt.get(t);if(g)for(i.handler&&(s=i,i=s.handler,r=s.selector),i.guid||(i.guid=Q.guid++),(h=g.events)||(h=g.events={}),(o=g.handle)||(o=g.handle=function(e){return typeof Q!==Ct&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(pt)||[""],l=e.length;l--;)a=jt.exec(e[l])||[],p=m=a[1],d=(a[2]||"").split(".").sort(),p&&(c=Q.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,c=Q.event.special[p]||{},u=Q.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:d.join(".")},s),(f=h[p])||(f=h[p]=[],f.delegateCount=0,c.setup&&c.setup.call(t,n,d,o)!==!1||t.addEventListener&&t.addEventListener(p,o,!1)),c.add&&(c.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),r?f.splice(f.delegateCount++,0,u):f.push(u),Q.event.global[p]=!0)},remove:function(t,e,i,n,r){var s,o,a,h,l,u,c,f,p,d,m,g=vt.hasData(t)&&vt.get(t);if(g&&(h=g.events)){for(e=(e||"").match(pt)||[""],l=e.length;l--;)if(a=jt.exec(e[l])||[],p=m=a[1],d=(a[2]||"").split(".").sort(),p){for(c=Q.event.special[p]||{},p=(n?c.delegateType:c.bindType)||p,f=h[p]||[],a=a[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=f.length;s--;)u=f[s],!r&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(f.splice(s,1),u.selector&&f.delegateCount--,c.remove&&c.remove.call(t,u));o&&!f.length&&(c.teardown&&c.teardown.call(t,d,g.handle)!==!1||Q.removeEvent(t,p,g.handle),delete h[p])}else for(p in h)Q.event.remove(t,p+e[l],i,n,!0);Q.isEmptyObject(h)&&(delete g.handle,vt.remove(t,"events"))}},trigger:function(e,i,n,r){var s,o,a,h,l,u,c,f=[n||J],p=Y.call(e,"type")?e.type:e,d=Y.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||J,3!==n.nodeType&&8!==n.nodeType&&!_t.test(p+Q.event.triggered)&&(p.indexOf(".")>=0&&(d=p.split("."),p=d.shift(),d.sort()),l=p.indexOf(":")<0&&"on"+p,e=e[Q.expando]?e:new Q.Event(p,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=d.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),i=null==i?[e]:Q.makeArray(i,[e]),c=Q.event.special[p]||{},r||!c.trigger||c.trigger.apply(n,i)!==!1)){if(!r&&!c.noBubble&&!Q.isWindow(n)){for(h=c.delegateType||p,_t.test(h+p)||(o=o.parentNode);o;o=o.parentNode)f.push(o),a=o;a===(n.ownerDocument||J)&&f.push(a.defaultView||a.parentWindow||t)}for(s=0;(o=f[s++])&&!e.isPropagationStopped();)e.type=s>1?h:c.bindType||p,u=(vt.get(o,"events")||{})[e.type]&&vt.get(o,"handle"),u&&u.apply(o,i),u=l&&o[l],u&&u.apply&&Q.acceptData(o)&&(e.result=u.apply(o,i),e.result===!1&&e.preventDefault());return e.type=p,r||e.isDefaultPrevented()||c._default&&c._default.apply(f.pop(),i)!==!1||!Q.acceptData(n)||l&&Q.isFunction(n[p])&&!Q.isWindow(n)&&(a=n[l],a&&(n[l]=null),Q.event.triggered=p,n[p](),Q.event.triggered=void 0,a&&(n[l]=a)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,i,n,r,s,o=[],a=B.call(arguments),h=(vt.get(this,"events")||{})[t.type]||[],l=Q.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(o=Q.event.handlers.call(this,t,h),e=0;(r=o[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,i=0;(s=r.handlers[i++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(s.namespace))&&(t.handleObj=s,t.data=s.data,n=((Q.event.special[s.origType]||{}).handle||s.handler).apply(r.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var i,n,r,s,o=[],a=e.delegateCount,h=t.target;if(a&&h.nodeType&&(!t.button||"click"!==t.type))for(;h!==this;h=h.parentNode||this)if(h.disabled!==!0||"click"!==t.type){for(n=[],i=0;a>i;i++)s=e[i],r=s.selector+" ",void 0===n[r]&&(n[r]=s.needsContext?Q(r,this).index(h)>=0:Q.find(r,this,null,[h]).length),n[r]&&n.push(s);n.length&&o.push({elem:h,handlers:n})}return a<e.length&&o.push({elem:this,handlers:e.slice(a)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var i,n,r,s=e.button;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||J,n=i.documentElement,r=i.body,t.pageX=e.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),t.which||void 0===s||(t.which=1&s?1:2&s?3:4&s?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,i,n,r=t.type,s=t,o=this.fixHooks[r];for(o||(this.fixHooks[r]=o=Tt.test(r)?this.mouseHooks:Pt.test(r)?this.keyHooks:{}),n=o.props?this.props.concat(o.props):this.props,t=new Q.Event(s),e=n.length;e--;)i=n[e],t[i]=s[i];return t.target||(t.target=J),3===t.target.nodeType&&(t.target=t.target.parentNode),o.filter?o.filter(t,s):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==c()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===c()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,i,n){var r=Q.extend(new Q.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?Q.event.trigger(r,null,e):Q.event.dispatch.call(e,r),r.isDefaultPrevented()&&i.preventDefault()}},Q.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?l:u):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:u,isPropagationStopped:u,isImmediatePropagationStopped:u,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=l,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=l,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=l,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,r=t.relatedTarget,s=t.handleObj;return(!r||r!==n&&!Q.contains(n,r))&&(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),K.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var n=this.ownerDocument||this,r=vt.access(n,e);r||n.addEventListener(t,i,!0),vt.access(n,e,(r||0)+1)},teardown:function(){var n=this.ownerDocument||this,r=vt.access(n,e)-1;r?vt.access(n,e,r):(n.removeEventListener(t,i,!0),vt.remove(n,e))}}}),Q.fn.extend({on:function(t,e,i,n,r){var s,o;if("object"==typeof t){"string"!=typeof e&&(i=i||e,e=void 0);for(o in t)this.on(o,e,i,t[o],r);return this}if(null==i&&null==n?(n=e,i=e=void 0):null==n&&("string"==typeof e?(n=i,i=void 0):(n=i,i=e,e=void 0)),n===!1)n=u;else if(!n)return this;return 1===r&&(s=n,n=function(t){return Q().off(t),s.apply(this,arguments)},n.guid=s.guid||(s.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,n,i,e)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,e,i){var n,r;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,Q(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(i=e,e=void 0),i===!1&&(i=u),this.each(function(){Q.event.remove(this,t,i,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];return i?Q.event.trigger(t,e,i,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,It=/<([\w:]+)/,Et=/<|&#?\w+;/,Nt=/<(?:script|style|link)/i,Lt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ot=/^$|\/(?:java|ecma)script/i,Dt=/^true\/(.*)/,Rt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,qt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};qt.optgroup=qt.option,qt.tbody=qt.tfoot=qt.colgroup=qt.caption=qt.thead,qt.th=qt.td,Q.extend({clone:function(t,e,i){var n,r,s,o,a=t.cloneNode(!0),h=Q.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(o=v(a),s=v(t),n=0,r=s.length;r>n;n++)y(s[n],o[n]);if(e)if(i)for(s=s||v(t),o=o||v(a),n=0,r=s.length;r>n;n++)g(s[n],o[n]);else g(t,a);return o=v(a,"script"),o.length>0&&m(o,!h&&v(t,"script")),a},buildFragment:function(t,e,i,n){for(var r,s,o,a,h,l,u=e.createDocumentFragment(),c=[],f=0,p=t.length;p>f;f++)if(r=t[f],r||0===r)if("object"===Q.type(r))Q.merge(c,r.nodeType?[r]:r);else if(Et.test(r)){for(s=s||u.appendChild(e.createElement("div")),o=(It.exec(r)||["",""])[1].toLowerCase(),a=qt[o]||qt._default,s.innerHTML=a[1]+r.replace(At,"<$1></$2>")+a[2],l=a[0];l--;)s=s.lastChild;Q.merge(c,s.childNodes),s=u.firstChild,s.textContent=""}else c.push(e.createTextNode(r));for(u.textContent="",f=0;r=c[f++];)if((!n||-1===Q.inArray(r,n))&&(h=Q.contains(r.ownerDocument,r),s=v(u.appendChild(r),"script"),h&&m(s),i))for(l=0;r=s[l++];)Ot.test(r.type||"")&&i.push(r);return u},cleanData:function(t){for(var e,i,n,r,s=Q.event.special,o=0;void 0!==(i=t[o]);o++){if(Q.acceptData(i)&&(r=i[vt.expando],r&&(e=vt.cache[r]))){if(e.events)for(n in e.events)s[n]?Q.event.remove(i,n):Q.removeEvent(i,n,e.handle);vt.cache[r]&&delete vt.cache[r]}delete yt.cache[i[yt.expando]]}}}),Q.fn.extend({text:function(t){return gt(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var i,n=t?Q.filter(t,this):this,r=0;null!=(i=n[r]);r++)e||1!==i.nodeType||Q.cleanData(v(i)),i.parentNode&&(e&&Q.contains(i.ownerDocument,i)&&m(v(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return gt(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Nt.test(t)&&!qt[(It.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(At,"<$1></$2>");try{for(;n>i;i++)e=this[i]||{},1===e.nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=$.apply([],t);var i,n,r,s,o,a,h=0,l=this.length,u=this,c=l-1,f=t[0],m=Q.isFunction(f);if(m||l>1&&"string"==typeof f&&!K.checkClone&&Lt.test(f))return this.each(function(i){var n=u.eq(i);m&&(t[0]=f.call(this,i,n.html())),n.domManip(t,e)});if(l&&(i=Q.buildFragment(t,this[0].ownerDocument,!1,this),n=i.firstChild,1===i.childNodes.length&&(i=n),n)){for(r=Q.map(v(i,"script"),p),s=r.length;l>h;h++)o=i,h!==c&&(o=Q.clone(o,!0,!0),s&&Q.merge(r,v(o,"script"))),e.call(this[h],o,h);if(s)for(a=r[r.length-1].ownerDocument,Q.map(r,d),h=0;s>h;h++)o=r[h],Ot.test(o.type||"")&&!vt.access(o,"globalEval")&&Q.contains(a,o)&&(o.src?Q._evalUrl&&Q._evalUrl(o.src):Q.globalEval(o.textContent.replace(Rt,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var i,n=[],r=Q(t),s=r.length-1,o=0;s>=o;o++)i=o===s?this:this.clone(!0),Q(r[o])[e](i),H.apply(n,i.get());return this.pushStack(n)}});var Ft,zt={},Wt=/^margin/,Gt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),Bt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(s);var e=t.getComputedStyle(o,null);i="1%"!==e.top,n="4px"===e.width,r.removeChild(s)}var i,n,r=J.documentElement,s=J.createElement("div"),o=J.createElement("div");o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",
K.clearCloneStyle="content-box"===o.style.backgroundClip,s.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",s.appendChild(o),t.getComputedStyle&&Q.extend(K,{pixelPosition:function(){return e(),i},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,i=o.appendChild(J.createElement("div"));return i.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",o.style.width="1px",r.appendChild(s),e=!parseFloat(t.getComputedStyle(i,null).marginRight),r.removeChild(s),o.removeChild(i),e}}))}(),Q.swap=function(t,e,i,n){var r,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];r=i.apply(t,n||[]);for(s in e)t.style[s]=o[s];return r};var $t=/^(none|table(?!-c[ea]).+)/,Ht=new RegExp("^("+xt+")(.*)$","i"),Vt=new RegExp("^([+-])=("+xt+")","i"),Xt={position:"absolute",visibility:"hidden",display:"block"},Ut={letterSpacing:"0",fontWeight:"400"},Yt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=x(t,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,s,o,a=Q.camelCase(e),h=t.style;return e=Q.cssProps[a]||(Q.cssProps[a]=S(h,a)),o=Q.cssHooks[e]||Q.cssHooks[a],void 0===i?o&&"get"in o&&void 0!==(r=o.get(t,!1,n))?r:h[e]:(s=typeof i,"string"===s&&(r=Vt.exec(i))&&(i=(r[1]+1)*r[2]+parseFloat(Q.css(t,e)),s="number"),null!=i&&i===i&&("number"!==s||Q.cssNumber[a]||(i+="px"),K.clearCloneStyle||""!==i||0!==e.indexOf("background")||(h[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(h[e]=i)),void 0)}},css:function(t,e,i,n){var r,s,o,a=Q.camelCase(e);return e=Q.cssProps[a]||(Q.cssProps[a]=S(t.style,a)),o=Q.cssHooks[e]||Q.cssHooks[a],o&&"get"in o&&(r=o.get(t,!0,i)),void 0===r&&(r=x(t,e,n)),"normal"===r&&e in Ut&&(r=Ut[e]),""===i||i?(s=parseFloat(r),i===!0||Q.isNumeric(s)?s||0:r):r}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,i,n){return i?$t.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Xt,function(){return P(t,e,n)}):P(t,e,n):void 0},set:function(t,i,n){var r=n&&Bt(t);return k(t,i,n?C(t,e,n,"border-box"===Q.css(t,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=M(K.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(i){for(var n=0,r={},s="string"==typeof i?i.split(" "):[i];4>n;n++)r[t+Mt[n]+e]=s[n]||s[n-2]||s[0];return r}},Wt.test(t)||(Q.cssHooks[t+e].set=k)}),Q.fn.extend({css:function(t,e){return gt(this,function(t,e,i){var n,r,s={},o=0;if(Q.isArray(e)){for(n=Bt(t),r=e.length;r>o;o++)s[e[o]]=Q.css(t,e[o],!1,n);return s}return void 0!==i?Q.style(t,e,i):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){St(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=_,_.prototype={constructor:_,init:function(t,e,i,n,r,s){this.elem=t,this.prop=i,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=s||(Q.cssNumber[i]?"":"px")},cur:function(){var t=_.propHooks[this.prop];return t&&t.get?t.get(this):_.propHooks._default.get(this)},run:function(t){var e,i=_.propHooks[this.prop];return this.options.duration?this.pos=e=Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):_.propHooks._default.set(this),this}},_.prototype.init.prototype=_.prototype,_.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},_.propHooks.scrollTop=_.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=_.prototype.init,Q.fx.step={};var Kt,Jt,Zt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[E],ie={"*":[function(t,e){var i=this.createTween(t,e),n=i.cur(),r=Qt.exec(e),s=r&&r[3]||(Q.cssNumber[t]?"":"px"),o=(Q.cssNumber[t]||"px"!==s&&+n)&&Qt.exec(Q.css(i.elem,t)),a=1,h=20;if(o&&o[3]!==s){s=s||o[3],r=r||[],o=+n||1;do a=a||".5",o/=a,Q.style(i.elem,t,o+s);while(a!==(a=i.cur()/n)&&1!==a&&--h)}return r&&(o=i.start=+o||+n||0,i.unit=s,i.end=r[1]?o+(r[1]+1)*r[2]:+r[2]),i}]};Q.Animation=Q.extend(L,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var i,n=0,r=t.length;r>n;n++)i=t[n],ie[i]=ie[i]||[],ie[i].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Q.speed=function(t,e,i){var n=t&&"object"==typeof t?Q.extend({},t):{complete:i||!i&&e||Q.isFunction(t)&&t,duration:t,easing:i&&e||e&&!Q.isFunction(e)&&e};return n.duration=Q.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Q.fx.speeds?Q.fx.speeds[n.duration]:Q.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Q.isFunction(n.old)&&n.old.call(this),n.queue&&Q.dequeue(this,n.queue)},n},Q.fn.extend({fadeTo:function(t,e,i,n){return this.filter(St).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var r=Q.isEmptyObject(t),s=Q.speed(e,i,n),o=function(){var e=L(this,Q.extend({},t),s);(r||vt.get(this,"finish"))&&e.stop(!0)};return o.finish=o,r||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",s=Q.timers,o=vt.get(this);if(r)o[r]&&o[r].stop&&n(o[r]);else for(r in o)o[r]&&o[r].stop&&te.test(r)&&n(o[r]);for(r=s.length;r--;)s[r].elem!==this||null!=t&&s[r].queue!==t||(s[r].anim.stop(i),e=!1,s.splice(r,1));(e||!i)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,i=vt.get(this),n=i[t+"queue"],r=i[t+"queueHooks"],s=Q.timers,o=n?n.length:0;for(i.finish=!0,Q.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===t&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;o>e;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var i=Q.fn[e];Q.fn[e]=function(t,n,r){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(A(e,!0),t,n,r)}}),Q.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,i=Q.timers;for(Kt=Q.now();e<i.length;e++)t=i[e],t()||i[e]!==t||i.splice(e--,1);i.length||Q.fx.stop(),Kt=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Jt||(Jt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Jt),Jt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},function(){var t=J.createElement("input"),e=J.createElement("select"),i=e.appendChild(J.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=i.selected,e.disabled=!0,K.optDisabled=!i.disabled,t=J.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var ne,re,se=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return gt(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,i){var n,r,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return typeof t.getAttribute===Ct?Q.prop(t,e,i):(1===s&&Q.isXMLDoc(t)||(e=e.toLowerCase(),n=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?re:ne)),void 0===i?n&&"get"in n&&null!==(r=n.get(t,e))?r:(r=Q.find.attr(t,e),null==r?void 0:r):null!==i?n&&"set"in n&&void 0!==(r=n.set(t,i,e))?r:(t.setAttribute(e,i+""),i):void Q.removeAttr(t,e))},removeAttr:function(t,e){var i,n,r=0,s=e&&e.match(pt);if(s&&1===t.nodeType)for(;i=s[r++];)n=Q.propFix[i]||i,Q.expr.match.bool.test(i)&&(t[n]=!1),t.removeAttribute(i)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}}}),re={set:function(t,e,i){return e===!1?Q.removeAttr(t,i):t.setAttribute(i,i),i}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var i=se[e]||Q.find.attr;se[e]=function(t,e,n){var r,s;return n||(s=se[e],se[e]=r,r=null!=i(t,e,n)?e.toLowerCase():null,se[e]=s),r}});var oe=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return gt(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,i){var n,r,s,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return s=1!==o||!Q.isXMLDoc(t),s&&(e=Q.propFix[e]||e,r=Q.propHooks[e]),void 0!==i?r&&"set"in r&&void 0!==(n=r.set(t,i,e))?n:t[e]=i:r&&"get"in r&&null!==(n=r.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||oe.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var ae=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,i,n,r,s,o,a="string"==typeof t&&t,h=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];l>h;h++)if(i=this[h],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ae," "):" ")){for(s=0;r=e[s++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");o=Q.trim(n),i.className!==o&&(i.className=o)}return this},removeClass:function(t){var e,i,n,r,s,o,a=0===arguments.length||"string"==typeof t&&t,h=0,l=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(pt)||[];l>h;h++)if(i=this[h],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(ae," "):"")){for(s=0;r=e[s++];)for(;n.indexOf(" "+r+" ")>=0;)n=n.replace(" "+r+" "," ");o=t?Q.trim(n):"",i.className!==o&&(i.className=o)}return this},toggleClass:function(t,e){var i=typeof t;return"boolean"==typeof e&&"string"===i?e?this.addClass(t):this.removeClass(t):Q.isFunction(t)?this.each(function(i){Q(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var e,n=0,r=Q(this),s=t.match(pt)||[];e=s[n++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(i===Ct||"boolean"===i)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(ae," ").indexOf(e)>=0)return!0;return!1}});var he=/\r/g;Q.fn.extend({val:function(t){var e,i,n,r=this[0];{if(arguments.length)return n=Q.isFunction(t),this.each(function(i){var r;1===this.nodeType&&(r=n?t.call(this,i,Q(this).val()):t,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(i=e.get(r,"value"))?i:(i=r.value,"string"==typeof i?i.replace(he,""):null==i?"":i)}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,i,n=t.options,r=t.selectedIndex,s="select-one"===t.type||0>r,o=s?null:[],a=s?r+1:n.length,h=0>r?a:s?r:0;a>h;h++)if(i=n[h],(i.selected||h===r)&&(K.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!Q.nodeName(i.parentNode,"optgroup"))){if(e=Q(i).val(),s)return e;o.push(e)}return o},set:function(t,e){for(var i,n,r=t.options,s=Q.makeArray(e),o=r.length;o--;)n=r[o],(n.selected=Q.inArray(n.value,s)>=0)&&(i=!0);return i||(t.selectedIndex=-1),s}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},K.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}});var le=Q.now(),ue=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,i;if(!t||"string"!=typeof t)return null;try{i=new DOMParser,e=i.parseFromString(t,"text/xml")}catch(n){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var ce=/#.*$/,fe=/([?&])_=[^&]*/,pe=/^(.*?):[ \t]*([^\r\n]*)$/gm,de=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,me=/^(?:GET|HEAD)$/,ge=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},be={},we="*/".concat("*"),xe=t.location.href,Me=ve.exec(xe.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe,type:"GET",isLocal:de.test(Me[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":we,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?R(R(t,Q.ajaxSettings),e):R(Q.ajaxSettings,t)},ajaxPrefilter:O(ye),ajaxTransport:O(be),ajax:function(t,e){function i(t,e,i,o){var h,u,v,y,w,M=e;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,s=o||"",x.readyState=t>0?4:0,h=t>=200&&300>t||304===t,i&&(y=q(c,x,i)),y=F(c,y,x,h),h?(c.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(Q.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(Q.etag[r]=w)),204===t||"HEAD"===c.type?M="nocontent":304===t?M="notmodified":(M=y.state,u=y.data,v=y.error,h=!v)):(v=M,(t||!M)&&(M="error",0>t&&(t=0))),x.status=t,x.statusText=(e||M)+"",h?d.resolveWith(f,[u,M,x]):d.rejectWith(f,[x,M,v]),x.statusCode(g),g=void 0,l&&p.trigger(h?"ajaxSuccess":"ajaxError",[x,c,h?u:v]),m.fireWith(f,[x,M]),l&&(p.trigger("ajaxComplete",[x,c]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var n,r,s,o,a,h,l,u,c=Q.ajaxSetup({},e),f=c.context||c,p=c.context&&(f.nodeType||f.jquery)?Q(f):Q.event,d=Q.Deferred(),m=Q.Callbacks("once memory"),g=c.statusCode||{},v={},y={},b=0,w="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===b){if(!o)for(o={};e=pe.exec(s);)o[e[1].toLowerCase()]=e[2];e=o[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===b?s:null},setRequestHeader:function(t,e){var i=t.toLowerCase();return b||(t=y[i]=y[i]||t,v[t]=e),this},overrideMimeType:function(t){return b||(c.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>b)for(e in t)g[e]=[g[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||w;return n&&n.abort(e),i(0,e),this}};if(d.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,c.url=((t||c.url||xe)+"").replace(ce,"").replace(ge,Me[1]+"//"),c.type=e.method||e.type||c.method||c.type,c.dataTypes=Q.trim(c.dataType||"*").toLowerCase().match(pt)||[""],null==c.crossDomain&&(h=ve.exec(c.url.toLowerCase()),c.crossDomain=!(!h||h[1]===Me[1]&&h[2]===Me[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(Me[3]||("http:"===Me[1]?"80":"443")))),c.data&&c.processData&&"string"!=typeof c.data&&(c.data=Q.param(c.data,c.traditional)),D(ye,c,e,x),2===b)return x;l=Q.event&&c.global,l&&0===Q.active++&&Q.event.trigger("ajaxStart"),c.type=c.type.toUpperCase(),c.hasContent=!me.test(c.type),r=c.url,c.hasContent||(c.data&&(r=c.url+=(ue.test(r)?"&":"?")+c.data,delete c.data),c.cache===!1&&(c.url=fe.test(r)?r.replace(fe,"$1_="+le++):r+(ue.test(r)?"&":"?")+"_="+le++)),c.ifModified&&(Q.lastModified[r]&&x.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&x.setRequestHeader("If-None-Match",Q.etag[r])),(c.data&&c.hasContent&&c.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",c.contentType),x.setRequestHeader("Accept",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+("*"!==c.dataTypes[0]?", "+we+"; q=0.01":""):c.accepts["*"]);for(u in c.headers)x.setRequestHeader(u,c.headers[u]);if(c.beforeSend&&(c.beforeSend.call(f,x,c)===!1||2===b))return x.abort();w="abort";for(u in{success:1,error:1,complete:1})x[u](c[u]);if(n=D(be,c,e,x)){x.readyState=1,l&&p.trigger("ajaxSend",[x,c]),c.async&&c.timeout>0&&(a=setTimeout(function(){x.abort("timeout")},c.timeout));try{b=1,n.send(v,i)}catch(M){if(!(2>b))throw M;i(-1,M)}}else i(-1,"No Transport");return x},getJSON:function(t,e,i){return Q.get(t,e,i,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,i,n,r){return Q.isFunction(i)&&(r=r||n,n=i,i=void 0),Q.ajax({url:t,type:e,dataType:r,data:i,success:n})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return Q.isFunction(t)?this.each(function(e){Q(this).wrapInner(t.call(this,e))}):this.each(function(){var e=Q(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(i){Q(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var Se=/%20/g,ke=/\[\]$/,Ce=/\r?\n/g,Pe=/^(?:submit|button|image|reset|file)$/i,Te=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var i,n=[],r=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){r(this.name,this.value)});else for(i in t)z(i,t[i],e,r);return n.join("&").replace(Se,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&Te.test(this.nodeName)&&!Pe.test(t)&&(this.checked||!kt.test(t))}).map(function(t,e){var i=Q(this).val();return null==i?null:Q.isArray(i)?Q.map(i,function(t){return{name:e.name,value:t.replace(Ce,"\r\n")}}):{name:e.name,value:i.replace(Ce,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var _e=0,je={},Ae={0:200,1223:204},Ie=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in je)je[t]()}),K.cors=!!Ie&&"withCredentials"in Ie,K.ajax=Ie=!!Ie,Q.ajaxTransport(function(t){var e;return K.cors||Ie&&!t.crossDomain?{send:function(i,n){var r,s=t.xhr(),o=++_e;if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)s[r]=t.xhrFields[r];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(r in i)s.setRequestHeader(r,i[r]);e=function(t){return function(){e&&(delete je[o],e=s.onload=s.onerror=null,"abort"===t?s.abort():"error"===t?n(s.status,s.statusText):n(Ae[s.status]||s.status,s.statusText,"string"==typeof s.responseText?{text:s.responseText}:void 0,s.getAllResponseHeaders()))}},s.onload=e(),s.onerror=e("error"),e=je[o]=e("abort");try{s.send(t.hasContent&&t.data||null)}catch(a){if(e)throw a}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,i;return{send:function(n,r){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),J.head.appendChild(e[0])},abort:function(){i&&i()}}}});var Ee=[],Ne=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ee.pop()||Q.expando+"_"+le++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,i,n){var r,s,o,a=e.jsonp!==!1&&(Ne.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ne.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ne,"$1"+r):e.jsonp!==!1&&(e.url+=(ue.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||Q.error(r+" was not called"),o[0]},e.dataTypes[0]="json",s=t[r],t[r]=function(){o=arguments},n.always(function(){t[r]=s,e[r]&&(e.jsonpCallback=i.jsonpCallback,Ee.push(r)),o&&Q.isFunction(s)&&s(o[0]),o=s=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,i){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(i=e,e=!1),e=e||J;var n=ot.exec(t),r=!i&&[];return n?[e.createElement(n[1])]:(n=Q.buildFragment([t],e,r),r&&r.length&&Q(r).remove(),Q.merge([],n.childNodes))};var Le=Q.fn.load;Q.fn.load=function(t,e,i){if("string"!=typeof t&&Le)return Le.apply(this,arguments);var n,r,s,o=this,a=t.indexOf(" ");return a>=0&&(n=Q.trim(t.slice(a)),t=t.slice(0,a)),Q.isFunction(e)?(i=e,e=void 0):e&&"object"==typeof e&&(r="POST"),o.length>0&&Q.ajax({url:t,type:r,dataType:"html",data:e}).done(function(t){s=arguments,o.html(n?Q("<div>").append(Q.parseHTML(t)).find(n):t)}).complete(i&&function(t,e){o.each(i,s||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Oe=t.document.documentElement;Q.offset={setOffset:function(t,e,i){var n,r,s,o,a,h,l,u=Q.css(t,"position"),c=Q(t),f={};"static"===u&&(t.style.position="relative"),a=c.offset(),s=Q.css(t,"top"),h=Q.css(t,"left"),l=("absolute"===u||"fixed"===u)&&(s+h).indexOf("auto")>-1,l?(n=c.position(),o=n.top,r=n.left):(o=parseFloat(s)||0,r=parseFloat(h)||0),Q.isFunction(e)&&(e=e.call(t,i,a)),null!=e.top&&(f.top=e.top-a.top+o),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):c.css(f)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,i,n=this[0],r={top:0,left:0},s=n&&n.ownerDocument;if(s)return e=s.documentElement,Q.contains(e,n)?(typeof n.getBoundingClientRect!==Ct&&(r=n.getBoundingClientRect()),i=W(s),{top:r.top+i.pageYOffset-e.clientTop,left:r.left+i.pageXOffset-e.clientLeft}):r},position:function(){if(this[0]){var t,e,i=this[0],n={top:0,left:0};return"fixed"===Q.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(n=t.offset()),n.top+=Q.css(t[0],"borderTopWidth",!0),n.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-Q.css(i,"marginTop",!0),left:e.left-n.left-Q.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Oe;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Oe})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n="pageYOffset"===i;Q.fn[e]=function(r){return gt(this,function(e,r,s){var o=W(e);return void 0===s?o?o[i]:e[r]:void(o?o.scrollTo(n?t.pageXOffset:s,n?s:t.pageYOffset):e[r]=s)},e,r,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=M(K.pixelPosition,function(t,i){return i?(i=x(t,e),Gt.test(i)?Q(t).position()[e]+"px":i):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){Q.fn[n]=function(n,r){var s=arguments.length&&(i||"boolean"!=typeof n),o=i||(n===!0||r===!0?"margin":"border");return gt(this,function(e,i,n){var r;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===n?Q.css(e,i,o):Q.style(e,i,n,o)},e,s?n:void 0,s,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var De=t.jQuery,Re=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Re),e&&t.jQuery===Q&&(t.jQuery=De),Q},typeof e===Ct&&(t.jQuery=t.$=Q),Q})},{}],24:[function(t,e,i){(function(n){!function(t,n){"object"==typeof i?e.exports=n():"function"==typeof define&&define.amd?define([],n):t.ol=n()}(this,function(){function e(t,e,i){t=t.split("."),i=i||Hh,t[0]in i||!i.execScript||i.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||void 0===e?i=i[n]?i[n]:i[n]={}:i[n]=e}function i(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var i=Object.prototype.toString.call(t);if("[object Window]"==i)return"object";if("[object Array]"==i||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==i||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function r(t){return"number"==typeof t}function s(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function o(t){return t[Vh]||(t[Vh]=++Xh)}function a(t,e,i){return t.call.apply(t.bind,arguments)}function h(t,e,i){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,n),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function l(t,e,i){return l=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:h,l.apply(null,arguments)}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function c(){}function f(t,e,i){return Math.min(Math.max(t,e),i)}function p(t,e){var i=t%e;return 0>i*e?i+e:i}function d(t){return function(e){return e?[f(e[0],t[0],t[2]),f(e[1],t[1],t[3])]:void 0}}function m(t){return t}function g(t,e,i){this.center=t,this.resolution=e,this.rotation=i}function v(t){for(var e in t)delete t[e]}function y(t){var e,i=[];for(e in t)i.push(t[e]);return i}function b(t){for(var e in t)return!1;return!e}function w(t){function e(e){var i=t.listener,n=t.rc||t.target;return t.tc&&T(t),i.call(n,e)}return t.sc=e}function x(t,e,i,n){for(var r,s=0,o=t.length;o>s;++s)if(r=t[s],r.listener===e&&r.rc===i)return n&&(r.deleteIndex=s),r}function M(t,e){var i=t[Jh];return i?i[e]:void 0}function S(t){var e=t[Jh];return e||(e=t[Jh]={}),e}function k(t,e){var i=M(t,e);if(i){for(var n=0,r=i.length;r>n;++n)t.removeEventListener(e,i[n].sc),v(i[n]);i.length=0,(i=t[Jh])&&(delete i[e],0===Object.keys(i).length&&delete t[Jh])}}function C(t,e,i,n,r){var s=S(t),o=s[e];return o||(o=s[e]=[]),(s=x(o,i,n,!1))?r||(s.tc=!1):(s={rc:n,tc:!!r,listener:i,target:t,type:e},t.addEventListener(e,w(s)),o.push(s)),s}function P(t,e,i,n){(t=M(t,e))&&(i=x(t,i,n,!0))&&T(i)}function T(t){if(t&&t.target){t.target.removeEventListener(t.type,t.sc);var e=M(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&k(t.target,t.type)}v(t)}}function _(){}function j(t){t.Qa||(t.Qa=!0,t.Y())}function A(t,e){this.type=t,this.target=e||null}function I(t){t.stopPropagation()}function E(){this.ha={},this.U={},this.T={}}function N(t,e){var i="string"==typeof e?new A(e):e,n=i.type;i.target=t;var r,s=t.T[n];if(s){n in t.U||(t.U[n]=0,t.ha[n]=0),++t.U[n];for(var o=0,a=s.length;a>o;++o)if(!1===s[o].call(t,i)||i.Cf){r=!1;break}if(--t.U[n],0===t.U[n]){for(i=t.ha[n],delete t.ha[n];i--;)t.removeEventListener(n,c);delete t.U[n]}return r}}function L(t,e){return e?e in t.T:0<Object.keys(t.T).length}function O(){E.call(this),this.i=0}function D(t,e,i){A.call(this,t),this.key=e,this.oldValue=i}function R(t){O.call(this),o(this),this.P={},void 0!==t&&F(this,t)}function q(t){return Zh.hasOwnProperty(t)?Zh[t]:Zh[t]="change:"+t}function F(t,e){for(var i in e)t.set(i,e[i],void 0)}function z(t,e){return t>e?1:e>t?-1:0}function W(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(i>0){for(i=1;n>i;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;n>i;++i)if(t[i]<=e)return i}else for(i=1;n>i;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function G(t){return t.reduce(function(t,e){return Array.isArray(e)?t.concat(G(e)):t.concat(e)},[])}function B(t,e){var n;n=i(e);var r="array"==n||"object"==n&&"number"==typeof e.length?e:[e],s=r.length;for(n=0;s>n;n++)t[t.length]=r[n]}function $(t,e){var i=t.indexOf(e),n=i>-1;return n&&t.splice(i,1),n}function H(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;i>n;n++)if(t[n]!==e[n])return!1;return!0}function V(t){var e,i=Ln,n=t.length,r=Array(t.length);for(e=0;n>e;e++)r[e]={index:e,value:t[e]};for(r.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=r[e].value}function X(t){return function(e,i,n){return void 0!==e?(e=W(t,e,n),e=f(e+i,0,t.length-1),t[e]):void 0}}function U(t,e,i){return function(n,r,s){return void 0!==n?(n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(s>0?0:0>s?1:.5))+r,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)):void 0;
}}function Y(t){return void 0!==t?0:void 0}function K(t,e){return void 0!==t?t+e:void 0}function J(t){var e=2*Math.PI/t;return function(t,i){return void 0!==t?t=Math.floor((t+i)/e+.5)*e:void 0}}function Z(){var t=5*Math.PI/180;return function(e,i){return void 0!==e?Math.abs(e+i)<=t?0:e+i:void 0}}function Q(t,e){t[0]+=e[0],t[1]+=e[1]}function tt(t,e){var i=t[0],n=t[1],r=e[0],s=e[1],o=r[0],r=r[1],a=s[0],s=s[1],h=a-o,l=s-r,i=0===h&&0===l?0:(h*(i-o)+l*(n-r))/(h*h+l*l||0);return 0>=i||(i>=1?(o=a,r=s):(o+=i*h,r+=i*l)),[o,r]}function et(t,e){for(var i=!0,n=t.length-1;n>=0;--n)if(t[n]!=e[n]){i=!1;break}return i}function it(t,e){var i=Math.cos(e),n=Math.sin(e),r=t[1]*i+t[0]*n;t[0]=t[0]*i-t[1]*n,t[1]=r}function nt(t,e){var i=t[0]-e[0],n=t[1]-e[1];return i*i+n*n}function rt(t){for(var e=ht(),i=0,n=t.length;n>i;++i)dt(e,t[i]);return e}function st(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function ot(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function at(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function ht(){return[1/0,1/0,-(1/0),-(1/0)]}function lt(t,e,i,n,r){return r?(r[0]=t,r[1]=e,r[2]=i,r[3]=n,r):[t,e,i,n]}function ut(t){return lt(1/0,1/0,-(1/0),-(1/0),t)}function ct(t,e){var i=t[0],n=t[1];return lt(i,n,i,n,e)}function ft(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function pt(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}function dt(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function mt(t,e,i,n,r){for(;n>i;i+=r){var s=t,o=e[i],a=e[i+1];s[0]=Math.min(s[0],o),s[1]=Math.min(s[1],a),s[2]=Math.max(s[2],o),s[3]=Math.max(s[3],a)}return t}function gt(t){var e=0;return t[2]<t[0]||t[3]<t[1]||(e=St(t)*wt(t)),e}function vt(t){return[t[0],t[1]]}function yt(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function bt(t,e,i,n,r){var s=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var o=Math.sin(i);i=s*e,s*=o,e*=n;var a=n*o,h=t[0],l=t[1];t=h-i+a,n=h-i-a,o=h+i-a,i=h+i+a;var a=l-s-e,h=l-s+e,u=l+s+e,s=l+s-e;return lt(Math.min(t,n,o,i),Math.min(a,h,u,s),Math.max(t,n,o,i),Math.max(a,h,u,s),r)}function wt(t){return t[3]-t[1]}function xt(t,e){var i=ht();return kt(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function Mt(t){return[t[0],t[3]]}function St(t){return t[2]-t[0]}function kt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Ct(){return!0}function Pt(){return!1}function Tt(t){this.radius=t}function _t(t,e){var i=t[1]*Math.PI/180,n=e[1]*Math.PI/180,r=(n-i)/2,s=(e[0]-t[0])*Math.PI/180/2,i=Math.sin(r)*Math.sin(r)+Math.sin(s)*Math.sin(s)*Math.cos(i)*Math.cos(n);return 2*Qh.radius*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))}function jt(t){this.ua=t.code,this.i=t.units,this.h=void 0!==t.extent?t.extent:null,this.a=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.b=void 0!==t.global?t.global:!1,this.c=!(!this.b||!this.h),this.s=void 0!==t.getPointResolution?t.getPointResolution:this.ke,this.g=null,this.f=t.metersPerUnit;var e=el,i=t.code,n=nl||Uh.proj4;if("function"==typeof n&&void 0===e[i]){var r=n.defs(i);if(void 0!==r){void 0!==r.axis&&void 0===t.axisOrientation&&(this.a=r.axis),void 0===t.metersPerUnit&&(this.f=r.to_meter),void 0===t.units&&(this.i=r.units);var s,o;for(s in e)if(t=n.defs(s),void 0!==t)if(e=Dt(s),t===r)At([e,this]);else{o=n(s,i),t=o.forward,o=o.inverse;var e=Dt(e),a=Dt(this);Lt(e,a,Ot(t)),Lt(a,e,Ot(o))}}}}function At(t){Et(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Lt(e,t,Wt)})})}function It(t){el[t.ua]=t,Lt(t,t,Wt)}function Et(t){var e=[];t.forEach(function(t){e.push(It(t))})}function Nt(t){return t?"string"==typeof t?Dt(t):t:Dt("EPSG:3857")}function Lt(t,e,i){t=t.ua,e=e.ua,t in il||(il[t]={}),il[t][e]=i}function Ot(t){return function(e,i,n){var r=e.length;n=void 0!==n?n:2,i=void 0!==i?i:Array(r);var s,o;for(o=0;r>o;o+=n)for(s=t([e[o],e[o+1]]),i[o]=s[0],i[o+1]=s[1],s=n-1;s>=2;--s)i[o+s]=e[o+s];return i}}function Dt(t){var e;if(t instanceof jt)e=t;else if("string"==typeof t){e=el[t];var i=nl||Uh.proj4;void 0===e&&"function"==typeof i&&void 0!==i.defs(t)&&(e=new jt({code:t}),It(e))}else e=null;return e}function Rt(t,e){if(t===e)return!0;var i=t.$a()===e.$a();return t.ua===e.ua?i:Ft(t,e)===Wt&&i}function qt(t,e){var i=Dt(t),n=Dt(e);return Ft(i,n)}function Ft(t,e){var i,n=t.ua,r=e.ua;return n in il&&r in il[n]&&(i=il[n][r]),void 0===i&&(i=zt),i}function zt(t,e){if(void 0!==e&&t!==e){for(var i=0,n=t.length;n>i;++i)e[i]=t[i];t=e}return t}function Wt(t,e){var i;if(void 0!==e){i=0;for(var n=t.length;n>i;++i)e[i]=t[i];i=e}else i=t.slice();return i}function Gt(t,e,i){e=qt(e,i),t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2),i=[t[0],t[2],t[4],t[6]];var n=[t[1],t[3],t[5],t[7]];return t=Math.min.apply(null,i),e=Math.min.apply(null,n),i=Math.max.apply(null,i),n=Math.max.apply(null,n),lt(t,e,i,n,void 0)}function Bt(){R.call(this),this.w=ht(),this.v=-1,this.h={},this.o=this.j=0}function $t(t,e,i){return t.Sa(qt(e,i)),t}function Ht(t){this.length=t.length||t;for(var e=0;e<this.length;e++)this[e]=t[e]||0}function Vt(t){this.length=t.length||t;for(var e=0;e<this.length;e++)this[e]=t[e]||0}function Xt(){var t=Array(16);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=0,t}function Ut(t,e){var i=t[0],n=t[1],r=t[2],s=t[3],o=t[4],a=t[5],h=t[6],l=t[7],u=t[8],c=t[9],f=t[10],p=t[11],d=t[12],m=t[13],g=t[14],v=t[15],y=i*a-n*o,b=i*h-r*o,w=i*l-s*o,x=n*h-r*a,M=n*l-s*a,S=r*l-s*h,k=u*m-c*d,C=u*g-f*d,P=u*v-p*d,T=c*g-f*m,_=c*v-p*m,j=f*v-p*g,A=y*j-b*_+w*T+x*P-M*C+S*k;0!=A&&(A=1/A,e[0]=(a*j-h*_+l*T)*A,e[1]=(-n*j+r*_-s*T)*A,e[2]=(m*S-g*M+v*x)*A,e[3]=(-c*S+f*M-p*x)*A,e[4]=(-o*j+h*P-l*C)*A,e[5]=(i*j-r*P+s*C)*A,e[6]=(-d*S+g*w-v*b)*A,e[7]=(u*S-f*w+p*b)*A,e[8]=(o*_-a*P+l*k)*A,e[9]=(-i*_+n*P-s*k)*A,e[10]=(d*M-m*w+v*y)*A,e[11]=(-u*M+c*w-p*y)*A,e[12]=(-o*T+a*C-h*k)*A,e[13]=(i*T-n*C+r*k)*A,e[14]=(-d*x+m*b-g*y)*A,e[15]=(u*x-c*b+f*y)*A)}function Yt(t,e,i){var n=t[1]*e+t[5]*i+0*t[9]+t[13],r=t[2]*e+t[6]*i+0*t[10]+t[14],s=t[3]*e+t[7]*i+0*t[11]+t[15];t[12]=t[0]*e+t[4]*i+0*t[8]+t[12],t[13]=n,t[14]=r,t[15]=s}function Kt(t,e,i,n,r,s){var o=r[0],a=r[1],h=r[4],l=r[5],u=r[12];r=r[13];for(var c=s?s:[],f=0;i>e;e+=n){var p=t[e],d=t[e+1];c[f++]=o*p+h*d+u,c[f++]=a*p+l*d+r}return s&&c.length!=f&&(c.length=f),c}function Jt(){Bt.call(this),this.b="XY",this.u=2,this.a=null}function Zt(t){return"XY"==t?2:"XYZ"==t||"XYM"==t?3:"XYZM"==t?4:void 0}function Qt(t,e,i){t.u=Zt(e),t.b=e,t.a=i}function te(t,e,i,n){if(e)i=Zt(e);else{for(e=0;n>e;++e){if(0===i.length)return t.b="XY",void(t.u=2);i=i[0]}i=i.length,e=2==i?"XY":3==i?"XYZ":4==i?"XYZM":void 0}t.b=e,t.u=i}function ee(t,e){var i,n,r=0;for(i=0,n=e.length;n>i;++i)t[r++]=e[i];return r}function ie(t,e,i,n){var r,s;for(r=0,s=i.length;s>r;++r){var o,a=i[r];for(o=0;n>o;++o)t[e++]=a[o]}return e}function ne(t,e,i,n,r){r=r?r:[];var s,o,a=0;for(s=0,o=i.length;o>s;++s)e=ie(t,e,i[s],n),r[a++]=e;return r.length=a,r}function re(t,e,i,n,r){r=void 0!==r?r:[];for(var s=0;i>e;e+=n)r[s++]=t.slice(e,e+n);return r.length=s,r}function se(t,e,i,n,r){r=void 0!==r?r:[];var s,o,a=0;for(s=0,o=i.length;o>s;++s){var h=i[s];r[a++]=re(t,e,h,n,r[a]),e=h}return r.length=a,r}function oe(t,e,i,n,r,s,o){var a=(i-e)/n;if(3>a){for(;i>e;e+=n)s[o++]=t[e],s[o++]=t[e+1];return o}var h=Array(a);h[0]=1,h[a-1]=1,i=[e,i-n];for(var l,u=0;0<i.length;){var c=i.pop(),f=i.pop(),p=0,d=t[f],m=t[f+1],g=t[c],v=t[c+1];for(l=f+n;c>l;l+=n){var y,b=t[l];y=t[l+1];var w=d,x=m,M=g-w,S=v-x;if(0!==M||0!==S){var k=((b-w)*M+(y-x)*S)/(M*M+S*S);k>1?(w=g,x=v):k>0&&(w+=M*k,x+=S*k)}b=w-b,y=x-y,y=b*b+y*y,y>p&&(u=l,p=y)}p>r&&(h[(u-e)/n]=1,u>f+n&&i.push(f,u),c>u+n&&i.push(u,c))}for(l=0;a>l;++l)h[l]&&(s[o++]=t[e+l*n],s[o++]=t[e+l*n+1]);return o}function ae(t,e,i,n,r,s,o,a){var h,l;for(h=0,l=i.length;l>h;++h){var u=i[h];t:{var c=t,f=u,p=n,d=r,m=s;if(e!=f){var g=d*Math.round(c[e]/d),v=d*Math.round(c[e+1]/d);e+=p,m[o++]=g,m[o++]=v;var y,b;do if(y=d*Math.round(c[e]/d),b=d*Math.round(c[e+1]/d),e+=p,e==f){m[o++]=y,m[o++]=b;break t}while(y==g&&b==v);for(;f>e;){var w,x;if(w=d*Math.round(c[e]/d),x=d*Math.round(c[e+1]/d),e+=p,w!=y||x!=b){var M=y-g,S=b-v,k=w-g,C=x-v;M*C==S*k&&(0>M&&M>k||M==k||M>0&&k>M)&&(0>S&&S>C||S==C||S>0&&C>S)||(m[o++]=y,m[o++]=b,g=y,v=b),y=w,b=x}}m[o++]=y,m[o++]=b}}a.push(o),e=u}return o}function he(t,e){Jt.call(this),this.O(t,e)}function le(t,e,i){Qt(t,e,i),t.c()}function ue(t,e){Jt.call(this),this.O(t,e)}function ce(t,e,i,n,r,s){for(var o=!1,a=t[i-n],h=t[i-n+1];i>e;e+=n){var l=t[e],u=t[e+1];h>s!=u>s&&(l-a)*(s-h)/(u-h)+a>r&&(o=!o),a=l,h=u}return o}function fe(t,e,i,n,r,s,o){var a,h,l,u,c,f=r[s+1],p=[],d=i[0];for(l=t[d-n],c=t[d-n+1],a=e;d>a;a+=n)u=t[a],h=t[a+1],(c>=f&&f>=h||f>=c&&h>=f)&&(l=(f-c)/(h-c)*(u-l)+l,p.push(l)),l=u,c=h;for(d=NaN,c=-(1/0),p.sort(z),l=p[0],a=1,h=p.length;h>a;++a){u=p[a];var m=Math.abs(u-l);if(m>c){l=(l+u)/2;var g;t:if(0!==i.length&&ce(t,e,i[0],n,l,f)){var v;for(g=1,v=i.length;v>g;++g)if(ce(t,i[g-1],i[g],n,l,f)){g=!1;break t}g=!0}else g=!1;g&&(d=l,c=m)}l=u}return isNaN(d)&&(d=r[s]),o?(o.push(d,f),o):[d,f]}function pe(t,e,i,n){for(var r=0,s=t[i-n],o=t[i-n+1];i>e;e+=n)var a=t[e],h=t[e+1],r=r+(a-s)*(h+o),s=a,o=h;return r>0}function de(t,e,i,n){var r=0;n=void 0!==n?n:!1;var s,o;for(s=0,o=e.length;o>s;++s){var a=e[s],r=pe(t,r,a,i);if(0===s){if(n&&r||!n&&!r)return!1}else if(n&&!r||!n&&r)return!1;r=a}return!0}function me(t,e,i,n,r){r=void 0!==r?r:!1;var s,o;for(s=0,o=i.length;o>s;++s){var a=i[s],h=pe(t,e,a,n);if(0===s?r&&h||!r&&!h:r&&!h||!r&&h)for(var h=t,l=a,u=n;l-u>e;){var c;for(c=0;u>c;++c){var f=h[e+c];h[e+c]=h[l-u+c],h[l-u+c]=f}e+=u,l-=u}e=a}return e}function ge(t,e,i,n){var r,s,o=0;for(r=0,s=e.length;s>r;++r)o=me(t,o,e[r],i,n);return o}function ve(t,e){Jt.call(this),this.f=[],this.A=-1,this.C=null,this.B=-1,this.l=null,this.O(t,e)}function ye(t){if(t.A!=t.i){var e=yt(t.D());t.C=fe(be(t),0,t.f,t.u,e,0),t.A=t.i}return t.C}function be(t){if(t.B!=t.i){var e=t.a;de(e,t.f,t.u)?t.l=e:(t.l=e.slice(),t.l.length=me(t.l,0,t.f,t.u)),t.B=t.i}return t.l}function we(t,e,i,n){Qt(t,e,i),t.f=n,t.c()}function xe(t){R.call(this),t=t||{},this.b=[0,0];var e={};e.center=void 0!==t.center?t.center:null,this.h=Nt(t.projection);var i,n,s,o=void 0!==t.minZoom?t.minZoom:0;i=void 0!==t.maxZoom?t.maxZoom:28;var a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions)i=t.resolutions,n=i[0],s=i[i.length-1],i=X(i);else{n=Nt(t.projection),s=n.D();var h=(s?Math.max(St(s),wt(s)):360*tl.degrees/n.Aa())/256/Math.pow(2,0),l=h/Math.pow(2,28);n=t.maxResolution,void 0!==n?o=0:n=h/Math.pow(a,o),s=t.minResolution,void 0===s&&(s=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,i):h/Math.pow(a,i):l),i=o+Math.floor(Math.log(n/s)/Math.log(a)),s=n/Math.pow(a,i-o),i=U(a,n,i-o)}this.g=n,this.j=s,this.l=t.resolutions,this.f=o,o=void 0!==t.extent?d(t.extent):m,(void 0!==t.enableRotation?t.enableRotation:1)?(n=t.constrainRotation,n=void 0===n||!0===n?Z():!1===n?K:r(n)?J(n):K):n=Y,this.a=new g(o,i,n),void 0!==t.resolution?e.resolution=t.resolution:void 0!==t.zoom&&(e.resolution=this.constrainResolution(this.g,t.zoom-this.f)),e.rotation=void 0!==t.rotation?t.rotation:0,F(this,e)}function Me(t,e){return void 0!==e?(e[0]=t.b[0],e[1]=t.b[1],e):t.b.slice()}function Se(t,e){return Math.max(St(t)/e[0],wt(t)/e[1])}function ke(t){return t.get("rotation")}function Ce(t,e){t.b[1]+=e}function Pe(t,e){t.set("resolution",e)}function Te(t){return 1-Math.pow(1-t,3)}function _e(t){return 3*t*t-2*t*t*t}function je(t){return t}function Ae(t){var e=t.source,i=t.start?t.start:Date.now(),n=e[0],r=e[1],s=void 0!==t.duration?t.duration:1e3,o=t.easing?t.easing:_e;return function(t,e){if(e.time<i)return e.animate=!0,e.viewHints[0]+=1,!0;if(e.time<i+s){var a=1-o((e.time-i)/s),h=n-e.viewState.center[0],l=r-e.viewState.center[1];return e.animate=!0,e.viewState.center[0]+=a*h,e.viewState.center[1]+=a*l,e.viewHints[0]+=1,!0}return!1}}function Ie(t){var e=t.rotation?t.rotation:0,i=t.start?t.start:Date.now(),n=void 0!==t.duration?t.duration:1e3,r=t.easing?t.easing:_e,s=t.anchor?t.anchor:null;return function(t,o){if(o.time<i)return o.animate=!0,o.viewHints[0]+=1,!0;if(o.time<i+n){var a=1-r((o.time-i)/n),a=(e-o.viewState.rotation)*a;if(o.animate=!0,o.viewState.rotation+=a,s){var h=o.viewState.center;h[0]-=s[0],h[1]-=s[1],it(h,a),Q(h,s)}return o.viewHints[0]+=1,!0}return!1}}function Ee(t){var e=t.resolution,i=t.start?t.start:Date.now(),n=void 0!==t.duration?t.duration:1e3,r=t.easing?t.easing:_e;return function(t,s){if(s.time<i)return s.animate=!0,s.viewHints[0]+=1,!0;if(s.time<i+n){var o=1-r((s.time-i)/n),a=e-s.viewState.resolution;return s.animate=!0,s.viewState.resolution+=o*a,s.viewHints[0]+=1,!0}return!1}}function Ne(t,e,i,n){this.G=t,this.H=e,this.I=i,this.J=n}function Le(t,e,i){return t.G<=e&&e<=t.H&&t.I<=i&&i<=t.J}function Oe(t,e){return t.G<=e.H&&t.H>=e.G&&t.I<=e.J&&t.J>=e.I}function De(t){this.c=t.html,this.a=t.tileRanges?t.tileRanges:null}function Re(t,e,i){A.call(this,t,i),this.element=e}function qe(t){R.call(this),this.a=t?t:[],We(this)}function Fe(t,e){var i,n;for(i=0,n=e.length;n>i;++i)t.push(e[i])}function ze(t,e){var i=t.a[e];return t.a.splice(e,1),We(t),N(t,new Re("remove",i,t)),i}function We(t){t.set("length",t.a.length)}function Ge(t,e,i){return 2>=arguments.length?Array.prototype.slice.call(t,e):Array.prototype.slice.call(t,e,i)}function Be(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function $e(t,e){var i=e||[];return i[0]=f(t[0]+.5|0,0,255),i[1]=f(t[1]+.5|0,0,255),i[2]=f(t[2]+.5|0,0,255),i[3]=f(t[3],0,1),i}function He(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Be(t)}function Ve(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function Xe(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ue(t,e,i){A.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function Ye(t){R.call(this),this.element=t.element?t.element:null,this.o=this.C=null,this.w=[],this.render=t.render?t.render:c,t.target&&(t=t.target,this.C="string"==typeof t?document.getElementById(t):t)}function Ke(){this.i=0,this.b={},this.c=this.a=null}function Je(t){Ke.call(this),this.g=void 0!==t?t:2048}function Ze(t){return t.i>t.g}function Qe(t,e){E.call(this),this.pa=t,this.state=e,this.a=null,this.key=""}function ti(t){N(t,"change")}function ei(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]+2*e,i[1]=t[1]+2*e,i}function ii(t,e,i){return void 0===i&&(i=[0,0]),i[0]=t[0]*e+.5|0,i[1]=t[1]*e+.5|0,i}function ni(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:(e[0]=t,e[1]=t),e)}function ri(t){R.call(this),this.f=Dt(t.projection),this.X=si(t.attributions),this.fa=t.logo,this.ia=void 0!==t.state?t.state:"ready",this.A=void 0!==t.wrapX?t.wrapX:!1}function si(t){if("string"==typeof t)return[new De({html:t})];if(t instanceof De)return[t];if(Array.isArray(t)){for(var e=t.length,i=Array(e),n=0;e>n;n++){var r=t[n];i[n]="string"==typeof r?new De({html:r}):r}return i}return null}function oi(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.a=t.resolutions,this.maxZoom=this.a.length-1,this.b=void 0!==t.origin?t.origin:null,this.g=null,void 0!==t.origins&&(this.g=t.origins);var e=t.extent;void 0===e||this.b||this.g||(this.b=Mt(e)),this.f=null,void 0!==t.tileSizes&&(this.f=t.tileSizes),this.h=void 0!==t.tileSize?t.tileSize:this.f?null:256,this.j=void 0!==e?e:null,this.c=null,this.i=[0,0],void 0!==t.sizes?this.c=t.sizes.map(function(t){return new Ne(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&vi(this,e)}function ai(t,e,i,n,r){for(r=fi(t,e,r),e=e[0]-1;e>=t.minZoom;){if(i.call(null,e,ui(t,r,e,n)))return!0;--e}return!1}function hi(t,e,i,n){return e[0]<t.maxZoom?(n=fi(t,e,n),ui(t,n,e[0]+1,i)):null}function li(t,e,i,n){pi(t,e[0],e[1],i,!1,pl);var r=pl[1],s=pl[2];return pi(t,e[2],e[3],i,!0,pl),t=pl[1],e=pl[2],void 0!==n?(n.G=r,n.H=t,n.I=s,n.J=e):n=new Ne(r,t,s,e),n}function ui(t,e,i,n){return i=t.R(i),li(t,e,i,n)}function ci(t,e){var i=t.Ba(e[0]),n=t.R(e[0]),r=ni(mi(t,e[0]),t.i);return[i[0]+(e[1]+.5)*r[0]*n,i[1]+(e[2]+.5)*r[1]*n]}function fi(t,e,i){var n=t.Ba(e[0]),r=t.R(e[0]);t=ni(mi(t,e[0]),t.i);var s=n[0]+e[1]*t[0]*r;return e=n[1]+e[2]*t[1]*r,lt(s,e,s+t[0]*r,e+t[1]*r,i)}function pi(t,e,i,n,r,s){var o=gi(t,n),a=n/t.R(o),h=t.Ba(o);return t=ni(mi(t,o),t.i),e=a*Math.floor((e-h[0])/n+(r?.5:0))/t[0],i=a*Math.floor((i-h[1])/n+(r?0:.5))/t[1],r?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),r=e,void 0!==s?(s[0]=o,s[1]=r,s[2]=i):s=[o,r,i],s}function di(t,e,i,n){return i=t.R(i),pi(t,e[0],e[1],i,!1,n)}function mi(t,e){return t.h?t.h:t.f[e]}function gi(t,e,i){return e=W(t.a,e,i||0),f(e,t.minZoom,t.maxZoom)}function vi(t,e){for(var i=t.a.length,n=Array(i),r=t.minZoom;i>r;++r)n[r]=ui(t,e,r);t.c=n}function yi(t){var e=t.g;if(!e){var e=xi(t),i=wi(e,void 0,void 0),e=new oi({extent:e,origin:Mt(e),resolutions:i,tileSize:void 0});t.g=e}return e}function bi(t){var e={};return Kh(e,void 0!==t?t:{}),void 0===e.extent&&(e.extent=Dt("EPSG:3857").D()),e.resolutions=wi(e.extent,e.maxZoom,e.tileSize),delete e.maxZoom,new oi(e)}function wi(t,e,i){e=void 0!==e?e:42;var n=wt(t);for(t=St(t),i=ni(void 0!==i?i:256),i=Math.max(t/i[0],n/i[1]),e+=1,n=Array(e),t=0;e>t;++t)n[t]=i/Math.pow(2,t);return n}function xi(t){t=Dt(t);var e=t.D();return e||(t=180*tl.degrees/t.Aa(),e=lt(-t,-t,t,t)),e}function Mi(t){ri.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.V=void 0!==t.opaque?t.opaque:!1,this.ca=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new Je(t.cacheSize),this.b=[0,0],this.Ka=""}function Si(t,e,i,n,r){if(e=t.Za(e),!e)return!1;for(var s,o,a=!0,h=n.G;h<=n.H;++h)for(var l=n.I;l<=n.J;++l)s=t.Ha(i,h,l),o=!1,e.b.hasOwnProperty(s)&&(s=e.get(s),(o=2===s.aa())&&(o=!1!==r(s))),o||(a=!1);return a}function ki(t,e){t.Ka!==e&&(t.Ka=e,t.c())}function Ci(t,e,i,n){return n=t.na(n),i=t.ib(i),e=ni(mi(n,e),t.b),1==i?e:ii(e,i,t.b)}function Pi(t,e,i){var n=void 0!==i?i:t.f;if(i=t.na(n),t.A&&n.b){var r=e;e=r[0],t=ci(i,r);var n=xi(n),s=t[0],o=t[1];n[0]<=s&&s<=n[2]&&n[1]<=o&&o<=n[3]?e=r:(r=St(n),t[0]+=r*Math.ceil((n[0]-t[0])/r),e=di(i,t,e))}return n=e[0],t=e[1],r=e[2],i=i.minZoom>n||n>i.maxZoom?!1:(i=(s=i.D())?ui(i,s,n):i.c?i.c[n]:null)?Le(i,t,r):!0,i?e:null}function Ti(t,e){A.call(this,t),this.tile=e}function _i(t){t=t?t:{},this.A=document.createElement("UL"),this.j=document.createElement("LI"),this.A.appendChild(this.j),this.j.style.display="none",this.b=void 0!==t.collapsed?t.collapsed:!0,this.f=void 0!==t.collapsible?t.collapsible:!0,this.f||(this.b=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"»";"string"==typeof n?(this.h=document.createElement("span"),this.h.textContent=n):this.h=n,n=void 0!==t.label?t.label:"i","string"==typeof n?(this.l=document.createElement("span"),this.l.textContent=n):this.l=n;var r=this.f&&!this.b?this.h:this.l,n=document.createElement("button");n.setAttribute("type","button"),n.title=i,n.appendChild(r),C(n,"click",this.L,this),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control"+(this.b&&this.f?" ol-collapsed":"")+(this.f?"":" ol-uncollapsible"),i.appendChild(this.A),i.appendChild(n),Ye.call(this,{element:i,render:t.render?t.render:ji,target:t.target}),this.v=!0,this.g={},this.a={},this.B={}}function ji(t){if(t=t.frameState){var e,i,n,r,s,a,h,l,u,c,f,d=t.layerStatesArray,m=Kh({},t.attributions),g={},v=t.viewState.projection;for(i=0,e=d.length;e>i;i++)if((a=d[i].layer.Z())&&(c=o(a).toString(),u=a.X))for(n=0,r=u.length;r>n;n++)if(h=u[n],l=o(h).toString(),!(l in m)){if(s=t.usedTiles[c]){var y=a.na(v);t:{f=h;var w=v;if(f.a){var x,M,S,k=void 0;for(k in s)if(k in f.a){S=s[k];var C;for(x=0,M=f.a[k].length;M>x;++x){if(C=f.a[k][x],Oe(C,S)){f=!0;break t}var P=ui(y,xi(w),parseInt(k,10)),T=P.H-P.G+1;if((S.G<P.G||S.H>P.H)&&(Oe(C,new Ne(p(S.G,T),p(S.H,T),S.I,S.J))||S.H-S.G+1>T&&Oe(C,P))){f=!0;break t}}}f=!1}else f=!0}}else f=!1;f?(l in g&&delete g[l],m[l]=h):g[l]=h}e=[m,g],i=e[0],e=e[1];for(var _ in this.g)_ in i?(this.a[_]||(this.g[_].style.display="",this.a[_]=!0),delete i[_]):_ in e?(this.a[_]&&(this.g[_].style.display="none",delete this.a[_]),delete e[_]):(Xe(this.g[_]),delete this.g[_],delete this.a[_]);for(_ in i)n=document.createElement("LI"),n.innerHTML=i[_].c,this.A.appendChild(n),this.g[_]=n,this.a[_]=!0;for(_ in e)n=document.createElement("LI"),n.innerHTML=e[_].c,n.style.display="none",this.A.appendChild(n),this.g[_]=n;_=!b(this.a)||!b(t.logos),this.v!=_&&(this.element.style.display=_?"":"none",this.v=_),_&&b(this.a)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var j;t=t.logos,_=this.B;for(j in _)j in t||(Xe(_[j]),delete _[j]);for(var A in t)e=t[A],e instanceof HTMLElement&&(this.j.appendChild(e),_[A]=e),A in _||(j=new Image,j.src=A,""===e?i=j:(i=document.createElement("a"),i.href=e,i.appendChild(j)),this.j.appendChild(i),_[A]=i);this.j.style.display=b(t)?"none":""}else this.v&&(this.element.style.display="none",this.v=!1)}function Ai(t){if(t.element.classList.toggle("ol-collapsed"),t.b){var e=t.l,i=e.parentNode;i&&i.replaceChild(t.h,e)}else e=t.h,(i=e.parentNode)&&i.replaceChild(t.l,e);t.b=!t.b}function Ii(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"⇧";this.a=null,"string"==typeof i?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=i):(this.a=i,this.a.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation",i=document.createElement("button");i.className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.a),C(i,"click",Ii.prototype.j,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:Ei,this.g=t.resetNorth?t.resetNorth:void 0,Ye.call(this,{element:n,render:e,target:t.target}),this.f=void 0!==t.duration?t.duration:250,this.b=void 0!==t.autoHide?t.autoHide:!0,this.h=void 0,this.b&&this.element.classList.add("ol-hidden")}function Ei(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.h){var e="rotate("+t+"rad)";if(this.b){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=e,this.a.style.webkitTransform=e,this.a.style.transform=e}this.h=t}}function Ni(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",r=void 0!==t.zoomOutLabel?t.zoomOutLabel:"−",s=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",o=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",a=document.createElement("button");a.className=e+"-in",a.setAttribute("type","button"),a.title=s,a.appendChild("string"==typeof n?document.createTextNode(n):n),C(a,"click",Ni.prototype.b.bind(this,i)),n=document.createElement("button"),n.className=e+"-out",n.setAttribute("type","button"),n.title=o,n.appendChild("string"==typeof r?document.createTextNode(r):r),C(n,"click",Ni.prototype.b.bind(this,-i)),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control",i.appendChild(a),i.appendChild(n),Ye.call(this,{element:i,target:t.target}),this.a=void 0!==t.duration?t.duration:250}function Li(t){t=t?t:{};var e=new qe;return(void 0!==t.zoom?t.zoom:1)&&e.push(new Ni(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new Ii(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new _i(t.attributionOptions)),e}function Oi(){var t=Hh.MessageChannel;if("undefined"==typeof t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&-1==sl.indexOf("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow,t=e.document;t.open(),t.write(""),t.close();var i="callImmediate"+Math.random(),n="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host,t=l(function(t){"*"!=n&&t.origin!=n||t.data!=i||this.port1.onmessage()},this);e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(i,n)}}}),"undefined"!=typeof t&&-1==sl.indexOf("Trident")&&-1==sl.indexOf("MSIE")){var e=new t,i={},n=i;return e.port1.onmessage=function(){if(void 0!==i.next){i=i.next;var t=i.uc;i.uc=null,t()}},function(t){n.next={uc:t},n=n.next,e.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){Hh.setTimeout(t,0)}}function Di(t,e,i){A.call(this,t),this.a=e,t=i?i:{},this.buttons=Ri(t),this.pressure=qi(t,this.buttons),this.bubbles="bubbles"in t?t.bubbles:!1,this.cancelable="cancelable"in t?t.cancelable:!1,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t?t.isPrimary:!1,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function Ri(t){if(t.buttons||ml)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function qi(t,e){var i=0;return i=t.pressure?t.pressure:e?.5:0}function Fi(t,e){this.a=t,this.g=e}function zi(t){Fi.call(this,t,{mousedown:this.Re,mousemove:this.Se,mouseup:this.Ve,mouseover:this.Ue,mouseout:this.Te}),this.c=t.c,this.b=[]}function Wi(t,e){for(var i,n=t.b,r=e.clientX,s=e.clientY,o=0,a=n.length;a>o&&(i=n[o]);o++){var h=Math.abs(s-i[1]);if(25>=Math.abs(r-i[0])&&25>=h)return!0}return!1}function Gi(t){var e=tn(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function Bi(t){Fi.call(this,t,{MSPointerDown:this.$e,MSPointerMove:this.af,MSPointerUp:this.df,MSPointerOut:this.bf,MSPointerOver:this.cf,MSPointerCancel:this.Ze,MSGotPointerCapture:this.Xe,MSLostPointerCapture:this.Ye}),this.c=t.c,this.b=["","unavailable","touch","pen","mouse"]}function $i(t,e){var i=e;return r(e.pointerType)&&(i=tn(e,e),i.pointerType=t.b[e.pointerType]),i}function Hi(t){Fi.call(this,t,{pointerdown:this.vf,pointermove:this.wf,pointerup:this.zf,pointerout:this.xf,pointerover:this.yf,pointercancel:this.uf,gotpointercapture:this.oe,lostpointercapture:this.Qe})}function Vi(t,e){Fi.call(this,t,{touchstart:this.cg,touchmove:this.bg,touchend:this.ag,touchcancel:this.$f}),this.c=t.c,this.h=e,this.b=void 0,this.f=0,this.i=void 0}function Xi(t,e,i){return e=tn(e,i),e.pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.f,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.b===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function Ui(t,e,i){function n(){e.preventDefault()}var r,s,o=Array.prototype.slice.call(e.changedTouches),a=o.length;for(r=0;a>r;++r)s=Xi(t,e,o[r]),s.preventDefault=n,i.call(t,e,s)}function Yi(t,e){var i=t.h.b,n=e.changedTouches[0];if(t.b===n.identifier){var r=[n.clientX,n.clientY];i.push(r),Uh.setTimeout(function(){$(i,r)},2500)}}function Ki(t){E.call(this),this.g=t,this.c={},this.i={},this.a=[],Cl?Ji(this,new Hi(this)):Pl?Ji(this,new Bi(this)):(t=new zi(this),Ji(this,t),kl&&Ji(this,new Vi(this,t))),t=this.a.length;for(var e,i=0;t>i;i++)e=this.a[i],Zi(this,Object.keys(e.g))}function Ji(t,e){var i=Object.keys(e.g);i&&(i.forEach(function(t){var i=e.g[t];i&&(this.i[t]=i.bind(e))},t),t.a.push(e))}function Zi(t,e){e.forEach(function(t){C(this.g,t,this.b,this)},t)}function Qi(t,e){e.forEach(function(t){P(this.g,t,this.b,this)},t)}function tn(t,e){for(var i,n={},r=0,s=Ol.length;s>r;r++)i=Ol[r][0],n[i]=t[i]||e[i]||Ol[r][1];return n}function en(t,e,i){t.out(e,i);var n=e.target,r=e.relatedTarget;n&&r&&n.contains(r)||(e.bubbles=!1,rn(t,Nl,e,i))}function nn(t,e,i){e.bubbles=!0,rn(t,Al,e,i);var n=e.target,r=e.relatedTarget;n&&r&&n.contains(r)||(e.bubbles=!1,rn(t,El,e,i))}function rn(t,e,i,n){N(t,new Di(e,n,i))}function sn(t,e){N(t,new Di(e.type,e,e))}function on(t,e,i,n,r){Ue.call(this,t,e,r),this.originalEvent=i,t=e.a.getBoundingClientRect(),i=i.changedTouches?i.changedTouches[0]:i,this.pixel=[i.clientX-t.left,i.clientY-t.top],this.coordinate=e.ra(this.pixel),this.dragging=void 0!==n?n:!1}function an(t,e,i,n,r){on.call(this,t,e,i.a,n,r),this.a=i}function hn(t){E.call(this),this.b=t,this.f=0,this.h=!1,this.i=[],this.c=null,t=this.b.a,this.o=0,this.l={},this.g=new Ki(t),this.a=null,this.s=C(this.g,_l,this.Ce,this),this.j=C(this.g,Tl,this.Rf,this)}function ln(t,e){var i;i=new an(Rl,t.b,e),N(t,i),0!==t.f?(Uh.clearTimeout(t.f),t.f=0,i=new an(ql,t.b,e),N(t,i)):t.f=Uh.setTimeout(function(){this.f=0;var t=new an(Dl,this.b,e);N(this,t)}.bind(t),250)}function un(t,e){e.type==Gl||e.type==Bl?delete t.l[e.pointerId]:e.type==Wl&&(t.l[e.pointerId]=!0),t.o=Object.keys(t.l).length}function cn(t){R.call(this);var e=Kh({},t);e.opacity=void 0!==t.opacity?t.opacity:1,e.visible=void 0!==t.visible?t.visible:!0,e.zIndex=void 0!==t.zIndex?t.zIndex:0,e.maxResolution=void 0!==t.maxResolution?t.maxResolution:1/0,e.minResolution=void 0!==t.minResolution?t.minResolution:0,F(this,e)}function fn(t){var e=t.get("opacity"),i=t.Pb(),n=t.b(),r=t.D(),s=t.get("zIndex"),o=t.get("maxResolution"),a=t.get("minResolution");return{layer:t,opacity:f(e,0,1),Zf:i,visible:n,Tb:!0,extent:r,zIndex:s,maxResolution:o,minResolution:Math.max(a,0)}}function pn(){}function dn(t,e,i,n,r,s){A.call(this,t,e),this.vectorContext=i,this.frameState=n,this.context=r,this.glContext=s}function mn(t){var e=Kh({},t);delete e.source,cn.call(this,e),this.f=this.g=this.a=null,t.map&&this.setMap(t.map),C(this,q("source"),this.Ie,this),this.set("source",t.source?t.source:null)}function gn(t,e,i,n,r,s,o,a){if(t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,0===e&&0===i||Yt(t,e,i),1!=n||1!=r){e=t[1]*n,i=t[2]*n;var h=t[3]*n,l=t[4]*r,u=t[5]*r,c=t[6]*r;r=t[7]*r;var f=1*t[8],p=1*t[9],d=1*t[10],m=1*t[11],g=t[12],v=t[13],y=t[14],b=t[15];t[0]*=n,t[1]=e,t[2]=i,t[3]=h,t[4]=l,t[5]=u,t[6]=c,t[7]=r,t[8]=f,t[9]=p,t[10]=d,t[11]=m,t[12]=g,t[13]=v,t[14]=y,t[15]=b}return 0!==s&&(n=t[0],e=t[1],i=t[2],h=t[3],l=t[4],u=t[5],c=t[6],r=t[7],f=Math.cos(s),s=Math.sin(s),t[0]=n*f+l*s,t[1]=e*f+u*s,t[2]=i*f+c*s,t[3]=h*f+r*s,t[4]=n*-s+l*f,t[5]=e*-s+u*f,t[6]=i*-s+c*f,t[7]=h*-s+r*f),0===o&&0===a||Yt(t,o,a),t}function vn(t,e,i){var n=t[1],r=t[5],s=t[13],o=e[0];return e=e[1],i[0]=t[0]*o+t[4]*e+t[12],i[1]=n*o+r*e+s,i}function yn(t){O.call(this),this.a=t}function bn(t,e,i){return function(n,r){return Si(t,e,n,r,function(t){i[n]||(i[n]={}),i[n][t.pa.toString()]=t})}}function wn(t,e){e.Uc()&&t.postRenderFunctions.push(function(t,e,i){e=o(t).toString(),t.Fa(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function xn(t,e){if(e){var i,n,r;for(n=0,r=e.length;r>n;++n)i=e[n],t[o(i).toString()]=i}}function Mn(t,e){var i=e.fa;void 0!==i&&("string"==typeof i?t.logos[i]="":s(i)&&(t.logos[i.src]=i.href))}function Sn(t,e,i,n){e=o(e).toString(),i=i.toString(),
e in t?i in t[e]?(t=t[e][i],n.G<t.G&&(t.G=n.G),n.H>t.H&&(t.H=n.H),n.I<t.I&&(t.I=n.I),n.J>t.J&&(t.J=n.J)):t[e][i]=n:(t[e]={},t[e][i]=n)}function kn(t,e,i){return[e*(Math.round(t[0]/e)+i[0]%2/2),e*(Math.round(t[1]/e)+i[1]%2/2)]}function Cn(t,e,i,n,r,s,a,h){var l=o(e).toString();l in t.wantedTiles||(t.wantedTiles[l]={});var u=t.wantedTiles[l];t=t.tileQueue;var c,f,p,d,m,g,v=i.minZoom;for(g=a;g>=v;--g)for(f=ui(i,s,g,f),p=i.R(g),d=f.G;d<=f.H;++d)for(m=f.I;m<=f.J;++m)h>=a-g?(c=_h(e,g,d,m,n,r),0==c.aa()&&(u[c.pa.toString()]=!0,c.getKey()in t.b||t.h([c,l,ci(i,c.pa),p]))):e.od(g,d,m,r)}function Pn(t){this.l=t.opacity,this.o=t.rotateWithView,this.T=t.rotation,this.w=t.scale,this.P=t.snapToPixel}function Tn(t){t=t||{},this.g=void 0!==t.anchor?t.anchor:[.5,.5],this.i=null,this.c=void 0!==t.anchorOrigin?t.anchorOrigin:"top-left",this.h=void 0!==t.anchorXUnits?t.anchorXUnits:"fraction",this.s=void 0!==t.anchorYUnits?t.anchorYUnits:"fraction";var e=void 0!==t.crossOrigin?t.crossOrigin:null,i=void 0!==t.img?t.img:null,n=void 0!==t.imgSize?t.imgSize:null,r=t.src;void 0!==r&&0!==r.length||!i||(r=i.src||o(i).toString());var s,a=void 0!==t.src?0:2;void 0!==t.color?(s=t.color,s=Array.isArray(s)?s:ll(s)):s=null;var h=An.Ic(),l=h.get(r,e,s);l||(l=new _n(i,r,n,e,a,s),h.set(r,e,s,l)),this.a=l,this.U=void 0!==t.offset?t.offset:[0,0],this.b=void 0!==t.offsetOrigin?t.offsetOrigin:"top-left",this.f=null,this.j=void 0!==t.size?t.size:null,Pn.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0,rotateWithView:void 0!==t.rotateWithView?t.rotateWithView:!1})}function _n(t,e,i,n,r,s){E.call(this),this.h=null,this.a=t?t:new Image,null!==n&&(this.a.crossOrigin=n),this.i=s?document.createElement("CANVAS"):null,this.f=s,this.g=null,this.b=r,this.c=i,this.l=e,this.s=!1,2==this.b&&jn(this)}function jn(t){var e=Ve(1,1);try{e.drawImage(t.a,0,0),e.getImageData(0,0,1,1)}catch(i){t.s=!0}}function An(){this.a={},this.c=0}function In(t,e){this.f=e,this.c={},this.i={}}function En(){var t=An.Ic();if(32<t.c){var e,i,n=0;for(e in t.a)i=t.a[e],0!==(3&n++)||L(i)||(delete t.a[e],--t.c)}}function Nn(t,e){var i=o(e).toString();if(i in t.c)return t.c[i];var n;return n=e instanceof Wr?new wo(e):e instanceof is?new xo(e):null,t.c[i]=n,t.i[i]=C(n,"change",t.we,t),n}function Ln(t,e){return t.zIndex-e.zIndex}function On(t,e){this.j=t,this.f=e,this.a=[],this.c=[],this.b={}}function Dn(t,e){for(var i=t.a,n=t.c,r=i.length,s=i[e],o=n[e],a=e;r>>1>e;){var h=2*e+1,l=2*e+2,h=r>l&&n[l]<n[h]?l:h;i[e]=i[h],n[e]=n[h],e=h}i[e]=s,n[e]=o,Rn(t,a,e)}function Rn(t,e,i){var n=t.a;t=t.c;for(var r=n[i],s=t[i];i>e;){var o=i-1>>1;if(!(t[o]>s))break;n[i]=n[o],t[i]=t[o],i=o}n[i]=r,t[i]=s}function qn(t,e){On.call(this,function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.l=e,this.g=0,this.i={}}function Fn(){this.a=[],this.c=this.b=0}function zn(t,e){var i=t.c,n=.05-i,r=Math.log(.05/t.c)/-.005;return Ae({source:e,duration:r,easing:function(t){return i*(Math.exp(-.005*t*r)-1)/n}})}function Wn(t){R.call(this),this.w=null,this.set("active",!0),this.handleEvent=t.handleEvent}function Gn(t,e,i,n,r){if(void 0!==i){var s=ke(e),o=e.la();void 0!==s&&o&&r&&r>0&&(t.ka(Ie({rotation:s,duration:r,easing:Te})),n&&t.ka(Ae({source:o,duration:r,easing:Te}))),e.rotate(i,n)}}function Bn(t,e,i,n,r){var s=e.R();i=e.constrainResolution(s,i,0),$n(t,e,i,n,r)}function $n(t,e,i,n,r){if(i){var s=e.R(),o=e.la();if(void 0!==s&&o&&i!==s&&r&&r>0&&(t.ka(Ee({resolution:s,duration:r,easing:Te})),n&&t.ka(Ae({source:o,duration:r,easing:Te}))),n){var a;t=e.la(),r=e.R(),void 0!==t&&void 0!==r&&(a=[n[0]-i*(n[0]-t[0])/r,n[1]-i*(n[1]-t[1])/r]),e.ta(a)}Pe(e,i)}}function Hn(t){t=t?t:{},this.a=t.delta?t.delta:1,Wn.call(this,{handleEvent:Vn}),this.b=void 0!==t.duration?t.duration:250}function Vn(t){var e=!1,i=t.originalEvent;if(t.type==ql){var e=t.map,n=t.coordinate,i=i.shiftKey?-this.a:this.a,r=e.S();Bn(e,r,i,n,this.b),t.preventDefault(),e=!0}return!e}function Xn(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Un(t){return t=t.originalEvent,0==t.button&&!(fl&&bl&&t.ctrlKey)}function Yn(t){return t.type==Dl}function Kn(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function Jn(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function Zn(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function Qn(t){return"mouse"==t.a.pointerType}function tr(t){return t=t.a,t.isPrimary&&0===t.button}function er(t){t=t?t:{},Wn.call(this,{handleEvent:t.handleEvent?t.handleEvent:nr}),this.Bb=t.handleDownEvent?t.handleDownEvent:Pt,this.yb=t.handleDragEvent?t.handleDragEvent:c,this.Db=t.handleMoveEvent?t.handleMoveEvent:c,this.Eb=t.handleUpEvent?t.handleUpEvent:Pt,this.o=!1,this.X={},this.g=[]}function ir(t){for(var e=t.length,i=0,n=0,r=0;e>r;r++)i+=t[r].clientX,n+=t[r].clientY;return[i/e,n/e]}function nr(t){if(!(t instanceof an))return!0;var e=!1,i=t.type;return(i===Wl||i===Fl||i===Gl)&&(i=t.a,t.type==Gl?delete this.X[i.pointerId]:t.type==Wl?this.X[i.pointerId]=i:i.pointerId in this.X&&(this.X[i.pointerId]=i),this.g=y(this.X)),this.o&&(t.type==Fl?this.yb(t):t.type==Gl&&(this.o=this.Eb(t))),t.type==Wl?(this.o=t=this.Bb(t),e=this.C(t)):t.type==zl&&this.Db(t),!e}function rr(t){er.call(this,{handleDownEvent:ar,handleDragEvent:sr,handleUpEvent:or}),t=t?t:{},this.a=t.kinetic,this.b=this.f=null,this.j=t.condition?t.condition:Kn,this.h=!1}function sr(t){var e=ir(this.g);if(this.a&&this.a.a.push(e[0],e[1],Date.now()),this.b){var i=this.b[0]-e[0],n=e[1]-this.b[1];t=t.map;var r=t.S(),s=r.aa(),n=i=[i,n],o=s.resolution;n[0]*=o,n[1]*=o,it(i,s.rotation),Q(i,s.center),i=r.a.center(i),t.render(),r.ta(i)}this.b=e}function or(t){t=t.map;var e=t.S();if(0===this.g.length){var i;if(i=!this.h&&this.a)if(i=this.a,6>i.a.length)i=!1;else{var n=Date.now()-100,r=i.a.length-3;if(i.a[r+2]<n)i=!1;else{for(var s=r-3;s>0&&i.a[s+2]>n;)s-=3;var n=i.a[r+2]-i.a[s+2],o=i.a[r]-i.a[s],r=i.a[r+1]-i.a[s+1];i.b=Math.atan2(r,o),i.c=Math.sqrt(o*o+r*r)/n,i=.05<i.c}}return i&&(i=(.05-this.a.c)/-.005,r=this.a.b,s=e.la(),this.f=zn(this.a,s),t.ka(this.f),s=No(t,s),i=t.ra([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]),i=e.a.center(i),e.ta(i)),Ce(e,-1),t.render(),!1}return this.b=null,!0}function ar(t){if(0<this.g.length&&this.j(t)){var e=t.map,i=e.S();return this.b=null,this.o||Ce(i,1),e.render(),this.f&&$(e.A,this.f)&&(i.ta(t.frameState.viewState.center),this.f=null),this.a&&(t=this.a,t.a.length=0,t.b=0,t.c=0),this.h=1<this.g.length,!0}return!1}function hr(t){t=t?t:{},er.call(this,{handleDownEvent:cr,handleDragEvent:lr,handleUpEvent:ur}),this.b=t.condition?t.condition:Xn,this.a=void 0,this.f=void 0!==t.duration?t.duration:250}function lr(t){if(Qn(t)){var e=t.map,i=e.Ma();if(t=t.pixel,i=Math.atan2(i[1]/2-t[1],t[0]-i[0]/2),void 0!==this.a){t=i-this.a;var n=e.S(),r=ke(n);e.render(),Gn(e,n,r-t)}this.a=i}}function ur(t){if(!Qn(t))return!0;t=t.map;var e=t.S();Ce(e,-1);var i=ke(e),n=this.f,i=e.constrainRotation(i,0);return Gn(t,e,i,void 0,n),!1}function cr(t){return Qn(t)&&Un(t)&&this.b(t)?(t=t.map,Ce(t.S(),1),t.render(),this.a=void 0,!0):!1}function fr(t){this.i=null,this.c=document.createElement("div"),this.c.style.position="absolute",this.c.className="ol-box "+t,this.b=this.g=this.a=null}function pr(t){var e=t.g,i=t.b;t=t.c.style,t.left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function dr(t){var e=t.g,i=t.b,e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.a.ra,t.a);e[4]=e[0].slice(),t.i?t.i.O([e]):t.i=new ve([e])}function mr(t,e,i){A.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function gr(t){er.call(this,{handleDownEvent:wr,handleDragEvent:yr,handleUpEvent:br}),t=t?t:{},this.a=new fr(t.className||"ol-dragbox"),this.b=null,this.l=t.condition?t.condition:Ct,this.j=t.boxEndCondition?t.boxEndCondition:vr}function vr(t,e,i){return t=i[0]-e[0],e=i[1]-e[1],t*t+e*e>=64}function yr(t){if(Qn(t)){var e=this.a,i=t.pixel;e.g=this.b,e.b=i,dr(e),pr(e),N(this,new mr("boxdrag",t.coordinate,t))}}function br(t){return Qn(t)?(this.a.setMap(null),this.j(t,this.b,t.pixel)&&(this.h(t),N(this,new mr("boxend",t.coordinate,t))),!1):!0}function wr(t){if(Qn(t)&&Un(t)&&this.l(t)){this.b=t.pixel,this.a.setMap(t.map);var e=this.a,i=this.b;return e.g=this.b,e.b=i,dr(e),pr(e),N(this,new mr("boxstart",t.coordinate,t)),!0}return!1}function xr(t){t=t?t:{};var e=t.condition?t.condition:Jn;this.f=void 0!==t.duration?t.duration:200,this.v=void 0!==t.out?t.out:!1,gr.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function Mr(t){Wn.call(this,{handleEvent:Sr}),t=t||{},this.a=function(t){return Kn(t)&&Zn(t)},this.b=void 0!==t.condition?t.condition:this.a,this.g=void 0!==t.duration?t.duration:100,this.f=void 0!==t.pixelDelta?t.pixelDelta:128}function Sr(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.b(t)&&(40==i||37==i||39==i||38==i)){var n=t.map,e=n.S(),r=e.R()*this.f,s=0,o=0;40==i?o=-r:37==i?s=-r:39==i?s=r:o=r,i=[s,o],it(i,ke(e)),r=this.g,(s=e.la())&&(r&&r>0&&n.ka(Ae({source:s,duration:r,easing:je})),n=e.a.center([s[0]+i[0],s[1]+i[1]]),e.ta(n)),t.preventDefault(),e=!0}}return!e}function kr(t){Wn.call(this,{handleEvent:Cr}),t=t?t:{},this.b=t.condition?t.condition:Zn,this.a=t.delta?t.delta:1,this.g=void 0!==t.duration?t.duration:100}function Cr(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;if(this.b(t)&&(43==i||45==i)){e=t.map,i=43==i?this.a:-this.a,e.render();var n=e.S();Bn(e,n,i,void 0,this.g),t.preventDefault(),e=!0}}return!e}function Pr(t){Wn.call(this,{handleEvent:Tr}),t=t||{},this.a=0,this.j=void 0!==t.duration?t.duration:250,this.l=void 0!==t.useAnchor?t.useAnchor:!0,this.g=null,this.f=this.b=void 0}function Tr(t){var e=!1;if("wheel"==t.type||"mousewheel"==t.type){var e=t.map,i=t.originalEvent;this.l&&(this.g=t.coordinate);var n;"wheel"==t.type?(n=i.deltaY,vl&&i.deltaMode===Uh.WheelEvent.DOM_DELTA_PIXEL&&(n/=wl),i.deltaMode===Uh.WheelEvent.DOM_DELTA_LINE&&(n*=40)):"mousewheel"==t.type&&(n=-i.wheelDeltaY,yl&&(n/=3)),this.a+=n,void 0===this.b&&(this.b=Date.now()),n=Math.max(80-(Date.now()-this.b),0),Uh.clearTimeout(this.f),this.f=Uh.setTimeout(this.h.bind(this,e),n),t.preventDefault(),e=!0}return!e}function _r(t){er.call(this,{handleDownEvent:Ir,handleDragEvent:jr,handleUpEvent:Ar}),t=t||{},this.b=null,this.f=void 0,this.a=!1,this.h=0,this.l=void 0!==t.threshold?t.threshold:.3,this.j=void 0!==t.duration?t.duration:250}function jr(t){var e=0,i=this.g[0],n=this.g[1],i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);void 0!==this.f&&(e=i-this.f,this.h+=e,!this.a&&Math.abs(this.h)>this.l&&(this.a=!0)),this.f=i,t=t.map,i=t.a.getBoundingClientRect(),n=ir(this.g),n[0]-=i.left,n[1]-=i.top,this.b=t.ra(n),this.a&&(i=t.S(),n=ke(i),t.render(),Gn(t,i,n+e,this.b))}function Ar(t){if(2>this.g.length){t=t.map;var e=t.S();if(Ce(e,-1),this.a){var i=ke(e),n=this.b,r=this.j,i=e.constrainRotation(i,0);Gn(t,e,i,n,r)}return!1}return!0}function Ir(t){return 2<=this.g.length?(t=t.map,this.b=null,this.f=void 0,this.a=!1,this.h=0,this.o||Ce(t.S(),1),t.render(),!0):!1}function Er(t){er.call(this,{handleDownEvent:Or,handleDragEvent:Nr,handleUpEvent:Lr}),t=t?t:{},this.b=null,this.h=void 0!==t.duration?t.duration:400,this.a=void 0,this.f=1}function Nr(t){var e=1,i=this.g[0],n=this.g[1],r=i.clientX-n.clientX,i=i.clientY-n.clientY,r=Math.sqrt(r*r+i*i);void 0!==this.a&&(e=this.a/r),this.a=r,1!=e&&(this.f=e),t=t.map;var r=t.S(),i=r.R(),n=t.a.getBoundingClientRect(),s=ir(this.g);s[0]-=n.left,s[1]-=n.top,this.b=t.ra(s),t.render(),$n(t,r,i*e,this.b)}function Lr(t){if(2>this.g.length){t=t.map;var e=t.S();Ce(e,-1);var i=e.R(),n=this.b,r=this.h,i=e.constrainResolution(i,0,this.f-1);return $n(t,e,i,n,r),!1}return!0}function Or(t){return 2<=this.g.length?(t=t.map,this.b=null,this.a=void 0,this.f=1,this.o||Ce(t.S(),1),t.render(),!0):!1}function Dr(t){var e=t||{};t=Kh({},e),delete t.layers,e=e.layers,cn.call(this,t),this.g=[],this.a={},C(this,q("layers"),this.ye,this),e?Array.isArray(e)&&(e=new qe(e.slice())):e=new qe,this.set("layers",e)}function Rr(t){jt.call(this,{code:t,units:"m",extent:Vl,global:!0,worldExtent:Xl})}function qr(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n));for(var r=0;n>r;r+=i)e[r]=6378137*Math.PI*t[r]/180,e[r+1]=6378137*Math.log(Math.tan(Math.PI*(t[r+1]+90)/360));return e}function Fr(t,e,i){var n=t.length;i=i>1?i:2,void 0===e&&(e=i>2?t.slice():Array(n));for(var r=0;n>r;r+=i)e[r]=180*t[r]/(6378137*Math.PI),e[r+1]=360*Math.atan(Math.exp(t[r+1]/6378137))/Math.PI-90;return e}function zr(t,e){jt.call(this,{code:t,units:"degrees",extent:Kl,axisOrientation:e,global:!0,metersPerUnit:Jl,worldExtent:Kl})}function Wr(t){t=t?t:{};var e=Kh({},t);delete e.preload,delete e.useInterimTilesOnError,mn.call(this,e),this.set("preload",void 0!==t.preload?t.preload:0),this.set("useInterimTilesOnError",void 0!==t.useInterimTilesOnError?t.useInterimTilesOnError:!0)}function Gr(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function Br(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.c=void 0}function $r(){this.c=-1}function Hr(){this.c=64,this.a=Array(4),this.g=Array(this.c),this.a[0]=1732584193,this.a[1]=4023233417,this.a[2]=2562383102,this.a[3]=271733878,this.i=this.b=0}function Vr(t,e,i){i||(i=0);var n=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)n[r]=e.charCodeAt(i++)|e.charCodeAt(i++)<<8|e.charCodeAt(i++)<<16|e.charCodeAt(i++)<<24;else for(r=0;16>r;++r)n[r]=e[i++]|e[i++]<<8|e[i++]<<16|e[i++]<<24;e=t.a[0],i=t.a[1];var s,r=t.a[2],o=t.a[3];s=e+(o^i&(r^o))+n[0]+3614090360&4294967295,e=i+(s<<7&4294967295|s>>>25),s=o+(r^e&(i^r))+n[1]+3905402710&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(i^o&(e^i))+n[2]+606105819&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(e^r&(o^e))+n[3]+3250441966&4294967295,i=r+(s<<22&4294967295|s>>>10),s=e+(o^i&(r^o))+n[4]+4118548399&4294967295,e=i+(s<<7&4294967295|s>>>25),s=o+(r^e&(i^r))+n[5]+1200080426&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(i^o&(e^i))+n[6]+2821735955&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(e^r&(o^e))+n[7]+4249261313&4294967295,i=r+(s<<22&4294967295|s>>>10),s=e+(o^i&(r^o))+n[8]+1770035416&4294967295,e=i+(s<<7&4294967295|s>>>25),s=o+(r^e&(i^r))+n[9]+2336552879&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(i^o&(e^i))+n[10]+4294925233&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(e^r&(o^e))+n[11]+2304563134&4294967295,i=r+(s<<22&4294967295|s>>>10),s=e+(o^i&(r^o))+n[12]+1804603682&4294967295,e=i+(s<<7&4294967295|s>>>25),s=o+(r^e&(i^r))+n[13]+4254626195&4294967295,o=e+(s<<12&4294967295|s>>>20),s=r+(i^o&(e^i))+n[14]+2792965006&4294967295,r=o+(s<<17&4294967295|s>>>15),s=i+(e^r&(o^e))+n[15]+1236535329&4294967295,i=r+(s<<22&4294967295|s>>>10),s=e+(r^o&(i^r))+n[1]+4129170786&4294967295,e=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(e^i))+n[6]+3225465664&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^i&(o^e))+n[11]+643717713&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^e&(r^o))+n[0]+3921069994&4294967295,i=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(i^r))+n[5]+3593408605&4294967295,e=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(e^i))+n[10]+38016083&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^i&(o^e))+n[15]+3634488961&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^e&(r^o))+n[4]+3889429448&4294967295,i=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(i^r))+n[9]+568446438&4294967295,e=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(e^i))+n[14]+3275163606&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^i&(o^e))+n[3]+4107603335&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^e&(r^o))+n[8]+1163531501&4294967295,i=r+(s<<20&4294967295|s>>>12),s=e+(r^o&(i^r))+n[13]+2850285829&4294967295,e=i+(s<<5&4294967295|s>>>27),s=o+(i^r&(e^i))+n[2]+4243563512&4294967295,o=e+(s<<9&4294967295|s>>>23),s=r+(e^i&(o^e))+n[7]+1735328473&4294967295,r=o+(s<<14&4294967295|s>>>18),s=i+(o^e&(r^o))+n[12]+2368359562&4294967295,i=r+(s<<20&4294967295|s>>>12),s=e+(i^r^o)+n[5]+4294588738&4294967295,e=i+(s<<4&4294967295|s>>>28),s=o+(e^i^r)+n[8]+2272392833&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^i)+n[11]+1839030562&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^e)+n[14]+4259657740&4294967295,i=r+(s<<23&4294967295|s>>>9),s=e+(i^r^o)+n[1]+2763975236&4294967295,e=i+(s<<4&4294967295|s>>>28),s=o+(e^i^r)+n[4]+1272893353&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^i)+n[7]+4139469664&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^e)+n[10]+3200236656&4294967295,i=r+(s<<23&4294967295|s>>>9),s=e+(i^r^o)+n[13]+681279174&4294967295,e=i+(s<<4&4294967295|s>>>28),s=o+(e^i^r)+n[0]+3936430074&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^i)+n[3]+3572445317&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^e)+n[6]+76029189&4294967295,i=r+(s<<23&4294967295|s>>>9),s=e+(i^r^o)+n[9]+3654602809&4294967295,e=i+(s<<4&4294967295|s>>>28),s=o+(e^i^r)+n[12]+3873151461&4294967295,o=e+(s<<11&4294967295|s>>>21),s=r+(o^e^i)+n[15]+530742520&4294967295,r=o+(s<<16&4294967295|s>>>16),s=i+(r^o^e)+n[2]+3299628645&4294967295,i=r+(s<<23&4294967295|s>>>9),s=e+(r^(i|~o))+n[0]+4096336452&4294967295,e=i+(s<<6&4294967295|s>>>26),s=o+(i^(e|~r))+n[7]+1126891415&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~i))+n[14]+2878612391&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~e))+n[5]+4237533241&4294967295,i=r+(s<<21&4294967295|s>>>11),s=e+(r^(i|~o))+n[12]+1700485571&4294967295,e=i+(s<<6&4294967295|s>>>26),s=o+(i^(e|~r))+n[3]+2399980690&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~i))+n[10]+4293915773&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~e))+n[1]+2240044497&4294967295,i=r+(s<<21&4294967295|s>>>11),s=e+(r^(i|~o))+n[8]+1873313359&4294967295,e=i+(s<<6&4294967295|s>>>26),s=o+(i^(e|~r))+n[15]+4264355552&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~i))+n[6]+2734768916&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~e))+n[13]+1309151649&4294967295,i=r+(s<<21&4294967295|s>>>11),s=e+(r^(i|~o))+n[4]+4149444226&4294967295,e=i+(s<<6&4294967295|s>>>26),s=o+(i^(e|~r))+n[11]+3174756917&4294967295,o=e+(s<<10&4294967295|s>>>22),s=r+(e^(o|~i))+n[2]+718787259&4294967295,r=o+(s<<15&4294967295|s>>>17),s=i+(o^(r|~e))+n[9]+3951481745&4294967295,t.a[0]=t.a[0]+e&4294967295,t.a[1]=t.a[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,t.a[2]=t.a[2]+r&4294967295,t.a[3]=t.a[3]+o&4294967295}function Xr(t,e){var i;void 0===i&&(i=e.length);for(var n=i-t.c,r=t.g,s=t.b,o=0;i>o;){if(0==s)for(;n>=o;)Vr(t,e,o),o+=t.c;if("string"==typeof e){for(;i>o;)if(r[s++]=e.charCodeAt(o++),s==t.c){Vr(t,r),s=0;break}}else for(;i>o;)if(r[s++]=e[o++],s==t.c){Vr(t,r),s=0;break}}t.b=s,t.i+=i}function Ur(t){t=t||{},this.c=void 0!==t.color?t.color:null,this.i=t.lineCap,this.a=void 0!==t.lineDash?t.lineDash:null,this.g=t.lineJoin,this.f=t.miterLimit,this.b=t.width,this.h=void 0}function Yr(t){t=t||{},this.f=this.i=this.b=null,this.g=void 0!==t.fill?t.fill:null,this.a=void 0!==t.stroke?t.stroke:null,this.c=t.radius,this.s=[0,0],this.j=this.h=null;var e,i=t.atlasManager,n=null,r=0;this.a&&(e=Be(this.a.c),r=this.a.b,void 0===r&&(r=1),n=this.a.a,xl||(n=null));var s=2*(this.c+r)+1;if(e={strokeStyle:e,jd:r,size:s,lineDash:n},void 0===i){var a=Ve(s,s);this.i=a.canvas,s=this.i.width,this.Fc(e,a,0,0),this.g?this.f=this.i:(a=Ve(e.size,e.size),this.f=a.canvas,this.yc(e,a,0,0))}else{if(s=Math.round(s),(n=!this.g)&&(a=this.yc.bind(this,e)),this.a){if(r=this.a,void 0===r.h){var h="s"+(r.c?Be(r.c):"-")+","+(void 0!==r.i?r.i.toString():"-")+","+(r.a?r.a.toString():"-")+","+(void 0!==r.g?r.g:"-")+","+(void 0!==r.f?r.f.toString():"-")+","+(void 0!==r.b?r.b.toString():"-"),l=new Hr;Xr(l,h);var u=Array((56>l.b?l.c:2*l.c)-l.b);for(u[0]=128,h=1;h<u.length-8;++h)u[h]=0;for(var c=8*l.i,h=u.length-8;h<u.length;++h)u[h]=255&c,c/=256;for(Xr(l,u),u=Array(16),h=c=0;4>h;++h)for(var f=0;32>f;f+=8)u[c++]=l.a[h]>>>f&255;if(8192>=u.length)l=String.fromCharCode.apply(null,u);else for(l="",h=0;h<u.length;h+=8192)l+=String.fromCharCode.apply(null,Ge(u,h,h+8192));r.h=l}r=r.h}else r="-";this.g?(l=this.g,void 0===l.c&&(l.c=l.a instanceof CanvasPattern||l.a instanceof CanvasGradient?o(l.a).toString():"f"+(l.a?Be(l.a):"-")),l=l.c):l="-",this.b&&r==this.b[1]&&l==this.b[2]&&this.c==this.b[3]||(this.b=["c"+r+l+(void 0!==this.c?this.c.toString():"-"),r,l,this.c]),a=i.add(this.b[0],s,s,this.Fc.bind(this,e),a),this.i=a.image,this.s=[a.offsetX,a.offsetY],n?this.f=a.Ag:this.f=this.i}this.h=[s/2,s/2],this.j=[s,s],Pn.call(this,{opacity:1,rotateWithView:!1,rotation:0,scale:1,snapToPixel:void 0!==t.snapToPixel?t.snapToPixel:!0})}function Kr(t){t=t||{},this.f=null,this.b=es,void 0!==t.geometry&&Jr(this,t.geometry),this.g=void 0!==t.fill?t.fill:null,this.h=void 0!==t.image?t.image:null,this.i=void 0!==t.stroke?t.stroke:null,this.c=void 0!==t.text?t.text:null,this.a=t.zIndex}function Jr(t,e){"function"==typeof e?t.b=e:"string"==typeof e?t.b=function(t){return t.get(e)}:e?e&&(t.b=function(){return e}):t.b=es,t.f=e}function Zr(t){if("function"!=typeof t){var e;e=Array.isArray(t)?t:[t],t=function(){return e}}return t}function Qr(){if(!iu){var t=new Br({color:"rgba(255,255,255,0.4)"}),e=new Ur({color:"#3399CC",width:1.25});iu=[new Kr({image:new Yr({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return iu}function ts(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new Kr({fill:new Br({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Kr({stroke:new Ur({color:e,width:5})}),new Kr({stroke:new Ur({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Kr({image:new Yr({radius:6,fill:new Br({color:i}),stroke:new Ur({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function es(t){return t.N()}function is(t){t=t?t:{};var e=Kh({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,mn.call(this,e),this.h=void 0!==t.renderBuffer?t.renderBuffer:100,this.l=null,this.j=void 0,this.o(t.style),this.v=void 0!==t.updateWhileAnimating?t.updateWhileAnimating:!1,this.A=void 0!==t.updateWhileInteracting?t.updateWhileInteracting:!1}function ns(t,e,i,n,r){this.i=t,this.w=e,this.h=i,this.U=n,this.qa=r,this.g=this.a=this.c=this.ma=this.X=this.ha=null,this.va=this.V=this.o=this.C=this.A=this.v=0,this.$=!1,this.f=this.Qa=0,this.ca=!1,this.B=0,this.b="",this.j=this.P=this.ia=this.fa=0,this.L=this.l=this.s=null,this.T=[],this.ja=Xt()}function rs(t,e,i){if(t.g){e=Kt(e,0,i,2,t.U,t.T),i=t.i;var n=t.ja,r=i.globalAlpha;1!=t.o&&(i.globalAlpha=r*t.o);var s=t.Qa;t.$&&(s+=t.qa);var o,a;for(o=0,a=e.length;a>o;o+=2){var h=e[o]-t.v,l=e[o+1]-t.A;if(t.ca&&(h=Math.round(h),l=Math.round(l)),0!==s||1!=t.f){var u=h+t.v,c=l+t.A;gn(n,u,c,t.f,t.f,s,-u,-c),i.setTransform(n[0],n[1],n[4],n[5],n[12],n[13])}i.drawImage(t.g,t.V,t.va,t.B,t.C,h,l,t.B,t.C)}0===s&&1==t.f||i.setTransform(1,0,0,1,0,0),1!=t.o&&(i.globalAlpha=r)}}function ss(t,e,i,n){var r=0;if(t.L&&""!==t.b){t.s&&hs(t,t.s),t.l&&ls(t,t.l);var s=t.L,o=t.i,a=t.ma;for(a?(a.font!=s.font&&(a.font=o.font=s.font),a.textAlign!=s.textAlign&&(a.textAlign=o.textAlign=s.textAlign),a.textBaseline!=s.textBaseline&&(a.textBaseline=o.textBaseline=s.textBaseline)):(o.font=s.font,o.textAlign=s.textAlign,o.textBaseline=s.textBaseline,t.ma={font:s.font,textAlign:s.textAlign,textBaseline:s.textBaseline}),e=Kt(e,r,i,n,t.U,t.T),s=t.i;i>r;r+=n){if(o=e[r]+t.fa,a=e[r+1]+t.ia,0!==t.P||1!=t.j){var h=gn(t.ja,o,a,t.j,t.j,t.P,-o,-a);s.setTransform(h[0],h[1],h[4],h[5],h[12],h[13])}t.l&&s.strokeText(t.b,o,a),t.s&&s.fillText(t.b,o,a)}0===t.P&&1==t.j||s.setTransform(1,0,0,1,0,0)}}function os(t,e,i,n,r,s){var o=t.i;for(t=Kt(e,i,n,r,t.U,t.T),o.moveTo(t[0],t[1]),e=t.length,s&&(e-=2),i=2;e>i;i+=2)o.lineTo(t[i],t[i+1]);return s&&o.closePath(),n}function as(t,e,i,n,r){var s,o;for(s=0,o=n.length;o>s;++s)i=os(t,e,i,n[s],r,!0);return i}function hs(t,e){var i=t.i,n=t.ha;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.ha={fillStyle:e.fillStyle})}function ls(t,e){var i=t.i,n=t.X;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),xl&&!H(n.lineDash,e.lineDash)&&i.setLineDash(n.lineDash=e.lineDash),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,xl&&i.setLineDash(e.lineDash),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.X={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function us(t){yn.call(this,t),this.C=Xt()}function cs(t,e,i,n,r){var s=t.a;if(L(s,e)){var o=n.size[0]*n.pixelRatio,a=n.size[1]*n.pixelRatio,h=n.viewState.rotation;Gr(i,-h,o/2,a/2),t=void 0!==r?r:fs(t,n,0),t=new ns(i,n.pixelRatio,n.extent,t,n.viewState.rotation),N(s,new dn(e,s,t,n,i,null)),Gr(i,h,o/2,a/2)}}function fs(t,e,i){var n=e.viewState,r=e.pixelRatio;return gn(t.C,r*e.size[0]/2,r*e.size[1]/2,r/n.resolution,-r/n.resolution,-n.rotation,-n.center[0]+i,-n.center[1])}function ps(t,e,i){this.$=t,this.ha=e,this.i=null,this.g=0,this.resolution=i,this.B=this.C=null,this.c=[],this.coordinates=[],this.ma=Xt(),this.a=[],this.X=[],this.V=Xt(),this.va=Xt()}function ds(t,e,i,n,r,s){var o,a,h,l=t.coordinates.length,u=t.Kb(),c=[e[i],e[i+1]],f=[NaN,NaN],p=!0;for(o=i+r;n>o;o+=r){f[0]=e[o],f[1]=e[o+1],h=u[1];var d=u[2],m=u[3],g=f[0],v=f[1],y=0;g<u[0]?y|=16:g>d&&(y|=4),h>v?y|=8:v>m&&(y|=2),0===y&&(y=1),h=y,h!==a?(p&&(t.coordinates[l++]=c[0],t.coordinates[l++]=c[1]),t.coordinates[l++]=f[0],t.coordinates[l++]=f[1],p=!1):1===h?(t.coordinates[l++]=f[0],t.coordinates[l++]=f[1],p=!1):p=!0,c[0]=f[0],c[1]=f[1],a=h}return o===i+r&&(t.coordinates[l++]=c[0],t.coordinates[l++]=c[1]),s&&(t.coordinates[l++]=e[i],t.coordinates[l++]=e[i+1]),l}function ms(t,e){t.C=[0,e,0],t.c.push(t.C),t.B=[0,e,0],t.a.push(t.B)}function gs(t,e,i,n,r,s,a,h,l){var u;if(u=t.ma,n[0]==u[0]&&n[1]==u[1]&&n[4]==u[4]&&n[5]==u[5]&&n[12]==u[12]&&n[13]==u[13])u=t.X;else{u=Kt(t.coordinates,0,t.coordinates.length,2,n,t.X);var c=t.ma;c[0]=n[0],c[1]=n[1],c[2]=n[2],c[3]=n[3],c[4]=n[4],c[5]=n[5],c[6]=n[6],c[7]=n[7],c[8]=n[8],c[9]=n[9],c[10]=n[10],c[11]=n[11],c[12]=n[12],c[13]=n[13],c[14]=n[14],c[15]=n[15]}n=!b(s);var f,p,c=0,d=a.length,m=t.V;t=t.va;for(var g,v,y,w;d>c;){var x,M,S,k,C=a[c];switch(C[0]){case 0:f=C[1],n&&s[o(f).toString()]||!f.N()?c=C[2]:void 0===l||kt(l,f.N().D())?++c:c=C[2];break;case 1:e.beginPath(),++c;break;case 2:f=C[1],p=u[f],C=u[f+1],y=u[f+2]-p,f=u[f+3]-C,e.arc(p,C,Math.sqrt(y*y+f*f),0,2*Math.PI,!0),++c;break;case 3:e.closePath(),++c;break;case 4:f=C[1],p=C[2],x=C[3],S=C[4]*i;var P=C[5]*i,T=C[6];M=C[7];var _=C[8],j=C[9];y=C[11],w=C[12];var A=C[13],I=C[14];for(C[10]&&(y+=r);p>f;f+=2){if(C=u[f]-S,k=u[f+1]-P,A&&(C=Math.round(C),k=Math.round(k)),1!=w||0!==y){var E=C+S,N=k+P;gn(m,E,N,w,w,y,-E,-N),e.transform(m[0],m[1],m[4],m[5],m[12],m[13])}E=e.globalAlpha,1!=M&&(e.globalAlpha=E*M);var N=I+_>x.width?x.width-_:I,L=T+j>x.height?x.height-j:T;e.drawImage(x,_,j,N,L,C,k,N*i,L*i),1!=M&&(e.globalAlpha=E),(1!=w||0!==y)&&(Ut(m,t),e.transform(t[0],t[1],t[4],t[5],t[12],t[13]))}++c;break;case 5:for(f=C[1],p=C[2],S=C[3],P=C[4]*i,T=C[5]*i,y=C[6],w=C[7]*i,x=C[8],M=C[9];p>f;f+=2){for(C=u[f]+P,k=u[f+1]+T,(1!=w||0!==y)&&(gn(m,C,k,w,w,y,-C,-k),e.transform(m[0],m[1],m[4],m[5],m[12],m[13])),_=S.split("\n"),j=_.length,j>1?(A=Math.round(1.5*e.measureText("M").width),k-=(j-1)/2*A):A=0,I=0;j>I;I++)E=_[I],M&&e.strokeText(E,C,k),x&&e.fillText(E,C,k),k+=A;(1!=w||0!==y)&&(Ut(m,t),e.transform(t[0],t[1],t[4],t[5],t[12],t[13]))}++c;break;case 6:if(void 0!==h&&(f=C[1],f=h(f)))return f;++c;break;case 7:e.fill(),++c;break;case 8:for(f=C[1],p=C[2],C=u[f],k=u[f+1],y=C+.5|0,w=k+.5|0,(y!==g||w!==v)&&(e.moveTo(C,k),g=y,v=w),f+=2;p>f;f+=2)C=u[f],k=u[f+1],y=C+.5|0,w=k+.5|0,(f==p-2||y!==g||w!==v)&&(e.lineTo(C,k),g=y,v=w);++c;break;case 9:e.fillStyle=C[1],++c;break;case 10:g=void 0!==C[7]?C[7]:!0,v=C[2],e.strokeStyle=C[1],e.lineWidth=g?v*i:v,e.lineCap=C[3],e.lineJoin=C[4],e.miterLimit=C[5],xl&&e.setLineDash(C[6]),v=g=NaN,++c;break;case 11:e.font=C[1],e.textAlign=C[2],e.textBaseline=C[3],++c;break;case 12:e.stroke(),++c;break;default:++c}}}function vs(t){var e=t.a;e.reverse();var i,n,r,s=e.length,o=-1;for(i=0;s>i;++i)if(n=e[i],r=n[0],6==r)o=i;else if(0==r){for(n[2]=i,n=t.a,r=i;r>o;){var a=n[o];n[o]=n[r],n[r]=a,++o,--r}o=-1}}function ys(t,e){t.C[2]=t.c.length,t.C=null,t.B[2]=t.a.length,t.B=null;var i=[6,e];t.c.push(i),t.a.push(i)}function bs(t,e,i){ps.call(this,t,e,i),this.s=this.L=null,this.v=this.U=this.P=this.w=this.T=this.o=this.l=this.j=this.h=this.f=this.b=void 0}function ws(t,e,i){ps.call(this,t,e,i),this.b={Ya:void 0,Ta:void 0,Ua:null,Va:void 0,Wa:void 0,Xa:void 0,Rb:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function xs(t,e,i,n,r){var s=t.coordinates.length;return e=ds(t,e,i,n,r,!1),s=[8,s,e],t.c.push(s),t.a.push(s),n}function Ms(t){var e=t.b,i=e.strokeStyle,n=e.lineCap,r=e.lineDash,s=e.lineJoin,o=e.lineWidth,a=e.miterLimit;e.Ya==i&&e.Ta==n&&H(e.Ua,r)&&e.Va==s&&e.Wa==o&&e.Xa==a||(e.Rb!=t.coordinates.length&&(t.c.push([12]),e.Rb=t.coordinates.length),t.c.push([10,i,o,n,s,a,r],[1]),e.Ya=i,e.Ta=n,e.Ua=r,e.Va=s,e.Wa=o,e.Xa=a)}function Ss(t,e,i){ps.call(this,t,e,i),this.b={vc:void 0,Ya:void 0,Ta:void 0,Ua:null,Va:void 0,Wa:void 0,Xa:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function ks(t,e,i,n,r){var s=t.b,o=[1];t.c.push(o),t.a.push(o);var a,o=0;for(a=n.length;a>o;++o){var h=n[o],l=t.coordinates.length;i=ds(t,e,i,h,r,!0),i=[8,l,i],l=[3],t.c.push(i,l),t.a.push(i,l),i=h}return e=[7],t.a.push(e),void 0!==s.fillStyle&&t.c.push(e),void 0!==s.strokeStyle&&(s=[12],t.c.push(s),t.a.push(s)),i}function Cs(t){var e=t.b,i=e.fillStyle,n=e.strokeStyle,r=e.lineCap,s=e.lineDash,o=e.lineJoin,a=e.lineWidth,h=e.miterLimit;void 0!==i&&e.vc!=i&&(t.c.push([9,i]),e.vc=e.fillStyle),void 0===n||e.Ya==n&&e.Ta==r&&e.Ua==s&&e.Va==o&&e.Wa==a&&e.Xa==h||(t.c.push([10,n,a,r,o,h,s]),e.Ya=n,e.Ta=r,e.Ua=s,e.Va=o,e.Wa=a,e.Xa=h)}function Ps(t,e,i){ps.call(this,t,e,i),this.U=this.P=this.w=null,this.s="",this.T=this.o=this.l=this.j=0,this.h=this.f=this.b=null}function Ts(t,e,i,n,r){if(""!==t.s&&t.h&&(t.b||t.f)){if(t.b){var s=t.b,o=t.w;if(!o||o.fillStyle!=s.fillStyle){var a=[9,s.fillStyle];t.c.push(a),t.a.push(a),o?o.fillStyle=s.fillStyle:t.w={fillStyle:s.fillStyle}}}t.f&&(s=t.f,o=t.P,o&&o.lineCap==s.lineCap&&o.lineDash==s.lineDash&&o.lineJoin==s.lineJoin&&o.lineWidth==s.lineWidth&&o.miterLimit==s.miterLimit&&o.strokeStyle==s.strokeStyle||(a=[10,s.strokeStyle,s.lineWidth,s.lineCap,s.lineJoin,s.miterLimit,s.lineDash,!1],t.c.push(a),t.a.push(a),o?(o.lineCap=s.lineCap,o.lineDash=s.lineDash,o.lineJoin=s.lineJoin,o.lineWidth=s.lineWidth,o.miterLimit=s.miterLimit,o.strokeStyle=s.strokeStyle):t.P={lineCap:s.lineCap,lineDash:s.lineDash,lineJoin:s.lineJoin,lineWidth:s.lineWidth,miterLimit:s.miterLimit,strokeStyle:s.strokeStyle})),s=t.h,o=t.U,o&&o.font==s.font&&o.textAlign==s.textAlign&&o.textBaseline==s.textBaseline||(a=[11,s.font,s.textAlign,s.textBaseline],t.c.push(a),t.a.push(a),o?(o.font=s.font,o.textAlign=s.textAlign,o.textBaseline=s.textBaseline):t.U={font:s.font,textAlign:s.textAlign,textBaseline:s.textBaseline}),ms(t,r),s=t.coordinates.length,e=ds(t,e,0,i,n,!1),e=[5,s,e,t.s,t.j,t.l,t.o,t.T,!!t.b,!!t.f],t.c.push(e),t.a.push(e),ys(t,r)}}function _s(t,e,i,n){this.h=t,this.c=e,this.f=i,this.b=n,this.a={},this.i=Ve(1,1),this.g=Xt()}function js(t){for(var e in t.a){var i,n=t.a[e];for(i in n)n[i].mb()}}function As(t,e,i){var n=void 0!==e?e.toString():"0";return e=t.a[n],void 0===e&&(e={},t.a[n]=e),n=e[i],void 0===n&&(n=new su[i](t.h,t.c,t.f),e[i]=n),n}function Is(t,e,i,n,r,s,o){var a=Object.keys(t.a).map(Number);
a.sort(function(t,e){return e-t});var h,l,u,c,f;for(h=0,l=a.length;l>h;++h)for(c=t.a[a[h].toString()],u=nu.length-1;u>=0;--u)if(f=c[nu[u]],void 0!==f&&(f=gs(f,e,1,i,n,r,f.a,s,o)))return f}function Es(t,e){return o(t)-o(e)}function Ns(t,e){var i=.5*t/e;return i*i}function Ls(t,e,i,n,r,s){var o,a,h=!1;return(o=i.da())&&(a=o.nb(),2==a||3==a?o.ld(r,s):(0==a&&o.load(),o.Oc(r,s),h=!0)),(r=i.b(e))&&(n=r.Ob(n),ou[n.K()](t,n,i,e)),h}function Os(t,e,i,n){t=i-t,e=n-e;var r=Math.sqrt(t*t+e*e);return[Math.round(i+t/r),Math.round(n+e/r)]}function Ds(t,e,i,n,r,s,o,a,h,l,u){var c=Ve(Math.round(i*t),Math.round(i*e));if(0===h.length)return c.canvas;c.scale(i,i);var f=ht();h.forEach(function(t){pt(f,t.extent)});var p=Ve(Math.round(i*St(f)/n),Math.round(i*wt(f)/n)),d=i/n;h.forEach(function(t){p.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,(t.extent[0]-f[0])*d,-(t.extent[3]-f[3])*d,St(t.extent)*d,wt(t.extent)*d)});var m=Mt(o);return a.i.forEach(function(t){var e=t.source,r=t.target,o=e[1][0],a=e[1][1],h=e[2][0],l=e[2][1];t=(r[0][0]-m[0])/s;var u=-(r[0][1]-m[1])/s,d=(r[1][0]-m[0])/s,g=-(r[1][1]-m[1])/s,v=(r[2][0]-m[0])/s,y=-(r[2][1]-m[1])/s,r=e[0][0],e=e[0][1],o=o-r,a=a-e,h=h-r,l=l-e;t:{for(o=[[o,a,0,0,d-t],[h,l,0,0,v-t],[0,0,o,a,g-u],[0,0,h,l,y-u]],a=o.length,h=0;a>h;h++){for(var l=h,b=Math.abs(o[h][h]),w=h+1;a>w;w++){var x=Math.abs(o[w][h]);x>b&&(b=x,l=w)}if(0===b){o=null;break t}for(b=o[l],o[l]=o[h],o[h]=b,l=h+1;a>l;l++)for(b=-o[l][h]/o[h][h],w=h;a+1>w;w++)o[l][w]=h==w?0:o[l][w]+b*o[h][w]}for(h=Array(a),l=a-1;l>=0;l--)for(h[l]=o[l][a]/o[l][l],b=l-1;b>=0;b--)o[b][a]-=o[b][l]*h[l];o=h}o&&(c.save(),c.beginPath(),ru?(h=(t+d+v)/3,l=(u+g+y)/3,a=Os(h,l,t,u),d=Os(h,l,d,g),v=Os(h,l,v,y),c.moveTo(a[0],a[1]),c.lineTo(d[0],d[1]),c.lineTo(v[0],v[1])):(c.moveTo(t,u),c.lineTo(d,g),c.lineTo(v,y)),c.closePath(),c.clip(),c.transform(o[0],o[2],o[1],o[3],t,u),c.translate(f[0]-r,f[3]-e),c.scale(n/i,-n/i),c.drawImage(p.canvas,0,0),c.restore())}),u&&(c.save(),c.strokeStyle="black",c.lineWidth=1,a.i.forEach(function(t){var e=t.target;t=(e[0][0]-m[0])/s;var i=-(e[0][1]-m[1])/s,n=(e[1][0]-m[0])/s,r=-(e[1][1]-m[1])/s,o=(e[2][0]-m[0])/s,e=-(e[2][1]-m[1])/s;c.beginPath(),c.moveTo(t,i),c.lineTo(n,r),c.lineTo(o,e),c.closePath(),c.stroke()}),c.restore()),c.canvas}function Rs(t,e,i,n,r){this.b=t,this.g=e;var s={},o=qt(this.g,this.b);this.c=function(t){var e=t[0]+"/"+t[1];return s[e]||(s[e]=o(t)),s[e]},this.f=n,this.l=r*r,this.i=[],this.s=!1,this.j=this.b.c&&!!n&&!!this.b.D()&&St(n)==St(this.b.D()),this.a=this.b.D()?St(this.b.D()):null,this.h=this.g.D()?St(this.g.D()):null,t=Mt(i),e=[i[2],i[3]],n=[i[2],i[1]],i=vt(i),r=this.c(t);var a=this.c(e),h=this.c(n),l=this.c(i);if(qs(this,t,e,n,i,r,a,h,l,10),this.s){var u=1/0;this.i.forEach(function(t){u=Math.min(u,t.source[0][0],t.source[1][0],t.source[2][0])}),this.i.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-u>this.a/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-u>this.a/2&&(e[0][0]-=this.a),e[1][0]-u>this.a/2&&(e[1][0]-=this.a),e[2][0]-u>this.a/2&&(e[2][0]-=this.a),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.a/2&&(t.source=e)}},this)}s={}}function qs(t,e,i,n,r,s,o,a,h,l){var u=rt([s,o,a,h]),c=t.a?St(u)/t.a:null,f=t.b.c&&c>.5&&1>c,d=!1;if(l>0){if(t.g.b&&t.h)var m=rt([e,i,n,r]),d=d|.25<St(m)/t.h;!f&&t.b.b&&c&&(d|=c>.25)}if(d||!t.f||kt(u,t.f)){if(!(d||isFinite(s[0])&&isFinite(s[1])&&isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(l>0))return;d=!0}if(l>0&&(d||(c=t.c([(e[0]+n[0])/2,(e[1]+n[1])/2]),u=f?(p(s[0],t.a)+p(a[0],t.a))/2-p(c[0],t.a):(s[0]+a[0])/2-c[0],c=(s[1]+a[1])/2-c[1],d=u*u+c*c>t.l),d))return void(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])?(f=[(i[0]+n[0])/2,(i[1]+n[1])/2],u=t.c(f),c=[(r[0]+e[0])/2,(r[1]+e[1])/2],d=t.c(c),qs(t,e,i,f,c,s,o,u,d,l-1),qs(t,c,f,n,r,d,u,a,h,l-1)):(f=[(e[0]+i[0])/2,(e[1]+i[1])/2],u=t.c(f),c=[(n[0]+r[0])/2,(n[1]+r[1])/2],d=t.c(c),qs(t,e,f,c,r,s,u,d,h,l-1),qs(t,f,i,n,c,u,o,a,d,l-1)));if(f){if(!t.j)return;t.s=!0}t.i.push({source:[s,a,h],target:[e,n,r]}),t.i.push({source:[s,o,a],target:[e,i,n]})}}function Fs(t){var e=ht();return t.i.forEach(function(t){t=t.source,dt(e,t[0]),dt(e,t[1]),dt(e,t[2])}),e}function zs(t){R.call(this),this.g=void 0,this.a="geometry",this.h=null,this.f=void 0,this.b=null,C(this,q(this.a),this.jb,this),void 0!==t&&(t instanceof Bt||!t?Ws(this,t):F(this,t))}function Ws(t,e){t.set(t.a,e)}function Gs(t,e){P(t,q(t.a),t.jb,t),t.a=e,C(t,q(t.a),t.jb,t),t.jb()}function Bs(t){if("function"!=typeof t){var e;e=Array.isArray(t)?t:[t],t=function(){return e}}return t}function $s(t,e){return fu.createElementNS(t,e)}function Hs(t){return Vs(t,!1,[]).join("")}function Vs(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)Vs(t,e,i);return i}function Xs(t){return(new DOMParser).parseFromString(t,"application/xml")}function Us(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);void 0!==r&&n[n.length-1].push(r)}}function Ys(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);void 0!==r&&(n[n.length-1]=r)}}function Ks(t,e){return function(i,n){var r=t.call(this,i,n);void 0!==r&&(n[n.length-1][void 0!==e?e:i.localName]=r)}}function Js(t,e){return function(i,n,r){t.call(void 0!==e?e:this,i,n,r),r[r.length-1].node.appendChild(i)}}function Zs(t,e){return function(i,n,r){return i=n[n.length-1].node,n=t,void 0===n&&(n=r),r=e,void 0===e&&(r=i.namespaceURI),$s(r,n)}}function Qs(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var r=t[e.namespaceURI];void 0!==r&&(r=r[e.localName])&&r.call(n,e,i)}}function to(t,e,i,n,r){return n.push(t),Qs(e,i,n,r),n.pop()}function eo(t,e,i,n,r,s,o){r.push(t),t=(void 0!==s?s:n).length;for(var a,h,l=0;t>l;++l)a=n[l],void 0!==a&&(h=i.call(o,a,r,void 0!==s?s[l]:void 0),void 0!==h&&e[h.namespaceURI][h.localName].call(o,h,a,r));r.pop()}function io(t,e,i){return function(n,r,s){var o=new XMLHttpRequest;o.open("GET","function"==typeof t?t(n,r,s):t,!0),"arraybuffer"==e.K()&&(o.responseType="arraybuffer"),o.onload=function(){if(200<=o.status&&300>o.status){var t,n=e.K();"json"==n||"text"==n?t=o.responseText:"xml"==n?(t=o.responseXML)||(t=Xs(o.responseText)):"arraybuffer"==n&&(t=o.response),t&&i.call(this,e.Ca(t,{featureProjection:s}),e.qb(t))}}.bind(this),o.send()}}function no(t,e){return io(t,e,function(t){this.Ra(t)})}function ro(){return[[-(1/0),-(1/0),1/0,1/0]]}function so(t){this.a=cu(t),this.c={}}function oo(t,e,i){var n=o(i),n=t.c[n];ft([n.G,n.I,n.H,n.J],e)||(t.remove(i),t.ba(e,i))}function ao(t){return t.a.all().map(function(t){return t.value})}function ho(t,e){return t.a.search({G:e[0],I:e[1],H:e[2],J:e[3]}).map(function(t){return t.value})}function lo(t,e,i,n){return uo(ho(t,e),i,n)}function uo(t,e,i){for(var n,r=0,s=t.length;s>r&&!(n=e.call(i,t[r]));r++);return n}function co(t){t=t||{},ri.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0!==t.wrapX?t.wrapX:!0}),this.C=c,this.V=t.format,this.$=t.url,void 0!==t.loader?this.C=t.loader:void 0!==this.$&&(this.C=no(this.$,this.V)),this.qa=void 0!==t.strategy?t.strategy:ro;var e=void 0!==t.useSpatialIndex?t.useSpatialIndex:!0;this.a=e?new so:null,this.B=new so,this.b={},this.h={},this.j={},this.l={},this.g=null;var i,n;t.features instanceof qe?(i=t.features,n=i.a):Array.isArray(t.features)&&(n=t.features),e||void 0!==i||(i=new qe(n)),void 0!==n&&mo(this,n),void 0!==i&&go(this,i)}function fo(t,e,i){t.l[e]=[C(i,"change",t.Wc,t),C(i,"propertychange",t.Wc,t)]}function po(t,e,i){var n=!0,r=i.sa();return void 0!==r?r.toString()in t.h?n=!1:t.h[r.toString()]=i:t.j[e]=i,n}function mo(t,e){var i,n,r,s,a=[],h=[],l=[];for(n=0,r=e.length;r>n;n++)s=e[n],i=o(s).toString(),po(t,i,s)&&h.push(s);for(n=0,r=h.length;r>n;n++){s=h[n],i=o(s).toString(),fo(t,i,s);var u=s.N();u?(i=u.D(),a.push(i),l.push(s)):t.b[i]=s}for(t.a&&t.a.load(a,l),n=0,r=h.length;r>n;n++)N(t,new bo("addfeature",h[n]))}function go(t,e){var i=!1;C(t,"addfeature",function(t){i||(i=!0,e.push(t.feature),i=!1)}),C(t,"removefeature",function(t){i||(i=!0,e.remove(t.feature),i=!1)}),C(e,"add",function(t){i||(t=t.element,i=!0,this.fb(t),i=!1)},t),C(e,"remove",function(t){i||(t=t.element,i=!0,this.bb(t),i=!1)},t),t.g=e}function vo(t,e,i,n){t.a?lo(t.a,e,i,n):t.g&&t.g.forEach(i,n)}function yo(t,e){for(var i in t.h)if(t.h[i]===e){delete t.h[i];break}}function bo(t,e){A.call(this,t),this.feature=e}function wo(t){us.call(this,t),this.b=Ve(),this.g=null,this.o=ht(),this.w=[0,0,0],this.h=Xt()}function xo(t){us.call(this,t),this.b=!1,this.v=-1,this.P=NaN,this.o=ht(),this.g=this.w=null,this.h=Ve()}function Mo(t,e){var i=/\{z\}/g,n=/\{x\}/g,r=/\{y\}/g,s=/\{-y\}/g;return function(o){return o?t.replace(i,o[0].toString()).replace(n,o[1].toString()).replace(r,function(){return(-o[2]-1).toString()}).replace(s,function(){var t=e.c?e.c[o[0]]:null;return(t.J-t.I+1+o[2]).toString()}):void 0}}function So(t,e){for(var i=t.length,n=Array(i),r=0;i>r;++r)n[r]=Mo(t[r],e);return ko(n)}function ko(t){return 1===t.length?t[0]:function(e,i,n){return e?t[p((e[1]<<e[0])+e[2],t.length)](e,i,n):void 0}}function Co(){}function Po(t){var e=[],i=/\{(\d)-(\d)\}/.exec(t)||/\{([a-z])-([a-z])\}/.exec(t);if(i){var n,r=i[2].charCodeAt(0);for(n=i[1].charCodeAt(0);r>=n;++n)e.push(t.replace(i[0],String.fromCharCode(n)))}else e.push(t);return e}function To(t){if(Mi.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.za?this.za.bind(this):Co,this.urls=null,t.urls){var e=t.urls;this.urls=e;var i=e.join("\n");_o(this,this.za?this.za.bind(this):So(e,this.tileGrid),i)}else t.url&&(e=t.url,i=this.urls=Po(e),_o(this,this.za?this.za.bind(this):So(i,this.tileGrid),e));t.tileUrlFunction&&_o(this,t.tileUrlFunction)}function _o(t,e,i){t.tileUrlFunction=e,"undefined"!=typeof i?ki(t,i):t.c()}function jo(t,e){In.call(this,0,e),this.g=Ve(),this.a=this.g.canvas,this.a.style.width="100%",this.a.style.height="100%",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.b=!0,this.h=Xt()}function Ao(t,e,i){var n=t.f,r=t.g;if(L(n,e)){var s=i.extent,o=i.pixelRatio,a=i.viewState.rotation,h=i.pixelRatio,l=i.viewState,u=l.resolution;t=gn(t.h,t.a.width/2,t.a.height/2,h/u,-h/u,-l.rotation,-l.center[0],-l.center[1]),s=new ns(r,o,s,t,a),N(n,new dn(e,n,s,i,r,null))}}function Io(t){R.call(this);var e=Lo(t);this.Ab=void 0!==t.loadTilesWhileAnimating?t.loadTilesWhileAnimating:!1,this.Bb=void 0!==t.loadTilesWhileInteracting?t.loadTilesWhileInteracting:!1,this.Db=void 0!==t.pixelRatio?t.pixelRatio:wl,this.yb=e.logos,this.qa=function(){this.j=void 0,this.Vf.call(this,Date.now())}.bind(this),this.cb=Xt(),this.Eb=Xt(),this.eb=0,this.b=null,this.ia=ht(),this.v=this.B=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(kl?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.w=document.createElement("DIV"),this.w.className="ol-overlaycontainer",this.a.appendChild(this.w),this.o=document.createElement("DIV"),this.o.className="ol-overlaycontainer-stopevent",t=["click","dblclick","mousedown","touchstart","mspointerdown",Wl,"mousewheel","wheel"];for(var i=0,n=t.length;n>i;++i)C(this.o,t[i],I);this.a.appendChild(this.o),this.ca=new hn(this);for(var r in $l)C(this.ca,$l[r],this.Kc,this);this.$=e.keyboardEventTarget,this.l=null,C(this.a,"wheel",this.Ja,this),C(this.a,"mousewheel",this.Ja,this),this.L=e.controls,this.f=e.interactions,this.h=e.overlays,this.Zc={},this.C=new e.Wf(this.a,this),this.X=null,this.A=[],this.fa=[],this.ja=new qn(this.me.bind(this),this.Ke.bind(this)),this.V={},C(this,q("layergroup"),this.te,this),C(this,q("view"),this.Me,this),C(this,q("size"),this.He,this),C(this,q("target"),this.Je,this),F(this,e.values),this.L.forEach(function(t){t.setMap(this)},this),C(this.L,"add",function(t){t.element.setMap(this)},this),C(this.L,"remove",function(t){t.element.setMap(null)},this),this.f.forEach(function(t){t.setMap(this)},this),C(this.f,"add",function(t){t.element.setMap(this)},this),C(this.f,"remove",function(t){t.element.setMap(null)},this),this.h.forEach(this.qc,this),C(this.h,"add",function(t){this.qc(t.element)},this),C(this.h,"remove",function(t){var e=t.element.sa();void 0!==e&&delete this.Zc[e.toString()],t.element.setMap(null)},this)}function Eo(t){return t=t.Ub(),void 0!==t?"string"==typeof t?document.getElementById(t):t:null}function No(t,e){var i=t.b;if(i){var n=e.slice(0,2);return vn(i.coordinateToPixelMatrix,n,n)}return null}function Lo(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="http://openlayers.org/";else{var r=t.logo;"string"==typeof r?n[r]="":r instanceof HTMLElement?n[o(r).toString()]=r:s(r)&&(n[r.src]=r.href)}r=t.layers instanceof Dr?t.layers:new Dr({layers:t.layers}),i.layergroup=r,i.target=t.target,i.view=void 0!==t.view?t.view:new xe;var a,r=In;void 0!==t.renderer?Array.isArray(t.renderer)?a=t.renderer:"string"==typeof t.renderer&&(a=[t.renderer]):a=du;var h,l;for(h=0,l=a.length;l>h;++h)if("canvas"==a[h]&&Ml){r=jo;break}var u;return u=void 0!==t.controls?Array.isArray(t.controls)?new qe(t.controls.slice()):t.controls:Li(),void 0!==t.interactions?a=Array.isArray(t.interactions)?new qe(t.interactions.slice()):t.interactions:(a={},h=new qe,l=new Fn,(void 0!==a.altShiftDragRotate?a.altShiftDragRotate:1)&&h.push(new hr),(void 0!==a.doubleClickZoom?a.doubleClickZoom:1)&&h.push(new Hn({delta:a.zoomDelta,duration:a.zoomDuration})),(void 0!==a.dragPan?a.dragPan:1)&&h.push(new rr({kinetic:l})),(void 0!==a.pinchRotate?a.pinchRotate:1)&&h.push(new _r),(void 0!==a.pinchZoom?a.pinchZoom:1)&&h.push(new Er({duration:a.zoomDuration})),(void 0!==a.keyboard?a.keyboard:1)&&(h.push(new Mr),h.push(new kr({delta:a.zoomDelta,duration:a.zoomDuration}))),(void 0!==a.mouseWheelZoom?a.mouseWheelZoom:1)&&h.push(new Pr({duration:a.zoomDuration})),(void 0!==a.shiftDragZoom?a.shiftDragZoom:1)&&h.push(new xr({duration:a.zoomDuration})),a=h),t=void 0!==t.overlays?Array.isArray(t.overlays)?new qe(t.overlays.slice()):t.overlays:new qe,{controls:u,interactions:a,keyboardEventTarget:e,logos:n,overlays:t,Wf:r,values:i}}function Oo(t){R.call(this),this.l=t.id,this.j=void 0!==t.insertFirst?t.insertFirst:!0,this.o=void 0!==t.stopEvent?t.stopEvent:!0,this.b=document.createElement("DIV"),this.b.className="ol-overlay-container",this.b.style.position="absolute",this.autoPan=void 0!==t.autoPan?t.autoPan:!1,this.f=void 0!==t.autoPanAnimation?t.autoPanAnimation:{},this.h=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={gb:"",lb:"",sb:"",vb:"",visible:!0},this.g=null,C(this,q("element"),this.pe,this),C(this,q("map"),this.Ae,this),C(this,q("offset"),this.Be,this),C(this,q("position"),this.De,this),C(this,q("positioning"),this.Ee,this),void 0!==t.element&&this.set("element",t.element),this.set("offset",void 0!==t.offset?t.offset:[0,0]),this.set("positioning",void 0!==t.positioning?t.positioning:"top-left"),void 0!==t.position&&this.Rc(t.position)}function Do(t,e){var i=t.getBoundingClientRect(),n=i.left+Uh.pageXOffset,i=i.top+Uh.pageYOffset;return[n,i,n+e[0],i+e[1]]}function Ro(t,e){t.a.visible!==e&&(t.b.style.display=e?"":"none",t.a.visible=e)}function qo(t){var e=t.get("map"),i=t.get("position");if(void 0!==e&&e.b&&void 0!==i){var i=No(e,i),n=e.Ma(),e=t.b.style,r=t.get("offset"),s=t.get("positioning"),o=r[0],r=r[1];"bottom-right"==s||"center-right"==s||"top-right"==s?(""!==t.a.lb&&(t.a.lb=e.left=""),o=Math.round(n[0]-i[0]-o)+"px",t.a.sb!=o&&(t.a.sb=e.right=o)):(""!==t.a.sb&&(t.a.sb=e.right=""),("bottom-center"==s||"center-center"==s||"top-center"==s)&&(o-=t.b.offsetWidth/2),o=Math.round(i[0]+o)+"px",t.a.lb!=o&&(t.a.lb=e.left=o)),"bottom-left"==s||"bottom-center"==s||"bottom-right"==s?(""!==t.a.vb&&(t.a.vb=e.top=""),i=Math.round(n[1]-i[1]-r)+"px",t.a.gb!=i&&(t.a.gb=e.bottom=i)):(""!==t.a.gb&&(t.a.gb=e.bottom=""),("center-left"==s||"center-center"==s||"center-right"==s)&&(r-=t.b.offsetHeight/2),i=Math.round(i[1]+r)+"px",t.a.vb!=i&&(t.a.vb=e.top=i)),Ro(t,!0)}else Ro(t,!1)}function Fo(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-scale-line";this.g=document.createElement("DIV"),this.g.className=e+"-inner",this.a=document.createElement("DIV"),this.a.className=e+" ol-unselectable",this.a.appendChild(this.g),this.h=null,this.f=void 0!==t.minWidth?t.minWidth:64,this.b=!1,this.l=void 0,this.j="",Ye.call(this,{element:this.a,render:t.render?t.render:zo,target:t.target}),C(this,q("units"),this.v,this),this.set("units",t.units||"metric")}function zo(t){(t=t.frameState)?this.h=t.viewState:this.h=null,Wo(this)}function Wo(t){var e=t.h;if(e){var i=e.projection,n=i.Aa(),e=i.getPointResolution(e.resolution,e.center)*n,n=t.f*e,i="",r=t.$a();"degrees"==r?(i=tl.degrees,e/=i,i/60>n?(i="″",e*=3600):i>n?(i="′",e*=60):i="°"):"imperial"==r?.9144>n?(i="in",e/=.0254):1609.344>n?(i="ft",e/=.3048):(i="mi",e/=1609.344):"nautical"==r?(e/=1852,i="nm"):"metric"==r?1>n?(i="mm",e*=1e3):1e3>n?i="m":(i="km",e/=1e3):"us"==r&&(.9144>n?(i="in",e*=39.37):1609.344>n?(i="ft",e/=.30480061):(i="mi",e/=1609.3472));for(var s,r=3*Math.floor(Math.log(t.f*e)/Math.log(10));;){if(s=mu[(r%3+3)%3]*Math.pow(10,Math.floor(r/3)),n=Math.round(s/e),isNaN(n))return t.a.style.display="none",void(t.b=!1);if(n>=t.f)break;++r}e=s+" "+i,t.j!=e&&(t.g.innerHTML=e,t.j=e),t.l!=n&&(t.g.style.width=n+"px",t.l=n),t.b||(t.a.style.display="",t.b=!0)}else t.b&&(t.a.style.display="none",t.b=!1)}function Go(){this.defaultDataProjection=null}function Bo(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.qb(e),featureProjection:i.featureProjection}),$o(t,n)}function $o(t,e){var i;return e&&(i={featureProjection:e.featureProjection,dataProjection:e.dataProjection?e.dataProjection:t.defaultDataProjection,rightHanded:e.rightHanded},e.decimals&&(i.decimals=e.decimals)),i}function Ho(t,e,i){var n,r=i?Dt(i.featureProjection):null,s=i?Dt(i.dataProjection):null;if(n=r&&s&&!Rt(r,s)?t instanceof Bt?$t(e?t.clone():t,e?r:s,e?s:r):Gt(e?t.slice():t,e?r:s,e?s:r):t,e&&i&&i.decimals){var o=Math.pow(10,i.decimals);t=function(t){for(var e=0,i=t.length;i>e;++e)t[e]=Math.round(t[e]*o)/o;return t},Array.isArray(n)?t(n):n.Sa(t)}return n}function Vo(){this.defaultDataProjection=null}function Xo(t){return s(t)?t:"string"==typeof t&&(t=JSON.parse(t))?t:null}function Uo(t,e,i,n,r,s){var o=NaN,a=NaN,h=(i-e)/n;if(0!==h)if(1==h)o=t[e],a=t[e+1];else if(2==h)o=(1-r)*t[e]+r*t[e+n],a=(1-r)*t[e+1]+r*t[e+n+1];else{var l,a=t[e],h=t[e+1],u=0,o=[0];for(l=e+n;i>l;l+=n){var c=t[l],f=t[l+1],u=u+Math.sqrt((c-a)*(c-a)+(f-h)*(f-h));o.push(u),a=c,h=f}for(i=r*u,h=0,u=o.length,l=!1;u>h;)r=h+(u-h>>1),a=+z(o[r],i),0>a?h=r+1:(u=r,l=!a);r=l?h:~h,0>r?(i=(i-o[-r-2])/(o[-r-1]-o[-r-2]),e+=(-r-2)*n,o=t[e],o+=i*(t[e+n]-o),r=t[e+1],a=r+i*(t[e+n+1]-r)):(o=t[e+r*n],a=t[e+r*n+1])}return s?(s[0]=o,s[1]=a,s):[o,a]}function Yo(t,e,i,n,r){if(0==e)return null;if(n<t[0+i-1])return r?(e=t.slice(0,0+i),e[i-1]=n,e):null;if(t[e-1]<n)return r?(e=t.slice(e-i,e),e[i-1]=n,e):null;if(n==t[0+i-1])return t.slice(0,0+i);for(r=0/i,e/=i;e>r;){var s=r+e>>1;n<t[(s+1)*i-1]?e=s:r=s+1}if(e=t[r*i-1],n==e)return t.slice((r-1)*i,(r-1)*i+i);s=(n-e)/(t[(r+1)*i-1]-e),e=[];var o;for(o=0;i-1>o;++o){var a=t[(r-1)*i+o];e.push(a+s*(t[r*i+o]-a))}return e.push(n),e}function Ko(t,e){Jt.call(this),this.f=null,this.l=-1,this.O(t,e)}function Jo(t){return t.l!=t.i&&(t.f=t.Gc(.5,t.f),t.l=t.i),t.f}function Zo(t,e,i){Qt(t,e,i),t.c()}function Qo(t,e){Jt.call(this),this.f=[],this.O(t,e)}function ta(t){var e=[],i=t.a,n=0,r=t.f;t=t.u;var s,o;for(s=0,o=r.length;o>s;++s){var a=r[s],n=Uo(i,n,a,t,.5);B(e,n),n=a}return e}function ea(t,e,i,n){Qt(t,e,i),t.f=n,t.c()}function ia(t,e){var i,n,r=t.b,s=[],o=[];for(i=0,n=e.length;n>i;++i){var a=e[i];0===i&&(r=a.b),B(s,a.a),o.push(s.length)}ea(t,r,s,o)}function na(t,e){Jt.call(this),this.O(t,e)}function ra(t,e){Jt.call(this),this.f=[],this.A=-1,this.C=null,this.B=-1,this.l=null,this.O(t,e)}function sa(t){if(t.A!=t.i){var e,i,n,r=t.a,s=t.f,o=t.u,a=0,h=[];for(e=0,i=s.length;i>e;++e){var l=s[e];n=r;var u=l[0],c=o,f=ut(void 0);n=mt(f,n,a,u,c),h.push((n[0]+n[2])/2,(n[1]+n[3])/2),a=l[l.length-1]}for(r=oa(t),s=t.f,o=t.u,e=0,i=[],l=0,n=s.length;n>l;++l)a=s[l],i=fe(r,e,a,o,h,2*l,i),e=a[a.length-1];t.C=i,t.A=t.i}return t.C}function oa(t){if(t.B!=t.i){var e,i=t.a;t:{e=t.f;var n,r;for(n=0,r=e.length;r>n;++n)if(!de(i,e[n],t.u,void 0)){e=!1;break t}e=!0}e?t.l=i:(t.l=i.slice(),t.l.length=ge(t.l,t.f,t.u)),t.B=t.i}return t.l}function aa(t,e,i,n){Qt(t,e,i),t.f=n,t.c()}function ha(t,e){var i,n,r,s=t.b,o=[],a=[];for(i=0,n=e.length;n>i;++i){var h=e[i];0===i&&(s=h.b);var l=o.length;r=h.Ga();var u,c;for(u=0,c=r.length;c>u;++u)r[u]+=l;B(o,h.a),a.push(r)}aa(t,s,o,a)}function la(t){t=t?t:{},this.defaultDataProjection=null,this.c=t.geometryName}function ua(t){var e="XY";return!0===t.hasZ&&!0===t.hasM?e="XYZM":!0===t.hasZ?e="XYZ":!0===t.hasM&&(e="XYM"),e}function ca(t){Bt.call(this),this.g=t?t:null,pa(this)}function fa(t){var e,i;if(t.g)for(e=0,i=t.g.length;i>e;++e)P(t.g[e],"change",t.c,t)}function pa(t){var e,i;if(t.g)for(e=0,i=t.g.length;i>e;++e)C(t.g[e],"change",t.c,t)}function da(t){t=t?t:{},this.defaultDataProjection=null,this.defaultDataProjection=Dt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),this.c=t.geometryName}function ma(t,e){return t?Ho(vu[t.type](t),!1,e):null}function ga(){new XMLSerializer,this.defaultDataProjection=null}function va(t,e,i){return t=ya(t,e,i),0<t.length?t[0]:null}function ya(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&B(n,t.ac(e,i));return n}function ba(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.a={},this.a["http://www.opengis.net/gml"]={featureMember:Ys(ba.prototype.ob),featureMembers:Ys(ba.prototype.ob)},ga.call(this)}function wa(t,e,i){var n=i[0];return n.srsName=e.firstElementChild.getAttribute("srsName"),(t=to(null,t.Bd,e,i,t))?Ho(t,!1,n):void 0}function xa(t){return t=Hs(t),Ma(t)}function Ma(t){return(t=/^\s*(\d+)\s*$/.exec(t))?parseInt(t[1],10):void 0}function Sa(t,e){t.appendChild(fu.createTextNode(e))}function ka(t){t=t?t:{},ba.call(this,t),this.schemaLocation=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/gml http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd"}function Ca(t,e,i){i=i[i.length-1].srsName,e=e.M();for(var n,r=e.length,s=Array(r),o=0;r>o;++o){n=e[o];var a=o,h="enu";i&&(h=Dt(i).a),s[a]="en"===h.substr(0,2)?n[0]+" "+n[1]:n[1]+" "+n[0]}Sa(t,s.join(" "))}function Pa(){this.defaultDataProjection=null}function Ta(t){return"string"==typeof t?t:""}function _a(t){t=t?t:{},this.b=t.featureType,this.c=t.featureNS,this.a=t.gmlFormat?t.gmlFormat:new ka,this.g=t.schemaLocation?t.schemaLocation:"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd",ga.call(this)}function ja(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return to({},ju,t,[])}function Aa(t,e){var i=$s("http://www.opengis.net/ogc","Filter"),n=$s("http://www.opengis.net/ogc","FeatureId");i.appendChild(n),n.setAttribute("fid",e),t.appendChild(i)}function Ia(t){t=t?t:{},this.defaultDataProjection=null,this.a=void 0!==t.splitCollection?t.splitCollection:!1}function Ea(t,e){var i;return i=new Oa(new Na(t)),i.a=La(i.c),(i=Da(i))?Ho(i,!1,e):null}function Na(t){this.c=t,this.a=-1}function La(t){var e=t.c.charAt(++t.a),i={position:t.a,value:e};if("("==e)i.type=2;else if(","==e)i.type=5;else if(")"==e)i.type=3;else if(e>="0"&&"9">=e||"."==e||"-"==e){i.type=4;var n,e=t.a,r=!1,s=!1;do"."==n?r=!0:("e"==n||"E"==n)&&(s=!0),n=t.c.charAt(++t.a);while(n>="0"&&"9">=n||"."==n&&(void 0===r||!r)||!s&&("e"==n||"E"==n)||s&&("-"==n||"+"==n));t=parseFloat(t.c.substring(e,t.a--)),i.value=t}else if(e>="a"&&"z">=e||e>="A"&&"Z">=e){i.type=1,e=t.a;do n=t.c.charAt(++t.a);while(n>="a"&&"z">=n||n>="A"&&"Z">=n);t=t.c.substring(e,t.a--).toUpperCase(),i.value=t}else{if(" "==e||"	"==e||"\r"==e||"\n"==e)return La(t);if(""!==e)throw Error("Unexpected character: "+e);i.type=6}return i}function Oa(t){this.c=t}function Da(t){var e=t.a;if(t.match(1)){var i=e.value;if("GEOMETRYCOLLECTION"==i){t:{if(t.match(2)){e=[];do e.push(Da(t));while(t.match(5));if(t.match(3)){t=e;break t}}else if(za(t)){t=[];break t}throw Error(Wa(t))}return new ca(t)}var n=Eu[i],e=Iu[i];if(!n||!e)throw Error("Invalid geometry type: "+i);return t=n.call(t),new e(t)}throw Error(Wa(t))}function Ra(t){for(var e=[],i=0;2>i;++i){var n=t.a;if(!t.match(4))break;e.push(n.value)}if(2==e.length)return e;throw Error(Wa(t))}function qa(t){for(var e=[Ra(t)];t.match(5);)e.push(Ra(t));return e}function Fa(t){for(var e=[t.Xb()];t.match(5);)e.push(t.Xb());return e}function za(t){var e=1==t.a.type&&"EMPTY"==t.a.value;return e&&(t.a=La(t.c)),e}function Wa(t){return"Unexpected `"+t.a.value+"` at position "+t.a.position+" in `"+t.c.c+"`"}function Ga(t){if(R.call(this),t=t||{},this.a=null,this.g=zt,this.b=void 0,C(this,q("projection"),this.Ge,this),C(this,q("tracking"),this.Le,this),void 0!==t.projection){var e=Dt(t.projection);this.set("projection",e)}void 0!==t.trackingOptions&&this.set("trackingOptions",t.trackingOptions),this.ub(void 0!==t.tracking?t.tracking:!1)}function Ba(t,e,i){Jt.call(this),$a(this,t,e?e:0,i)}function $a(t,e,i,n){if(e){te(t,n,e,0),t.a||(t.a=[]),n=t.a,e=ee(n,e),n[e++]=n[0]+i;var r;for(i=1,r=t.u;r>i;++i)n[e++]=n[i];n.length=e}else Qt(t,"XY",null);t.c()}function Ha(t,e,i,n,r){Qe.call(this,t,e),this.g=i,this.c=new Image,null!==n&&(this.c.crossOrigin=n),this.b={},this.i=null,this.f=r}function Va(t){t.i.forEach(T),t.i=null}function Xa(t,e){A.call(this,t),this.feature=e}function Ua(t){er.call(this,{handleDownEvent:Ja,handleEvent:Ka,handleUpEvent:Za}),this.V=null,this.v=!1,this.cb=t.source?t.source:null,this.ja=t.features?t.features:null,this.$d=t.snapTolerance?t.snapTolerance:12,this.L=t.type,this.b=oh(this.L),this.ia=t.minPoints?t.minPoints:this.b===Ou?3:2,this.fa=t.maxPoints?t.maxPoints:1/0,this.Ab=t.finishCondition?t.finishCondition:Ct;var e=t.geometryFunction;if(!e)if("Circle"===this.L)e=function(t,e){var i=e?e:new Ba([NaN,NaN]);return $a(i,t[0],Math.sqrt(nt(t[0],t[1]))),i};else{var i,e=this.b;e===Nu?i=ue:e===Lu?i=Ko:e===Ou&&(i=ve),e=function(t,e){var n=e;return n?n.O(t):n=new i(t),n}}this.A=e,this.B=this.j=this.a=this.l=this.f=this.h=null,this.ae=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.$=new is({source:new co({useSpatialIndex:!1,wrapX:t.wrapX?t.wrapX:!1}),style:t.style?t.style:Ya()}),this.qa=t.geometryName,this.Zd=t.condition?t.condition:Kn,this.ca=t.freehandCondition?t.freehandCondition:Jn,C(this,q("active"),this.eb,this)}function Ya(){var t=ts();return function(e){return t[e.N().K()]}}function Ka(t){this.b!==Lu&&this.b!==Ou||!this.ca(t)||(this.v=!0);var e=!this.v;return this.v&&t.type===Fl?(ih(this,t),e=!1):t.type===zl?e=Qa(this,t):t.type===ql&&(e=!1),nr.call(this,t)&&e}function Ja(t){return this.Zd(t)?(this.V=t.pixel,!0):this.v?(this.V=t.pixel,this.h||eh(this,t),!0):!1}function Za(t){this.v=!1;var e=this.V,i=t.pixel,n=e[0]-i[0],e=e[1]-i[1],i=!0;return n*n+e*e<=this.ae&&(Qa(this,t),this.h?this.b===Du?nh(this):th(this,t)?this.Ab(t)&&nh(this):ih(this,t):(eh(this,t),this.b===Nu&&nh(this)),i=!1),i}function Qa(t,e){if(t.h){var i,n=e.coordinate,r=t.f.N();t.b===Nu?i=t.a:t.b===Ou?(i=t.a[0],i=i[i.length-1],th(t,e)&&(n=t.h.slice())):(i=t.a,i=i[i.length-1]),i[0]=n[0],i[1]=n[1],t.A(t.a,r),t.l&&t.l.N().O(n),r instanceof ve&&t.b!==Ou?(t.j||(t.j=new zs(new Ko(null))),0>=r.f.length?n=null:(n=new he(null),le(n,r.b,r.a.slice(0,r.f[0]))),r=t.j.N(),Zo(r,n.b,n.a)):t.B&&(r=t.j.N(),r.O(t.B)),sh(t)}else r=e.coordinate.slice(),t.l?t.l.N().O(r):(t.l=new zs(new ue(r)),sh(t));return!0}function th(t,e){var i=!1;if(t.f){var n=!1,r=[t.h];if(t.b===Lu?n=t.a.length>t.ia:t.b===Ou&&(n=t.a[0].length>t.ia,r=[t.a[0][0],t.a[0][t.a[0].length-2]]),n)for(var n=e.map,s=0,o=r.length;o>s;s++){var a=r[s],h=No(n,a),l=e.pixel,i=l[0]-h[0],h=l[1]-h[1],l=t.v&&t.ca(e)?1:t.$d;if(i=Math.sqrt(i*i+h*h)<=l){t.h=a;break}}}return i}function eh(t,e){var i=e.coordinate;t.h=i,t.b===Nu?t.a=i.slice():t.b===Ou?(t.a=[[i.slice(),i.slice()]],t.B=t.a[0]):(t.a=[i.slice(),i.slice()],t.b===Du&&(t.B=t.a)),t.B&&(t.j=new zs(new Ko(t.B))),i=t.A(t.a),t.f=new zs,t.qa&&Gs(t.f,t.qa),Ws(t.f,i),sh(t),N(t,new Xa("drawstart",t.f))}function ih(t,e){var i,n,r=e.coordinate,s=t.f.N();t.b===Lu?(t.h=r.slice(),n=t.a,n.push(r.slice()),i=n.length>t.fa,t.A(n,s)):t.b===Ou&&(n=t.a[0],n.push(r.slice()),(i=n.length>t.fa)&&(t.h=n[0]),t.A(t.a,s)),sh(t),i&&nh(t)}function nh(t){var e=rh(t),i=t.a,n=e.N();t.b===Lu?(i.pop(),t.A(i,n)):t.b===Ou&&(i[0].pop(),i[0].push(i[0][0]),t.A(i,n)),"MultiPoint"===t.L?Ws(e,new na([i])):"MultiLineString"===t.L?Ws(e,new Qo([i])):"MultiPolygon"===t.L&&Ws(e,new ra([i])),N(t,new Xa("drawend",e)),t.ja&&t.ja.push(e),t.cb&&t.cb.fb(e)}function rh(t){t.h=null;var e=t.f;return e&&(t.f=null,t.l=null,t.j=null,t.$.Z().clear(!0)),e}function sh(t){var e=[];t.f&&e.push(t.f),t.j&&e.push(t.j),t.l&&e.push(t.l),t=t.$.Z(),t.clear(!0),t.Ra(e)}function oh(t){var e;return"Point"===t||"MultiPoint"===t?e=Nu:"LineString"===t||"MultiLineString"===t?e=Lu:"Polygon"===t||"MultiPolygon"===t?e=Ou:"Circle"===t&&(e=Du),e}function ah(t,e,i){A.call(this,t),this.features=e,this.mapBrowserEvent=i}function hh(t){er.call(this,{handleDownEvent:dh,handleDragEvent:mh,handleEvent:vh,handleUpEvent:gh}),this.qa=t.condition?t.condition:tr,this.ia=function(t){return Kn(t)&&Yn(t)},this.ja=t.deleteCondition?t.deleteCondition:this.ia,this.fa=this.b=null,this.$=[0,0],this.l=this.B=!1,this.a=new so,this.v=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.h=this.ca=!1,this.f=[],this.A=new is({source:new co({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:wh(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.V={Point:this.lg,LineString:this.qd,LinearRing:this.qd,Polygon:this.ng,MultiPoint:this.ig,MultiLineString:this.hg,MultiPolygon:this.kg,
GeometryCollection:this.gg},this.j=t.features,this.j.forEach(this.Wb,this),C(this.j,"add",this.qe,this),C(this.j,"remove",this.re,this),this.L=null}function lh(t,e){t.l||(t.l=!0,N(t,new ah("modifystart",t.j,e)))}function uh(t,e){ch(t,e),t.b&&0===t.j.La()&&(t.A.Z().bb(t.b),t.b=null),P(e,"change",t.Tc,t)}function ch(t,e){var i=t.a,n=[];i.forEach(function(t){e===t.feature&&n.push(t)});for(var r=n.length-1;r>=0;--r)i.remove(n[r])}function fh(t,e){var i=t.b;i?i.N().O(e):(i=new zs(new ue(e)),t.b=i,t.A.Z().fb(i))}function ph(t,e){return t.index-e.index}function dh(t){if(!this.qa(t))return!1;yh(this,t.pixel,t.map),this.f.length=0,this.l=!1;var e=this.b;if(e){var i=[],e=e.N().M(),n=rt([e]),n=ho(this.a,n),r={};n.sort(ph);for(var s=0,a=n.length;a>s;++s){var h=n[s],l=h.W,u=o(h.feature),c=h.depth;c&&(u+="-"+c.join("-")),r[u]||(r[u]=Array(2)),et(l[0],e)&&!r[u][0]?(this.f.push([h,0]),r[u][0]=h):et(l[1],e)&&!r[u][1]?("LineString"!==h.geometry.K()&&"MultiLineString"!==h.geometry.K()||!r[u][0]||0!==r[u][0].index)&&(this.f.push([h,1]),r[u][1]=h):o(l)in this.fa&&!r[u][0]&&!r[u][1]&&i.push([h,e])}for(i.length&&lh(this,t),t=i.length-1;t>=0;--t)this.Oe.apply(this,i[t])}return!!this.b}function mh(t){this.B=!1,lh(this,t),t=t.coordinate;for(var e=0,i=this.f.length;i>e;++e){for(var n=this.f[e],r=n[0],s=r.depth,o=r.geometry,a=o.M(),h=r.W,n=n[1];t.length<o.u;)t.push(0);switch(o.K()){case"Point":a=t,h[0]=h[1]=t;break;case"MultiPoint":a[r.index]=t,h[0]=h[1]=t;break;case"LineString":a[r.index+n]=t,h[n]=t;break;case"MultiLineString":a[s[0]][r.index+n]=t,h[n]=t;break;case"Polygon":a[s[0]][r.index+n]=t,h[n]=t;break;case"MultiPolygon":a[s[1]][s[0]][r.index+n]=t,h[n]=t}r=o,this.h=!0,r.O(a),this.h=!1}fh(this,t)}function gh(t){for(var e,i=this.f.length-1;i>=0;--i)e=this.f[i][0],oo(this.a,rt(e.W),e);return this.l&&(N(this,new ah("modifyend",this.j,t)),this.l=!1),!1}function vh(t){if(!(t instanceof an))return!0;this.L=t;var e;if(Me(t.map.S())[1]||t.type!=zl||this.o||(this.$=t.pixel,yh(this,t.pixel,t.map)),this.b&&this.ja(t))if(t.type==Dl&&this.B)e=!0;else{this.b.N();var i=!1;if(this.L&&this.L.type!=Fl){e=this.L,lh(this,e);var n,r,s,a,h,l,u,c,f,p=this.f,i={};for(a=p.length-1;a>=0;--a)s=p[a],u=s[0],c=o(u.feature),u.depth&&(c+="-"+u.depth.join("-")),c in i||(i[c]={}),0===s[1]?(i[c].right=u,i[c].index=u.index):1==s[1]&&(i[c].left=u,i[c].index=u.index+1);for(c in i){switch(l=i[c].right,a=i[c].left,s=i[c].index,h=s-1,u=void 0!==a?a:l,0>h&&(h=0),p=u.geometry,n=r=p.M(),f=!1,p.K()){case"MultiLineString":2<r[u.depth[0]].length&&(r[u.depth[0]].splice(s,1),f=!0);break;case"LineString":2<r.length&&(r.splice(s,1),f=!0);break;case"MultiPolygon":n=n[u.depth[1]];case"Polygon":n=n[u.depth[0]],4<n.length&&(s==n.length-1&&(s=0),n.splice(s,1),f=!0,0===s&&(n.pop(),n.push(n[0]),h=n.length-1))}f&&(n=p,this.h=!0,n.O(r),this.h=!1,r=[],void 0!==a&&(this.a.remove(a),r.push(a.W[0])),void 0!==l&&(this.a.remove(l),r.push(l.W[1])),void 0!==a&&void 0!==l&&(a={depth:u.depth,feature:u.feature,geometry:u.geometry,index:h,W:r},this.a.ba(rt(a.W),a)),bh(this,p,s,u.depth,-1),this.b&&(this.A.Z().bb(this.b),this.b=null))}i=!0,N(this,new ah("modifyend",this.j,e)),this.l=!1}e=i}return t.type==Dl&&(this.B=!1),nr.call(this,t)&&!e}function yh(t,e,i){function n(t,e){return nt(r,tt(r,t.W))-nt(r,tt(r,e.W))}var r=i.ra(e),s=i.ra([e[0]-t.v,e[1]+t.v]),a=i.ra([e[0]+t.v,e[1]-t.v]),s=rt([s,a]),s=ho(t.a,s);if(0<s.length){s.sort(n);var a=s[0].W,h=tt(r,a),l=No(i,h);if(Math.sqrt(nt(e,l))<=t.v){for(e=No(i,a[0]),i=No(i,a[1]),e=nt(l,e),i=nt(l,i),t.ca=Math.sqrt(Math.min(e,i))<=t.v,t.ca&&(h=e>i?a[1]:a[0]),fh(t,h),i={},i[o(a)]=!0,e=1,l=s.length;l>e&&(h=s[e].W,et(a[0],h[0])&&et(a[1],h[1])||et(a[0],h[1])&&et(a[1],h[0]));++e)i[o(h)]=!0;return void(t.fa=i)}}t.b&&(t.A.Z().bb(t.b),t.b=null)}function bh(t,e,i,n,r){lo(t.a,e.D(),function(t){t.geometry===e&&(void 0===n||void 0===t.depth||H(t.depth,n))&&t.index>i&&(t.index+=r)})}function wh(){var t=ts();return function(){return t.Point}}function xh(t,e,i,n){A.call(this,t),this.selected=e,this.deselected=i,this.mapBrowserEvent=n}function Mh(t){Wn.call(this,{handleEvent:Sh});var e=t?t:{};if(this.l=e.condition?e.condition:Yn,this.j=e.addCondition?e.addCondition:Pt,this.C=e.removeCondition?e.removeCondition:Pt,this.B=e.toggleCondition?e.toggleCondition:Jn,this.h=e.multi?e.multi:!1,this.g=e.filter?e.filter:Ct,this.a=new is({source:new co({useSpatialIndex:!1,features:e.features,wrapX:e.wrapX}),style:e.style?e.style:kh(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.layers)if("function"==typeof e.layers)t=function(t){return e.layers(t)};else{var i=e.layers;t=function(t){return 0<=i.indexOf(t)}}else t=Ct;this.f=t,this.b={},t=this.a.Z().g,C(t,"add",this.o,this),C(t,"remove",this.A,this)}function Sh(t){if(!this.l(t))return!0;var e=this.j(t),i=this.C(t),n=this.B(t),r=!e&&!i&&!n,s=t.map,a=this.a.Z().g,h=[],l=[];if(r)v(this.b),s.Ib(t.pixel,function(t,e){if(this.g(t,e)){l.push(t);var i=o(t);return this.b[i]=e,!this.h}},this,this.f),0<l.length&&1==a.La()&&a.Pc(0)==l[0]?l.length=0:(0!==a.La()&&(h=Array.prototype.concat(a.a),a.clear()),Fe(a,l));else{for(s.Ib(t.pixel,function(t,r){if(this.g(t,r)){if(!e&&!n||0<=a.a.indexOf(t))(i||n)&&0<=a.a.indexOf(t)&&(h.push(t),s=o(t),delete this.b[s]);else{l.push(t);var s=o(t);this.b[s]=r}return!this.h}},this,this.f),r=h.length-1;r>=0;--r)a.remove(h[r]);Fe(a,l)}return(0<l.length||0<h.length)&&N(this,new xh("select",l,h,t)),"pointermove"==t.type}function kh(){var t=ts();return B(t.Polygon,t.LineString),B(t.GeometryCollection,t.LineString),function(e){return t[e.N().K()]}}function Ch(t,e,i,n,r,s,o,a,h,l,u){if(Qe.call(this,r,0),this.w=void 0!==u?u:!1,this.o=o,this.l=a,this.i=null,this.b={},this.g=e,this.h=n,this.s=s?s:r,this.c=[],this.Oa=null,this.f=0,s=fi(n,this.s),a=this.h.D(),r=this.g.D(),s=a?xt(s,a):s,0===gt(s))this.state=4;else if((a=t.D())&&(r=r?xt(r,a):a),a=n.R(this.s[0]),u=yt(s),n=qt(i,t)(u,void 0,u.length),a=i.getPointResolution(a,u),u=i.Aa(),void 0!==u&&(a*=u),u=t.Aa(),void 0!==u&&(a/=u),n=t.getPointResolution(a,n)/a,isFinite(n)&&n>0&&(a/=n),n=a,!isFinite(n)||0>=n)this.state=4;else if(this.j=new Rs(t,i,s,r,n*(void 0!==l?l:.5)),0===this.j.i.length)this.state=4;else if(this.f=gi(e,n),i=Fs(this.j),r&&(t.c?(i[1]=f(i[1],r[1],r[3]),i[3]=f(i[3],r[1],r[3])):i=xt(i,r)),gt(i))if(t=ui(e,i,this.f),100>(t.H-t.G+1)*(t.J-t.I+1)){for(e=t.G;e<=t.H;e++)for(i=t.I;i<=t.J;i++)(l=h(this.f,e,i,o))&&this.c.push(l);0===this.c.length&&(this.state=4)}else this.state=3;else this.state=4}function Ph(t){To.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:Ah,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:Ha,this.h={},this.w={},this.$=t.reprojectionErrorThreshold}function Th(t,e,i,n,r,s,o){return e=[e,i,n],r=(i=Pi(t,e,s))?t.tileUrlFunction(i,r,s):void 0,r=new t.tileClass(e,void 0!==r?0:4,void 0!==r?r:"",t.crossOrigin,t.tileLoadFunction),r.key=o,C(r,"change",t.L,t),r}function _h(t,e,i,n,r,s){if(t.f&&s&&!Rt(t.f,s)){var o=t.Za(s);if(i=[e,i,n],e=t.Ha.apply(t,i),o.b.hasOwnProperty(e))return o.get(e);var a=t.f;n=t.na(a);var h=t.na(s),l=Pi(t,i,s);return t=new Ch(a,n,s,h,i,l,t.ib(r),t.Lb(),function(t,e,i,n){return jh(this,t,e,i,n,a)}.bind(t),t.$,!1),o.set(e,t),t}return jh(t,e,i,n,r,s)}function jh(t,e,i,n,r,s){var o,a=t.Ha(e,i,n),h=t.getKey();if(t.a.b.hasOwnProperty(a)){if(o=t.a.get(a),o.key!=h){var l=o;o.a&&o.a.key==h?(o=o.a,2==l.aa()&&(o.a=l)):(o=Th(t,e,i,n,r,s,h),2==l.aa()?o.a=l:l.a&&2==l.a.aa()&&(o.a=l.a,l.a=null)),o.a&&(o.a.a=null),t.a.replace(a,o)}}else o=Th(t,e,i,n,r,s,h),t.a.set(a,o);return o}function Ah(t,e){t.da().src=e}function Ih(t){t=t||{};var e=void 0!==t.projection?t.projection:"EPSG:3857",i=void 0!==t.tileGrid?t.tileGrid:bi({extent:xi(e),maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});Ph.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:t.opaque,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0})}function Eh(t){co.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,wrapX:t.wrapX}),this.w=void 0,this.ca=void 0!==t.distance?t.distance:20,this.o=[],this.L=t.geometryFunction||function(t){return t.N()},this.v=t.source,this.v.s("change",Eh.prototype.ja,this)}function Nh(t){if(void 0!==t.w){t.o.length=0;for(var e=ht(),i=t.ca*t.w,n=t.v.Vc(),r={},s=0,a=n.length;a>s;s++){var h=n[s];o(h).toString()in r||!(h=t.L(h))||(h=h.M(),ct(h,e),st(e,i,e),h=ho(t.v.a,e),h=h.filter(function(t){return t=o(t).toString(),t in r?!1:r[t]=!0}),t.o.push(Lh(t,h)))}}}function Lh(t,e){for(var i=[0,0],n=e.length-1;n>=0;--n){var r=t.L(e[n]);r?Q(i,r.M()):e.splice(n,1)}return n=1/e.length,i[0]*=n,i[1]*=n,i=new zs(new ue(i)),i.set("features",e),i}function Oh(t,e){var i=Object.keys(e).map(function(t){return t+"="+encodeURIComponent(e[t])}).join("&");return t=t.replace(/[?&]$/,""),t=-1===t.indexOf("?")?t+"?":t+"&",t+i}function Dh(t){t=t||{};var e;e=void 0!==t.attributions?t.attributions:[Ru],Ih.call(this,{attributions:e,cacheSize:t.cacheSize,crossOrigin:void 0!==t.crossOrigin?t.crossOrigin:"anonymous",opaque:void 0!==t.opaque?t.opaque:!0,maxZoom:void 0!==t.maxZoom?t.maxZoom:19,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileLoadFunction:t.tileLoadFunction,url:void 0!==t.url?t.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png",wrapX:t.wrapX})}function Rh(t){t=t||{},Ph.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0}),this.g=t.params||{},this.j=ht()}function qh(t){t=t||{};var e=t.params||{};if(Ph.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,opaque:!("TRANSPARENT"in e?e.TRANSPARENT:1),projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0!==t.wrapX?t.wrapX:!0}),this.l=void 0!==t.gutter?t.gutter:0,this.g=e,this.j=!0,this.o=t.serverType,this.C=void 0!==t.hidpi?t.hidpi:!0,this.v="",t=0,e=[],this.urls){var i,n;for(i=0,n=this.urls.length;n>i;++i)e[t++]=this.urls[i]}this.v=e.join("#"),this.B=ht();t:{for(t=(""+(this.g.VERSION||"1.3.0")).split("."),e=["1","3"],i=0;i<Math.max(t.length,e.length);i++){n=parseInt(t[i]||"0",10);var r=parseInt(e[i]||"0",10);if(n>r){t=1;break t}if(r>n){t=-1;break t}}t=0}this.j=t>=0,t=0;var s,e=[];for(s in this.g)e[t++]=s+"-"+this.g[s];ki(this,e.join("/"))}function Fh(t,e,i,n,r,s,o){var a=t.urls;if(a){if(o.WIDTH=i[0],o.HEIGHT=i[1],o[t.j?"CRS":"SRS"]=s.ua,"STYLES"in t.g||(o.STYLES=""),1!=r)switch(t.o){case"geoserver":i=90*r+.5|0,o.FORMAT_OPTIONS="FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+(";dpi:"+i):"dpi:"+i;break;case"mapserver":o.MAP_RESOLUTION=90*r;break;case"carmentaserver":case"qgis":o.DPI=90*r}return s=s.a,t.j&&"ne"==s.substr(0,2)&&(t=n[0],n[0]=n[1],n[1]=t,t=n[2],n[2]=n[3],n[3]=t),o.BBOX=n.join(","),Oh(1==a.length?a[0]:a[p((e[1]<<e[0])+e[2],a.length)],o)}}function zh(t){this.s=t.matrixIds,oi.call(this,{extent:t.extent,origin:t.origin,origins:t.origins,resolutions:t.resolutions,tileSize:t.tileSize,tileSizes:t.tileSizes,sizes:t.sizes})}function Wh(t){function e(t){return t="KVP"==n?Oh(t,s):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in s?s[e.toLowerCase()]:t}),function(e){if(e){var i={TileMatrix:r.s[e[0]],TileCol:e[1],TileRow:-e[2]-1};return Kh(i,o),e=t,e="KVP"==n?Oh(e,i):e.replace(/\{(\w+?)\}/g,function(t,e){return i[e]})}}}this.B=void 0!==t.version?t.version:"1.0.0",this.l=void 0!==t.format?t.format:"image/jpeg",this.g=void 0!==t.dimensions?t.dimensions:{},this.o=t.layer,this.j=t.matrixSet,this.v=t.style;var i=t.urls;void 0===i&&void 0!==t.url&&(i=Po(t.url));var n=this.C=void 0!==t.requestEncoding?t.requestEncoding:"KVP",r=t.tileGrid,s={layer:this.o,style:this.v,tilematrixset:this.j};"KVP"==n&&Kh(s,{Service:"WMTS",Request:"GetTile",Version:this.B,Format:this.l});var o=this.g,a=i&&0<i.length?ko(i.map(e)):Co;Ph.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,logo:t.logo,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:r,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:a,urls:i,wrapX:void 0!==t.wrapX?t.wrapX:!1}),ki(this,Gh(this))}function Gh(t){var e,i=0,n=[];for(e in t.g)n[i++]=e+"-"+t.g[e];return n.join("/")}var Bh,$h={},Hh=this,Vh="closure_uid_"+(1e9*Math.random()>>>0),Xh=0,Uh=Function("return this")(),Yh=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),Kh="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||!t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,r=arguments.length;r>n;++n){var s=arguments[n];if(void 0!==s&&null!==s)for(var o in s)s.hasOwnProperty(o)&&(i[o]=s[o])}return i},Jh="olm_"+(1e4*Math.random()|0);_.prototype.Qa=!1,_.prototype.Y=c,A.prototype.preventDefault=A.prototype.stopPropagation=function(){this.Cf=!0},u(E,_),E.prototype.addEventListener=function(t,e){var i=this.T[t];i||(i=this.T[t]=[]),-1===i.indexOf(e)&&i.push(e)},E.prototype.Y=function(){var t,e=S(this);for(t in e)k(this,t)},E.prototype.removeEventListener=function(t,e){var i=this.T[t];if(i){var n=i.indexOf(e);t in this.ha?(i[n]=c,++this.ha[t]):(i.splice(n,1),0===i.length&&delete this.T[t])}},u(O,E),O.prototype.c=function(){++this.i,N(this,"change")},O.prototype.s=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,r=Array(n),s=0;n>s;++s)r[s]=C(this,t[s],e,i);return r}return C(this,t,e,i)},O.prototype.jc=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,r=Array(n),s=0;n>s;++s)r[s]=C(this,t[s],e,i,!0);return r}return C(this,t,e,i,!0)},O.prototype.ma=function(t,e,i){if(Array.isArray(t))for(var n=0,r=t.length;r>n;++n)P(this,t[n],e,i);else P(this,t,e,i)},u(D,A),u(R,O);var Zh={};R.prototype.get=function(t){var e;return this.P.hasOwnProperty(t)&&(e=this.P[t]),e},R.prototype.va=function(){return Kh({},this.P)},R.prototype.set=function(t,e,i){i?this.P[t]=e:(i=this.P[t],this.P[t]=e,i!==e&&(e=q(t),N(this,new D(e,t,i)),N(this,new D("propertychange",t,i))))},Tt.prototype.offset=function(t,e,i){var n=t[1]*Math.PI/180;e/=this.radius;var r=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(t[0]*Math.PI/180+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(r)))/Math.PI,180*r/Math.PI]};var Qh=new Tt(6370997),tl={};tl.degrees=2*Math.PI*Qh.radius/360,tl.ft=.3048,tl.m=1,tl["us-ft"]=1200/3937,Bh=jt.prototype,Bh.D=function(){return this.h},Bh.$a=function(){return this.i},Bh.Aa=function(){return this.f||tl[this.i]},Bh.ke=function(t,e){if("degrees"==this.$a())return t;var i=Ft(this,Dt("EPSG:4326")),n=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2],n=i(n,n,2),i=(_t(n.slice(0,2),n.slice(2,4))+_t(n.slice(4,6),n.slice(6,8)))/2,n=this.Aa();return void 0!==n&&(i/=n),i},Bh.getPointResolution=function(t,e){return this.s(t,e)};var el={},il={},nl=null;if(u(Bt,R),Bt.prototype.D=function(t){this.v!=this.i&&(this.w=this.hb(this.w),this.v=this.i);var e=this.w;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},Ht.prototype.BYTES_PER_ELEMENT=4,Ht.prototype.set=function(t,e){e=e||0;for(var i=0;i<t.length&&e+i<this.length;i++)this[e+i]=t[i]},Ht.prototype.toString=Array.prototype.join,"undefined"==typeof Float32Array&&(Ht.BYTES_PER_ELEMENT=4,Ht.prototype.BYTES_PER_ELEMENT=Ht.prototype.BYTES_PER_ELEMENT,Ht.prototype.set=Ht.prototype.set,Ht.prototype.toString=Ht.prototype.toString,e("Float32Array",Ht,void 0)),Vt.prototype.BYTES_PER_ELEMENT=8,Vt.prototype.set=function(t,e){e=e||0;for(var i=0;i<t.length&&e+i<this.length;i++)this[e+i]=t[i]},Vt.prototype.toString=Array.prototype.join,"undefined"==typeof Float64Array){try{Vt.BYTES_PER_ELEMENT=8}catch(rl){}Vt.prototype.BYTES_PER_ELEMENT=Vt.prototype.BYTES_PER_ELEMENT,Vt.prototype.set=Vt.prototype.set,Vt.prototype.toString=Vt.prototype.toString,e("Float64Array",Vt,void 0)}new Float64Array(3),new Float64Array(3),new Float64Array(4),new Float64Array(4),new Float64Array(4),new Float64Array(16),u(Jt,Bt),Bh=Jt.prototype,Bh.hb=function(t){var e=this.a,i=this.a.length,n=this.u;return t=ut(t),mt(t,e,0,i,n)},Bh.Ob=function(t){if(this.o!=this.i&&(v(this.h),this.j=0,this.o=this.i),0>t||0!==this.j&&t<=this.j)return this;var e=t.toString();if(this.h.hasOwnProperty(e))return this.h[e];var i=this.Ia(t);return i.a.length<this.a.length?this.h[e]=i:(this.j=t,this)},Bh.Ia=function(){return this},Bh.Sa=function(t){this.a&&(t(this.a,this.a,this.u),this.c())},Bh.rotate=function(t,e){var i=this.a;if(i){for(var n=i.length,r=this.u,s=i?i:[],o=Math.cos(t),a=Math.sin(t),h=e[0],l=e[1],u=0,c=0;n>c;c+=r){var f=i[c]-h,p=i[c+1]-l;for(s[u++]=h+f*o-p*a,s[u++]=l+f*a+p*o,f=c+2;c+r>f;++f)s[u++]=i[f]}i&&s.length!=u&&(s.length=u),this.c()}},u(he,Jt),Bh=he.prototype,Bh.clone=function(){var t=new he(null);return le(t,this.b,this.a.slice()),t},Bh.M=function(){return re(this.a,0,this.a.length,this.u)},Bh.Ia=function(t){var e=[];return e.length=oe(this.a,0,this.a.length,this.u,t,e,0),t=new he(null),le(t,"XY",e),t},Bh.K=function(){return"LinearRing"},Bh.O=function(t,e){t?(te(this,e,t,1),this.a||(this.a=[]),this.a.length=ie(this.a,0,t,this.u),this.c()):le(this,"XY",null)},u(ue,Jt),Bh=ue.prototype,Bh.clone=function(){var t=new ue(null);return Qt(t,this.b,this.a.slice()),t.c(),t},Bh.M=function(){return this.a?this.a.slice():[]},Bh.hb=function(t){return ct(this.a,t)},Bh.K=function(){return"Point"},Bh.O=function(t,e){t?(te(this,e,t,0),this.a||(this.a=[]),this.a.length=ee(this.a,t)):Qt(this,"XY",null),this.c()},u(ve,Jt),Bh=ve.prototype,Bh.clone=function(){var t=new ve(null);return we(t,this.b,this.a.slice(),this.f.slice()),t},Bh.M=function(t){var e;return void 0!==t?(e=be(this).slice(),me(e,0,this.f,this.u,t)):e=this.a,se(e,0,this.f,this.u)},Bh.Ga=function(){return this.f},Bh.he=function(){return new ue(ye(this))},Bh.Ia=function(t){var e=[],i=[];return e.length=ae(this.a,0,this.f,this.u,Math.sqrt(t),e,0,i),t=new ve(null),we(t,"XY",e,i),t},Bh.K=function(){return"Polygon"},Bh.O=function(t,e){if(t){te(this,e,t,2),this.a||(this.a=[]);var i=ne(this.a,0,t,this.u,this.f);this.a.length=0===i.length?0:i[i.length-1],this.c()}else we(this,"XY",null,this.f)},u(xe,R),Bh=xe.prototype,Bh.constrainResolution=function(t,e,i){return this.a.resolution(t,e||0,i||0)},Bh.constrainRotation=function(t,e){return this.a.rotation(t,e||0)},Bh.la=function(){return this.get("center")},Bh.kf=function(){return this.h},Bh.R=function(){return this.get("resolution")},Bh.lf=function(){return this.l},Bh.aa=function(){var t=this.la(),e=this.h,i=this.R(),n=ke(this);return{center:[Math.round(t[0]/i)*i,Math.round(t[1]/i)*i],projection:void 0!==e?e:null,resolution:i,rotation:n}},Bh.ne=function(){var t,e=this.R();if(void 0!==e){var i,n=0;do{if(i=this.constrainResolution(this.g,n),i==e){t=n;break}++n}while(i>this.j)}return void 0!==t?this.f+t:t},Bh.ce=function(t,e,i){if(!(t instanceof Jt)){var n=t[0],r=t[1],s=t[2],o=t[3],n=[n,r,n,o,s,o,s,r,n,r],r=new ve(null);we(r,"XY",n,[n.length]),t=r}n=i||{},i=void 0!==n.padding?n.padding:[0,0,0,0];var a,o=void 0!==n.constrainResolution?n.constrainResolution:!0,r=void 0!==n.nearest?n.nearest:!1;a=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.g,n.maxZoom-this.f,0):0;var h=t.a,s=ke(this),n=Math.cos(-s),s=Math.sin(-s),l=1/0,u=1/0,c=-(1/0),f=-(1/0);t=t.u;for(var p=0,d=h.length;d>p;p+=t)var m=h[p]*n-h[p+1]*s,g=h[p]*s+h[p+1]*n,l=Math.min(l,m),u=Math.min(u,g),c=Math.max(c,m),f=Math.max(f,g);e=Se([l,u,c,f],[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e=isNaN(e)?a:Math.max(e,a),o&&(a=this.constrainResolution(e,0,0),!r&&e>a&&(a=this.constrainResolution(a,-1,0)),e=a),Pe(this,e),s=-s,a=(l+c)/2+(i[1]-i[3])/2*e,e=(u+f)/2+(i[0]-i[2])/2*e,this.ta([a*n-e*s,e*n+a*s])},Bh.rotate=function(t,e){if(void 0!==e){var i,n=this.la();void 0!==n&&(i=[n[0]-e[0],n[1]-e[1]],it(i,t-ke(this)),Q(i,e)),this.ta(i)}this.set("rotation",t)},Bh.ta=function(t){this.set("center",t)},Bh.Yf=function(t){t=this.constrainResolution(this.g,t-this.f,0),Pe(this,t)},u(Re,A),u(qe,R),Bh=qe.prototype,Bh.clear=function(){for(;0<this.La();)this.pop()},Bh.forEach=function(t,e){this.a.forEach(t,e)},Bh.Pc=function(t){return this.a[t]},Bh.La=function(){return this.get("length")},Bh.pop=function(){return ze(this,this.La()-1)},Bh.push=function(t){var e=this.a.length;return this.a.splice(e,0,t),We(this),N(this,new Re("add",t,this)),e},Bh.remove=function(t){var e,i,n=this.a;for(e=0,i=n.length;i>e;++e)if(n[e]===t)return ze(this,e)};var sl,ol=/^#(?:[0-9a-f]{3}){1,2}$/i,al=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,hl=/^(?:rgba)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|1|0\.\d{0,10})\)$/i,ll=function(){var t={},e=0;return function(i){var n;if(t.hasOwnProperty(i))n=t[i];else{if(e>=1024){n=0;for(var r in t)0===(3&n++)&&(delete t[r],--e)}var s,o;ol.exec(i)?(o=3==i.length-1?1:2,n=parseInt(i.substr(1+0*o,o),16),r=parseInt(i.substr(1+1*o,o),16),s=parseInt(i.substr(1+2*o,o),16),1==o&&(n=(n<<4)+n,r=(r<<4)+r,s=(s<<4)+s),n=[n,r,s,1]):(o=hl.exec(i))?(n=Number(o[1]),r=Number(o[2]),s=Number(o[3]),o=Number(o[4]),n=[n,r,s,o],n=$e(n,n)):(o=al.exec(i))?(n=Number(o[1]),r=Number(o[2]),s=Number(o[3]),n=[n,r,s,1],n=$e(n,n)):n=void 0,t[i]=n,++e}return n}}();t:{var ul=Hh.navigator;if(ul){var cl=ul.userAgent;if(cl){sl=cl;break t}}sl=""}var fl=-1!=sl.toLowerCase().indexOf("webkit")&&-1==sl.indexOf("Edge");u(Ue,A),u(Ye,R),Ye.prototype.Y=function(){Xe(this.element),R.prototype.Y.call(this)},Ye.prototype.setMap=function(t){this.o&&Xe(this.element);for(var e=0,i=this.w.length;i>e;++e)T(this.w[e]);this.w.length=0,(this.o=t)&&((this.C?this.C:t.o).appendChild(this.element),this.render!==c&&this.w.push(C(t,"postrender",this.render,this)),t.render())},Bh=Ke.prototype,Bh.clear=function(){this.i=0,this.b={},this.c=this.a=null},Bh.forEach=function(t,e){for(var i=this.a;i;)t.call(e,i.Pa,i.Ka,this),i=i.oa},Bh.get=function(t){return t=this.b[t],t===this.c?t.Pa:(t===this.a?(this.a=this.a.oa,this.a.Na=null):(t.oa.Na=t.Na,t.Na.oa=t.oa),t.oa=null,t.Na=this.c,this.c=this.c.oa=t,t.Pa)},Bh.pop=function(){var t=this.a;return delete this.b[t.Ka],t.oa&&(t.oa.Na=null),this.a=t.oa,this.a||(this.c=null),--this.i,t.Pa},Bh.replace=function(t,e){this.get(t),this.b[t].Pa=e},Bh.set=function(t,e){var i={Ka:t,oa:null,Na:this.c,Pa:e};this.c?this.c.oa=i:this.a=i,this.c=i,this.b[t]=i,++this.i},u(Je,Ke),Je.prototype.Fa=function(t){for(var e,i;Ze(this);){e=this.a.Pa,i=e.pa[0].toString();var n;if((n=i in t)&&(e=e.pa,n=Le(t[i],e[1],e[2])),n)break;j(this.pop())}},u(Qe,E),Qe.prototype.getKey=function(){return o(this).toString()},Qe.prototype.aa=function(){return this.state},u(ri,R),ri.prototype.xa=c,ri.prototype.aa=function(){return this.ia};var pl=[0,0,0];oi.prototype.D=function(){return this.j},oi.prototype.Ba=function(t){return this.b?this.b:this.g[t]},oi.prototype.R=function(t){return this.a[t]},u(Mi,ri),Bh=Mi.prototype,Bh.Uc=function(){return Ze(this.a)},Bh.Fa=function(t,e){var i=this.Za(t);i&&i.Fa(e)},Bh.Hc=function(){return 0},Bh.getKey=function(){return this.Ka},Bh.Ha=function(t,e,i){return t+"/"+e+"/"+i},Bh.Nb=function(){return this.V},Bh.na=function(t){return this.tileGrid?this.tileGrid:yi(t)},Bh.Za=function(t){var e=this.f;return e&&!Rt(e,t)?null:this.a},Bh.ib=function(){return this.ca},Bh.od=c,u(Ti,A),u(_i,Ye),_i.prototype.L=function(t){t.preventDefault(),Ai(this)},_i.prototype.V=function(t){this.f!==t&&(this.f=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.b&&Ai(this))},_i.prototype.X=function(t){this.f&&this.b!==t&&Ai(this)},u(Ii,Ye),Ii.prototype.j=function(t){if(t.preventDefault(),void 0!==this.g)this.g();else{t=this.o;var e=t.S();if(e){var i=ke(e);void 0!==i&&(0<this.f&&(i%=2*Math.PI,i<-Math.PI&&(i+=2*Math.PI),i>Math.PI&&(i-=2*Math.PI),t.ka(Ie({rotation:i,duration:this.f,easing:Te}))),e.set("rotation",0))}}},u(Ni,Ye),Ni.prototype.b=function(t,e){e.preventDefault();var i=this.o,n=i.S();if(n){var r=n.R();r&&(0<this.a&&i.ka(Ee({resolution:r,duration:this.a,easing:Te})),i=n.constrainResolution(r,t),Pe(n,i))}};var dl;u(Di,A);var ml=!1;try{ml=1===new MouseEvent("click",{buttons:1}).buttons}catch(rl){}var gl="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",vl=-1!==gl.indexOf("firefox"),yl=-1!==gl.indexOf("safari")&&-1===gl.indexOf("chrom"),bl=-1!==gl.indexOf("macintosh"),wl=Uh.devicePixelRatio||1,xl=!1,Ml=function(){if(!("HTMLCanvasElement"in Uh))return!1;try{var t=Ve();return t?(t.setLineDash&&(xl=!0),!0):!1}catch(e){return!1}}(),Sl="geolocation"in Uh.navigator,kl="ontouchstart"in Uh,Cl="PointerEvent"in Uh,Pl=!!Uh.navigator.msPointerEnabled;u(zi,Fi),Bh=zi.prototype,Bh.Re=function(t){if(!Wi(this,t)){if(1..toString()in this.c){var e=Gi(t);rn(this.a,Ll,e,t),delete this.c[1..toString()]}e=Gi(t),this.c[1..toString()]=t,rn(this.a,_l,e,t)}},Bh.Se=function(t){if(!Wi(this,t)){var e=Gi(t);rn(this.a,Tl,e,t)}},Bh.Ve=function(t){if(!Wi(this,t)){var e=this.c[1..toString()];e&&e.button===t.button&&(e=Gi(t),rn(this.a,jl,e,t),delete this.c[1..toString()])}},Bh.Ue=function(t){if(!Wi(this,t)){var e=Gi(t);nn(this.a,e,t)}},Bh.Te=function(t){if(!Wi(this,t)){var e=Gi(t);en(this.a,e,t)}},u(Bi,Fi),Bh=Bi.prototype,Bh.$e=function(t){this.c[t.pointerId.toString()]=t;var e=$i(this,t);rn(this.a,_l,e,t)},Bh.af=function(t){var e=$i(this,t);rn(this.a,Tl,e,t)},Bh.df=function(t){var e=$i(this,t);rn(this.a,jl,e,t),delete this.c[t.pointerId.toString()]},Bh.bf=function(t){var e=$i(this,t);en(this.a,e,t)},Bh.cf=function(t){var e=$i(this,t);nn(this.a,e,t)},Bh.Ze=function(t){var e=$i(this,t);rn(this.a,Ll,e,t),delete this.c[t.pointerId.toString()]},Bh.Ye=function(t){N(this.a,new Di("lostpointercapture",t,t))},Bh.Xe=function(t){N(this.a,new Di("gotpointercapture",t,t))},u(Hi,Fi),Bh=Hi.prototype,Bh.vf=function(t){sn(this.a,t)},Bh.wf=function(t){sn(this.a,t)},Bh.zf=function(t){sn(this.a,t)},Bh.xf=function(t){sn(this.a,t)},Bh.yf=function(t){sn(this.a,t)},Bh.uf=function(t){sn(this.a,t)},Bh.Qe=function(t){sn(this.a,t)},Bh.oe=function(t){sn(this.a,t)},u(Vi,Fi),Bh=Vi.prototype,Bh.gd=function(){this.f=0,this.i=void 0},Bh.cg=function(t){var e=t.touches,i=Object.keys(this.c),n=i.length;if(n>=e.length){var r,s,o,a=[];for(r=0;n>r;++r){s=i[r],o=this.c[s];var h;if(!(h=1==s))t:{h=e.length;for(var l,u=0;h>u;u++)if(l=e[u],l.identifier===s-2){h=!0;break t}h=!1}h||a.push(o.out)}for(r=0;r<a.length;++r)this.Fb(t,a[r])}e=t.changedTouches[0],i=Object.keys(this.c).length,(0===i||1===i&&1..toString()in this.c)&&(this.b=e.identifier,void 0!==this.i&&Uh.clearTimeout(this.i)),Yi(this,t),this.f++,Ui(this,t,this.qf)},Bh.qf=function(t,e){this.c[e.pointerId]={target:e.target,out:e,Yc:e.target};var i=this.a;e.bubbles=!0,rn(i,Al,e,t),i=this.a,e.bubbles=!1,rn(i,El,e,t),rn(this.a,_l,e,t)},Bh.bg=function(t){t.preventDefault(),Ui(this,t,this.We)},Bh.We=function(t,e){var i=this.c[e.pointerId];if(i){var n=i.out,r=i.Yc;rn(this.a,Tl,e,t),n&&r!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=r,n.target=r,e.target?(en(this.a,n,t),nn(this.a,e,t)):(e.target=r,e.relatedTarget=null,this.Fb(t,e))),i.out=e,i.Yc=e.target}},Bh.ag=function(t){Yi(this,t),Ui(this,t,this.dg)},Bh.dg=function(t,e){rn(this.a,jl,e,t),this.a.out(e,t);var i=this.a;e.bubbles=!1,rn(i,Nl,e,t),delete this.c[e.pointerId],e.isPrimary&&(this.b=void 0,this.i=Uh.setTimeout(this.gd.bind(this),200))},Bh.$f=function(t){Ui(this,t,this.Fb)},Bh.Fb=function(t,e){rn(this.a,Ll,e,t),this.a.out(e,t);var i=this.a;e.bubbles=!1,rn(i,Nl,e,t),delete this.c[e.pointerId],e.isPrimary&&(this.b=void 0,this.i=Uh.setTimeout(this.gd.bind(this),200))},u(Ki,E),Ki.prototype.b=function(t){var e=this.i[t.type];e&&e(t)},Ki.prototype.out=function(t,e){t.bubbles=!0,rn(this,Il,t,e)},Ki.prototype.Y=function(){for(var t,e=this.a.length,i=0;e>i;i++)t=this.a[i],Qi(this,Object.keys(t.g));E.prototype.Y.call(this)};var Tl="pointermove",_l="pointerdown",jl="pointerup",Al="pointerover",Il="pointerout",El="pointerenter",Nl="pointerleave",Ll="pointercancel",Ol=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];u(on,Ue),on.prototype.preventDefault=function(){Ue.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},on.prototype.stopPropagation=function(){Ue.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},u(an,on),u(hn,E),Bh=hn.prototype,Bh.Lc=function(t){un(this,t);var e=new an(Gl,this.b,t);N(this,e),!this.h&&0===t.button&&ln(this,this.c),0===this.o&&(this.i.forEach(T),this.i.length=0,this.h=!1,this.c=null,j(this.a),this.a=null)},Bh.Ce=function(t){un(this,t);var e=new an(Wl,this.b,t);N(this,e),this.c=t,0===this.i.length&&(this.a=new Ki(document),this.i.push(C(this.a,zl,this.hf,this),C(this.a,Gl,this.Lc,this),C(this.g,Bl,this.Lc,this)))},Bh.hf=function(t){if(t.clientX!=this.c.clientX||t.clientY!=this.c.clientY){this.h=!0;var e=new an(Fl,this.b,t,this.h);N(this,e)}t.preventDefault()},Bh.Rf=function(t){N(this,new an(t.type,this.b,t,!(!this.c||t.clientX==this.c.clientX&&t.clientY==this.c.clientY)))},Bh.Y=function(){this.j&&(T(this.j),this.j=null),this.s&&(T(this.s),this.s=null),this.i.forEach(T),this.i.length=0,this.a&&(j(this.a),this.a=null),this.g&&(j(this.g),this.g=null),E.prototype.Y.call(this)};var Dl="singleclick",Rl="click",ql="dblclick",Fl="pointerdrag",zl="pointermove",Wl="pointerdown",Gl="pointerup",Bl="pointercancel",$l={zg:Dl,og:Rl,pg:ql,sg:Fl,vg:zl,rg:Wl,yg:Gl,xg:"pointerover",wg:"pointerout",tg:"pointerenter",ug:"pointerleave",qg:Bl};u(cn,R),cn.prototype.D=function(){return this.get("extent")},cn.prototype.b=function(){return this.get("visible")},cn.prototype.w=function(t){this.set("visible",t)},u(dn,A),u(mn,cn),Bh=mn.prototype,Bh.Mb=function(t){return t=t?t:[],t.push(fn(this)),t},Bh.Z=function(){return this.get("source")||null},Bh.Pb=function(){var t=this.Z();return t?t.aa():"undefined"},Bh.nf=function(){this.c()},Bh.Ie=function(){this.f&&(T(this.f),this.f=null);var t=this.Z();t&&(this.f=C(t,"change",this.nf,this)),this.c()},Bh.setMap=function(t){this.a&&(T(this.a),this.a=null),t||this.c(),this.g&&(T(this.g),this.g=null),t&&(this.a=C(t,"precompose",function(t){var e=fn(this);e.Tb=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[o(this)]=e},this),this.g=C(this,"change",t.render,t),this.c())},u(yn,O),yn.prototype.xa=c,yn.prototype.j=function(t,e,i,n){return t=t.slice(),vn(e.pixelToCoordinateMatrix,t,t),this.xa(t,e,Ct,this)?i.call(n,this.a):void 0},u(Tn,Pn),Bh=Tn.prototype,Bh.Jb=function(){if(this.i)return this.i;var t=this.g,e=this.ab();if("fraction"==this.h||"fraction"==this.s){if(!e)return null;t=this.g.slice(),"fraction"==this.h&&(t[0]*=e[0]),"fraction"==this.s&&(t[1]*=e[1])}if("top-left"!=this.c){if(!e)return null;t===this.g&&(t=this.g.slice()),("top-right"==this.c||"bottom-right"==this.c)&&(t[0]=-t[0]+e[0]),("bottom-left"==this.c||"bottom-right"==this.c)&&(t[1]=-t[1]+e[1])}return this.i=t},Bh.da=function(t){return this.a.da(t)},Bh.nb=function(){return this.a.b},Bh.Xc=function(){var t=this.a;if(!t.h)if(t.s){var e=t.c[0],i=t.c[1],n=Ve(e,i);n.fillRect(0,0,e,i),t.h=n.canvas}else t.h=t.a;return t.h;
},Bh.Ba=function(){if(this.f)return this.f;var t=this.U;if("top-left"!=this.b){var e=this.ab(),i=this.a.c;if(!e||!i)return null;t=t.slice(),("top-right"==this.b||"bottom-right"==this.b)&&(t[0]=i[0]-e[0]-t[0]),("bottom-left"==this.b||"bottom-right"==this.b)&&(t[1]=i[1]-e[1]-t[1])}return this.f=t},Bh.ab=function(){return this.j?this.j:this.a.c},Bh.Oc=function(t,e){return C(this.a,"change",t,e)},Bh.load=function(){this.a.load()},Bh.ld=function(t,e){P(this.a,"change",t,e)},u(_n,E),_n.prototype.j=function(){this.b=3,this.g.forEach(T),this.g=null,N(this,"change")},_n.prototype.o=function(){if(this.b=2,this.c&&(this.a.width=this.c[0],this.a.height=this.c[1]),this.c=[this.a.width,this.a.height],this.g.forEach(T),this.g=null,jn(this),!this.s&&null!==this.f){this.i.width=this.a.width,this.i.height=this.a.height;var t=this.i.getContext("2d");t.drawImage(this.a,0,0);for(var e=t.getImageData(0,0,this.a.width,this.a.height),i=e.data,n=this.f[0]/255,r=this.f[1]/255,s=this.f[2]/255,o=0,a=i.length;a>o;o+=4)i[o]*=n,i[o+1]*=r,i[o+2]*=s;t.putImageData(e,0,0)}N(this,"change")},_n.prototype.da=function(){return this.i?this.i:this.a},_n.prototype.load=function(){if(0==this.b){this.b=1,this.g=[C(this.a,"error",this.j,this,!0),C(this.a,"load",this.o,this,!0)];try{this.a.src=this.l}catch(t){this.j()}}},function(){var t=An;t.Ic=function(){return t.Mc?t.Mc:t.Mc=new t}}(),An.prototype.clear=function(){this.a={},this.c=0},An.prototype.get=function(t,e,i){return t=e+":"+t+":"+(i?Be(i):"null"),t in this.a?this.a[t]:null},An.prototype.set=function(t,e,i,n){this.a[e+":"+t+":"+(i?Be(i):"null")]=n,++this.c},u(In,_),Bh=In.prototype,Bh.Y=function(){for(var t in this.c)j(this.c[t])},Bh.xa=function(t,e,i,n,r,s){function a(t,r){var s=o(t).toString(),a=e.layerStates[o(r)].Tb;return s in e.skippedFeatureUids&&!a?void 0:i.call(n,t,a?r:null)}var h,l=e.viewState,u=l.resolution,c=l.projection,l=t;if(c.c){var c=c.D(),f=St(c),p=t[0];(p<c[0]||p>c[2])&&(l=[p+f*Math.ceil((c[0]-p)/f),t[1]])}for(c=e.layerStatesArray,f=c.length-1;f>=0;--f){var d=c[f],p=d.layer;if(d.visible&&u>=d.minResolution&&u<d.maxResolution&&r.call(s,p)&&(d=Nn(this,p),p.Z()&&(h=d.xa(p.Z().A?l:t,e,a,n)),h))return h}},Bh.we=function(){this.f.render()},Bh.ed=c,Bh.Uf=function(t,e){for(var i in this.c)if(!(e&&i in e.layerStates)){var n=i,r=this.c[n];delete this.c[n],T(this.i[n]),delete this.i[n],j(r)}},On.prototype.clear=function(){this.a.length=0,this.c.length=0,v(this.b)},On.prototype.h=function(t){var e=this.j(t);return 1/0!=e?(this.a.push(t),this.c.push(e),this.b[this.f(t)]=!0,Rn(this,0,this.a.length-1),!0):!1},u(qn,On),qn.prototype.h=function(t){var e=On.prototype.h.call(this,t);return e&&C(t[0],"change",this.s,this),e},qn.prototype.s=function(t){t=t.target;var e=t.aa();(2===e||3===e||4===e||5===e)&&(P(t,"change",this.s,this),t=t.getKey(),t in this.i&&(delete this.i[t],--this.g),this.l())},u(Wn,R),Wn.prototype.setMap=function(t){this.w=t},u(Hn,Wn),u(er,Wn),er.prototype.C=function(t){return t},u(rr,er),rr.prototype.C=Pt,u(hr,er),hr.prototype.C=Pt,u(fr,_),fr.prototype.Y=function(){this.setMap(null)},fr.prototype.setMap=function(t){if(this.a){this.a.w.removeChild(this.c);var e=this.c.style;e.left=e.top=e.width=e.height="inherit"}(this.a=t)&&this.a.w.appendChild(this.c)},fr.prototype.N=function(){return this.i},u(mr,A),u(gr,er),gr.prototype.N=function(){return this.a.N()},gr.prototype.h=c,u(xr,gr),xr.prototype.h=function(){var t=this.w,e=t.S(),i=t.Ma(),n=this.N().D();if(this.v){var r;r=e.la();var s=e.R(),o=ke(e);r=bt(r,s,o,i);var a,n=[No(t,vt(n)),No(t,[n[2],n[3]])],s=ut(void 0),o=0;for(a=n.length;a>o;++o)dt(s,n[o]);s=1/Se(s,i),n=(r[2]-r[0])/2*(s-1),s=(r[3]-r[1])/2*(s-1),r[0]-=n,r[2]+=n,r[1]-=s,r[3]+=s,n=r}i=e.constrainResolution(Se(n,i)),r=e.R(),s=e.la(),t.ka(Ee({resolution:r,duration:this.f,easing:Te})),t.ka(Ae({source:s,duration:this.f,easing:Te})),e.ta(yt(n)),Pe(e,i)},u(Mr,Wn),u(kr,Wn),u(Pr,Wn),Pr.prototype.h=function(t){var e=f(this.a,-1,1),i=t.S();t.render(),Bn(t,i,-e,this.g,this.j),this.a=0,this.g=null,this.f=this.b=void 0},u(_r,er),_r.prototype.C=Pt,u(Er,er),Er.prototype.C=Pt,u(Dr,cn),Bh=Dr.prototype,Bh.kb=function(){this.b()&&this.c()},Bh.ye=function(){this.g.forEach(T),this.g.length=0;var t=this.get("layers");this.g.push(C(t,"add",this.xe,this),C(t,"remove",this.ze,this));for(var e in this.a)this.a[e].forEach(T);v(this.a);var i,n,t=t.a;for(e=0,i=t.length;i>e;e++)n=t[e],this.a[o(n).toString()]=[C(n,"propertychange",this.kb,this),C(n,"change",this.kb,this)];this.c()},Bh.xe=function(t){t=t.element;var e=o(t).toString();this.a[e]=[C(t,"propertychange",this.kb,this),C(t,"change",this.kb,this)],this.c()},Bh.ze=function(t){t=o(t.element).toString(),this.a[t].forEach(T),delete this.a[t],this.c()},Bh.Mb=function(t){var e=void 0!==t?t:[],i=e.length;this.get("layers").forEach(function(t){t.Mb(e)}),t=fn(this);var n,r;for(n=e.length;n>i;i++)r=e[i],r.opacity*=t.opacity,r.visible=r.visible&&t.visible,r.maxResolution=Math.min(r.maxResolution,t.maxResolution),r.minResolution=Math.max(r.minResolution,t.minResolution),void 0!==t.extent&&(r.extent=void 0!==r.extent?xt(r.extent,t.extent):t.extent);return e},Bh.Pb=function(){return"ready"},u(Rr,jt),Rr.prototype.getPointResolution=function(t,e){return t/Yh(e[1]/6378137)};var Hl=6378137*Math.PI,Vl=[-Hl,-Hl,Hl,Hl],Xl=[-180,-85,180,85],Ul="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new Rr(t)}),Yl=new Tt(6378137);u(zr,jt),zr.prototype.getPointResolution=function(t){return t};var Kl=[-180,-90,180,90],Jl=Math.PI*Yl.radius/180,Zl=[new zr("CRS:84"),new zr("EPSG:4326","neu"),new zr("urn:ogc:def:crs:EPSG::4326","neu"),new zr("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new zr("urn:ogc:def:crs:OGC:1.3:CRS84"),new zr("urn:ogc:def:crs:OGC:2:84"),new zr("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new zr("urn:x-ogc:def:crs:EPSG:4326","neu")];u(Wr,mn);var Ql=[0,0,0,1],tu=[],eu=[0,0,0,1];!function(){function t(){}t.prototype=$r.prototype,Hr.c=$r.prototype,Hr.prototype=new t,Hr.prototype.constructor=Hr,Hr.a=function(t,e,i){for(var n=Array(arguments.length-2),r=2;r<arguments.length;r++)n[r-2]=arguments[r];return $r.prototype[e].apply(t,n)}}(),u(Yr,Pn),Bh=Yr.prototype,Bh.Jb=function(){return this.h},Bh.Xc=function(){return this.f},Bh.da=function(){return this.i},Bh.nb=function(){return 2},Bh.Ba=function(){return this.s},Bh.ab=function(){return this.j},Bh.Oc=c,Bh.load=c,Bh.ld=c,Bh.Fc=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),e.arc(t.size/2,t.size/2,this.c,0,2*Math.PI,!0),this.g&&(e.fillStyle=He(this.g.a),e.fill()),this.a&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.jd,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},Bh.yc=function(t,e,i,n){e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),e.arc(t.size/2,t.size/2,this.c,0,2*Math.PI,!0),e.fillStyle=Be(Ql),e.fill(),this.a&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.jd,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},Kr.prototype.N=function(){return this.f},Kr.prototype.da=function(){return this.h};var iu=null;u(is,mn),is.prototype.o=function(t){this.l=void 0!==t?t:Qr,this.j=null===t?void 0:Zr(this.l),this.c()},u(ns,pn),Bh=ns.prototype,Bh.xc=function(t){if(kt(this.h,t.D())){if(this.c||this.a){this.c&&hs(this,this.c),this.a&&ls(this,this.a);var e;e=this.U;var i=this.T,n=t.a;e=n?Kt(n,0,n.length,t.u,e,i):null,i=e[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),n=this.i,n.beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.c&&n.fill(),this.a&&n.stroke()}""!==this.b&&ss(this,t.Vb(),2,2)}},Bh.Dc=function(t){var e=t.a;t=t.u,this.g&&rs(this,e,e.length),""!==this.b&&ss(this,e,e.length,t)},Bh.Bc=function(t){var e=t.a;t=t.u,this.g&&rs(this,e,e.length),""!==this.b&&ss(this,e,e.length,t)},Bh.zc=function(t){if(kt(this.h,t.D())){if(this.a){ls(this,this.a);var e=this.i,i=t.a;e.beginPath(),os(this,i,0,i.length,t.u,!1),e.stroke()}""!==this.b&&(t=Jo(t),ss(this,t,2,2))}},Bh.Ac=function(t){var e=t.D();if(kt(this.h,e)){if(this.a){ls(this,this.a);var e=this.i,i=t.a,n=0,r=t.Ga(),s=t.u;e.beginPath();var o,a;for(o=0,a=r.length;a>o;++o)n=os(this,i,n,r[o],s,!1);e.stroke()}""!==this.b&&(t=ta(t),ss(this,t,t.length,2))}},Bh.Ec=function(t){if(kt(this.h,t.D())){if(this.a||this.c){this.c&&hs(this,this.c),this.a&&ls(this,this.a);var e=this.i;e.beginPath(),as(this,be(t),0,t.Ga(),t.u),this.c&&e.fill(),this.a&&e.stroke()}""!==this.b&&(t=ye(t),ss(this,t,2,2))}},Bh.Cc=function(t){if(kt(this.h,t.D())){if(this.a||this.c){this.c&&hs(this,this.c),this.a&&ls(this,this.a);var e,i,n=this.i,r=oa(t),s=0,o=t.f,a=t.u;for(e=0,i=o.length;i>e;++e){var h=o[e];n.beginPath(),s=as(this,r,s,h,a),this.c&&n.fill(),this.a&&n.stroke()}}""!==this.b&&(t=sa(t),ss(this,t,t.length,2))}},Bh.Ea=function(t,e){if(t){var i=t.a;this.c={fillStyle:He(i?i:Ql)}}else this.c=null;if(e){var i=e.c,n=e.i,r=e.a,s=e.g,o=e.b,a=e.f;this.a={lineCap:void 0!==n?n:"round",lineDash:r?r:tu,lineJoin:void 0!==s?s:"round",lineWidth:this.w*(void 0!==o?o:1),miterLimit:void 0!==a?a:10,strokeStyle:Be(i?i:eu)}}else this.a=null},Bh.gc=function(t){if(t){var e=t.Jb(),i=t.da(1),n=t.Ba(),r=t.ab();this.v=e[0],this.A=e[1],this.C=r[1],this.g=i,this.o=t.l,this.V=n[0],this.va=n[1],this.$=t.o,this.Qa=t.T,this.f=t.w,this.ca=t.P,this.B=r[0]}else this.g=null},Bh.ya=function(t){if(t){var e=t.i;e?(e=e.a,this.s={fillStyle:He(e?e:Ql)}):this.s=null;var i=t.h;if(i){var e=i.c,n=i.i,r=i.a,s=i.g,o=i.b,i=i.f;this.l={lineCap:void 0!==n?n:"round",lineDash:r?r:tu,lineJoin:void 0!==s?s:"round",lineWidth:void 0!==o?o:1,miterLimit:void 0!==i?i:10,strokeStyle:Be(e?e:eu)}}else this.l=null;var e=t.a,n=t.c,r=t.b,s=t.g,o=t.f,i=t.s,a=t.j;t=t.l,this.L={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==a?a:"center",textBaseline:void 0!==t?t:"middle"},this.b=void 0!==i?i:"",this.fa=void 0!==n?this.w*n:0,this.ia=void 0!==r?this.w*r:0,this.P=void 0!==s?s:0,this.j=this.w*(void 0!==o?o:1)}else this.b=""},u(us,yn),us.prototype.f=function(t,e,i){cs(this,"precompose",i,t,void 0);var n=this.da();if(n){var r=e.extent,s=void 0!==r;if(s){var o=t.pixelRatio,a=t.size[0]*o,h=t.size[1]*o,l=t.viewState.rotation,u=Mt(r),c=[r[2],r[3]],f=[r[2],r[1]],r=vt(r);vn(t.coordinateToPixelMatrix,u,u),vn(t.coordinateToPixelMatrix,c,c),vn(t.coordinateToPixelMatrix,f,f),vn(t.coordinateToPixelMatrix,r,r),i.save(),Gr(i,-l,a/2,h/2),i.beginPath(),i.moveTo(u[0]*o,u[1]*o),i.lineTo(c[0]*o,c[1]*o),i.lineTo(f[0]*o,f[1]*o),i.lineTo(r[0]*o,r[1]*o),i.clip(),Gr(i,l,a/2,h/2)}o=this.B(),a=i.globalAlpha,i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(o[12]),Math.round(o[13]),Math.round(n.width*o[0]),Math.round(n.height*o[5])),i.globalAlpha=a,s&&i.restore()}cs(this,"postcompose",i,t,void 0)};var nu=["Polygon","LineString","Image","Text"];u(ps,pn),ps.prototype.A=function(t,e,i,n,r){gs(this,t,e,i,n,r,this.c,void 0)},ps.prototype.mb=c,ps.prototype.Kb=function(){return this.ha},u(bs,ps),bs.prototype.Dc=function(t,e){if(this.s){ms(this,e);var i=t.a,n=this.coordinates.length,i=ds(this,i,0,i.length,t.u,!1);this.c.push([4,n,i,this.s,this.b,this.f,this.h,this.j,this.l,this.o,this.T,this.w,this.P,this.U,this.v]),this.a.push([4,n,i,this.L,this.b,this.f,this.h,this.j,this.l,this.o,this.T,this.w,this.P,this.U,this.v]),ys(this,e)}},bs.prototype.Bc=function(t,e){if(this.s){ms(this,e);var i=t.a,n=this.coordinates.length,i=ds(this,i,0,i.length,t.u,!1);this.c.push([4,n,i,this.s,this.b,this.f,this.h,this.j,this.l,this.o,this.T,this.w,this.P,this.U,this.v]),this.a.push([4,n,i,this.L,this.b,this.f,this.h,this.j,this.l,this.o,this.T,this.w,this.P,this.U,this.v]),ys(this,e)}},bs.prototype.mb=function(){vs(this),this.f=this.b=void 0,this.s=this.L=null,this.v=this.U=this.w=this.T=this.o=this.l=this.j=this.P=this.h=void 0},bs.prototype.gc=function(t){var e=t.Jb(),i=t.ab(),n=t.Xc(1),r=t.da(1),s=t.Ba();this.b=e[0],this.f=e[1],this.L=n,this.s=r,this.h=i[1],this.j=t.l,this.l=s[0],this.o=s[1],this.T=t.o,this.w=t.T,this.P=t.w,this.U=t.P,this.v=i[0]},u(ws,ps),Bh=ws.prototype,Bh.Kb=function(){return this.i||(this.i=ot(this.ha),0<this.g&&st(this.i,this.resolution*(this.g+1)/2,this.i)),this.i},Bh.zc=function(t,e){var i=this.b,n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(Ms(this),ms(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash],[1]),i=t.a,xs(this,i,0,i.length,t.u),this.a.push([12]),ys(this,e))},Bh.Ac=function(t,e){var i=this.b,n=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==n){Ms(this),ms(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash],[1]);var r,s,i=t.Ga(),n=t.a,o=t.u,a=0;for(r=0,s=i.length;s>r;++r)a=xs(this,n,a,i[r],o);this.a.push([12]),ys(this,e)}},Bh.mb=function(){this.b.Rb!=this.coordinates.length&&this.c.push([12]),vs(this),this.b=null},Bh.Ea=function(t,e){var i=e.c;this.b.strokeStyle=Be(i?i:eu),i=e.i,this.b.lineCap=void 0!==i?i:"round",i=e.a,this.b.lineDash=i?i:tu,i=e.g,this.b.lineJoin=void 0!==i?i:"round",i=e.b,this.b.lineWidth=void 0!==i?i:1,i=e.f,this.b.miterLimit=void 0!==i?i:10,this.b.lineWidth>this.g&&(this.g=this.b.lineWidth,this.i=null)},u(Ss,ps),Bh=Ss.prototype,Bh.xc=function(t,e){var i=this.b,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Cs(this),ms(this,e),this.a.push([9,Be(Ql)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash]);var r=t.a,n=this.coordinates.length;ds(this,r,0,r.length,t.u,!1),r=[1],n=[2,n],this.c.push(r,n),this.a.push(r,n),n=[7],this.a.push(n),void 0!==i.fillStyle&&this.c.push(n),void 0!==i.strokeStyle&&(i=[12],this.c.push(i),this.a.push(i)),ys(this,e)}},Bh.Ec=function(t,e){var i=this.b,n=i.strokeStyle;(void 0!==i.fillStyle||void 0!==n)&&(Cs(this),ms(this,e),this.a.push([9,Be(Ql)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash]),i=t.Ga(),n=be(t),ks(this,n,0,i,t.u),ys(this,e))},Bh.Cc=function(t,e){var i=this.b,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){Cs(this),ms(this,e),this.a.push([9,Be(Ql)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash]);var r,s,i=t.f,n=oa(t),o=t.u,a=0;for(r=0,s=i.length;s>r;++r)a=ks(this,n,a,i[r],o);ys(this,e)}},Bh.mb=function(){vs(this),this.b=null;var t=this.$;if(0!==t){var e,i,n=this.coordinates;for(e=0,i=n.length;i>e;++e)n[e]=t*Math.round(n[e]/t)}},Bh.Kb=function(){return this.i||(this.i=ot(this.ha),0<this.g&&st(this.i,this.resolution*(this.g+1)/2,this.i)),this.i},Bh.Ea=function(t,e){var i=this.b;if(t){var n=t.a;i.fillStyle=He(n?n:Ql)}else i.fillStyle=void 0;e?(n=e.c,i.strokeStyle=Be(n?n:eu),n=e.i,i.lineCap=void 0!==n?n:"round",n=e.a,i.lineDash=n?n.slice():tu,n=e.g,i.lineJoin=void 0!==n?n:"round",n=e.b,i.lineWidth=void 0!==n?n:1,n=e.f,i.miterLimit=void 0!==n?n:10,i.lineWidth>this.g&&(this.g=i.lineWidth,this.i=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},u(Ps,ps),Ps.prototype.ya=function(t){if(t){var e=t.i;e?(e=e.a,e=He(e?e:Ql),this.b?this.b.fillStyle=e:this.b={fillStyle:e}):this.b=null;var i=t.h;if(i){var e=i.c,n=i.i,r=i.a,s=i.g,o=i.b,i=i.f,n=void 0!==n?n:"round",r=r?r.slice():tu,s=void 0!==s?s:"round",o=void 0!==o?o:1,i=void 0!==i?i:10,e=Be(e?e:eu);if(this.f){var a=this.f;a.lineCap=n,a.lineDash=r,a.lineJoin=s,a.lineWidth=o,a.miterLimit=i,a.strokeStyle=e}else this.f={lineCap:n,lineDash:r,lineJoin:s,lineWidth:o,miterLimit:i,strokeStyle:e}}else this.f=null;var h=t.a,e=t.c,n=t.b,r=t.g,o=t.f,i=t.s,s=t.j,a=t.l;t=void 0!==h?h:"10px sans-serif",s=void 0!==s?s:"center",a=void 0!==a?a:"middle",this.h?(h=this.h,h.font=t,h.textAlign=s,h.textBaseline=a):this.h={font:t,textAlign:s,textBaseline:a},this.s=void 0!==i?i:"",this.j=void 0!==e?e:0,this.l=void 0!==n?n:0,this.o=void 0!==r?r:0,this.T=void 0!==o?o:1}else this.s=""},_s.prototype.xa=function(t,e,i,n,r){var s=this.g;gn(s,.5,.5,1/e,-1/e,-i,-t[0],-t[1]);var o=this.i;o.clearRect(0,0,1,1);var a;return void 0!==this.b&&(a=ht(),dt(a,t),st(a,e*this.b,a)),Is(this,o,s,i,n,function(t){if(0<o.getImageData(0,0,1,1).data[3]){if(t=r(t))return t;o.clearRect(0,0,1,1)}},a)},_s.prototype.A=function(t,e,i,n,r,s){var o=Object.keys(this.a).map(Number);o.sort(z);var a=this.c,h=a[0],l=a[1],u=a[2],a=a[3],h=[h,l,h,a,u,a,u,l];Kt(h,0,8,2,i,h),t.save(),t.beginPath(),t.moveTo(h[0],h[1]),t.lineTo(h[2],h[3]),t.lineTo(h[4],h[5]),t.lineTo(h[6],h[7]),t.closePath(),t.clip(),s=s?s:nu;for(var c,f,h=0,l=o.length;l>h;++h)for(c=this.a[o[h].toString()],u=0,a=s.length;a>u;++u)f=c[s[u]],void 0!==f&&f.A(t,e,i,n,r);t.restore()};var ru,su={Image:bs,LineString:ws,Polygon:Ss,Text:Ps},ou={Point:function(t,e,i,n){var r=i.da();if(r){if(2!=r.nb())return;var s=As(t,i.a,"Image");s.gc(r),s.Dc(e,n)}(r=i.c)&&(t=As(t,i.a,"Text"),t.ya(r),Ts(t,e.a,2,2,n))},LineString:function(t,e,i,n){var r=i.i;if(r){var s=As(t,i.a,"LineString");s.Ea(null,r),s.zc(e,n)}(r=i.c)&&(t=As(t,i.a,"Text"),t.ya(r),Ts(t,Jo(e),2,2,n))},Polygon:function(t,e,i,n){var r=i.g,s=i.i;if(r||s){var o=As(t,i.a,"Polygon");o.Ea(r,s),o.Ec(e,n)}(r=i.c)&&(t=As(t,i.a,"Text"),t.ya(r),Ts(t,ye(e),2,2,n))},MultiPoint:function(t,e,i,n){var r=i.da();if(r){if(2!=r.nb())return;var s=As(t,i.a,"Image");s.gc(r),s.Bc(e,n)}(r=i.c)&&(t=As(t,i.a,"Text"),t.ya(r),i=e.a,Ts(t,i,i.length,e.u,n))},MultiLineString:function(t,e,i,n){var r=i.i;if(r){var s=As(t,i.a,"LineString");s.Ea(null,r),s.Ac(e,n)}(r=i.c)&&(t=As(t,i.a,"Text"),t.ya(r),e=ta(e),Ts(t,e,e.length,2,n))},MultiPolygon:function(t,e,i,n){var r=i.g,s=i.i;if(s||r){var o=As(t,i.a,"Polygon");o.Ea(r,s),o.Cc(e,n)}(r=i.c)&&(t=As(t,i.a,"Text"),t.ya(r),e=sa(e),Ts(t,e,e.length,2,n))},GeometryCollection:function(t,e,i,n){e=e.g;var r,s;for(r=0,s=e.length;s>r;++r)ou[e[r].K()](t,e[r],i,n)},Circle:function(t,e,i,n){var r=i.g,s=i.i;if(r||s){var o=As(t,i.a,"Polygon");o.Ea(r,s),o.xc(e,n)}(r=i.c)&&(t=As(t,i.a,"Text"),t.ya(r),Ts(t,e.Vb(),2,2,n))}},au=Uh.navigator,hu=Uh.chrome,lu=-1<au.userAgent.indexOf("OPR"),uu=-1<au.userAgent.indexOf("Edge");ru=!(!au.userAgent.match("CriOS")&&null!==hu&&void 0!==hu&&"Google Inc."===au.vendor&&0==lu&&0==uu),u(zs,R),Bh=zs.prototype,Bh.clone=function(){var t=new zs(this.va());Gs(t,this.a);var e=this.N();return e&&Ws(t,e.clone()),(e=this.h)&&t.Qc(e),t},Bh.N=function(){return this.get(this.a)},Bh.sa=function(){return this.g},Bh.ee=function(){return this.a},Bh.se=function(){this.c()},Bh.jb=function(){this.b&&(T(this.b),this.b=null);var t=this.N();t&&(this.b=C(t,"change",this.se,this)),this.c()},Bh.Qc=function(t){this.f=(this.h=t)?Bs(t):void 0,this.c()},Bh.tb=function(t){this.g=t,this.c()};var cu,fu=document.implementation.createDocument("","",null),pu=Zs();!function(){var e={},i={wa:e};!function(t){if("object"==typeof e&&"undefined"!=typeof i)i.wa=t();else{var r;r="undefined"!=typeof window?window:"undefined"!=typeof n?n:"undefined"!=typeof self?self:this,r.Bg=t()}}(function(){return function e(i,n,r){function s(a,h){if(!n[a]){if(!i[a]){var l="function"==typeof t&&t;if(!h&&l)return l(a,!0);if(o)return o(a,!0);throw l=Error("Cannot find module '"+a+"'"),l.code="MODULE_NOT_FOUND",l}l=n[a]={wa:{}},i[a][0].call(l.wa,function(t){var e=i[a][1][t];return s(e?e:t)},l,l.wa,e,i,n,r)}return n[a].wa}for(var o="function"==typeof t&&t,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(t,e){function i(t,e){return this instanceof i?(this.Cb=Math.max(4,t||9),this.oc=Math.max(2,Math.ceil(.4*this.Cb)),e&&this.Ud(e),void this.clear()):new i(t,e)}function n(t,e){r(t,0,t.children.length,e,t)}function r(t,e,i,n,r){r||(r=f(null)),r.G=1/0,r.I=1/0,r.H=-(1/0),r.J=-(1/0);for(var o;i>e;e++)o=t.children[e],s(r,t.ea?n(o):o);return r}function s(t,e){t.G=Math.min(t.G,e.G),t.I=Math.min(t.I,e.I),t.H=Math.max(t.H,e.H),t.J=Math.max(t.J,e.J)}function o(t,e){return t.G-e.G}function a(t,e){return t.I-e.I}function h(t){return(t.H-t.G)*(t.J-t.I)}function l(t){return t.H-t.G+(t.J-t.I)}function u(t,e){return t.G<=e.G&&t.I<=e.I&&e.H<=t.H&&e.J<=t.J}function c(t,e){return e.G<=t.H&&e.I<=t.J&&e.H>=t.G&&e.J>=t.I}function f(t){return{children:t,height:1,ea:!0,G:1/0,I:1/0,H:-(1/0),J:-(1/0)}}function p(t,e,i,n,r){for(var s,o=[e,i];o.length;)i=o.pop(),e=o.pop(),n>=i-e||(s=e+Math.ceil((i-e)/n/2)*n,d(t,s,e,i,r),o.push(e,s,s,i))}e.wa=i;var d=t("quickselect");i.prototype={all:function(){return this.kc(this.data,[])},search:function(t){var e=this.data,i=[],n=this.ga;if(!c(t,e))return i;for(var r,s,o,a,h=[];e;){for(r=0,s=e.children.length;s>r;r++)o=e.children[r],a=e.ea?n(o):o,c(t,a)&&(e.ea?i.push(o):u(t,a)?this.kc(o,i):h.push(o));e=h.pop()}return i},load:function(t){if(!t||!t.length)return this;if(t.length<this.oc){for(var e=0,i=t.length;i>e;e++)this.ba(t[e]);return this}return t=this.mc(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.pc(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.nc(t,this.data.height-t.height-1,!0)):this.data=t,this},ba:function(t){return t&&this.nc(t,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,s,o=this.data,a=this.ga(t),h=[],l=[];o||h.length;){if(o||(o=h.pop(),n=h[h.length-1],i=l.pop(),s=!0),o.ea){t:{r=t;var c=o.children,f=e;if(f){for(var p=0;p<c.length;p++)if(f(r,c[p])){r=p;break t}r=-1}else r=c.indexOf(r)}if(-1!==r){o.children.splice(r,1),h.push(o),this.Td(h);break}}s||o.ea||!u(o,a)?n?(i++,o=n.children[i],s=!1):o=null:(h.push(o),l.push(i),i=0,n=o,o=o.children[0])}return this},ga:function(t){return t},Gb:o,Hb:a,toJSON:function(){return this.data},kc:function(t,e){for(var i=[];t;)t.ea?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},mc:function(t,e,i,r){var s,o=i-e+1,a=this.Cb;if(a>=o)return s=f(t.slice(e,i+1)),n(s,this.ga),s;r||(r=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,r-1))),s=f([]),s.ea=!1,s.height=r;var h,l,u,o=Math.ceil(o/a),a=o*Math.ceil(Math.sqrt(a));for(p(t,e,i,a,this.Gb);i>=e;e+=a)for(l=Math.min(e+a-1,i),p(t,e,l,o,this.Hb),h=e;l>=h;h+=o)u=Math.min(h+o-1,l),s.children.push(this.mc(t,h,u,r-1));return n(s,this.ga),s},Sd:function(t,e,i,n){for(var r,s,o,a,l,u,c,f;n.push(e),!e.ea&&n.length-1!==i;){for(c=f=1/0,r=0,s=e.children.length;s>r;r++)o=e.children[r],l=h(o),u=(Math.max(o.H,t.H)-Math.min(o.G,t.G))*(Math.max(o.J,t.J)-Math.min(o.I,t.I))-l,f>u?(f=u,c=c>l?l:c,a=o):u===f&&c>l&&(c=l,a=o);e=a||e.children[0]}return e},nc:function(t,e,i){var n=this.ga;i=i?t:n(t);var n=[],r=this.Sd(i,this.data,e,n);for(r.children.push(t),s(r,i);e>=0&&n[e].children.length>this.Cb;)this.Vd(n,e),e--;this.Pd(i,n,e)},Vd:function(t,e){var i=t[e],r=i.children.length,s=this.oc;this.Qd(i,s,r),r=this.Rd(i,s,r),r=f(i.children.splice(r,i.children.length-r)),r.height=i.height,r.ea=i.ea,n(i,this.ga),n(r,this.ga),e?t[e-1].children.push(r):this.pc(i,r)},pc:function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.ea=!1,n(this.data,this.ga)},Rd:function(t,e,i){var n,s,o,a,l,u,c;for(l=u=1/0,n=e;i-e>=n;n++)s=r(t,0,n,this.ga),o=r(t,n,i,this.ga),a=Math.max(0,Math.min(s.H,o.H)-Math.max(s.G,o.G))*Math.max(0,Math.min(s.J,o.J)-Math.max(s.I,o.I)),s=h(s)+h(o),l>a?(l=a,c=n,u=u>s?s:u):a===l&&u>s&&(u=s,c=n);return c},Qd:function(t,e,i){var n=t.ea?this.Gb:o,r=t.ea?this.Hb:a,s=this.lc(t,e,i,n);e=this.lc(t,e,i,r),e>s&&t.children.sort(n)},lc:function(t,e,i,n){t.children.sort(n),n=this.ga;var o,a,h=r(t,0,e,n),u=r(t,i-e,i,n),c=l(h)+l(u);for(o=e;i-e>o;o++)a=t.children[o],s(h,t.ea?n(a):a),c+=l(h);for(o=i-e-1;o>=e;o--)a=t.children[o],s(u,t.ea?n(a):a),c+=l(u);return c},Pd:function(t,e,i){for(;i>=0;i--)s(e[i],t)},Td:function(t){for(var e,i=t.length-1;i>=0;i--)0===t[i].children.length?i>0?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():n(t[i],this.ga)},Ud:function(t){var e=["return a"," - b",";"];this.Gb=new Function("a","b",e.join(t[0])),this.Hb=new Function("a","b",e.join(t[1])),this.ga=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},{quickselect:2}],2:[function(t,e){function i(t,e,s,o,a){for(s=s||0,o=o||t.length-1,a=a||r;o>s;){if(o-s>600){var h=o-s+1,l=e-s+1,u=Math.log(h),c=.5*Math.exp(2*u/3),u=.5*Math.sqrt(u*c*(h-c)/h)*(0>l-h/2?-1:1);i(t,e,Math.max(s,Math.floor(e-l*c/h+u)),Math.min(o,Math.floor(e+(h-l)*c/h+u)),a)}for(h=t[e],l=s,c=o,n(t,s,e),0<a(t[o],h)&&n(t,s,o);c>l;){for(n(t,l,c),l++,c--;0>a(t[l],h);)l++;for(;0<a(t[c],h);)c--}0===a(t[s],h)?n(t,s,c):(c++,n(t,c,o)),e>=c&&(s=c+1),c>=e&&(o=c-1)}}function n(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function r(t,e){return e>t?-1:t>e?1:0}e.wa=i},{}]},{},[1])(1)}),cu=i.wa}(),Bh=so.prototype,Bh.ba=function(t,e){var i={G:t[0],I:t[1],H:t[2],J:t[3],value:e};this.a.ba(i),this.c[o(e)]=i},Bh.load=function(t,e){for(var i=Array(e.length),n=0,r=e.length;r>n;n++){var s=t[n],a=e[n],s={G:s[0],I:s[1],H:s[2],J:s[3],value:a};i[n]=s,this.c[o(a)]=s}this.a.load(i)},Bh.remove=function(t){t=o(t);var e=this.c[t];return delete this.c[t],null!==this.a.remove(e)},Bh.forEach=function(t,e){return uo(ao(this),t,e)},Bh.clear=function(){this.a.clear(),this.c={}},Bh.D=function(){var t=this.a.data;return[t.G,t.I,t.H,t.J]},u(co,ri),Bh=co.prototype,Bh.fb=function(t){var e=o(t).toString();if(po(this,e,t)){fo(this,e,t);var i=t.N();i?(e=i.D(),this.a&&this.a.ba(e,t)):this.b[e]=t,N(this,new bo("addfeature",t))}this.c()},Bh.Ra=function(t){mo(this,t),this.c()},Bh.clear=function(t){if(t){for(var e in this.l)this.l[e].forEach(T);this.g||(this.l={},this.h={},this.j={})}else if(this.a){this.a.forEach(this.fc,this);for(var i in this.b)this.fc(this.b[i])}this.g&&this.g.clear(),this.a&&this.a.clear(),this.B.clear(),this.b={},N(this,new bo("clear")),this.c()},Bh.Vc=function(){var t;return this.g?t=this.g.a:this.a&&(t=ao(this.a),b(this.b)||B(t,y(this.b))),t},Bh.D=function(){return this.a.D()},Bh.pf=function(){return this.V},Bh.Wc=function(t){t=t.target;var e=o(t).toString(),i=t.N();i?(i=i.D(),e in this.b?(delete this.b[e],this.a&&this.a.ba(i,t)):this.a&&oo(this.a,i,t)):e in this.b||(this.a&&this.a.remove(t),this.b[e]=t),i=t.sa(),void 0!==i?(i=i.toString(),e in this.j?(delete this.j[e],this.h[i]=t):this.h[i]!==t&&(yo(this,t),this.h[i]=t)):e in this.j||(yo(this,t),this.j[e]=t),this.c(),N(this,new bo("changefeature",t))},Bh.Sb=function(t,e,i){var n=this.B;t=this.qa(t,e);var r,s;for(r=0,s=t.length;s>r;++r){var o=t[r];lo(n,o,function(t){return at(t.extent,o)})||(this.C.call(this,o,e,i),n.ba(o,{extent:o.slice()}))}},Bh.bb=function(t){var e=o(t).toString();e in this.b?delete this.b[e]:this.a&&this.a.remove(t),this.fc(t),this.c()},Bh.fc=function(t){var e=o(t).toString();this.l[e].forEach(T),delete this.l[e];var i=t.sa();void 0!==i?delete this.h[i.toString()]:delete this.j[e],N(this,new bo("removefeature",t))},u(bo,A),u(wo,us),wo.prototype.f=function(t,e,i){var n=fs(this,t,0);cs(this,"precompose",i,t,n);var r,s,o,a,h=t.pixelRatio,l=t.viewState,u=l.center,c=l.projection,f=l.resolution,l=l.rotation,p=t.size,d=Math.round(h*p[0]/2),m=Math.round(h*p[1]/2),p=h/f,g=this.a,v=g.Z(),y=v.Hc(c),b=v.na(c),g=L(g,"render"),w=i;(l||g)&&(w=this.b,r=w.canvas,a=gi(b,f),o=Ci(v,a,h,c),a=ni(mi(b,a)),o=o[0]/a[0],f=i.canvas.width*o,s=i.canvas.height*o,a=Math.round(Math.sqrt(f*f+s*s)),r.width!=a?r.width=r.height=a:w.clearRect(0,0,a,a),r=(a-f)/2/o,s=(a-s)/2/o,p*=o,d=Math.round(o*(d+r)),m=Math.round(o*(m+s))),f=w.globalAlpha,w.globalAlpha=e.opacity;var x,M=this.g,S=v.Nb(c)&&1==e.opacity;S||(M.reverse(),x=[]);var k=e.extent;if(e=void 0!==k){var C=Mt(k),P=[k[2],k[3]],T=[k[2],k[1]],k=vt(k);vn(t.coordinateToPixelMatrix,C,C),vn(t.coordinateToPixelMatrix,P,P),vn(t.coordinateToPixelMatrix,T,T),vn(t.coordinateToPixelMatrix,k,k);var _=r||0,j=s||0;w.save();var A=w.canvas.width*h/2,I=w.canvas.height*h/2;Gr(w,-l,A,I),w.beginPath(),w.moveTo(C[0]*h+_,C[1]*h+j),w.lineTo(P[0]*h+_,P[1]*h+j),w.lineTo(T[0]*h+_,T[1]*h+j),w.lineTo(k[0]*h+_,k[1]*h+j),w.clip(),Gr(w,l,A,I)}for(C=0,P=M.length;P>C;++C){var T=M[C],k=T.pa,I=fi(b,k,this.o),A=k[0],E=vt(fi(b,di(b,u,A,this.w))),k=Math.round(St(I)*p),_=Math.round(wt(I)*p),j=Math.round((I[0]-E[0])*p/k)*k+d+Math.round((E[0]-u[0])*p),I=Math.round((E[1]-I[3])*p/_)*_+m+Math.round((u[1]-E[1])*p);if(!S){E=[j,I,j+k,I+_],w.save();for(var N=0,O=x.length;O>N;++N){var D=x[N];kt(E,D)&&(w.beginPath(),w.moveTo(E[0],E[1]),w.lineTo(E[0],E[3]),w.lineTo(E[2],E[3]),w.lineTo(E[2],E[1]),w.moveTo(D[0],D[1]),w.lineTo(D[2],D[1]),w.lineTo(D[2],D[3]),w.lineTo(D[0],D[3]),w.closePath(),w.clip())}x.push(E)}A=Ci(v,A,h,c),w.drawImage(T.da(),y,y,A[0],A[1],j,I,k,_),S||w.restore()}e&&w.restore(),g&&(h=r-d/o+d,c=s-m/o+m,u=gn(this.h,a/2-h,a/2-c,p,-p,-l,-u[0]+h/p,-u[1]-c/p),cs(this,"render",w,t,u)),(l||g)&&i.drawImage(w.canvas,-Math.round(r),-Math.round(s),a/o,a/o),w.globalAlpha=f,cs(this,"postcompose",i,t,n)},wo.prototype.l=function(t,e){function i(t){return t=t.aa(),2==t||4==t||3==t&&!v}var n=t.pixelRatio,r=t.viewState,s=r.projection,o=this.a,a=o.Z(),h=a.na(s),l=gi(h,r.resolution,0),u=h.R(l),c=r.center;if(u==r.resolution?(c=kn(c,u,t.size),r=bt(c,u,r.rotation,t.size)):r=t.extent,void 0!==e.extent&&(r=xt(r,e.extent)),r[2]<r[0]||r[3]<r[1])return!1;u=li(h,r,u),c={},c[l]={};var f,p,d,m,g=bn(a,s,c),v=o.get("useInterimTilesOnError"),y=ht(),b=new Ne(0,0,0,0);for(d=u.G;d<=u.H;++d)for(m=u.I;m<=u.J;++m)f=_h(a,l,d,m,n,s),!i(f)&&f.a&&(f=f.a),i(f)?c[l][f.pa.toString()]=f:(p=ai(h,f.pa,g,b,y),p||(f=hi(h,f.pa,b,y))&&g(l+1,f));g=Object.keys(c).map(Number),g.sort(z);var w,y=[],b=0;for(d=g.length;d>b;++b)for(w in f=g[b],m=c[f])f=m[w],2==f.aa()&&y.push(f);return this.g=y,Sn(t.usedTiles,a,l,u),Cn(t,a,h,n,s,r,l,o.get("preload")),wn(t,a),Mn(t,a),!0},wo.prototype.j=function(t,e,i,n){var r=this.b.canvas,s=e.size;return r.width=s[0],r.height=s[1],this.f(e,fn(this.a),this.b),0<this.b.getImageData(t[0],t[1],1,1).data[3]?i.call(n,this.a):void 0},u(xo,us),xo.prototype.f=function(t,e,i){var n=t.extent,r=t.pixelRatio,s=e.Tb?t.skippedFeatureUids:{},o=t.viewState,a=o.projection,o=o.rotation,h=a.D(),l=this.a.Z(),u=fs(this,t,0);cs(this,"precompose",i,t,u);var c=this.g;if(c&&!b(c.a)){var f;L(this.a,"render")?(this.h.canvas.width=i.canvas.width,this.h.canvas.height=i.canvas.height,f=this.h):f=i;var p=f.globalAlpha;f.globalAlpha=e.opacity,e=t.size[0]*r;var d=t.size[1]*r;if(Gr(f,-o,e/2,d/2),c.A(f,r,u,o,s),l.A&&a.c&&!at(h,n)){for(var a=n[0],l=St(h),m=0;a<h[0];)--m,u=l*m,u=fs(this,t,u),c.A(f,r,u,o,s),a+=l;for(m=0,a=n[2];a>h[2];)++m,u=l*m,u=fs(this,t,u),c.A(f,r,u,o,s),a-=l;u=fs(this,t,0)}Gr(f,o,e/2,d/2),f!=i&&(cs(this,"render",f,t,u),i.drawImage(f.canvas,0,0)),f.globalAlpha=p}cs(this,"postcompose",i,t,u)},xo.prototype.xa=function(t,e,i,n){if(this.g){var r=this.a,s={};return this.g.xa(t,e.viewState.resolution,e.viewState.rotation,{},function(t){var e=o(t).toString();return e in s?void 0:(s[e]=!0,i.call(n,t,r))})}},xo.prototype.A=function(){var t=this.a;t.b()&&"ready"==t.Pb()&&this.c()},xo.prototype.l=function(t){function e(t){var e,n=t.f;if(n?e=n.call(t,l):(n=i.j)&&(e=n(t,l)),e){if(e){if(n=!1,Array.isArray(e))for(var r=0,s=e.length;s>r;++r)n=Ls(f,t,e[r],Ns(l,u),this.A,this)||n;else n=Ls(f,t,e,Ns(l,u),this.A,this)||n;t=n}else t=!1;this.b=this.b||t}}var i=this.a,n=i.Z();xn(t.attributions,n.X),Mn(t,n);var r=t.viewHints[0],s=t.viewHints[1],o=i.v,a=i.A;if(!this.b&&!o&&r||!a&&s)return!0;var h=t.extent,a=t.viewState,r=a.projection,l=a.resolution,u=t.pixelRatio,s=i.i,c=i.h,o=i.get("renderOrder");if(void 0===o&&(o=Es),h=st(h,c*l),c=a.projection.D(),n.A&&a.projection.c&&!at(c,t.extent)&&(t=Math.max(St(h)/2,St(c)),h[0]=c[0]-t,h[2]=c[2]+t),!this.b&&this.P==l&&this.v==s&&this.w==o&&at(this.o,h))return!0;this.g=null,this.b=!1;var f=new _s(.5*l/u,h,l,i.h);if(n.Sb(h,l,r),o){var p=[];vo(n,h,function(t){p.push(t)},this),p.sort(o),p.forEach(e,this)}else vo(n,h,e,this);return js(f),this.P=l,this.v=s,this.w=o,this.o=h,this.g=f,!0},u(To,Mi),To.prototype.L=function(t){switch(t=t.target,t.aa()){case 1:N(this,new Ti("tileloadstart",t));break;case 2:N(this,new Ti("tileloadend",t));break;case 3:N(this,new Ti("tileloaderror",t))}},To.prototype.od=function(t,e,i){t=this.Ha(t,e,i),this.a.b.hasOwnProperty(t)&&this.a.get(t)},u(jo,In),jo.prototype.K=function(){return"canvas"},jo.prototype.ed=function(t){if(t){var e=this.g,i=t.pixelRatio,n=Math.round(t.size[0]*i),i=Math.round(t.size[1]*i);
this.a.width!=n||this.a.height!=i?(this.a.width=n,this.a.height=i):e.clearRect(0,0,n,i);var r=t.viewState.rotation,s=t.viewState,o=t.coordinateToPixelMatrix;gn(o,t.size[0]/2,t.size[1]/2,1/s.resolution,-1/s.resolution,-s.rotation,-s.center[0],-s.center[1]),Ut(o,t.pixelToCoordinateMatrix),Ao(this,"precompose",t),s=t.layerStatesArray,V(s),Gr(e,r,n/2,i/2);var a,h,l,u,o=t.viewState.resolution;for(a=0,h=s.length;h>a;++a)u=s[a],l=u.layer,l=Nn(this,l),u.visible&&o>=u.minResolution&&o<u.maxResolution&&"ready"==u.Zf&&l.l(t,u)&&l.f(t,u,e);Gr(e,-r,n/2,i/2),Ao(this,"postcompose",t),this.b||(this.a.style.display="",this.b=!0);for(var c in this.c)if(!(c in t.layerStates)){t.postRenderFunctions.push(this.Uf.bind(this));break}t.postRenderFunctions.push(En)}else this.b&&(this.a.style.display="none",this.b=!1)};var du=["canvas","webgl","dom"];u(Io,R),Bh=Io.prototype,Bh.Wd=function(t){this.f.push(t)},Bh.Xd=function(t){this.h.push(t)},Bh.qc=function(t){var e=t.sa();void 0!==e&&(this.Zc[e.toString()]=t),t.setMap(this)},Bh.ka=function(t){this.render(),Array.prototype.push.apply(this.A,arguments)},Bh.Y=function(){j(this.ca),j(this.C),P(this.a,"wheel",this.Ja,this),P(this.a,"mousewheel",this.Ja,this),void 0!==this.g&&(Uh.removeEventListener("resize",this.g,!1),this.g=void 0),this.j&&(Uh.cancelAnimationFrame(this.j),this.j=void 0),this.set("target",null),R.prototype.Y.call(this)},Bh.Ib=function(t,e,i,n,r){return this.b?(t=this.ra(t),this.C.xa(t,this.b,e,void 0!==i?i:null,void 0!==n?n:Ct,void 0!==r?r:null)):void 0},Bh.jf=function(t,e,i,n,r){if(this.b){t:{var s=this.C,o=this.b;i=void 0!==i?i:null,n=void 0!==n?n:Ct,r=void 0!==r?r:null;var a,h,l=o.viewState.resolution,u=o.layerStatesArray;for(h=u.length-1;h>=0;--h){a=u[h];var c=a.layer;if(a.visible&&l>=a.minResolution&&l<a.maxResolution&&n.call(r,c)&&(a=Nn(s,c).j(t,o,e,i))){t=a;break t}}t=void 0}return t}},Bh.Ub=function(){return this.get("target")},Bh.ra=function(t){var e=this.b;return e?(t=t.slice(),vn(e.pixelToCoordinateMatrix,t,t)):null},Bh.je=function(){return this.h},Bh.Ma=function(){return this.get("size")},Bh.S=function(){return this.get("view")},Bh.me=function(t,e,i,n){var r=this.b;return r&&e in r.wantedTiles&&r.wantedTiles[e][t.pa.toString()]?(t=i[0]-r.focus[0],i=i[1]-r.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},Bh.Ja=function(t,e){var i=new on(e||t.type,this,t);this.Kc(i)},Bh.Kc=function(t){if(this.b){this.X=t.coordinate,t.frameState=this.b;var e,i=this.f.a;if(!1!==N(this,t))for(e=i.length-1;e>=0;e--){var n=i[e];if(n.get("active")&&!n.handleEvent(t))break}}},Bh.Fe=function(){var t=this.b,e=this.ja;if(0!==e.a.length){var i=16,n=i;if(t){var r=t.viewHints;r[0]&&(i=this.Ab?8:0,n=2),r[1]&&(i=this.Bb?8:0,n=2)}if(e.g<i){var s,o,a,r=e.j,h=e.a,l=e.c,u=0,c=h.length;for(o=0;c>o;++o)s=h[o],a=r(s),1/0==a?delete e.b[e.f(s)]:(l[u]=a,h[u++]=s);for(h.length=u,l.length=u,r=(e.a.length>>1)-1;r>=0;r--)Dn(e,r);for(r=0;e.g<i&&n>r&&0<e.a.length;)h=e,u=h.a,c=h.c,l=u[0],1==u.length?(u.length=0,c.length=0):(u[0]=u.pop(),c[0]=c.pop(),Dn(h,0)),u=h.f(l),delete h.b[u],h=l[0],l=h.getKey(),0!==h.aa()||l in e.i||(e.i[l]=!0,++e.g,++r,h.load())}}for(e=this.fa,n=0,i=e.length;i>n;++n)e[n](this,t);e.length=0},Bh.He=function(){this.render()},Bh.Je=function(){var t;if(this.Ub()&&(t=Eo(this)),this.l){for(var e=0,i=this.l.length;i>e;++e)T(this.l[e]);this.l=null}t?(t.appendChild(this.a),t=this.$?this.$:t,this.l=[C(t,"keydown",this.Ja,this),C(t,"keypress",this.Ja,this)],this.g||(this.g=this.nd.bind(this),Uh.addEventListener("resize",this.g,!1))):(Xe(this.a),void 0!==this.g&&(Uh.removeEventListener("resize",this.g,!1),this.g=void 0)),this.nd()},Bh.Ke=function(){this.render()},Bh.Ne=function(){this.render()},Bh.Me=function(){this.B&&(T(this.B),this.B=null);var t=this.S();t&&(this.B=C(t,"propertychange",this.Ne,this)),this.render()},Bh.ue=function(){this.render()},Bh.ve=function(){this.render()},Bh.te=function(){this.v&&(this.v.forEach(T),this.v=null);var t=this.get("layergroup");t&&(this.v=[C(t,"propertychange",this.ve,this),C(t,"change",this.ue,this)]),this.render()},Bh.render=function(){void 0===this.j&&(this.j=Uh.requestAnimationFrame(this.qa))},Bh.Sf=function(t){return this.f.remove(t)},Bh.Tf=function(t){return this.h.remove(t)},Bh.Vf=function(t){var e,n,r,s=this.Ma(),a=this.S(),h=ht(),u=null;if((e=void 0!==s&&0<s[0]&&0<s[1]&&a)&&(e=!!a.la()&&void 0!==a.R()),e){var u=Me(a,this.b?this.b.viewHints:void 0),c=this.get("layergroup").Mb(),f={};for(e=0,n=c.length;n>e;++e)f[o(c[e].layer)]=c[e];r=a.aa(),u={animate:!1,attributions:{},coordinateToPixelMatrix:this.cb,extent:h,focus:this.X?this.X:r.center,index:this.eb++,layerStates:f,layerStatesArray:c,logos:Kh({},this.yb),pixelRatio:this.Db,pixelToCoordinateMatrix:this.Eb,postRenderFunctions:[],size:s,skippedFeatureUids:this.V,tileQueue:this.ja,time:t,usedTiles:{},viewState:r,viewHints:u,wantedTiles:{}}}if(u){for(t=this.A,e=s=0,n=t.length;n>e;++e)a=t[e],a(this,u)&&(t[s++]=a);t.length=s,u.extent=bt(r.center,r.resolution,r.rotation,u.size,h)}this.b=u,this.C.ed(u),u&&(u.animate&&this.render(),Array.prototype.push.apply(this.fa,u.postRenderFunctions),0!==this.A.length||u.viewHints[0]||u.viewHints[1]||ft(u.extent,this.ia)||(N(this,new Ue("moveend",this,u)),ot(u.extent,this.ia))),N(this,new Ue("postrender",this,u)),h=r=this.Fe,this&&(h=l(r,this)),"function"!=i(Hh.setImmediate)||Hh.Window&&Hh.Window.prototype&&-1==sl.indexOf("Edge")&&Hh.Window.prototype.setImmediate==Hh.setImmediate?(dl||(dl=Oi()),dl(h)):Hh.setImmediate(h)},Bh.hd=function(t){t=o(t).toString(),this.V[t]=!0,this.render()},Bh.nd=function(){var t=Eo(this);if(t){var e=Uh.getComputedStyle(t);this.set("size",[t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.set("size",void 0)},Bh.md=function(t){t=o(t).toString(),delete this.V[t],this.render()},At(Ul),At(Zl),Zl.forEach(function(t){Ul.forEach(function(e){Lt(t,e,qr),Lt(e,t,Fr)})}),u(Oo,R),Bh=Oo.prototype,Bh.sa=function(){return this.l},Bh.pe=function(){for(var t=this.b;t.lastChild;)t.removeChild(t.lastChild);(t=this.get("element"))&&this.b.appendChild(t)},Bh.Ae=function(){this.g&&(Xe(this.b),T(this.g),this.g=null);var t=this.get("map");t&&(this.g=C(t,"postrender",this.render,this),qo(this),t=this.o?t.o:t.w,this.j?t.insertBefore(this.b,t.childNodes[0]||null):t.appendChild(this.b))},Bh.render=function(){qo(this)},Bh.Be=function(){qo(this)},Bh.De=function(){if(qo(this),void 0!==this.get("position")&&this.autoPan){var t=this.get("map");if(void 0!==t&&Eo(t)){var e=Do(Eo(t),t.Ma()),i=this.get("element"),n=i.offsetWidth,r=i.currentStyle||Uh.getComputedStyle(i),n=n+(parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)),r=i.offsetHeight,s=i.currentStyle||Uh.getComputedStyle(i),r=r+(parseInt(s.marginTop,10)+parseInt(s.marginBottom,10)),o=Do(i,[n,r]),i=this.h;at(e,o)||(n=o[0]-e[0],r=e[2]-o[2],s=o[1]-e[1],o=e[3]-o[3],e=[0,0],0>n?e[0]=n-i:0>r&&(e[0]=Math.abs(r)+i),0>s?e[1]=s-i:0>o&&(e[1]=Math.abs(o)+i),0===e[0]&&0===e[1])||(i=t.S().la(),n=No(t,i),e=[n[0]+e[0],n[1]+e[1]],this.f&&(this.f.source=i,t.ka(Ae(this.f))),t.S().ta(t.ra(e)))}}},Bh.Ee=function(){qo(this)},Bh.setMap=function(t){this.set("map",t)},Bh.Rc=function(t){this.set("position",t)},u(Fo,Ye);var mu=[1,2,5];Fo.prototype.$a=function(){return this.get("units")},Fo.prototype.v=function(){Wo(this)},u(Vo,Go),Vo.prototype.K=function(){return"json"},Vo.prototype.$b=function(t,e){return this.a(Xo(t),Bo(this,t,e))},Vo.prototype.Ca=function(t,e){return this.b(Xo(t),Bo(this,t,e))},Vo.prototype.qb=function(t){return this.i(Xo(t))},u(Ko,Jt),Bh=Ko.prototype,Bh.Yd=function(t){this.a?B(this.a,t):this.a=t.slice(),this.c()},Bh.clone=function(){var t=new Ko(null);return Zo(t,this.b,this.a.slice()),t},Bh.Sc=function(t,e){return"XYM"!=this.b&&"XYZM"!=this.b?null:Yo(this.a,this.a.length,this.u,t,void 0!==e?e:!1)},Bh.M=function(){return re(this.a,0,this.a.length,this.u)},Bh.Gc=function(t,e){return Uo(this.a,0,this.a.length,this.u,t,e)},Bh.Ia=function(t){var e=[];return e.length=oe(this.a,0,this.a.length,this.u,t,e,0),t=new Ko(null),Zo(t,"XY",e),t},Bh.K=function(){return"LineString"},Bh.O=function(t,e){t?(te(this,e,t,1),this.a||(this.a=[]),this.a.length=ie(this.a,0,t,this.u),this.c()):Zo(this,"XY",null)},u(Qo,Jt),Bh=Qo.prototype,Bh.clone=function(){var t=new Qo(null);return ea(t,this.b,this.a.slice(),this.f.slice()),t},Bh.M=function(){return se(this.a,0,this.f,this.u)},Bh.Ga=function(){return this.f},Bh.Ia=function(t){var e,i,n=[],r=[],s=this.a,o=this.f,a=this.u,h=0,l=0;for(e=0,i=o.length;i>e;++e){var u=o[e],l=oe(s,h,u,a,t,n,l);r.push(l),h=u}return n.length=l,t=new Qo(null),ea(t,"XY",n,r),t},Bh.K=function(){return"MultiLineString"},Bh.O=function(t,e){if(t){te(this,e,t,2),this.a||(this.a=[]);var i=ne(this.a,0,t,this.u,this.f);this.a.length=0===i.length?0:i[i.length-1],this.c()}else ea(this,"XY",null,this.f)},u(na,Jt),na.prototype.clone=function(){var t=new na(null);return Qt(t,this.b,this.a.slice()),t.c(),t},na.prototype.M=function(){return re(this.a,0,this.a.length,this.u)},na.prototype.K=function(){return"MultiPoint"},na.prototype.O=function(t,e){t?(te(this,e,t,1),this.a||(this.a=[]),this.a.length=ie(this.a,0,t,this.u)):Qt(this,"XY",null),this.c()},u(ra,Jt),Bh=ra.prototype,Bh.clone=function(){for(var t=new ra(null),e=this.f.length,i=Array(e),n=0;e>n;++n)i[n]=this.f[n].slice();return aa(t,this.b,this.a.slice(),i),t},Bh.M=function(t){var e;void 0!==t?(e=oa(this).slice(),ge(e,this.f,this.u,t)):e=this.a,t=e,e=this.f;var i,n,r=this.u,s=0,o=[],a=0;for(i=0,n=e.length;n>i;++i){var h=e[i];o[a++]=se(t,s,h,r,o[a]),s=h[h.length-1]}return o.length=a,o},Bh.ie=function(){var t=new na(null),e=sa(this).slice();return Qt(t,"XY",e),t.c(),t},Bh.Ia=function(t){var e=[],i=[],n=this.a,r=this.f,s=this.u;t=Math.sqrt(t);var o,a,h=0,l=0;for(o=0,a=r.length;a>o;++o){var u=r[o],c=[],l=ae(n,h,u,s,t,e,l,c);i.push(c),h=u[u.length-1]}return e.length=l,n=new ra(null),aa(n,"XY",e,i),n},Bh.K=function(){return"MultiPolygon"},Bh.O=function(t,e){if(t){te(this,e,t,3),this.a||(this.a=[]);var i,n,r=this.a,s=this.u,o=this.f,a=0,o=o?o:[],h=0;for(i=0,n=t.length;n>i;++i)a=ne(r,a,t[i],s,o[h]),o[h++]=a,a=a[a.length-1];o.length=h,0===o.length?this.a.length=0:(r=o[o.length-1],this.a.length=0===r.length?0:r[r.length-1]),this.c()}else aa(this,"XY",null,this.f)},u(la,Vo);var gu={Point:function(t){return void 0!==t.m&&void 0!==t.z?new ue([t.x,t.y,t.z,t.m],"XYZM"):void 0!==t.z?new ue([t.x,t.y,t.z],"XYZ"):void 0!==t.m?new ue([t.x,t.y,t.m],"XYM"):new ue([t.x,t.y])},LineString:function(t){return new Ko(t.paths[0],ua(t))},Polygon:function(t){return new ve(t.rings,ua(t))},MultiPoint:function(t){return new na(t.points,ua(t))},MultiLineString:function(t){return new Qo(t.paths,ua(t))},MultiPolygon:function(t){return new ra(t.rings,ua(t))}};la.prototype.a=function(t,e){var i;if(i=t.geometry){var n;if(r(i.x)&&r(i.y))n="Point";else if(i.points)n="MultiPoint";else if(i.paths)n=1===i.paths.length?"LineString":"MultiLineString";else if(i.rings){var s=i.rings,o=ua(i),a=[];n=[];var h,l;for(h=0,l=s.length;l>h;++h){var u=G(s[h]);pe(u,0,u.length,o.length)?a.push([s[h]]):n.push(s[h])}for(;n.length;){for(s=n.shift(),o=!1,h=a.length-1;h>=0;h--)if(at(new he(a[h][0]).D(),new he(s).D())){a[h].push(s),o=!0;break}o||a.push([s.reverse()])}i=Kh({},i),1===a.length?(n="Polygon",i.rings=a[0]):(n="MultiPolygon",i.rings=a)}i=Ho(gu[n](i),!1,e)}else i=null;return a=new zs,this.c&&Gs(a,this.c),Ws(a,i),e&&e.Qb&&t.attributes[e.Qb]&&a.tb(t.attributes[e.Qb]),t.attributes&&F(a,t.attributes),a},la.prototype.b=function(t,e){var i=e?e:{};if(t.features){var n,r,s=[],o=t.features;for(i.Qb=t.objectIdFieldName,n=0,r=o.length;r>n;++n)s.push(this.a(o[n],i));return s}return[this.a(t,i)]},la.prototype.i=function(t){return t.spatialReference&&t.spatialReference.wkid?Dt("EPSG:"+t.spatialReference.wkid):null},u(ca,Bt),Bh=ca.prototype,Bh.clone=function(){var t,e,i=new ca(null),n=this.g,r=[];for(t=0,e=n.length;e>t;++t)r.push(n[t].clone());return fa(i),i.g=r,pa(i),i.c(),i},Bh.hb=function(t){ut(t);for(var e=this.g,i=0,n=e.length;n>i;++i)pt(t,e[i].D());return t},Bh.Ob=function(t){if(this.o!=this.i&&(v(this.h),this.j=0,this.o=this.i),0>t||0!==this.j&&t<this.j)return this;var e=t.toString();if(this.h.hasOwnProperty(e))return this.h[e];var i,n,r=[],s=this.g,o=!1;for(i=0,n=s.length;n>i;++i){var a=s[i],h=a.Ob(t);r.push(h),h!==a&&(o=!0)}return o?(t=new ca(null),fa(t),t.g=r,pa(t),t.c(),this.h[e]=t):(this.j=t,this)},Bh.K=function(){return"GeometryCollection"},Bh.rotate=function(t,e){for(var i=this.g,n=0,r=i.length;r>n;++n)i[n].rotate(t,e);this.c()},Bh.Sa=function(t){var e,i,n=this.g;for(e=0,i=n.length;i>e;++e)n[e].Sa(t);this.c()},Bh.Y=function(){fa(this),Bt.prototype.Y.call(this)},u(da,Vo);var vu={Point:function(t){return new ue(t.coordinates)},LineString:function(t){return new Ko(t.coordinates)},Polygon:function(t){return new ve(t.coordinates)},MultiPoint:function(t){return new na(t.coordinates)},MultiLineString:function(t){return new Qo(t.coordinates)},MultiPolygon:function(t){return new ra(t.coordinates)},GeometryCollection:function(t,e){var i=t.geometries.map(function(t){return ma(t,e)});return new ca(i)}};da.prototype.a=function(t,e){var i=ma(t.geometry,e),n=new zs;return this.c&&Gs(n,this.c),Ws(n,i),void 0!==t.id&&n.tb(t.id),t.properties&&F(n,t.properties),n},da.prototype.b=function(t,e){if("Feature"==t.type)return[this.a(t,e)];if("FeatureCollection"==t.type){var i,n,r=[],s=t.features;for(i=0,n=s.length;n>i;++i)r.push(this.a(s[i],e));return r}return[]},da.prototype.i=function(t){return(t=t.crs)?"name"==t.type?Dt(t.properties.name):"EPSG"==t.type?Dt("EPSG:"+t.properties.code):null:this.defaultDataProjection},u(ga,Go),Bh=ga.prototype,Bh.K=function(){return"xml"},Bh.$b=function(t,e){if(t instanceof Document)return va(this,t,e);if(t instanceof Node)return this.h(t,e);if("string"==typeof t){var i=Xs(t);return va(this,i,e)}return null},Bh.Ca=function(t,e){if(t instanceof Document)return ya(this,t,e);if(t instanceof Node)return this.ac(t,e);if("string"==typeof t){var i=Xs(t);return ya(this,i,e)}return[]},Bh.qb=function(t){return t instanceof Document?this.ec(t):t instanceof Node?this.rb(t):"string"==typeof t?(t=Xs(t),this.ec(t)):null},Bh.ec=function(){return this.defaultDataProjection},Bh.rb=function(){return this.defaultDataProjection},u(ba,ga);var yu=/^[\s\xa0]*$/;Bh=ba.prototype,Bh.ob=function(t,e){var i=t.localName,n=null;if("FeatureCollection"==i)n="http://www.opengis.net/wfs"===t.namespaceURI?to([],this.a,t,e,this):to(null,this.a,t,e,this);else if("featureMembers"==i||"featureMember"==i){var r,s,o=e[0],a=o.featureType,h=o.featureNS;if(!a&&t.childNodes){for(a=[],h={},r=0,s=t.childNodes.length;s>r;++r){var l=t.childNodes[r];if(1===l.nodeType){var u=l.nodeName.split(":").pop();if(-1===a.indexOf(u)){var c,f="",p=0,l=l.namespaceURI;for(c in h){if(h[c]===l){f=c;break}++p}f||(f="p"+p,h[f]=l),a.push(f+":"+u)}}}"featureMember"!=i&&(o.featureType=a,o.featureNS=h)}"string"==typeof h&&(r=h,h={},h.p0=r);var d,o={},a=Array.isArray(a)?a:[a];for(d in h){for(u={},r=0,s=a.length;s>r;++r)(-1===a[r].indexOf(":")?"p0":a[r].split(":")[0])===d&&(u[a[r].split(":").pop()]="featureMembers"==i?Us(this.cd,this):Ys(this.cd,this));o[h[d]]=u}n="featureMember"==i?to(void 0,o,t,e):to([],o,t,e)}return null===n&&(n=[]),n},Bh.cd=function(t,e){var i,n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var r,s={};for(i=t.firstElementChild;i;i=i.nextElementSibling){var o=i.localName;if(0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)){var a=Hs(i);yu.test(a)&&(a=void 0),s[o]=a}else"boundedBy"!==o&&(r=o),s[o]=wa(this,i,e)}return i=new zs(s),r&&Gs(i,r),n&&i.tb(n),i},Bh.Of=function(t,e){var i=this.pb(t,e);if(i){var n=new ue(null);return Qt(n,"XYZ",i),n.c(),n}},Bh.Kf=function(t,e){var i=to([],this.Fd,t,e,this);return i?new na(i):void 0},Bh.Jf=function(t,e){var i=to([],this.Ed,t,e,this);if(i){var n=new Qo(null);return ia(n,i),n}},Bh.Lf=function(t,e){var i=to([],this.Gd,t,e,this);if(i){var n=new ra(null);return ha(n,i),n}},Bh.$c=function(t,e){Qs(this.Jd,t,e,this)},Bh.Nc=function(t,e){Qs(this.Cd,t,e,this)},Bh.ad=function(t,e){Qs(this.Kd,t,e,this)},Bh.cc=function(t,e){var i=this.pb(t,e);if(i){var n=new Ko(null);return Zo(n,"XYZ",i),n}},Bh.Ef=function(t,e){var i=to(null,this.zb,t,e,this);return i?i:void 0},Bh.Hf=function(t,e){var i=this.pb(t,e);if(i){var n=new he(null);return le(n,"XYZ",i),n}},Bh.dc=function(t,e){var i=to([null],this.hc,t,e,this);if(i&&i[0]){var n,r,s=new ve(null),o=i[0],a=[o.length];for(n=1,r=i.length;r>n;++n)B(o,i[n]),a.push(o.length);return we(s,"XYZ",o,a),s}},Bh.pb=function(t,e){return to(null,this.zb,t,e,this)},Bh.Fd={"http://www.opengis.net/gml":{pointMember:Us(ba.prototype.$c),pointMembers:Us(ba.prototype.$c)}},Bh.Ed={"http://www.opengis.net/gml":{lineStringMember:Us(ba.prototype.Nc),lineStringMembers:Us(ba.prototype.Nc)}},Bh.Gd={"http://www.opengis.net/gml":{polygonMember:Us(ba.prototype.ad),polygonMembers:Us(ba.prototype.ad)}},Bh.Jd={"http://www.opengis.net/gml":{Point:Us(ba.prototype.pb)}},Bh.Cd={"http://www.opengis.net/gml":{LineString:Us(ba.prototype.cc)}},Bh.Kd={"http://www.opengis.net/gml":{Polygon:Us(ba.prototype.dc)}},Bh.ic={"http://www.opengis.net/gml":{LinearRing:Ys(ba.prototype.Ef)}},Bh.ac=function(t,e){var i={featureType:this.featureType,featureNS:this.featureNS};return e&&Kh(i,Bo(this,t,e)),this.ob(t,[i])||[]},Bh.rb=function(t){return Dt(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},u(ka,ba),Bh=ka.prototype,Bh.If=function(t,e){var i=to([],this.Dd,t,e,this);if(i){var n=new Qo(null);return ia(n,i),n}},Bh.Mf=function(t,e){var i=to([],this.Hd,t,e,this);if(i){var n=new ra(null);return ha(n,i),n}},Bh.wc=function(t,e){Qs(this.yd,t,e,this)},Bh.kd=function(t,e){Qs(this.Nd,t,e,this)},Bh.Nf=function(t,e){return to([null],this.Id,t,e,this)},Bh.Qf=function(t,e){return to([null],this.Md,t,e,this)},Bh.Pf=function(t,e){return to([null],this.hc,t,e,this)},Bh.Gf=function(t,e){return to([null],this.zb,t,e,this)},Bh.Pe=function(t,e){var i=to(void 0,this.ic,t,e,this);i&&e[e.length-1].push(i)},Bh.be=function(t,e){var i=to(void 0,this.ic,t,e,this);i&&(e[e.length-1][0]=i)},Bh.dd=function(t,e){var i=to([null],this.Od,t,e,this);if(i&&i[0]){var n,r,s=new ve(null),o=i[0],a=[o.length];for(n=1,r=i.length;r>n;++n)B(o,i[n]),a.push(o.length);return we(s,"XYZ",o,a),s}},Bh.bd=function(t,e){var i=to([null],this.zd,t,e,this);if(i){var n=new Ko(null);return Zo(n,"XYZ",i),n}},Bh.Df=function(t,e){var i=to([null],this.Ad,t,e,this);return lt(i[1][0],i[1][1],i[2][0],i[2][1])},Bh.Ff=function(t,e){for(var i,n=Hs(t),r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,s=[];i=r.exec(n);)s.push(parseFloat(i[1])),n=n.substr(i[0].length);if(""===n){if(n=e[0].srsName,r="enu",n&&(r=Dt(n).a),"neu"===r)for(n=0,r=s.length;r>n;n+=3)i=s[n],s[n]=s[n+1],s[n+1]=i;return n=s.length,2==n&&s.push(0),0===n?void 0:s}},Bh.bc=function(t,e){var i=Hs(t).replace(/^\s*|\s*$/g,""),n=e[0].srsName,r=t.parentNode.getAttribute("srsDimension"),s="enu";n&&(s=Dt(n).a),i=i.split(/\s+/),n=2,t.getAttribute("srsDimension")?n=Ma(t.getAttribute("srsDimension")):t.getAttribute("dimension")?n=Ma(t.getAttribute("dimension")):r&&(n=Ma(r));for(var o,a,h=[],l=0,u=i.length;u>l;l+=n)r=parseFloat(i[l]),o=parseFloat(i[l+1]),a=3===n?parseFloat(i[l+2]):0,"en"===s.substr(0,2)?h.push(r,o,a):h.push(o,r,a);return h},Bh.zb={"http://www.opengis.net/gml":{pos:Ys(ka.prototype.Ff),posList:Ys(ka.prototype.bc)}},Bh.hc={"http://www.opengis.net/gml":{interior:ka.prototype.Pe,exterior:ka.prototype.be}},Bh.Bd={"http://www.opengis.net/gml":{Point:Ys(ba.prototype.Of),MultiPoint:Ys(ba.prototype.Kf),LineString:Ys(ba.prototype.cc),MultiLineString:Ys(ba.prototype.Jf),LinearRing:Ys(ba.prototype.Hf),Polygon:Ys(ba.prototype.dc),MultiPolygon:Ys(ba.prototype.Lf),Surface:Ys(ka.prototype.dd),MultiSurface:Ys(ka.prototype.Mf),Curve:Ys(ka.prototype.bd),MultiCurve:Ys(ka.prototype.If),Envelope:Ys(ka.prototype.Df)}},Bh.Dd={"http://www.opengis.net/gml":{curveMember:Us(ka.prototype.wc),curveMembers:Us(ka.prototype.wc)}},Bh.Hd={"http://www.opengis.net/gml":{surfaceMember:Us(ka.prototype.kd),surfaceMembers:Us(ka.prototype.kd)}},Bh.yd={"http://www.opengis.net/gml":{LineString:Us(ba.prototype.cc),Curve:Us(ka.prototype.bd)}},Bh.Nd={"http://www.opengis.net/gml":{Polygon:Us(ba.prototype.dc),Surface:Us(ka.prototype.dd)}},Bh.Od={"http://www.opengis.net/gml":{patches:Ys(ka.prototype.Nf)}},Bh.zd={"http://www.opengis.net/gml":{segments:Ys(ka.prototype.Qf)}},Bh.Ad={"http://www.opengis.net/gml":{lowerCorner:Us(ka.prototype.bc),upperCorner:Us(ka.prototype.bc)}},Bh.Id={"http://www.opengis.net/gml":{PolygonPatch:Ys(ka.prototype.Pf)}},Bh.Md={"http://www.opengis.net/gml":{LineStringSegment:Ys(ka.prototype.Gf)}},Bh.vd=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=$s(t.namespaceURI,"pos"),t.appendChild(n),i=i[i.length-1].srsName,t="enu",i&&(t=Dt(i).a),e=e.M(),Sa(n,"en"===t.substr(0,2)?e[0]+" "+e[1]:e[1]+" "+e[0])};var bu={"http://www.opengis.net/gml":{lowerCorner:Js(Sa),upperCorner:Js(Sa)}};Bh=ka.prototype,Bh.fg=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),eo({node:t},bu,pu,[e[0]+" "+e[1],e[2]+" "+e[3]],i,["lowerCorner","upperCorner"],this)},Bh.sd=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n),n=$s(t.namespaceURI,"posList"),t.appendChild(n),Ca(n,e,i)},Bh.Ld=function(t,e){var i=e[e.length-1],n=i.node,r=i.exteriorWritten;return void 0===r&&(i.exteriorWritten=!0),$s(n.namespaceURI,void 0!==r?"interior":"exterior")},Bh.xb=function(t,e,i){var n=i[i.length-1].srsName;if("PolygonPatch"!==t.nodeName&&n&&t.setAttribute("srsName",n),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var r=e.b,s=e.a;e=e.f;var o,a,h=[],l=0;for(o=0,a=e.length;a>o;++o){var u=e[o],c=new he(null);le(c,r,s.slice(l,u)),h.push(c),l=u}eo({node:t,srsName:n},Su,this.Ld,h,i,void 0,this)}else"Surface"===t.nodeName&&(n=$s(t.namespaceURI,"patches"),t.appendChild(n),t=$s(n.namespaceURI,"PolygonPatch"),n.appendChild(t),this.xb(t,e,i))},Bh.wb=function(t,e,i){var n=i[i.length-1].srsName;"LineStringSegment"!==t.nodeName&&n&&t.setAttribute("srsName",n),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName?(n=$s(t.namespaceURI,"posList"),t.appendChild(n),Ca(n,e,i)):"Curve"===t.nodeName&&(n=$s(t.namespaceURI,"segments"),t.appendChild(n),t=$s(n.namespaceURI,"LineStringSegment"),n.appendChild(t),this.wb(t,e,i))},Bh.ud=function(t,e,i){var n=i[i.length-1],r=n.srsName,n=n.surface;r&&t.setAttribute("srsName",r);var s=e.b,o=e.a;e=e.f;var a,h,l,u,c=[],f=0;for(a=0,h=e.length;h>a;++a){var p=e[a].slice(),d=p[p.length-1];if(0!==f)for(l=0,u=p.length;u>l;++l)p[l]-=f;l=new ve(null),we(l,s,o.slice(f,d),p),c.push(l),f=d}eo({node:t,srsName:r,surface:n},wu,this.b,c,i,void 0,this)},Bh.jg=function(t,e,i){var n=i[i.length-1].srsName;n&&t.setAttribute("srsName",n);var r=e.a,s=e.b;e=e.u;var o,a,h=[];for(o=0,a=r.length;a>o;o+=e){var l=new ue(null),u=l;Qt(u,s,r.slice(o,o+e)),u.c(),h.push(l)}eo({node:t,srsName:n},xu,Zs("pointMember"),h,i,void 0,this)},Bh.td=function(t,e,i){var n=i[i.length-1],r=n.srsName,n=n.curve;r&&t.setAttribute("srsName",r);var s=e.a,o=e.f;e=e.b;var a,h,l=[],u=0;for(a=0,h=o.length;h>a;++a){var c=o[a],f=new Ko(null);Zo(f,e,s.slice(u,c)),l.push(f),u=c}eo({node:t,srsName:r,curve:n},Mu,this.b,l,i,void 0,this)},Bh.wd=function(t,e,i){var n=$s(t.namespaceURI,"LinearRing");t.appendChild(n),this.sd(n,e,i)},Bh.xd=function(t,e,i){var n=this.c(e,i);n&&(t.appendChild(n),this.xb(n,e,i))},Bh.mg=function(t,e,i){var n=$s(t.namespaceURI,"Point");t.appendChild(n),this.vd(n,e,i)},Bh.rd=function(t,e,i){var n=this.c(e,i);n&&(t.appendChild(n),this.wb(n,e,i))},Bh.pd=function(t,e,i){var n=i[i.length-1],r=Kh({},n);r.node=t;var s;s=Array.isArray(e)?n.dataProjection?Gt(e,n.featureProjection,n.dataProjection):e:Ho(e,!0,n),eo(r,ku,this.c,[s],i,void 0,this)};var wu={"http://www.opengis.net/gml":{surfaceMember:Js(ka.prototype.xd),polygonMember:Js(ka.prototype.xd)}},xu={"http://www.opengis.net/gml":{pointMember:Js(ka.prototype.mg)}},Mu={"http://www.opengis.net/gml":{lineStringMember:Js(ka.prototype.rd),curveMember:Js(ka.prototype.rd)}},Su={"http://www.opengis.net/gml":{exterior:Js(ka.prototype.wd),interior:Js(ka.prototype.wd)}},ku={"http://www.opengis.net/gml":{Curve:Js(ka.prototype.wb),MultiCurve:Js(ka.prototype.td),Point:Js(ka.prototype.vd),MultiPoint:Js(ka.prototype.jg),LineString:Js(ka.prototype.wb),MultiLineString:Js(ka.prototype.td),LinearRing:Js(ka.prototype.sd),Polygon:Js(ka.prototype.xb),MultiPolygon:Js(ka.prototype.ud),Surface:Js(ka.prototype.xb),MultiSurface:Js(ka.prototype.ud),Envelope:Js(ka.prototype.fg)}},Cu={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"};ka.prototype.b=function(t,e){return $s("http://www.opengis.net/gml",Cu[e[e.length-1].node.nodeName])},ka.prototype.c=function(t,e){var i,n=e[e.length-1],r=n.multiSurface,s=n.surface,o=n.curve,n=n.multiCurve;return Array.isArray(t)?i="Envelope":(i=t.K(),"MultiPolygon"===i&&!0===r?i="MultiSurface":"Polygon"===i&&!0===s?i="Surface":"LineString"===i&&!0===o?i="Curve":"MultiLineString"===i&&!0===n&&(i="MultiCurve")),$s("http://www.opengis.net/gml",i)},u(Pa,Go),Pa.prototype.K=function(){return"text"},Pa.prototype.$b=function(t,e){var i;if(i=Ta(t),i=Ea(i,$o(this,e))){var n=new zs;Ws(n,i),i=n}else i=null;return i},Pa.prototype.Ca=function(t,e){var i=Ta(t),n=[],i=Ea(i,$o(this,e));n=this.a&&"GeometryCollection"==i.K()?i.g:[i];for(var r=[],s=0,o=n.length;o>s;++s)i=new zs,Ws(i,n[s]),r.push(i);return r},Pa.prototype.qb=function(t){return Ta(t),this.defaultDataProjection},u(_a,ga),_a.prototype.ac=function(t,e){var i={featureType:this.b,featureNS:this.c};return Kh(i,Bo(this,t,e?e:{})),i=[i],this.a.a["http://www.opengis.net/gml"].featureMember=Us(ba.prototype.ob),(i=to([],this.a.a,t,i,this.a))||(i=[]),i},_a.prototype.i=function(t){return t instanceof Document?ja(t):t instanceof Node?to({},ju,t,[]):"string"==typeof t?(t=Xs(t),ja(t)):void 0};var Pu={"http://www.opengis.net/wfs":{totalInserted:Ks(xa),totalUpdated:Ks(xa),totalDeleted:Ks(xa)}},Tu={"http://www.opengis.net/ogc":{FeatureId:Us(function(t){return t.getAttribute("fid")})}},_u={"http://www.opengis.net/wfs":{Feature:function(t,e){Qs(Tu,t,e)}}},ju={"http://www.opengis.net/wfs":{TransactionSummary:Ks(function(t,e){return to({},Pu,t,e)},"transactionSummary"),InsertResults:Ks(function(t,e){return to([],_u,t,e)},"insertIds")}},Au={"http://www.opengis.net/wfs":{Insert:Js(function(t,e,i){var n=i[i.length-1],n=$s(n.featureNS,n.featureType);t.appendChild(n),t=ka.prototype;var r=e.sa();r&&n.setAttribute("fid",r);var r=i[i.length-1],s=r.featureNS,o=e.a;r.Da||(r.Da={},r.Da[s]={});var a=e.va();e=[];var h,l=[];for(h in a){var u=a[h];null!==u&&(e.push(h),l.push(u),h==o||u instanceof Bt?h in r.Da[s]||(r.Da[s][h]=Js(t.pd,t)):h in r.Da[s]||(r.Da[s][h]=Js(Sa)))}h=Kh({},r),h.node=n,eo(h,r.Da,Zs(void 0,s),l,i,e)}),Update:Js(function(t,e,i){var n=i[i.length-1],r=n.featureType,s=n.featurePrefix,s=s?s:"feature",o=n.featureNS;if(t.setAttribute("typeName",s+":"+r),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+s,o),r=e.sa(),void 0!==r){for(var s=Object.keys(e.P),o=[],a=0,h=s.length;h>a;a++){var l=e.get(s[a]);void 0!==l&&o.push({name:s[a],value:l})}eo({node:t,srsName:n.srsName},Au,Zs("Property"),o,i),Aa(t,r)}}),Delete:Js(function(t,e,i){var n=i[i.length-1];i=n.featureType;var r=n.featurePrefix,r=r?r:"feature",n=n.featureNS;t.setAttribute("typeName",r+":"+i),t.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:"+r,n),e=e.sa(),void 0!==e&&Aa(t,e)}),Property:Js(function(t,e,i){var n=$s("http://www.opengis.net/wfs","Name");t.appendChild(n),Sa(n,e.name),void 0!==e.value&&null!==e.value&&(n=$s("http://www.opengis.net/wfs","Value"),t.appendChild(n),e.value instanceof Bt?ka.prototype.pd(n,e.value,i):Sa(n,e.value))}),Native:Js(function(t,e){e.eg&&t.setAttribute("vendorId",e.eg),void 0!==e.Xf&&t.setAttribute("safeToIgnore",e.Xf),void 0!==e.value&&Sa(t,e.value)})}};_a.prototype.f=function(t,e,i,n){var r=[],s=$s("http://www.opengis.net/wfs","Transaction");s.setAttribute("service","WFS"),s.setAttribute("version","1.1.0");var o,a;return n&&(o=n.gmlOptions?n.gmlOptions:{},n.handle&&s.setAttribute("handle",n.handle)),s.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.g),t&&(a={node:s,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,srsName:n.srsName},Kh(a,o),eo(a,Au,Zs("Insert"),t,r)),e&&(a={node:s,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,srsName:n.srsName},Kh(a,o),eo(a,Au,Zs("Update"),e,r)),i&&eo({node:s,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,srsName:n.srsName},Au,Zs("Delete"),i,r),n.nativeElements&&eo({node:s,featureNS:n.featureNS,featureType:n.featureType,featurePrefix:n.featurePrefix,srsName:n.srsName},Au,Zs("Native"),n.nativeElements,r),s},_a.prototype.ec=function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType==Node.ELEMENT_NODE)return this.rb(t);return null},_a.prototype.rb=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild)for(t=t.firstElementChild.firstElementChild,t=t.firstElementChild;t;t=t.nextElementSibling)if(0!==t.childNodes.length&&(1!==t.childNodes.length||3!==t.firstChild.nodeType)){var e=[{}];return wa(this.a,t,e),Dt(e.pop().srsName)}return null},u(Ia,Pa),Bh=Oa.prototype,Bh.match=function(t){return(t=this.a.type==t)&&(this.a=La(this.c)),t},Bh.Yb=function(){if(this.match(2)){var t=Ra(this);if(this.match(3))return t}else if(za(this))return null;throw Error(Wa(this))},Bh.Xb=function(){if(this.match(2)){var t=qa(this);if(this.match(3))return t}else if(za(this))return[];throw Error(Wa(this))},Bh.Zb=function(){if(this.match(2)){var t=Fa(this);if(this.match(3))return t}else if(za(this))return[];throw Error(Wa(this))},Bh.sf=function(){if(this.match(2)){var t;if(2==this.a.type)for(t=[this.Yb()];this.match(5);)t.push(this.Yb());else t=qa(this);if(this.match(3))return t}else if(za(this))return[];throw Error(Wa(this))},Bh.rf=function(){if(this.match(2)){var t=Fa(this);if(this.match(3))return t}else if(za(this))return[];throw Error(Wa(this))},Bh.tf=function(){if(this.match(2)){for(var t=[this.Zb()];this.match(5);)t.push(this.Zb());if(this.match(3))return t}else if(za(this))return[];throw Error(Wa(this))};var Iu={POINT:ue,LINESTRING:Ko,POLYGON:ve,MULTIPOINT:na,MULTILINESTRING:Qo,MULTIPOLYGON:ra},Eu={POINT:Oa.prototype.Yb,LINESTRING:Oa.prototype.Xb,POLYGON:Oa.prototype.Zb,MULTIPOINT:Oa.prototype.sf,MULTILINESTRING:Oa.prototype.rf,MULTIPOLYGON:Oa.prototype.tf};u(Ga,R),Bh=Ga.prototype,Bh.Y=function(){this.ub(!1),R.prototype.Y.call(this)},Bh.Ge=function(){var t=this.get("projection");t&&(this.g=Ft(Dt("EPSG:4326"),t),this.a&&this.set("position",this.g(this.a)))},Bh.Le=function(){if(Sl){var t=this.Jc();t&&void 0===this.b?this.b=Uh.navigator.geolocation.watchPosition(this.Af.bind(this),this.Bf.bind(this),this.get("trackingOptions")):t||void 0===this.b||(Uh.navigator.geolocation.clearWatch(this.b),this.b=void 0)}},Bh.Af=function(t){var e=t.coords;this.set("accuracy",e.accuracy),this.set("altitude",null===e.altitude?void 0:e.altitude),this.set("altitudeAccuracy",null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set("heading",null===e.heading?void 0:e.heading*Math.PI/180),this.a?(this.a[0]=e.longitude,this.a[1]=e.latitude):this.a=[e.longitude,e.latitude],t=this.g(this.a),this.set("position",t),this.set("speed",null===e.speed?void 0:e.speed),t=this.a;var i,n=e.accuracy,e=[];for(i=0;32>i;++i)B(e,Yl.offset(t,n,2*Math.PI*i/32));e.push(e[0],e[1]),t=new ve(null),we(t,"XY",e,[e.length]),t.Sa(this.g),this.set("accuracyGeometry",t),this.c()},Bh.Bf=function(t){t.type="error",this.ub(!1),N(this,t)},Bh.de=function(){return this.get("accuracy")},Bh.ge=function(){return this.get("heading")},Bh.ef=function(){return this.get("position")},Bh.le=function(){return this.get("speed");
},Bh.Jc=function(){return this.get("tracking")},Bh.ub=function(t){this.set("tracking",t)},u(Ba,Jt),Bh=Ba.prototype,Bh.clone=function(){var t=new Ba(null);return Qt(t,this.b,this.a.slice()),t.c(),t},Bh.Vb=function(){return this.a.slice(0,this.u)},Bh.hb=function(t){var e=this.a,i=e[this.u]-e[0];return lt(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},Bh.mf=function(){var t=this.a[this.u]-this.a[0],e=this.a[this.u+1]-this.a[1];return Math.sqrt(t*t+e*e)},Bh.K=function(){return"Circle"},u(Ha,Qe),Bh=Ha.prototype,Bh.Y=function(){1==this.state&&Va(this),this.a&&j(this.a),this.state=5,ti(this),Qe.prototype.Y.call(this)},Bh.da=function(t){if(void 0!==t){var e=o(t);return e in this.b?this.b[e]:(t=b(this.b)?this.c:this.c.cloneNode(!1),this.b[e]=t)}return this.c},Bh.getKey=function(){return this.g},Bh.ff=function(){this.state=3,Va(this),ti(this)},Bh.gf=function(){this.state=this.c.naturalWidth&&this.c.naturalHeight?2:4,Va(this),ti(this)},Bh.load=function(){(0==this.state||3==this.state)&&(this.state=1,ti(this),this.i=[C(this.c,"error",this.ff,this,!0),C(this.c,"load",this.gf,this,!0)],this.f(this,this.g))},u(Xa,A),u(Ua,er),Ua.prototype.setMap=function(t){er.prototype.setMap.call(this,t),this.eb()},Ua.prototype.C=Pt,Ua.prototype.eb=function(){var t=this.w,e=this.get("active");t&&e||rh(this),this.$.setMap(e?t:null)};var Nu="Point",Lu="LineString",Ou="Polygon",Du="Circle";u(ah,A),u(hh,er),Bh=hh.prototype,Bh.Wb=function(t){var e=t.N();e.K()in this.V&&this.V[e.K()].call(this,t,e),(e=this.w)&&yh(this,this.$,e),C(t,"change",this.Tc,this)},Bh.setMap=function(t){this.A.setMap(t),er.prototype.setMap.call(this,t)},Bh.qe=function(t){this.Wb(t.element)},Bh.Tc=function(t){this.h||(t=t.target,uh(this,t),this.Wb(t))},Bh.re=function(t){uh(this,t.element)},Bh.lg=function(t,e){var i=e.M(),i={feature:t,geometry:e,W:[i,i]};this.a.ba(e.D(),i)},Bh.ig=function(t,e){var i,n,r,s=e.M();for(n=0,r=s.length;r>n;++n)i=s[n],i={feature:t,geometry:e,depth:[n],index:n,W:[i,i]},this.a.ba(e.D(),i)},Bh.qd=function(t,e){var i,n,r,s,o=e.M();for(i=0,n=o.length-1;n>i;++i)r=o.slice(i,i+2),s={feature:t,geometry:e,index:i,W:r},this.a.ba(rt(r),s)},Bh.hg=function(t,e){var i,n,r,s,o,a,h,l=e.M();for(s=0,o=l.length;o>s;++s)for(i=l[s],n=0,r=i.length-1;r>n;++n)a=i.slice(n,n+2),h={feature:t,geometry:e,depth:[s],index:n,W:a},this.a.ba(rt(a),h)},Bh.ng=function(t,e){var i,n,r,s,o,a,h,l=e.M();for(s=0,o=l.length;o>s;++s)for(i=l[s],n=0,r=i.length-1;r>n;++n)a=i.slice(n,n+2),h={feature:t,geometry:e,depth:[s],index:n,W:a},this.a.ba(rt(a),h)},Bh.kg=function(t,e){var i,n,r,s,o,a,h,l,u,c,f=e.M();for(a=0,h=f.length;h>a;++a)for(l=f[a],s=0,o=l.length;o>s;++s)for(i=l[s],n=0,r=i.length-1;r>n;++n)u=i.slice(n,n+2),c={feature:t,geometry:e,depth:[s,a],index:n,W:u},this.a.ba(rt(u),c)},Bh.gg=function(t,e){var i,n=e.g;for(i=0;i<n.length;++i)this.V[n[i].K()].call(this,t,n[i])},Bh.Oe=function(t,e){for(var i,n=t.W,r=t.feature,s=t.geometry,o=t.depth,a=t.index;e.length<s.u;)e.push(0);switch(s.K()){case"MultiLineString":i=s.M(),i[o[0]].splice(a+1,0,e);break;case"Polygon":i=s.M(),i[o[0]].splice(a+1,0,e);break;case"MultiPolygon":i=s.M(),i[o[1]][o[0]].splice(a+1,0,e);break;case"LineString":i=s.M(),i.splice(a+1,0,e);break;default:return}this.h=!0,s.O(i),this.h=!1,i=this.a,i.remove(t),bh(this,s,a,o,1);var h={W:[n[0],e],feature:r,geometry:s,depth:o,index:a};i.ba(rt(h.W),h),this.f.push([h,1]),n={W:[e,n[1]],feature:r,geometry:s,depth:o,index:a+1},i.ba(rt(n.W),n),this.f.push([n,0]),this.B=!0},u(xh,A),u(Mh,Wn),Mh.prototype.v=function(){return this.a.Z().g},Mh.prototype.setMap=function(t){var e=this.w,i=this.a.Z().g;e&&i.forEach(e.md,e),Wn.prototype.setMap.call(this,t),this.a.setMap(t),t&&i.forEach(t.hd,t)},Mh.prototype.o=function(t){t=t.element;var e=this.w;e&&e.hd(t)},Mh.prototype.A=function(t){t=t.element;var e=this.w;e&&e.md(t)},u(Ch,Qe),Ch.prototype.Y=function(){1==this.state&&(this.Oa.forEach(T),this.Oa=null),Qe.prototype.Y.call(this)},Ch.prototype.da=function(t){if(void 0!==t){var e=o(t);return e in this.b?this.b[e]:(t=b(this.b)?this.i:this.i.cloneNode(!1),this.b[e]=t)}return this.i},Ch.prototype.fd=function(){var t=[];if(this.c.forEach(function(e){e&&2==e.aa()&&t.push({extent:fi(this.g,e.pa),image:e.da()})},this),this.c.length=0,0===t.length)this.state=3;else{var e=this.s[0],i=mi(this.h,e),n=r(i)?i:i[0],i=r(i)?i:i[1],e=this.h.R(e),s=this.g.R(this.f),o=fi(this.h,this.s);this.i=Ds(n,i,this.o,s,this.g.D(),e,o,this.j,t,this.l,this.w),this.state=2}ti(this)},Ch.prototype.load=function(){if(0==this.state){this.state=1,ti(this);var t=0;this.Oa=[],this.c.forEach(function(e){var i=e.aa();if(0==i||1==i){t++;var n;n=C(e,"change",function(){var i=e.aa();(2==i||3==i||4==i)&&(T(n),t--,0===t&&(this.Oa.forEach(T),this.Oa=null,this.fd()))},this),this.Oa.push(n)}},this),this.c.forEach(function(t){0==t.aa()&&t.load()}),0===t&&Uh.setTimeout(this.fd.bind(this),0)}},u(Ph,To),Bh=Ph.prototype,Bh.Uc=function(){if(Ze(this.a))return!0;for(var t in this.h)if(Ze(this.h[t]))return!0;return!1},Bh.Fa=function(t,e){var i=this.Za(t);this.a.Fa(this.a==i?e:{});for(var n in this.h){var r=this.h[n];r.Fa(r==i?e:{})}},Bh.Hc=function(t){return this.f&&t&&!Rt(this.f,t)?0:this.Lb()},Bh.Lb=function(){return 0},Bh.Nb=function(t){return this.f&&t&&!Rt(this.f,t)?!1:To.prototype.Nb.call(this,t)},Bh.na=function(t){var e=this.f;return!this.tileGrid||e&&!Rt(e,t)?(e=o(t).toString(),e in this.w||(this.w[e]=yi(t)),this.w[e]):this.tileGrid},Bh.Za=function(t){var e=this.f;return!e||Rt(e,t)?this.a:(t=o(t).toString(),t in this.h||(this.h[t]=new Je),this.h[t])},u(Ih,Ph),u(Eh,co),Eh.prototype.Sb=function(t,e,i){this.v.Sb(t,e,i),e!==this.w&&(this.clear(),this.w=e,Nh(this),this.Ra(this.o))},Eh.prototype.ja=function(){this.clear(),Nh(this),this.Ra(this.o),this.c()},u(Dh,Ih);var Ru=new De({html:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors.'});return u(Rh,Ph),Rh.prototype.ib=function(t){return t},Rh.prototype.za=function(t,e,i){var n=this.tileGrid;if(n||(n=this.na(i)),!(n.a.length<=t[0])){var r=fi(n,t,this.j),s=ni(mi(n,t[0]),this.b);1!=e&&(s=ii(s,e,this.b)),n={F:"image",FORMAT:"PNG32",TRANSPARENT:!0},Kh(n,this.g);var o=this.urls;return o?(i=i.ua.split(":").pop(),n.SIZE=s[0]+","+s[1],n.BBOX=r.join(","),n.BBOXSR=i,n.IMAGESR=i,n.DPI=Math.round(n.DPI?n.DPI*e:90*e),t=(1==o.length?o[0]:o[p((t[1]<<t[0])+t[2],o.length)]).replace(/MapServer\/?$/,"MapServer/export").replace(/ImageServer\/?$/,"ImageServer/exportImage"),t=Oh(t,n)):t=void 0,t}},u(qh,Ph),Bh=qh.prototype,Bh.fe=function(t,e,i,n){i=Dt(i);var r=this.tileGrid;if(r||(r=this.na(i)),e=pi(r,t[0],t[1],e,!1,void 0),!(r.a.length<=e[0])){var s=r.R(e[0]),o=fi(r,e,this.B),r=ni(mi(r,e[0]),this.b),a=this.l;return 0!==a&&(r=ei(r,a,this.b),o=st(o,s*a,o)),a={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.g.LAYERS},Kh(a,this.g,n),n=Math.floor((o[3]-t[1])/s),a[this.j?"I":"X"]=Math.floor((t[0]-o[0])/s),a[this.j?"J":"Y"]=n,Fh(this,e,r,o,1,i,a)}},Bh.Lb=function(){return this.l},Bh.Ha=function(t,e,i){return this.v+Ph.prototype.Ha.call(this,t,e,i)},Bh.ib=function(t){return this.C&&void 0!==this.o?t:1},Bh.za=function(t,e,i){var n=this.tileGrid;if(n||(n=this.na(i)),!(n.a.length<=t[0])){1==e||this.C&&void 0!==this.o||(e=1);var r=n.R(t[0]),s=fi(n,t,this.B),n=ni(mi(n,t[0]),this.b),o=this.l;return 0!==o&&(n=ei(n,o,this.b),s=st(s,r*o,s)),1!=e&&(n=ii(n,e,this.b)),r={SERVICE:"WMS",VERSION:"1.3.0",REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0},Kh(r,this.g),Fh(this,t,n,s,e,i,r)}},u(zh,oi),u(Wh,Ph),e("ol.Map",Io,$h),Io.prototype.addInteraction=Io.prototype.Wd,Io.prototype.addOverlay=Io.prototype.Xd,Io.prototype.beforeRender=Io.prototype.ka,Io.prototype.forEachFeatureAtPixel=Io.prototype.Ib,Io.prototype.forEachLayerAtPixel=Io.prototype.jf,Io.prototype.getSize=Io.prototype.Ma,Io.prototype.getTarget=Io.prototype.Ub,Io.prototype.getOverlays=Io.prototype.je,Io.prototype.getView=Io.prototype.S,Io.prototype.removeInteraction=Io.prototype.Sf,Io.prototype.removeOverlay=Io.prototype.Tf,Io.prototype.on=Io.prototype.s,Io.prototype.un=Io.prototype.ma,e("ol.proj.Projection",jt,$h),jt.prototype.getMetersPerUnit=jt.prototype.Aa,e("ol.View",xe,$h),xe.prototype.getCenter=xe.prototype.la,xe.prototype.getProjection=xe.prototype.kf,xe.prototype.getResolution=xe.prototype.R,xe.prototype.getResolutions=xe.prototype.lf,xe.prototype.getZoom=xe.prototype.ne,xe.prototype.setCenter=xe.prototype.ta,xe.prototype.setZoom=xe.prototype.Yf,xe.prototype.fit=xe.prototype.ce,e("ol.extent.getTopLeft",Mt,$h),e("ol.tilegrid.TileGrid",oi,$h),e("ol.tilegrid.WMTS",zh,$h),e("ol.tilegrid.createXYZ",bi,$h),e("ol.style.Style",Kr,$h),e("ol.style.Circle",Yr,$h),e("ol.style.Fill",Br,$h),e("ol.style.Icon",Tn,$h),e("ol.style.Image",Pn,$h),e("ol.style.Stroke",Ur,$h),e("ol.style.Text",function(t){t=t||{},this.a=t.font,this.g=t.rotation,this.f=t.scale,this.s=t.text,this.j=t.textAlign,this.l=t.textBaseline,this.i=void 0!==t.fill?t.fill:new Br({color:"#333"}),this.h=void 0!==t.stroke?t.stroke:null,this.c=void 0!==t.offsetX?t.offsetX:0,this.b=void 0!==t.offsetY?t.offsetY:0},$h),e("ol.Attribution",De,$h),e("ol.Geolocation",Ga,$h),Ga.prototype.on=Ga.prototype.s,Ga.prototype.un=Ga.prototype.ma,Ga.prototype.getAccuracy=Ga.prototype.de,Ga.prototype.getHeading=Ga.prototype.ge,Ga.prototype.getPosition=Ga.prototype.ef,Ga.prototype.getSpeed=Ga.prototype.le,Ga.prototype.getTracking=Ga.prototype.Jc,Ga.prototype.setTracking=Ga.prototype.ub,e("ol.Overlay",Oo,$h),Oo.prototype.setPosition=Oo.prototype.Rc,e("ol.control.Attribution",_i,$h),_i.prototype.setCollapsed=_i.prototype.X,_i.prototype.setCollapsible=_i.prototype.V,e("ol.control.Zoom",Ni,$h),e("ol.control.Rotate",Ii,$h),e("ol.control.ScaleLine",Fo,$h),e("ol.control.defaults",Li,$h),e("ol.interaction.Draw",Ua,$h),Ua.prototype.on=Ua.prototype.s,Ua.prototype.un=Ua.prototype.ma,e("ol.interaction.Modify",hh,$h),hh.prototype.on=hh.prototype.s,hh.prototype.un=hh.prototype.ma,e("ol.interaction.Select",Mh,$h),Mh.prototype.on=Mh.prototype.s,Mh.prototype.un=Mh.prototype.ma,Mh.prototype.getFeatures=Mh.prototype.v,e("ol.source.Source",ri,$h),ri.prototype.on=ri.prototype.s,ri.prototype.once=ri.prototype.jc,e("ol.source.OSM",Dh,$h),e("ol.source.Tile",Mi,$h),e("ol.source.TileArcGISRest",Rh,$h),e("ol.source.TileWMS",qh,$h),qh.prototype.getGetFeatureInfoUrl=qh.prototype.fe,e("ol.source.Vector",co,$h),co.prototype.addFeature=co.prototype.fb,co.prototype.addFeatures=co.prototype.Ra,co.prototype.getFeatures=co.prototype.Vc,co.prototype.getFormat=co.prototype.pf,co.prototype.removeFeature=co.prototype.bb,e("ol.source.WMTS",Wh,$h),e("ol.source.XYZ",Ih,$h),e("ol.source.Cluster",Eh,$h),mn.prototype.getSource=mn.prototype.Z,cn.prototype.getVisible=cn.prototype.b,cn.prototype.setVisible=cn.prototype.w,cn.prototype.on=cn.prototype.s,cn.prototype.once=cn.prototype.jc,e("ol.layer.Tile",Wr,$h),e("ol.layer.Vector",is,$h),is.prototype.setStyle=is.prototype.o,e("ol.layer.Group",Dr,$h),e("ol.Feature",zs,$h),zs.prototype.getGeometry=zs.prototype.N,zs.prototype.getGeometryName=zs.prototype.ee,zs.prototype.getId=zs.prototype.sa,zs.prototype.getProperties=zs.prototype.va,zs.prototype.setId=zs.prototype.tb,zs.prototype.setStyle=zs.prototype.Qc,zs.prototype.on=zs.prototype.s,e("ol.Collection",qe,$h),qe.prototype.getLength=qe.prototype.La,qe.prototype.item=qe.prototype.Pc,qe.prototype.on=qe.prototype.s,e("ol.format.EsriJSON",la,$h),la.prototype.readFeatures=la.prototype.Ca,e("ol.format.GeoJSON",da,$h),da.prototype.readFeatures=da.prototype.Ca,e("ol.format.WKT",Ia,$h),Ia.prototype.readFeature=Ia.prototype.$b,Ia.prototype.readFeatures=Ia.prototype.Ca,e("ol.format.WFS",_a,$h),_a.prototype.readFeatures=_a.prototype.Ca,_a.prototype.readTransactionResponse=_a.prototype.i,_a.prototype.writeTransaction=_a.prototype.f,e("ol.geom.Circle",Ba,$h),Ba.prototype.clone=Ba.prototype.clone,Ba.prototype.getCenter=Ba.prototype.Vb,Ba.prototype.getRadius=Ba.prototype.mf,Ba.prototype.getType=Ba.prototype.K,e("ol.geom.Geometry",Bt,$h),Bt.prototype.getExtent=Bt.prototype.D,e("ol.geom.GeometryCollection",ca,$h),e("ol.geom.LineString",Ko,$h),Ko.prototype.appendCoordinate=Ko.prototype.Yd,Ko.prototype.clone=Ko.prototype.clone,Ko.prototype.getCoordinateAt=Ko.prototype.Gc,Ko.prototype.getCoordinateAtM=Ko.prototype.Sc,Ko.prototype.getCoordinates=Ko.prototype.M,Ko.prototype.getType=Ko.prototype.K,Ko.prototype.setCoordinates=Ko.prototype.O,e("ol.geom.MultiLineString",Qo,$h),Qo.prototype.clone=Qo.prototype.clone,Ko.prototype.getCoordinateAtM=Ko.prototype.Sc,Qo.prototype.getCoordinates=Qo.prototype.M,Qo.prototype.getType=Qo.prototype.K,Qo.prototype.setCoordinates=Qo.prototype.O,e("ol.geom.MultiPoint",na,$h),na.prototype.clone=na.prototype.clone,na.prototype.getCoordinates=na.prototype.M,na.prototype.getType=na.prototype.K,na.prototype.setCoordinates=na.prototype.O,e("ol.geom.MultiPolygon",ra,$h),ra.prototype.clone=ra.prototype.clone,ra.prototype.getCoordinates=ra.prototype.M,ra.prototype.getInteriorPoints=ra.prototype.ie,ra.prototype.getType=ra.prototype.K,ra.prototype.setCoordinates=ra.prototype.O,e("ol.geom.Point",ue,$h),ue.prototype.clone=ue.prototype.clone,ue.prototype.getCoordinates=ue.prototype.M,ue.prototype.getType=ue.prototype.K,ue.prototype.setCoordinates=ue.prototype.O,e("ol.geom.Polygon",ve,$h),ve.prototype.clone=ve.prototype.clone,ve.prototype.getCoordinates=ve.prototype.M,ve.prototype.getInteriorPoint=ve.prototype.he,ve.prototype.getType=ve.prototype.K,ve.prototype.setCoordinates=ve.prototype.O,e("ol.loadingstrategy.all",ro,$h),e("ol.loadingstrategy.bbox",function(t){return[t]},$h),e("ol.loadingstrategy.tile",function(t){return function(e,i){var n=gi(t,i),r=ui(t,e,n),s=[],n=[n,0,0];for(n[1]=r.G;n[1]<=r.H;++n[1])for(n[2]=r.I;n[2]<=r.J;++n[2])s.push(fi(t,n));return s}},$h),e("ol.animation.pan",Ae,$h),$h.ol})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],25:[function(t,e,i){function n(t,e,i){if(!(this instanceof n))return new n(t,e,i);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"==typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"==typeof t&&"undefined"==typeof e){var r=t.split(",");this.x=parseFloat(r[0],10),this.y=parseFloat(r[1],10),this.z=parseFloat(r[2],10)||0}else this.x=t,this.y=e,this.z=i||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}var r=t("mgrs");n.fromMGRS=function(t){return new n(r.toPoint(t))},n.prototype.toMGRS=function(t){return r.forward([this.x,this.y],t)},e.exports=n},{mgrs:92}],26:[function(t,e,i){function n(t,e){if(!(this instanceof n))return new n(t);e=e||function(t){if(t)throw t};var i=r(t);if("object"!=typeof i)return void e(t);var o=a(i),h=n.projections.get(o.projName);h?(s(this,o),s(this,h),this.init(),e(null,this)):e(t)}var r=t("./parseCode"),s=t("./extend"),o=t("./projections"),a=t("./deriveConstants");n.projections=o,n.projections.start(),e.exports=n},{"./deriveConstants":57,"./extend":58,"./parseCode":62,"./projections":64}],27:[function(t,e,i){e.exports=function(t,e,i){var n,r,s,o=i.x,a=i.y,h=i.z||0;for(s=0;3>s;s++)if(!e||2!==s||void 0!==i.z)switch(0===s?(n=o,r="x"):1===s?(n=a,r="y"):(n=h,r="z"),t.axis[s]){case"e":i[r]=n;break;case"w":i[r]=-n;break;case"n":i[r]=n;break;case"s":i[r]=-n;break;case"u":void 0!==i[r]&&(i.z=n);break;case"d":void 0!==i[r]&&(i.z=-n);break;default:return null}return i}},{}],28:[function(t,e,i){var n=Math.PI/2,r=t("./sign");e.exports=function(t){return Math.abs(t)<n?t:t-r(t)*Math.PI}},{"./sign":45}],29:[function(t,e,i){var n=2*Math.PI,r=3.14159265359,s=t("./sign");e.exports=function(t){return Math.abs(t)<=r?t:t-s(t)*n}},{"./sign":45}],30:[function(t,e,i){e.exports=function(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}},{}],31:[function(t,e,i){e.exports=function(t){return 1-.25*t*(1+t/16*(3+1.25*t))}},{}],32:[function(t,e,i){e.exports=function(t){return.375*t*(1+.25*t*(1+.46875*t))}},{}],33:[function(t,e,i){e.exports=function(t){return.05859375*t*t*(1+.75*t)}},{}],34:[function(t,e,i){e.exports=function(t){return t*t*t*(35/3072)}},{}],35:[function(t,e,i){e.exports=function(t,e,i){var n=e*i;return t/Math.sqrt(1-n*n)}},{}],36:[function(t,e,i){e.exports=function(t,e,i,n,r){var s,o;s=t/e;for(var a=0;15>a;a++)if(o=(t-(e*s-i*Math.sin(2*s)+n*Math.sin(4*s)-r*Math.sin(6*s)))/(e-2*i*Math.cos(2*s)+4*n*Math.cos(4*s)-6*r*Math.cos(6*s)),s+=o,Math.abs(o)<=1e-10)return s;return NaN}},{}],37:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){var i=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-i)<1e-6)return 0>e?-1*n:n;for(var r,s,o,a,h=Math.asin(.5*e),l=0;30>l;l++)if(s=Math.sin(h),o=Math.cos(h),a=t*s,r=Math.pow(1-a*a,2)/(2*o)*(e/(1-t*t)-s/(1-a*a)+.5/t*Math.log((1-a)/(1+a))),h+=r,Math.abs(r)<=1e-10)return h;return NaN}},{}],38:[function(t,e,i){e.exports=function(t,e,i,n,r){return t*r-e*Math.sin(2*r)+i*Math.sin(4*r)-n*Math.sin(6*r)}},{}],39:[function(t,e,i){e.exports=function(t,e,i){var n=t*e;return i/Math.sqrt(1-n*n)}},{}],40:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e){for(var i,r,s=.5*t,o=n-2*Math.atan(e),a=0;15>=a;a++)if(i=t*Math.sin(o),r=n-2*Math.atan(e*Math.pow((1-i)/(1+i),s))-o,o+=r,Math.abs(r)<=1e-10)return o;return-9999}},{}],41:[function(t,e,i){var n=1,r=.25,s=.046875,o=.01953125,a=.01068115234375,h=.75,l=.46875,u=.013020833333333334,c=.007120768229166667,f=.3645833333333333,p=.005696614583333333,d=.3076171875;e.exports=function(t){var e=[];e[0]=n-t*(r+t*(s+t*(o+t*a))),e[1]=t*(h-t*(s+t*(o+t*a)));var i=t*t;return e[2]=i*(l-t*(u+t*c)),i*=t,e[3]=i*(f-t*p),e[4]=i*t*d,e}},{}],42:[function(t,e,i){var n=t("./pj_mlfn"),r=1e-10,s=20;e.exports=function(t,e,i){for(var o=1/(1-e),a=t,h=s;h;--h){var l=Math.sin(a),u=1-e*l*l;if(u=(n(a,l,Math.cos(a),i)-t)*(u*Math.sqrt(u))*o,a-=u,Math.abs(u)<r)return a}return a}},{"./pj_mlfn":43}],43:[function(t,e,i){e.exports=function(t,e,i,n){return i*=e,e*=e,n[0]*t-i*(n[1]+e*(n[2]+e*(n[3]+e*n[4])))}},{}],44:[function(t,e,i){e.exports=function(t,e){var i;return t>1e-7?(i=t*e,(1-t*t)*(e/(1-i*i)-.5/t*Math.log((1-i)/(1+i)))):2*e}},{}],45:[function(t,e,i){e.exports=function(t){return 0>t?-1:1}},{}],46:[function(t,e,i){e.exports=function(t,e){return Math.pow((1-t)/(1+t),e)}},{}],47:[function(t,e,i){e.exports=function(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}},{}],48:[function(t,e,i){var n=Math.PI/2;e.exports=function(t,e,i){var r=t*i,s=.5*t;return r=Math.pow((1-r)/(1+r),s),Math.tan(.5*(n-e))/r}},{}],49:[function(t,e,i){i.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},i.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},i.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},i.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},i.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},i.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},i.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},i.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},i.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},i.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},i.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},i.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},i.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},i.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},i.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},i.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"}},{}],50:[function(t,e,i){i.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},i.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},i.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},i.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},i.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},i.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},i.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},i.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},i.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},i.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},i.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},i.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},i.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},i.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},i.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},i.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},i.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},i.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},i.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},i.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},i.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},i.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},i.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},i.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},i.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},i.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},i.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},i.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},i.hough={a:6378270,rf:297,ellipseName:"Hough"},i.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},i.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},i.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},i.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},i.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},i.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},i.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},i.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},i.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},i.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},i.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},i.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"},i.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"},i.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"}},{}],51:[function(t,e,i){i.greenwich=0,i.lisbon=-9.131906111111,i.paris=2.337229166667,i.bogota=-74.080916666667,i.madrid=-3.687938888889,i.rome=12.452333333333,i.bern=7.439583333333,i.jakarta=106.807719444444,i.ferro=-17.666666666667,i.brussels=4.367975,i.stockholm=18.058277777778,i.athens=23.7163375,i.oslo=10.722916666667},{}],52:[function(t,e,i){i.ft={to_meter:.3048},i["us-ft"]={to_meter:1200/3937}},{}],53:[function(t,e,i){function n(t,e,i){var n;return Array.isArray(i)?(n=a(t,e,i),3===i.length?[n.x,n.y,n.z]:[n.x,n.y]):a(t,e,i)}function r(t){return t instanceof o?t:t.oProj?t.oProj:o(t)}function s(t,e,i){t=r(t);var s,o=!1;return"undefined"==typeof e?(e=t,t=h,o=!0):("undefined"!=typeof e.x||Array.isArray(e))&&(i=e,e=t,t=h,o=!0),e=r(e),i?n(t,e,i):(s={forward:function(i){return n(t,e,i)},inverse:function(i){return n(e,t,i)}},o&&(s.oProj=e),s)}var o=t("./Proj"),a=t("./transform"),h=o("WGS84");e.exports=s},{"./Proj":26,"./transform":90}],54:[function(t,e,i){var n=Math.PI/2,r=1,s=2,o=3,a=4,h=5,l=484813681109536e-20,u=1.0026,c=.3826834323650898,f=function(t){if(!(this instanceof f))return new f(t);if(this.datum_type=a,t){if(t.datumCode&&"none"===t.datumCode&&(this.datum_type=h),t.datum_params){for(var e=0;e<t.datum_params.length;e++)t.datum_params[e]=parseFloat(t.datum_params[e]);(0!==t.datum_params[0]||0!==t.datum_params[1]||0!==t.datum_params[2])&&(this.datum_type=r),t.datum_params.length>3&&(0!==t.datum_params[3]||0!==t.datum_params[4]||0!==t.datum_params[5]||0!==t.datum_params[6])&&(this.datum_type=s,t.datum_params[3]*=l,t.datum_params[4]*=l,t.datum_params[5]*=l,t.datum_params[6]=t.datum_params[6]/1e6+1)}this.datum_type=t.grids?o:this.datum_type,this.a=t.a,this.b=t.b,this.es=t.es,this.ep2=t.ep2,this.datum_params=t.datum_params,this.datum_type===o&&(this.grids=t.grids)}};f.prototype={compare_datums:function(t){return this.datum_type!==t.datum_type?!1:this.a!==t.a||Math.abs(this.es-t.es)>5e-11?!1:this.datum_type===r?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]:this.datum_type===s?this.datum_params[0]===t.datum_params[0]&&this.datum_params[1]===t.datum_params[1]&&this.datum_params[2]===t.datum_params[2]&&this.datum_params[3]===t.datum_params[3]&&this.datum_params[4]===t.datum_params[4]&&this.datum_params[5]===t.datum_params[5]&&this.datum_params[6]===t.datum_params[6]:this.datum_type===o||t.datum_type===o?this.nadgrids===t.nadgrids:!0},geodetic_to_geocentric:function(t){var e,i,r,s,o,a,h,l=t.x,u=t.y,c=t.z?t.z:0,f=0;if(-n>u&&u>-1.001*n)u=-n;else if(u>n&&1.001*n>u)u=n;else if(-n>u||u>n)return null;return l>Math.PI&&(l-=2*Math.PI),o=Math.sin(u),h=Math.cos(u),a=o*o,s=this.a/Math.sqrt(1-this.es*a),e=(s+c)*h*Math.cos(l),i=(s+c)*h*Math.sin(l),r=(s*(1-this.es)+c)*o,t.x=e,t.y=i,t.z=r,f},geocentric_to_geodetic:function(t){var e,i,r,s,o,a,h,l,u,c,f,p,d,m,g,v,y,b=1e-12,w=b*b,x=30,M=t.x,S=t.y,k=t.z?t.z:0;if(d=!1,e=Math.sqrt(M*M+S*S),i=Math.sqrt(M*M+S*S+k*k),e/this.a<b){if(d=!0,g=0,i/this.a<b)return v=n,void(y=-this.b)}else g=Math.atan2(S,M);r=k/i,s=e/i,o=1/Math.sqrt(1-this.es*(2-this.es)*s*s),l=s*(1-this.es)*o,u=r*o,m=0;do m++,h=this.a/Math.sqrt(1-this.es*u*u),y=e*l+k*u-h*(1-this.es*u*u),a=this.es*h/(h+y),o=1/Math.sqrt(1-a*(2-a)*s*s),c=s*(1-a)*o,f=r*o,p=f*l-c*u,l=c,u=f;while(p*p>w&&x>m);return v=Math.atan(f/Math.abs(c)),t.x=g,t.y=v,t.z=y,t},geocentric_to_geodetic_noniter:function(t){var e,i,r,s,o,a,h,l,f,p,d,m,g,v,y,b,w,x=t.x,M=t.y,S=t.z?t.z:0;if(x=parseFloat(x),M=parseFloat(M),S=parseFloat(S),w=!1,0!==x)e=Math.atan2(M,x);else if(M>0)e=n;else if(0>M)e=-n;else if(w=!0,e=0,S>0)i=n;else{if(!(0>S))return i=n,void(r=-this.b);i=-n}return o=x*x+M*M,s=Math.sqrt(o),a=S*u,l=Math.sqrt(a*a+o),p=a/l,m=s/l,d=p*p*p,h=S+this.b*this.ep2*d,b=s-this.a*this.es*m*m*m,f=Math.sqrt(h*h+b*b),g=h/f,v=b/f,y=this.a/Math.sqrt(1-this.es*g*g),r=v>=c?s/v-y:-c>=v?s/-v-y:S/g+y*(this.es-1),w===!1&&(i=Math.atan(g/v)),t.x=e,t.y=i,t.z=r,t},geocentric_to_wgs84:function(t){if(this.datum_type===r)t.x+=this.datum_params[0],t.y+=this.datum_params[1],t.z+=this.datum_params[2];else if(this.datum_type===s){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],o=this.datum_params[3],a=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],u=l*(t.x-h*t.y+a*t.z)+e,c=l*(h*t.x+t.y-o*t.z)+i,f=l*(-a*t.x+o*t.y+t.z)+n;t.x=u,t.y=c,t.z=f}},geocentric_from_wgs84:function(t){if(this.datum_type===r)t.x-=this.datum_params[0],t.y-=this.datum_params[1],t.z-=this.datum_params[2];else if(this.datum_type===s){var e=this.datum_params[0],i=this.datum_params[1],n=this.datum_params[2],o=this.datum_params[3],a=this.datum_params[4],h=this.datum_params[5],l=this.datum_params[6],u=(t.x-e)/l,c=(t.y-i)/l,f=(t.z-n)/l;t.x=u+h*c-a*f,t.y=-h*u+c+o*f,t.z=a*u-o*c+f}}},e.exports=f},{}],55:[function(t,e,i){var n=1,r=2,s=3,o=5,a=6378137,h=.006694379990141316;e.exports=function(t,e,i){function l(t){return t===n||t===r}var u,c,f;if(t.compare_datums(e))return i;if(t.datum_type===o||e.datum_type===o)return i;var p=t.a,d=t.es,m=e.a,g=e.es,v=t.datum_type;if(v===s)if(0===this.apply_gridshift(t,0,i))t.a=a,t.es=h;else{if(!t.datum_params)return t.a=p,t.es=t.es,i;for(u=1,c=0,f=t.datum_params.length;f>c;c++)u*=t.datum_params[c];if(0===u)return t.a=p,t.es=t.es,i;v=t.datum_params.length>3?r:n}return e.datum_type===s&&(e.a=a,e.es=h),(t.es!==e.es||t.a!==e.a||l(v)||l(e.datum_type))&&(t.geodetic_to_geocentric(i),l(t.datum_type)&&t.geocentric_to_wgs84(i),l(e.datum_type)&&e.geocentric_from_wgs84(i),e.geocentric_to_geodetic(i)),e.datum_type===s&&this.apply_gridshift(e,1,i),t.a=p,t.es=d,e.a=m,e.es=g,i}},{}],56:[function(t,e,i){function n(t){var e=this;if(2===arguments.length){var i=arguments[1];"string"==typeof i?"+"===i.charAt(0)?n[t]=s(arguments[1]):n[t]=o(arguments[1]):n[t]=i}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?n.apply(e,t):n(t)});if("string"==typeof t){if(t in n)return n[t]}else"EPSG"in t?n["EPSG:"+t.EPSG]=t:"ESRI"in t?n["ESRI:"+t.ESRI]=t:"IAU2000"in t?n["IAU2000:"+t.IAU2000]=t:console.log(t);return}}var r=t("./global"),s=t("./projString"),o=t("./wkt");r(n),e.exports=n},{"./global":59,"./projString":63,"./wkt":91}],57:[function(t,e,i){var n=t("./constants/Datum"),r=t("./constants/Ellipsoid"),s=t("./extend"),o=t("./datum"),a=1e-10,h=.16666666666666666,l=.04722222222222222,u=.022156084656084655;e.exports=function(t){if(t.datumCode&&"none"!==t.datumCode){var e=n[t.datumCode];e&&(t.datum_params=e.towgs84?e.towgs84.split(","):null,t.ellps=e.ellipse,t.datumName=e.datumName?e.datumName:t.datumCode)}if(!t.a){var i=r[t.ellps]?r[t.ellps]:r.WGS84;s(t,i)}return t.rf&&!t.b&&(t.b=(1-1/t.rf)*t.a),(0===t.rf||Math.abs(t.a-t.b)<a)&&(t.sphere=!0,t.b=t.a),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=(t.a2-t.b2)/t.a2,t.e=Math.sqrt(t.es),t.R_A&&(t.a*=1-t.es*(h+t.es*(l+t.es*u)),t.a2=t.a*t.a,t.b2=t.b*t.b,t.es=0),t.ep2=(t.a2-t.b2)/t.b2,t.k0||(t.k0=1),t.axis||(t.axis="enu"),t.datum||(t.datum=o(t)),t}},{"./constants/Datum":49,"./constants/Ellipsoid":50,"./datum":54,"./extend":58}],58:[function(t,e,i){e.exports=function(t,e){t=t||{};var i,n;if(!e)return t;for(n in e)i=e[n],void 0!==i&&(t[n]=i);return t}},{}],59:[function(t,e,i){e.exports=function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}},{}],60:[function(t,e,i){var n=[t("./projections/tmerc"),t("./projections/utm"),t("./projections/sterea"),t("./projections/stere"),t("./projections/somerc"),t("./projections/omerc"),t("./projections/lcc"),t("./projections/krovak"),t("./projections/cass"),t("./projections/laea"),t("./projections/aea"),t("./projections/gnom"),t("./projections/cea"),t("./projections/eqc"),t("./projections/poly"),t("./projections/nzmg"),t("./projections/mill"),t("./projections/sinu"),t("./projections/moll"),t("./projections/eqdc"),t("./projections/vandg"),t("./projections/aeqd")];e.exports=function(t){n.forEach(function(e){t.Proj.projections.add(e)})}},{"./projections/aea":65,"./projections/aeqd":66,"./projections/cass":67,"./projections/cea":68,"./projections/eqc":69,"./projections/eqdc":70,"./projections/gnom":72,"./projections/krovak":73,"./projections/laea":74,"./projections/lcc":75,"./projections/mill":78,"./projections/moll":79,"./projections/nzmg":80,"./projections/omerc":81,"./projections/poly":82,"./projections/sinu":83,"./projections/somerc":84,"./projections/stere":85,"./projections/sterea":86,"./projections/tmerc":87,"./projections/utm":88,"./projections/vandg":89}],61:[function(t,e,i){var n=t("./core");n.defaultDatum="WGS84",n.Proj=t("./Proj"),n.WGS84=new n.Proj("WGS84"),n.Point=t("./Point"),n.toPoint=t("./common/toPoint"),n.defs=t("./defs"),n.transform=t("./transform"),n.mgrs=t("mgrs"),n.version=t("../package.json").version,t("./includedProjections")(n),e.exports=n},{"../package.json":93,"./Point":25,"./Proj":26,"./common/toPoint":47,
"./core":53,"./defs":56,"./includedProjections":60,"./transform":90,mgrs:92}],62:[function(t,e,i){function n(t){return"string"==typeof t}function r(t){return t in h}function s(t){var e=["GEOGCS","GEOCCS","PROJCS","LOCAL_CS"];return e.reduce(function(e,i){return e+1+t.indexOf(i)},0)}function o(t){return"+"===t[0]}function a(t){return n(t)?r(t)?h[t]:s(t)?l(t):o(t)?u(t):void 0:t}var h=t("./defs"),l=t("./wkt"),u=t("./projString");e.exports=a},{"./defs":56,"./projString":63,"./wkt":91}],63:[function(t,e,i){var n=.017453292519943295,r=t("./constants/PrimeMeridian"),s=t("./constants/units");e.exports=function(t){var e={},i={};t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).forEach(function(t){var e=t.split("=");e.push(!0),i[e[0].toLowerCase()]=e[1]});var o,a,h,l={proj:"projName",datum:"datumCode",rf:function(t){e.rf=parseFloat(t)},lat_0:function(t){e.lat0=t*n},lat_1:function(t){e.lat1=t*n},lat_2:function(t){e.lat2=t*n},lat_ts:function(t){e.lat_ts=t*n},lon_0:function(t){e.long0=t*n},lon_1:function(t){e.long1=t*n},lon_2:function(t){e.long2=t*n},alpha:function(t){e.alpha=parseFloat(t)*n},lonc:function(t){e.longc=t*n},x_0:function(t){e.x0=parseFloat(t)},y_0:function(t){e.y0=parseFloat(t)},k_0:function(t){e.k0=parseFloat(t)},k:function(t){e.k0=parseFloat(t)},a:function(t){e.a=parseFloat(t)},b:function(t){e.b=parseFloat(t)},r_a:function(){e.R_A=!0},zone:function(t){e.zone=parseInt(t,10)},south:function(){e.utmSouth=!0},towgs84:function(t){e.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){e.to_meter=parseFloat(t)},units:function(t){e.units=t,s[t]&&(e.to_meter=s[t].to_meter)},from_greenwich:function(t){e.from_greenwich=t*n},pm:function(t){e.from_greenwich=(r[t]?r[t]:parseFloat(t))*n},nadgrids:function(t){"@null"===t?e.datumCode="none":e.nadgrids=t},axis:function(t){var i="ewnsud";3===t.length&&-1!==i.indexOf(t.substr(0,1))&&-1!==i.indexOf(t.substr(1,1))&&-1!==i.indexOf(t.substr(2,1))&&(e.axis=t)}};for(o in i)a=i[o],o in l?(h=l[o],"function"==typeof h?h(a):e[h]=a):e[o]=a;return"string"==typeof e.datumCode&&"WGS84"!==e.datumCode&&(e.datumCode=e.datumCode.toLowerCase()),e}},{"./constants/PrimeMeridian":51,"./constants/units":52}],64:[function(t,e,i){function n(t,e){var i=o.length;return t.names?(o[i]=t,t.names.forEach(function(t){s[t.toLowerCase()]=i}),this):(console.log(e),!0)}var r=[t("./projections/merc"),t("./projections/longlat")],s={},o=[];i.add=n,i.get=function(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!=typeof s[e]&&o[s[e]]?o[s[e]]:void 0},i.start=function(){r.forEach(n)}},{"./projections/longlat":76,"./projections/merc":77}],65:[function(t,e,i){var n=1e-10,r=t("../common/msfnz"),s=t("../common/qsfnz"),o=t("../common/adjust_lon"),a=t("../common/asinz");i.init=function(){Math.abs(this.lat1+this.lat2)<n||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=r(this.e3,this.sin_po,this.cos_po),this.qs1=s(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=r(this.e3,this.sin_po,this.cos_po),this.qs2=s(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=s(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>n?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)},i.forward=function(t){var e=t.x,i=t.y;this.sin_phi=Math.sin(i),this.cos_phi=Math.cos(i);var n=s(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*n)/this.ns0,a=this.ns0*o(e-this.long0),h=r*Math.sin(a)+this.x0,l=this.rh-r*Math.cos(a)+this.y0;return t.x=h,t.y=l,t},i.inverse=function(t){var e,i,n,r,s,a;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),n=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),n=-1),r=0,0!==e&&(r=Math.atan2(n*t.x,n*t.y)),n=e*this.ns0/this.a,this.sphere?a=Math.asin((this.c-n*n)/(2*this.ns0)):(i=(this.c-n*n)/this.ns0,a=this.phi1z(this.e3,i)),s=o(r/this.ns0+this.long0),t.x=s,t.y=a,t},i.phi1z=function(t,e){var i,r,s,o,h,l=a(.5*e);if(n>t)return l;for(var u=t*t,c=1;25>=c;c++)if(i=Math.sin(l),r=Math.cos(l),s=t*i,o=1-s*s,h=.5*o*o/r*(e/(1-u)-i/o+.5/t*Math.log((1-s)/(1+s))),l+=h,Math.abs(h)<=1e-7)return l;return null},i.names=["Albers_Conic_Equal_Area","Albers","aea"]},{"../common/adjust_lon":29,"../common/asinz":30,"../common/msfnz":39,"../common/qsfnz":44}],66:[function(t,e,i){var n=t("../common/adjust_lon"),r=Math.PI/2,s=1e-10,o=t("../common/mlfn"),a=t("../common/e0fn"),h=t("../common/e1fn"),l=t("../common/e2fn"),u=t("../common/e3fn"),c=t("../common/gN"),f=t("../common/asinz"),p=t("../common/imlfn");i.init=function(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)},i.forward=function(t){var e,i,f,p,d,m,g,v,y,b,w,x,M,S,k,C,P,T,_,j,A,I,E,N=t.x,L=t.y,O=Math.sin(t.y),D=Math.cos(t.y),R=n(N-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=s?(t.x=this.x0+this.a*(r-L)*Math.sin(R),t.y=this.y0-this.a*(r-L)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=s?(t.x=this.x0+this.a*(r+L)*Math.sin(R),t.y=this.y0+this.a*(r+L)*Math.cos(R),t):(T=this.sin_p12*O+this.cos_p12*D*Math.cos(R),C=Math.acos(T),P=C/Math.sin(C),t.x=this.x0+this.a*P*D*Math.sin(R),t.y=this.y0+this.a*P*(this.cos_p12*O-this.sin_p12*D*Math.cos(R)),t):(e=a(this.es),i=h(this.es),f=l(this.es),p=u(this.es),Math.abs(this.sin_p12-1)<=s?(d=this.a*o(e,i,f,p,r),m=this.a*o(e,i,f,p,L),t.x=this.x0+(d-m)*Math.sin(R),t.y=this.y0-(d-m)*Math.cos(R),t):Math.abs(this.sin_p12+1)<=s?(d=this.a*o(e,i,f,p,r),m=this.a*o(e,i,f,p,L),t.x=this.x0+(d+m)*Math.sin(R),t.y=this.y0+(d+m)*Math.cos(R),t):(g=O/D,v=c(this.a,this.e,this.sin_p12),y=c(this.a,this.e,O),b=Math.atan((1-this.es)*g+this.es*v*this.sin_p12/(y*D)),w=Math.atan2(Math.sin(R),this.cos_p12*Math.tan(b)-this.sin_p12*Math.cos(R)),_=0===w?Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.abs(Math.abs(w)-Math.PI)<=s?-Math.asin(this.cos_p12*Math.sin(b)-this.sin_p12*Math.cos(b)):Math.asin(Math.sin(R)*Math.cos(b)/Math.sin(w)),x=this.e*this.sin_p12/Math.sqrt(1-this.es),M=this.e*this.cos_p12*Math.cos(w)/Math.sqrt(1-this.es),S=x*M,k=M*M,j=_*_,A=j*_,I=A*_,E=I*_,C=v*_*(1-j*k*(1-k)/6+A/8*S*(1-2*k)+I/120*(k*(4-7*k)-3*x*x*(1-7*k))-E/48*S),t.x=this.x0+C*Math.sin(w),t.y=this.y0+C*Math.cos(w),t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,d,m,g,v,y,b,w,x,M,S,k,C,P,T,_,j,A,I,E,N,L;if(this.sphere){if(e=Math.sqrt(t.x*t.x+t.y*t.y),e>2*r*this.a)return;return i=e/this.a,d=Math.sin(i),m=Math.cos(i),g=this.long0,Math.abs(e)<=s?v=this.lat0:(v=f(m*this.sin_p12+t.y*d*this.cos_p12/e),y=Math.abs(this.lat0)-r,g=n(Math.abs(y)<=s?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*d,e*this.cos_p12*m-t.y*this.sin_p12*d))),t.x=g,t.y=v,t}return b=a(this.es),w=h(this.es),x=l(this.es),M=u(this.es),Math.abs(this.sin_p12-1)<=s?(S=this.a*o(b,w,x,M,r),e=Math.sqrt(t.x*t.x+t.y*t.y),k=S-e,v=p(k/this.a,b,w,x,M),g=n(this.long0+Math.atan2(t.x,-1*t.y)),t.x=g,t.y=v,t):Math.abs(this.sin_p12+1)<=s?(S=this.a*o(b,w,x,M,r),e=Math.sqrt(t.x*t.x+t.y*t.y),k=e-S,v=p(k/this.a,b,w,x,M),g=n(this.long0+Math.atan2(t.x,t.y)),t.x=g,t.y=v,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),T=Math.atan2(t.x,t.y),C=c(this.a,this.e,this.sin_p12),_=Math.cos(T),j=this.e*this.cos_p12*_,A=-j*j/(1-this.es),I=3*this.es*(1-A)*this.sin_p12*this.cos_p12*_/(1-this.es),E=e/C,N=E-A*(1+A)*Math.pow(E,3)/6-I*(1+3*A)*Math.pow(E,4)/24,L=1-A*N*N/2-E*N*N*N/6,P=Math.asin(this.sin_p12*Math.cos(N)+this.cos_p12*Math.sin(N)*_),g=n(this.long0+Math.asin(Math.sin(T)*Math.sin(N)/Math.cos(P))),v=Math.atan((1-this.es*L*this.sin_p12/Math.sin(P))*Math.tan(P)/(1-this.es)),t.x=g,t.y=v,t)},i.names=["Azimuthal_Equidistant","aeqd"]},{"../common/adjust_lon":29,"../common/asinz":30,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/gN":35,"../common/imlfn":36,"../common/mlfn":38}],67:[function(t,e,i){var n=t("../common/mlfn"),r=t("../common/e0fn"),s=t("../common/e1fn"),o=t("../common/e2fn"),a=t("../common/e3fn"),h=t("../common/gN"),l=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn"),f=Math.PI/2,p=1e-10;i.init=function(){this.sphere||(this.e0=r(this.es),this.e1=s(this.es),this.e2=o(this.es),this.e3=a(this.es),this.ml0=this.a*n(this.e0,this.e1,this.e2,this.e3,this.lat0))},i.forward=function(t){var e,i,r=t.x,s=t.y;if(r=l(r-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(s)*Math.sin(r)),i=this.a*(Math.atan2(Math.tan(s),Math.cos(r))-this.lat0);else{var o=Math.sin(s),a=Math.cos(s),u=h(this.a,this.e,o),c=Math.tan(s)*Math.tan(s),f=r*Math.cos(s),p=f*f,d=this.es*a*a/(1-this.es),m=this.a*n(this.e0,this.e1,this.e2,this.e3,s);e=u*f*(1-p*c*(1/6-(8-c+8*d)*p/120)),i=m-this.ml0+u*o/a*p*(.5+(5-c+6*d)*p/24)}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,n=t.x/this.a,r=t.y/this.a;if(this.sphere){var s=r+this.lat0;e=Math.asin(Math.sin(s)*Math.cos(n)),i=Math.atan2(Math.tan(n),Math.cos(s))}else{var o=this.ml0/this.a+r,a=c(o,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-f)<=p)return t.x=this.long0,t.y=f,0>r&&(t.y*=-1),t;var d=h(this.a,this.e,Math.sin(a)),m=d*d*d/this.a/this.a*(1-this.es),g=Math.pow(Math.tan(a),2),v=n*this.a/d,y=v*v;e=a-d*Math.tan(a)/m*v*v*(.5-(1+3*g)*v*v/24),i=v*(1-y*(g/3+(1+3*g)*g*y/15))/Math.cos(a)}return t.x=l(i+this.long0),t.y=u(e),t},i.names=["Cassini","Cassini_Soldner","cass"]},{"../common/adjust_lat":28,"../common/adjust_lon":29,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/gN":35,"../common/imlfn":36,"../common/mlfn":38}],68:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/qsfnz"),s=t("../common/msfnz"),o=t("../common/iqsfnz");i.init=function(){this.sphere||(this.k0=s(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))},i.forward=function(t){var e,i,s=t.x,o=t.y,a=n(s-this.long0);if(this.sphere)e=this.x0+this.a*a*Math.cos(this.lat_ts),i=this.y0+this.a*Math.sin(o)/Math.cos(this.lat_ts);else{var h=r(this.e,Math.sin(o));e=this.x0+this.a*this.k0*a,i=this.y0+this.a*h*.5/this.k0}return t.x=e,t.y=i,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i;return this.sphere?(e=n(this.long0+t.x/this.a/Math.cos(this.lat_ts)),i=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(i=o(this.e,2*t.y*this.k0/this.a),e=n(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=i,t},i.names=["cea"]},{"../common/adjust_lon":29,"../common/iqsfnz":37,"../common/msfnz":39,"../common/qsfnz":44}],69:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/adjust_lat");i.init=function(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)},i.forward=function(t){var e=t.x,i=t.y,s=n(e-this.long0),o=r(i-this.lat0);return t.x=this.x0+this.a*s*this.rc,t.y=this.y0+this.a*o,t},i.inverse=function(t){var e=t.x,i=t.y;return t.x=n(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=r(this.lat0+(i-this.y0)/this.a),t},i.names=["Equirectangular","Equidistant_Cylindrical","eqc"]},{"../common/adjust_lat":28,"../common/adjust_lon":29}],70:[function(t,e,i){var n=t("../common/e0fn"),r=t("../common/e1fn"),s=t("../common/e2fn"),o=t("../common/e3fn"),a=t("../common/msfnz"),h=t("../common/mlfn"),l=t("../common/adjust_lon"),u=t("../common/adjust_lat"),c=t("../common/imlfn"),f=1e-10;i.init=function(){Math.abs(this.lat1+this.lat2)<f||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=r(this.es),this.e2=s(this.es),this.e3=o(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=a(this.e,this.sinphi,this.cosphi),this.ml1=h(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<f?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=a(this.e,this.sinphi,this.cosphi),this.ml2=h(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=h(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))},i.forward=function(t){var e,i=t.x,n=t.y;if(this.sphere)e=this.a*(this.g-n);else{var r=h(this.e0,this.e1,this.e2,this.e3,n);e=this.a*(this.g-r)}var s=this.ns*l(i-this.long0),o=this.x0+e*Math.sin(s),a=this.y0+this.rh-e*Math.cos(s);return t.x=o,t.y=a,t},i.inverse=function(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,i,n,r;this.ns>=0?(i=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(i=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var s=0;if(0!==i&&(s=Math.atan2(e*t.x,e*t.y)),this.sphere)return r=l(this.long0+s/this.ns),n=u(this.g-i/this.a),t.x=r,t.y=n,t;var o=this.g-i/this.a;return n=c(o,this.e0,this.e1,this.e2,this.e3),r=l(this.long0+s/this.ns),t.x=r,t.y=n,t},i.names=["Equidistant_Conic","eqdc"]},{"../common/adjust_lat":28,"../common/adjust_lon":29,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/imlfn":36,"../common/mlfn":38,"../common/msfnz":39}],71:[function(t,e,i){var n=Math.PI/4,r=t("../common/srat"),s=Math.PI/2,o=20;i.init=function(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+n)/(Math.pow(Math.tan(.5*this.lat0+n),this.C)*r(this.e*t,this.ratexp))},i.forward=function(t){var e=t.x,i=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*i+n),this.C)*r(this.e*Math.sin(i),this.ratexp))-s,t.x=this.C*e,t},i.inverse=function(t){for(var e=1e-14,i=t.x/this.C,a=t.y,h=Math.pow(Math.tan(.5*a+n)/this.K,1/this.C),l=o;l>0&&(a=2*Math.atan(h*r(this.e*Math.sin(t.y),-.5*this.e))-s,!(Math.abs(a-t.y)<e));--l)t.y=a;return l?(t.x=i,t.y=a,t):null},i.names=["gauss"]},{"../common/srat":46}],72:[function(t,e,i){var n=t("../common/adjust_lon"),r=1e-10,s=t("../common/asinz");i.init=function(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1},i.forward=function(t){var e,i,s,o,a,h,l,u,c=t.x,f=t.y;return s=n(c-this.long0),e=Math.sin(f),i=Math.cos(f),o=Math.cos(s),h=this.sin_p14*e+this.cos_p14*i*o,a=1,h>0||Math.abs(h)<=r?(l=this.x0+this.a*a*i*Math.sin(s)/h,u=this.y0+this.a*a*(this.cos_p14*e-this.sin_p14*i*o)/h):(l=this.x0+this.infinity_dist*i*Math.sin(s),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*i*o)),t.x=l,t.y=u,t},i.inverse=function(t){var e,i,r,o,a,h;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(o=Math.atan2(e,this.rc),i=Math.sin(o),r=Math.cos(o),h=s(r*this.sin_p14+t.y*i*this.cos_p14/e),a=Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i),a=n(this.long0+a)):(h=this.phic0,a=0),t.x=a,t.y=h,t},i.names=["gnom"]},{"../common/adjust_lon":29,"../common/asinz":30}],73:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq},i.forward=function(t){var e,i,r,s,o,a,h,l=t.x,u=t.y,c=n(l-this.long0);return e=Math.pow((1+this.e*Math.sin(u))/(1-this.e*Math.sin(u)),this.alfa*this.e/2),i=2*(Math.atan(this.k*Math.pow(Math.tan(u/2+this.s45),this.alfa)/e)-this.s45),r=-c*this.alfa,s=Math.asin(Math.cos(this.ad)*Math.sin(i)+Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),o=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(s)),a=this.n*o,h=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(s/2+this.s45),this.n),t.y=h*Math.cos(a)/1,t.x=h*Math.sin(a)/1,this.czech||(t.y*=-1,t.x*=-1),t},i.inverse=function(t){var e,i,n,r,s,o,a,h,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),o=Math.sqrt(t.x*t.x+t.y*t.y),s=Math.atan2(t.y,t.x),r=s/Math.sin(this.s0),n=2*(Math.atan(Math.pow(this.ro0/o,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(n)-Math.sin(this.ad)*Math.cos(n)*Math.cos(r)),i=Math.asin(Math.cos(n)*Math.sin(r)/Math.cos(e)),t.x=this.long0-i/this.alfa,a=e,h=0;var u=0;do t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(h=1),a=t.y,u+=1;while(0===h&&15>u);return u>=15?null:t},i.names=["Krovak","krovak"]},{"../common/adjust_lon":29}],74:[function(t,e,i){var n=Math.PI/2,r=Math.PI/4,s=1e-10,o=t("../common/qsfnz"),a=t("../common/adjust_lon");i.S_POLE=1,i.N_POLE=2,i.EQUIT=3,i.OBLIQ=4,i.init=function(){var t=Math.abs(this.lat0);if(Math.abs(t-n)<s?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<s?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=o(this.e,1),this.mmf=.5/(1-this.es),this.apa=this.authset(this.es),this.mode){case this.N_POLE:this.dd=1;break;case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=o(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))},i.forward=function(t){var e,i,h,l,u,c,f,p,d,m,g=t.x,v=t.y;if(g=a(g-this.long0),this.sphere){if(u=Math.sin(v),m=Math.cos(v),h=Math.cos(g),this.mode===this.OBLIQ||this.mode===this.EQUIT){if(i=this.mode===this.EQUIT?1+m*h:1+this.sinph0*u+this.cosph0*m*h,s>=i)return null;i=Math.sqrt(2/i),e=i*m*Math.sin(g),i*=this.mode===this.EQUIT?u:this.cosph0*u-this.sinph0*m*h}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(h=-h),Math.abs(v+this.phi0)<s)return null;i=r-.5*v,i=2*(this.mode===this.S_POLE?Math.cos(i):Math.sin(i)),e=i*Math.sin(g),i*=h}}else{switch(f=0,p=0,d=0,h=Math.cos(g),l=Math.sin(g),u=Math.sin(v),c=o(this.e,u),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(f=c/this.qp,p=Math.sqrt(1-f*f)),this.mode){case this.OBLIQ:d=1+this.sinb1*f+this.cosb1*p*h;break;case this.EQUIT:d=1+p*h;break;case this.N_POLE:d=n+v,c=this.qp-c;break;case this.S_POLE:d=v-n,c=this.qp+c}if(Math.abs(d)<s)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:d=Math.sqrt(2/d),i=this.mode===this.OBLIQ?this.ymf*d*(this.cosb1*f-this.sinb1*p*h):(d=Math.sqrt(2/(1+p*h)))*f*this.ymf,e=this.xmf*d*p*l;break;case this.N_POLE:case this.S_POLE:c>=0?(e=(d=Math.sqrt(c))*l,i=h*(this.mode===this.S_POLE?d:-d)):e=i=0}}return t.x=this.a*e+this.x0,t.y=this.a*i+this.y0,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,r,o,h,l,u,c=t.x/this.a,f=t.y/this.a;if(this.sphere){var p,d=0,m=0;if(p=Math.sqrt(c*c+f*f),i=.5*p,i>1)return null;switch(i=2*Math.asin(i),(this.mode===this.OBLIQ||this.mode===this.EQUIT)&&(m=Math.sin(i),d=Math.cos(i)),this.mode){case this.EQUIT:i=Math.abs(p)<=s?0:Math.asin(f*m/p),c*=m,f=d*p;break;case this.OBLIQ:i=Math.abs(p)<=s?this.phi0:Math.asin(d*this.sinph0+f*m*this.cosph0/p),c*=m*this.cosph0,f=(d-Math.sin(i)*this.sinph0)*p;break;case this.N_POLE:f=-f,i=n-i;break;case this.S_POLE:i-=n}e=0!==f||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(c,f):0}else{if(u=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(c/=this.dd,f*=this.dd,l=Math.sqrt(c*c+f*f),s>l)return t.x=0,t.y=this.phi0,t;o=2*Math.asin(.5*l/this.rq),r=Math.cos(o),c*=o=Math.sin(o),this.mode===this.OBLIQ?(u=r*this.sinb1+f*o*this.cosb1/l,h=this.qp*u,f=l*this.cosb1*r-f*this.sinb1*o):(u=f*o/l,h=this.qp*u,f=l*r)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(f=-f),h=c*c+f*f,!h)return t.x=0,t.y=this.phi0,t;u=1-h/this.qp,this.mode===this.S_POLE&&(u=-u)}e=Math.atan2(c,f),i=this.authlat(Math.asin(u),this.apa)}return t.x=a(this.long0+e),t.y=i,t},i.P00=.3333333333333333,i.P01=.17222222222222222,i.P02=.10257936507936508,i.P10=.06388888888888888,i.P11=.0664021164021164,i.P20=.016415012942191543,i.authset=function(t){var e,i=[];return i[0]=t*this.P00,e=t*t,i[0]+=e*this.P01,i[1]=e*this.P10,e*=t,i[0]+=e*this.P02,i[1]+=e*this.P11,i[2]=e*this.P20,i},i.authlat=function(t,e){var i=t+t;return t+e[0]*Math.sin(i)+e[1]*Math.sin(i+i)+e[2]*Math.sin(i+i+i)},i.names=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"]},{"../common/adjust_lon":29,"../common/qsfnz":44}],75:[function(t,e,i){var n=1e-10,r=t("../common/msfnz"),s=t("../common/tsfnz"),o=Math.PI/2,a=t("../common/sign"),h=t("../common/adjust_lon"),l=t("../common/phi2z");i.init=function(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<n)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),i=Math.cos(this.lat1),o=r(this.e,e,i),a=s(this.e,this.lat1,e),h=Math.sin(this.lat2),l=Math.cos(this.lat2),u=r(this.e,h,l),c=s(this.e,this.lat2,h),f=s(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>n?this.ns=Math.log(o/u)/Math.log(a/c):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=o/(this.ns*Math.pow(a,this.ns)),this.rh=this.a*this.f0*Math.pow(f,this.ns),this.title||(this.title="Lambert Conformal Conic")}},i.forward=function(t){var e=t.x,i=t.y;Math.abs(2*Math.abs(i)-Math.PI)<=n&&(i=a(i)*(o-2*n));var r,l,u=Math.abs(Math.abs(i)-o);if(u>n)r=s(this.e,i,Math.sin(i)),l=this.a*this.f0*Math.pow(r,this.ns);else{if(u=i*this.ns,0>=u)return null;l=0}var c=this.ns*h(e-this.long0);return t.x=this.k0*(l*Math.sin(c))+this.x0,t.y=this.k0*(this.rh-l*Math.cos(c))+this.y0,t},i.inverse=function(t){var e,i,n,r,s,a=(t.x-this.x0)/this.k0,u=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(a*a+u*u),i=1):(e=-Math.sqrt(a*a+u*u),i=-1);var c=0;if(0!==e&&(c=Math.atan2(i*a,i*u)),0!==e||this.ns>0){if(i=1/this.ns,n=Math.pow(e/(this.a*this.f0),i),r=l(this.e,n),-9999===r)return null}else r=-o;return s=h(c/this.ns+this.long0),t.x=s,t.y=r,t},i.names=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"]},{"../common/adjust_lon":29,"../common/msfnz":39,"../common/phi2z":40,"../common/sign":45,"../common/tsfnz":48}],76:[function(t,e,i){function n(t){return t}i.init=function(){},i.forward=n,i.inverse=n,i.names=["longlat","identity"]},{}],77:[function(t,e,i){var n=t("../common/msfnz"),r=Math.PI/2,s=1e-10,o=57.29577951308232,a=t("../common/adjust_lon"),h=Math.PI/4,l=t("../common/tsfnz"),u=t("../common/phi2z");i.init=function(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=n(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)},i.forward=function(t){var e=t.x,i=t.y;if(i*o>90&&-90>i*o&&e*o>180&&-180>e*o)return null;var n,u;if(Math.abs(Math.abs(i)-r)<=s)return null;if(this.sphere)n=this.x0+this.a*this.k0*a(e-this.long0),u=this.y0+this.a*this.k0*Math.log(Math.tan(h+.5*i));else{var c=Math.sin(i),f=l(this.e,i,c);n=this.x0+this.a*this.k0*a(e-this.long0),u=this.y0-this.a*this.k0*Math.log(f)}return t.x=n,t.y=u,t},i.inverse=function(t){var e,i,n=t.x-this.x0,s=t.y-this.y0;if(this.sphere)i=r-2*Math.atan(Math.exp(-s/(this.a*this.k0)));else{var o=Math.exp(-s/(this.a*this.k0));if(i=u(this.e,o),-9999===i)return null}return e=a(this.long0+n/(this.a*this.k0)),t.x=e,t.y=i,t},i.names=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"]},{"../common/adjust_lon":29,"../common/msfnz":39,"../common/phi2z":40,"../common/tsfnz":48}],78:[function(t,e,i){var n=t("../common/adjust_lon");i.init=function(){},i.forward=function(t){var e=t.x,i=t.y,r=n(e-this.long0),s=this.x0+this.a*r,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+i/2.5))*1.25;return t.x=s,t.y=o,t},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e=n(this.long0+t.x/this.a),i=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=i,t},i.names=["Miller_Cylindrical","mill"]},{"../common/adjust_lon":29}],79:[function(t,e,i){var n=t("../common/adjust_lon"),r=1e-10;i.init=function(){},i.forward=function(t){for(var e=t.x,i=t.y,s=n(e-this.long0),o=i,a=Math.PI*Math.sin(i),h=0;!0;h++){var l=-(o+Math.sin(o)-a)/(1+Math.cos(o));if(o+=l,Math.abs(l)<r)break}o/=2,Math.PI/2-Math.abs(i)<r&&(s=0);var u=.900316316158*this.a*s*Math.cos(o)+this.x0,c=1.4142135623731*this.a*Math.sin(o)+this.y0;return t.x=u,t.y=c,t},i.inverse=function(t){var e,i;t.x-=this.x0,t.y-=this.y0,i=t.y/(1.4142135623731*this.a),Math.abs(i)>.999999999999&&(i=.999999999999),e=Math.asin(i);var r=n(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));r<-Math.PI&&(r=-Math.PI),r>Math.PI&&(r=Math.PI),i=(2*e+Math.sin(2*e))/Math.PI,Math.abs(i)>1&&(i=1);var s=Math.asin(i);return t.x=r,t.y=s,t},i.names=["Mollweide","moll"]},{"../common/adjust_lon":29}],80:[function(t,e,i){var n=484813681109536e-20;i.iterations=1,i.init=function(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013},i.forward=function(t){var e,i=t.x,r=t.y,s=r-this.lat0,o=i-this.long0,a=s/n*1e-5,h=o,l=1,u=0;for(e=1;10>=e;e++)l*=a,u+=this.A[e]*l;var c,f,p=u,d=h,m=1,g=0,v=0,y=0;for(e=1;6>=e;e++)c=m*p-g*d,f=g*p+m*d,m=c,g=f,v=v+this.B_re[e]*m-this.B_im[e]*g,y=y+this.B_im[e]*m+this.B_re[e]*g;return t.x=y*this.a+this.x0,t.y=v*this.a+this.y0,t},i.inverse=function(t){var e,i,r,s=t.x,o=t.y,a=s-this.x0,h=o-this.y0,l=h/this.a,u=a/this.a,c=1,f=0,p=0,d=0;for(e=1;6>=e;e++)i=c*l-f*u,r=f*l+c*u,c=i,f=r,p=p+this.C_re[e]*c-this.C_im[e]*f,d=d+this.C_im[e]*c+this.C_re[e]*f;for(var m=0;m<this.iterations;m++){var g,v,y=p,b=d,w=l,x=u;for(e=2;6>=e;e++)g=y*p-b*d,v=b*p+y*d,y=g,b=v,w+=(e-1)*(this.B_re[e]*y-this.B_im[e]*b),x+=(e-1)*(this.B_im[e]*y+this.B_re[e]*b);y=1,b=0;var M=this.B_re[1],S=this.B_im[1];for(e=2;6>=e;e++)g=y*p-b*d,v=b*p+y*d,y=g,b=v,M+=e*(this.B_re[e]*y-this.B_im[e]*b),S+=e*(this.B_im[e]*y+this.B_re[e]*b);var k=M*M+S*S;p=(w*M+x*S)/k,d=(x*M-w*S)/k}var C=p,P=d,T=1,_=0;for(e=1;9>=e;e++)T*=C,_+=this.D[e]*T;var j=this.lat0+_*n*1e5,A=this.long0+P;return t.x=A,t.y=j,t},i.names=["New_Zealand_Map_Grid","nzmg"]},{}],81:[function(t,e,i){var n=t("../common/tsfnz"),r=t("../common/adjust_lon"),s=t("../common/phi2z"),o=Math.PI/2,a=Math.PI/4,h=1e-10;i.init=function(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),i=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-i*i);var s=n(this.e,this.lat0,t),o=this.bl/e*Math.sqrt((1-this.es)/(1-i*i));1>o*o&&(o=1);var a,h;if(isNaN(this.longc)){var l=n(this.e,this.lat1,Math.sin(this.lat1)),u=n(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(o+Math.sqrt(o*o-1))*Math.pow(s,this.bl):this.el=(o-Math.sqrt(o*o-1))*Math.pow(s,this.bl);var c=Math.pow(l,this.bl),f=Math.pow(u,this.bl);a=this.el/c,h=.5*(a-1/a);var p=(this.el*this.el-f*c)/(this.el*this.el+f*c),d=(f-c)/(f+c),m=r(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(p*Math.tan(.5*this.bl*m)/d)/this.bl,this.long0=r(this.long0);var g=r(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*g)/h),this.alpha=Math.asin(o*Math.sin(this.gamma0))}else a=this.lat0>=0?o+Math.sqrt(o*o-1):o-Math.sqrt(o*o-1),this.el=a*Math.pow(s,this.bl),h=.5*(a-1/a),this.gamma0=Math.asin(Math.sin(this.alpha)/o),this.long0=this.longc-Math.asin(h*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(o*o-1),Math.cos(this.alpha))},i.forward=function(t){var e,i,s,l=t.x,u=t.y,c=r(l-this.long0);if(Math.abs(Math.abs(u)-o)<=h)s=u>0?-1:1,i=this.al/this.bl*Math.log(Math.tan(a+s*this.gamma0*.5)),e=-1*s*o*this.al/this.bl;else{var f=n(this.e,u,Math.sin(u)),p=this.el/Math.pow(f,this.bl),d=.5*(p-1/p),m=.5*(p+1/p),g=Math.sin(this.bl*c),v=(d*Math.sin(this.gamma0)-g*Math.cos(this.gamma0))/m;i=Math.abs(Math.abs(v)-1)<=h?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-v)/(1+v))/this.bl,e=Math.abs(Math.cos(this.bl*c))<=h?this.al*this.bl*c:this.al*Math.atan2(d*Math.cos(this.gamma0)+g*Math.sin(this.gamma0),Math.cos(this.bl*c))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+i):(e-=this.uc,t.x=this.x0+i*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-i*Math.sin(this.alpha)),t},i.inverse=function(t){var e,i;this.no_rot?(i=t.y-this.y0,e=t.x-this.x0):(i=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var n=Math.exp(-1*this.bl*i/this.al),a=.5*(n-1/n),l=.5*(n+1/n),u=Math.sin(this.bl*e/this.al),c=(u*Math.cos(this.gamma0)+a*Math.sin(this.gamma0))/l,f=Math.pow(this.el/Math.sqrt((1+c)/(1-c)),1/this.bl);return Math.abs(c-1)<h?(t.x=this.long0,t.y=o):Math.abs(c+1)<h?(t.x=this.long0,t.y=-1*o):(t.y=s(this.e,f),t.x=r(this.long0-Math.atan2(a*Math.cos(this.gamma0)-u*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t},i.names=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"]},{"../common/adjust_lon":29,"../common/phi2z":40,"../common/tsfnz":48}],82:[function(t,e,i){var n=t("../common/e0fn"),r=t("../common/e1fn"),s=t("../common/e2fn"),o=t("../common/e3fn"),a=t("../common/adjust_lon"),h=t("../common/adjust_lat"),l=t("../common/mlfn"),u=1e-10,c=t("../common/gN"),f=20;i.init=function(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=n(this.es),this.e1=r(this.es),this.e2=s(this.es),this.e3=o(this.es),this.ml0=this.a*l(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,r=t.x,s=t.y,o=a(r-this.long0);if(n=o*Math.sin(s),this.sphere)Math.abs(s)<=u?(e=this.a*o,i=-1*this.a*this.lat0):(e=this.a*Math.sin(n)/Math.tan(s),i=this.a*(h(s-this.lat0)+(1-Math.cos(n))/Math.tan(s)));else if(Math.abs(s)<=u)e=this.a*o,i=-1*this.ml0;else{var f=c(this.a,this.e,Math.sin(s))/Math.tan(s);e=f*Math.sin(n),i=this.a*l(this.e0,this.e1,this.e2,this.e3,s)-this.ml0+f*(1-Math.cos(n));
}return t.x=e+this.x0,t.y=i+this.y0,t},i.inverse=function(t){var e,i,n,r,s,o,h,c,p;if(n=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=u)e=a(n/this.a+this.long0),i=0;else{o=this.lat0+r/this.a,h=n*n/this.a/this.a+o*o,c=o;var d;for(s=f;s;--s)if(d=Math.tan(c),p=-1*(o*(c*d+1)-c-.5*(c*c+h)*d)/((c-o)/d-1),c+=p,Math.abs(p)<=u){i=c;break}e=a(this.long0+Math.asin(n*Math.tan(c)/this.a)/Math.sin(i))}else if(Math.abs(r+this.ml0)<=u)i=0,e=a(this.long0+n/this.a);else{o=(this.ml0+r)/this.a,h=n*n/this.a/this.a+o*o,c=o;var m,g,v,y,b;for(s=f;s;--s)if(b=this.e*Math.sin(c),m=Math.sqrt(1-b*b)*Math.tan(c),g=this.a*l(this.e0,this.e1,this.e2,this.e3,c),v=this.e0-2*this.e1*Math.cos(2*c)+4*this.e2*Math.cos(4*c)-6*this.e3*Math.cos(6*c),y=g/this.a,p=(o*(m*y+1)-y-.5*m*(y*y+h))/(this.es*Math.sin(2*c)*(y*y+h-2*o*y)/(4*m)+(o-y)*(m*v-2/Math.sin(2*c))-v),c-=p,Math.abs(p)<=u){i=c;break}m=Math.sqrt(1-this.es*Math.pow(Math.sin(i),2))*Math.tan(i),e=a(this.long0+Math.asin(n*m/this.a)/Math.sin(i))}return t.x=e,t.y=i,t},i.names=["Polyconic","poly"]},{"../common/adjust_lat":28,"../common/adjust_lon":29,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/gN":35,"../common/mlfn":38}],83:[function(t,e,i){var n=t("../common/adjust_lon"),r=t("../common/adjust_lat"),s=t("../common/pj_enfn"),o=20,a=t("../common/pj_mlfn"),h=t("../common/pj_inv_mlfn"),l=Math.PI/2,u=1e-10,c=t("../common/asinz");i.init=function(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=s(this.es)},i.forward=function(t){var e,i,r=t.x,s=t.y;if(r=n(r-this.long0),this.sphere){if(this.m)for(var h=this.n*Math.sin(s),l=o;l;--l){var c=(this.m*s+Math.sin(s)-h)/(this.m+Math.cos(s));if(s-=c,Math.abs(c)<u)break}else s=1!==this.n?Math.asin(this.n*Math.sin(s)):s;e=this.a*this.C_x*r*(this.m+Math.cos(s)),i=this.a*this.C_y*s}else{var f=Math.sin(s),p=Math.cos(s);i=this.a*a(s,f,p,this.en),e=this.a*r*p/Math.sqrt(1-this.es*f*f)}return t.x=e,t.y=i,t},i.inverse=function(t){var e,i,s,o;return t.x-=this.x0,s=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,s/=this.C_x*(this.m+Math.cos(e)),this.m?e=c((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=c(Math.sin(e)/this.n)),s=n(s+this.long0),e=r(e)):(e=h(t.y/this.a,this.es,this.en),o=Math.abs(e),l>o?(o=Math.sin(e),i=this.long0+t.x*Math.sqrt(1-this.es*o*o)/(this.a*Math.cos(e)),s=n(i)):l>o-u&&(s=this.long0)),t.x=s,t.y=e,t},i.names=["Sinusoidal","sinu"]},{"../common/adjust_lat":28,"../common/adjust_lon":29,"../common/asinz":30,"../common/pj_enfn":41,"../common/pj_inv_mlfn":42,"../common/pj_mlfn":43}],84:[function(t,e,i){i.init=function(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),i=this.a,n=this.rf,r=1/n,s=2*r-Math.pow(r,2),o=this.e=Math.sqrt(s);this.R=this.k0*i*Math.sqrt(1-s)/(1-s*Math.pow(e,2)),this.alpha=Math.sqrt(1+s/(1-s)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),h=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+o*e)/(1-o*e));this.K=a-this.alpha*h+this.alpha*o/2*l},i.forward=function(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),i=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),n=-this.alpha*(e+i)+this.K,r=2*(Math.atan(Math.exp(n))-Math.PI/4),s=this.alpha*(t.x-this.lambda0),o=Math.atan(Math.sin(s)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(s))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(s));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*o+this.x0,t},i.inverse=function(t){for(var e=t.x-this.x0,i=t.y-this.y0,n=e/this.R,r=2*(Math.atan(Math.exp(i/this.R))-Math.PI/4),s=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(n)),o=Math.atan(Math.sin(n)/(Math.cos(this.b0)*Math.cos(n)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+o/this.alpha,h=0,l=s,u=-1e3,c=0;Math.abs(l-u)>1e-7;){if(++c>20)return;h=1/this.alpha*(Math.log(Math.tan(Math.PI/4+s/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),u=l,l=2*Math.atan(Math.exp(h))-Math.PI/2}return t.x=a,t.y=l,t},i.names=["somerc"]},{}],85:[function(t,e,i){var n=Math.PI/2,r=1e-10,s=t("../common/sign"),o=t("../common/msfnz"),a=t("../common/tsfnz"),h=t("../common/phi2z"),l=t("../common/adjust_lon");i.ssfn_=function(t,e,i){return e*=i,Math.tan(.5*(n+t))*Math.pow((1-e)/(1+e),.5*i)},i.init=function(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*(1+s(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=r&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=r&&(this.k0=.5*this.cons*o(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/a(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=o(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-n,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))},i.forward=function(t){var e,i,s,o,h,u,c=t.x,f=t.y,p=Math.sin(f),d=Math.cos(f),m=l(c-this.long0);return Math.abs(Math.abs(c-this.long0)-Math.PI)<=r&&Math.abs(f+this.lat0)<=r?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*p+this.coslat0*d*Math.cos(m)),t.x=this.a*e*d*Math.sin(m)+this.x0,t.y=this.a*e*(this.coslat0*p-this.sinlat0*d*Math.cos(m))+this.y0,t):(i=2*Math.atan(this.ssfn_(f,p,this.e))-n,o=Math.cos(i),s=Math.sin(i),Math.abs(this.coslat0)<=r?(h=a(this.e,f*this.con,this.con*p),u=2*this.a*this.k0*h/this.cons,t.x=this.x0+u*Math.sin(c-this.long0),t.y=this.y0-this.con*u*Math.cos(c-this.long0),t):(Math.abs(this.sinlat0)<r?(e=2*this.a*this.k0/(1+o*Math.cos(m)),t.y=e*s):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*s+this.cosX0*o*Math.cos(m))),t.y=e*(this.cosX0*s-this.sinX0*o*Math.cos(m))+this.y0),t.x=e*o*Math.sin(m)+this.x0,t))},i.inverse=function(t){t.x-=this.x0,t.y-=this.y0;var e,i,s,o,a,u=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var c=2*Math.atan(u/(.5*this.a*this.k0));return e=this.long0,i=this.lat0,r>=u?(t.x=e,t.y=i,t):(i=Math.asin(Math.cos(c)*this.sinlat0+t.y*Math.sin(c)*this.coslat0/u),e=l(Math.abs(this.coslat0)<r?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(c),u*this.coslat0*Math.cos(c)-t.y*this.sinlat0*Math.sin(c))),t.x=e,t.y=i,t)}if(Math.abs(this.coslat0)<=r){if(r>=u)return i=this.lat0,e=this.long0,t.x=e,t.y=i,t;t.x*=this.con,t.y*=this.con,s=u*this.cons/(2*this.a*this.k0),i=this.con*h(this.e,s),e=this.con*l(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else o=2*Math.atan(u*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,r>=u?a=this.X0:(a=Math.asin(Math.cos(o)*this.sinX0+t.y*Math.sin(o)*this.cosX0/u),e=l(this.long0+Math.atan2(t.x*Math.sin(o),u*this.cosX0*Math.cos(o)-t.y*this.sinX0*Math.sin(o)))),i=-1*h(this.e,Math.tan(.5*(n+a)));return t.x=e,t.y=i,t},i.names=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"]},{"../common/adjust_lon":29,"../common/msfnz":39,"../common/phi2z":40,"../common/sign":45,"../common/tsfnz":48}],86:[function(t,e,i){var n=t("./gauss"),r=t("../common/adjust_lon");i.init=function(){n.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))},i.forward=function(t){var e,i,s,o;return t.x=r(t.x-this.long0),n.forward.apply(this,[t]),e=Math.sin(t.y),i=Math.cos(t.y),s=Math.cos(t.x),o=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*i*s),t.x=o*i*Math.sin(t.x),t.y=o*(this.cosc0*e-this.sinc0*i*s),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t},i.inverse=function(t){var e,i,s,o,a;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,a=Math.sqrt(t.x*t.x+t.y*t.y)){var h=2*Math.atan2(a,this.R2);e=Math.sin(h),i=Math.cos(h),o=Math.asin(i*this.sinc0+t.y*e*this.cosc0/a),s=Math.atan2(t.x*e,a*this.cosc0*i-t.y*this.sinc0*e)}else o=this.phic0,s=0;return t.x=s,t.y=o,n.inverse.apply(this,[t]),t.x=r(t.x+this.long0),t},i.names=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative"]},{"../common/adjust_lon":29,"./gauss":71}],87:[function(t,e,i){var n=t("../common/e0fn"),r=t("../common/e1fn"),s=t("../common/e2fn"),o=t("../common/e3fn"),a=t("../common/mlfn"),h=t("../common/adjust_lon"),l=Math.PI/2,u=1e-10,c=t("../common/sign"),f=t("../common/asinz");i.init=function(){this.e0=n(this.es),this.e1=r(this.es),this.e2=s(this.es),this.e3=o(this.es),this.ml0=this.a*a(this.e0,this.e1,this.e2,this.e3,this.lat0)},i.forward=function(t){var e,i,n,r=t.x,s=t.y,o=h(r-this.long0),l=Math.sin(s),u=Math.cos(s);if(this.sphere){var c=u*Math.sin(o);if(Math.abs(Math.abs(c)-1)<1e-10)return 93;i=.5*this.a*this.k0*Math.log((1+c)/(1-c)),e=Math.acos(u*Math.cos(o)/Math.sqrt(1-c*c)),0>s&&(e=-e),n=this.a*this.k0*(e-this.lat0)}else{var f=u*o,p=Math.pow(f,2),d=this.ep2*Math.pow(u,2),m=Math.tan(s),g=Math.pow(m,2);e=1-this.es*Math.pow(l,2);var v=this.a/Math.sqrt(e),y=this.a*a(this.e0,this.e1,this.e2,this.e3,s);i=this.k0*v*f*(1+p/6*(1-g+d+p/20*(5-18*g+Math.pow(g,2)+72*d-58*this.ep2)))+this.x0,n=this.k0*(y-this.ml0+v*m*(p*(.5+p/24*(5-g+9*d+4*Math.pow(d,2)+p/30*(61-58*g+Math.pow(g,2)+600*d-330*this.ep2)))))+this.y0}return t.x=i,t.y=n,t},i.inverse=function(t){var e,i,n,r,s,o,a=6;if(this.sphere){var p=Math.exp(t.x/(this.a*this.k0)),d=.5*(p-1/p),m=this.lat0+t.y/(this.a*this.k0),g=Math.cos(m);e=Math.sqrt((1-g*g)/(1+d*d)),s=f(e),0>m&&(s=-s),o=0===d&&0===g?this.long0:h(Math.atan2(d,g)+this.long0)}else{var v=t.x-this.x0,y=t.y-this.y0;for(e=(this.ml0+y/this.k0)/this.a,i=e,r=0;!0&&(n=(e+this.e1*Math.sin(2*i)-this.e2*Math.sin(4*i)+this.e3*Math.sin(6*i))/this.e0-i,i+=n,!(Math.abs(n)<=u));r++)if(r>=a)return 95;if(Math.abs(i)<l){var b=Math.sin(i),w=Math.cos(i),x=Math.tan(i),M=this.ep2*Math.pow(w,2),S=Math.pow(M,2),k=Math.pow(x,2),C=Math.pow(k,2);e=1-this.es*Math.pow(b,2);var P=this.a/Math.sqrt(e),T=P*(1-this.es)/e,_=v/(P*this.k0),j=Math.pow(_,2);s=i-P*x*j/T*(.5-j/24*(5+3*k+10*M-4*S-9*this.ep2-j/30*(61+90*k+298*M+45*C-252*this.ep2-3*S))),o=h(this.long0+_*(1-j/6*(1+2*k+M-j/20*(5-2*M+28*k-3*S+8*this.ep2+24*C)))/w)}else s=l*c(y),o=this.long0}return t.x=o,t.y=s,t},i.names=["Transverse_Mercator","Transverse Mercator","tmerc"]},{"../common/adjust_lon":29,"../common/asinz":30,"../common/e0fn":31,"../common/e1fn":32,"../common/e2fn":33,"../common/e3fn":34,"../common/mlfn":38,"../common/sign":45}],88:[function(t,e,i){var n=.017453292519943295,r=t("./tmerc");i.dependsOn="tmerc",i.init=function(){this.zone&&(this.lat0=0,this.long0=(6*Math.abs(this.zone)-183)*n,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,r.init.apply(this),this.forward=r.forward,this.inverse=r.inverse)},i.names=["Universal Transverse Mercator System","utm"]},{"./tmerc":87}],89:[function(t,e,i){var n=t("../common/adjust_lon"),r=Math.PI/2,s=1e-10,o=t("../common/asinz");i.init=function(){this.R=this.a},i.forward=function(t){var e,i,a=t.x,h=t.y,l=n(a-this.long0);Math.abs(h)<=s&&(e=this.x0+this.R*l,i=this.y0);var u=o(2*Math.abs(h/Math.PI));(Math.abs(l)<=s||Math.abs(Math.abs(h)-r)<=s)&&(e=this.x0,i=h>=0?this.y0+Math.PI*this.R*Math.tan(.5*u):this.y0+Math.PI*this.R*-Math.tan(.5*u));var c=.5*Math.abs(Math.PI/l-l/Math.PI),f=c*c,p=Math.sin(u),d=Math.cos(u),m=d/(p+d-1),g=m*m,v=m*(2/p-1),y=v*v,b=Math.PI*this.R*(c*(m-y)+Math.sqrt(f*(m-y)*(m-y)-(y+f)*(g-y)))/(y+f);0>l&&(b=-b),e=this.x0+b;var w=f+m;return b=Math.PI*this.R*(v*w-c*Math.sqrt((y+f)*(f+1)-w*w))/(y+f),i=h>=0?this.y0+b:this.y0-b,t.x=e,t.y=i,t},i.inverse=function(t){var e,i,r,o,a,h,l,u,c,f,p,d,m;return t.x-=this.x0,t.y-=this.y0,p=Math.PI*this.R,r=t.x/p,o=t.y/p,a=r*r+o*o,h=-Math.abs(o)*(1+a),l=h-2*o*o+r*r,u=-2*h+1+2*o*o+a*a,m=o*o/u+(2*l*l*l/u/u/u-9*h*l/u/u)/27,c=(h-l*l/3/u)/u,f=2*Math.sqrt(-c/3),p=3*m/c/f,Math.abs(p)>1&&(p=p>=0?1:-1),d=Math.acos(p)/3,i=t.y>=0?(-f*Math.cos(d+Math.PI/3)-l/3/u)*Math.PI:-(-f*Math.cos(d+Math.PI/3)-l/3/u)*Math.PI,e=Math.abs(r)<s?this.long0:n(this.long0+Math.PI*(a-1+Math.sqrt(1+2*(r*r-o*o)+a*a))/2/r),t.x=e,t.y=i,t},i.names=["Van_der_Grinten_I","VanDerGrinten","vandg"]},{"../common/adjust_lon":29,"../common/asinz":30}],90:[function(t,e,i){var n=.017453292519943295,r=57.29577951308232,s=1,o=2,a=t("./datum_transform"),h=t("./adjust_axis"),l=t("./Proj"),u=t("./common/toPoint");e.exports=function c(t,e,i){function f(t,e){return(t.datum.datum_type===s||t.datum.datum_type===o)&&"WGS84"!==e.datumCode}var p;return Array.isArray(i)&&(i=u(i)),t.datum&&e.datum&&(f(t,e)||f(e,t))&&(p=new l("WGS84"),c(t,p,i),t=p),"enu"!==t.axis&&h(t,!1,i),"longlat"===t.projName?(i.x*=n,i.y*=n):(t.to_meter&&(i.x*=t.to_meter,i.y*=t.to_meter),t.inverse(i)),t.from_greenwich&&(i.x+=t.from_greenwich),i=a(t.datum,e.datum,i),e.from_greenwich&&(i.x-=e.from_greenwich),"longlat"===e.projName?(i.x*=r,i.y*=r):(e.forward(i),e.to_meter&&(i.x/=e.to_meter,i.y/=e.to_meter)),"enu"!==e.axis&&h(e,!0,i),i}},{"./Proj":26,"./adjust_axis":27,"./common/toPoint":47,"./datum_transform":55}],91:[function(t,e,i){function n(t,e,i){t[e]=i.map(function(t){var e={};return r(t,e),e}).reduce(function(t,e){return l(t,e)},{})}function r(t,e){var i;return Array.isArray(t)?(i=t.shift(),"PARAMETER"===i&&(i=t.shift()),1===t.length?Array.isArray(t[0])?(e[i]={},r(t[0],e[i])):e[i]=t[0]:t.length?"TOWGS84"===i?e[i]=t:(e[i]={},["UNIT","PRIMEM","VERT_DATUM"].indexOf(i)>-1?(e[i]={name:t[0].toLowerCase(),convert:t[1]},3===t.length&&(e[i].auth=t[2])):"SPHEROID"===i?(e[i]={name:t[0],a:t[1],rf:t[2]},4===t.length&&(e[i].auth=t[3])):["GEOGCS","GEOCCS","DATUM","VERT_CS","COMPD_CS","LOCAL_CS","FITTED_CS","LOCAL_DATUM"].indexOf(i)>-1?(t[0]=["name",t[0]],n(e,i,t)):t.every(function(t){return Array.isArray(t)})?n(e,i,t):r(t,e[i])):e[i]=!0,void 0):void(e[t]=!0)}function s(t,e){var i=e[0],n=e[1];!(i in t)&&n in t&&(t[i]=t[n],3===e.length&&(t[i]=e[2](t[i])))}function o(t){return t*h}function a(t){function e(e){var i=t.to_meter||1;return parseFloat(e,10)*i}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"==typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&(t.to_meter=parseFloat(t.UNIT.convert,10))),t.GEOGCS&&(t.GEOGCS.DATUM?t.datumCode=t.GEOGCS.DATUM.name.toLowerCase():t.datumCode=t.GEOGCS.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),("new_zealand_geodetic_datum_1949"===t.datumCode||"new_zealand_1949"===t.datumCode)&&(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),t.GEOGCS.DATUM&&t.GEOGCS.DATUM.SPHEROID&&(t.ellps=t.GEOGCS.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=t.GEOGCS.DATUM.SPHEROID.a,t.rf=parseFloat(t.GEOGCS.DATUM.SPHEROID.rf,10)),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36")),t.b&&!isFinite(t.b)&&(t.b=t.a);var i=function(e){return s(t,e)},n=[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",o],["longitude_of_center","Longitude_Of_Center"],["longc","longitude_of_center",o],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",o],["lat0","latitude_of_origin",o],["lat0","standard_parallel_1",o],["lat1","standard_parallel_1",o],["lat2","standard_parallel_2",o],["alpha","azimuth",o],["srsCode","name"]];n.forEach(i),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=o(t.lat1>0?90:-90),t.lat_ts=t.lat1)}var h=.017453292519943295,l=t("./extend");e.exports=function(t,e){var i=JSON.parse((","+t).replace(/\s*\,\s*([A-Z_0-9]+?)(\[)/g,',["$1",').slice(1).replace(/\s*\,\s*([A-Z_0-9]+?)\]/g,',"$1"]').replace(/,\["VERTCS".+/,"")),n=i.shift(),s=i.shift();i.unshift(["name",s]),i.unshift(["type",n]),i.unshift("output");var o={};return r(i,o),a(o.output),l(e,o.output)}},{"./extend":58}],92:[function(t,e,i){function n(t){return t*(Math.PI/180)}function r(t){return 180*(t/Math.PI)}function s(t){var e,i,r,s,o,h,l,u,c,f=t.lat,p=t.lon,d=6378137,m=.00669438,g=.9996,v=n(f),y=n(p);c=Math.floor((p+180)/6)+1,180===p&&(c=60),f>=56&&64>f&&p>=3&&12>p&&(c=32),f>=72&&84>f&&(p>=0&&9>p?c=31:p>=9&&21>p?c=33:p>=21&&33>p?c=35:p>=33&&42>p&&(c=37)),e=6*(c-1)-180+3,u=n(e),i=m/(1-m),r=d/Math.sqrt(1-m*Math.sin(v)*Math.sin(v)),s=Math.tan(v)*Math.tan(v),o=i*Math.cos(v)*Math.cos(v),h=Math.cos(v)*(y-u),l=d*((1-m/4-3*m*m/64-5*m*m*m/256)*v-(3*m/8+3*m*m/32+45*m*m*m/1024)*Math.sin(2*v)+(15*m*m/256+45*m*m*m/1024)*Math.sin(4*v)-35*m*m*m/3072*Math.sin(6*v));var b=g*r*(h+(1-s+o)*h*h*h/6+(5-18*s+s*s+72*o-58*i)*h*h*h*h*h/120)+5e5,w=g*(l+r*Math.tan(v)*(h*h/2+(5-s+9*o+4*o*o)*h*h*h*h/24+(61-58*s+s*s+600*o-330*i)*h*h*h*h*h*h/720));return 0>f&&(w+=1e7),{northing:Math.round(w),easting:Math.round(b),zoneNumber:c,zoneLetter:a(f)}}function o(t){var e=t.northing,i=t.easting,n=t.zoneLetter,s=t.zoneNumber;if(0>s||s>60)return null;var a,h,l,u,c,f,p,d,m,g,v=.9996,y=6378137,b=.00669438,w=(1-Math.sqrt(1-b))/(1+Math.sqrt(1-b)),x=i-5e5,M=e;"N">n&&(M-=1e7),d=6*(s-1)-180+3,a=b/(1-b),p=M/v,m=p/(y*(1-b/4-3*b*b/64-5*b*b*b/256)),g=m+(3*w/2-27*w*w*w/32)*Math.sin(2*m)+(21*w*w/16-55*w*w*w*w/32)*Math.sin(4*m)+151*w*w*w/96*Math.sin(6*m),h=y/Math.sqrt(1-b*Math.sin(g)*Math.sin(g)),l=Math.tan(g)*Math.tan(g),u=a*Math.cos(g)*Math.cos(g),c=y*(1-b)/Math.pow(1-b*Math.sin(g)*Math.sin(g),1.5),f=x/(h*v);var S=g-h*Math.tan(g)/c*(f*f/2-(5+3*l+10*u-4*u*u-9*a)*f*f*f*f/24+(61+90*l+298*u+45*l*l-252*a-3*u*u)*f*f*f*f*f*f/720);S=r(S);var k=(f-(1+2*l+u)*f*f*f/6+(5-2*u+28*l-3*u*u+8*a+24*l*l)*f*f*f*f*f/120)/Math.cos(g);k=d+r(k);var C;if(t.accuracy){var P=o({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});C={top:P.lat,right:P.lon,bottom:S,left:k}}else C={lat:S,lon:k};return C}function a(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function h(t,e){var i="00000"+t.easting,n="00000"+t.northing;return t.zoneNumber+t.zoneLetter+l(t.easting,t.northing,t.zoneNumber)+i.substr(i.length-5,e)+n.substr(n.length-5,e)}function l(t,e,i){var n=u(i),r=Math.floor(t/1e5),s=Math.floor(e/1e5)%20;return c(r,s,n)}function u(t){var e=t%g;return 0===e&&(e=g),e}function c(t,e,i){var n=i-1,r=v.charCodeAt(n),s=y.charCodeAt(n),o=r+t-1,a=s+e,h=!1;o>S&&(o=o-S+b-1,h=!0),(o===w||w>r&&o>w||(o>w||w>r)&&h)&&o++,(o===x||x>r&&o>x||(o>x||x>r)&&h)&&(o++,o===w&&o++),o>S&&(o=o-S+b-1),a>M?(a=a-M+b-1,h=!0):h=!1,(a===w||w>s&&a>w||(a>w||w>s)&&h)&&a++,(a===x||x>s&&a>x||(a>x||x>s)&&h)&&(a++,a===w&&a++),a>M&&(a=a-M+b-1);var l=String.fromCharCode(o)+String.fromCharCode(a);return l}function f(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,i=t.length,n=null,r="",s=0;!/[A-Z]/.test(e=t.charAt(s));){if(s>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,s++}var o=parseInt(r,10);if(0===s||s+3>i)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(s++);if("A">=a||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;n=t.substring(s,s+=2);for(var h=u(o),l=p(n.charAt(0),h),c=d(n.charAt(1),h);c<m(a);)c+=2e6;var f=i-s;if(f%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var g,v,y,b,w,x=f/2,M=0,S=0;return x>0&&(g=1e5/Math.pow(10,x),v=t.substring(s,s+x),M=parseFloat(v)*g,y=t.substring(s+x),S=parseFloat(y)*g),b=M+l,w=S+c,{easting:b,northing:w,zoneLetter:a,zoneNumber:o,accuracy:g}}function p(t,e){for(var i=v.charCodeAt(e-1),n=1e5,r=!1;i!==t.charCodeAt(0);){if(i++,i===w&&i++,i===x&&i++,i>S){if(r)throw"Bad character: "+t;i=b,r=!0}n+=1e5}return n}function d(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var i=y.charCodeAt(e-1),n=0,r=!1;i!==t.charCodeAt(0);){if(i++,i===w&&i++,i===x&&i++,i>M){if(r)throw"Bad character: "+t;i=b,r=!0}n+=1e5}return n}function m(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}var g=6,v="AJSAJS",y="AFAFAF",b=65,w=73,x=79,M=86,S=90;i.forward=function(t,e){return e=e||5,h(s({lat:t[1],lon:t[0]}),e)},i.inverse=function(t){var e=o(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]},i.toPoint=function(t){var e=o(f(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}},{}],93:[function(t,e,i){e.exports={name:"proj4",version:"2.3.10",description:"Proj4js is a JavaScript library to transform point coordinates from one coordinate system to another, including datum transformations.",main:"lib/index.js",directories:{test:"test",doc:"docs"},scripts:{test:"./node_modules/istanbul/lib/cli.js test ./node_modules/mocha/bin/_mocha test/test.js"},repository:{type:"git",url:"git://github.com/proj4js/proj4js.git"},author:"",license:"MIT",jam:{main:"dist/proj4.js",include:["dist/proj4.js","README.md","AUTHORS","LICENSE.md"]},devDependencies:{"grunt-cli":"~0.1.13",grunt:"~0.4.2","grunt-contrib-connect":"~0.6.0","grunt-contrib-jshint":"~0.8.0",chai:"~1.8.1",mocha:"~1.17.1","grunt-mocha-phantomjs":"~0.4.0",browserify:"~3.24.5","grunt-browserify":"~1.3.0","grunt-contrib-uglify":"~0.3.2",curl:"git://github.com/cujojs/curl.git",istanbul:"~0.2.4",tin:"~0.4.0"},dependencies:{mgrs:"~0.0.2"},contributors:[{name:"Mike Adair",email:"madair@dmsolutions.ca"},{name:"Richard Greenwood",email:"rich@greenwoodmap.com"},{name:"Calvin Metcalf",email:"calvin.metcalf@gmail.com"},{name:"Richard Marsden",url:"http://www.winwaed.com"},{name:"T. Mittan"},{name:"D. Steinwand"},{name:"S. Nelson"}],gitHead:"ac03d1439491dc313da80985193f702ca471b3d0",bugs:{url:"https://github.com/proj4js/proj4js/issues"},homepage:"https://github.com/proj4js/proj4js#readme",_id:"proj4@2.3.10",_shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",_from:"proj4@2.3.10",_npmVersion:"2.11.2",_nodeVersion:"0.12.5",_npmUser:{name:"ahocevar",email:"andreas.hocevar@gmail.com"},maintainers:[{name:"cwmma",email:"calvin.metcalf@gmail.com"},{name:"ahocevar",email:"andreas.hocevar@gmail.com"}],dist:{shasum:"f6e66bdcca332c25a5e3d8ef265cfc9d7b60fd0c",tarball:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz"},_resolved:"https://registry.npmjs.org/proj4/-/proj4-2.3.10.tgz"}},{}],94:[function(t,e,i){!function(t,n){"function"==typeof define&&define.amd?define([],function(){return t.svg4everybody=n()}):"object"==typeof i?e.exports=n():t.svg4everybody=n()}(this,function(){function t(t,e){if(e){var i=document.createDocumentFragment(),n=!t.getAttribute("viewBox")&&e.getAttribute("viewBox");n&&t.setAttribute("viewBox",n);for(var r=e.cloneNode(!0);r.childNodes.length;)i.appendChild(r.firstChild);t.appendChild(i)}}function e(e){e.onreadystatechange=function(){if(4===e.readyState){var i=e._cachedDocument;i||(i=e._cachedDocument=document.implementation.createHTMLDocument(""),i.body.innerHTML=e.responseText,e._cachedTarget={}),e._embeds.splice(0).map(function(n){var r=e._cachedTarget[n.id];r||(r=e._cachedTarget[n.id]=i.getElementById(n.id)),t(n.svg,r)})}},e.onreadystatechange()}function i(i){function n(){for(var i=0;i<c.length;){var o=c[i],a=o.parentNode;if(a&&/svg/i.test(a.nodeName)){var h=o.getAttribute("xlink:href");if(r&&(!s.validate||s.validate(h,a,o))){a.removeChild(o);var f=h.split("#"),p=f.shift(),d=f.join("#");if(p.length){var m=l[p];m||(m=l[p]=new XMLHttpRequest,m.open("GET",p),m.send(),m._embeds=[]),m._embeds.push({svg:a,id:d}),e(m)}else t(a,document.getElementById(d))}}else++i}u(n,67)}var r,s=Object(i),o=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,a=/\bAppleWebKit\/(\d+)\b/,h=/\bEdge\/12\.(\d+)\b/;r="polyfill"in s?s.polyfill:o.test(navigator.userAgent)||(navigator.userAgent.match(h)||[])[1]<10547||(navigator.userAgent.match(a)||[])[1]<537;var l={},u=window.requestAnimationFrame||setTimeout,c=document.getElementsByTagName("use");r&&n()}return i})},{}],95:[function(t,e,i){e.exports={Bloodhound:t("typeahead.js/dist/bloodhound.js"),loadjQueryPlugin:function(){t("typeahead.js")}}},{"typeahead.js":97,"typeahead.js/dist/bloodhound.js":96}],96:[function(t,e,i){!function(n,r){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return n.Bloodhound=r(t)}):"object"==typeof i?e.exports=r(t("jquery")):n.Bloodhound=r(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){return(n=i.call(null,r,t,e))?void 0:!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){return(n=i.call(null,r,t,e))?!1:void 0}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var s,o,a=this,h=arguments;return s=function(){n=null,i||(r=t.apply(a,h))},o=i&&!n,clearTimeout(n),n=setTimeout(s,e),o&&(r=t.apply(a,h)),r}},throttle:function(t,e){var i,n,r,s,o,a;return o=0,a=function(){o=new Date,r=null,s=t.apply(i,n)},function(){var h=new Date,l=e-(h-o);return i=this,n=arguments,0>=l?(clearTimeout(r),r=null,o=h,s=t.apply(i,n)):r||(r=setTimeout(a,l)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function i(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var r=[];return e.each(i,function(i){r=r.concat(t(e.toStr(n[i])))}),r}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),r=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new r(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),s=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function s(e){return t.parseJSON(e)}function o(t){var e,i,n=[],r=a.length;for(e=0;r>e;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(h){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(i){"QuotaExceededError"===i.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),s(this.ls.getItem(this._prefix(t)))},set:function(t,i,s){return e.isNumber(s)?this._safeSet(this._ttlKey(t),r(n()+s)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=o(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=s(this.ls.getItem(this._ttlKey(t)));return e.isNumber(i)&&n()>i?!0:!1}}),i}(),o=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):a}var n=0,s={},o=6,a=new r(10);return i.setMaxPendingRequests=function(t){o=t},i.resetCache=function(){a.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),u._cache.set(h,t)}function r(){e(!0)}function a(){n--,delete s[h],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var h,l,u=this;h=this._fingerprint(t),this.cancelled||h!==this.lastReq||((l=s[h])?l.done(i).fail(r):o>n?(n++,s[h]=this._send(t).done(i).fail(r).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var r,s;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},s=this._fingerprint(i),this.cancelled=!1,this.lastReq=s,(r=this._cache.get(s))?n(null,r):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){i=i||{},i.datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[h]=[],t[a]={},t}function s(t){for(var e={},i=[],n=0,r=t.length;r>n;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function o(t,e){var i=0,n=0,r=[];t=t.sort(),e=e.sort();for(var s=t.length,o=e.length;s>i&&o>n;)t[i]<e[n]?i++:t[i]>e[n]?n++:(r.push(t[i]),
i++,n++);return r}var a="c",h="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var s,o;i.datums[s=i.identify(t)]=t,o=n(i.datumTokenizer(t)),e.each(o,function(t){var e,n,o;for(e=i.trie,n=t.split("");o=n.shift();)e=e[a][o]||(e[a][o]=r()),e[h].push(s)})})},get:function(t){var i=this;return e.map(t,function(t){return i.datums[t]})},search:function(t){var i,r,l=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,s;if(r&&0===r.length)return!1;for(e=l.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];return e&&0===i.length?(s=e[h].slice(0),void(r=r?o(r,s):s)):(r=[],!1)}),r?e.map(s(r),function(t){return l.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),h=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new s(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function i(e){t(null,r.transform(e))}var n,r=this;t&&(n=this.prepare(this._settings()),this.transport(n).fail(e).done(i))},clear:function(){return this.storage.clear(),this}}),t}(),l=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new o({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function i(t,i){e(t?[]:r.transform(i))}var n,r=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,i)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function n(n){var r;return n?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(r,n),!n.url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function r(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(n,i),!i.url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=s(i),i.limiter=o(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function s(t){function e(t,e){return e.url=s(e.url,t),e}function i(t,e){return e.url=e.url.replace(o,encodeURIComponent(t)),e}function n(t,e){return e}var r,s,o;return r=t.prepare,s=t.replace,o=t.wildcard,r?r:r=s?e:t.wildcard?i:n}function o(t){function i(t){return function(i){return e.debounce(i,t)}}function n(t){return function(i){return e.throttle(i,t)}}var r,s,o;return r=t.limiter,s=t.rateLimitBy,o=t.rateLimitWait,r||(r=/^throttle$/i.test(s)?n(o):i(o)),r}function a(i){return function(n){function r(t){e.defer(function(){o.resolve(t)})}function s(t){e.defer(function(){o.reject(t)})}var o=t.Deferred();return i(n,r,s),o}}return function(i){var s,o;return s={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=e.mixin(s,i||{}),!i.datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),o=i.sorter,i.sorter=o?function(t){return t.sort(o)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=r(i.remote),i}}(),c=function(){"use strict";function i(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new l(t.remote):null,this.prefetch=t.prefetch?new h(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=r),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?i.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void i.resolve())}var i,n,r=this;return i=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(e):i.resolve(),i.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){function r(t){var i=[];e.each(t,function(t){!e.some(s,function(e){return o.identify(t)===o.identify(e)})&&i.push(t)}),n&&n(i)}var s,o=this;return s=this.sorter(this.index.search(t)),i(this.remote?s.slice():s),this.remote&&s.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return o.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return c})},{jquery:23}],97:[function(t,e,i){!function(n,r){"function"==typeof define&&define.amd?define("bloodhound",["jquery"],function(t){return n.Bloodhound=r(t)}):"object"==typeof i?e.exports=r(t("jquery")):n.Bloodhound=r(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){return(n=i.call(null,r,t,e))?void 0:!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){return(n=i.call(null,r,t,e))?!1:void 0}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var s,o,a=this,h=arguments;return s=function(){n=null,i||(r=t.apply(a,h))},o=i&&!n,clearTimeout(n),n=setTimeout(s,e),o&&(r=t.apply(a,h)),r}},throttle:function(t,e){var i,n,r,s,o,a;return o=0,a=function(){o=new Date,r=null,s=t.apply(i,n)},function(){var h=new Date,l=e-(h-o);return i=this,n=arguments,0>=l?(clearTimeout(r),r=null,o=h,s=t.apply(i,n)):r||(r=setTimeout(a,l)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i="0.11.1",n=function(){"use strict";function t(t){return t=e.toStr(t),t?t.split(/\s+/):[]}function i(t){return t=e.toStr(t),t?t.split(/\W+/):[]}function n(t){return function(i){return i=e.isArray(i)?i:[].slice.call(arguments,0),function(n){var r=[];return e.each(i,function(i){r=r.concat(t(e.toStr(n[i])))}),r}}}return{nonword:i,whitespace:t,obj:{nonword:n(i),whitespace:n(t)}}}(),r=function(){"use strict";function i(i){this.maxSize=e.isNumber(i)?i:100,this.reset(),this.maxSize<=0&&(this.set=this.get=t.noop)}function n(){this.head=this.tail=null}function r(t,e){this.key=t,this.val=e,this.prev=this.next=null}return e.mixin(i.prototype,{set:function(t,e){var i,n=this.list.tail;this.size>=this.maxSize&&(this.list.remove(n),delete this.hash[n.key],this.size--),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new r(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var e=this.hash[t];return e?(this.list.moveToFront(e),e.val):void 0},reset:function(){this.size=0,this.hash={},this.list=new n}}),e.mixin(n.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),i}(),s=function(){"use strict";function i(t,i){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+e.escapeRegExChars(this.prefix)),this.ls=i||a,!this.ls&&this._noop()}function n(){return(new Date).getTime()}function r(t){return JSON.stringify(e.isUndefined(t)?null:t)}function s(e){return t.parseJSON(e)}function o(t){var e,i,n=[],r=a.length;for(e=0;r>e;e++)(i=a.key(e)).match(t)&&n.push(i.replace(t,""));return n}var a;try{a=window.localStorage,a.setItem("~~~","!"),a.removeItem("~~~")}catch(h){a=null}return e.mixin(i.prototype,{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},_noop:function(){this.get=this.set=this.remove=this.clear=this.isExpired=e.noop},_safeSet:function(t,e){try{this.ls.setItem(t,e)}catch(i){"QuotaExceededError"===i.name&&(this.clear(),this._noop())}},get:function(t){return this.isExpired(t)&&this.remove(t),s(this.ls.getItem(this._prefix(t)))},set:function(t,i,s){return e.isNumber(s)?this._safeSet(this._ttlKey(t),r(n()+s)):this.ls.removeItem(this._ttlKey(t)),this._safeSet(this._prefix(t),r(i))},remove:function(t){return this.ls.removeItem(this._ttlKey(t)),this.ls.removeItem(this._prefix(t)),this},clear:function(){var t,e=o(this.keyMatcher);for(t=e.length;t--;)this.remove(e[t]);return this},isExpired:function(t){var i=s(this.ls.getItem(this._ttlKey(t)));return e.isNumber(i)&&n()>i?!0:!1}}),i}(),o=function(){"use strict";function i(t){t=t||{},this.cancelled=!1,this.lastReq=null,this._send=t.transport,this._get=t.limiter?t.limiter(this._get):this._get,this._cache=t.cache===!1?new r(0):a}var n=0,s={},o=6,a=new r(10);return i.setMaxPendingRequests=function(t){o=t},i.resetCache=function(){a.reset()},e.mixin(i.prototype,{_fingerprint:function(e){return e=e||{},e.url+e.type+t.param(e.data||{})},_get:function(t,e){function i(t){e(null,t),u._cache.set(h,t)}function r(){e(!0)}function a(){n--,delete s[h],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var h,l,u=this;h=this._fingerprint(t),this.cancelled||h!==this.lastReq||((l=s[h])?l.done(i).fail(r):o>n?(n++,s[h]=this._send(t).done(i).fail(r).always(a)):this.onDeckRequestArgs=[].slice.call(arguments,0))},get:function(i,n){var r,s;n=n||t.noop,i=e.isString(i)?{url:i}:i||{},s=this._fingerprint(i),this.cancelled=!1,this.lastReq=s,(r=this._cache.get(s))?n(null,r):this._get(i,n)},cancel:function(){this.cancelled=!0}}),i}(),a=window.SearchIndex=function(){"use strict";function i(i){i=i||{},i.datumTokenizer&&i.queryTokenizer||t.error("datumTokenizer and queryTokenizer are both required"),this.identify=i.identify||e.stringify,this.datumTokenizer=i.datumTokenizer,this.queryTokenizer=i.queryTokenizer,this.reset()}function n(t){return t=e.filter(t,function(t){return!!t}),t=e.map(t,function(t){return t.toLowerCase()})}function r(){var t={};return t[h]=[],t[a]={},t}function s(t){for(var e={},i=[],n=0,r=t.length;r>n;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}function o(t,e){var i=0,n=0,r=[];t=t.sort(),e=e.sort();for(var s=t.length,o=e.length;s>i&&o>n;)t[i]<e[n]?i++:t[i]>e[n]?n++:(r.push(t[i]),i++,n++);return r}var a="c",h="i";return e.mixin(i.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var i=this;t=e.isArray(t)?t:[t],e.each(t,function(t){var s,o;i.datums[s=i.identify(t)]=t,o=n(i.datumTokenizer(t)),e.each(o,function(t){var e,n,o;for(e=i.trie,n=t.split("");o=n.shift();)e=e[a][o]||(e[a][o]=r()),e[h].push(s)})})},get:function(t){var i=this;return e.map(t,function(t){return i.datums[t]})},search:function(t){var i,r,l=this;return i=n(this.queryTokenizer(t)),e.each(i,function(t){var e,i,n,s;if(r&&0===r.length)return!1;for(e=l.trie,i=t.split("");e&&(n=i.shift());)e=e[a][n];return e&&0===i.length?(s=e[h].slice(0),void(r=r?o(r,s):s)):(r=[],!1)}),r?e.map(s(r),function(t){return l.datums[t]}):[]},all:function(){var t=[];for(var e in this.datums)t.push(this.datums[e]);return t},reset:function(){this.datums={},this.trie=r()},serialize:function(){return{datums:this.datums,trie:this.trie}}}),i}(),h=function(){"use strict";function t(t){this.url=t.url,this.ttl=t.ttl,this.cache=t.cache,this.prepare=t.prepare,this.transform=t.transform,this.transport=t.transport,this.thumbprint=t.thumbprint,this.storage=new s(t.cacheKey)}var i;return i={data:"data",protocol:"protocol",thumbprint:"thumbprint"},e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},store:function(t){this.cache&&(this.storage.set(i.data,t,this.ttl),this.storage.set(i.protocol,location.protocol,this.ttl),this.storage.set(i.thumbprint,this.thumbprint,this.ttl))},fromCache:function(){var t,e={};return this.cache?(e.data=this.storage.get(i.data),e.protocol=this.storage.get(i.protocol),e.thumbprint=this.storage.get(i.thumbprint),t=e.thumbprint!==this.thumbprint||e.protocol!==location.protocol,e.data&&!t?e.data:null):null},fromNetwork:function(t){function e(){t(!0)}function i(e){t(null,r.transform(e))}var n,r=this;t&&(n=this.prepare(this._settings()),this.transport(n).fail(e).done(i))},clear:function(){return this.storage.clear(),this}}),t}(),l=function(){"use strict";function t(t){this.url=t.url,this.prepare=t.prepare,this.transform=t.transform,this.transport=new o({cache:t.cache,limiter:t.limiter,transport:t.transport})}return e.mixin(t.prototype,{_settings:function(){return{url:this.url,type:"GET",dataType:"json"}},get:function(t,e){function i(t,i){e(t?[]:r.transform(i))}var n,r=this;if(e)return t=t||"",n=this.prepare(t,this._settings()),this.transport.get(n,i)},cancelLastRequest:function(){this.transport.cancel()}}),t}(),u=function(){"use strict";function n(n){var r;return n?(r={url:null,ttl:864e5,cache:!0,cacheKey:null,thumbprint:"",prepare:e.identity,transform:e.identity,transport:null},n=e.isString(n)?{url:n}:n,n=e.mixin(r,n),!n.url&&t.error("prefetch requires url to be set"),n.transform=n.filter||n.transform,n.cacheKey=n.cacheKey||n.url,n.thumbprint=i+n.thumbprint,n.transport=n.transport?a(n.transport):t.ajax,n):null}function r(i){var n;if(i)return n={url:null,cache:!0,prepare:null,replace:null,wildcard:null,limiter:null,rateLimitBy:"debounce",rateLimitWait:300,transform:e.identity,transport:null},i=e.isString(i)?{url:i}:i,i=e.mixin(n,i),!i.url&&t.error("remote requires url to be set"),i.transform=i.filter||i.transform,i.prepare=s(i),i.limiter=o(i),i.transport=i.transport?a(i.transport):t.ajax,delete i.replace,delete i.wildcard,delete i.rateLimitBy,delete i.rateLimitWait,i}function s(t){function e(t,e){return e.url=s(e.url,t),e}function i(t,e){return e.url=e.url.replace(o,encodeURIComponent(t)),e}function n(t,e){return e}var r,s,o;return r=t.prepare,s=t.replace,o=t.wildcard,r?r:r=s?e:t.wildcard?i:n}function o(t){function i(t){return function(i){return e.debounce(i,t)}}function n(t){return function(i){return e.throttle(i,t)}}var r,s,o;return r=t.limiter,s=t.rateLimitBy,o=t.rateLimitWait,r||(r=/^throttle$/i.test(s)?n(o):i(o)),r}function a(i){return function(n){function r(t){e.defer(function(){o.resolve(t)})}function s(t){e.defer(function(){o.reject(t)})}var o=t.Deferred();return i(n,r,s),o}}return function(i){var s,o;return s={initialize:!0,identify:e.stringify,datumTokenizer:null,queryTokenizer:null,sufficient:5,sorter:null,local:[],prefetch:null,remote:null},i=e.mixin(s,i||{}),!i.datumTokenizer&&t.error("datumTokenizer is required"),!i.queryTokenizer&&t.error("queryTokenizer is required"),o=i.sorter,i.sorter=o?function(t){return t.sort(o)}:e.identity,i.local=e.isFunction(i.local)?i.local():i.local,i.prefetch=n(i.prefetch),i.remote=r(i.remote),i}}(),c=function(){"use strict";function i(t){t=u(t),this.sorter=t.sorter,this.identify=t.identify,this.sufficient=t.sufficient,this.local=t.local,this.remote=t.remote?new l(t.remote):null,this.prefetch=t.prefetch?new h(t.prefetch):null,this.index=new a({identify:this.identify,datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),t.initialize!==!1&&this.initialize()}var r;return r=window&&window.Bloodhound,i.noConflict=function(){return window&&(window.Bloodhound=r),i},i.tokenizers=n,e.mixin(i.prototype,{__ttAdapter:function(){function t(t,e,n){return i.search(t,e,n)}function e(t,e){return i.search(t,e)}var i=this;return this.remote?t:e},_loadPrefetch:function(){function e(t,e){return t?i.reject():(r.add(e),r.prefetch.store(r.index.serialize()),void i.resolve())}var i,n,r=this;return i=t.Deferred(),this.prefetch?(n=this.prefetch.fromCache())?(this.index.bootstrap(n),i.resolve()):this.prefetch.fromNetwork(e):i.resolve(),i.promise()},_initialize:function(){function t(){e.add(e.local)}var e=this;return this.clear(),(this.initPromise=this._loadPrefetch()).done(t),this.initPromise},initialize:function(t){return!this.initPromise||t?this._initialize():this.initPromise},add:function(t){return this.index.add(t),this},get:function(t){return t=e.isArray(t)?t:[].slice.call(arguments),this.index.get(t)},search:function(t,i,n){function r(t){var i=[];e.each(t,function(t){!e.some(s,function(e){return o.identify(t)===o.identify(e)})&&i.push(t)}),n&&n(i)}var s,o=this;return s=this.sorter(this.index.search(t)),i(this.remote?s.slice():s),this.remote&&s.length<this.sufficient?this.remote.get(t,r):this.remote&&this.remote.cancelLastRequest(),this},all:function(){return this.index.all()},clear:function(){return this.index.reset(),this},clearPrefetchCache:function(){return this.prefetch&&this.prefetch.clear(),this},clearRemoteCache:function(){return o.resetCache(),this},ttAdapter:function(){return this.__ttAdapter()}}),i}();return c}),function(n,r){"function"==typeof define&&define.amd?define("typeahead.js",["jquery"],function(t){return r(t)}):"object"==typeof i?e.exports=r(t("jquery")):r(jQuery)}(this,function(t){var e=function(){"use strict";return{isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:t.isArray,isFunction:t.isFunction,isObject:t.isPlainObject,isUndefined:function(t){return"undefined"==typeof t},isElement:function(t){return!(!t||1!==t.nodeType)},isJQuery:function(e){return e instanceof t},toStr:function(t){return e.isUndefined(t)||null===t?"":t+""},bind:t.proxy,each:function(e,i){function n(t,e){return i(e,t)}t.each(e,n)},map:t.map,filter:t.grep,every:function(e,i){var n=!0;return e?(t.each(e,function(t,r){return(n=i.call(null,r,t,e))?void 0:!1}),!!n):n},some:function(e,i){var n=!1;return e?(t.each(e,function(t,r){return(n=i.call(null,r,t,e))?!1:void 0}),!!n):n},mixin:t.extend,identity:function(t){return t},clone:function(e){return t.extend(!0,{},e)},getIdGenerator:function(){var t=0;return function(){return t++}},templatify:function(e){function i(){return String(e)}return t.isFunction(e)?e:i},defer:function(t){setTimeout(t,0)},debounce:function(t,e,i){var n,r;return function(){var s,o,a=this,h=arguments;return s=function(){n=null,i||(r=t.apply(a,h))},o=i&&!n,clearTimeout(n),n=setTimeout(s,e),o&&(r=t.apply(a,h)),r}},throttle:function(t,e){var i,n,r,s,o,a;return o=0,a=function(){o=new Date,r=null,s=t.apply(i,n)},function(){var h=new Date,l=e-(h-o);return i=this,n=arguments,0>=l?(clearTimeout(r),r=null,o=h,s=t.apply(i,n)):r||(r=setTimeout(a,l)),s}},stringify:function(t){return e.isString(t)?t:JSON.stringify(t)},noop:function(){}}}(),i=function(){"use strict";function t(t){var o,a;return a=e.mixin({},s,t),o={css:r(),classes:a,html:i(a),selectors:n(a)},{css:o.css,html:o.html,classes:o.classes,selectors:o.selectors,mixin:function(t){e.mixin(t,o)}}}function i(t){return{wrapper:'<span class="'+t.wrapper+'"></span>',menu:'<div class="'+t.menu+'"></div>'}}function n(t){var i={};return e.each(t,function(t,e){i[e]="."+t}),i}function r(){var t={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none",opacity:"1"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},menu:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};return e.isMsie()&&e.mixin(t.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t}var s={wrapper:"twitter-typeahead",input:"tt-input",hint:"tt-hint",menu:"tt-menu",dataset:"tt-dataset",suggestion:"tt-suggestion",selectable:"tt-selectable",empty:"tt-empty",open:"tt-open",cursor:"tt-cursor",highlight:"tt-highlight"};return t}(),n=function(){"use strict";function i(e){e&&e.el||t.error("EventBus initialized without el"),this.$el=t(e.el)}var n,r;return n="typeahead:",r={render:"rendered",cursorchange:"cursorchanged",select:"selected",autocomplete:"autocompleted"},e.mixin(i.prototype,{_trigger:function(e,i){var r;return r=t.Event(n+e),(i=i||[]).unshift(r),this.$el.trigger.apply(this.$el,i),r},before:function(t){var e,i;return e=[].slice.call(arguments,1),i=this._trigger("before"+t,e),i.isDefaultPrevented()},trigger:function(t){var e;this._trigger(t,[].slice.call(arguments,1)),(e=r[t])&&this._trigger(e,[].slice.call(arguments,1))}}),i}(),r=function(){"use strict";function t(t,e,i,n){var r;if(!i)return this;for(e=e.split(h),i=n?a(i,n):i,this._callbacks=this._callbacks||{};r=e.shift();)this._callbacks[r]=this._callbacks[r]||{sync:[],async:[]},this._callbacks[r][t].push(i);return this}function e(e,i,n){return t.call(this,"async",e,i,n)}function i(e,i,n){return t.call(this,"sync",e,i,n)}function n(t){var e;if(!this._callbacks)return this;for(t=t.split(h);e=t.shift();)delete this._callbacks[e];return this}function r(t){var e,i,n,r,o;if(!this._callbacks)return this;for(t=t.split(h),n=[].slice.call(arguments,1);(e=t.shift())&&(i=this._callbacks[e]);)r=s(i.sync,this,[e].concat(n)),o=s(i.async,this,[e].concat(n)),r()&&l(o);return this}function s(t,e,i){function n(){for(var n,r=0,s=t.length;!n&&s>r;r+=1)n=t[r].apply(e,i)===!1;return!n}return n}function o(){var t;return t=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)}}function a(t,e){return t.bind?t.bind(e):function(){t.apply(e,[].slice.call(arguments,0))}}var h=/\s+/,l=o();return{onSync:i,onAsync:e,off:n,trigger:r}}(),s=function(t){"use strict";function i(t,i,n){for(var r,s=[],o=0,a=t.length;a>o;o++)s.push(e.escapeRegExChars(t[o]));return r=n?"\\b("+s.join("|")+")\\b":"("+s.join("|")+")",i?new RegExp(r):new RegExp(r,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(r){function s(e){var i,n,s;return(i=a.exec(e.data))&&(s=t.createElement(r.tagName),r.className&&(s.className=r.className),n=e.splitText(i.index),n.splitText(i[0].length),s.appendChild(n.cloneNode(!0)),e.parentNode.replaceChild(s,n)),!!i}function o(t,e){for(var i,n=3,r=0;r<t.childNodes.length;r++)i=t.childNodes[r],i.nodeType===n?r+=e(i)?1:0:o(i,e)}var a;r=e.mixin({},n,r),r.node&&r.pattern&&(r.pattern=e.isArray(r.pattern)?r.pattern:[r.pattern],a=i(r.pattern,r.caseSensitive,r.wordsOnly),o(r.node,s))}}(window.document),o=function(){"use strict";function i(i,r){i=i||{},i.input||t.error("input is missing"),r.mixin(this),this.$hint=t(i.hint),this.$input=t(i.input),this.query=this.$input.val(),this.queryWhenFocused=this.hasFocus()?this.query:null,this.$overflowHelper=n(this.$input),this._checkLanguageDirection(),0===this.$hint.length&&(this.setHint=this.getHint=this.clearHint=this.clearHintIfInvalid=e.noop)}function n(e){return t('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"pre",fontFamily:e.css("font-family"),fontSize:e.css("font-size"),fontStyle:e.css("font-style"),fontVariant:e.css("font-variant"),fontWeight:e.css("font-weight"),wordSpacing:e.css("word-spacing"),letterSpacing:e.css("letter-spacing"),textIndent:e.css("text-indent"),textRendering:e.css("text-rendering"),textTransform:e.css("text-transform")}).insertAfter(e)}function s(t,e){return i.normalizeQuery(t)===i.normalizeQuery(e)}function o(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}var a;return a={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},i.normalizeQuery=function(t){return e.toStr(t).replace(/^\s*/g,"").replace(/\s{2,}/g," ")},e.mixin(i.prototype,r,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.queryWhenFocused=this.query,this.trigger("focused")},_onKeydown:function(t){var e=a[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._setQuery(this.getInputValue()),this.clearHintIfInvalid(),this._checkLanguageDirection()},_managePreventDefault:function(t,e){var i;switch(t){case"up":case"down":i=!o(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){var i;switch(t){case"tab":i=!o(e);break;default:i=!0}return i},_checkLanguageDirection:function(){var t=(this.$input.css("direction")||"ltr").toLowerCase();this.dir!==t&&(this.dir=t,this.$hint.attr("dir",t),this.trigger("langDirChanged",t))},_setQuery:function(t,e){var i,n;i=s(t,this.query),n=i?this.query.length!==t.length:!1,this.query=t,e||i?!e&&n&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query)},bind:function(){var t,i,n,r,s=this;return t=e.bind(this._onBlur,this),i=e.bind(this._onFocus,this),n=e.bind(this._onKeydown,this),r=e.bind(this._onInput,this),this.$input.on("blur.tt",t).on("focus.tt",i).on("keydown.tt",n),!e.isMsie()||e.isMsie()>9?this.$input.on("input.tt",r):this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){a[t.which||t.keyCode]||e.defer(e.bind(s._onInput,s,t))}),this},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getLangDir:function(){return this.dir},getQuery:function(){return this.query||""},setQuery:function(t,e){this.setInputValue(t),this._setQuery(t,e)},hasQueryChangedSinceLastFocus:function(){return this.query!==this.queryWhenFocused},getInputValue:function(){return this.$input.val()},setInputValue:function(t){this.$input.val(t),this.clearHintIfInvalid(),this._checkLanguageDirection()},resetInputValue:function(){this.setInputValue(this.query)},getHint:function(){return this.$hint.val()},setHint:function(t){this.$hint.val(t)},clearHint:function(){this.setHint("")},clearHintIfInvalid:function(){var t,e,i,n;t=this.getInputValue(),e=this.getHint(),i=t!==e&&0===e.indexOf(t),n=""!==t&&i&&!this.hasOverflow(),!n&&this.clearHint()},hasFocus:function(){return this.$input.is(":focus")},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t,i,n;return t=this.$input.val().length,i=this.$input[0].selectionStart,e.isNumber(i)?i===t:document.selection?(n=document.selection.createRange(),n.moveStart("character",-t),t===n.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$overflowHelper.remove(),this.$hint=this.$input=this.$overflowHelper=t("<div>")}}),i}(),a=function(){"use strict";function i(i,r){i=i||{},i.templates=i.templates||{},i.templates.notFound=i.templates.notFound||i.templates.empty,i.source||t.error("missing source"),i.node||t.error("missing node"),i.name&&!a(i.name)&&t.error("invalid dataset name: "+i.name),r.mixin(this),this.highlight=!!i.highlight,this.name=i.name||l(),this.limit=i.limit||5,this.displayFn=n(i.display||i.displayKey),this.templates=o(i.templates,this.displayFn),this.source=i.source.__ttAdapter?i.source.__ttAdapter():i.source,this.async=e.isUndefined(i.async)?this.source.length>2:!!i.async,this._resetLastSuggestion(),this.$el=t(i.node).addClass(this.classes.dataset).addClass(this.classes.dataset+"-"+this.name)}function n(t){function i(e){return e[t]}return t=t||e.stringify,e.isFunction(t)?t:i}function o(i,n){function r(e){return t("<div>").text(n(e))}return{notFound:i.notFound&&e.templatify(i.notFound),pending:i.pending&&e.templatify(i.pending),header:i.header&&e.templatify(i.header),footer:i.footer&&e.templatify(i.footer),suggestion:i.suggestion||r}}function a(t){return/^[_a-zA-Z0-9-]+$/.test(t)}var h,l;return h={val:"tt-selectable-display",obj:"tt-selectable-object"},l=e.getIdGenerator(),i.extractData=function(e){var i=t(e);return i.data(h.obj)?{val:i.data(h.val)||"",obj:i.data(h.obj)||null}:null},e.mixin(i.prototype,r,{_overwrite:function(t,e){e=e||[],e.length?this._renderSuggestions(t,e):this.async&&this.templates.pending?this._renderPending(t):!this.async&&this.templates.notFound?this._renderNotFound(t):this._empty(),this.trigger("rendered",this.name,e,!1)},_append:function(t,e){e=e||[],e.length&&this.$lastSuggestion.length?this._appendSuggestions(t,e):e.length?this._renderSuggestions(t,e):!this.$lastSuggestion.length&&this.templates.notFound&&this._renderNotFound(t),this.trigger("rendered",this.name,e,!0)},_renderSuggestions:function(t,e){var i;i=this._getSuggestionsFragment(t,e),this.$lastSuggestion=i.children().last(),this.$el.html(i).prepend(this._getHeader(t,e)).append(this._getFooter(t,e))},_appendSuggestions:function(t,e){var i,n;i=this._getSuggestionsFragment(t,e),n=i.children().last(),this.$lastSuggestion.after(i),this.$lastSuggestion=n},_renderPending:function(t){var e=this.templates.pending;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_renderNotFound:function(t){var e=this.templates.notFound;this._resetLastSuggestion(),e&&this.$el.html(e({query:t,dataset:this.name}))},_empty:function(){this.$el.empty(),this._resetLastSuggestion()},_getSuggestionsFragment:function(i,n){var r,o=this;return r=document.createDocumentFragment(),e.each(n,function(e){var n,s;s=o._injectQuery(i,e),n=t(o.templates.suggestion(s)).data(h.obj,e).data(h.val,o.displayFn(e)).addClass(o.classes.suggestion+" "+o.classes.selectable),r.appendChild(n[0])}),this.highlight&&s({className:this.classes.highlight,node:r,pattern:i}),t(r)},_getFooter:function(t,e){return this.templates.footer?this.templates.footer({query:t,suggestions:e,dataset:this.name}):null},_getHeader:function(t,e){
return this.templates.header?this.templates.header({query:t,suggestions:e,dataset:this.name}):null},_resetLastSuggestion:function(){this.$lastSuggestion=t()},_injectQuery:function(t,i){return e.isObject(i)?e.mixin({_query:t},i):i},update:function(e){function i(t){o||(o=!0,t=(t||[]).slice(0,r.limit),a=t.length,r._overwrite(e,t),a<r.limit&&r.async&&r.trigger("asyncRequested",e))}function n(i){i=i||[],!s&&a<r.limit&&(r.cancel=t.noop,a+=i.length,r._append(e,i.slice(0,r.limit-a)),r.async&&r.trigger("asyncReceived",e))}var r=this,s=!1,o=!1,a=0;this.cancel(),this.cancel=function(){s=!0,r.cancel=t.noop,r.async&&r.trigger("asyncCanceled",e)},this.source(e,i,n),!o&&i([])},cancel:t.noop,clear:function(){this._empty(),this.cancel(),this.trigger("cleared")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=t("<div>")}}),i}(),h=function(){"use strict";function i(i,n){function r(e){var i=s.$node.find(e.node).first();return e.node=i.length?i:t("<div>").appendTo(s.$node),new a(e,n)}var s=this;i=i||{},i.node||t.error("node is required"),n.mixin(this),this.$node=t(i.node),this.query=null,this.datasets=e.map(i.datasets,r),this.autoSelect=!!i.autoSelect}return e.mixin(i.prototype,r,{_onSelectableClick:function(e){this.trigger("selectableClicked",t(e.currentTarget))},_onRendered:function(t,e,i,n){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetRendered",e,i,n)},_onCleared:function(){this.$node.toggleClass(this.classes.empty,this._allDatasetsEmpty()),this.trigger("datasetCleared")},_propagate:function(){this.trigger.apply(this,arguments)},_allDatasetsEmpty:function(){function t(t){return t.isEmpty()}return e.every(this.datasets,t)},_getSelectables:function(){return this.$node.find(this.selectors.selectable)},_removeCursor:function(){var t=this.getActiveSelectable();t&&t.removeClass(this.classes.cursor)},_ensureVisible:function(t){var e,i,n,r;e=t.position().top,i=e+t.outerHeight(!0),n=this.$node.scrollTop(),r=this.$node.height()+parseInt(this.$node.css("paddingTop"),10)+parseInt(this.$node.css("paddingBottom"),10),0>e?this.$node.scrollTop(n+e):i>r&&this.$node.scrollTop(n+(i-r))},bind:function(){var t,i=this;return t=e.bind(this._onSelectableClick,this),this.$node.on("click.tt",this.selectors.selectable,t),e.each(this.datasets,function(t){t.onSync("asyncRequested",i._propagate,i).onSync("asyncCanceled",i._propagate,i).onSync("asyncReceived",i._propagate,i).onSync("rendered",i._onRendered,i).onSync("cleared",i._onCleared,i)}),this},isOpen:function(){return this.$node.hasClass(this.classes.open)},open:function(){var e=t(this.$node[0].children[0]).find(this.selectors.suggestion+this.selectors.selectable);this.autoSelect&&e.length>0&&e.first().addClass(this.classes.cursor),this.$node.addClass(this.classes.open)},close:function(){this.$node.removeClass(this.classes.open),this._removeCursor()},setLanguageDirection:function(t){this.$node.attr("dir",t)},selectableRelativeToCursor:function(t){var e,i,n,r;return i=this.getActiveSelectable(),e=this._getSelectables(),n=i?e.index(i):-1,r=n+t,r=(r+1)%(e.length+1)-1,r=-1>r?e.length-1:r,-1===r?null:e.eq(r)},setCursor:function(t){this._removeCursor(),(t=t&&t.first())&&(t.addClass(this.classes.cursor),this._ensureVisible(t))},getSelectableData:function(t){return t&&t.length?a.extractData(t):null},getActiveSelectable:function(){var t=this._getSelectables().filter(this.selectors.cursor).first();return t.length?t:null},getTopSelectable:function(){var t=this._getSelectables().first();return t.length?t:null},update:function(t){function i(e){e.update(t)}var n=t!==this.query;return n&&(this.query=t,e.each(this.datasets,i)),n},empty:function(){function t(t){t.clear()}e.each(this.datasets,t),this.query=null,this.$node.addClass(this.classes.empty)},destroy:function(){function i(t){t.destroy()}this.$node.off(".tt"),this.$node=t("<div>"),e.each(this.datasets,i)}}),i}(),l=function(){"use strict";function t(){h.apply(this,[].slice.call(arguments,0))}var i=h.prototype;return e.mixin(t.prototype,h.prototype,{open:function(){return!this._allDatasetsEmpty()&&this._show(),i.open.apply(this,[].slice.call(arguments,0))},close:function(){return this._hide(),i.close.apply(this,[].slice.call(arguments,0))},_onRendered:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onRendered.apply(this,[].slice.call(arguments,0))},_onCleared:function(){return this._allDatasetsEmpty()?this._hide():this.isOpen()&&this._show(),i._onCleared.apply(this,[].slice.call(arguments,0))},setLanguageDirection:function(t){return this.$node.css("ltr"===t?this.css.ltr:this.css.rtl),i.setLanguageDirection.apply(this,[].slice.call(arguments,0))},_hide:function(){this.$node.hide()},_show:function(){this.$node.css("display","block")}}),t}(),u=function(){"use strict";function i(i,r){var s,o,a,h,l,u,c,f,p,d,m;i=i||{},i.input||t.error("missing input"),i.menu||t.error("missing menu"),i.eventBus||t.error("missing event bus"),r.mixin(this),this.eventBus=i.eventBus,this.minLength=e.isNumber(i.minLength)?i.minLength:1,this.input=i.input,this.menu=i.menu,this.enabled=!0,this.active=!1,this.input.hasFocus()&&this.activate(),this.dir=this.input.getLangDir(),this._hacks(),this.menu.bind().onSync("selectableClicked",this._onSelectableClicked,this).onSync("asyncRequested",this._onAsyncRequested,this).onSync("asyncCanceled",this._onAsyncCanceled,this).onSync("asyncReceived",this._onAsyncReceived,this).onSync("datasetRendered",this._onDatasetRendered,this).onSync("datasetCleared",this._onDatasetCleared,this),s=n(this,"activate","open","_onFocused"),o=n(this,"deactivate","_onBlurred"),a=n(this,"isActive","isOpen","_onEnterKeyed"),h=n(this,"isActive","isOpen","_onTabKeyed"),l=n(this,"isActive","_onEscKeyed"),u=n(this,"isActive","open","_onUpKeyed"),c=n(this,"isActive","open","_onDownKeyed"),f=n(this,"isActive","isOpen","_onLeftKeyed"),p=n(this,"isActive","isOpen","_onRightKeyed"),d=n(this,"_openIfActive","_onQueryChanged"),m=n(this,"_openIfActive","_onWhitespaceChanged"),this.input.bind().onSync("focused",s,this).onSync("blurred",o,this).onSync("enterKeyed",a,this).onSync("tabKeyed",h,this).onSync("escKeyed",l,this).onSync("upKeyed",u,this).onSync("downKeyed",c,this).onSync("leftKeyed",f,this).onSync("rightKeyed",p,this).onSync("queryChanged",d,this).onSync("whitespaceChanged",m,this).onSync("langDirChanged",this._onLangDirChanged,this)}function n(t){var i=[].slice.call(arguments,1);return function(){var n=[].slice.call(arguments);e.each(i,function(e){return t[e].apply(t,n)})}}return e.mixin(i.prototype,{_hacks:function(){var i,n;i=this.input.$input||t("<div>"),n=this.menu.$node||t("<div>"),i.on("blur.tt",function(t){var r,s,o;r=document.activeElement,s=n.is(r),o=n.has(r).length>0,e.isMsie()&&(s||o)&&(t.preventDefault(),t.stopImmediatePropagation(),e.defer(function(){i.focus()}))}),n.on("mousedown.tt",function(t){t.preventDefault()})},_onSelectableClicked:function(t,e){this.select(e)},_onDatasetCleared:function(){this._updateHint()},_onDatasetRendered:function(t,e,i,n){this._updateHint(),this.eventBus.trigger("render",i,n,e)},_onAsyncRequested:function(t,e,i){this.eventBus.trigger("asyncrequest",i,e)},_onAsyncCanceled:function(t,e,i){this.eventBus.trigger("asynccancel",i,e)},_onAsyncReceived:function(t,e,i){this.eventBus.trigger("asyncreceive",i,e)},_onFocused:function(){this._minLengthMet()&&this.menu.update(this.input.getQuery())},_onBlurred:function(){this.input.hasQueryChangedSinceLastFocus()&&this.eventBus.trigger("change",this.input.getQuery())},_onEnterKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())&&this.select(i)&&e.preventDefault()},_onTabKeyed:function(t,e){var i;(i=this.menu.getActiveSelectable())?this.select(i)&&e.preventDefault():(i=this.menu.getTopSelectable())&&this.autocomplete(i)&&e.preventDefault()},_onEscKeyed:function(){this.close()},_onUpKeyed:function(){this.moveCursor(-1)},_onDownKeyed:function(){this.moveCursor(1)},_onLeftKeyed:function(){"rtl"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onRightKeyed:function(){"ltr"===this.dir&&this.input.isCursorAtEnd()&&this.autocomplete(this.menu.getTopSelectable())},_onQueryChanged:function(t,e){this._minLengthMet(e)?this.menu.update(e):this.menu.empty()},_onWhitespaceChanged:function(){this._updateHint()},_onLangDirChanged:function(t,e){this.dir!==e&&(this.dir=e,this.menu.setLanguageDirection(e))},_openIfActive:function(){this.isActive()&&this.open()},_minLengthMet:function(t){return t=e.isString(t)?t:this.input.getQuery()||"",t.length>=this.minLength},_updateHint:function(){var t,i,n,r,s,a,h;t=this.menu.getTopSelectable(),i=this.menu.getSelectableData(t),n=this.input.getInputValue(),!i||e.isBlankString(n)||this.input.hasOverflow()?this.input.clearHint():(r=o.normalizeQuery(n),s=e.escapeRegExChars(r),a=new RegExp("^(?:"+s+")(.+$)","i"),h=a.exec(i.val),h&&this.input.setHint(n+h[1]),this.menu.autoSelect&&!t.hasClass(this.classes.cursor)&&t.addClass(this.classes.cursor))},isEnabled:function(){return this.enabled},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},isActive:function(){return this.active},activate:function(){return this.isActive()?!0:!this.isEnabled()||this.eventBus.before("active")?!1:(this.active=!0,this.eventBus.trigger("active"),!0)},deactivate:function(){return this.isActive()?this.eventBus.before("idle")?!1:(this.active=!1,this.close(),this.eventBus.trigger("idle"),!0):!0},isOpen:function(){return this.menu.isOpen()},open:function(){return this.isOpen()||this.eventBus.before("open")||(this.menu.open(),this._updateHint(),this.eventBus.trigger("open")),this.isOpen()},close:function(){return this.isOpen()&&!this.eventBus.before("close")&&(this.menu.close(),this.input.clearHint(),this.input.resetInputValue(),this.eventBus.trigger("close")),!this.isOpen()},setVal:function(t){this.input.setQuery(e.toStr(t))},getVal:function(){return this.input.getQuery()},select:function(t){var e=this.menu.getSelectableData(t);return e&&!this.eventBus.before("select",e.obj)?(this.input.setQuery(e.val,!0),this.eventBus.trigger("select",e.obj),this.close(),!0):!1},autocomplete:function(t){var e,i,n;return e=this.input.getQuery(),i=this.menu.getSelectableData(t),n=i&&e!==i.val,n&&!this.eventBus.before("autocomplete",i.obj)?(this.input.setQuery(i.val),this.eventBus.trigger("autocomplete",i.obj),!0):!1},moveCursor:function(t){var e,i,n,r,s;return e=this.input.getQuery(),i=this.menu.selectableRelativeToCursor(t),n=this.menu.getSelectableData(i),r=n?n.obj:null,s=this._minLengthMet()&&this.menu.update(e),s||this.eventBus.before("cursorchange",r)?!1:(this.menu.setCursor(i),n?this.input.setInputValue(n.val):(this.input.resetInputValue(),this._updateHint()),this.eventBus.trigger("cursorchange",r),!0)},destroy:function(){this.input.destroy(),this.menu.destroy()}}),i}();!function(){"use strict";function r(e,i){e.each(function(){var e,n=t(this);(e=n.data(m.typeahead))&&i(e,n)})}function s(t,e){return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(c(t)).prop("readonly",!0).removeAttr("id name placeholder required").attr({autocomplete:"off",spellcheck:"false",tabindex:-1})}function a(t,e){t.data(m.attrs,{dir:t.attr("dir"),autocomplete:t.attr("autocomplete"),spellcheck:t.attr("spellcheck"),style:t.attr("style")}),t.addClass(e.classes.input).attr({autocomplete:"off",spellcheck:!1});try{!t.attr("dir")&&t.attr("dir","auto")}catch(i){}return t}function c(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}function f(t){var i,n;i=t.data(m.www),n=t.parent().filter(i.selectors.wrapper),e.each(t.data(m.attrs),function(i,n){e.isUndefined(i)?t.removeAttr(n):t.attr(n,i)}),t.removeData(m.typeahead).removeData(m.www).removeData(m.attr).removeClass(i.classes.input),n.length&&(t.detach().insertAfter(n),n.remove())}function p(i){var n,r;return n=e.isJQuery(i)||e.isElement(i),r=n?t(i).first():[],r.length?r:null}var d,m,g;d=t.fn.typeahead,m={www:"tt-www",attrs:"tt-attrs",typeahead:"tt-typeahead"},g={initialize:function(r,c){function f(){var i,f,g,v,y,b,w,x,M,S,k;e.each(c,function(t){t.highlight=!!r.highlight}),i=t(this),f=t(d.html.wrapper),g=p(r.hint),v=p(r.menu),y=r.hint!==!1&&!g,b=r.menu!==!1&&!v,y&&(g=s(i,d)),b&&(v=t(d.html.menu).css(d.css.menu)),g&&g.val(""),i=a(i,d),(y||b)&&(f.css(d.css.wrapper),i.css(y?d.css.input:d.css.inputWithNoHint),i.wrap(f).parent().prepend(y?g:null).append(b?v:null)),k=b?l:h,w=new n({el:i}),x=new o({hint:g,input:i},d),M=new k({node:v,autoSelect:!!r.autoSelect,datasets:c},d),S=new u({input:x,menu:M,eventBus:w,minLength:r.minLength},d),i.data(m.www,d),i.data(m.typeahead,S)}var d;return c=e.isArray(c)?c:[].slice.call(arguments,1),r=r||{},d=i(r.classNames),this.each(f)},isEnabled:function(){var t;return r(this.first(),function(e){t=e.isEnabled()}),t},enable:function(){return r(this,function(t){t.enable()}),this},disable:function(){return r(this,function(t){t.disable()}),this},isActive:function(){var t;return r(this.first(),function(e){t=e.isActive()}),t},activate:function(){return r(this,function(t){t.activate()}),this},deactivate:function(){return r(this,function(t){t.deactivate()}),this},isOpen:function(){var t;return r(this.first(),function(e){t=e.isOpen()}),t},open:function(){return r(this,function(t){t.open()}),this},close:function(){return r(this,function(t){t.close()}),this},select:function(e){var i=!1,n=t(e);return r(this.first(),function(t){i=t.select(n)}),i},autocomplete:function(e){var i=!1,n=t(e);return r(this.first(),function(t){i=t.autocomplete(n)}),i},moveCursor:function(t){var e=!1;return r(this.first(),function(i){e=i.moveCursor(t)}),e},val:function(t){var e;return arguments.length?(r(this,function(e){e.setVal(t)}),this):(r(this.first(),function(t){e=t.getVal()}),e)},destroy:function(){return r(this,function(t,e){f(e),t.destroy()}),this}},t.fn.typeahead=function(t){return g[t]?g[t].apply(this,[].slice.call(arguments,1)):g.initialize.apply(this,arguments)},t.fn.typeahead.noConflict=function(){return t.fn.typeahead=d,this}}()})},{jquery:23}],98:[function(t,e,i){(function(i){"use strict";function n(t){s.init(t.el,t.options);var e=t.options.controls||[];a(e)}window.proj4=t("proj4");var r=t("svg4everybody");r(),i.jQuery=t("jquery");var s=(t("jquery"),t("./src/viewer")),o=t("./src/maploader"),a=t("./src/controlinitialiser"),h={};h.map={},h.controls={},h.controls.geoposition=t("./src/geoposition"),h.controls.mapmenu=t("./src/mapmenu"),h.controls.print=t("./src/print"),h.controls.sharemap=t("./src/sharemap"),h.controls.legend=t("./src/legend"),h.controls.search=t("./src/search"),h.controls.editor=t("./src/editor"),h.map.init=function(t,e){var i=o(t,e);return"function"==typeof i.then?i.then(function(t){n(t)}):n(i),s},e.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./src/controlinitialiser":99,"./src/editor":100,"./src/geoposition":105,"./src/legend":109,"./src/maploader":110,"./src/mapmenu":111,"./src/print":119,"./src/search":120,"./src/sharemap":121,"./src/viewer":136,jquery:23,proj4:61,svg4everybody:94}],99:[function(t,e,i){"use strict";var n=function(t){var e,i;t.forEach(function(t){e=t.name,i=t.options||void 0,origo.controls.hasOwnProperty(e)&&(i?origo.controls[e].init(i):origo.controls[e].init())})};e.exports=n},{}],100:[function(t,e,i){"use strict";var n=t("jquery"),r=t("./utils"),s=t("./editortoolbar");e.exports=function(){function t(){i.on("click",function(t){n(".o-map").trigger({type:"enableInteraction",interaction:"editor"}),this.blur(),t.preventDefault()})}function e(){var t=r.createListButton({id:"o-editor",iconCls:"o-icon-fa-pencil",src:"css/svg/fa-icons.svg#fa-pencil",text:"Redigera"});n("#menutools").append(t)}var i;return{init:function(r){e(),i=n("#o-editor-button"),t(),s.init(r)}}}()},{"./editortoolbar":101,"./utils":131,jquery:23}],101:[function(t,e,i){"use strict";var n=(t("openlayers"),t("jquery")),r=t("./viewer"),s=t("./transactionhandler"),o=t("./templates/editortoolbar.template.handlebars");e.exports=function(){function t(t){n("#map").append(o(t))}function e(t){"editor"===t.interaction?(i(!0),s.onSetEditLayer(f[u])):(i(!1),s.removeInteractions())}function i(t){t===!0?n("#o-editor-toolbar").removeClass("hidden"):n("#o-editor-toolbar").addClass("hidden")}function a(){n(".o-map").trigger({type:"enableInteraction",interaction:"editor"})}function h(t){var e=t.map(function(t){var e={};return e.name=r.getLayer(t).get("title"),e.value=t,e});return e}function l(t,e,i){var n={},s=t.reduce(function(t,n){var s=r.getLayer(n),o=r.getMapSource()[s.get("sourceName")];return t[n]={editableLayer:s,source:s.getSource(),geometryType:s.get("geometryType")||void 0,geometryName:s.get("geometryName")||void 0,srsName:i,featureNS:o.workspace,featureType:s.get("featureType"),attributes:s.get("attributes"),title:s.get("title")||"Information",url:o.url,map:e},t},n);return s}var u,c={},f={};return{init:function(s){n.extend(c,s),u=c.defaultLayer||c.editableLayers[0];var o=r.getMap(),p=r.getProjectionCode();t(h(c.editableLayers)),n(".o-map").on("enableInteraction",e),f=l(c.editableLayers,o,p),c.editableLayers.forEach(function(t){var e=r.getLayer(t);e.getSource().once("addfeature",function(i){f[t].geometryType=e.getSource().getFeatures()[0].getGeometry().getType(),f[t].geometryName=e.getSource().getFeatures()[0].getGeometryName(),t===u&&c.isActive&&a()})}),this.bindUIActions(),c.isActive&&i(!0)},deleteFeature:function(){s.deleteSelected()},attributeFeature:function(){s.onAttributes()},drawFeature:function(){s.activateInsert()},bindUIActions:function(){var t=this;n("#o-editor-draw").on("touchend click",function(e){t.drawFeature(),n("#o-editor-draw").blur(),e.preventDefault()}),n("#o-editor-attribute").on("touchend click",function(e){t.attributeFeature(),n("#o-editor-attribute").blur(),e.preventDefault()}),n("#o-editor-delete").on("touchend click",function(e){t.deleteFeature(),n("#o-editor-delete").blur(),e.preventDefault()}),n("#o-editor-close").on("click",function(t){n(".o-map").trigger({type:"enableInteraction",interaction:"featureInfo"}),n("#o-editor-close").blur(),t.preventDefault()}),n('select[name="layer-dropdown"]').change(function(){s.removeInteractions(),s.onSetEditLayer(f[n(this).val()])})}}}()},{"./templates/editortoolbar.template.handlebars":126,"./transactionhandler":130,"./viewer":136,jquery:23,openlayers:24}],102:[function(t,e,i){"use strict";function n(t){k=d.getMap(),S=t||{},C=S.hasOwnProperty("pinning")?S.pinning:!0;var e=S.hasOwnProperty("pinStyle")?S.pinStyle:w.getStyle("pin");P=b.createStyleRule(e)[0],E=S.savedPin?v.createPointFeature(t.savedPin,P):void 0,T=b.createEditStyle();var i=S.savedSelection||void 0,n=E||i||void 0;I=y(n,k),_=S.hasOwnProperty("overlay")?S.overlay:!0,_?(m.init("#map"),j="overlay"):(g.init(),j="sidebar"),A=S.hasOwnProperty("clusterFeatureinfoLevel")?S.clusterFeatureinfoLevel:1,k.on("click",a),p(".o-map").on("enableInteraction",u)}function r(){var t={};return t.geometryType=I.getFeatures()[0].getGeometry().getType(),t.coordinates=I.getFeatures()[0].getGeometry().getCoordinates(),t}function s(){return E}function o(t,e,i){var n=t.map(function(t){return t.content}).join("");switch(n='<div id="identify"><div id="mdk-identify-carousel" class="owl-carousel owl-theme">'+n+"</div></div>",e){case"overlay":var r=new f.Overlay({element:p("#popup").get(0)});k.addOverlay(r);var s,o=t[0].feature.getGeometry();s="Point"==o.getType()?o.getCoordinates():i,r.setPosition(s),m.setContent({content:n,title:t[0].title}),m.setVisibility(!0);c("#mdk-identify-carousel",void 0,function(){var e=this.owl.currentItem;I.clearAndAdd(t[e].feature.clone(),T[t[e].feature.getGeometry().getType()]),m.setTitle(t[e].title)});d.autoPan();break;case"sidebar":g.setContent({content:n,title:t[0].title}),g.setVisibility(!0);c("#mdk-identify-carousel",void 0,function(){var e=this.owl.currentItem;I.clearAndAdd(t[e].feature.clone(),T[t[e].feature.getGeometry().getType()]),g.setTitle(t[e].title)})}}function a(t){m.setVisibility(!1),d.removeOverlays(),E=void 0;var e=x.getFeaturesAtPixel(t,A);e!==!1&&x.getFeaturesFromRemote(t).done(function(i){var n=i||[],r=n.concat(e);if(r.length>0)I.clear(),o(r,j,t.coordinate);else if(I.getFeatures().length>0)l();else if(C){g.setVisibility(!1);var s=k.getView().getResolution();setTimeout(function(){v.checkZoomChange(s,k.getView().getResolution())||(E=v.createPointFeature(t.coordinate,P),I.addFeature(E))},250)}else console.log("No features identified")})}function h(t){t===!0?k.on("click",a):(I.clear(),m.setVisibility(!1),k.un("click",a))}function l(){I.clear(),g.setVisibility(!1),m.setVisibility(!1),console.log("Clearing selection")}function u(t){h("featureInfo"===t.interaction?!0:!1)}function c(t,e,i){var n=e||{navigation:!0,slideSpeed:300,paginationSpeed:400,singleItem:!0,rewindSpeed:200,navigationText:['<svg class="mdk-icon-fa-chevron-left"><use xlink:href="css/svg/fa-icons.svg#fa-chevron-left"></use></svg>','<svg class="mdk-icon-fa-chevron-right"><use xlink:href="css/svg/fa-icons.svg#fa-chevron-right"></use></svg>'],afterAction:i};return p(t).owlCarousel(n)}var f=t("openlayers"),p=t("jquery"),d=t("./viewer"),m=t("./popup"),g=t("./sidebar"),v=t("./maputils"),y=t("./featurelayer"),b=t("./style"),w=t("./style/styletypes"),x=t("./getfeatureinfo"),M=t("../externs/owlcarousel-browserify");M.loadjQueryPlugin();var S,k,C,P,T,_,j,A,I=void 0,E=void 0;e.exports.init=n,e.exports.clear=l,e.exports.getSelection=r,e.exports.getPin=s,e.exports.identify=o},{"../externs/owlcarousel-browserify":2,"./featurelayer":104,"./getfeatureinfo":108,"./maputils":112,"./popup":118,"./sidebar":122,"./style":123,"./style/styletypes":125,"./viewer":136,jquery:23,openlayers:24}],103:[function(t,e,i){"use strict";function n(t,e){return r[t](e)}var r={};r["default"]=t("./templates/featureinfotemplates/default"),e.exports=n},{"./templates/featureinfotemplates/default":128}],104:[function(t,e,i){"use strict";var n=t("openlayers");e.exports=function(t,e){var i=t?[t]:[],r=new n.source.Vector({features:i}),s=new n.layer.Vector({source:r,map:e});return{addFeature:function(t){r.addFeature(t)},getFeatures:function(){return r.getFeatures()},getFeatureLayer:function(){return featurelayer},getFeatureStore:function(){return r},clear:function(){r.clear()},clearAndAdd:function(t,e){r.clear(),s.setStyle(e),r.addFeature(t)}}}},{openlayers:24}],105:[function(t,e,i){"use strict";function n(){c=y.getMap();var t="Visa nuvarande position i kartan",e=b.createButton({id:"geolocation-button",cls:"geolocation-button",iconCls:"mdk-icon-fa-location-arrow",src:"css/svg/fa-icons.svg#fa-location-arrow",tooltipText:t,tooltipPlacement:"east"});v("#map").append(e),w.geolocateButtonId=v("#geolocation-button"),w.geolocateButton=v("#geolocation-button button");var i='<img id="geolocation_marker" src="img/geolocation_marker.png" />';v("#map").prepend(i),d=v("#geolocation_marker").get(0),p=new g.Overlay({positioning:"center-center",element:d,stopEvent:!1}),m=new g.geom.LineString([],"XYZM"),f=new g.Geolocation({projection:c.getView().getProjection(),trackingOptions:{maximumAge:1e4,enableHighAccuracy:!0,timeout:6e5}}),r()}function r(){w.geolocateButtonId.on("touchend click",function(t){x=!1,s(),w.geolocateButton.blur(),t.preventDefault()})}function s(){w.geolocateButton.hasClass("geolocation-button-true")?(w.geolocateButton.removeClass("geolocation-button-true"),f.setTracking(!1),f.un("change",o),c.un("postcompose",u),c.removeOverlay(p)):(w.geolocateButton.addClass("geolocation-button-true"),c.addOverlay(p),f.on("change",o),f.setTracking(!0),c.on("postcompose",u),c.render())}function o(){var t=f.getPosition(),e=(f.getAccuracy(),f.getHeading()||0),i=f.getSpeed()||0,n=Date.now();a(t,e,n,i)}function a(t,e,i,n){var r=t[0],s=t[1],o=m.getCoordinates(),a=o[o.length-1],h=a&&a[2];if(h){var l=e-this.mod(h);if(Math.abs(l)>Math.PI){var u=l>=0?1:-1;l=-u*(2*Math.PI-Math.abs(l))}e=h+l}m.appendCoordinate([r,s,e,i]),m.setCoordinates(m.getCoordinates().slice(-20)),e&&n?d.src="img/geolocation_marker_heading.png":d.src="img/geolocation_marker.png";var g=0;c.beforeRender(function(t,e){if(null!==e){var i=e.time-1.5*w.deltaMean;i=Math.max(i,g),g=i;var n=m.getCoordinateAtM(i,!0);e.viewState;n&&0==x&&f.getTracking()?(p.setPosition(n),t.getView().setCenter(n),t.getView().setZoom(10),x=!0):n&&f.getTracking()&&p.setPosition(n)}return!0})}function h(t){return(t%(2*Math.PI)+2*Math.PI)%(2*Math.PI)}function l(t,e,i){var n=c.getSize(),r=n[1];return[t[0]-Math.sin(e)*r*i*1/4,t[1]+Math.cos(e)*r*i*1/4]}function u(){c.render}var c,f,p,d,m,g=t("openlayers"),v=t("jquery"),y=t("./viewer"),b=t("./utils"),w={geolocateButtonId:void 0,geolocateButton:void 0,deltaMean:500},x=!1;e.exports.init=n,e.exports.bindUIActions=r,e.exports.toggle=s,e.exports.getPositionVal=o,e.exports.addPosition=a,e.exports.mod=h,e.exports.getCenterWithHeading=l,e.exports.render=u},{"./utils":131,"./viewer":136,jquery:23,openlayers:24}],106:[function(t,e,i){"use strict";function n(t,e){var i,n={};for(i in t)-1===e.indexOf(i)&&(n[i]=t[i]);return n}function r(t,e,i){var n=t||"",r=e||"";return n+i+r}var s=t("./featureinfotemplates"),o=t("../src/utils/replacer");e.exports=function(t,e){var i,a,h,l="<div><ul>",u="";if(e.get("attributes"))if("string"==typeof e.get("attributes"))u=s(e.get("attributes"),t.getProperties());else for(var c=0;c<e.get("attributes").length;c++){if(i=e.get("attributes")[c],a="",h="",i.name){if(t.get(i.name)&&(h=t.get(i.name),i.title&&(a="<b>"+i.title+"</b>"),i.url&&t.get(i.url))){var f=r(i.urlPrefix,i.urlSuffix,o.replace(t.get(i.url),t.getProperties()));h='<a href="'+f+'" target="_blank">'+t.get(i.name)+"</a>"}}else if(i.url){if(t.get(i.url)){var p=i.html||i.url,f=r(i.urlPrefix,i.urlSuffix,o.replace(t.get(i.url),t.getProperties()));h='<a href="'+f+'" target="_blank">'+p+"</a>"}}else if(i.img){if(t.get(i.img)){var f=r(i.urlPrefix,i.urlSuffix,o.replace(t.get(i.img),t.getProperties())),d=i.attribution?'<div class="image-attribution">'+i.attribution+"</div>":"";h='<div class="image-container"><img src="'+f+'">'+d+"</div>"}}else i.html&&(h=o.replace(i.html,t.getProperties()));var m=' class="'+i.cls+'" '||"";u+="<li"+m+">"+a+h+"</li>"}else{var g=n(t.getProperties(),["FID_","geometry"]);u=s("default",g)}return l+=u+"</ul></div>"}},{"../src/utils/replacer":134,"./featureinfotemplates":103}],107:[function(t,e,i){function n(t){t.error&&console.log(t.error.message+"\n"+t.error.details.join("\n"))}var r,s,o=t("openlayers"),a=t("jquery"),h=t("./viewer"),l={};e.exports=function(t,e){r=h.getProjectionCode(),s=h.getMapSource();var i=s[e.get("sourceName")].url,n=e.get("type");return l[n](t,e,i)},l.AGS_FEATURE=function(t,e,i){var s=r.split(":").pop(),l=e.get("id"),u=new o.format.EsriJSON,c=i+"/"+l+"/query?f=json&returnGeometry=true&objectIds="+t+"&geometryType=esriGeometryEnvelope&inSR="+s+"&outFields=*&returnIdsOnly=false&returnCountOnly=false&geometryPrecision=2&outSR="+s;return a.ajax({url:c,dataType:"jsonp"}).then(function(t){if(t.error)return n(t),[];var e=u.readFeatures(t,{featureProjection:h.getProjection()});return e},n)},l.WFS=function(t,e,i){var n=e.get("geometryName"),r=new o.format.GeoJSON({geometryName:n}),s=i+"?",h="service=WFS&version=1.0.0&request=GetFeature&typeName="+e.get("name")+"&outputFormat=json&featureId="+t;return a.ajax({url:s,data:h,type:"POST",dataType:"json"}).then(function(t){return r.readFeatures(t)})}},{"./viewer":136,jquery:23,openlayers:24}],108:[function(t,e,i){"use strict";function n(t){c=d.getMap();var e=[],i=r(t).map(function(t){return t.fn.then(function(i){var n=d.getLayer(t.layer);return i?(e.push({title:n.get("title"),feature:i,content:g(i,n)}),e):void 0})});return p.when.apply(p,i).then(function(t){return e})}function r(t){var e=[];if("crossOrigin"in new Image)c.forEachLayerAtPixel(t.pixel,function(i){var n=s(i,t.coordinate);n&&e.push(n)});else if(o(t.pixel)){var i=d.getQueryableLayers();i.forEach(function(i){if(o(t.pixel,i)){var n=s(i,t.coordinate);n&&e.push(n)}else if(a(t.pixel,i)){var n=s(i,t.coordinate);n&&e.push(n)}})}else c.forEachLayerAtPixel(t.pixel,function(i){var n=s(i,t.coordinate);n&&e.push(n)});return e}function s(t,e){var i=t.get("type"),n={};switch(n.layer=t.get("name"),i){case"WMTS":if(t.get("featureinfoLayer")){var r=t.get("featureinfoLayer"),o=d.getLayer(r);return s(o,e)}return void 0;case"WMS":if(t.get("featureinfoLayer")){var r=t.get("featureinfoLayer"),o=d.getLayer(r);return s(o,e)}return n.cb="GEOJSON",n.fn=l(t,e),n;case"AGS_TILE":if(t.get("featureinfoLayer")){var r=t.get("featureinfoLayer"),o=d.getLayer(r);return s(o,e)}return n.fn=u(t,e),n;default:return void 0}}function o(t,e){try{return e?c.forEachLayerAtPixel(t,function(t){return e===t}):c.forEachLayerAtPixel(t,function(t){}),!1}catch(i){return console.log(i),!0}}function a(t,e){c.forEachLayerAtPixel(t,function(t){return e===t})}function h(t,e){c=d.getMap();var i=[],n=!1;return c.forEachFeatureAtPixel(t.pixel,function(r,s){var o=s,a=!1;if(s&&(a=s.get("queryable")),r.get("features")){var h=r.get("features");if(h.length>1){var l=c.getView().getZoom(),u=-1===e?d.getResolutions().length:l+e;if(u<d.getResolutions().length)return c.getView().setCenter(t.coordinate),c.getView().setZoom(l+1),n=!0,!0;h.forEach(function(t){var e={};e.title=o.get("title"),e.feature=t,e.content=g(t,o),i.push(e)})}else if(1==h.length&&a){var f={};f.title=o.get("title"),f.feature=h[0],f.content=g(h[0],o),i.push(f)}}else if(a){var f={};f.title=o.get("title"),f.feature=r,f.content=g(r,o),i.push(f)}}),n?!1:i}function l(t,e){var i=t.getSource().getGetFeatureInfoUrl(e,c.getView().getResolution(),d.getProjection(),{INFO_FORMAT:"application/json"});return p.ajax(i,{type:"post"}).then(function(t){return t.error?[]:m.geojsonToFeature(t)})}function u(t,e){var i=d.getProjectionCode(),n=i.split(":").pop(),r=t.get("id"),s=d.getMapSource()[t.get("sourceName")],o=s.url,a=new f.format.EsriJSON,h=c.getSize(),l=s.hasOwnProperty("tolerance")?s.tolerance.toString():5,u=c.getView().calculateExtent(h),m=o+"/identify?f=json&returnGeometry=true&geometryType=esriGeometryPoint&sr="+n+"&geometry="+e+"&outFields=*&geometryPrecision=2&tolerance="+l+"&layers=all:"+r+"&mapExtent="+u+"&imageDisplay="+h+",96";return p.ajax({url:m,dataType:"jsonp"}).then(function(t){if(t.error)return[];var e={};e.features=t.results;var i=a.readFeatures(e,{featureProjection:d.getProjection()});return i[0]})}var c,f=t("openlayers"),p=t("jquery"),d=t("./viewer"),m=t("./maputils"),g=t("./getattributes");e.exports.getFeaturesFromRemote=n,e.exports.getFeaturesAtPixel=h},{"./getattributes":106,"./maputils":112,"./viewer":136,jquery:23,openlayers:24}],109:[function(t,e,i){"use strict";function n(t){var e=t||{};y=e.hasOwnProperty("hasMapLegend")?e.hasMapLegend:!0,g=w.getStyleSettings(),v=b("#mapmenu"),b("#menutools").append('<li class="menu-item"><div class="menu-item-divider"></div><li>'),l(w.getGroups())}function r(t){var e="",i=t[0];if(i[0].hasOwnProperty("icon")){var n=i[0].icon.src,r=i[0].format||"png";if("png"==r)e='<div class="legend-item-img"><img style="width: auto; height: 20px;" src="'+n+'"></div>';else if("svg"==r){var h='<object type="image/svg+xml" data="'+n+'" style="width: 20px;"></object>',l="background: url("+n+") no-repeat;width: 20px; height: 20px;background-size: 20px;";e='<div class="legend-item-img">'+h+"</div>"}}else if(i[0].hasOwnProperty("fill")){for(var u="",c=0;c<i.length;c++)u+=s(i[c]);e+='<div class="legend-item-img"><svg height="'+x+'" width="'+x+'">',e+=u,e+="</svg></div>"}else if(i[0].hasOwnProperty("stroke")){for(var f="",c=0;c<i.length;c++)f+=a(i[c]);e+='<div class="legend-item-img"><svg height="'+x+'" width="'+x+'">',e+=f,e+="</svg></div>"}else if(i[0].hasOwnProperty("circle")){for(var p="",c=0;c<i.length;c++)p+=o(i[c]);e+='<div class="legend-item-img"><svg height="'+x+'" width="'+x+'">',
e+=p,e+="</svg></div>"}else if(i[0].hasOwnProperty("image")){var n=i[0].image.src,l="background: url("+n+") no-repeat;width: 30px; height: 30px;background-size: 30px;";e='<div class="legend-item-img" style="'+l+'"></div>'}return e}function s(t){var e=t,i=0;if(e.hasOwnProperty("stroke")){i=e.stroke.width>=3?3:e.stroke.width;var n="stroke:"+e.stroke.color+";"||"stroke:none;";n+="stroke-width:"+i+";"||"",n+="stroke-dasharray:"+e.stroke.lineDash+";"||""}var r=x-4,s='<rect x="2" y="2" rx="2" ry="2" width="'+r+'" height="'+r+'" ';return s+=e.hasOwnProperty("fill")?'style="fill:'+e.fill.color+";":'style="fill:none;',s+=n,s+='"></rect>'}function o(t){var e=t.circle,i=0;if(e.hasOwnProperty("stroke")){i=e.stroke.width>=3?3:e.stroke.width;var n="stroke:"+e.stroke.color+";"||"stroke:none;";n+="stroke-width:"+i+";"||""}var r=x/2,s='<circle cx="'+r+'" cy="'+r+'" r="'+e.radius+'" ';return s+=e.hasOwnProperty("fill")?'style="fill:'+e.fill.color+";":'style="fill:none;',s+=n,s+='"></circle>'}function a(t){var e=t,i=e.stroke.width>4?4:e.stroke.width;i=e.stroke.width<2?2:i;var n='<line x1 = "2" y1= "'+(x-4).toString()+'" x2="'+(x-4).toString()+'" y2="2" ';return n+='style="',n+="stroke:"+e.stroke.color+";"||"stroke:none;",n+="stroke-width:"+i+";"||"",n+="stroke-dasharray:"+e.stroke.lineDash+";"||"",n+='"/>'}function h(t){var e=t.split("legend-").pop(),i=w.getLayer(e),n='<li class="legend '+e+'" id="'+t+'"><div class ="legend-item"><div class="checkbox"><svg class="mdk-icon-fa-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-square-o"></use></svg><svg class="mdk-icon-fa-check-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-check-square-o"></use></svg></div>';n+=i.get("styleName")?r(g[i.get("styleName")]):"";var s='<div class="legend-item-title">'+i.get("title")+"</div></div></li>";return n+=s}function l(t){var e,i,n=w.getLayers(),s="",o='<div id="legendlist"><ul class="legendlist"></ul></div>';b("#mapmenu").append(o);for(var a=0;a<t.length;a++)t[a].hasOwnProperty("overlayGroup")&&(i=t[a].name),e='<li><ul id="group-'+t[a].name+'" class="legend-group"><li class="legend-header"><div class="legend-item">'+t[a].title+'<div class="icon-expand"><svg class="mdk-icon-fa-chevron-right"><use xlink:href="css/svg/fa-icons.svg#fa-chevron-right"></use></svg><svg class="mdk-icon-fa-chevron-down"><use xlink:href="css/svg/fa-icons.svg#fa-chevron-down"></use></svg></div></div></li></ul></li>',b("#legendlist .legendlist").append(e),1==t[a].expanded?b("#group-"+t[a].name+" .icon-expand").addClass("icon-expand-true"):(b("#group-"+t[a].name+" .icon-expand").addClass("icon-expand-false"),b("#group-"+t[a].name).addClass("ul-expand-false")),b("#group-"+t[a].name+" .legend-header").on("touchend click",function(t){f(b(this)),t.preventDefault()});if(y){var h='<div id="map-legend"><ul id="legend-overlay"><li class="legend hidden"><div class ="toggle-button toggle-button-max"><svg class="mdk-icon-fa-angle-double-down"><use xlink:href="css/svg/fa-icons.svg#fa-angle-double-down"></use></svg><svg class="mdk-icon-fa-angle-double-up"><use xlink:href="css/svg/fa-icons.svg#fa-angle-double-up"></use></svg></div></li><li><ul id="overlay-list"></li></ul></ul><ul id="map-legend-background"></ul></div>';b("#map").append(h),i&&b("#map-legend-background").prepend('<div class="legend-item-divider"></div>')}for(var a=n.length-1;a>=0;a--){var l=n[a].get("name"),u='<div class="legend-item-title">'+n[a].get("title")+"</div></div></li>";"background"==n[a].get("group")?(s='<li class="legend '+l+'" id="'+l+'"><div class ="legend-item"><div class="checkbox"><svg class="mdk-icon-fa-check"><use xlink:href="css/svg/fa-icons.svg#fa-check"></use></svg></div>',s+=u,b("#group-"+n[a].get("group")).append(s),s='<li class="legend '+l+'" id="legend-'+l+'"><div class ="legend-item">',s+=n[a].get("styleName")?r(g[n[a].get("styleName")]):"",s+="</div>",b("#map-legend-background").append(s)):n[a].get("group")&&"none"!=n[a].get("group")&&(s='<li class="legend '+l+'" id="'+l+'"><div class ="legend-item"><div class="checkbox"><svg class="mdk-icon-fa-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-square-o"></use></svg><svg class="mdk-icon-fa-check-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-check-square-o"></use></svg></div>',s+=n[a].get("styleName")?r(g[n[a].get("styleName")]):"",s+=u,b("#group-"+n[a].get("group")).append(s),(1==n[a].get("legend")||n[a].getVisible(!0))&&(s='<li class="legend '+l+'" id="legend-'+l+'"><div class ="legend-item"><div class="checkbox"><svg class="mdk-icon-fa-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-square-o"></use></svg><svg class="mdk-icon-fa-check-square-o"><use xlink:href="css/svg/fa-icons.svg#fa-check-square-o"></use></svg></div>',s+=n[a].get("styleName")?r(g[n[a].get("styleName")]):"",s+=u,b("#overlay-list").append(s))),d(),"background"==n[a].get("group")?1==n[a].getVisible()?(b("#"+l+" .checkbox").addClass("check-true"),b("#legend-"+l).addClass("check-true-img")):(b("#"+l+" .checkbox").addClass("check-false"),b("#legend-"+l).addClass("check-false-img")):1==n[a].getVisible()?b("."+l+" .checkbox").addClass("checkbox-true"):b("."+l+" .checkbox").addClass("checkbox-false"),b("#"+l).on("touchend click",function(t){b(this).each(function(){var t=this;p(b(t).attr("id"))}),t.preventDefault()}),b("#legend-"+l).on("touchend click",function(t){b(this).each(function(){var t=this;p(b(t).attr("id"))}),t.preventDefault()})}b("#legend-overlay .toggle-button").on("touchend click",function(t){m(),t.preventDefault()})}function u(t){b("#"+t).on("touchend click",function(t){b(this).each(function(){var t=this;p(b(t).attr("id"))}),t.preventDefault()})}function c(t){b("#"+t).off("touchend click",function(t){b(this).each(function(){var t=this;p(b(t).attr("id"))}),t.preventDefault()})}function f(t){var e=t.parent(".legend-group"),i=b("#"+e.attr("id")+" .icon-expand");i.hasClass("icon-expand-false")?(i.removeClass("icon-expand-false"),i.addClass("icon-expand-true"),e.removeClass("ul-expand-false")):(i.removeClass("icon-expand-true"),i.addClass("icon-expand-false"),e.addClass("ul-expand-false"))}function p(t){var e=t.split("legend-").pop(),i=t.split("legend-").length>1?!0:!1,n=w.getLayer(e);if("background"==n.get("group")){for(var r=w.getGroup("background"),s=0;s<r.length;s++)r[s].setVisible(!1),b("#"+r[s].get("name")+" .checkbox").removeClass("check-true"),b("#"+r[s].get("name")+" .checkbox").addClass("check-false"),b("#legend-"+r[s].get("name")).removeClass("check-true-img"),b("#legend-"+r[s].get("name")).addClass("check-false-img");n.setVisible(!0),b("#"+e+" .checkbox").removeClass("check-false"),b("#"+e+" .checkbox").addClass("check-true"),b("#legend-"+e).removeClass("check-false-img"),b("#legend-"+e).addClass("check-true-img")}else b("."+e+" .checkbox").hasClass("checkbox-true")?(b("."+e+" .checkbox").removeClass("checkbox-true"),b("."+e+" .checkbox").addClass("checkbox-false"),0==i&&(c("legend-"+e),b("#legend-"+e).remove(),n.set("legend",!1),d()),n.setVisible(!1)):(0==i&&0==b("#legend-"+e).length&&(b("#overlay-list").append(h("legend-"+e)),u("legend-"+e),d()),b("."+e+" .checkbox").removeClass("checkbox-false"),b("."+e+" .checkbox").addClass("checkbox-true"),n.setVisible(!0),n.set("legend",!0))}function d(){b("#overlay-list li").length>1&&b("#legend-overlay >li:first-child").hasClass("hidden")?b("#legend-overlay > li:first-child").removeClass("hidden"):b("#overlay-list li").length<2&&(b("#legend-overlay > li:first-child").addClass("hidden"),1==b("#overlay-list").length&&b("#overlay-list").hasClass("hidden")&&(b("#overlay-list").removeClass("hidden"),m()))}function m(){b("#legend-overlay .toggle-button").hasClass("toggle-button-max")?(b("#legend-overlay .toggle-button").removeClass("toggle-button-max"),b("#legend-overlay .toggle-button").addClass("toggle-button-min"),b("#overlay-list").addClass("hidden")):(b("#legend-overlay .toggle-button").removeClass("toggle-button-min"),b("#legend-overlay .toggle-button").addClass("toggle-button-max"),b("#overlay-list").removeClass("hidden"))}var g,v,y,b=t("jquery"),w=t("./viewer"),x=(t("./utils"),20);e.exports.init=n},{"./utils":131,"./viewer":136,jquery:23}],110:[function(t,e,i){"use strict";var n=t("jquery"),r=t("./permalink/permalink"),s=t("./utils/geturl"),o=t("./utils/isurl"),a=function(t,e){var i={},a="#app-wrapper",h=void 0;if(e?"#"!==a.substring(0,0)?a="#"+t:"#"===a.substring(0,0)&&(a=t):e=t,i.el=a,"object"==typeof e)return window.location.hash&&(h=r.parsePermalink(window.location.href)),i.options=e,i.options.url=s(),i.options.map=void 0,i.options.params=h,i;if("string"==typeof e){if(o(e)){h=r.parsePermalink(e);var l=e.split("#")[0];-1!==l.substring(l.lastIndexOf("/")).indexOf(".htm")?l=l.substring(0,l.lastIndexOf("/")+1):"/"!==l.substr(l.length-1)&&(l+="/");var u=h.map+".json";return l+=u,n.getJSON(l).then(function(t){return i.options=t,i.options.url=l,i.options.map=u,i.options.params=h,i})}return window.location.hash&&(h=r.parsePermalink(window.location.href)),n.getJSON(e).then(function(t){return i.options=t,i.options.url=s(),i.options.map=e,i.options.params=h,i})}};e.exports=a},{"./permalink/permalink":115,"./utils/geturl":132,"./utils/isurl":133,jquery:23}],111:[function(t,e,i){"use strict";function n(){u=f.getStyleSettings();var t=p.createButton({text:"Meny",id:"mapmenu-button",cls:"mapmenu-button-true",iconCls:"mdk-icon-fa-bars",src:"css/svg/fa-icons.svg#fa-bars",tooltipText:"Meny",tooltipPlacement:"west"});c("#map").append(t),a=c("#mapmenu-button button");var e='<div id="mapmenu"><div class="block"><ul id="menutools"><li></li></ul>';c("#map").append(e),l=c("#mapmenu");var i=p.createButton({id:"mapmenu-button-close",cls:"no-boxshadow",iconCls:"mdk-icon-menu-fa-times",src:"css/svg/fa-icons.svg#fa-times",tooltipText:"Stäng meny",tooltipPlacement:"west"});c("#menutools").append(i),h=c("#mapmenu-button-close"),r()}function r(){a.on("touchend click",function(t){s(),a.blur(),t.preventDefault()}),h.on("click",function(t){s(),h.blur(),t.preventDefault()})}function s(){l.hasClass("mapmenu-show")?(l.removeClass("mapmenu-show"),a.removeClass("mapmenu-button-false"),a.addClass("mapmenu-button-true")):(l.addClass("mapmenu-show"),a.removeClass("mapmenu-button-true"),a.addClass("mapmenu-button-false"))}function o(){return l}var a,h,l,u,c=t("jquery"),f=t("./viewer"),p=t("./utils");e.exports.init=n,e.exports.toggleMenu=s,e.exports.getTarget=o},{"./utils":131,"./viewer":136,jquery:23}],112:[function(t,e,i){"use strict";var n=t("openlayers"),r=(t("jquery"),t("./viewer"));e.exports={customProjection:function(t,e){return new n.proj.Projection({code:t,extent:e})},tileGrid:function(t,e){var i=n.extent.getTopLeft(t);return new n.tilegrid.TileGrid({extent:t,origin:i,resolutions:e})},checkZoomChange:function(t,e){return t!==e?!0:!1},createPointFeature:function(t,e){var i=new n.Feature({geometry:new n.geom.Point(t)});return i.setStyle(e),i},geojsonToFeature:function(t){var e=new n.source.Vector({features:(new n.format.GeoJSON).readFeatures(t)});return e.getFeatures()[0]},wktToFeature:function(t,e){var i=new n.format.WKT,r=i.readFeature(t,{dataProjection:e,featureProjection:e});return r},zoomToExent:function(t,e){var i=r.getMap(),n=i.getView(),s=e,o=t.getExtent();return o?(n.fit(o,i.getSize(),{maxZoom:s}),o):void 0},getCenter:function(t){var e,i=t.getType();switch(i){case"Polygon":e=t.getInteriorPoint().getCoordinates(),console.log(e);break;case"MultiPolygon":e=t.getInteriorPoints()[0].getCoordinates();break;case"Point":e=t.getCoordinates();break;case"MultiPoint":e=t[0].getCoordinates();break;case"LineString":e=t.getCoordinateAt(.5);break;case"MultiLineString":e=t.getLineStrings()[0].getCoordinateAt(.5);break;case"Circle":e=t.getCenter()}return e}}},{"./viewer":136,jquery:23,openlayers:24}],113:[function(t,e,i){"use strict";function n(){s(),r()}function r(){a("#window-button button").click(function(){a("#window-button button").blur(),o()})}function s(){var t="Visa kartan i nytt fönster",e=h.createButton({id:"window-button",cls:"mapwindow-button",iconCls:"mdk-icon-fa-expand",src:"css/svg/fa-icons.svg#fa-expand",tooltipText:t,tooltipPlacement:"east"});a("#map").append(e)}function o(){var t=l.getMapUrl();window.open(t)}var a=t("jquery"),h=t("./utils"),l=t("./viewer");({windowButton:a("#window-button button")});e.exports.init=n},{"./utils":131,"./viewer":136,jquery:23}],114:[function(t,e,i){function n(){}function r(){h(".mdk-modal-screen, .mdk-close-button").click(function(){a()})}function s(t,e){var i=e.title||void 0,n=e.content||void 0;e.footer||void 0;l.target=h(t),l.modal='<div id="mdk-modal"><div class="mdk-modal-screen"></div><div class="mdk-modal"><div class="mdk-close-button"><svg class="mdk-icon-fa-times"><use xlink:href="css/svg/fa-icons.svg#fa-times"></use></svg></div><div class="mdk-modal-title">'+i+'</div><div class="mdk-modal-content">'+n+"</div></div></div>"}function o(){l.target.prepend(l.modal),r()}function a(){h("#mdk-modal").remove()}var h=t("jquery"),l={target:void 0,modal:void 0};e.exports.init=n,e.exports.createModal=s,e.exports.showModal=o,e.exports.closeModal=a},{jquery:23}],115:[function(t,e,i){"use strict";var n=t("./permalinkparser"),r=t("./permalinkstore"),s=t("../utils/urlparser");e.exports=function(){return{getPermalink:function(t){var e=s.formatUrl(r.getState()),i=r.getUrl()+"#"+e;return i},parsePermalink:function(t){if(t.indexOf("#")>-1){var e=t.split("#")[1],i=e.split("&"),r={};return i.forEach(function(t){var e=t.split("=")[0],i=t.split("=")[1];n.hasOwnProperty(e)&&(r[e]=n[e](i))}),r}return!1}}}()},{"../utils/urlparser":135,"./permalinkparser":116,"./permalinkstore":117}],116:[function(t,e,i){"use strict";var n=t("../utils/urlparser"),r={v:{name:"visible",dataType:"boolean"},s:{name:"legend",dataType:"boolean"}};e.exports={layers:function(t){var e=t.split(","),i={};return e.forEach(function(t){var e={},s=n.objectify(t,{topmost:"name"});Object.getOwnPropertyNames(s).forEach(function(t){var i=s[t];if(r.hasOwnProperty(t)){var o=r[t];e[o.name]=n.strBoolean(i)}else e[t]=i}),i[e.name]=e}),i},zoom:function(t){return parseInt(t)},center:function(t){var e=t.split(",").map(function(t){return parseInt(t)});return e},selection:function(t){return n.strArrayify(t,{topmostName:"geometryType",arrName:"coordinates"})},pin:function(t){return n.strIntify(t)},map:function(t){return t}}},{"../utils/urlparser":135}],117:[function(t,e,i){"use strict";function n(t){var e=[];return t.forEach(function(t){var i={};i.v=t.getVisible()===!0?1:0,i.s=t.get("legend")===!0?1:0,(i.s||i.v)&&(i.name=t.get("name"),e.push(h.stringify(i,{topmost:"name"})))}),e}var r,s,o=t("../viewer"),a=(t("../featureinfo").getSelection,t("../featureinfo").getPin),h=t("../utils/urlparser"),l={};l.getState=function(){r={};var t=o.getMap().getView(),e=o.getLayers();return r.layers=n(e),r.center=t.getCenter().map(function(t){return Math.round(t)}).join(),r.zoom=t.getZoom().toString(),a()&&(r.pin=a().getGeometry().getCoordinates().map(function(t){return Math.round(t)}).join()),o.getMapName()&&(r.map=o.getMapName().split(".")[0]),r},l.getUrl=function(){return s=o.getUrl()},e.exports=l},{"../featureinfo":102,"../utils/urlparser":135,"../viewer":136}],118:[function(t,e,i){function n(t){var e='<div id="popup"><div class="popup"><div class="mdk-close-button"><svg class="mdk-icon-fa-times"><use xlink:href="css/svg/fa-icons.svg#fa-times"></use></svg></div><div class="popup-title"></div><div class="popup-content"></div></div></div>';l(t).append(e),r()}function r(){l("#popup .popup .mdk-close-button").on("touchend click",function(t){h(),t.preventDefault()})}function s(t){1==t?l("#popup .popup").css("display","block"):l("#popup .popup").css("display","none")}function o(t){l("#popup .popup-title").html(t)}function a(t){t.title?l("#popup .popup .popup-title").html(t.title):l("#popup .popup .popup-title").html(""),t.content?l("#popup .popup .popup-content").html(t.content):l("#popup .popup .popup-content").html("")}function h(){s(!1)}var l=t("jquery");e.exports.init=n,e.exports.setVisibility=s,e.exports.setTitle=o,e.exports.setContent=a,e.exports.closePopup=h},{jquery:23}],119:[function(t,e,i){"use strict";function n(){h=u.getMap();var t=c.createListButton({id:"print",iconCls:"mdk-icon-fa-print",src:"css/svg/fa-icons.svg#fa-print",text:"Skriv ut"});l("#menutools").append(t),a=l("#print-button"),r()}function r(){a.on("touchend click",function(t){l("#app-wrapper").append('<canvas id="print" style="display: none"></canvas>'),o(),t.preventDefault()})}function s(t){var e=new Image;try{e.src=t.get(0).toDataURL("image/png")}catch(i){console.log(i)}finally{var n='<html><head><link href="img/print.css" rel="stylesheet"></head><body>';n+='<div class="print-logo"><img src="print/logo_print.png"></div>',n+='<div class="map-canvas"><img src="'+e.src+'"/></div>',n+='<div class="print-attribution">&copy&nbsp;Lantmäteriet&nbsp;Geodatasamverkan</div>',n+="</body></html>";var r=window.open("","","width=800,height=820");r.document.write(n),r.document.close(),setTimeout(function(){r.print(),setTimeout(function(){r.close(),l("#print").remove()},10)},200)}}function o(){var t=l("canvas"),e=new Image;try{var i=t.get(0).toDataURL("image/png")}catch(n){console.log(n)}finally{var r=l("#print");e.onload=function(){var i=r[0].getContext("2d"),n=t[0].width,o=t[0].height;n<f.printWith?r[0].width=n:n>=f.printWith&&(r[0].width=f.printWith),o<f.printWith?r[0].height=o:n>=f.printWith&&(r[0].height=f.printWith),i.drawImage(e,n/2-r[0].width/2,0,r[0].width,r[0].height,0,0,r[0].width,r[0].height),s(r)},e.src=i}}var a,h,l=t("jquery"),u=t("./viewer"),c=t("./utils"),f={printWith:800};e.exports.init=n},{"./utils":131,"./viewer":136,jquery:23}],120:[function(t,e,i){"use strict";function n(t){y=t.searchAttribute,b=t.northing||void 0,w=t.easting||void 0,x=t.geometryAttribute,M=t.idAttribute,S=t.layerNameAttribute||void 0,k=t.layerName||void 0,_=t.url,j=t.title||"",C=t.titleAttribute||void 0,P=t.contentAttribute||void 0,t.maxZoomLevel||2,A=t.hintText||"Sök...",I=t.hasOwnProperty("hint")?t.hint:!0,E=t.hasOwnProperty("highlight")?t.highlight:!0,N=f.getProjectionCode(),v=f.getMap();var e='<div id="search-wrapper"><div id="search" class="search search-false"><input class="search-field typeahead form-control" type="text" placeholder="'+A+'"><button id="search-button"><svg class="mdk-icon-fa-search"><use xlink:href="css/svg/fa-icons.svg#fa-search"></use></svg></button><button id="search-button-close"><svg class="mdk-icon-search-fa-times"><use xlink:href="css/svg/fa-icons.svg#fa-times"></use></svg></button></div></div>';c("#map").append(e),c.support.cors=!0,g=new L({datumTokenizer:L.tokenizers.obj.whitespace(y),queryTokenizer:L.tokenizers.whitespace,limit:10,remote:{url:_+"?q=&QUERY",wildcard:"&QUERY",ajax:{contentType:"application/json",type:"POST",crossDomain:!0,success:function(t){t.sort(function(t,e){return t[y].localeCompare(e[y])})},error:function(t,e,i){console.log(i)}}}}),g.initialize(),c(".typeahead").typeahead({autoSelect:!0,hint:I,highlight:E,minLength:4},{name:"adress",limit:9,displayKey:y,source:g.ttAdapter()}),r()}function r(){c(".typeahead").on("typeahead:selected",l),c("#search .search-field").on("input",function(){c("#search .search-field.tt-input").val()&&c("#search").hasClass("search-false")?(c("#search").removeClass("search-false"),c("#search").addClass("search-true"),s()):!c("#search .search-field.tt-input").val()&&c("#search").hasClass("search-true")&&(c("#search").removeClass("search-true"),c("#search").addClass("search-false"),o())})}function s(){c("#search-button-close").on("touchend click",function(t){c(".typeahead").typeahead("val",""),R.clear(),f.removeOverlays(),c("#search").removeClass("search-true"),c("#search").addClass("search-false"),c("#search .search-field.tt-input").val(""),c("#search-button").blur(),t.preventDefault()})}function o(){console.log("offClearSearch")}function a(t,e){f.removeOverlays();var i=new u.Overlay({element:c("#popup").get(0)});v.addOverlay(i),i.setPosition(e);var n=t[y];d.setContent({content:n,title:j}),d.setVisibility(!0),q.zoomToExent(new u.geom.Point(e),T)}function h(t,e,i){var n={};n.feature=t[0],n.title=e,n.content=i,R.identify([n],"overlay",q.getCenter(t[0].getGeometry())),q.zoomToExent(t[0].getGeometry(),T)}function l(t,e){if(S&&M){var i=f.getLayer(e[S]),n=e[M];O(n,i).done(function(t){if(t.length>0)h(t,i.get("title"),D(t[0],i));else if(x){var n=p(e[x],N),r=n.getGeometry().getCoordinates();a(e,r)}})}else if(x&&k){var r=p(e[x],N),i=f.getLayer(e[k]);h([r],i.get("title"),D(r,i))}else if(C&&P&&x){var r=p(e[x],N),s=F.createElement("div",e[P]);h([r],e[C],s)}else if(x&&j){var r=p(e[x],N);h([r],j,e)}else if(w&&b&&j){var o=[e[w],e[b]];a(e,o)}else console.log("Search options are missing")}var u=t("openlayers"),c=t("jquery"),f=t("./viewer"),p=t("./maputils").wktToFeature,d=t("./popup"),m=t("typeahead.js-browserify");m.loadjQueryPlugin();var g,v,y,b,w,x,M,S,k,C,P,T,_,j,A,I,E,N,L=t("typeahead.js-browserify").Bloodhound,O=t("./getfeature"),D=t("./getattributes"),R=t("./featureinfo"),q=t("./maputils"),F=t("./utils");e.exports.init=n},{"./featureinfo":102,"./getattributes":106,"./getfeature":107,"./maputils":112,"./popup":118,"./utils":131,"./viewer":136,jquery:23,openlayers:24,"typeahead.js-browserify":95}],121:[function(t,e,i){"use strict";function n(){var t=c.createListButton({id:"share",iconCls:"mdk-icon-fa-share-square-o",src:"css/svg/fa-icons.svg#fa-share-square-o",text:"Dela karta"});h("#menutools").append(t),a=h("#share-button"),r()}function r(){a.on("touchend click",function(t){l.createModal("#map",{title:"Länk till karta",content:s()}),l.showModal(),o(),u.toggleMenu(),t.preventDefault()})}function s(){return'<div class="share-link"><input type="text"></div><i>Kopiera och klistra in länken för att dela kartan.</i>'}function o(){var t=f.getPermalink();h(".share-link input").val(t).select()}var a,h=t("jquery"),l=(t("./viewer"),t("./modal")),u=t("./mapmenu"),c=t("./utils"),f=t("./permalink/permalink");e.exports.init=n},{"./mapmenu":111,"./modal":114,"./permalink/permalink":115,"./utils":131,"./viewer":136,jquery:23}],122:[function(t,e,i){"use strict";function n(){var t='<div id="sidebar"><div class="sidebar"><div class="mdk-close-button"><svg class="mdk-icon-fa-times"><use xlink:href="css/svg/fa-icons.svg#fa-times"></use></svg></div><div class="sidebar-title"></div><div class="sidebar-content"></div></div></div>';u("#map").append(t),l=u("#sidebar"),r()}function r(){u("#sidebar .sidebar .mdk-close-button").on("touchend click",function(t){h(),t.preventDefault()})}function s(t){1==t?u("#sidebar").addClass("sidebar-show"):u("#sidebar").removeClass("sidebar-show")}function o(t){u("#sidebar .sidebar-title").html(t)}function a(t){t.title?u("#sidebar .sidebar .sidebar-title").html(t.title):u("#sidebar .sidebar .sidebar-title").html(""),t.content?u("#sidebar .sidebar .sidebar-content").html(t.content):u("#sidebar .sidebar .sidebar-content").html("")}function h(){s(!1)}var l,u=t("jquery");t("./viewer"),t("./utils");e.exports.init=n,e.exports.setVisibility=s,e.exports.setTitle=o,e.exports.setContent=a,e.exports.closeSidebar=h},{"./utils":131,"./viewer":136,jquery:23}],123:[function(t,e,i){"use strict";var n=t("openlayers");e.exports=function(){var t=[255,255,255,1],e=[0,153,255,1],i=3,r={Point:[{circle:{radius:1,stroke:{color:e,width:0},fill:{color:e}}}],LineString:[{stroke:{color:t,width:i+2}},{stroke:{color:e,width:i}}],Polygon:[{stroke:{color:t,width:i+2}},{stroke:{color:e,width:i}}]};return{createStyleOptions:function(t){var e={};if(t.hasOwnProperty("geometry"))switch(t.geometry){case"centerPoint":e.geometry=function(t){var e=t.getGeometry().getInteriorPoints().getFirstCoordinate();return new n.geom.Point(e)}}return t.hasOwnProperty("zIndex")&&(e.zIndex=t.zIndex),t.hasOwnProperty("fill")&&(e.fill=new n.style.Fill(t.fill)),t.hasOwnProperty("stroke")&&(e.stroke=new n.style.Stroke(t.stroke)),t.hasOwnProperty("text")&&(e.text=new n.style.Text(t.text),t.text.hasOwnProperty("fill")&&e.text.setFill(new n.style.Fill(t.text.fill)),t.text.hasOwnProperty("stroke")&&e.text.setStroke(new n.style.Stroke(t.text.stroke))),t.hasOwnProperty("icon")&&(e.image=new n.style.Icon(t.icon)),t.hasOwnProperty("circle")&&(e.image=new n.style.Circle({radius:t.circle.radius,fill:new n.style.Fill(t.circle.fill)||void 0,stroke:new n.style.Stroke(t.circle.stroke)||void 0})),e},createStyleList:function(t){for(var e=[],i=0;i<t.length;i++){var r,s=[];if(t[i].constructor===Array)for(var o=0;o<t[i].length;o++)r=this.createStyleOptions(t[i][o]),s.push(new n.style.Style(r));else r=this.createStyleOptions(t[i]),s=[new n.style.Style(r)];e.push(s)}return e},createStyleRule:function(t){var e,i=[];if(t.constructor===Array)for(var r=0;r<t.length;r++){var e=this.createStyleOptions(t[r]);i.push(new n.style.Style(e))}else e=this.createStyleOptions(t),i=[new n.style.Style(e)];return i},styleFunction:function(t,e,i,n){var r=function(r,s){var o,a=getScale(s),h=n?r.get("features").length:1;return o=h>1&&map.getView().getResolution()!=settings.resolutions[settings.resolutions.length-1]?checkOptions(r,a,i,n,h.toString()):checkOptions(r,a,t,e)};return r},createEditStyle:function(){return{Point:this.createStyleRule(r.Point),MultiPoint:this.createStyleRule(r.Point),LineString:this.createStyleRule(r.LineString),MultiLineString:this.createStyleRule(r.LineString),Polygon:this.createStyleRule(r.Polygon),MultiPolygon:this.createStyleRule(r.Polygon)}}}}()},{openlayers:24}],124:[function(t,e,i){"use strict";var n=[{icon:{anchor:[.5,32],anchorXUnits:"fraction",anchorYUnits:"pixels",src:"img/png/drop_blue.png"}}];e.exports=n},{}],125:[function(t,e,i){"use strict";var n=t("./pin");e.exports=function(){var t={};return t.pin=n,{getStyle:function(e){return e?t[e]:void console.log(e+" is not a default style")}}}()},{"./pin":124}],126:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({1:function(t,e,i,n,r){var s=t.lambda,o=t.escapeExpression;return'        <option value="'+o(s(null!=e?e.value:e,e))+'">'+o(s(null!=e?e.name:e,e))+"</option>\r\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){var s;return'<div id="o-editor-toolbar" class="o-control o-padding-horizontal-8 o-rounded-top hidden">\r\n    <select name="layer-dropdown">\r\n'+(null!=(s=i.each.call(null!=e?e:{},e,{name:"each",hash:{},fn:t.program(1,r,0),inverse:t.noop,data:r}))?s:"")+'    </select>\r\n    <button id="o-editor-draw" class="o-btn-3" type="button" name="button">\r\n        <svg class="o-icon-fa-pencil">\r\n            <use xlink:href="css/svg/fa-icons.svg#fa-pencil"></use>\r\n        </svg>\r\n    </button>\r\n    <button id="o-editor-attribute" class="o-btn-3" type="button" name="button">\r\n      <svg class="o-icon-fa-font">\r\n          <use xlink:href="css/svg/fa-icons.svg#fa-font"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-delete" class="o-btn-3" type="button" name="button">\r\n      <svg class="o-icon-fa-trash">\r\n          <use xlink:href="css/svg/fa-icons.svg#fa-trash"></use>\r\n      </svg>\r\n    </button>\r\n    <button id="o-editor-close" class="o-btn-3" type="button" name="button">\r\n        <svg class="o-icon-fa-times">\r\n            <use xlink:href="css/svg/fa-icons.svg#fa-times"></use>\r\n        </svg>\r\n    </button>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":22}],127:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({1:function(t,e,i,n,r){var s,o=t.escapeExpression;return"      <li><b>"+o((s=null!=(s=i.key||r&&r.key)?s:i.helperMissing,"function"==typeof s?s.call(null!=e?e:{},{name:"key",hash:{},data:r}):s))+"</b> : "+o(t.lambda(e,e))+"</li>\r\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){var s;return null!=(s=i.each.call(null!=e?e:{},e,{name:"each",hash:{},fn:t.program(1,r,0),inverse:t.noop,data:r}))?s:""},useData:!0})},{"hbsfy/runtime":22}],128:[function(t,e,i){"use strict";var n=t("./default.handlebars");e.exports=function(t){return n(t)}},{"./default.handlebars":127}],129:[function(t,e,i){var n=t("hbsfy/runtime");e.exports=n.template({compiler:[7,">= 4.0.0"],main:function(t,e,i,n,r){return'<div id="no-map"><div class="no-map-message">Du använder en föråldrad webbläsare. Uppgradera din webbläsare för att visa kartan.</div></div>\r\n<div id="wrapper" class="o-map o-grid">\r\n  <div id="map" class="map">\r\n    <div id="bottom-tools"></div>\r\n    <div id="footer">\r\n      <div class="footer-left">&nbsp;</div>\r\n      <div class="footer-middle">\r\n      </div>\r\n      <div class="footer-right">\r\n      </div>\r\n  </div>\r\n</div>\r\n'},useData:!0})},{"hbsfy/runtime":22}],130:[function(t,e,i){"use strict";var n=t("openlayers"),r=t("jquery"),s=(t("./viewer"),t("./modal"));e.exports=function(){var t={srsName:void 0,source:void 0,geometryType:void 0,geometryName:void 0,url:void 0,map:void 0,featureNS:void 0,featureType:void 0,draw:void 0,hasDraw:void 0,select:void 0,modify:void 0,dirty:void 0,format:void 0,serializer:void 0};return{onSetEditLayer:function(e){t.srsName=e.srsName,t.source=e.source,t.geometryType=e.geometryType,t.geometryName=e.geometryName,t.url=e.url,t.map=e.map,t.featureNS=e.featureNS,t.featureType=e.featureType,t.attributes=e.attributes,t.title=e.title,t.draw=new n.interaction.Draw({source:t.source,type:t.geometryType,geometryName:t.geometryName}),t.hasDraw=!1,t.select=new n.interaction.Select({layers:[e.editableLayer]}),t.modify=new n.interaction.Modify({features:t.select.getFeatures()}),t.select.getFeatures().on("add",this.onSelectAdd,this),t.select.getFeatures().on("remove",this.onSelectRemove,this),t.dirty={},t.map.addInteraction(t.select),t.map.addInteraction(t.modify),t.format=new n.format.WFS,t.serializer=new XMLSerializer,t.draw.on("drawend",this.onDrawEnd,this)},readResponse:function(e){var i;return window.Document&&e instanceof Document&&e.documentElement&&"ExceptionReport"==e.documentElement.localName?alert(e.getElementsByTagNameNS("http://www.opengis.net/ows","ExceptionText").item(0).textContent):i=t.format.readTransactionResponse(e),i},getSelect:function(){return t.select},onSelectAdd:function(e){var i=e.element;i.getId();i.on("change",function(e){t.dirty[e.target.getId()]=!0},this)},onSelectRemove:function(e){var i=e.element,s=i.getId();if(t.dirty[s]){var o=i.getProperties();console.log(o),delete o.bbox;var a=new n.Feature(o);a.setId(s);var h=t.format.writeTransaction(null,[a],null,{gmlOptions:{srsName:t.srsName},featureNS:t.featureNS,featureType:t.featureType});r.ajax({type:"POST",url:t.url,data:t.serializer.serializeToString(h),contentType:"text/xml",success:function(e){var i=this.readResponse(e);i&&1===i.transactionSummary.totalUpdated&&delete t.dirty[s]},context:this})}},onDrawEnd:function(e){var i=e.feature,n=t.format.writeTransaction([i],null,null,{gmlOptions:{srsName:t.srsName},featureNS:t.featureNS,featureType:t.featureType});r.ajax({type:"POST",url:t.url,data:t.serializer.serializeToString(n),contentType:"text/xml",success:function(e){var n=this.readResponse(e);if(n){var r=n.insertIds[0];"new0"==r?t.source.clear():i.setId(r)}t.map.removeInteraction(t.draw),t.hasDraw=!1},error:function(e){t.map.removeInteraction(t.draw),t.hasDraw=!1;var i=e?e.status+" "+e.statusText:"";alert("Error saving this feature to GeoServer.<br><br>"+i)},context:this})},onAttributesSave:function(t,e){var i=this;r("#mdk-save-button").on("touchend click",function(n){for(var o={},a=0;a<e.length;a++){var h="."+e[a].elId.slice(1);r(h).hasClass("hidden")===!1&&("checkbox"==r(e[a].elId).attr("type")?o[e[a].name]=r(e[a].elId).is(":checked")?1:0:o[e[a].name]=r(e[a].elId).val())}s.closeModal(),i.attributesSaveHandler(t,o),r("#mdk-save-button").blur(),n.preventDefault()})},attributesSaveHandler:function(e,i){var s=i,o=e,a=o.getId(),h=new n.Feature;h.setId(a);for(var l=0;l<t.attributes.length;l++)s.hasOwnProperty(t.attributes[l].name)&&(o.set(t.attributes[l].name,s[t.attributes[l].name]),h.set(t.attributes[l].name,s[t.attributes[l].name]));var u=t.format.writeTransaction(null,[h],null,{gmlOptions:{srsName:t.srsName},featureNS:t.featureNS,featureType:t.featureType});r.ajax({type:"POST",url:t.url,data:t.serializer.serializeToString(u),contentType:"text/xml",success:function(t){},
error:function(t){var e=t?t.status+" "+t.statusText:"";alert("Error saving this feature to GeoServer.<br><br>"+e)},context:this})},removeInteractions:function(){t.map.removeInteraction(t.modify),t.map.removeInteraction(t.select)},activateInsert:function(){t.hasDraw!==!0&&(t.map.addInteraction(t.draw),t.hasDraw=!0)},addListener:function(){var t=function(t){r(t.elDependencyId).on(t.eventType,function(e){var i="."+t.elId.slice(1);r(t.elDependencyId+" option:selected").text()===t.requiredVal?r(i).removeClass("hidden"):r(i).addClass("hidden")})};return t},onAttributes:function(){var e=this,i=t.select.getFeatures();if(1===i.getLength()){var n=i.item(0);if(t.attributes.length>0)var o=t.attributes.map(function(t){var i={};if(r.extend(i,t),i.val=n.get(i.name)||"",i.hasOwnProperty("constraint")){var s=i.constraint.split(":");3===s.length?(i.eventType=s[0],i.dependencyVal=n.get(s[1]),i.requiredVal=s[2],i.dependencyVal===i.requiredVal?i.isVisible=!0:i.isVisible=!1,i.addListener=e.addListener(),i.elId="#input-"+i.name+"-"+i.requiredVal,i.elDependencyId="#input-"+s[1]):alert("Constraint properties are not written correct, it should written as for example change:attribute:value")}else i.isVisible=!0,i.elId="#input-"+i.name;return i.formElement=e.createFormElement(i),i});var a=o.reduce(function(t,e){return t+e.formElement},""),h=t.title,l="<form>"+a+'<br><div class="mdk-form-save"><input id="mdk-save-button" type="button" value="Spara"></input></div></form>';s.createModal("#map",{title:h,content:l}),s.showModal(),o.forEach(function(t){t.hasOwnProperty("addListener")&&t.addListener(t)}),this.onAttributesSave(n,o)}},deleteSelected:function(){var e=t.select.getFeatures();if(1===e.getLength()){var i=e.item(0),n=confirm("Är du säker på att du vill ta bort det här objektet?");if(n===!0){var s=t.format.writeTransaction(null,null,[i],{featureNS:t.featureNS,featureType:t.featureType});r.ajax({type:"POST",url:t.url,data:t.serializer.serializeToString(s),contentType:"text/xml",success:function(e){var n=this.readResponse(e);n&&(1===n.transactionSummary.totalDeleted?(t.select.getFeatures().clear(),t.source.removeFeature(i)):alert("There was an issue deleting the feature."))},context:this})}}},createFormElement:function(t){var e=t.elId.slice(1),i=t.cls||"";i+=e,i+=t.isVisible?"":" hidden";var n,r=t.title,s=t.isVisible?t.val:"",o=t.type,a=t.maxLength?' maxlength="'+t.maxLength+'" ':"",h=t.options||[];switch(o){case"text":n="<div><label>"+r+'</label><br><input type="text" id="'+e+'" value="'+s+'"'+a+"></div>";break;case"textarea":n="<div><label>"+r+'</label><br><textarea id="'+e+'"'+a+'rows="3">'+s+"</textarea></div>";break;case"checkbox":var l=1==s?" checked":"";n='<div class="mdk-form-checkbox"><label>'+r+'</label><input type="checkbox" id="'+e+'" value="'+s+'"'+l+"></div>";break;case"dropdown":var u;u=s?'<option value="'+s+'" selected>'+s+"</option>":'<option value="" selected>Välj</option>',n='<div class="'+i+'"><label>'+r+"</label><br><select id="+e+">"+u;for(var c=0;c<h.length;c++)n+='<option value="'+h[c]+'">'+h[c]+"</option>";n+="</select></div>"}return n}}}()},{"./modal":114,"./viewer":136,jquery:23,openlayers:24}],131:[function(t,e,i){"use strict";t("jquery");e.exports={createButton:function(t){var e="",i="",n=t.cls||"",r=t.iconCls||"",s=t.tooltipPlacement||"east";t.text&&(i='<span class="mdk-button-text">'+t.text+"</span>"),t.tooltipText&&(e='<span data-tooltip="'+t.tooltipText+'" data-placement="'+s+'"></span>');var o='<div id="'+t.id+'" class="mdk-button-container mdk-tooltip"><button class="mdk-button '+n+'">'+i+'<svg class="'+r+'"><use xlink:href="'+t.src+'"></use></svg></button>'+e+"</div>";return o},createListButton:function(t){var e='<li><div id="'+t.id+'-button" class="menu-button"><div class="button-icon"><svg class="'+t.iconCls+'"><use xlink:href="'+t.src+'"></use></svg></div>'+t.text+"</div></li>";return e},createElement:function(t,e,i){var n="<"+t,r="</"+t+">",s=i?i.getOwnProperties():[],o=s.map(function(t){return t+"="+i[t]}),a=n.concat(o.join(" "),">",e,r);return a}}},{jquery:23}],132:[function(t,e,i){"use strict";e.exports=function(){return location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")+location.pathname}},{}],133:[function(t,e,i){"use strict";e.exports=function(t){var e=/(http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/;return e.test(t)}},{}],134:[function(t,e,i){"use strict";var n=function(){function t(t,n,r){var s=r.start||i.start,o=r.end||i.end,a=e(t,n,s,o);return a}function e(t,i,n,r){var s=new RegExp(n+"(.*?)"+r,"g"),o=s.exec(t);if(o){var a=i.hasOwnProperty(o[1])?i[o[1]]:"";return e(t.replace(o[0],a),i,n,r)}return t}var i={start:"{{",end:"}}"};return{replace:function(e,i,n){var r=n||{};return t(e,i,r)}}};e.exports=n()},{}],135:[function(t,e,i){"use strict";var n={};n.objectify=function(t,e){var i=e||{},n=i.delimeter||"/",r=i.topmost||"name",s=t.split(n),o={};if(i.topmost&&(""===s[0]?console.log("Topmost value is missing"):o[r]=s[0]),s.length>1)for(var a=1,h=s.length;h>a;a+=2)o[s[a]]=s[a+1];return o},n.stringify=function(t,e){var i=e||{},n=i.delimeter||"/",r=i.topmost||void 0,s=r?t[r]:"";for(var o in t)o!==r&&(s+=n+o+n+t[o]);return s},n.arrStringify=function(t,e){var i=e||{},n=i.delimeter||"/",r=i.topmost||"",s=r?r+n:"";if("undefined"==typeof t[0][0])s+=t.join(",");else{var o=t.map(function(t){var e=t.map(function(t){return t.join("!")});return e.join(",")});s+=o.join(i.delimeter)}return s},n.strArrayify=function(t,e){var i=e||{},n=i.delimeter||"/",r=e.topmostName||"topmost",s=e.arrName||"arr",o=t.substring(0,t.indexOf(n)),a=t.substring(t.indexOf(n)+1),h=a.split(n).map(function(t){return t.split("!")}),l={};return l[r]=o,l[s]=h,l},n.strIntify=function(t,e){var i=e||{},n=i.delimiter||",",r=t.split(n),s=r.map(function(t){return parseInt(t)});return s},n.strBoolean=function(t){return"1"===t?!0:"0"===t?!1:(console.log("String is not 1 or 0"),!1)},n.formatUrl=function(t){var e=Object.getOwnPropertyNames(t).reduce(function(e,i){return i=e?"&"+i+"="+t[i]:i+"="+t[i],e+i},"");return e},e.exports=n},{}],136:[function(require,module,exports){"use strict";function init(t,e){if($(t).html(template),e.hasOwnProperty("proj4Defs")&&proj4)for(var i=e.proj4Defs,n=0;n<i.length;n++)proj4.defs(i[n].code,i[n].projection),i[n].hasOwnProperty("alias")&&proj4.defs(i[n].alias,proj4.defs(i[n].code));settings.params=urlParams=e.params||{},settings.map=e.map,settings.url=e.url,e.hasOwnProperty("proj4Defs")&&(settings.projectionCode=e.projectionCode||void 0,settings.projectionExtent=e.projectionExtent,settings.projection=new ol.proj.Projection({code:settings.projectionCode,extent:settings.projectionExtent}),settings.resolutions=e.resolutions||void 0,settings.tileGrid=maputils.tileGrid(settings.projectionExtent,settings.resolutions)),settings.extent=e.extent||void 0,settings.center=urlParams.center||e.center,settings.zoom=urlParams.zoom||e.zoom,settings.source=e.source,settings.home=e.home,settings.groups=e.groups,settings.editLayer=e.editLayer,settings.styles=e.styles,createLayers(e.layers,settings.layers,urlParams.layers),settings.controls=e.controls,settings.featureinfoOptions=e.featureinfoOptions||{},window.location.search&&parseArg(),attribution=new ol.control.Attribution({collapsible:!1});var r=new ol.control.Zoom({zoomInTipLabel:" ",zoomOutTipLabel:" ",zoomInLabel:$.parseHTML('<svg class="mdk-icon-fa-plus"><use xlink:href="css/svg/fa-icons.svg#fa-plus"></use></svg>')[0],zoomOutLabel:$.parseHTML('<svg class="mdk-icon-fa-minus"><use xlink:href="css/svg/fa-icons.svg#fa-minus"></use></svg>')[0]});mapControls=[r,attribution,new ol.control.Rotate({label:""}),new ol.control.ScaleLine({target:"bottom-tools"})],window.top!=window.self&&mapwindow.init(),createHome(settings.home),loadMap(),$(window).on("resize",checkSize),checkSize(),urlParams.pin?settings.featureinfoOptions.savedPin=urlParams.pin:urlParams.selection&&(settings.featureinfoOptions.savedSelection=new ol.Feature({geometry:new ol.geom[urlParams.selection.geometryType](urlParams.selection.coordinates)})),featureinfo.init(settings.featureinfoOptions)}function createLayers(t,e,i){for(var n=t.length-1;n>=0;n--){var r={};i&&(r=i[t[n].name.split(":").pop()]||{visible:!1,legend:!1},r.name=t[n].name);var s=$.extend(t[n],r),o=setLayerOptions(s);if("WMTS"==s.type)e.push(addWMTS(s));else if("WMS"==s.type)e.push(addWMS(s));else if("WFS"==s.type){var a=wfs(o);e.push(createVectorLayer(o,a))}else if("AGS_FEATURE"==s.type){var h=agsFeature(o);e.push(createVectorLayer(o,h))}else if("AGS_TILE"==s.type){var l=agsTile(o);e.push(createTileLayer(o,l))}else if("GEOJSON"==s.type){var u=geojson(o);e.push(createVectorLayer(o,u))}else if("XYZ"==s.type){var c=xyz(o);e.push(createTileLayer(o,c))}else"GROUP"==s.type&&e.push(createLayerGroup(s.layers,s))}return e}function setLayerOptions(t){var e,i=t.hasOwnProperty("geometryName")?t.geometryName:"geom",n=t.name.split("__").shift();t.hasOwnProperty("attribution")?e=[new ol.Attribution({html:t.attribution})]:[e=null];var r={featureType:n.split("__").shift(),name:t.name.split(":").pop(),id:t.id||void 0,title:t.title,group:t.group||"none",opacity:t.opacity||1,geometryName:i,filter:t.filter||void 0,relations:t.relations||void 0,layerType:t.layerType||"vector",legend:t.legend||!1,sourceName:t.source,attribution:e,style:t.style||"default",styleName:t.style,tileGrid:t.tileGrid||void 0,queryable:t.hasOwnProperty("queryable")?t.queryable:!0,minResolution:t.hasOwnProperty("minScale")?scaleToResolution(t.minScale):void 0,maxResolution:t.hasOwnProperty("maxScale")?scaleToResolution(t.maxScale):void 0,visible:t.visible,type:t.type||void 0,extent:t.extent||void 0,attributes:t.attributes};return t.hasOwnProperty("clusterStyle")&&(r.clusterStyle=t.clusterStyle),r}function createLayerGroup(t,e){var i=[];return i=createLayers(t,i),new ol.layer.Group({name:e.name,group:e.group,title:e.title,styleName:e.style||"default",layers:i,sourceName:e.source,visible:e.visible})}function loadMap(){map=new ol.Map({target:"map",controls:mapControls,layers:settings.layers,view:new ol.View({extent:settings.extent||void 0,projection:settings.projection||void 0,center:settings.center,resolutions:settings.resolutions||void 0,zoom:settings.zoom})})}function parseArg(){for(var t=window.location.search.substring(1),e=t.split("&"),i=0;i<e.length;i++)if(0==i){var n=e[i].split(",");settings.center[0]=parseInt(n[0]),settings.center[1]=parseInt(n[1])}else if(1==i)settings.zoom=parseInt(e[i]);else if(2==i)for(var r,s,o=e[i].split(";"),a=settings.layers,h=0;h<a.length;h++)s=0,$.each(o,function(t,e){r=e.split(","),a[h].get("group")&&("background"==a[h].get("group")&&r[0]==a[h].get("name")?(a[h].setVisible(!0),s=1):"background"==a[h].get("group")&&0==s?a[h].setVisible(!1):r[0]==a[h].get("name")&&(1==r[1]?(a[h].set("legend",!0),a[h].setVisible(!1)):(a[h].set("legend",!0),a[h].setVisible(!0))))})}function getSettings(){return settings}function getMapName(){return settings.map}function getUrl(){return settings.url}function getStyleSettings(){return settings.styles}function getResolutions(){return settings.resolutions}function getMapUrl(){var t,e="";t=window.location.search?window.location.href.replace(window.location.search,"?"):window.location.href+"?";for(var i=map.getView(),n=i.getCenter(),r=0;2>r;r++)n[r]=parseInt(n[r]);var s=i.getZoom(),o=map.getLayers();return o.forEach(function(t){1==t.getVisible()?e+=t.get("name")+";":1==t.get("legend")&&(e+=t.get("name")+",1;")}),t+n+"&"+s+"&"+e.slice(0,e.lastIndexOf(";"))}function getMap(){return map}function getLayers(){return settings.layers}function getLayer(t){var e=$.grep(settings.layers,function(e){return e.get("name")==t});return e[0]}function getQueryableLayers(){var t=settings.layers.filter(function(t){return t.get("queryable")&&t.getVisible()?t:void 0});return t}function getEditLayer(){return settings.editLayer}function getGroup(t){var t=$.grep(settings.layers,function(e){return e.get("group")==t});return t}function getGroups(){return settings.groups}function getProjectionCode(){return settings.projectionCode}function getProjection(){return settings.projection}function getMapSource(){return settings.source}function getControlNames(){var t=settings.controls.map(function(t){return t.name});return t}function createTileLayer(t,e){var i;return t.source=e,i=new ol.layer.Tile(t)}function createVectorLayer(t,e){var i;switch(t.layerType){case"vector":t.source=e,t.style=createStyle(t.style),i=new ol.layer.Vector(t);break;case"cluster":t.source=new ol.source.Cluster({attributions:t.attribution,source:e,distance:60}),t.style=createStyle(t.style,t.clusterStyle),i=new ol.layer.Vector(t);break;case"image":t.source=new ol.source.ImageVector({source:e,style:createStyle(t.style)}),i=new ol.layer.Image(t)}return i}function addWMS(t){var e;return t.hasOwnProperty("attribution")?e=[new ol.Attribution({html:t.attribution})]:[e=null],new ol.layer.Tile({name:t.name.split(":").pop(),group:t.group||"default",opacity:t.opacity||1,title:t.title,styleName:t.style||"default",extent:t.extent||void 0,minResolution:t.hasOwnProperty("minScale")?scaleToResolution(t.minScale):void 0,maxResolution:t.hasOwnProperty("maxScale")?scaleToResolution(t.maxScale):void 0,type:t.type,visible:t.visible,attributes:t.attributes,queryable:!0,featureinfoLayer:t.featureinfoLayer||void 0,legend:!1,sourceName:t.source,source:new ol.source.TileWMS({attributions:e,url:settings.source[t.source].url,gutter:t.gutter||0,crossOrigin:"anonymous",projection:settings.projection,params:{LAYERS:t.name,TILED:!0,VERSION:settings.source[t.source].version}})})}function addWMTS(t){for(var e=[],i=null,n=settings.source[t.source],r=n.hasOwnProperty("matrixSetName")?n.matrixSetName:settings.projectionCode,s=n.hasOwnProperty("matrixIdsPrefix")?n.matrixIdsPrefix:settings.projectionCode+":",o=0;o<settings.resolutions.length;++o)e[o]=s+o;return t.hasOwnProperty("attribution")?i=[new ol.Attribution({html:t.attribution})]:[i=null],new ol.layer.Tile({group:t.group||"background",name:t.name.split(":").pop(),opacity:t.opacity||1,title:t.title,styleName:t.style||"default",minResolution:t.hasOwnProperty("minScale")?scaleToResolution(t.minScale):void 0,maxResolution:t.hasOwnProperty("maxScale")?scaleToResolution(t.maxScale):void 0,visible:t.visible,type:t.type,queryable:t.queryable||!1,featureinfoLayer:t.featureinfoLayer||void 0,extent:t.extent||settings.extent,sourceName:t.name,source:new ol.source.WMTS({crossOrigin:"anonymous",attributions:i,url:n.url,projection:settings.projection,layer:t.name,matrixSet:r,format:t.format,tileGrid:new ol.tilegrid.WMTS({origin:ol.extent.getTopLeft(settings.projectionExtent),resolutions:settings.resolutions,matrixIds:e}),style:"default"})})}function geojson(t){return new ol.source.Vector({attributions:t.attribution,url:t.sourceName,format:new ol.format.GeoJSON})}function wfs(t){var e=null,i=settings.source[t.sourceName].url,n=t.geometryName,r=t.filter?"&CQL_FILTER="+t.filter+" AND BBOX("+n+",":"&BBOX=",s=t.filter?"'"+settings.projectionCode+"')":settings.projectionCode;return e=new ol.source.Vector({attributions:t.attribution,format:new ol.format.GeoJSON({geometryName:t.geometryName}),loader:function(n,o,a){var h=i+"?service=WFS&version=1.1.0&request=GetFeature&typeName="+t.featureType+"&outputFormat=application/json&srsname="+settings.projectionCode+r+n.join(",")+","+s;$.ajax({url:h,cache:!1}).done(function(t){e.addFeatures(e.getFormat().readFeatures(t))})},strategy:ol.loadingstrategy.tile(ol.tilegrid.createXYZ({maxZoom:settings.resolutions.length}))})}function agsFeature(t){var e=null,i=settings.projectionCode.split(":").pop(),n=settings.source[t.sourceName].url,r=t.filter?"&where="+t.filter:"",s=new ol.format.EsriJSON;return e=new ol.source.Vector({attributions:t.attribution,loader:function(e,o,a){var h=this,l=n+t.id+"/query?f=json&returnGeometry=true&spatialRel=esriSpatialRelIntersects&geometry="+encodeURIComponent('{"xmin":'+e[0]+',"ymin":'+e[1]+',"xmax":'+e[2]+',"ymax":'+e[3]+',"spatialReference":{"wkid":'+i+"}}")+"&geometryType=esriGeometryEnvelope&inSR="+i+"&outFields=*&returnIdsOnly=false&returnCountOnly=false&geometryPrecision=2&outSR="+i+r;$.ajax({url:l,dataType:"jsonp",success:function(t){if(t.error)alert(t.error.message+"\n"+t.error.details.join("\n"));else{var e=s.readFeatures(t,{featureProjection:a});e.length>0&&h.addFeatures(e)}}})},strategy:ol.loadingstrategy.bbox})}function agsTile(t){var e=settings.source[t.sourceName].url,i=t.params||{};i.layers="show:"+t.id;var n=new ol.source.TileArcGISRest({attributions:t.attribution,projection:settings.projection,params:i,url:e});return n}function xyz(t){var e=t.sourceName.split(".")[1],i=t.sourceName.split(".")[0]+"/{z}/{x}/{y}.";i+=e;var n=new ol.source.XYZ({attributions:t.attribution,projection:settings.projection||"EPSG:3857",tileGrid:settings.tileGrid||void 0,url:i});return n}function wfsCql(t,e){var i,n=0;cqlQuery=[];for(var r=0;r<t.length;r++)!function(r){var s=t[r].layer,o=settings.source[getLayer(s).get("sourceName")].url;i=o+"?",data="service=WFS&version=1.0.0&request=GetFeature&typeName="+s+"&outputFormat=json&CQL_FILTER=INTERSECTS(geom,"+e+")&outputFormat=json",$.ajax({url:i,type:"POST",data:data,dataType:"json",success:function(e){var i={};i.layer=t[r].layer,i.url=t[r].url||void 0,i.features=[];for(var s=0;s<e.features.length;s++){var o={};o.attribute=e.features[s].properties[t[r].attribute],o.url=e.features[s].properties[t[r].url]||void 0,i.features.push(o)}cqlQuery.push(i),n++,n>=t.length&&(queryFinished=!0)},error:function(t,e,i){console.log(i)}})}(r)}function getCqlQuery(){return cqlQuery}function modalMoreInfo(){function t(){return queryFinished?(e(),void(queryFinished=!1)):void setTimeout(function(){a>=h&&(h++,t())},100)}function e(){cqlQuery.sort(function(t,e){return t.layer.localeCompare(e.layer)});for(var t=0;t<cqlQuery.length;t++)if(cqlQuery[t].features.length){var e=getLayer(cqlQuery[t].layer);o+="<ul><li>"+e.get("title")+"</li>";for(var i=0;i<cqlQuery[t].features.length;i++){var n=cqlQuery[t].features[i].attribute;o+=cqlQuery[t].features[i].url?'<li><div class="query-item"><a href="'+cqlQuery[t].features[i].url+'" target="_blank">'+n+"</a></div></li>":'<li><div class="query-item">'+n+"</div></li>"}o+="</ul>"}$("#querylist").append(o)}var i=$("#identify").html(),n=$(".popup-title").html();Popup.setVisibility(!1);var r='<ul id="querylist">';r+="</ul>";var s=Modal("#map",{title:n,content:i+r});s.showModal(),$(".modal li").removeClass("hidden");var o="",a=10,h=0;t()}function createStyle(t,e){var i=settings.styles[t];$.isEmptyObject(i)&&alert("Style "+t+" is not defined");var n=settings.styles[e],r=function(){var t=createStyleList(i);if(n){var e=createStyleList(n);return styleFunction(i,t,n,e)}return styleFunction(i,t)}();return r}function createStyleList(t){for(var e=[],i=0;i<t.length;i++){var n,r=[];if(t[i].constructor===Array)for(var s=0;s<t[i].length;s++)n=createStyleOptions(t[i][s]),r.push(new ol.style.Style(n));else n=createStyleOptions(t[i]),r=[new ol.style.Style(n)];e.push(r)}return e}function styleFunction(t,e,i,n){var r=function(r,s){var o,a=getScale(s),h=n?r.get("features").length:1;return o=h>1&&map.getView().getResolution()!=settings.resolutions[settings.resolutions.length+1]?checkOptions(r,a,i,n,h.toString()):checkOptions(r,a,t,e)};return r}function checkScale(t,e,i){if(!e&&!i)return!0;if(e&&i){if(t>e&&i>t)return!0}else if(e){if(t>e)return!0}else if(i&&i>t)return!0}function checkOptions(feature,scale,styleSettings,styleList,size){for(var s=styleSettings,j=0;j<s.length;j++){var styleL;if(checkScale(scale,s[j][0].maxScale,s[j][0].minScale)){if(s[j].some(function(t,e,i){t.hasOwnProperty("text")&&size&&styleList[j][e].getText().setText(size)}),!s[j][0].hasOwnProperty("filter"))return styleL=styleList[j];var featAttr,expr,featMatch,matches=s[j][0].filter.match(/\[(.*?)\]/);if(matches&&(featAttr=matches[1],expr=s[j][0].filter.split("]")[1],featMatch=feature.get(featAttr),expr="number"==typeof featMatch?featMatch+expr:'"'+featMatch+'"'+expr),eval(expr))return styleL=styleList[j]}}}function createStyleOptions(t){var e={};if(t.hasOwnProperty("geometry"))switch(t.geometry){case"centerPoint":e.geometry=function(t){if("Polygon"===t.getGeometry().getType()){var e=t.getGeometry().getInteriorPoint().getFirstCoordinate();return new ol.geom.Point(e)}if("MultiPolygon"===t.getGeometry().getType()){var e=t.getGeometry().getInteriorPoints().getFirstCoordinate();return new ol.geom.Point(e)}}}return t.hasOwnProperty("zIndex")&&(e.zIndex=t.zIndex),t.hasOwnProperty("fill")&&(e.fill=new ol.style.Fill(t.fill)),t.hasOwnProperty("stroke")&&(e.stroke=new ol.style.Stroke(t.stroke)),t.hasOwnProperty("text")&&(e.text=new ol.style.Text(t.text),t.text.hasOwnProperty("fill")&&e.text.setFill(new ol.style.Fill(t.text.fill)),t.text.hasOwnProperty("stroke")&&e.text.setStroke(new ol.style.Stroke(t.text.stroke))),t.hasOwnProperty("icon")&&(e.image=new ol.style.Icon(t.icon)),t.hasOwnProperty("circle")&&(e.image=new ol.style.Circle({radius:t.circle.radius,fill:new ol.style.Fill(t.circle.fill)||void 0,stroke:new ol.style.Stroke(t.circle.stroke)||void 0})),e}function getScale(t){var e=25.4/.28,i=settings.projection.getMetersPerUnit(),n=t*i*39.37*e;return n=Math.round(n)}function scaleToResolution(t){var e=25.4/.28,i=settings.projection.getMetersPerUnit(),n=t/(39.37*i*e);return n}function autoPan(){var t=$(".popup"),e=map.getView().getCenter(),i=$(t).offset(),n=$("#"+map.getTarget()).offset(),r=i.top-n.top,s=map.getSize(),o=n.left+s[0]-(i.left+$(t).outerWidth(!0)),a=0;if(settings.controls.hasOwnProperty("mapmenu")&&(a=settings.controls.mapmenu.getTarget().offset().left>0?s[0]-settings.controls.mapmenu.getTarget().offset().left:a=0),0>r||0+a>o||o>s[0]-$(t).outerWidth(!0)){var h=0,l=0;0+a>o&&(h=(-o+a)*map.getView().getResolution()),o>s[0]-$(t).outerWidth(!0)&&(h=-($(t).outerWidth(!0)-(s[0]-o))*map.getView().getResolution()),0>r&&(l=-r*map.getView().getResolution());var u=ol.animation.pan({duration:300,source:e});map.beforeRender(u),map.getView().setCenter([e[0]+h,e[1]+l])}}function removeOverlays(){var t=map.getOverlays();if(t.length>0)for(var e=0;e<t.length;e++)map.removeOverlay(t[e])}function createHome(t){var e=utils.createButton({id:"home-button",iconCls:"mdk-icon-fa-home",src:"css/svg/fa-icons.svg#fa-home",tooltipText:"Zooma till hela kartan"});$("#map").append(e),$("#home-button").on("touchend click",function(e){map.getView().fit(t,map.getSize()),$("#home-button button").blur(),e.preventDefault()})}function checkSize(){var t=map.getSize()[0]<768;attribution.setCollapsible(t),attribution.setCollapsed(t)}var ol=require("openlayers"),$=require("jquery"),template=require("./templates/viewer.handlebars"),Popup=require("./popup"),Modal=require("./modal"),utils=require("./utils"),featureinfo=require("./featureinfo"),mapwindow=require("./mapwindow"),maputils=require("./maputils"),map,mapControls,attribution,template,settings={projection:"",projectionCode:"",projectionExtent:"",extent:[],center:[0,0],zoom:0,resolutions:null,source:{},group:[],layers:[],styles:{},controls:[],featureInfoOverlay:void 0,editLayer:null},cqlQuery,queryFinished=!1,urlParams;module.exports.init=init,module.exports.createLayers=createLayers,module.exports.createLayerGroup=createLayerGroup,module.exports.loadMap=loadMap,module.exports.parseArg=parseArg,module.exports.getSettings=getSettings,module.exports.getStyleSettings=getStyleSettings,module.exports.getMapUrl=getMapUrl,module.exports.getMap=getMap,module.exports.getLayers=getLayers,module.exports.getLayer=getLayer,module.exports.getControlNames=getControlNames,module.exports.getQueryableLayers=getQueryableLayers,module.exports.getEditLayer=getEditLayer,module.exports.getGroup=getGroup,module.exports.getGroups=getGroups,module.exports.getProjectionCode=getProjectionCode,module.exports.getProjection=getProjection,module.exports.getMapSource=getMapSource,module.exports.getResolutions=getResolutions,module.exports.addWMS=addWMS,module.exports.addWMTS=addWMTS,module.exports.geojson=geojson,module.exports.wfs=wfs,module.exports.wfsCql=wfsCql,module.exports.getCqlQuery=getCqlQuery,module.exports.modalMoreInfo=modalMoreInfo,module.exports.createStyle=createStyle,module.exports.styleFunction=styleFunction,module.exports.createStyleOptions=createStyleOptions,module.exports.getScale=getScale,module.exports.scaleToResolution=scaleToResolution,module.exports.autoPan=autoPan,module.exports.removeOverlays=removeOverlays,module.exports.checkSize=checkSize,module.exports.getMapName=getMapName,module.exports.getUrl=getUrl},{"./featureinfo":102,"./maputils":112,"./mapwindow":113,"./modal":114,"./popup":118,"./templates/viewer.handlebars":129,"./utils":131,jquery:23,openlayers:24}]},{},[98])(98)});